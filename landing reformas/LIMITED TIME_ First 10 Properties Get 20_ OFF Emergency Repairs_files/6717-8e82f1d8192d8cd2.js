(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6717],{21:(e,t,n)=>{"use strict";n.d(t,{t0:()=>L,Sg:()=>E,CP:()=>j});var i=n(37243),a=n(94289);n(47665);var r=n(42721),s=n(83747),l=n(95011),o=n(90047);class c{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs.code;return!!t&&this.findImages(t).length>0}findImages(e){return Array.from(new DOMParser().parseFromString(e,"text/html").querySelectorAll(this.selector))}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){let n=this.getNodeId(e),i=t.interactionId;return"".concat(i,"__").concat(this.nodeType,"__").concat(n)}async processNode(e,t){let n=e.attrs,{code:i}=n,a=new DOMParser().parseFromString(i,"text/html"),r=Array.from(a.querySelectorAll(this.selector));return await Promise.all(r.map(async e=>{try{let n=e.getAttribute("prompt")||e.getAttribute("query"),i=await (0,o.ap)({loadImageId:e.id,loadImageParams:{provider:"ICON"===e.tagName?"icon":"aiGenerated",query:n,options:{}},context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent},imageStore:t.imageStore});e.src=i.src||"",e.alt=i.query||"",e.removeAttribute("prompt")}catch(t){console.error("Failed to load image:",t),e.removeAttribute("prompt")}})),{...n,aiGenerateStatus:"done",code:a.body.innerHTML}}constructor(){this.nodeType="cardCodeItem",this.selector="img[prompt], icon[query]"}}var d=n(62964),u=n(50861);class p{detectNode(e){return!!(e.type.name===this.nodeType&&this.getNodeId(e)&&e.attrs&&!e.attrs.embed&&e.attrs.embedFetchStatus===u.fu)}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){let n=this.getNodeId(e),i=t.interactionId;return"".concat(i,"__").concat(this.nodeType,"__").concat(n)}async processNode(e){try{if(e.attrs.embed||e.attrs.embedFetchStatus!==u.fu)return e.attrs;let t=(0,u.lQ)(e.attrs);if(!t)return e.attrs;let n=await (0,d.MP)(t);return{...e.attrs,embedFetchStatus:u.oS,embed:n.embed}}catch(t){return console.error("[EmbedFetchNodeProcessor] Error processing ".concat(this.nodeType,":"),t),{...e.attrs,embedFetchStatus:u.oS}}}constructor(e){this.nodeType=e}}var h=n(45574),g=n(1057);class m{detectNode(e){if("cardImageItem"===e.type.name)return!1;let t=(0,h.um)(e);return!!(t&&"queued"===t.loadImageStatus&&t.loadImageId&&t.loadImageParams)}getNodeId(e){let t=(0,h.um)(e);return(null==t?void 0:t.loadImageId)||null}getCacheKey(e,t){var n;let i=this.getNodeId(e),a=t.interactionId,r=null==(n=(0,h.um)(e).loadImageParams)?void 0:n.query;return r||console.error("[ImageProcesor.getCacheKey] No query for in loadImageParams"),"".concat(a,"__").concat(this.nodeType,"__").concat(i,"__").concat(r)}async processNode(e,t){let n=(0,h.um)(e);try{let i=n.loadImageParams,a=await (0,o.ap)({loadImageId:n.loadImageId,loadImageParams:i,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent},imageStore:t.imageStore});return(0,h.wH)(e,a)}catch(n){if(console.error("[ImageProcessor] Error processing ".concat(this.nodeType,":"),n),"cardAccentLayoutItem"===e.type.name&&t.theme)return{...e.attrs,background:(0,g.gN)(t.theme,t.cardId)};return(0,h.wH)(e,{loadImageStatus:"error"})}}constructor(){this.nodeType="image"}}class x extends m{detectNode(e){if("cardImageItem"!==e.type.name)return!1;let t=(0,h.um)(e);return!!(t&&"queued"===t.loadImageStatus&&t.loadImageId&&t.loadImageParams)}async processNode(e,t){let n=(0,h.um)(e);try{let i=await (0,o.cu)({context:t,imageAttrs:n,loadImageId:n.loadImageId});return(0,h.wH)(e,i)}catch(t){return console.error("[ImageCardProcessor] Error processing ".concat(this.nodeType,":"),t),(0,h.wH)(e,{loadImageStatus:"error"})}}constructor(...e){super(...e),this.nodeType="cardImageItem"}}var f=n(25778),b=n(56939),C=n(43634),y=n(13357);class v{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs;return!!(t&&t.aiGenerateParams&&"queued"===t.aiGenerateStatus)}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){var n;let i=this.getNodeId(e),a=t.interactionId,r=e.attrs,s=r.templateKey,l=null==(n=r.aiGenerateParams)?void 0:n.prompt;return l||console.error("[SmartDiagramProcessor.getCacheKey] No prompt in aiGenerateParams"),"".concat(a,"__").concat(this.nodeType,"__").concat(i,"__").concat(s,"__").concat(l)}async populateIcons(e,t){if(Array.isArray(e))await Promise.all(e.map(e=>this.populateIcons(e,t)));else if(e&&"object"==typeof e){if(e.icon&&"object"==typeof e.icon&&e.icon.query)try{let n={provider:"icon",query:e.icon.query,options:{}},i=await (0,o.ap)({loadImageId:"icon-".concat(Date.now(),"-").concat(Math.random()),loadImageParams:n,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent},imageStore:t.imageStore});i.src&&(e.icon=i)}catch(t){console.error("Error fetching icon:",e.icon.query,t)}await Promise.all(Object.values(e).map(e=>this.populateIcons(e,t)))}}async processNode(e,t){let n=e.attrs||{};try{var i;let e=(0,f.KA)().getState(),a=(0,C.K)(e)||{},r=(0,C.SJ)(e),s={license:a.license,provider:a.provider,stylePrompt:a.generateStyle||(null==r||null==(i=r.config)?void 0:i.stylePrompt),model:a.model,stylePreset:a.stylePreset,visualsMenuEnabled:a.visualsMenuEnabled,artStylePreset:a.artStylePreset,artStylePrompt:a.artStylePrompt},l=await (0,y.SS)({prompt:n.aiGenerateParams.prompt,language:n.aiGenerateParams.language,variant:n.templateKey,sectionContext:n.aiGenerateParams.sectionContext,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent}});await this.populateIcons(l.data,t),await this.processImagesInData(l.data,t,s);let o=(0,b.FV)(l.variant);return{...n,templateKey:l.variant,aiGenerateStatus:"done",horizontalAlign:"center",data:{...l.data,colorScheme:null==o?void 0:o.defaultColorScheme}}}catch(t){console.error("[SmartDiagramProcessor] Error processing ".concat(this.nodeType,":"),t);let e=n.templateKey?(0,b.FV)(n.templateKey):void 0;return{...n,aiGenerateStatus:"error",data:{colorScheme:null==e?void 0:e.defaultColorScheme}}}}async processImagesInData(e,t,n){if(Array.isArray(e))await Promise.all(e.map(e=>this.processImagesInData(e,t,n)));else if(e&&"object"==typeof e){if(e.image&&"object"==typeof e.image&&e.image.query&&!e.image.loadImageParams&&!e.image.src)try{let i=(0,o.eG)({...n,query:e.image.query,provider:e.image.provider||n.provider}),a=await (0,o.ap)({loadImageId:i.loadImageId,loadImageParams:i.loadImageParams,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent},imageStore:t.imageStore});Object.assign(e.image,i,a,{loadImageStatus:"done"})}catch(t){console.error("[SmartDiagramProcessor] Error processing image:",e.image.query,t),Object.assign(e.image,{loadImageStatus:"error"})}await Promise.all(Object.values(e).map(e=>this.processImagesInData(e,t,n)))}}constructor(){this.nodeType="smartDiagram"}}let w=()=>[new v,new x,new m,new c,new p("video"),new p("embed")],A=new Map,k=new Map,L=new s.b,j=async e=>{let{editor:t,rootNode:n,theme:i,interactionId:a,traceparent:s,workspaceId:o,docId:c,startPos:d,endPos:u,cardDimensions:p}=e,h=w(),g=new l.t;n.descendants((e,n)=>{if((!d||!(n<d))&&(!u||!(n>u)))for(let n of h){if(!n.detectNode(e))continue;let l=n.getNodeId(e);if(!l)continue;let d={docId:c||t.gammaDocId,workspaceId:o||t.gammaOrgId||(0,r.gx)(),interactionId:a,theme:i,cardDimensions:p,imageStore:g,traceparent:s},u=n.getCacheKey(e,d);if(k.has(u)){S(t,l,n,k.get(u));continue}if(A.has(u)){A.get(u).then(e=>{S(t,l,n,e)});continue}let h=n.processNode(e,d);A.set(u,h),h.then(i=>{k.set(u,i),S(t,l,n,i),L.emit("processed",{node:e,attrs:i,processor:n,interactionId:d.interactionId,docId:d.docId})});break}})},E=async e=>{let{editor:t,content:n,theme:i,interactionId:r,workspaceId:s,docId:l,traceparent:o,cardDimensions:c}=e,d=a.bP.fromJSON(t.state.schema,n);j({editor:t,rootNode:d,theme:i,interactionId:r,traceparent:o,workspaceId:s,docId:l,cardDimensions:c})},S=(e,t,n,a)=>{let r=(0,i.xe)(e.state.doc,e=>n.getNodeId(e)===t)[0];if(!r)return void console.error("[updateAsyncNodeAttrs] Could not find node with id=".concat(t));let s=e.chain();s.updateAttributesAtPos(r.pos,a),s.noUndo&&s.noUndo(),s.run()}},216:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var i=n(6029),a=n(53996),r=n(33170),s=n(55729),l=n(26053);let o={width:"16px",height:"22px"},c=(0,s.forwardRef)((e,t)=>{let{icon:n="⋮",isVisible:s,isSelected:c,label:d,onClick:u,onDragStart:p,...h}=e,{color:g,bg:m,hoverColor:x,hoverBg:f,borderColor:b}=(0,l.Nb)(c);return(0,i.jsx)(r.Tz,{placement:"top",label:c?void 0:d,children:(0,i.jsx)(a.o,{ref:t,position:"absolute",width:o.width,height:o.height,fontWeight:"900",fontFamily:"body",background:m,backdropFilter:"blur(8px)",border:"1px solid",borderColor:b,color:g,borderRadius:"sm",boxShadow:"sm",fontSize:"16px",cursor:"pointer",opacity:c||s?1:0,_hover:{color:x,background:f,opacity:1},...h,className:"drag-handle",onClick:u,onDragStart:p,draggable:!0,contentEditable:!1,_after:{position:"absolute",content:'""',inset:-2},children:n})})});c.displayName="BaseDragHandle"},1079:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,J:()=>i});let i="support@gamma.app",a={CREATE_NEW_GAMMA:"https://help.gamma.app/en/articles/7838093-how-to-create-a-new-presentation-document-or-webpage-with-gamma-ai",ADD_BLOCKS:"https://help.gamma.app/en/articles/7898153-how-to-add-blocks-and-content",CHANGE_THEME:"https://help.gamma.app/en/articles/10262646-how-to-change-the-theme-in-gamma",EDIT_WITH_AI:"https://help.gamma.app/en/articles/8033284-how-to-edit-content-using-ai",PRESENT_MODE:"https://help.gamma.app/en/articles/8032935-how-to-present-your-gamma",EXPORT:"https://help.gamma.app/en/articles/8022861-how-to-export-gammas",AI_CREDITS:"https://help.gamma.app/en/articles/7834324-about-how-ai-credits-work",EARN_CREDITS_WITH_REFERRALS:"https://help.gamma.app/en/articles/7834324-about-how-ai-credits-work",UPGRADE_TO_PAID:"https://help.gamma.app/en/articles/8077107-about-upgrading-your-workspace-to-gamma-s-paid-plans",CANCELLATION:"https://help.gamma.app/en/articles/8568920-how-to-manage-or-cancel-your-gamma-subscription",CREATE_SITE:"https://help.gamma.app/en/articles/8429268-how-to-create-a-site",PUBLISH_SITE:"https://help.gamma.app/en/collections/12178914-websites-publishing"}},1558:(e,t,n)=>{"use strict";n.d(t,{_V:()=>ez,zs:()=>eh.zs,uy:()=>eh.uy,N2:()=>eh.N2,RR:()=>w.R,$k:()=>eh.$k,CU:()=>eh.CU,iZ:()=>eh.iZ,No:()=>eh.No,F8:()=>eh.F8,GP:()=>eh.GP,BS:()=>eh.BS,sI:()=>eh.sI,Zu:()=>eh.Zu,WE:()=>eh.WE});var i=n(37243),a=n(59275),r=n(63867),s=n(29614),l=n(45611),o=n(8327),c=n(25778),d=n(55978),u=n(73326),p=n(15607),h=n(38194),g=n(38934),m=n(46957),x=n(97255);let f=new r.hs("convertToGridLayout"),b=()=>new r.k_({key:f,props:{decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{"image"===e.type.name&&"cardLayoutItem"===i.type.name&&n.push(x.NZ.node(t,t+e.nodeSize,{},{isTopLevel:!0}))}),x.zF.create(t,n)}}});var C=n(98088),y=n(50861),v=n(84979),w=n(86364),A=n(55504);let k=e=>new r.k_({key:new r.hs("imageDrop"),props:{handleDOMEvents:{drop:t=>{var n,i;let a,r=(null==(n=t.dragging)?void 0:n.operation)||"insert";if("replace"!==r)return!1;let s=null==(i=t.dragging)?void 0:i.slice;try{if(!(a=(0,A.i)(t,event,s,r)))return!1}catch(e){return console.error("(caught) [ImagePlugin] handleDrop error:",e),!1}try{let t=null==s?void 0:s.content.toJSON(),{pos:n,node:i}=a;e.chain().insertContentAt({from:n,to:n+i.nodeSize},t[0],{updateSelection:!1}).run()}catch(e){return!1}return!0}}}});var L=n(6029),j=n(26420),E=n(74676),S=n(48810),M=n(97481),I=n.n(M),_=n(55729),D=n(27002),R=n(59230),T=n(14122),z=n(89703),H=n(43634),N=n(11403),B=n(67097),P=n(61679),F=n(54765),V=n(28647),O=n(58082),Z=n(24903),W=n(66082),U=n(25600),G=n(55847),K=n(14389),Q=n(98968),q=n(22216),J=n(95168),$=n(45002),Y=n(71093),X=n(10789),ee=n(38636),et=n(66824),en=n(26006),ei=n(45460),ea=n(40452),er=n(19564),es=n(77650),el=n(5061),eo=n(78893),ec=n(33201),ed=n(5872),eu=n(46510),ep=n(64056),eh=n(61250),eg=n(99492),em=n(55597),ex=n(84130),ef=n(35292),eb=n(94844),eC=n(37537),ey=n(90184),ev=n(99038),ew=n(70015),eA=n(49249),ek=n(83143);let eL=e=>{let t,{editor:n,node:a,getPos:r}=e,s=r();if("number"==typeof s)try{t=(0,i.eL)(n.state.doc.resolve(s),Q.Pb)}catch(e){console.error("[caught] useImageContextMenuItems error: ".concat(e))}let l=!!t,{resize:o,fullWidthBlock:c,id:d,clickBehavior:u}=a.attrs,{startRemoveBg:p,isRemovingBg:h}=(0,eA.D)({editor:n,id:d}),g=(0,y.gk)(u),{startCrop:m}=(0,et.E)(n),x=(0,_.useCallback)(()=>{let e=r();"number"==typeof e&&(n.commands.selectNodeAtPos(e),h&&w.R.emit("cancelRemoveBg",{id:d}),n.chain().deleteSelectionAndSelectNear().run())},[n,d,h,r]),f=(0,z.f)(),b=(0,_.useCallback)(e=>{n.commands.updateAttributes(ez.name,{clickBehavior:e})},[n]),C=(0,ew.d)({editor:n,node:a,getPos:r,imageSrc:a.attrs.src}),v=(0,D.u)("disableRemoveBackground"),A=(0,ef.l)(a.attrs),k=(0,D.u)("buddyEditGa"),{toggleBuddyChatPanel:j,isBuddyChatPanelOpen:E}=(0,eb.n)(),{toggleBuddyChatPanel:S,isBuddyChatPanelOpen:M}=(0,eC.Cy)();return{contextMenuItems:[...C,{divider:!0},{key:"edit-image",label:(0,L.jsx)(er.x6,{id:"9IrgTy"}),icon:eg.MT7,onClick:()=>{n.view.focus(),f({isOpen:!0})}},...A?[{key:"ask-ai",label:(0,L.jsx)(er.x6,{id:"DDxKHn",values:{AGENT_PROPER_NOUN:ev.qV}}),icon:em.p7g,onClick:()=>{k?M||S():(E||j(),setTimeout(()=>{ex.W.emit("prefillMessage",{message:""})},200))}}]:[],...v?[]:[{key:"remove-background",label:h?(0,L.jsx)(er.x6,{id:"RdqLb7"}):(0,L.jsx)(er.x6,{id:"ylbfBl"}),icon:h?eg.z1G:eg.sAw,rightIcon:h?void 0:(0,L.jsx)(ey.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:h,onClick:p}],...l?[]:[{key:"crop",label:(0,L.jsx)(er.x6,{id:"qKx+US"}),icon:eg.K1P,onClick:()=>{let e=r();"number"==typeof e&&(n.commands.selectNodeAtPos(e),m({id:d,clipType:null==o?void 0:o.clipType}))}}],...(0,ek.bT)(a)?[{key:"reset-formatting",label:(0,L.jsx)(er.x6,{id:"5eaf8Z"}),icon:eg.U23,onClick:()=>(0,ek.LQ)(n)}]:[],{divider:!0},{key:"add-comment",label:(0,L.jsx)(er.x6,{id:"oFsfkI"}),icon:eg.DN2,onClick:()=>{let e=r();"number"==typeof e&&(n.commands.selectNodeAtPos(e),(0,Q.wG)(n.state.selection))}},{divider:!0},...l?[]:[{key:"align",label:(0,L.jsx)(er.x6,{id:"9ms+e0"}),icon:eg.ecg,disabled:c,items:W.gj.map(e=>{let{name:t,key:i,icon:a,checkActive:r,apply:s}=e;return{key:i,icon:r&&r(n)?eg.e68:a,label:t(),onClick:()=>{s&&s(n),c&&n.commands.updateAttributes(ez.name,{fullWidthBlock:!1,resize:{...o,width:null}})}}})}],{key:"click-action",label:(0,L.jsx)(er.x6,{id:"PWv7TI"}),icon:eg.ii0,items:[{key:"do-nothing",icon:"none"===g?eg.e68:void 0,label:(0,L.jsx)(er.x6,{id:"gIjBW2"}),onClick:()=>b("none")},{key:"expand",icon:"expand"===g?eg.e68:void 0,label:(0,L.jsx)(er.x6,{id:"1A3EXy"}),onClick:()=>b("expand")},{key:"new-tab",icon:"newTab"===g?eg.e68:void 0,label:(0,L.jsx)(er.x6,{id:"Alx2/L"}),onClick:()=>{let e=r();"number"==typeof e&&(n.commands.selectNodeAtPos(e),b("newTab"))}}]},...l?[{divider:!0},{key:"edit-gallery",icon:eg.Qyz,label:(0,L.jsx)(er.x6,{id:"uv9eFb"}),onClick:()=>{t&&n.commands.selectNodeAtPos(t.pos)}}]:[],{divider:!0},{key:"delete",label:(0,L.jsx)(er.x6,{id:"cnGeoo"}),icon:eg.yLS,onClick:x,color:"red.500"}]}},ej=e=>e.some(e=>e.spec.isTopLevel),eE=(e,t)=>ej((0,ec.j5)(e,t)),eS=e=>{let{node:t}=e;return(0,i.BQ)(e)&&(null==t?void 0:t.type.name)==="image"},eM=e=>{let{editor:t,event:n,isCropping:i}=e,a=t.view,{selection:s}=a.state;if(!(s instanceof r.nh)||!t.isEditable)return!1;let{node:l}=s,o=s.from,c=s.to;if(!eS(s))return!1;let d=n.target,u=d.getAttribute("data-media-add-text"),p=eE(t,o);if(!u||!p||i)return!1;let h=(0,ep.eq)({view:a,from:o,to:c,node:l}),g=(0,ep.Sm)({horizontalAlign:h,eventTarget:d,node:l,editor:t}),m=(0,ep.Cn)({eventTarget:d,horizontalAlign:h,nodeSize:l.nodeSize,editor:t}),x=(0,ep.I4)({horizontalAlign:h,prevPos:o});return t.chain().insertContentAt({from:o,to:c},g,{updateSelection:!1}).setMeta("annotationEvent",{type:"move",insertPos:x,insertPosRaw:x,pos:o,end:c}).focusMapped(o,m).run(),!1},eI=(0,ei.R)((e,t)=>{let{children:n,resizeableSx:i,alignStyles:a,horizontalAlign:r,decorations:s,editor:l,node:o,isDark:d,isResizing:u,getPos:p}=e,h=o.attrs.id,g=(0,c.GV)((0,eh.iZ)(h)),m=ej(s),x=(0,c.GV)(H.Cl),f=x&&m&&!g&&("right"===r||"center"===r),b=x&&m&&!g&&(!r||"left"===r||"center"===r),[C,y]=(0,_.useState)({side:null,id:null}),{contextMenuItems:v}=eL({editor:l,node:o,getPos:p}),{onOpenContextMenu:w}=(0,eo.$)({editor:l,getPos:p,contextMenuItems:v});return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(ea.s,{dir:(0,W.fZ)(s,r),"data-media-node-wrapper":!0,"data-testid":"image-node-wrapper",onContextMenu:w,ref:t,h:"100%",w:"100%",direction:f||b?"row":"column",className:ed.S,sx:{...i},onClick:e=>{eM({editor:l,event:e,isCropping:g})},css:{...a,...f||b?{alignItems:"stretch"}:{}},onDragOver:e=>{if(e.preventDefault(),!C){var t;let n=(0,eu.Vk)(l.view,e,null==(t=l.view.dragging)?void 0:t.slice),i=(0,eu.rj)(e.target,l.view),a=null==n?void 0:n.node.attrs.id;n&&i&&a&&(y({side:i,id:a}),setTimeout(()=>{y(null)},5e3))}},onDragEnd:e=>{e.preventDefault(),C&&y(null)},onDragLeave:e=>{e.preventDefault(),y(null)},children:[f&&(0,L.jsx)(j.a,{"data-media-add-side":"left",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==C?void 0:C.side)==="left"&&(null==C?void 0:C.id)===o.attrs.id?(0,L.jsx)(eD,{me:4}):(0,L.jsx)(e_,{side:"left",me:4,isDark:d,isResizing:u})}),n,b&&(0,L.jsx)(j.a,{"data-media-add-side":"right",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==C?void 0:C.side)==="right"&&(null==C?void 0:C.id)===o.attrs.id?(0,L.jsx)(eD,{ms:4}):(0,L.jsx)(e_,{side:"right",ms:4,isDark:d,isResizing:u})})]})})}),e_=e=>{let{side:t,isDark:n,isResizing:i,...a}=e,r=(0,el.fW)();return(0,L.jsx)(j.a,{p:2,flex:"1",borderRadius:"lg","data-media-add-text":!0,opacity:0,height:"100%",transitionProperty:"common",transitionDuration:"normal",...a,cursor:"text",css:{"@container (width < 150px)":{display:"none"},"&:after":{position:"absolute",top:0,..."left"===t?{right:"var(--chakra-space-4)"}:{left:"var(--chakra-space-4)"},backgroundColor:n?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",color:n?"var(--chakra-colors-whiteAlpha-700)":"var(--chakra-colors-gray-600)",zIndex:1,borderRadius:"var(--chakra-radii-lg)",content:'"'.concat(es.Ru._({id:"HpUrSQ"}),'"'),textAlign:r?"right":"left",fontSize:"var(--chakra-fontSizes-sm)",padding:"var(--chakra-space-2)",width:"calc(100% - var(--chakra-space-4) - var(--chakra-space-2) - var(--chakra-space-2))",height:"calc(100% - var(--chakra-space-2) - var(--chakra-space-2))"},"&:hover":{opacity:+!i}}})},eD=e=>(0,L.jsx)(j.a,{p:2,flex:"1",height:"100%",borderRadius:"lg",transitionProperty:"common",transitionDuration:"normal",background:"var(--chakra-ring-color)",color:"var(--chakra-colors-whiteAlpha-900)",display:"flex",alignItems:"center",justifyContent:"center",...e,css:{"@container (width < 150px)":{display:"none"}},children:(0,L.jsx)(S.E,{fontSize:"sm",fontWeight:"medium",children:(0,L.jsx)(er.x6,{id:"Wv5uRs"})})}),eR=e=>{let{...t}=e,n=(0,c.jL)(),{node:i,editor:a,updateAttributes:r,selected:s,decorations:l,getPos:o}=t,{src:d,tempUrl:u,uploadStatus:p,meta:h,showPlaceholder:g,horizontalAlign:m,resize:x,id:f,href:b,clickBehavior:C,source:A}=i.attrs,k=(null==x?void 0:x.width)||(null==h?void 0:h.width),E=(0,B.SV)(d||u),S=(0,B.y9)(d||u)||(null==h?void 0:h.frame_count)&&h.frame_count>1,M=null==h?void 0:h.has_transparency,ei=(0,P.D)(A),{isFullWidth:ea}=(0,V.D)(l),{isFullBleed:er}=(0,G.J7)(l),es=(0,W.yp)(ea?"center":m),el=(0,Q.NZ)(t),eo=el||er,ec=(0,Q.ni)(t),ed=(0,Q.Im)(t),eu=(0,U.DM)(l),ep=(0,c.GV)(H.nD),eg=(0,Z.Q)(a),{cardColor:em,bodyColor:ex,primaryColor:ef,primaryColorLight:eb,isDark:eC}=(0,O.a)(t.decorations),ey=p===R.A.Uploading,ev=ep?"expand":(0,y.gk)(C),ew="newTab"===ev&&!!b,ek=(0,c.GV)(D.Gm),{isZoomed:eL,enterZoom:ej,exitZoom:eE}=(0,Y.RL)(f),{width:eS,height:eM,aspectRatio:e_,containerWrapperRef:eD,imageRef:eR,setSize:ez}=(0,en.j)();(0,_.useEffect)(()=>w.R.on("startCrop",e=>{let{id:t}=e;f===t&&(ez(),requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)}))}),[f,ez,a]);let eH=(0,_.useCallback)(e=>{r(I()({},i.attrs,e,{meta:{has_transparency:!0}}))},[r,i.attrs]),{bgRemovalInProgress:eN,removeBgUrl:eB}=(0,eA._)({editor:a,id:i.attrs.id,src:i.attrs.src,updateAttributes:eH}),{ref:eP,isResizing:eF,setIsResizing:eV,resizeableSx:eO}=(0,$.Y3)(a),eZ=eP.current&&eu&&!eo&&!eg,eW=eP.current&&!eo&&!eg,eU=(0,_.useCallback)((e,t)=>{r({...i.attrs,fullWidthBlock:void 0===t?i.attrs.fullWidthBlock:t,resize:{...i.attrs.resize,...e}})},[i.attrs,r]),eG=(0,N.jm)(),eK=(0,c.GV)((0,eh.iZ)(f)),{confirmCrop:eQ}=(0,et.E)(a);(0,N.Vg)(()=>{if(eK&&!s&&eQ({id:f}),!s){var e,t;eV(!1),null==(e=(t=a.commands).forceHideBubbleMenu)||e.call(t,!1)}},[a,n,s,eK,f,eQ,eV],[s]);let eq=!eK&&!eF&&!eo&&!a.isThumbnail,eJ=!a.isThumbnail&&"expand"===ev,e$=(0,_.useCallback)(()=>{eK||eF||ej()},[ej,eK,eF]),eY=(0,z.f)(),eX=(0,_.useMemo)(()=>{if(!eo&&ep)return()=>{eY({isOpen:!0})}},[eo,ep,eY]),e0=(0,_.useCallback)(()=>{if(s){var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)}},[s,a]),e1=eB?{...i.attrs,src:eB,tempUrl:i.attrs.src}:i.attrs,e2=ed?{height:(0,Q.w5)((0,Q.IG)(t),(0,Q.yL)(t)),padding:"".concat((0,Q.yL)(t)/2,"em ").concat((0,Q.yL)(t),"em")}:{};return(0,L.jsxs)(F.u,{...t,as:"div",className:ep||"none"!==ev?void 0:v.T,style:{height:eo?"100%":void 0},children:[(g||!d&&!u)&&(0,L.jsx)(J.V,{...t}),!g&&(d||u)&&(0,L.jsxs)(eI,{ref:eD,resizeableSx:eO,alignStyles:es,horizontalAlign:m,editor:a,decorations:l,node:i,isDark:eC,isResizing:eF,getPos:o,children:[eW&&eK&&(0,L.jsx)(X.Ft,{imageWrapperRef:eP,updateResizeAttrs:eU,refreshDeps:[eG],currentWidth:eS,currentHeight:eM,clipPath:null==x?void 0:x.clipPath,clipAspectRatio:null==x?void 0:x.clipAspectRatio,onFinishCrop:()=>{requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)})}}),eZ&&!eK&&s&&!ea&&(0,L.jsx)($.u4,{imageWrapperRef:eP,setIsResizing:eV,updateResizeAttrs:eU,refreshDeps:[i.attrs,eG]}),(0,L.jsxs)(j.a,{ref:eP,css:{mask:eK?"":"none !important","--media-maxH":!ey||eF||(null==x?void 0:x.width)||eo?void 0:"".concat(100*K.Mg,"vh")},sx:M?void 0:T.z,"data-drag-handle":!0,"data-image-node-element":!0,"data-selection-ring":"inside","data-selection-background":!0,"data-node-image-testid":f,w:eo?"100%":ea?"calc(100% * var(--media-scale))":k?"calc(".concat(k," * var(--font-size) / 16)"):E?"300px":"fit-content",maxW:eo?"100%":"calc(100% * var(--media-scale))",position:"relative",overflow:"hidden",...eo?{h:ec||er?"100%":void 0,display:"flex",justifyContent:"center",alignContent:"center"}:{},children:[eJ&&(0,L.jsx)(Y.Kc,{enterZoom:e$,doubleClickNonZoomHandler:eX}),ek&&(0,L.jsx)(eT,{imageAttrs:e1}),(0,L.jsx)(ee.F,{containerWidth:eS,intrinsicAspectRatio:e_||void 0,isCroppingThisImage:eK,imageAttrs:e1,onLoad:e0,linkHref:ew?b||"":void 0,filter:ei?"url(#theme-body-color-fill)":void 0,ref:eR,width:el&&!er?"auto":k||eF||ea||E?"100%":null==h?void 0:h.width,minW:eo?"100%":void 0,objectFit:eo?"cover":"contain",isThumbnail:eo||a.isThumbnail,flex:ec?1:void 0,containerProps:{display:ec?"flex":"block"},shouldUseImgProxyCrop:ec&&!S&&!E,colors:{bodyColor:ex,accentColor:ef,accentColorLight:eb},...e2}),eq&&(0,L.jsx)(Y.Gx,{isZoomed:eL,exitZoom:eE,editor:a,children:(0,L.jsx)(ee.F,{imageAttrs:i.attrs,backgroundColor:em,colors:{bodyColor:ex,accentColor:ef,accentColorLight:eb},w:E?"80vw":void 0,isZoomed:!0})}),(ey||eN)&&ep&&(0,L.jsx)(q.Td,{removeBackground:eN}),p==R.A.Error&&(0,L.jsx)(q.Hy,{})]})]})]})},eT=e=>{let{imageAttrs:t}=e;return(0,L.jsxs)(j.a,{position:"absolute",as:"span",maxW:"95%",zIndex:1,bottom:0,m:1,children:[(0,L.jsx)(E.E,{maxW:"100%",colorScheme:"green",m:0,children:(0,L.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["url: ",t.src]})}),(0,L.jsx)(E.E,{maxW:"100%",colorScheme:"yellow",children:(0,L.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["tempUrl: ",t.tempUrl]})})]})},ez=a.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:g.y.Image,expandable:!0,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,u.gu)(eR,{update:m.z0}),parseHTML:()=>[{tag:"img[".concat(s.A0,"]"),getAttrs:l.K},{tag:"img[bookmark]",getAttrs:h.Ll},{tag:"img[src], img[tempUrl]"},{tag:"div[class=card-accent-layout-item]",context:"cardLayoutItem//",getAttrs:e=>{try{let t=JSON.parse(e.getAttribute("data-background")||"{}");if("image"!==t.type||!t.image)return!1;let n={...t.image,source:t.source};return(0,y.Ez)(n)}catch(t){return console.error("[Image] Error parsing accent image background",e,t),!1}}}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,i.KV)(this.options.HTMLAttributes,t,{loading:"lazy"})]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,i=(0,o.ve)(t.attrs);if(!n){let e=(0,h.vL)(t);return["img",{id:t.attrs.id,bookmark:e,alt:i,src:t.attrs.src,source:t.attrs.source}]}return["img",(0,o.Rj)(t.attrs,i||"")]},addAttributes:()=>({id:(0,d.e)(C.z),savedMediaId:{},src:{},tempUrl:{},uploadStatus:{},meta:{...(0,p.tb)("meta")},providerMeta:{...(0,p.tb)("providerMeta")},aiParams:{...(0,p.tb)("aiParams")},loadImageParams:{...(0,p.tb)("loadImageParams")},loadImageStatus:{},loadImageId:{},name:{},query:{},source:{},showPlaceholder:{},fullWidthBlock:{default:!1},horizontalAlign:{},resize:{...(0,p.tb)("resize"),default:v.P},clickBehavior:{default:null},href:{default:null}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;if(n instanceof r.nh&&n.node.type.name===a.Ay.name){let e=(0,eh.Hu)((0,c.KA)().getState()),{id:t}=n.node.attrs;if(e)return w.R.emit("endClip",{id:t,confirm:!0}),!0}return!1}}),addProseMirrorPlugins(){return[new r.k_({key:new r.hs("imageDrag"),props:{handleDOMEvents:{dragstart:(e,t)=>{var n;let{selection:a}=e.state,r=(0,i.BQ)(a)&&(null==(n=a.node)?void 0:n.type.name)==="image"?a.node.attrs.id:null;if(r){let e=(0,c.KA)().getState();if((0,eh.iZ)(r)(e))return t.preventDefault(),!0}return!1}}}}),b(),k(this.editor)]},addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof r.nh&&n.node.type.name===e?n.node:void 0};return{resetImageClip:()=>n=>{let{chain:i,state:a}=n,r=t(a);if(!r)return console.warn("[resetImageClip] Selected node is not an image: ",a.selection),!0;let{clipPath:s,clipType:l,clipAspectRatio:o}=v.P;return i().updateAttributes(e,{resize:{...r.attrs.resize,clipPath:s,clipType:l,clipAspectRatio:o}}).run()},resetImageScale:()=>n=>{let{chain:i,state:a}=n,r=t(a);return r?i().updateAttributes(e,{resize:{...r.attrs.resize,width:null,isAuto:null}}).run():(console.warn("[resetImageClip] Selected node is not an image: ",a.selection),!0)}}}});n(58617),n(58638)},1636:(e,t,n)=>{"use strict";n.d(t,{o:()=>W});var i=n(37243),a=n(63867),r=n(71029),s=n(73326),l=n(15607),o=n(38934),c=n(92938),d=n(46957),u=n(3298),p=n(55424),h=n(28700),g=n(53138),m=n(36145),x=n(55847),f=n(90278);class b{constructor(e=null){this.dragging=e}}let C=new a.hs("smartLayoutPlugin"),y=e=>new a.k_({key:C,state:{init:()=>new b,apply:(e,t)=>t},props:{decorations:e=>(0,x.r$)(e),handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=C.getState(e.state);if(!i)return!1;i.dragging=n}},handleDrop:(t,n,i)=>{let a=C.getState(t.state),r=null==a?void 0:a.dragging;return a&&(a.dragging=null),!!(w(e,t,n,i)||A(e,t,n,i,r)||v(e,t,n,i))},handlePaste:(t,n,i)=>{let{selection:r}=t.state;if(!(r instanceof a.nh&&(0,p.q)(r.node)))return!1;let s=(0,m.bC)(e,n,i),l=(0,h.H)(i);if(l&&"image"!==l.type.name&&!s)return!1;let o=s?s.attrs:null==l?void 0:l.attrs;return e.commands.updateNestedAttributesAtPos(r.from,{image:o}),s&&s.upload(),!0}}}),v=(e,t,n,i)=>{let a=(0,f.fc)(t,n,i);if(!a)return!1;let r=(0,f.oO)(n),s=null,l=a.image;r&&(l=(s=(0,g.YC)(r,e)).content.attrs);let o=t.state.tr;return o.setNodeAttribute(a.pos,"image",l),null==s||s.upload(),o.deleteSelection(),t.dispatch(o),!0},w=(e,t,n,i)=>{let a=(0,f.TS)(t,n,i);if(!a)return!1;let r=t.state.tr;return r.setNodeAttribute(a.pos,"variantKey",a.variantKey),t.dispatch(r),e.commands.selectNodeAtPos(a.pos),!0},A=(e,t,n,i,a)=>{let r=null;try{if(!(r=(0,f.eL)(t,n,i)))return!1}catch(e){return!1}try{let{selection:n}=t.state,s=!n.empty,{node:l,pos:o,side:c}=r;if(o>n.from&&o<n.to)return!0;let d=i.content.toJSON(),u="left"===c||"top"===c?o:o+l.nodeSize;e.chain().insertContentAt({from:u,to:u},d,{updateSelection:!1}).command(e=>{let{tr:t}=e;return s&&t.deleteSelection(),a&&t.setMeta("annotationEvent",{type:"drop",dragging:a,droppedBlockPos:u+1}),!0}).focusMapped(u,1).run()}catch(e){console.error("(caught) [SmartLayoutPlugin] handleDrop error:",e)}return!0};var k=n(6029),L=n(21938),j=n(77650),E=n(55729),S=n(25778),M=n(78893),I=n(43634),_=n(54765),D=n(43216);n(66082);var R=n(43541),T=n(10500),z=n(51684),H=n(99492),N=n(19564),B=n(95889),P=n(70015),F=n(86687),V=n(6494);let O=e=>{let{editor:t,node:n,getPos:i,options:a}=e,{variantKey:r}=n.attrs,s=(0,V.BJ)(r),l=(0,E.useCallback)(e=>{let n=i();"number"==typeof n&&t.commands.updateNestedAttributesAtPos(n,e)},[t,i]),o=(0,E.useCallback)(e=>{B.zS.track(B.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:r,newVariant:e,method:"context-menu"}),l({variantKey:e})},[l,r]),c=(0,E.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),d=(0,E.useMemo)(()=>{let e=n.attrs;return s.options.map(s=>{var o,c;if(s.checkEnabled&&!s.checkEnabled({options:a,attrs:e,node:n}))return null;let d=null!=(c=a[s.key])?c:null==(o=s.defaultValue)?void 0:o.call(s,{ctx:"menu"});return s.ControlMenu?s.ControlMenu(d,(e,o)=>{if(l({options:{...a,[s.key]:e}}),B.zS.track(B.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:r,optionKey:s.key,previousValue:d,newValue:e,updateChildren:o,method:"context-menu"}),o){let a=i();"number"==typeof a&&n.forEach((n,i)=>{t.commands.updateNestedAttributesAtPos(a+i+1,{options:{...n.attrs.options,[s.key]:e}})})}},s):null}).filter(e=>null!==e)},[s.options,r,n,a,l,t.commands,i]),u=(0,P.d)({editor:t,getPos:i,node:n,includeCut:!1}),p=(0,E.useMemo)(()=>(0,F.ML)().map(e=>({key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,items:e.variants.map(e=>{let t=e.variant,n=r===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:n?(0,k.jsx)(T.S,{}):void 0,onClick:()=>o(t.key)}})})),[r,o]);return{contextMenuItems:[{key:"title",title:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(N.x6,{id:"kLxOTV"}),"\xa0",s.name()]})},{divider:!0},...u,{divider:!0},...d.length?[...d,{key:"divider",divider:!0}]:[],{key:"switch-layout",label:(0,k.jsx)(N.x6,{id:"FRoFGK"}),icon:z.swh,items:p},{divider:!0},{key:"delete",label:(0,k.jsx)(N.x6,{id:"cnGeoo"}),icon:H.yLS,onClick:c,color:"red.500"}]}},Z=e=>{let{node:t,decorations:n,editor:i,getPos:a}=e,r=t.attrs,l=(0,V.BJ)(r.variantKey),o=l.config?R.yd:l.Wrapper,c=(0,x.Rv)(n),d=(0,f.aG)(r,c.direction),u=(0,S.GV)(I.nD),p=(0,S.GV)(I.SJ),{contextMenuItems:h}=O({editor:i,node:t,getPos:a,options:d}),{onOpenContextMenu:g}=(0,M.$)({editor:i,contextMenuItems:h,getPos:a}),m=(0,E.useMemo)(()=>({onClick:e=>{if(e.currentTarget===e.target){let e=a();"number"==typeof e&&i.commands.selectNodeAtPos(e)}},cursor:u?"auto":"default"}),[i,a,u]);return(0,k.jsxs)(_.u,{...e,dir:c.direction,className:(0,L.cx)(u&&"is-editable"),style:{position:"relative",display:"grid",gridTemplateColumns:"100%"},children:[o&&(0,k.jsx)(o,{...c,onContextMenu:g,options:d,theme:p,variant:l,node:t,selectLayoutForElementProps:m,children:(0,k.jsx)(s.$p,{"data-node-view-content-outer":"smartLayout"})}),(0,k.jsx)(D.A,{...e,handlePlacement:"outside",label:j.Ru._({id:"Szg6OU"}),"data-testid":"smart-layout-drag-handle"})]})},W=i.bP.create({name:"smartLayout",group:"cardBlock layoutBlock",content:"smartLayoutCell+",isolating:!0,containerHandle:!0,defining:!0,priority:o.y.SmartLayout,addAttributes:()=>({variantKey:{default:void 0},options:{default:{},...(0,l.tb)("options")},fullWidthBlock:{default:!1}}),parseHTML:()=>[{tag:"div[class=smart-layout]"},...Object.values((0,V.aQ)()).map(e=>({tag:[e.htmlTag].filter(Boolean).join(", "),getAttrs:t=>({variantKey:e.key,options:U(t,e)})})),{tag:"smart-layout[variant]",getAttrs:e=>{let t=e.getAttribute("variant"),n=(0,V.BJ)(t);return{variantKey:n.key,options:U(e,n)}}}],renderHTMLforAI(e){let{node:t}=e,n=(0,V.BJ)(t.attrs.variantKey),i={};return n.options.forEach(e=>{var n,a;let r=null!=(a=t.attrs.options[e.key])?a:null==(n=e.defaultValue)?void 0:n.call(e);i[e.key]=null===r?void 0:"string"==typeof r?r:JSON.stringify(r)}),["smart-layout",{...i,variant:n.key},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,i.KV)(t,{class:"smart-layout"}),0]},addNodeView:()=>(0,s.gu)(Z,{update:d.z0,ignoreMutation:r.I}),addProseMirrorPlugins(){return[y(this.editor)]},addCommands:()=>({insertSmartLayoutCell:e=>t=>{var n,a;let{chain:r,state:s}=t,l=s.doc.resolve(e),o=(0,i.eL)(l,e=>"smartLayout"===e.type.name),c=null==o?void 0:o.node.lastChild;if(!o||!c)return!1;let d=c.attrs,p=(0,u.Hg)(null==(n=c.firstChild)?void 0:n.attrs.level);return r().insertContentAt(e,{type:"smartLayoutCell",content:p,attrs:{image:{source:null==(a=d.image)?void 0:a.source}}}).selectInsertedNode().run(),!0},handleSmartLayoutDelete:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{dispatch:r,state:s,tr:l,chain:o}=n;if(!r)return!0;let{selection:d}=s,u=d instanceof a.nh&&(0,p.q)(d.node)?{node:d.node,pos:d.from}:(0,i.KP)(e=>"smartLayoutCell"===e.type.name)(s.selection);if(e&&u&&u.pos!==d.from)return!1;let h=(0,i.KP)(e=>"smartLayout"===e.type.name)(s.selection);if(!u||!h)return!1;if(1==h.node.childCount)o().selectNodeAtPos(h.pos).deleteSelectionAndSelectNear(t?1:-1).run();else{let e=l.doc.resolve(u.pos);(0,c.K)(l,e,t)}return!0}},handleEmphasizeCell:(e,t)=>n=>{let{chain:a,state:r}=n,s=r.doc.resolve(e),l=(0,i.eL)(s,e=>"smartLayout"===e.type.name),o=null==l?void 0:l.pos;return null==l||l.node.forEach((n,i)=>{if(!o)return!1;let r=n.attrs.options,s=o+1+i;return a().updateNestedAttributesAtPos(s,{options:{...r,isEmphasized:s===e&&t}}).run(),!0}),!0}})}),U=(e,t)=>{let n=t.defaultOptions||{};return t.options.forEach(t=>{let i=e.getAttribute(t.key);if(i){let a;try{a=JSON.parse(i)}catch(e){a=i}return t.validator&&!t.validator(a)?void console.error("Invalid value for ".concat(t.key,": ").concat(a),e.outerHTML):void(n[t.key]=a)}if(t.getDefaultOnParse&&void 0===n[t.key]){n[t.key]=t.getDefaultOnParse(e);return}}),n}},1739:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>w,mk:()=>A});var i=n(6029),a=n(37243),r=n(63867),s=n(55729),l=n(47317),o=n(15607),c=n(38934),d=n(59712);let u=(e,t)=>(n,i)=>{let a={...n.getState(e.view.state)};a.active=!0,a.key=i,a.query="",t.setMeta(n,a)};var p=n(58809),h=n(25778),g=n(6181),m=n(80180);let x=e=>{let{ref:t,pickerInstance:n}=e;(0,s.useImperativeHandle)(t,()=>{let e=e=>{var t,i,a;let r=null==(a=n.component)||null==(i=a.refs)||null==(t=i.searchInput)?void 0:t.current;if(r){let{key:t,code:n}=e;r.dispatchEvent(new KeyboardEvent("keydown",{key:t,code:n}))}return e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(n.key)&&e(n)}}})},f=(0,s.forwardRef)((e,t)=>{let{query:n,onSelect:a}=e,r=(0,h.GV)(p.Jo),o=(0,g.Iy)("edit",r),[c,d]=(0,s.useState)(null),u=(0,s.useCallback)(e=>{if(d(e),e.shadowRoot){let t=document.createElement("style");t.innerHTML="nav + div.padding-lr { display: none }",e.shadowRoot.appendChild(t)}e.addEventListener("mousedown",m.Fw)},[]);x({ref:t,pickerInstance:c}),(0,s.useEffect)(()=>{var e,t,i;if(!c)return;let a=null==(i=c.component)||null==(t=i.refs)||null==(e=t.searchInput)?void 0:e.current;a&&(a.value=n,a.dispatchEvent(new Event("input",{bubbles:!0})))},[c,n]);let f=(0,s.useCallback)(e=>{let t=(0,l.F8)(e.id);t&&a(t)},[a]);return o?(0,i.jsx)(l.pP,{onCreate:u,perLine:9,searchPosition:"sticky",handlePick:f,shouldFocusSearch:!1,dataTargetName:"emoji-list"}):(0,i.jsx)(i.Fragment,{})});var b=n(28603);let C=/:([a-zA-Z0-9_+-]+):$/,y=new r.hs("EmojiMenu"),v=e=>{let t=(0,l.$n)(e);return{id:e.id,native:t}},w=a.bP.create({name:"emoji",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{},native:{}}),addStorage:()=>({hasMigrated:!1,isMigrationScheduled:!1}),parseHTML:()=>[{tag:"span.emoji:not([id])",skip:!0},{tag:"span[class=emoji]"}],addCommands(){return{openEmojiPicker:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t=>{let{commands:n,tr:i,editor:a}=t;return u(a,i)(y,":"),!e||n.insertContent(":")}},migrateNativeEmojis:()=>e=>{let{editor:t}=e;return!this.storage.hasMigrated&&!this.storage.isMigrationScheduled&&(this.storage.isMigrationScheduled=!0,l.eX.then(()=>{t.commands.command(e=>{let{tr:t,state:n}=e,{doc:i,schema:a}=n;return i.descendants((e,n,i)=>{k({node:e,pos:n,parent:i,tr:t,schema:a})}),this.storage.hasMigrated=!0,this.storage.isMigrationScheduled=!1,!0})}),!0)}}},addInputRules:()=>[new a.fV({find:C,handler:e=>{let{range:t,match:n,commands:i}=e,a=n[1],r=(0,l.F8)(a);if(!r)return;let s=v(r);i.insertContentAt(t,{type:"emoji",attrs:s})}})],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["span",(0,a.KV)(t,{class:"emoji"}),"".concat(n.attrs.native||"�")]},renderHTMLforAI(e){let{node:t}=e;return t.attrs.native||""},renderText(e){let{node:t}=e;return"".concat(t.attrs.native||"�")},addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("emojiTransform"),appendTransaction:(e,t,n)=>(0,o.g4)(e,n,k)})]}),A=(0,d.e$)({name:"emojiShortcuts",char:":",pluginKey:y,MenuComponent:(0,s.forwardRef)((e,t)=>{let{query:n,editor:a}=e;return a.isEditable?(0,i.jsx)(f,{ref:t,query:n,onSelect:e=>{let{id:t}=e,i=(0,l.$n)(e),r=a.state.selection;a.chain().deleteRange({from:r.from-n.length-1,to:r.to}).insertContent({type:"emoji",attrs:{id:t,native:i}}).insertContent(" ").run()}}):null}),priority:c.y.EmojiShortcuts}),k=e=>{let{node:t,pos:n,tr:i,schema:a}=e;if(!(0,l.Gm)())return!1;if(!t.isText||!t.text)return!0;let r=t.marks.map(e=>e.toJSON()),{replaced:s,nodes:o}=(0,b.Z)(t.text,r);try{s&&i.replaceWith(i.mapping.map(n),i.mapping.map(n+t.nodeSize),o.map(e=>a.nodeFromJSON(e)))}catch(e){console.error("[migratePlugin] Error migrating emoji",{err:e,pos:n,text:t.text,node:t,nodes:o})}return!0}},1970:(e,t,n)=>{"use strict";n.r(t)},2320:(e,t,n)=>{"use strict";n.d(t,{A:()=>W,c:()=>U});var i=n(63867),a=n(6029),r=n(48810),s=n(58959),l=n(96990),o=n(40452),c=n(3276),d=n(99492),u=n(55597),p=n(48621),h=n(33170),g=n(19564),m=n(97139),x=n.n(m),f=n(21157),b=n.n(f),C=n(55729),y=n(88586),v=n(39247),w=n(58809),A=n(99038),k=n(75748),L=n(25778),j=n(42643),E=n(59712),S=n(6181),M=n(80180),I=n(82328);let _=(e,t,n)=>RegExp(t?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,n?"gu":"gui"),D=()=>(0,a.jsx)(g.x6,{id:"eZHH8X",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),R=e=>{let{html:t}=e;return(0,a.jsx)(r.E,{paddingInlineStart:"0.2rem",wordBreak:"break-word",noOfLines:1,maxW:300,lineHeight:"1.5",dangerouslySetInnerHTML:{__html:t?x().sanitize(t):""}})},T=e=>e.replace(/(<em>|<\/em>)/g,""),z=e=>{let{result:t}=e,{__typename:n}=t;return"User"===n?(0,a.jsxs)(s.z,{children:[(0,a.jsx)(l.e,{size:"2xs",minWidth:4,m:0,name:t.displayName&&T(t.displayName),src:t.profileImageUrl}),(0,a.jsx)(R,{html:t.displayName})]}):"Card"===n?(0,a.jsxs)(s.z,{children:[(0,a.jsx)(o.s,{color:"gray.600",minWidth:4,justifyContent:"flex-end",children:(0,a.jsx)(p.g,{icon:u.ZPt,transform:{size:6}})}),(0,a.jsx)(R,{html:t.title})]}):"DocResult"===n?(0,a.jsx)(j.xT,{result:t,context:"mentionsList"}):(console.warn("[MentionList] Invalid __typename for search result:",t.__typename),null)},H=(0,C.forwardRef)((e,t)=>{let{result:n,index:i,selectedIndex:r,selectItem:s,...l}=e;return(0,a.jsx)(h.nh,{ref:t,tabIndex:i===r?0:-1,onClick:()=>s(i),onMouseDown:M.Fw,...l,children:(0,a.jsx)(z,{result:n})},i)}),N=(0,a.jsx)(p.g,{icon:d.vti}),B=(0,a.jsx)(p.g,{icon:d.vGi}),P=(0,a.jsx)(p.g,{icon:d.hP6}),F={Card:{title:(0,a.jsx)(g.x6,{id:"gXnPmp",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),iconComponent:N},DocResult:{title:b()(A.Ix),iconComponent:B},User:{title:(0,a.jsx)(g.x6,{id:"1wdjme"}),iconComponent:P}},V=(0,C.forwardRef)((e,t)=>{var n,i,l;let{editor:d,query:u,command:p}=e,{isConnected:m}=(0,y.utY)(),x=(0,L.GV)(w.Jo),f=(0,C.useMemo)(()=>{let e=null==x?void 0:x.collaborators;return(null==e?void 0:e.map(e=>e.user))||[]},[x]),{user:b,currentWorkspace:A}=(0,S.ur)(),{data:j,previousData:M,loading:R}=function(e,t){let{isConnected:n}=(0,I.u)(),i=!e||!t||!n;var a=[(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.User],query:e},skip:i}),(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.Doc],query:e},skip:i})];function r(e,t,n){n&&(e[t]||(e[t]={search:[]}),e[t].search=[...e[t].search,...n.search])}return a.reduce((e,t)=>{let{data:n,previousData:i,error:a,loading:s}=t;return!n&&s&&i&&(n=i),r(e,"data",n),r(e,"previousData",i),s&&(e.loading=!0),a&&(e.error=a),e},{})}(u,(null==b||null==(l=b.workspaceMemberships)||null==(i=l.find(e=>{var t;return(null==(t=e.workspace)?void 0:t.id)===d.gammaOrgId}))||null==(n=i.workspace)?void 0:n.id)||(null==A?void 0:A.id)),{searchDocs:z,searchUsers:N}=(0,C.useMemo)(()=>{let e=_(u,!0,!1),t=(j?j.search:M?M.search:[]).filter(e=>"User"===e.__typename),n=(j?j.search:M?M.search:[]).filter(e=>"DocResult"===e.__typename),i=f.filter(e=>!t.find(t=>t.id===e.id)).filter(e=>{var t,n;return(null==(t=e.email)?void 0:t.startsWith(u.toLowerCase()))||(null==(n=e.displayName)?void 0:n.toLowerCase().includes(u.toLowerCase()))}),a=[...t,...i].map(t=>{var n;return{...t,displayName:null==(n=t.displayName)?void 0:n.replace(e,"<em>$&</em>")}});return{searchDocs:u?[...n]:[],searchUsers:u?a:[]}},[j,M,u,f]),B=(0,L.GV)(v.rZ),P=[...N,...(0,C.useMemo)(()=>{let e=_(u,!0,!1);return u?B.map(t=>{let n=t.title||"";if(n.match(e)){let i=n.replace(e,"<em>$&</em>");return{...t,title:i,__typename:"Card"}}return null}).filter(Boolean):[]},[B,u]),...z],V=e=>{let t=P[e]?{...P[e]}:null;t&&("User"===t.__typename&&t.displayName&&(t.displayName=T(t.displayName)),"Card"===t.__typename&&(t.docId=d.gammaDocId),p({item:t,user:b}))},{selectedIndex:O,selectedItemEl:Z}=(0,E.Rj)({ref:t,selectItem:V,options:P}),U=d.state.selection,G=!U.$anchor.parent.isLeaf&&U.$anchor.parent.textContent===W;return 0===u.length&&G?(0,a.jsx)(o.s,{w:"100%",p:1,align:"flex-start",justify:"flex-start",flex:"1",mt:-9,marginStart:3,"data-testid":"mention-list-empty",children:(0,a.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,a.jsx)(D,{})})}):(0,a.jsx)(h.qF,{"data-testid":"mention-list",children:(0,a.jsxs)(h.QE,{"data-target-name":"mention-list",w:"540px",maxW:"90vw",overflowY:"auto",maxH:"65vh",sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},children:[(0,a.jsx)(k.r,{isConnected:m,description:(0,a.jsx)(g.x6,{id:"KnLL/m"})}),0===u.length?(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,"data-testid":"mention-list-empty",children:(0,a.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,a.jsx)(D,{})})}):!R&&u.length>1&&0===P.length?(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,a.jsx)(r.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(g.x6,{id:"0+jt9a"})})}):null,P.map((e,t)=>{let n=P.findIndex(t=>t.__typename===e.__typename)===t&&e.__typename?F[e.__typename]:null;return(0,a.jsxs)(C.Fragment,{children:[n&&(0,a.jsxs)(s.z,{mt:4,mb:2,color:"gray.500",children:[n.iconComponent,(0,a.jsx)(h._x,{children:n.title})]}),(0,a.jsx)(H,{"data-testid":"mention-list-item-".concat(e.id),ref:t===O?Z:null,result:e,index:t,selectedIndex:O,selectItem:V},t)]},e.id)}),R&&(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,a.jsx)(c.y,{opacity:"0.8",size:"xs"})})]})})});var O=n(38934);let Z=new i.hs("MentionGamma"),W="@",U=(0,E.e$)({name:"GammaMention",char:W,pluginKey:Z,allowSpaces:!0,MenuComponent:V,priority:O.y.MentionSuggestionMenu,command:e=>{let{editor:t,range:n,props:i}=e,{item:a,user:r}=i;if("User"===a.__typename){let{id:e,displayName:i,profileImageUrl:s}=a,{id:l}=r;t.commands.addUserMention({id:e,label:i,profileImageUrl:s,mentionedById:l},n)}else if("Card"===a.__typename){let{id:e,docId:i}=a,{id:s}=r;t.commands.addCardMention({id:e,docId:i,mentionedById:s},n)}else if("DocResult"===a.__typename){let{id:e}=a,{id:i}=r;t.commands.addDocMention({id:e,mentionedById:i},n)}}})},2426:(e,t,n)=>{"use strict";n.d(t,{bY:()=>u,dX:()=>c});var i=n(37243),a=n(63867),r=n(37393),s=n(23460),l=n(15607),o=n(8098);let c=new a.hs("menuFormattingBubble");class d{initialize(e){let{element:t,tippyOptions:n,panelLifecycle:i,onHide:a,targetElement:r}=e;if(!t)return void console.warn("[FormattingBubbleMenuView] initialize. No element provided");this.onHide=a,this.element=t,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.view.dom.addEventListener("dragend",this.dragendHandler),this.view.dom.addEventListener("drop",this.dragendHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(n,r),this.element.style.visibility="visible",document.addEventListener("mousedown",this.mousedownDocumentHandler,!0),document.addEventListener("mouseup",this.mouseupDocumentHandler,!0),this.boundHideHandler=this.hide.bind(this),o.q.on("hide",this.boundHideHandler),i&&(this.cleanupPanelLifecycle=i.on("resize",()=>{var e;null==(e=this.tippy.popperInstance)||e.update()}))}createTooltip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t||this.view.dom.parentElement;this.tippy=(0,r.Ay)(n,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...e}),this.editor.commands.command(e=>{let{tr:t}=e;return t.setMeta(c,{tippyInstance:this.tippy}),!0})}update(e,t){let n=t&&c.getState(t),a=c.getState(e.state),{state:r,composing:o}=e,{doc:d,selection:u}=r,h=t&&t.doc.eq(d)&&t.selection.eq(u)&&this.isEditable===this.editor.isEditable&&(null==n?void 0:n.forceHide)===a.forceHide;if(!this.element){if(!a.element)return;this.initialize(a)}if(this.isEditable=this.editor.isEditable,!this.editor.isEditable||!0===a.forceHide)return void this.hide();if(o||h)return;let{empty:g,ranges:m}=u,x=Math.min(...m.map(e=>e.$from.pos)),f=Math.max(...m.map(e=>e.$to.pos)),b=!d.textBetween(x,f).length&&(0,i.eE)(e.state.selection);if(g||b){let e=u.$anchor.marks().some(e=>"link"===e.type.name)||"button"===u.$anchor.parent.type.name,t=(0,i.Nx)(d,{from:x,to:f},e=>"emoji"===e.type.name);if(!e&&(null==t?void 0:t.length)===0)return void this.hide()}this.tippy.setProps({getReferenceClientRect:()=>{if(!(0,i.BQ)(e.state.selection))return(0,i.MG)(e,x,f);let t=e.nodeDOM(x);return t&&(0,s.sb)(t)?(p(t,".drag-handle")||p(t,"[data-content-reference]")||t).getBoundingClientRect():(0,i.MG)(e,x,f)}}),!this.isMouseDownOutsideMenu&&(0,l.We)(this.editor)&&this.show()}show(){this.tippy.show(),document.body.classList.add("formatting-menu-open")}hide(){this.onHide&&"function"==typeof this.onHide&&this.onHide(),this.tippy.hide(),document.body.classList.remove("formatting-menu-open")}destroy(){var e,t;null==(e=this.tippy)||e.destroy(),null==(t=this.element)||t.removeEventListener("mousedown",this.mousedownHandler),document.removeEventListener("mousedown",this.mousedownDocumentHandler,!0),document.removeEventListener("mouseup",this.mouseupDocumentHandler,!0),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.boundHideHandler&&o.q.off("hide",this.boundHideHandler),this.cleanupPanelLifecycle&&this.cleanupPanelLifecycle()}constructor({editor:e,view:t}){this.preventHide=!1,this.mousedownDocumentHandler=e=>{this.element.contains(e.target)?this.isMouseDownOutsideMenu=!1:this.isMouseDownOutsideMenu=!0},this.mouseupDocumentHandler=()=>{this.isMouseDownOutsideMenu=!1,this.update(this.editor.view)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.dragendHandler=()=>{this.isMouseDownOutsideMenu=!1,setTimeout(()=>this.update(this.editor.view))},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=e=>{var t;let{event:n}=e;if(this.preventHide){this.preventHide=!1;return}(null==n?void 0:n.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(n.relatedTarget))||this.hide()},this.editor=e,this.isEditable=e.isEditable,this.view=t}}let u=i.YY.create({name:"formattingBubbleMenu",addCommands:()=>({forceHideBubbleMenu:e=>t=>{let{tr:n}=t;return n.setMeta(c,{forceHide:e}),!0},refreshBubbleMenu:()=>e=>{var t;let{state:n}=e,{tippyInstance:i}=c.getState(n);return null==i||null==(t=i.popperInstance)||t.forceUpdate(),!0}}),addProseMirrorPlugins(){let{editor:e}=this;return[new a.k_({key:c,state:{init:()=>({element:null,forceHide:!1,onHide:()=>{},tippyOptions:{},tippyInstance:null}),apply(e,t){let n=e.getMeta(c);return n?{...t,...n}:t}},view:t=>new d({view:t,editor:e})})]}}),p=(e,t)=>{let n=e.querySelector(t),i=e.querySelector("[data-node-view-wrapper]");return n&&i&&(0,s.xX)(n,e,e=>e.hasAttribute("data-node-view-wrapper"))===i?n:null}},2681:(e,t,n)=>{"use strict";n.d(t,{Q5:()=>C,gf:()=>b,ms:()=>f,tJ:()=>y});var i=n(6029),a=n(27229),r=n(8527),s=n(10486),l=n(49611),o=n(2241),c=n(54578),d=n(87613),u=n(33170),p=n(55729);let[h,g]=(0,c.q)({strict:!1,name:"DropdownContext"}),[m,x]=(0,c.q)({name:"DropdownStylesContext",errorMessage:"useDropdownStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Dropdown />\" "}),f=e=>{let{isOpen:t,onClose:n,onToggle:l}=(0,a.j)(),o=(0,r.o)("Dropdown",e),c=(0,s.E)({placement:"bottom-start"}),d=(0,p.useMemo)(()=>({isOpen:t,onClose:n,onToggle:l,popper:c}),[t,n,l,c]);return(0,i.jsx)(h,{value:d,children:(0,i.jsx)(m,{value:o,children:(0,i.jsx)(u.qF,{...e})})})},b=e=>{let{children:t,as:n,...a}=e,{popper:r,onToggle:s}=g(),c=n||l.$;return(0,i.jsx)(c,{...a,ref:r.referenceRef,onClick:(0,d.H)(e.onClick,s),children:(0,i.jsx)(o.B.span,{__css:{pointerEvents:"none",flex:"1 1 auto",justifyContent:"flex-start",display:"flex",minW:0},children:t})})},C=e=>{var t,n;let{children:a,...r}=e,{isOpen:s,popper:l}=g(),c=x();if(!s)return null;let d=l.getPopperProps({...e,style:{visibility:s?"visible":"hidden",...e.style}});return(0,i.jsx)(o.B.div,{...r,mt:2,minWidth:"var(--chakra-sizes-48)",ref:l.popperRef,...d,__css:{zIndex:null!=(n=e.zIndex)?n:null==(t=c.list)?void 0:t.zIndex},children:(0,i.jsx)(u.QE,{children:a})})},y=e=>{let{onToggle:t}=g();return(0,i.jsx)(u.nh,{...e,onClick:(0,d.H)(e.onClick,t)})}},3131:(e,t,n)=>{"use strict";n.d(t,{Rz:()=>I,Xz:()=>M,hU:()=>T,pH:()=>B,in:()=>D,pE:()=>R,kO:()=>F,yC:()=>N,CX:()=>P,vp:()=>_});var i=n(77650),a=n(96557),r=n.n(a),s=n(58495),l=n(91938),o=n(43183),c=n(17859),d=n(88586),u=n(6359),p=n(58929),h=n(27002),g=n(99038),m=n(11390);let x={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/bfl.a86f9951.png",height:2256,width:2561,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3KG9qAAAACnRSTlMBQFJgcRSXuCaFPo2lFwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADBJREFUeJwlxcENwDAMA7GTJdvJ/gsHRT8kAP0B1P73dTjAVU8ZFGkGeiuVDccuS3oOugCSP0iVmQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},f={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/google-gemini.9684c9bb.svg",height:28,width:28,blurWidth:0,blurHeight:0},b={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/openai.9e224d80.svg",height:320,width:320,blurWidth:0,blurHeight:0},C={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/recraft.93345919.svg",height:112,width:112,blurWidth:0,blurHeight:0},y="Recraft",v="Qwen",w={creatorLabel:()=>"Ideogram",image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ideogram.8efa42ed.svg",height:1e3,width:1e3,blurWidth:0,blurHeight:0},flag:"ideogram",provider:"ideogram"},A={creatorLabel:()=>"Luma",image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/luma.cb337efe.png",height:773,width:773,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/eFplAAAADHRSTlMAtCpmPA2+o1LqxpEc7o9kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nDWJyQ0AIAzD0pvC/vuiBpGPLQcAIsDpcXKJPDGpL7uUV3eKjXmmMSEGFxNgAJCEwikWAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"lumaPhoton",provider:"luma"},k={creatorLabel:()=>"Qwen",image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/qwen.51ebc742.svg",height:200,width:200,blurWidth:0,blurHeight:0},provider:"baseten"},L=["flux-1-quick","imagen-3-flash","qwen-image-fast","flux-kontext-fast","ideogram-v3-flash"],j=["ideogram-v3-turbo","flux-1-pro","imagen-3-pro"],E=["gemini-2.5-flash-image","ideogram-v3","imagen-4-pro"],S=["flux-1-ultra","imagen-4-ultra"],M={"playground-2.5":"flux-1-schnell","stable-diffusion-xl-v1-0":"flux-1-schnell","playground-3":"flux-1-pro","ideogram-v2-turbo":"ideogram-v3-turbo","ideogram-v2":"ideogram-v3","hidream-i1-fast":"qwen-image-fast","hidream-i1-dev":"qwen-image","hidream-i1-full":"qwen-image"},I={"gemini-2.5-flash-image":{label:()=>"Gemini 2.5 Flash",description:()=>i.Ru._({id:"cz18QE"}),creatorLabel:()=>"Google",image:f,productFeature:"ai_premium_models",flag:"gemini25FlashImage",fallbackModels:r()(E,"gemini-2.5-flash-image"),provider:"google",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:2,badge:"new",cost:20},"flux-1-schnell":{label:()=>"Flux Fast",description:()=>i.Ru._({id:"iksSRU",values:{FLUX_PROPER_NOUN:g.Uq}}),creatorLabel:()=>"Black Forest",image:x,flag:"flux1Schnell",disabledFlag:"flux1Quick",fallbackModels:r()(L,"flux-1-schnell"),provider:"baseten",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:4,cost:2},"flux-1-quick":{label:()=>"Flux Fast 1.1",description:()=>i.Ru._({id:"hpqgA9"}),creatorLabel:()=>"Black Forest",image:x,flag:"flux1Quick",fallbackModels:r()(L,"flux-1-quick"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:4,cost:2},"flux-kontext-fast":{label:()=>"Flux Kontext Fast",description:()=>i.Ru._({id:"Cw1xXb"}),creatorLabel:()=>"Black Forest",image:x,flag:"fluxKontextFast",fallbackModels:r()(L,"flux-kontext-fast"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"UUMdE6"}),speed:4,badge:"new",cost:2},"flux-1-pro":{label:()=>"Flux Pro",description:()=>i.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:x,flag:"flux1Pro",productFeature:"ai_models_plus",fallbackModels:r()(j,"flux-1-pro"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"UUMdE6"}),speed:2,cost:8},"flux-kontext-pro":{label:()=>"Flux Kontext Pro",description:()=>i.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:x,flag:"fluxKontextPro",productFeature:"ai_premium_models",fallbackModels:r()(E,"flux-kontext-pro"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"UUMdE6"}),speed:2,cost:20},"flux-kontext-max":{label:()=>"Flux Kontext Max",description:()=>i.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:x,flag:"fluxKontextMax",productFeature:"ai_models_ultra",fallbackModels:r()(S,"flux-kontext-max"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"UUMdE6"}),speed:2,cost:40},"flux-1-ultra":{label:()=>"Flux Ultra",description:()=>i.Ru._({id:"fr7zhY"}),creatorLabel:()=>"Black Forest",image:x,flag:"flux1Ultra",productFeature:"ai_models_ultra",fallbackModels:r()(S,"flux-1-ultra"),provider:"flux",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:1,cost:30},"imagen-3-flash":{label:()=>"Imagen 3 Fast",description:()=>i.Ru._({id:"Q9Ah87",values:{GOOGLE_PROPER_NOUN:g.kO}}),creatorLabel:()=>"Google",image:f,flag:"imagenFlash",fallbackModels:r()(L,"imagen-3-flash"),provider:"google",bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:4,cost:2},"imagen-3-pro":{label:()=>"Imagen 3",description:()=>i.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:g.kO}}),creatorLabel:()=>"Google",image:f,productFeature:"ai_models_plus",flag:"imagen3",fallbackModels:r()(j,"imagen-3-pro"),provider:"google",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:2,cost:8},"imagen-4-fast":{label:()=>"Imagen 4 Fast",description:()=>i.Ru._({id:"3vHhZU",values:{GOOGLE_PROPER_NOUN:g.kO}}),creatorLabel:()=>"Google",image:f,productFeature:"ai_models_plus",flag:"imagen4Fast",fallbackModels:r()(j,"imagen-4-fast"),provider:"google",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:2,cost:10},"imagen-4-pro":{label:()=>"Imagen 4",description:()=>i.Ru._({id:"2YnLm1",values:{GOOGLE_PROPER_NOUN:g.kO}}),creatorLabel:()=>"Google",image:f,productFeature:"ai_premium_models",flag:"imagen4",fallbackModels:r()(E,"imagen-4-pro"),provider:"google",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:2,supportsExactText:!0,cost:20},"imagen-4-ultra":{label:()=>"Imagen 4 Ultra",description:()=>i.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:g.kO}}),creatorLabel:()=>"Google",image:f,productFeature:"ai_models_ultra",flag:"imagen4",fallbackModels:r()(S,"imagen-4-ultra"),provider:"google",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:1,supportsExactText:!0,cost:30},"ideogram-v3-turbo":{...w,label:()=>"Ideogram 3.0 Turbo",description:()=>i.Ru._({id:"YiuHAi",values:{IDEOGRAM_PROPER_NOUN:g.X4}}),flag:"ideogram3",freeFlag:"ideogramTurboFree",productFeature:"ai_models_plus",fallbackModels:r()(j,"ideogram-v3-turbo"),bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:3,supportsExactText:!0,cost:10},"ideogram-v3-flash":{...w,label:()=>"Ideogram 3.0 Flash",description:()=>i.Ru._({id:"nzTHCG",values:{IDEOGRAM_PROPER_NOUN:g.X4}}),flag:"ideogram3Flash",fallbackModels:r()(L,"ideogram-v3-flash"),bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:4,cost:3},"ideogram-v3":{...w,label:()=>"Ideogram 3.0",description:()=>i.Ru._({id:"pKUvA/",values:{IDEOGRAM_PROPER_NOUN:g.X4}}),flag:"ideogram3",productFeature:"ai_premium_models",fallbackModels:r()(E,"ideogram-v3"),bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:2,cost:20},"ideogram-v3-quality":{...w,label:()=>"Ideogram 3.0 Quality",description:()=>i.Ru._({id:"XDomDb",values:{IDEOGRAM_PROPER_NOUN:g.X4}}),flag:"ideogram3",productFeature:"ai_models_ultra",fallbackModels:r()(S,"ideogram-v3-quality"),bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:2,badge:"new",supportsExactText:!0,cost:45},"gpt-image-1-low":{label:()=>"GPT Image Fast",description:()=>i.Ru._({id:"WJ/Qyy"}),creatorLabel:()=>"OpenAI",image:b,productFeature:"ai_models_plus",flag:"gpt4oImageLow",fallbackModels:r()(j,"gpt-image-1-low"),provider:"openai",bestStyle:()=>i.Ru._({id:"Xo8Ctl"}),bestType:()=>i.Ru._({id:"7uXRvn"}),speed:1,estimatedTimeSeconds:60,supportsHexPrompts:!0,cost:7},"gpt-image-1-medium":{label:()=>"GPT Image",description:()=>i.Ru._({id:"8PB+vO"}),creatorLabel:()=>"OpenAI",image:b,productFeature:"ai_premium_models",flag:"gpt4oImageMedium",fallbackModels:r()(E,"gpt-image-1-medium"),provider:"openai",bestStyle:()=>i.Ru._({id:"HSEky6"}),bestType:()=>i.Ru._({id:"7uXRvn"}),speed:1,estimatedTimeSeconds:60,supportsHexPrompts:!0,cost:30},"gpt-image-1-high":{label:()=>"GPT Image Detailed",description:()=>i.Ru._({id:"5XcnJA"}),creatorLabel:()=>"OpenAI",image:b,productFeature:"ai_models_ultra",flag:"gpt4oImage",fallbackModels:r()(S,"gpt-image-1-high"),provider:"openai",bestStyle:()=>i.Ru._({id:"HSEky6"}),bestType:()=>i.Ru._({id:"7uXRvn"}),speed:1,badge:"new",estimatedTimeSeconds:60,supportsHexPrompts:!0,supportsExactText:!0,cost:120},"leonardo-phoenix":{label:()=>"Leonardo Phoenix",description:()=>i.Ru._({id:"iEAL9X"}),creatorLabel:()=>"Leonardo",image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/leonardo.71fd3bf9.png",height:180,width:180,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAdVBMVEVMaXFgWnpcLEFUKYRqa4ExXYBDNSgpIR5aUVp3boNLRGBIX1BNOytXaXULGyVcZHoIMT93a2NnYXV4VEeamJNWgJrXy7GfjXSmlHi6nlVxW3GlnJpXO1CSeoS3mnvMvKRfR1w7QUhhU5qhiTw0V2RrcHGOS2+E6qt3AAAAFHRSTlMAmnPO/vlKKG3+fIFRsx7aOLnd+C0RAK4AAAAJcEhZcwAAA+gAAAPoAbV7UmsAAABGSURBVHicBcEFAoAgAACxQ0GwC0Ww8/9PdAO0MRogk7NNc0iWddvdWVAeqR3901JLZcf77RDDME3OCyp1hfD1GpoojqOEH4N0A88EV3bcAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"leonardoPhoenix",fallbackModels:r()(j,"leonardo-phoenix"),productFeature:"ai_models_plus",provider:"leonardo",bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:2,cost:15},"luma-photon-1":{...A,fallbackModels:r()(j,"luma-photon-1"),label:()=>"Luma Photon",description:()=>i.Ru._({id:"qmMxhc"}),flag:"lumaPhoton",productFeature:"ai_models_plus",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:3,cost:10},"luma-photon-flash-1":{...A,fallbackModels:r()(L,"luma-photon-flash-1"),label:()=>"Luma Photon Flash",description:()=>i.Ru._({id:"eNdOBa"}),flag:"lumaPhoton",bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:4,cost:2},"recraft-v3":{label:()=>y,description:()=>i.Ru._({id:"z+qo6V"}),creatorLabel:()=>"Recraft",image:C,flag:"recraftModel",fallbackModels:r()(E,"recraft-v3"),productFeature:"ai_premium_models",provider:"recraft",bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"1HfW/F"}),speed:2,cost:20},"recraft-v3-svg":{label:()=>i.Ru._({id:"rftVBi",values:{RECRAFT_PROPER_NOUN:y}}),description:()=>i.Ru._({id:"SLi7QF"}),creatorLabel:()=>"Recraft",image:C,flag:"recraftSvgModel",fallbackModels:r()(E,"recraft-v3-svg"),productFeature:"ai_premium_models",provider:"recraft",bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"xeiujy"}),speed:2,cost:40},"dall-e-3":{label:()=>"DALL\xb7E 3",description:()=>i.Ru._({id:"wPYsgu",values:{OPENAI_PROPER_NOUN:g.PS}}),creatorLabel:()=>"OpenAI",image:b,productFeature:"ai_premium_models",flag:"dalle3",fallbackModels:r()(j,"dall-e-3"),provider:"azure",bestStyle:()=>i.Ru._({id:"+hJIb3"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:1,cost:33},"qwen-image":{...k,label:()=>"Qwen Image",description:()=>i.Ru._({id:"Z9PLQS",values:{QWEN_PROPER_NOUN:v}}),productFeature:"ai_models_plus",fallbackModels:r()(j,"qwen-image"),bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:2,flag:"qwenImage",supportsExactText:!0,cost:3},"qwen-image-fast":{...k,label:()=>"Qwen Image Fast",description:()=>i.Ru._({id:"GPNoQe",values:{QWEN_PROPER_NOUN:v}}),fallbackModels:r()(L,"qwen-image-fast"),bestStyle:()=>i.Ru._({id:"6M03+0"}),bestType:()=>i.Ru._({id:"1TSz1T"}),speed:4,flag:"qwenImageFast",supportsExactText:!0,cost:3}},_=()=>Object.keys(I).map(e=>({model:e,...I[e]})).sort((e,t)=>e.label().localeCompare(t.label(),"en-US",{sensitivity:"base"})),D=()=>{let e=h.of.get("aiGeneratedImagesDefaultModel");if(P(e))return e;let t=R(e);if(null==t?void 0:t.fallbackModels){for(let e of t.fallbackModels)if(P(e))return e}return console.warn("No available image models found. Falling back to disabled model: ".concat(e)),e},R=e=>I[e]||I[D()],T=async(e,t)=>{var n,i;let{themeId:a,docId:r,traceparent:h,...g}=e,m=a?{context:d.rWX.Theme,themeId:e.themeId}:r?{context:d.rWX.Doc,docId:e.docId}:{context:e.context},x=D(),f=null!=(i=e.model)?i:x,b="".concat(l.$.API_HOST||"https://api.gamma.app","/media/images/generate"),C=(null==(n=R(f).fallbackModels)?void 0:n.filter(P))||[],y=C.includes(x)?x:C[0],v={interactionId:e.interactionId,interface:"generate-image",streaming:!1,inputContent:e.prompt,docId:e.docId,generateImageOptions:e};(0,c.rl)(v);let w=e.interactionId,A=performance.now(),k={"Content-Type":"application/json"};h&&(k["aijsx-traceparent"]=h);try{let n=await (0,p.P)(b,{signal:null==t?void 0:t.signal,method:"POST",headers:k,body:JSON.stringify({model:f,...g,fallbackModel:y,...m}),credentials:"include"},{parseResponse:e=>e.json(),captureException:e=>{H(e)||e.logToErrorTracker()}});if((0,c.Yh)({...v,latency:performance.now()-A,generateImageUrls:n.map(e=>e.attrs.src)}),w){let t=o.l.load(w);if(t){let i=u.C.image({interactionId:w,model:f,source:t.name,operationCount:n.length}),a=e.loadImageId||(0,s.Ak)(5);t.charge(a,i)}}return n}catch(e){throw console.error("(caught) [AIGenerateImage] error:",e),(0,c.tB)({...v,latency:performance.now()-A,errorName:"GenerateImageError",errorMessage:e.message,outputMessage:""}),e}},z={sexual:()=>i.Ru._({id:"gHG6wD"}),violence:()=>i.Ru._({id:"x40BeZ"}),prohibited:()=>i.Ru._({id:"UiRApc"})};function H(e){var t;return(null==(t=e.body)?void 0:t.code)==="prohibited_input"}function N(e){let t;if(e instanceof p.f)if(H(e)){var n,a,r;t=z[(r=null!=(a=null==(n=e.body)?void 0:n.categories)?a:{}).sexual||r["sexual/minors"]?"sexual":r.violence||r["violence/graphic"]?"violence":"prohibited"]()}else t=e.userFacingErrorDescription();return t?i.Ru._({id:"ZJbOi7",values:{additionalErrorContext:t}}):i.Ru._({id:"Id+8aq"})}let B=e=>{if(e&&I[e]){let t=I[e];if(t.aspectRatios)return t.aspectRatios}return["square","portrait","landscape"]},P=e=>{let t=I[e];return!(!t||t.flag&&!h.of.get(t.flag)||t.disabledFlag&&h.of.get(t.disabledFlag))},F=e=>{let t=I[e];return!t||t.freeFlag&&h.of.get(t.freeFlag)?"free":t.productFeature?(0,m.gD)(t.productFeature):"free"}},3239:(e,t,n)=>{"use strict";n.d(t,{u:()=>r}),n(80116);var i=n(39247),a=n(43634);n(15607),n(92397),n(47665);let r=e=>{let t=e.getState(),n=(0,a.Ev)(t),r=(0,i.ow)(t);return Object.keys(n.tree).map(e=>{var t;return null==(t=r[e])?void 0:t.title}).filter(e=>!!e).join("\n")}},3298:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>o,Hg:()=>s,xb:()=>l});var i=n(99492),a=n(77650),r=n(17633);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return[r.w.heading(a.Ru._({id:"HX5SVx"}),{level:e}),r.w.paragraph(a.Ru._({id:"Nu4oKW"}))]},l="1em",o={boxes:{name:()=>a.Ru._({id:"61H/21"}),icon:i.n2$},bullets:{name:()=>a.Ru._({id:"RYtHky"}),icon:i.ITF},sequence:{name:()=>a.Ru._({id:"ipQKNM"}),icon:i.dmS},images:{name:()=>a.Ru._({id:"an5hVd"}),icon:i.Cyq},numbers:{name:()=>a.Ru._({id:"3xKsW7"}),icon:i.Bi7},circles:{name:()=>a.Ru._({id:"pzzFVX"}),icon:i.yNr},quotes:{name:()=>a.Ru._({id:"eWLklq"}),icon:i.$7g},steps:{name:()=>a.Ru._({id:"A9onc2"}),icon:i.UER}}},3383:(e,t,n)=>{"use strict";n.d(t,{ay:()=>j,ds:()=>L,ze:()=>E});var i=n(37243),a=n(55729),r=n(81807),s=n(14994),l=n(98701),o=n(17859),c=n(83605),d=n(21),u=n(13559),p=n(9118),h=n(82328),g=n(6018),m=n(58809),x=n(66380),f=n(11390),b=n(25778),C=n(3239),y=n(43501),v=n(22529),w=n(47665),A=n(22539);let k={language:"English (US)",textAmount:"md",tone:"",audience:"",format:"deck",imageProvider:"aiGenerated"},L=e=>{var t,n;let{editor:s,getPos:h,theme:C,input:L,isStudio:j}=e,S=(0,b.GV)(m.Jo),M=S.organization.id,I=(0,b.GV)((0,v.d8)(M)),[_,D]=(0,a.useState)(!1),R=(0,b.CU)(),{imageProvider:T,imageOptions:z}=(0,x.V)(),{template:H,settings:N}=L,B=(0,a.useCallback)(async e=>{if(!S||!S.organization)throw Error("Doc or organization not found");let{templateText:t,input:n="",interactionId:i}=e,a=performance.now(),d=(0,u.h)(s,R),p={...k,...d,...e.settings,input:n,templateText:t,previous:e.previous,textMode:"generate",imageOptions:z,imageProvider:T,...j&&{basePromptKey:"GenerateImageCard"}},h={interface:"add-card",interactionId:i,inputContent:n,inputData:{...e.settings,template:H},product:(0,f.A4)(S.organization),docId:S.id};(0,o.rl)(h);let m=await (0,l.K8)({promptKey:"GenerateCardWithLayout",variables:p,workspaceId:I.id,interactionId:i}),x=(0,r.DB)(m),b=(0,c.dE)(x);return(0,o.Yh)({...h,outputContent:x,latency:performance.now()-a}),(0,g.w)("generateCard",I,i),b},[S,R,I,T,z,H,s,j]),P=(0,p.xt)(N.locale||(0,y.nM)(s.state.doc)||(null==S||null==(n=S.docGenerateInput)||null==(t=n.settings)?void 0:t.locale)||"en");return{isGenerating:_,getContextAndGenerate:(0,a.useCallback)(async e=>{if(!s)return;let t=h();if("number"!=typeof t)return;let n=s.view.state.doc.nodeAt(t);if(!n)return void console.error("[AICard] Cannot append card. Node unknown");let a=E(s,t);D(!0);try{var r;let l=(0,o.$F)(),c=null==(r=(0,A.W)().find(e=>e.key===H))?void 0:r.aiDescription,u=await B({input:e,templateText:c,previous:a,settings:{language:P.englishName},interactionId:l});u.attrs={...n.attrs,...u.attrs,container:{...n.attrs.container,...u.attrs.container},generatorInput:{...n.attrs.generatorInput,prompt:e,template:H,settings:N,status:"done",interactionId:l}};let p=(0,i.xe)(s.state.doc,e=>(0,w.jg)(e)&&e.attrs.id===n.attrs.id)[0];if(!p)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");s.chain().insertContentAt({from:p.pos,to:p.pos+p.node.nodeSize},u).setMeta("isGenerateCard",!0).selectInsideCardBody(t).run(),(0,d.Sg)({editor:s,content:u,theme:C,interactionId:l})}catch(e){console.error("[GenerateCard] Error generating card",e)}D(!1)},[s,h,B,H,P.englishName,N,C]),updateInput:(0,a.useCallback)(e=>{let t=h();if("number"!=typeof t)return;let n=s.view.state.doc.nodeAt(t);(null==n?void 0:n.attrs.generatorInput)&&s.commands.updateNestedAttributesAtPos(t,{generatorInput:e})},[s,h]),locale:P}},j=(e,t)=>{let{isInOfflineMode:n}=(0,h.u)(),[i,r]=(0,a.useState)([]),[s,o]=(0,a.useState)("ready"),{generate:c}=(0,l.pt)("SuggestCardTopics",{onStart(){o("generating"),r([])},onContent(e){r(e.split("\n").filter(Boolean))},onComplete(e){r(e.split("\n").filter(Boolean)),o("done")},onError(e){console.error("Error generating suggestions",e),o("error")},timeout:3e4}),d=(0,b.GV)(m.Jo),u=d.organization.id,p=(0,b.GV)((0,v.d8)(u)),g=(0,y.lI)(e),x=(0,y.zK)(g),f=(0,b.CU)();return(0,a.useEffect)(()=>{if(!n&&t&&"ready"===s){let e=(0,C.u)(f);e.trim().split("\n").length<3||c({variables:{outline:e,format:x},workspaceId:p.id})}},[s,c,n,t,f,x,d,p]),{suggestions:i,generateSuggestionsStatus:s}},E=(e,t)=>(0,s._)(e,Math.max(t-5e3,0),t)},3864:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(45143);let a={base:"md","2xl":"lg"},r=()=>(0,i.h5)(a)},4097:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,e:()=>a});var i=n(55729);let a=(0,i.createContext)({onDragStart:void 0}),r=()=>(0,i.useContext)(a)},4967:(e,t,n)=>{"use strict";n.d(t,{_:()=>x,n:()=>g});var i=n(21938),a=n(63867),r=n(97255),s=n(25778),l=n(17928),o=n(43634),c=n(33201),d=n(67200),u=n(15607),p=n(21699),h=n(60300);let g=new a.hs("spotlight"),m=(e,t,n)=>{if(null===t.pos)return r.zF.create(e.doc,[]);let a=[],s=e.doc.nodeAt(t.pos);s&&(0,c.jg)(s)&&!n(s,t.cardId)?a.push(r.NZ.node(t.pos,t.pos+s.nodeSize,{class:"presenting-card"})):s&&n(s,t.cardId)&&a.push(r.NZ.node(t.pos,t.pos+s.nodeSize,{class:"spotlight-block"}));let l=t.pos;return e.doc.descendants((e,s)=>(n(e,t.cardId)&&a.push(r.NZ.node(s,s+e.nodeSize,{class:(0,i.cx)("spotlightable",s>l&&"after-spotlight")})),(0,h.I2)(e)||(0,c.jg)(e))),r.zF.create(e.doc,a)},x=(e,t)=>new a.k_({key:g,state:{init:(t,n)=>{let i={pos:null,cardId:""};return{...i,decorations:m(n,i,e)}},apply(t,n,i,a){let r=t.getMeta(g),s=(0,d.he)(t);if(r||s){let t=r||n;return{...t,decorations:m(a,t,e)}}let l=n.decorations.map(t.mapping,t.doc);return{...n,decorations:l}}},props:{attributes:t=>{let n=g.getState(t);if(!n||null===n.pos)return{class:""};let i=t.doc.nodeAt(n.pos);return i&&e(i,n.cardId)?{class:"spotlight-active"}:{class:""}},decorations:e=>{let t=g.getState(e);return t?t.decorations:null},handleDOMEvents:{click(e,n){if(n.detail>1||(0,p.Qj)(e))return;let i=(0,s.KA)(),a=i.getState(),r=(0,o.FI)(a);if(!(r&&(0,h.UE)(t,r))||(0,o.QF)(a))return;if((0,o.YL)(a))return void i.dispatch((0,o.tB)());let l=g.getState(e.state);if(!(null==l?void 0:l.cardId))return;let c=e.posAtDOM(n.target,0);if(null===c||c<1)return;if(!e.state.doc.nodeAt(c))return void t.commands.turnOffSpotlight();let[d]=(0,u.TK)(e.state.doc.resolve(c),e=>(0,h.Rj)(e));d?t.commands.spotlightNodeAtPos(c):t.commands.turnOffSpotlight()},contextmenu(e,n){let i=g.getState(e.state);if(!(null==i?void 0:i.cardId))return;let a=(0,s.KA)().getState();if((0,o.QF)(a))return;let r=e.posAtDOM(n.target,0),c=t.state.doc.resolve(r),d=e.state.doc.nodeAt(r),[p]=d&&(0,h.Rj)(d)?[{pos:r,start:c.start(c.depth+1)}]:(0,u.TK)(t.state.doc.resolve(r),e=>(0,h.Rj)(e));l.LF.emit(l.DN.OPEN_PRESENT_MODE_CONTEXT_MENU,{e:n,cardId:i.cardId,pos:p?p.start:null})}}}})},5061:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,fW:()=>s,ix:()=>l});var i=n(12718),a=n(73110);let r=e=>{var t;return(null==(t=i.z[e])?void 0:t.rtl)===!0},s=()=>r((0,a.O)()),l=()=>r((0,a.j)()),o=()=>r((0,a.j)())?"rtl":"ltr"},5380:(e,t,n)=>{"use strict";n.d(t,{c:()=>p,m:()=>h});var i=n(55729),a=n(35292),r=n(25778),s=n(1558),l=n(49249),o=n(90278),c=n(6494),d=n(67097),u=n(89703);let p=e=>{let{editor:t,getPos:n,backgroundRemovalId:a}=e,o=(0,r.jL)(),c=(0,u.f)(),d=(0,i.useCallback)(function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t.view.focus(),c({isOpen:!0,shouldResetSourceKey:n}),e.stopPropagation()},[t,c]),{startRemoveBg:p,isRemovingBg:h}=(0,l.D)({editor:t,id:a});return{changeFocalPoint:(0,i.useCallback)(e=>{let i=n();"number"==typeof i&&(t.commands.selectNodeAtPos(i),o((0,s.sI)({id:e})))},[t,n,o]),editImage:d,startRemoveBg:p,isRemovingBg:h}},h=e=>{let{editor:t,node:n,parentNode:r}=e,s=(0,i.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),l=(0,i.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),u=(0,i.useCallback)(e=>{t.chain().insertContentAt(e,n.toJSON()).selectInsertedNode().run()},[t,n]),p=(0,i.useCallback)(()=>{t.chain().handleSmartLayoutDelete().run()},[t]),h=(0,i.useCallback)((e,n)=>{t.commands.updateNestedAttributesAtPos(e,n)},[t]),g=(0,i.useCallback)(e=>{t.chain().updateNestedAttributesAtPos(e,{image:null}).run()},[t]),m=n.attrs.options,x=n.attrs.image,f=r&&(0,o.$o)(r.attrs),b=r?(0,c.BJ)(r.attrs.variantKey):null,{imageSlot:C,imageType:y}=null!=b?b:{},v=C&&!!(null==x?void 0:x.src),w=(0,d.SV)((null==x?void 0:x.src)||(null==x?void 0:x.tempUrl)),A=(0,d.v7)(null==x?void 0:x.src);return{addColumnBefore:s,addColumnAfter:l,canChangeFocusPointAndRemoveBackground:"image"===y&&!w&&(null==x?void 0:x.src)&&!A,canEditImageWithAI:(0,a.l)(x)&&v&&"image"===y,hasImage:v,imageSlot:C,imageType:y,addDirection:f,parentVariant:b,cellOptions:m,handleDelete:p,selectParent:e=>{t.commands.selectNodeAtPos(e),t.chain().selectParentNode().run()},duplicateNode:u,updateAttributes:h,resetImage:g}}},5541:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var i=n(60829),a=n(46137),r=n(28615),s=n(29143);let l=async(e,t)=>{if((0,r.fL)()){if(!s.env.SYSTEM_TO_SYSTEM_SECRET)throw Error("[vercelIsomorphicFetch] SYSTEM_TO_SYSTEM_SECRET is not set on the server.");let{buildSystemToSystemToken:e}=await Promise.all([n.e(2966),n.e(5320),n.e(5905)]).then(n.bind(n,15905)),r=e("gamma-api"),l=(null==t?void 0:t.headers)||{};i.$.inject(a._.active(),l),t={...t,credentials:"omit",headers:{...l,Authorization:"Bearer ".concat(r),"User-Agent":"gamma/vercel-api"}}}return fetch(e,t)}},5872:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,S:()=>r});var i=n(10789),a=n(45002);let r="gamma-moveable-wrapper",s={...i.BT,...a.X0}},6018:(e,t,n)=>{"use strict";n.d(t,{R:()=>h,w:()=>p});var i=n(88586),a=n(27002),r=n(89942),s=n(11390),l=n(25778),o=n(95889),c=n(42721),d=n(779),u=n(62826);let p=async(e,t,n)=>{var p,g;let m=(0,r.vT)("unlimited_credits",t),x=null!=(g=a.of.get("aiDebits")[e])?g:d.rA[e];if(h(e,t,n),0===x)return;let f=(null==t?void 0:t.id)||(0,c.gx)();if(!f)return;let b=(0,i.H4n)(),C=null==(p=(await b.mutate({mutation:i.lgx,variables:{value:x,workspaceId:f}})).data)?void 0:p.deductCredits;return C?(o.zS.track(o.VV.AI_CREDITS_DEDUCTED,{operation:e,used:m?0:x,remaining:C.credits,interactionId:n,workspaceId:f,plan:(0,s.A4)(t)}),(0,l.KA)().dispatch((0,u.z0)({availableCredits:C.credits})),C.credits):null},h=(e,t,n)=>{var i;let l=(0,r.vT)("unlimited_credits",t),c=null!=(i=a.of.get("aiDebits")[e])?i:d.rA[e];o.zS.track(o.VV.AI_CREDITS_USED,{operation:e,used:c,has_unlimited_ai:l,interactionId:n,workspaceId:null==t?void 0:t.id,plan:(0,s.A4)(t)})}},6272:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var i=n(58929);let a=e=>"AbortError"===e.name||e instanceof i.f&&"aborted"===e.type},6359:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var i=n(2018),a=n(6181);let r={"remove-background":i.tI5.ImageEditRemoveBackground,vectorize:i.tI5.ImageEditVectorize,upscale:i.tI5.ImageEditUpscale,maskless:i.tI5.ImageEditMaskless,animate:i.tI5.ImageEditAnimate,restyle:null,"replace-background":null},s={card:e=>{var t,n;let r=null==(t=(0,a.HW)())?void 0:t.id,s=(0,a.vp)(),l=null!=(n=e.operationCount)?n:1;if(!r||!s)throw Error("Cannot deduct card credits without userId and workspace");let{interactionId:o,description:c,model:d,source:u}=e;return{operation:i.tI5.Card,model:d,description:c||"",workspaceId:s.id,interactionId:o,source:u,operationCount:l}},image:e=>{var t,n;let r=null==(t=(0,a.HW)())?void 0:t.id,s=(0,a.vp)(),l=null!=(n=e.operationCount)?n:1;if(!r||!s)throw Error("Cannot deduct card credits without userId and workspace");let{model:o,interactionId:c,description:d,source:u}=e;return{operation:i.tI5.Image,model:o,description:d||"",workspaceId:s.id,source:u,operationCount:l,interactionId:c}},imageEdit:e=>{var t,n;let i=null==(t=(0,a.HW)())?void 0:t.id,s=(0,a.vp)(),l=null!=(n=e.operationCount)?n:1;if(!i||!s)throw Error("Cannot deduct image edit credits without userId and workspace");let{interactionId:o,description:c,source:d}=e,u=r[e.operation];if(!u)throw Error("Unsupported image edit operation: ".concat(e.operation));return{operation:u,model:"default",description:c||"",workspaceId:s.id,source:d,operationCount:l,interactionId:o}}}},6494:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>il,aQ:()=>ii});var i=n(51684),a=n(77650),r=n(19323);let s=()=>(0,r.x)({key:"minimalTimeline",name:()=>a.Ru._({id:"cupqy6"}),family:"sequence",icon:i.bef,htmlTag:"minimal-timeline",config:{wrapperConfig:{gridStyle:"alternating_tight"},cellConfig:{cellStyle:"none",distanceFromLine:2,minCellSize:8,lineMarker:{markerType:"smallBullet",markerFontSize:"h3",verticalAlign:"top",markerSize:.75,lineLength:2}}},keywords:["minimal","timeline","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"});var l=n(55597);let o=()=>(0,r.x)({key:"minimalTimelineWithBoxes",name:()=>a.Ru._({id:"D5zoh6"}),family:"sequence",icon:l.bef,htmlTag:"minimal-timeline-boxes",config:{wrapperConfig:{gridStyle:"alternating_tight"},cellConfig:{cellStyle:"solid",distanceFromLine:0,minCellSize:8,lineMarker:{markerType:"smallBullet",markerFontSize:null,verticalAlign:"center",markerSize:.75,lineLength:3}}},keywords:["minimal","timeline","boxes","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"});var c=n(6029),d=n(58959),u=n(99492),p=n(74471),h=n(66082);let g={key:"horizontalAlign",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n}=e;return(0,c.jsx)(d.z,{spacing:0,dir:"ltr",children:h.gj.map(e=>{let{name:i,icon:a,alignment:r}=e;return(0,c.jsx)(p.I,{label:i(),icon:a,onClick:()=>{n(r===t?null:r)},isActive:t===r},i())})})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:u.ecg,items:h.gj.map(n=>{let{name:i,alignment:a}=n;return{key:i(),label:i(),icon:e===a?u.e68:void 0,onClick:()=>{t(a===e?null:a)}}})}),name:()=>a.Ru._({id:"0j+RGO"})},m=()=>(0,r.q)({key:"solidBoxesAlternating",name:()=>a.Ru._({id:"17LxIH"}),family:"boxes",config:{wrapperConfig:{gridStyle:"alternating_loose",lineColor:"accent"},cellConfig:{cellStyle:"solid",minCellSize:6,distanceFromLine:0,lineMarker:{markerType:null,markerFontSize:null,markerSize:0,lineLength:0}}},icon:i.aqE,htmlTag:"solidBoxesAlternating",additionalOptions:[g],defaultOptions:{horizontalAlign:"center",verticalAlign:"middle"},keywords:["solid","boxes","alternating","layout","list","horizontal","vertical"],featureFlag:"smartLayoutsJuly2025"});var x=n(37243),f=n(55424);let b={key:"numbered",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,c.jsx)(p.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:u.Tsj})},ControlMenu:(e,t,n)=>({key:n.key,label:e?a.Ru._({id:"qCzYrD"}):a.Ru._({id:"Ty8hAp"}),icon:u.Tsj,onClick:()=>t(!e)}),name:()=>a.Ru._({id:"mVQI+S"})},C={...b,getDefaultOnParse:e=>!Array.from(e.children).every(e=>e.querySelector("icon")),checkEnabled:e=>{let{options:t,node:n}=e,i=n&&(0,x.xe)(n,f.q);return(null==i?void 0:i.every(e=>{var t,n,i,a,r;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)||(null==e||null==(r=e.node)||null==(a=r.attrs)||null==(i=a.image)?void 0:i.src)===void 0}))||!0===t.numbered}},y=()=>(0,r.x)({key:"timeline",name:()=>a.Ru._({id:"cklVjM"}),family:"sequence",config:{wrapperConfig:{gridStyle:"alternating_tight"},cellConfig:{cellStyle:"none",distanceFromLine:2,minCellSize:8,lineMarker:{markerType:"bigBullet",markerFontSize:"h3",verticalAlign:"top",markerSize:1.125,lineLength:3}}},icon:l.o7M,htmlTag:"timeline",keywords:["timeline","layout","list","horizontal","vertical"],additionalOptions:[C]});var v=n(56570),w=n(40452),A=n(26420),k=n(55729),L=n(83740),j=n(95695),E=n(45214),S=n(88839),M=n(34807),I=n(43607),_=n(28615),D=n(85399),R=n(93171),T=n(3298),z=n(76765);let H="1.5em",N=e=>{let{containerSize:t,columnsNeeded:n}=e,i=(0,I.FX)(),a=(0,M.A)({base:1,sm:2,md:3,xl:4})||2;return(_.D1?4:i?2:a)*t<n},B=(0,k.memo)(e=>{var t;let{children:n,layoutOptions:i,flexProps:a,...r}=e,{index:s,direction:l}=r,{colorVars:o}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==(t=e.cellOptions)?void 0:t.color,index:s,forceTransparent:!0,isColoringCell:!0}),d=(0,h.AS)("rtl"===l?"right":"left",e.direction),u=(0,I.FX)(),p=(0,z.G)(e.theme,u,"h4",e.firstChildSize);return(0,c.jsxs)(w.s,{direction:"row",align:"flex-start",gap:T.xb,w:"100%","data-selection-ring":!0,"data-content-reference":!0,pos:"relative",...a,children:[(0,c.jsx)(R.n,{cellProps:e,markerFontSize:"h4"}),(0,c.jsx)(A.a,{flex:"1",minW:"0",className:E.VN,css:o,pt:"".concat(p,"em"),sx:d,children:n})]})});B.displayName="StackedSmartLayoutCell";var P=n(98610),F=n(97933),V=n(21938),O=n(68247),Z=n(69837);let W={ring:{thickness:.075,padAngle:0,roundness:0,iconSize:1,circleScale:.8,numberBackground:!0},flower:{thickness:.97,padAngle:3,roundness:.2,iconSize:1.25,circleScale:1},cycle:{thickness:.6,padAngle:2,roundness:0,pointiness:.33,iconSize:1.33,circleScale:1},circle:{thickness:.6,padAngle:3,iconSize:1.33,circleScale:1},semiCircle:{thickness:.5,padAngle:2,iconSize:1.5,circleScale:1}},U=(0,k.memo)((0,k.forwardRef)((e,t)=>{let{flexProps:n,coords:i,...a}=e,{image:r,selectCell:s,layoutOptions:l,cellOptions:o,index:d,numCells:u,variant:p}=a,h=l.numbered&&u>1,{iconSize:g,numberBackground:m}=W[p.key],{colorVars:x}=(0,D.r)({layoutColorOverride:l.color,cellColorOverride:null==o?void 0:o.color,index:d}),{arcPath:f,circleWidth:b}=i;return(0,c.jsxs)(w.s,{pos:"relative",ref:t,aspectRatio:"1/1","data-smart-layout-emphasis":!0,css:{contain:"layout"},pointerEvents:"none",...n,children:[(0,c.jsx)(A.a,{as:"svg",pos:"absolute",inset:0,viewBox:"0 0 ".concat(b," ").concat(b),overflow:"visible",className:E.D6,css:x,children:(0,c.jsx)(A.a,{as:"path",d:f,transform:"translate(".concat(b/2,"px, ").concat(b/2,"px) scale(").concat(b,")"),style:{vectorEffect:"non-scaling-stroke"}})}),(0,c.jsx)(w.s,{className:m?E.SA:E.lR,top:"".concat(i.centroidTop,"px"),left:"".concat(i.centroidLeft,"px"),pos:"absolute",contentEditable:!1,transform:"translate(-50%, -50%)",borderRadius:"999px !important",aspectRatio:"1/1",h:"2.5em",align:"center",direction:"column",justify:"center",css:x,children:(0,c.jsx)(A.a,{className:(0,V.cx)(O.U6),pointerEvents:"auto",children:(0,c.jsx)(Z.R,{image:r,number:h?d+1:void 0,isNumbered:l.numbered,iconSize:1.125*g,selectCell:s})})})]})}));U.displayName="CircleSegment";var G=n(84462),K=n.n(G),Q=n(58568),q=n(5777);let J=K()(q.JL);function $(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function Y(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=a>1e-9?Math.sin(a/2)*(t-e)*(2*i):0,[s,l]=$((e+t)/2-r,n-a/2),o=(t-e)*i;return[s+o*Math.cos(n),l+o*Math.sin(n)]}let X=K()(function(e){let{innerRadius:t=0,outerRadius:n=0,startAngle:i=0,endAngle:a=2*Math.PI,pointStrength:r=.5,padAngle:s=0}=e,{innerStartAngle:l,innerEndAngle:o,outerStartAngle:c,outerEndAngle:d,innerArcSpan:u,outerArcSpan:p,isClockwise:h}=function(e,t,n,i,a){let r=i>n,s=Math.abs(i-n),l=n,o=i,c=n,d=i,u=s,p=s;if(a>1e-9){let s=a/2,h=Math.sqrt(e*e+t*t),g=0;e>1e-9&&(g=Math.asin(h/e*Math.sin(s)));let m=0;t>1e-9&&(m=Math.asin(h/t*Math.sin(s))),(u-=2*g)>1e-9?r?(l+=g,o-=g):(l-=g,o+=g):l=o=(n+i)/2,(p-=2*m)>1e-9?r?(c+=m,d-=m):(c-=m,d+=m):c=d=(n+i)/2}return{isClockwise:r,innerStartAngle:l,innerEndAngle:o,outerStartAngle:c,outerEndAngle:d,innerArcSpan:u,outerArcSpan:p}}(t,n,i,a,s),g=$(n,c),m=$(n,d),x=$(t,l),f=$(t,o),b=r*(h?1:-1),C=r>0,y=Y(t,n,c,b,h?0:s),v=Y(t,n,d,b,h?s:0),w=+(u>=Math.PI),A=+(p>=Math.PI);return{arcPath:["M ".concat(g[0]," ").concat(g[1]),C&&"L ".concat(y[0]," ").concat(y[1]),"L ".concat(x[0]," ").concat(x[1]),"A ".concat(t," ").concat(t," 0 ").concat(w," ").concat(+!!h," ").concat(f[0]," ").concat(f[1]),C&&"L ".concat(v[0]," ").concat(v[1]),"L ".concat(m[0]," ").concat(m[1]),"A ".concat(n," ").concat(n," 0 ").concat(A," ").concat(+!h," ").concat(g[0]," ").concat(g[1]),"Z"].filter(Boolean).join(" "),centroid:$((t+n)/2,((l+o)/2+(c+d)/2)/2+b*Math.PI/6)}}),ee={1:90,2:-180,3:-150,4:-90,5:-90,6:-60,7:-60,8:-45},et=K()(e=>{var t;let n,i,{index:a,numCells:r,variant:s,direction:l,semi:o,themeRoundness:c}=e,d=(o?-90:null!=(t=ee[r])?t:0)*("rtl"===l?-1:1),u=(o?180:360)/r*("rtl"===l?-1:1),p=a*u+d,h=p+u,g=(p+h)/2,m=Math.PI/180*((90-g)%360),{thickness:x,padAngle:f,roundness:b=c,pointiness:C}=W[s],y=.5*(1-x);if(C){let e=X({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,pointStrength:C});n=e.arcPath,i=e.centroid}else{let e=J({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,cornerRadius:b});n=e()||"",i=e.centroid()}let v=i[0],w=i[1],A=.5*Math.cos(m),k=(g+360)%360;return{outsideX:A,outsideY:.5*Math.sin(m),centroidX:v,centroidY:w,arcPath:n,sideX:k>0&&k<=180?"right":"left",sideY:k>90&&k<=270?"bottom":"top",startAngle:p,midpointAngle:g,endAngle:h}}),en=e=>{let{index:t,numCells:n,variant:i,direction:a,semi:r=!1,themeRoundness:s}=e,{width:l,height:o,ref:c}=(0,Q.Lh)(),d=et({index:t,numCells:n,variant:i,direction:a,semi:r,themeRoundness:s}),{outsideX:u,outsideY:p,centroidX:h,centroidY:g}=d,m=o*(.5-p)*(r?2:1),x=o*(.5+g)*(r?2:1),f=o*(.5+u)*(r?2:1),b=o*(.5+h)*(r?2:1);return{...d,outsideTop:m,outsideLeft:f,centroidTop:x,centroidLeft:b,circleRef:c,circleWidth:l,circleHeight:o}},ei=K()(e=>{var t;let n=360/e,i=null!=(t=ee[e])?t:0,a=[],r=[],s=[];for(let t=0;t<e;t++){let e=(i+t*n)%360,l=e+n/2,o=l>0&&l<=180?"right":"left",c=(90-e)%360*Math.PI/180,d=Math.sin(c),u={index:t,angle:e,sideX:o,sideY:l>90&&l<=270?"bottom":"top",x:Math.cos(c),y:d,columnPosition:-1};"left"===o?a.push(u):r.push(u),s.push(u)}return a.sort((e,t)=>t.y-e.y),r.sort((e,t)=>t.y-e.y),a.forEach((e,t)=>{e.columnPosition=t}),r.forEach((e,t)=>{e.columnPosition=t}),{items:s,leftItems:a,rightItems:r}}),ea=(e,t)=>{let{items:n,rightItems:i,leftItems:a}=ei(t),{columnPosition:r,sideX:s}=n[e],l=function(e,t){return Math.abs(e*t)/function(e,t){for(;0!==t;){let n=t;t=e%t,e=n}return e}(e,t)}(i.length,a.length),o="right"===s?i.length:a.length,c=1===t?3:l/o;return{rowStart:r*c+1,rowSpan:c,numRows:l,verticalAlign:"center"}},er=(0,k.memo)(e=>{let{children:t,containerSize:n,variant:i,onContextMenu:a,selectLayoutForElementProps:r}=e,s=N({containerSize:n,columnsNeeded:3}),{circleScale:l}=W[i.key];return(0,c.jsx)(v.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr calc(".concat(100*(s?.8:.35*l),"% * var(--media-scale, 1)) 1fr"),autoRows:"auto",rowGap:s?H:"1.5em",dir:"ltr",onContextMenu:a,...r,children:t})});er.displayName="CircleWrapper";let es=(0,k.memo)(e=>N({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,c.jsx)(eo,{...e}):(0,c.jsx)(el,{...e}));es.displayName="CircleCell";let el=(0,k.memo)(e=>{let{children:t,index:n,numCells:i,dragHandle:a,variant:r,direction:s,theme:l,selectCellForElementProps:o}=e,{roundness:d}=(0,S.M)(l),{pathRounding:u}=j.T5[d],{circleRef:p,...g}=en({index:n,numCells:i,variant:r.key,direction:s,themeRoundness:u}),m="right"===g.sideX,x=m?"left":"right",f=(0,h.yp)(x),b=(g.midpointAngle+360)%180==90,{rowStart:C,rowSpan:y,numRows:v,verticalAlign:k}=ea(n,i),L=b?"2em":"flower"===r.key?"0em":v%2==0?"1.5em":"1em";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.s,{gridColumn:m?3:1,gridRow:"".concat(C," / span ").concat(y),zIndex:"1",sx:{...f,...(0,h.AS)(x,"ltr"),...m?{pl:L}:{pr:L}},direction:"column",justify:k,className:E.VN,minW:"0",...o,children:(0,c.jsxs)(A.a,{"data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",pos:"relative",w:"100%",cursor:"text",children:[t,a]})}),(0,c.jsx)(U,{...e,flexProps:{gridColumn:2,gridRow:"1 / span ".concat(v),alignSelf:"center"},coords:g,ref:p})]})}),eo=(0,k.memo)(e=>{let{index:t,numCells:n,direction:i,variant:a,theme:r}=e,{roundness:s}=(0,S.M)(r),{pathRounding:l}=j.T5[s],{circleRef:o,...d}=en({index:t,numCells:n,variant:a.key,direction:i,themeRoundness:l});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(U,{...e,flexProps:{gridRow:1,gridColumn:2},coords:d,ref:o}),(0,c.jsx)(B,{flexProps:{gridColumn:"1 / span 3",gridRow:"auto",dir:i},...e})]})});eo.displayName="CircleCellStacked";let ec=()=>({key:"circle",name:()=>a.Ru._({id:"7xMmki"}),icon:u.O0T,keywords:["circle","ring","radial","donut","circular"],options:[P.h,C],cellOptions:[P.h,F.Y],presetConfigurations:[{name:()=>a.Ru._({id:"7xMmki"}),options:{numbered:!0}}],Wrapper:er,Cell:es,addDirection:()=>"bottom",defaultAttrs:{image:{source:L.f.key}},htmlTag:"circle",imageSlot:"optional",imageType:"icon",family:"circles"}),ed=()=>({...ec(),key:"cycle",name:()=>a.Ru._({id:"qicHbX"}),icon:u.yNr,htmlTag:"cycle",keywords:["cyclical","flywheel","circle","circular","recycle"],presetConfigurations:[{name:()=>a.Ru._({id:"qicHbX"}),options:{numbered:!0}}]}),eu=()=>({...ec(),key:"flower",name:()=>a.Ru._({id:"abEdHK"}),icon:u.xnU,keywords:["petals","clover","butterfly"],htmlTag:"flower",presetConfigurations:[{name:()=>a.Ru._({id:"abEdHK"}),options:{numbered:!0}}]}),ep=()=>({...ec(),key:"ring",name:()=>a.Ru._({id:"EKlSR5"}),icon:u.GEE,keywords:["ring","circle","circular"],htmlTag:"ring",presetConfigurations:[{name:()=>a.Ru._({id:"EKlSR5"}),options:{numbered:!0}}]}),eh=(0,k.memo)(e=>{let{children:t,containerSize:n,onContextMenu:i,selectLayoutForElementProps:a}=e;return N({containerSize:n,columnsNeeded:3})?(0,c.jsx)(v.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr",templateRows:"auto auto",rowGap:H,onContextMenu:i,...a,dir:"ltr",children:t}):(0,c.jsx)(v.x,{pos:"relative","data-selection-ring":"padded",onContextMenu:i,...a,autoColumns:"1fr",autoRows:"auto",columnGap:"1.5em",rowGap:"2em",children:t})});eh.displayName="SemiCircleWrapper";let eg=(0,k.memo)(e=>N({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,c.jsx)(ex,{...e}):(0,c.jsx)(em,{...e}));eg.displayName="SemiCircleCell";let em=(0,k.memo)(e=>{let{children:t,index:n,numCells:i,dragHandle:a,variant:r,direction:s,theme:l,selectCellForElementProps:o}=e,d=(0,h.yp)("center"),{roundness:u}=(0,S.M)(l),{pathRounding:p}=j.T5[u],{circleRef:g,...m}=en({index:n,numCells:i,variant:r.key,direction:s,semi:!0,themeRoundness:p}),x=i>4?"70%":"60%";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(w.s,{direction:"column",align:"center",justify:"flex-end",pos:"relative",zIndex:"1","data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",sx:{...d,...(0,h.AS)("center","ltr")},mb:i>2?"-".concat(.6*m.outsideTop,"px"):void 0,...o,cursor:"text",children:[t,a]}),(0,c.jsx)(U,{...e,flexProps:{gridRow:2,gridColumn:"1 / span ".concat(i),alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(".concat(x," * var(--media-scale, 1))")},coords:m,ref:g})]})});em.displayName="SemiCircleCellTop";let ex=(0,k.memo)(e=>{let{index:t,numCells:n,direction:i,variant:a,theme:r}=e,{roundness:s}=(0,S.M)(r),{pathRounding:l}=j.T5[s],{circleRef:o,...d}=en({index:t,numCells:n,variant:a.key,direction:i,semi:!0,themeRoundness:l});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(U,{...e,flexProps:{gridRow:1,gridColumn:1,alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(100% * var(--media-scale, 1))"},coords:d,ref:o}),(0,c.jsx)(B,{flexProps:{gridColumn:1,gridRow:"auto",dir:i},...e})]})});ex.displayName="SemiCircleCellStacked";let ef=()=>({...ec(),key:"semiCircle",name:()=>a.Ru._({id:"r9sPHK"}),Wrapper:eh,Cell:eg,addDirection:()=>"right",htmlTag:"semicircle",keywords:["semicircle","arc","circle","radial"],icon:u.jiG,presetConfigurations:[{name:()=>a.Ru._({id:"r9sPHK"}),options:{numbered:!0}}]});var eb=n(18864),eC=n(69913),ey=n(14122),ev=n(19855),ew=n(35332),eA=n(50861);let ek=(0,k.memo)(e=>{let{children:t,...n}=e,{layoutOptions:i,cellOptions:a,index:r,firstChildSize:s,theme:l}=n,o=(0,I.FX)(),{colorVars:d}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==a?void 0:a.color,index:r,forceTransparent:!0}),{color:u,colorVars:p}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==a?void 0:a.color,index:r,forceTransparent:!0}),h=(0,z.G)(l,o,null,s),g={...n.image&&(0,eA.Xs)(n.image)?(0,ey.t)(null!=u?u:"var(--accent-color-readable)"):{}};return(0,c.jsxs)(ev.E,{cellProps:n,gridStyle:"flex_grid",cellStyle:"none",dragHandle:n.dragHandle,cellContentPropOverrides:{display:"flex",flexDirection:"row",alignItems:"start",gap:T.xb,pt:"".concat(-1*h,"em")},children:[(0,c.jsx)(A.a,{width:"2.25em",height:"2.25em",transform:"translateY(-50%)",flexShrink:0,sx:{...p,...g},contentEditable:!1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,c.jsx)(Z.R,{image:n.image,iconSize:1.5,placeholderIfEmpty:!1,selectCell:n.selectCell,isNumbered:!1})}),(0,c.jsx)(A.a,{flex:"1",minW:"0",className:E.VN,css:d,mt:"".concat(h,"em"),cursor:"text",children:t})]})});ek.displayName="IconBulletsCell";let eL=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,gridStyle:"flex_grid",spacing:"medium"}));eL.displayName="IconBulletsWrapper";let ej=()=>(0,eb.S)({key:"iconBullets",name:()=>a.Ru._({id:"Xl0g8o"}),icon:u.cCs,keywords:["icon","bullets","layout","list","icon bullets"],htmlTag:"iconBullets",family:"bullets",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"Xl0g8o"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/star.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:eL,Cell:ek,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins"}),eE=()=>(0,eb.S)({key:"arrowBullets",name:()=>a.Ru._({id:"KFruYJ"}),icon:u.dmS,keywords:["arrow","bullets","layout","list","arrow bullets"],htmlTag:"arrowBullets",family:"bullets",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"KFruYJ"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/arrow-right.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:eL,Cell:ek,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutsJuly2025"}),eS=()=>(0,eb.S)({key:"bigBullets",name:()=>a.Ru._({id:"OsVXoX"}),icon:u.ITF,keywords:["bullets","layout","list","bullet"],htmlTag:"bullets",family:"bullets",additionalOptions:[eC.i,C],presetConfigurations:[{name:()=>a.Ru._({id:"UIxZV9"}),options:{numbered:!0},zoomIn:!0},{name:()=>a.Ru._({id:"EJnrtJ"}),options:{numbered:!1},zoomIn:!0}],imageSlot:"optional",imageType:"icon",config:{wrapperConfig:{spacing:"medium",gridStyle:"flex_grid"},cellConfig:{cellStyle:"none",marker:{markerType:"bigBullet",markerFontSize:"h3",markerPosition:"left"}}},isFullWidth:()=>!0,addDirection:()=>"right"}),eM=()=>(0,eb.S)({key:"masonryOutlineBoxes",name:()=>a.Ru._({id:"05DTLe"}),icon:u.Nfw,keywords:["outline","boxes","layout","border"],htmlTag:"outline-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"05DTLe"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{spacing:"small",gridStyle:"masonry"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0,featureFlag:"smartLayoutConfigExperiments"}),eI=()=>(0,eb.S)({key:"outlineBoxes",name:()=>a.Ru._({id:"f43cMT"}),icon:u.Nfw,keywords:["outline","boxes","layout","border"],htmlTag:"outline-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"f43cMT"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{spacing:"small",gridStyle:"flex_grid"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0}),e_=()=>(0,eb.S)({key:"outlineBoxesWithSideLine",name:()=>a.Ru._({id:"6NYS8b"}),icon:i.POs,keywords:["outline","boxes","layout","sidebar","line","border"],htmlTag:"outline-boxes-with-line",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"6NYS8b"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{gridStyle:"standard",spacing:"small"},cellConfig:{cellStyle:"outline",cellDecor:{decorType:"fullLine",decorSize:"medium",decorPosition:"side"}}},isFullWidth:()=>!0}),eD=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,gridStyle:"flex_grid",cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));eD.displayName="OutlineBoxesWithTopCircleWrapper";let eR=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:a,selectCell:r,selectCellForElementProps:s}=e,{colorVars:l}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i});return(0,c.jsx)(w.s,{position:"absolute",top:"-".concat(1.5,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...l},className:(0,V.cx)(E.P7,E.ok),style:{borderRadius:"100%"},...s,children:(0,c.jsx)(w.s,{alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),children:(0,c.jsx)(Z.R,{image:a,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.2000000000000002,selectCell:r})})})});eR.displayName="TopCircle";let eT=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:a}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i,forceTransparent:!1});return(0,c.jsxs)(ev.E,{cellProps:e,cellStyle:"outline",gridStyle:"flex_grid",dragHandle:e.dragHandle,cellContentPropOverrides:{pos:"relative",mt:"".concat(1.5,"em"),pt:"calc(".concat(T.xb," + ").concat(1.5,"em)"),style:{borderTopWidth:"0px",borderTopLeftRadius:"calc(var(--line-thickness) * 4)",borderTopRightRadius:"calc(var(--line-thickness) * 4)"}},children:[(0,c.jsx)(w.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",left:"calc(var(--line-thickness) * -1)",right:"calc(var(--line-thickness) * -1)",height:"calc(var(--line-thickness) * 4)",className:E.P7,borderTopRadius:"var(--box-border-radius)",sx:a,contentEditable:!1}),(0,c.jsx)(eR,{...e}),e.children]})});eT.displayName="OutlineBoxesWithTopCircleCell";let ez=()=>(0,eb.S)({key:"outlineBoxesWithTopCircle",name:()=>a.Ru._({id:"bFvflC"}),icon:u.QRE,keywords:["outline","boxes","layout","circle","top","stripe","badge"],htmlTag:"outline-boxes-with-top-circle",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>a.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[g,C],imageSlot:"optional",imageType:"icon",Wrapper:eD,Cell:eT,isFullWidth:()=>!0,dragHandlePlacement:"left"}),eH=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,gridStyle:"flex_grid",cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));eH.displayName="ProcessStepsWrapper";let eN=(0,k.memo)(e=>{let t,{layoutOptions:n,index:i,image:a,selectCell:r,selectCellForElementProps:s}=e;return t=n.numbered?i+1<10?"0".concat(i+1):"".concat(i+1):void 0,(0,c.jsx)(w.s,{className:E.VN,flexDirection:"column",alignItems:"right"!==n.horizontalAlign?n.horizontalAlign:"end",opacity:1,contentEditable:!1,...s,children:(0,c.jsx)(w.s,{alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),mb:"".concat(.25,"em"),children:(0,c.jsx)(Z.R,{image:a,number:t,isNumbered:n.numbered,iconSize:1,selectCell:r,textAlign:n.numbered?"left":void 0,fontWeight:"light"})})})});eN.displayName="TopBorderIconOrNumber";let eB=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:a,selectCell:r,selectCellForElementProps:s}=e,{colorVars:l}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i,forceTransparent:!1});return(0,c.jsxs)(ev.E,{cellProps:e,cellStyle:"none",gridStyle:"flex_grid",dragHandle:e.dragHandle,cellContentPropOverrides:{textAlign:"start",mb:"".concat(.75,"em"),style:{borderRadius:0,borderWidth:0}},children:[(0,c.jsx)(eN,{layoutOptions:t,cellOptions:n,index:i,image:a,selectCell:r,selectCellForElementProps:s}),(0,c.jsx)(w.s,{position:"relative",top:"calc(var(--line-thickness) * -1)",marginTop:"0.2em",marginBottom:"0.5em",opacity:1,height:"calc(var(--line-thickness) * 1)",className:E.P7,borderRadius:0,sx:l,contentEditable:!1}),e.children]})});eB.displayName="ProcessStepsCell";let eP=()=>(0,eb.S)({key:"processSteps",name:()=>a.Ru._({id:"uFRM59"}),icon:u.Tsj,keywords:["boxes","layout","border","top","outline","badge","header","process","agenda","step"],htmlTag:"process-steps",family:"bullets",presetConfigurations:[{name:()=>a.Ru._({id:"uFRM59"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>a.Ru._({id:"cO9Sj8"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[g,C],imageSlot:"optional",imageType:"icon",Wrapper:eH,Cell:eB,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),eF=()=>(0,eb.S)({key:"quoteBoxes",name:()=>a.Ru._({id:"dXQ/Ao"}),icon:u.$7g,keywords:["quote","quotes","boxes","layout","testimonial","quotation"],htmlTag:"quote-boxes",family:"quotes",presetConfigurations:[{name:()=>a.Ru._({id:"dXQ/Ao"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{gridStyle:"flex_grid",spacing:"small"},cellConfig:{cellStyle:"outline",cellDecor:{decorType:"quotes"}}},isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),eV=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small",gridStyle:"flex_grid"}));eV.displayName="SpeechBubblesWrapper";let eO=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,selectCellForElementProps:a,children:r}=e,{colorVars:s}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i}),{width:l,height:o,fontSize:d,ref:u}=(0,Q.Lf)(),p=eZ(l,o,d);return(0,c.jsx)(ev.E,{cellProps:e,gridStyle:"flex_grid",dragHandle:e.dragHandle,children:(0,c.jsxs)(w.s,{position:"relative",css:s,width:"100%",h:"100%",minHeight:"4em",ref:u,className:E.lR,children:[(0,c.jsx)(A.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",h:"100%",overflow:"visible","data-testid":"speech-bubble-svg",...a,children:(0,c.jsx)(A.a,{as:"path",d:p,className:E.D6})}),(0,c.jsx)(A.a,{pos:"relative",p:"".concat(1,"em"),pb:"".concat(2.2,"em"),w:"100%",zIndex:1,sx:(0,h.yp)(t.horizontalAlign||"left"),children:r})]})})});eO.displayName="SpeechBubblesCell";let eZ=(e,t,n)=>{let i=1.2*n,a=.5*n,r=e-0,s=t-i-0,l=2*e/3,o=0+s;return"\n    M ".concat(0+a," ").concat(0,"\n    L ").concat(0+r-a," ").concat(0,"\n    Q ").concat(0+r," ").concat(0," ").concat(0+r," ").concat(0+a,"\n    L ").concat(0+r," ").concat(0+s-a,"\n    Q ").concat(0+r," ").concat(0+s," ").concat(0+r-a," ").concat(0+s,"\n    L ").concat(l+i/2," ").concat(o,"\n    L ").concat(l+i/2," ").concat(o+i,"\n    L ").concat(l-i/2," ").concat(o,"\n    L ").concat(0+a," ").concat(0+s,"\n    Q ").concat(0," ").concat(0+s," ").concat(0," ").concat(0+s-a,"\n    L ").concat(0," ").concat(0+a,"\n    Q ").concat(0," ").concat(0," ").concat(0+a," ").concat(0,"\n    Z")},eW=()=>(0,eb.S)({key:"speechBubbles",name:()=>a.Ru._({id:"H+n8Qp"}),icon:u.DN2,keywords:["speech","bubbles","quotes","conversation","dialogue"],htmlTag:"speechBubbles",family:"quotes",additionalOptions:[C,{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"btb61s"}),options:{horizontalAlign:"left"}},{name:()=>a.Ru._({id:"9WPD2t"}),options:{horizontalAlign:"center"}},{name:()=>a.Ru._({id:"HbrV/u"}),options:{horizontalAlign:"right"}}],imageSlot:"optional",Wrapper:eV,Cell:eO,featureFlag:"smartLayoutsJuly2025"}),eU=()=>(0,eb.S)({key:"sideLineText",name:()=>a.Ru._({id:"BYRhzB"}),icon:i.POs,keywords:["boxes","layout","line","border"],htmlTag:"side-line-with-text",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"BYRhzB"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{gridStyle:"standard",spacing:"medium"},cellConfig:{cellStyle:"none",cellDecor:{decorType:"fullLine",decorPosition:"side",decorSize:"small"}}},featureFlag:"smartLayoutConfigExperiments",isFullWidth:()=>!0}),eG=()=>(0,eb.S)({key:"smallBullets",name:()=>a.Ru._({id:"XY2IHD"}),icon:u.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"smallBullets",family:"bullets",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"XY2IHD"}),options:{},zoomIn:!0}],config:{wrapperConfig:{spacing:"medium",gridStyle:"flex_grid"},cellConfig:{cellStyle:"none",marker:{markerType:"smallBullet",markerFontSize:null,markerPosition:"left"}}},isFullWidth:()=>!0,addDirection:()=>"right"}),eK=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,gridStyle:"flex_grid",cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));eK.displayName="SolidBoxesWrapper";let eQ=(0,k.memo)(e=>{var t;let{colorVars:n}=(0,D.r)({layoutColorOverride:e.layoutOptions.color,cellColorOverride:null==(t=e.cellOptions)?void 0:t.color,index:e.index});return(0,c.jsx)(ev.E,{cellProps:e,gridStyle:"flex_grid",cellStyle:"solid",dragHandle:e.dragHandle,cellContentPropOverrides:{sx:n},children:e.children})});eQ.displayName="SolidBoxesCell";let eq=()=>(0,eb.S)({key:"solidBoxes",name:()=>a.Ru._({id:"fN02hl"}),icon:i.Nfw,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"fN02hl"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],Wrapper:eK,Cell:eQ,isFullWidth:()=>!0}),eJ=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,gridStyle:"flex_grid",cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));eJ.displayName="SolidBoxesWithIconsInsideWrapper";let e$=(0,k.memo)(e=>(0,c.jsx)(ev.E,{cellProps:e,gridStyle:"flex_grid",cellStyle:"solid",dragHandle:e.dragHandle,markerConfig:{markerType:"iconCircle",markerFontSize:null,markerPosition:"top"},children:e.children}));e$.displayName="SolidBoxesWithIconsInsideCell";let eY=()=>(0,eb.S)({key:"solidBoxesWithIconsInside",name:()=>a.Ru._({id:"X7s5I1"}),icon:i.Dnq,keywords:["solid","boxes","layout","icons","inside","filled","text boxes"],htmlTag:"solid-boxes-with-icons-inside",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"WH8tvt"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>a.Ru._({id:"X7s5I1"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[g,C],imageSlot:"optional",imageType:"icon",Wrapper:eJ,Cell:e$,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),eX=()=>(0,eb.S)({key:"solidBoxSmallBullets",name:()=>a.Ru._({id:"4N8X2T"}),icon:u.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"solidBoxSmallBullets",family:"bullets",presetConfigurations:[{name:()=>a.Ru._({id:"4N8X2T"}),options:{},zoomIn:!0}],additionalOptions:[eC.i],config:{wrapperConfig:{spacing:"medium",gridStyle:"flex_grid"},cellConfig:{cellStyle:"solid",marker:{markerType:"smallBullet",markerPosition:"left",markerFontSize:null}}},isFullWidth:()=>!0,addDirection:()=>"right"});var e0=n(79649);let e1=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"none",gridStyle:"flex_grid",wrapperStyle:"solid"}));e1.displayName="SolidJoinedBoxesWrapper";let e2=(0,k.memo)(e=>{let{index:t,layoutOptions:n,numCells:i,layoutContainerSize:a,cellOptions:r,children:s}=e,{columns:l}=(0,e0.i)({cellSize:n.cellSize||0,horizontalAlign:n.horizontalAlign||"center",orientation:n.orientation||"horizontal",numCells:i,containerSize:a,forceBalance:!1}),{colorVars:o}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==r?void 0:r.color,index:t,forceTransparent:!1,optOutOfPalette:!0}),{colorVars:d}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==r?void 0:r.color,index:t,forceTransparent:!1}),u=0===t,p=t%l==0,h=t>=l,g=t===l-1,m=t===Math.floor((i-1)/l)*l,x=t===i-1;return(0,c.jsxs)(ev.E,{cellProps:e,gridStyle:"flex_grid",dragHandle:e.dragHandle,cellContentPropOverrides:{p:T.xb,css:{...o},borderStartStartRadius:u?"var(--box-border-radius)":"0",borderEndStartRadius:m?"var(--box-border-radius)":"0",borderStartEndRadius:g?"var(--box-border-radius)":"0",borderEndEndRadius:x?"var(--box-border-radius)":"0",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[!u&&!p&&(0,c.jsx)(A.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",insetStart:"0",className:E.eI,css:d}),h&&(0,c.jsx)(A.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",insetStart:"0",className:E.eI,css:d}),s]})});e2.displayName="SolidJoinedBoxesCell";let e3=()=>(0,eb.S)({key:"solidJoinedBoxes",name:()=>a.Ru._({id:"6zAXOC"}),icon:i.swh,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-joined-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"6zAXOC"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],Wrapper:e1,Cell:e2,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),e5=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"none",wrapperStyle:"solid",gridStyle:"flex_grid"}));e5.displayName="SolidJoinedBoxesWrapper";let e4=(e,t)=>e?"".concat(T.xb," 2.5em ").concat(T.xb," ").concat(T.xb):t?"".concat(T.xb," ").concat(T.xb," ").concat(T.xb," 2.5em"):"".concat(T.xb," 2.5em ").concat(T.xb," 2.5em"),e6=(e,t)=>0===e?"".concat(T.xb," ").concat(T.xb," 2.5em ").concat(T.xb):e===t-1?"2.5em ".concat(T.xb," ").concat(T.xb," ").concat(T.xb):"2.5em ".concat(T.xb," 2.5em ").concat(T.xb),e9=(e,t,n,i)=>{let a="rtl"===i?e===n-1:e===Math.floor((n-1)/t)*t,r="rtl"===i?e===Math.floor((n-1)/t)*t:e===n-1;return{borderStartStartRadius:("rtl"===i?e===t-1:0===e)?"var(--box-border-radius)":"0",borderEndStartRadius:a?"var(--box-border-radius)":"0",borderStartEndRadius:("rtl"===i?0===e:e===t-1)?"var(--box-border-radius)":"0",borderEndEndRadius:r?"var(--box-border-radius)":"0"}},e7=(0,k.memo)(e=>{let{direction:t,index:n,layoutOptions:i,numCells:a,layoutContainerSize:r,cellOptions:s,children:l,image:o,selectCell:d}=e,{columns:u,isHorizontal:p}=(0,e0.i)({cellSize:i.cellSize||0,horizontalAlign:i.horizontalAlign||"center",orientation:i.orientation||"horizontal",numCells:a,containerSize:r,forceBalance:!1}),{colorVars:h}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==s?void 0:s.color,index:n,forceTransparent:!1,optOutOfPalette:!0}),{colorVars:g}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==s?void 0:s.color,index:n,forceTransparent:!1}),m="rtl"===t?n===u-1:0===n,x="rtl"===t?(n+1)%u==0:n%u==0,f="rtl"===t?n%u==0:(n+1)%u==0||n===a-1,b=n>=u,C=!m&&!x&&p,y=p?e4(x,f):e6(n,a),v=e9(n,u,a,t);return(0,c.jsxs)(ev.E,{cellProps:e,gridStyle:"flex_grid",dragHandle:e.dragHandle,cellContentPropOverrides:{p:y,css:{...h},...v,backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[C&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(A.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",left:"0",className:E.eI,css:g}),(0,c.jsx)(w.s,{position:"absolute",top:"50%",left:"calc(-".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:g,borderRadius:"50%",className:(0,V.cx)(E.uk,E.SA,E.lR),children:(0,c.jsx)(w.s,{alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),children:(0,c.jsx)(Z.R,{image:o,number:i.numbered?n+1:void 0,isNumbered:i.numbered,iconSize:1.25,selectCell:d})})})]}),b&&(0,c.jsx)(A.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",left:"0",className:E.eI,css:g,children:!p&&(0,c.jsx)(w.s,{position:"absolute",top:"50%",left:"calc(50% - ".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:g,borderRadius:"50%",className:(0,V.cx)(E.uk,E.SA,E.lR),children:(0,c.jsx)(w.s,{alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),children:(0,c.jsx)(Z.R,{image:o,number:i.numbered?n+1:void 0,isNumbered:i.numbered,iconSize:1.25,selectCell:d})})})}),l]})});e7.displayName="SolidJoinedBoxesCell";let e8=()=>(0,eb.S)({key:"solidJoinedBoxesWithIcons",name:()=>a.Ru._({id:"riEUxW"}),icon:i.swh,keywords:["solid","boxes","layout","filled","text boxes","icons"],htmlTag:"solid-joined-boxes-with-icons",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"riEUxW"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],imageSlot:"always",imageType:"icon",Wrapper:e5,Cell:e7,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),te=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,gridStyle:"flex_grid",cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));te.displayName="SolidLeafBoxesWrapper";let tt=(0,k.memo)(e=>{var t;let{colorVars:n}=(0,D.r)({layoutColorOverride:e.layoutOptions.color,cellColorOverride:null==(t=e.cellOptions)?void 0:t.color,index:e.index});return(0,c.jsx)(ev.E,{cellProps:e,gridStyle:"flex_grid",cellStyle:"solid",dragHandle:e.dragHandle,cellContentPropOverrides:{sx:n,style:{borderRadius:"2em 0 2em 0"}},children:e.children})});tt.displayName="SolidLeafBoxesCell";let tn=()=>(0,eb.S)({key:"solidLeafBoxes",name:()=>a.Ru._({id:"gVDJjb"}),icon:u.YHM,keywords:["solid","leaf","boxes","layout","filled","text boxes","rounded"],htmlTag:"solid-leaf-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"gVDJjb"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],Wrapper:te,Cell:tt,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),ti=()=>(0,eb.S)({key:"topLineText",name:()=>a.Ru._({id:"3uRuGe"}),icon:i.POs,keywords:["boxes","layout","line","border"],htmlTag:"top-line-with-text",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"3uRuGe"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],config:{wrapperConfig:{gridStyle:"standard",spacing:"medium"},cellConfig:{cellStyle:"none",cellDecor:{decorType:"fullLine",decorPosition:"top",decorSize:"small"}}},featureFlag:"smartLayoutConfigExperiments",isFullWidth:()=>!0});var ta=n(29452),tr=n.n(ta);let ts=()=>(0,eb.S)({key:"heroCenterPictographic",name:()=>a.Ru._({id:"aZxfVD"}),icon:u.Nfw,keywords:["hero","illustration","image"],htmlTag:"hero-image",presetConfigurations:[],getEmptyNode:()=>({type:"smartLayout",attrs:{variantKey:"heroCenterPictographic"},content:[{type:"smartLayoutCell",content:[{type:"image",attrs:{source:"image.pictographic"}}],attrs:{options:{fullBleedContent:!0,role:"hero"}}},...tr()(4).map(()=>({type:"smartLayoutCell",content:(0,T.Hg)(),attrs:{}}))]}),additionalOptions:[g],additionalCellOptions:[{key:"role",name:()=>"Role"},{key:"fullBleedContent",name:()=>"Full bleed content"}],config:{wrapperConfig:{spacing:"small",gridStyle:"hero_center"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0,featureFlag:"illustrationDiagrams"}),tl=()=>(0,eb.S)({key:"heroCenterPillar",name:()=>a.Ru._({id:"wdNIba"}),icon:u.Nfw,keywords:["hero","image","layout","border"],htmlTag:"hero-image",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"wdNIba"}),options:{horizontalAlign:"center"},cellAttrs:{}}],getEmptyNode:()=>({type:"smartLayout",attrs:{variantKey:"heroCenterPillar"},content:[{type:"smartLayoutCell",content:[{type:"smartDiagram",attrs:{templateKey:"pillar_layout"}}],attrs:{options:{fullBleedContent:!0,role:"hero"}}},...tr()(4).map(()=>({type:"smartLayoutCell",content:(0,T.Hg)(),attrs:{}}))]}),additionalOptions:[g],additionalCellOptions:[],config:{wrapperConfig:{spacing:"small",gridStyle:"hero_center"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0,featureFlag:"heroSmartLayouts"}),to=()=>(0,eb.S)({key:"heroLeftPictographic",name:()=>a.Ru._({id:"aZxfVD"}),icon:u.Nfw,keywords:["hero","illustration","image"],htmlTag:"hero-image",presetConfigurations:[],getEmptyNode:()=>({type:"smartLayout",attrs:{variantKey:"heroLeftPictographic"},content:[{type:"smartLayoutCell",content:[{type:"image",attrs:{source:"image.pictographic"}}],attrs:{options:{fullBleedContent:!0,role:"hero"}}},...tr()(4).map(()=>({type:"smartLayoutCell",content:(0,T.Hg)(),attrs:{}}))]}),additionalOptions:[g],additionalCellOptions:[{key:"role",name:()=>"Role"},{key:"fullBleedContent",name:()=>"Full bleed content"}],config:{wrapperConfig:{spacing:"small",gridStyle:"hero_left"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0,featureFlag:"illustrationDiagrams"}),tc=()=>(0,eb.S)({key:"heroRightPictographic",name:()=>a.Ru._({id:"aZxfVD"}),icon:u.Nfw,keywords:["hero","illustration","image"],htmlTag:"hero-image",presetConfigurations:[],getEmptyNode:()=>({type:"smartLayout",attrs:{variantKey:"heroRightPictographic"},content:[{type:"smartLayoutCell",content:[{type:"image",attrs:{source:"image.pictographic"}}],attrs:{options:{fullBleedContent:!0,role:"hero"}}},...tr()(4).map(()=>({type:"smartLayoutCell",content:(0,T.Hg)(),attrs:{}}))]}),additionalOptions:[g],additionalCellOptions:[{key:"role",name:()=>"Role"},{key:"fullBleedContent",name:()=>"Full bleed content"}],config:{wrapperConfig:{spacing:"small",gridStyle:"hero_right"},cellConfig:{cellStyle:"outline"}},isFullWidth:()=>!0,featureFlag:"illustrationDiagrams"}),td=()=>(0,eb.S)({key:"arrows",name:()=>a.Ru._({id:"YUGjgn"}),icon:u.vFJ,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"arrows",family:"sequence",additionalOptions:[eC.i,C,{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"QI5FSO"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>a.Ru._({id:"KphBeD"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",config:{wrapperConfig:{spacing:"none",gridStyle:"balanced_grid"},cellConfig:{innerLabel:{labelType:"chevron"}}}});(0,k.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:a,index:r,selectCell:s,selectCellForElementProps:l}=t,o=null==a?void 0:a.icon,{colorVars:d}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==a?void 0:a.color,index:r});return(0,c.jsx)(w.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...d},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,V.cx)(E.SA,E.lR),...l,children:(0,c.jsx)(w.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),children:(0,c.jsx)(Z.R,{image:o,number:i.numbered?r+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:s})})})}).displayName="OutlineBoxesWithLabelLabel";let tu=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small",gridStyle:"balanced_grid"}));tu.displayName="OutlineBoxesWithLabelWrapper";let tp=(0,k.memo)(e=>(0,c.jsx)(ev.E,{cellProps:e,dragHandle:e.dragHandle,cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelConfig:{labelType:"flush"},cellStyle:"outline",children:e.children}));tp.displayName="OutlineBoxesWithLabelCell";let th=()=>(0,eb.S)({key:"outlineBoxesWithLabel",name:()=>a.Ru._({id:"VWjsp7"}),icon:u._vK,keywords:["outline","boxes","label","sequence","ordered","headers"],htmlTag:"outline-boxes-with-label",family:"boxes",additionalOptions:[eC.i,C],presetConfigurations:[{name:()=>a.Ru._({id:"yTTyHb"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>a.Ru._({id:"UifYfm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:tu,Cell:tp}),tg=()=>(0,eb.S)({key:"pills",name:()=>a.Ru._({id:"OOCfU+"}),icon:u.tKC,keywords:["pills","capsules","chips","sequence","ordered","rounded"],htmlTag:"pills",family:"sequence",additionalOptions:[eC.i,C],presetConfigurations:[{name:()=>a.Ru._({id:"D17j6n"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>a.Ru._({id:"gJEEpm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",config:{wrapperConfig:{spacing:"small",gridStyle:"balanced_grid"},cellConfig:{innerLabel:{labelType:"pills"}}}}),tm=()=>(0,eb.S)({key:"slantedLabels",name:()=>a.Ru._({id:"J0xtcw"}),icon:i.sD5,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"slantedLabels",family:"sequence",additionalOptions:[eC.i,C,{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"gA8+s2"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>a.Ru._({id:"ryugXN"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",config:{wrapperConfig:{spacing:"none",gridStyle:"balanced_grid"},cellConfig:{innerLabel:{labelType:"slanted"},cellContentOverrides:{pt:0,pb:"1em"}}},featureFlag:"smartLayoutsJuly2025"}),tx=()=>(0,eb.S)({key:"steps",name:()=>a.Ru._({id:"A9onc2"}),icon:u.k2U,keywords:["steps","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"087akc"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>a.Ru._({id:"DCkonM"}),options:{orientation:"vertical",horizontalAlign:"left"}}],config:{wrapperConfig:{spacing:"small",gridStyle:"steps_up"},cellConfig:{innerLabel:{labelType:"simpleLine"}}}}),tf=()=>(0,eb.S)({key:"stepsWithArrow",name:()=>a.Ru._({id:"kQwqXh"}),icon:u.INJ,keywords:["steps","arrow","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"wFgEzK"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>a.Ru._({id:"WkYYLP"}),options:{orientation:"vertical",horizontalAlign:"left"}}],config:{wrapperConfig:{spacing:"small",gridStyle:"steps_up"},cellConfig:{innerLabel:{labelType:"arrow"}}},featureFlag:"smartLayoutsJuly2025"}),tb=()=>(0,eb.S)({key:"stepsWithIcons",name:()=>a.Ru._({id:"q8HKHP"}),icon:u.o97,keywords:["steps","icons","sequence","ordered"],htmlTag:"stepsWithIcons",family:"steps",additionalOptions:[eC.i,C],presetConfigurations:[{name:()=>a.Ru._({id:"lPCKsX"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>a.Ru._({id:"wNI9DR"}),options:{orientation:"vertical",horizontalAlign:"left"}}],imageSlot:"optional",imageType:"icon",config:{wrapperConfig:{spacing:"small",gridStyle:"steps_up"},cellConfig:{innerLabel:{labelType:"iconCircleWithSimpleLine"}}},featureFlag:"smartLayoutsJuly2025"}),tC=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small",gridStyle:"steps_up"}));tC.displayName="StepsWrapper";let ty=(0,k.memo)(e=>(0,c.jsx)(ev.E,{cellProps:e,gridStyle:"steps_up",dragHandle:e.dragHandle,cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelConfig:{labelType:"simpleLineFlush"},cellStyle:"outline",children:e.children}));ty.displayName="StepsCell";let tv=()=>(0,eb.S)({key:"stepsWithOutlineBoxes",name:()=>a.Ru._({id:"bKc2b/"}),icon:i.idT,keywords:["steps","outline","boxes","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"pi32P5"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>a.Ru._({id:"T9MVOK"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:tC,Cell:ty,featureFlag:"smartLayoutsJuly2025"});var tw=n(56151),tA=n(30709),tk=n(85813),tL=n(25778),tj=n(43634);let tE=e=>{let{updateAttributes:t,value:n,placeholder:i,inputProps:a,...r}=e,s=(0,k.useCallback)(e=>{t&&t({label:""===e?null:e})},[t]),l=(0,tL.GV)(tj.Cl)&&t;return(0,c.jsxs)(tw.F,{value:n||"",placeholder:i,onChange:s,isDisabled:!l,...r,children:[(0,c.jsx)(tA.l,{width:"100%",h:"1em",py:0,noOfLines:1,userSelect:l?void 0:"none",lineHeight:1}),(0,c.jsx)(tk.j,{width:"100%",my:-1,py:1,lineHeight:1,...a})]})};var tS=n(64003),tM=n(98874);let tI={key:"imagePosition",defaultValue:()=>"top",Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,c.jsx)(p.I,{label:i.name(),onClick:()=>n("top"===t?"left":"top"),isActive:"left"===t,icon:"top"===t?u.qXP:u.Usg,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"top"===e?u.qXP:u.Usg,items:[{key:"top",label:a.Ru._({id:"WWy8TN"}),icon:"top"===e?u.e68:void 0,onClick:()=>t("top")},{key:"left",label:a.Ru._({id:"lg7+vk"}),icon:"left"===e?u.e68:void 0,onClick:()=>t("left")}]}),name:()=>a.Ru._({id:"BWUDJY"})};var t_=n(57405),tD=n(48810),tR=n(50933),tT=n(48621),tz=n(33170);let tH=[{label:()=>a.Ru._({id:"yrC1Cd"}),key:"xs"},{label:()=>a.Ru._({id:"4Revpc"}),key:"sm"},{label:()=>a.Ru._({id:"agPptk"}),key:"md"},{label:()=>a.Ru._({id:"k7rCa/"}),key:"lg"},{label:()=>a.Ru._({id:"vp6Yr4"}),key:"xl"},{label:()=>a.Ru._({id:"CK1KXz"}),key:"full"}],tN={key:"shapeSize",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,option:i}=e,a=tH.findIndex(e=>e.key===t);-1===a&&(a=3);let{label:r}=tH[a],s=(0,k.useCallback)(e=>{let{key:t}=tH[e];n(t)},[n]);return(0,c.jsxs)(d.z,{spacing:2,me:2,children:[(0,c.jsx)(tz.Tz,{placement:"top",label:(0,c.jsxs)(t_.T,{spacing:0,children:[(0,c.jsx)(tD.E,{color:"gray.400",children:i.name()}),(0,c.jsx)(tD.E,{children:r()})]}),children:(0,c.jsx)(tD.E,{fontSize:"sm",fontWeight:"600",children:(0,c.jsx)(tT.g,{icon:i.icon,fixedWidth:!0})})}),(0,c.jsxs)(tR.Ap,{min:0,max:tH.length-1,step:1,value:a,onChange:s,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,c.jsx)(tR.hB,{children:(0,c.jsx)(tR.hJ,{})}),(0,c.jsx)(tz.Tz,{placement:"top",label:(0,c.jsxs)(t_.T,{spacing:0,children:[(0,c.jsx)(tD.E,{color:"gray.400",children:i.name()}),(0,c.jsx)(tD.E,{children:r()})]}),children:(0,c.jsx)(tR.OQ,{background:"trueblue.500"})})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:u.j3q,items:tH.map(n=>({key:n.key,label:n.label(),icon:n.key===e?u.e68:void 0,onClick:()=>t(n.key)}))}),name:()=>a.Ru._({id:"FeDgKA"}),icon:u.j3q,validator:e=>null===e||tH.some(t=>t.key===e)};var tB=n(79018);let tP=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));tP.displayName="CircleStatsWrapper";let tF={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},tV=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=(0,tB.dD)(e),u=(0,q.JL)({innerRadius:41,outerRadius:50}),p=u({startAngle:0,endAngle:2*d*Math.PI}),g=u({startAngle:0,endAngle:2*Math.PI}),m=tF[n.shapeSize]||1,x="min(100%, ".concat(tM.mw*m,"em)"),f=(0,I.FX)()||"left"===n.imagePosition?"".concat(2*m,"em"):"".concat(2.5*m,"em"),{colorOverride:b}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:C}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:y}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:v,shouldRecolorTrack:k}=tZ(o,b),L=(0,c.jsxs)(w.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:x,pos:"relative",contentEditable:!1,py:"0.25em",...l,children:[(0,c.jsx)(tE,{value:a||"",updateAttributes:r,pos:"absolute",insetStart:"".concat(9,"%"),className:(0,V.cx)(O.U6),fontSize:f,lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)("center"),style:{width:"".concat(82,"%")},cursor:"text"}),(0,c.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{l.onClick(e)},cursor:l.cursor,children:[(0,c.jsx)(A.a,{as:"path",d:g||void 0,className:E.D6,style:{fill:v?"var(--card-color)":void 0},"data-testid":"stats-track",css:k?C:void 0,...l}),(0,c.jsx)(A.a,{as:"path",d:p||void 0,className:E._B,"data-testid":"stats-fill",css:y,...l})]})]});return(0,c.jsx)(tS.L,{visual:L,visualPosition:n.imagePosition,visualSize:"".concat(100*m,"%"),visualMaxSize:x,gap:"1em",cellProps:e,children:e.children})});tV.displayName="CircleStatsCell";let tO=()=>(0,eb.S)({key:"circleStats",name:()=>a.Ru._({id:"mvpFPS"}),icon:u.ItB,keywords:["stats","circle"],htmlTag:"circleStats",family:"numbers",additionalOptions:[{...tI,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...tN,name:()=>a.Ru._({id:"1C+7U1"}),icon:u.GEE},{...g,defaultValue:(0,h.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>a.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:tP,Cell:tV}),tZ=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},tW=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));tW.displayName="BarStatsWrapper";let tU=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=n.horizontalAlign,u=(0,tB.dD)(e),{colorOverride:p}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:g}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:m}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:x,shouldRecolorTrack:f}=tZ(o,p),b=(0,c.jsxs)(w.s,{direction:"row",align:"center",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...l,children:[(0,c.jsxs)(A.a,{flex:"1",my:"0.5em",pos:"relative",borderRadius:"var(--box-border-radius)",...l,children:[(0,c.jsx)(A.a,{pos:"absolute",inset:"0",className:E.SA,style:x?{background:"var(--card-color)"}:void 0,css:f?g:void 0,...l}),(0,c.jsx)(A.a,{w:"".concat(100*u,"%"),h:"1.25em",pos:"relative",className:E.P7,borderRadius:"inherit",css:m,...l})]}),(0,c.jsx)(tE,{value:a||"",updateAttributes:r,className:(0,V.cx)(O.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)(d),fontSize:"1.25em",inputProps:{textAlign:"right",width:"4em",py:0},minW:"1em"})]});return(0,c.jsx)(tS.L,{visual:b,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});tU.displayName="BarStatsCell";let tG=()=>(0,eb.S)({key:"barStats",name:()=>a.Ru._({id:"LYRXtx"}),icon:u.dYn,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"oWD4zD"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>a.Ru._({id:"HEnTGz"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:tW,Cell:tU}),tK=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));tK.displayName="CircleWithBoldLineStatsWrapper";let tQ={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},tq=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=(0,tB.dD)(e),u=9,p=(0,q.JL)({innerRadius:50-u,outerRadius:50})({startAngle:0,endAngle:2*d*Math.PI}),g=45,m=.45,x=(0,q.JL)({innerRadius:g-m,outerRadius:g})({startAngle:0,endAngle:2*Math.PI}),f=tQ[n.shapeSize]||1,b="min(100%, ".concat(tM.mw*f,"em)"),C=(0,I.FX)()||"left"===n.imagePosition?"".concat(2*f,"em"):"".concat(2.5*f,"em"),{colorOverride:y}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:v}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:k}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:L,shouldRecolorTrack:j}=t$(o,y),M=(0,c.jsxs)(w.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:b,pos:"relative",contentEditable:!1,py:"0.25em",...l,children:[(0,c.jsx)(tE,{value:a||"",updateAttributes:r,pos:"absolute",insetStart:"".concat(u,"%"),className:(0,V.cx)(O.U6),fontSize:C,lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)("center"),style:{width:"".concat(100-2*u,"%")},cursor:"text"}),(0,c.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{l.onClick(e)},cursor:l.cursor,children:[(0,c.jsx)(A.a,{as:"path",d:x||void 0,className:E.Lp,style:{fill:L?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...j?v:void 0,"--shape-border-width":"0.125em"},...l}),(0,c.jsx)(A.a,{as:"path",d:p||void 0,className:E._B,"data-testid":"stats-fill",css:k,...l})]})]});return(0,c.jsx)(tS.L,{visual:M,visualPosition:n.imagePosition,visualSize:"".concat(100*f,"%"),visualMaxSize:b,gap:"1em",cellProps:e,children:e.children})});tq.displayName="CircleWithBoldLineStatsCell";let tJ=()=>(0,eb.S)({key:"circleStatsWithBoldLine",name:()=>a.Ru._({id:"kSnmN+"}),icon:u.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-bold-line",family:"numbers",additionalOptions:[{...tI,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...tN,name:()=>a.Ru._({id:"1C+7U1"}),icon:u.GEE},{...g,defaultValue:(0,h.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>a.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:tK,Cell:tq,featureFlag:"smartLayoutsJuly2025"}),t$=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},tY=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));tY.displayName="CircleWithExternalBoldLineStatsWrapper";let tX={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},t0=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=(0,tB.dD)(e),u=9,p=(0,q.JL)({innerRadius:50-u,outerRadius:50})({startAngle:0,endAngle:2*d*Math.PI}),g=35,m=.35000000000000003,x=(0,q.JL)({innerRadius:g-m,outerRadius:g})({startAngle:0,endAngle:2*Math.PI}),f=tX[n.shapeSize]||1,b="min(100%, ".concat(tM.mw*f,"em)"),C=(0,I.FX)()||"left"===n.imagePosition?"".concat(2*f,"em"):"".concat(2.5*f,"em"),{colorOverride:y}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:v}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:k}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:L,shouldRecolorTrack:j}=t2(o,y),M=(0,c.jsxs)(w.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:b,pos:"relative",contentEditable:!1,py:"0.25em",...l,children:[(0,c.jsx)(tE,{value:a||"",updateAttributes:r,pos:"absolute",insetStart:"".concat(u,"%"),className:(0,V.cx)(O.U6),fontSize:C,lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)("center"),style:{width:"".concat(100-2*u,"%")},cursor:"text"}),(0,c.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{l.onClick(e)},cursor:l.cursor,children:[(0,c.jsx)(A.a,{as:"path",d:x||void 0,className:E.Lp,style:{fill:L?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...j?v:void 0,"--shape-border-width":"0.125em"},...l}),(0,c.jsx)(A.a,{as:"path",d:p||void 0,className:E._B,"data-testid":"stats-fill",css:k,...l})]})]});return(0,c.jsx)(tS.L,{visual:M,visualPosition:n.imagePosition,visualSize:"".concat(100*f,"%"),visualMaxSize:b,gap:"1em",cellProps:e,children:e.children})});t0.displayName="CircleWithExternalBoldLineStatsCell";let t1=()=>(0,eb.S)({key:"circleStatsWithExternalBoldLine",name:()=>a.Ru._({id:"L3jtjR"}),icon:u.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-external-bold-line",family:"numbers",additionalOptions:[{...tI,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...tN,name:()=>a.Ru._({id:"1C+7U1"}),icon:u.GEE},{...g,defaultValue:(0,h.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>a.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:tY,Cell:t0,featureFlag:"smartLayoutsJuly2025"}),t2=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},t3=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));t3.displayName="DotGridStatsWrapper";let t5=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=n.horizontalAlign,u=(0,tB.dD)(e),{colorOverride:p}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:g}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:m}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:x,shouldRecolorTrack:f}=tZ(o,p),b=Math.round(100*u),C=Array.from({length:100},(e,t)=>{let n=Math.floor(t/10),i=t%10,a=Math.floor(b/10),r=n>=10-a||n===10-a-1&&i<b%10;return(0,c.jsx)(A.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:r?E.P7:E.SA,css:r?m:f?g:void 0,style:!r&&x?{background:"var(--card-color)"}:void 0,...l},t)}),y=(0,c.jsx)(w.s,{width:"100%",justify:"center"===d?"center":"right"===d?"flex-end":"flex-start",children:(0,c.jsxs)(w.s,{direction:"column",align:"center"===d?"center":"right"===d?"flex-end":"flex-start",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...l,children:[(0,c.jsx)(v.x,{templateColumns:"repeat(10, 1fr)",gap:"0.2em",flex:"1",my:"0.5em",justifyItems:"center",alignItems:"center",...l,children:C}),(0,c.jsx)(tE,{value:a||"",updateAttributes:r,className:(0,V.cx)(O.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)(d),fontSize:"3em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em",mb:"0.25em"})]})});return(0,c.jsx)(tS.L,{visual:y,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});t5.displayName="DotGridStatsCell";let t4=()=>(0,eb.S)({key:"dotGridStats",name:()=>a.Ru._({id:"iW6hrR"}),icon:i.nBi,keywords:["stats","dot","grid","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"OCJYne"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>a.Ru._({id:"Ho9/Bu"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:t3,Cell:t5,featureFlag:"smartLayoutsJuly2025"}),t6=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));t6.displayName="DotLineStatsWrapper";let t9=(0,k.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:i,label:a,updateAttributes:r,index:s,selectCellForElementProps:l}=e,o=(0,S.M)(t),d=n.horizontalAlign,u=(0,tB.dD)(e),{colorOverride:p}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!0}),{colorVars:g}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s}),{colorVars:m}=(0,D.r)({layoutColorOverride:n.color,cellColorOverride:null==i?void 0:i.color,index:s,forceTransparent:!1}),{useTransparentTrack:x,shouldRecolorTrack:f}=tZ(o,p),b=Math.round(5*u),C=Array.from({length:5},(e,t)=>{let n=t<b;return(0,c.jsx)(A.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:n?E.P7:E.SA,css:n?m:f?g:void 0,style:!n&&x?{background:"var(--card-color)"}:void 0,...l},t)}),y=(0,c.jsx)(w.s,{width:"100%",justify:"center"===d?"center":"right"===d?"flex-end":"flex-start",children:(0,c.jsxs)(w.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...l,children:[(0,c.jsx)(v.x,{templateColumns:"repeat(5, 1fr)",gap:"0.1em",my:"0.5em",justifyItems:"center",alignItems:"center",...l,children:C}),(0,c.jsx)(tE,{value:a||"",updateAttributes:r,className:(0,V.cx)(O.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)(d),fontSize:"1.25em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em"})]})});return(0,c.jsx)(tS.L,{visual:y,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});t9.displayName="DotLineStatsCell";let t7=()=>(0,eb.S)({key:"dotLineStats",name:()=>a.Ru._({id:"Z+uBD/"}),icon:i.Dwc,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"kpy3OF"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>a.Ru._({id:"YT7LWI"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:t6,Cell:t9,featureFlag:"smartLayoutsJuly2025"}),t8=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));t8.displayName="PlainStatsWrapper";let ne={xs:2,sm:2.65,md:3.3,lg:3.95,xl:4.6,full:5.25},nt=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:i,updateAttributes:a,index:r}=e,{headingColorCss:s}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:r,forceTransparent:!0}),l=t.horizontalAlign,o=ne[t.shapeSize||"md"],d=(0,I.FX)(),u=(0,c.jsx)(w.s,{direction:"column",align:"center",justify:"center",width:"100%",pos:"relative",contentEditable:!1,py:"0.5em",css:s,fontSize:d?"0.75em":"1em",children:(0,c.jsx)(tE,{value:i||"",updateAttributes:a,className:(0,V.cx)(O.U6),fontSize:"".concat(o,"em"),lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)(l||"center"),style:{width:"100%"},placeholder:"—",cursor:"text"})});return(0,c.jsx)(tS.L,{visual:u,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});nt.displayName="PlainStatsCell";let nn=()=>(0,eb.S)({key:"stats",name:()=>a.Ru._({id:"29Hx9U"}),icon:u.Bi7,keywords:["stats"],htmlTag:"numbers",family:"numbers",additionalOptions:[{...tN,name:()=>a.Ru._({id:"IfKwpr"}),icon:u.ACh},{...g,defaultValue:(0,h.Ro)("center")}],presetConfigurations:[{name:()=>a.Ru._({id:"cYvymx"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",defaultOptions:{cellSize:10},Wrapper:t8,Cell:nt});var ni=n(33750),na=n.n(ni);let nr=e=>e/100*5,ns=(0,k.memo)(e=>{let{fillAmount:t,trackColorVars:n,fillColorVars:i,size:a}=e;return t<.01?(0,c.jsx)(A.a,{sx:{...n,path:{fill:"inherit"}},children:(0,c.jsx)(tT.g,{icon:l.yy,fontSize:a,style:{strokeWidth:"1em"},className:E.Lp})}):t>.99?(0,c.jsx)(A.a,{sx:{...i,path:{fill:"inherit"}},children:(0,c.jsx)(tT.g,{icon:l.yy,fontSize:a,className:E._B})}):(0,c.jsxs)(A.a,{position:"relative",sx:{...n,path:{fill:"inherit"}},children:[(0,c.jsx)(tT.g,{icon:l.yy,className:E.Lp,style:{strokeWidth:"1em"},fontSize:a}),(0,c.jsx)(A.a,{position:"absolute",top:"0",insetStart:"0",width:"".concat(100*t,"%"),height:"100%",overflow:"hidden",sx:{...i,path:{fill:"inherit"}},children:(0,c.jsx)(tT.g,{icon:l.yy,className:E._B,fontSize:a})})]})});ns.displayName="StarIcon";let nl=(0,k.memo)(e=>{let{rating:t,trackColorVars:n,fillColorVars:i,size:a}=e,r=[];for(let e=1;e<=5;e++){let s=na()(t-e+1,0,1);r.push((0,c.jsx)(A.a,{children:(0,c.jsx)(ns,{size:a,fillAmount:s,trackColorVars:n,fillColorVars:i},e)}))}return(0,c.jsx)(w.s,{gap:"0.25em",align:"center",children:r})});nl.displayName="StarRating";let no=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"medium"}));no.displayName="StarStatsWrapper";let nc=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:i,updateAttributes:a,index:r,selectCellForElementProps:s}=e,l=t.horizontalAlign,o=nr(100*(0,tB.dD)({label:i,basis:5})),{colorVars:d}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:r}),{colorVars:u}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:r,forceTransparent:!1}),p=(0,c.jsx)(w.s,{width:"100%",justify:"center"===l?"center":"right"===l?"flex-end":"flex-start",children:(0,c.jsxs)(w.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...s,children:[(0,c.jsx)(A.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",...s,children:(0,c.jsx)(nl,{rating:o,size:t.cellSize===tM.vG?"1.25em":"1.5em",trackColorVars:d,fillColorVars:u})}),(0,c.jsx)(tE,{value:i||"",updateAttributes:a,className:(0,V.cx)(O.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,h.yp)(l),fontSize:"1.25em",inputProps:{textAlign:"left",width:"2em",py:0},minW:"1em"})]})});return(0,c.jsx)(tS.L,{visual:p,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});nc.displayName="StarStatsCell";let nd=()=>(0,eb.S)({key:"starStats",name:()=>a.Ru._({id:"omSCb1"}),icon:l.yy,keywords:["stats","star","rating","number","percentage"],htmlTag:"ratings",family:"numbers",additionalOptions:[{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"NGIe/7"}),options:{horizontalAlign:"left"},cellAttrs:{label:"4.5"}},{name:()=>a.Ru._({id:"AeN6Ey"}),options:{horizontalAlign:"right"},cellAttrs:{label:"4.5"}}],defaultAttrs:{label:"3.5"},addDirection:()=>"right",Wrapper:no,Cell:nc,featureFlag:"smartLayoutsJuly2025"}),nu=(e,t,n,i,a)=>({top:n,left:i,orientation:a}),np=(e,t)=>!(e.rect.bottom<=t.rect.top||t.rect.bottom<=e.rect.top)&&(e.rect.right<=t.rect.left+5&&e.rect.right>=t.rect.left-50||t.rect.right<=e.rect.left+5&&t.rect.right>=e.rect.left-50),nh=(e,t)=>!(e.rect.right<=t.rect.left||t.rect.right<=e.rect.left)&&(e.rect.bottom<=t.rect.top+5&&e.rect.bottom>=t.rect.top-50||t.rect.bottom<=e.rect.top+5&&t.rect.bottom>=e.rect.top-50),ng=(0,k.memo)(e=>{let{top:t,left:n,orientation:i}=e,a="horizontal"===i?{width:"".concat(1,"em"),height:"".concat(2,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 50% 0%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 50% 100%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"}:{width:"".concat(2,"em"),height:"".concat(1,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 0 50%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 100% 50%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"};return(0,c.jsx)(A.a,{contentEditable:!1,position:"absolute",top:"".concat(t,"px"),insetStart:"".concat(n,"px"),backgroundColor:"var(--shape-border-color)",pointerEvents:"none",zIndex:1,transform:"translate(-50%, -50%)",sx:a})});ng.displayName="CellConnector";let nm=(0,k.memo)(e=>{let[t,n]=(0,k.useState)([]),{ref:i,width:a,height:r}=(0,Q.Lh)(),s=(0,k.useCallback)(()=>{if(!i.current)return;let e=i.current,t=e.querySelectorAll("[data-cell-index]"),a=[];t.forEach((t,n)=>{let i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s={left:i.left-r.left,top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,width:i.width,height:i.height};a.push({rect:s,index:n,el:t})});let r=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){let n=a[e],i=a[t];if(np(n,i)){let e=Math.max(n.rect.top,i.rect.top),t=Math.min(n.rect.bottom,i.rect.bottom)-e;if(t>0){let a=n.rect.left<i.rect.left?n:i,s=n.rect.left<i.rect.left?i:n,l=(a.rect.right+s.rect.left)/2,o=e+t/2;r.push(nu(n,i,o,l,"horizontal"))}}if(nh(n,i)){let e=Math.max(n.rect.left,i.rect.left),t=Math.min(n.rect.right,i.rect.right)-e;if(t>0){let a=n.rect.top<i.rect.top?n:i,s=n.rect.top<i.rect.top?i:n,l=(a.rect.bottom+s.rect.top)/2,o=e+t/2;r.push(nu(n,i,l,o,"vertical"))}}}n(r)},[]);return(0,k.useEffect)(()=>{a&&r&&s()},[a,r,s,e.numCells]),(0,c.jsxs)(A.a,{position:"relative",ref:i,children:[(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}),t.map((e,t)=>(0,c.jsx)(ng,{...e},"".concat(e.orientation,"-").concat(e.top,"-").concat(e.left,"-").concat(t)))]})});nm.displayName="ConnectedBoxesWrapper";let nx=(0,k.memo)(e=>(0,c.jsx)(ev.E,{cellProps:e,cellStyle:"solid","data-cell-index":e.index,dragHandle:e.dragHandle,children:e.children}));nx.displayName="ConnectedBoxesCell";let nf=()=>(0,eb.S)({key:"connectedBoxes",name:()=>a.Ru._({id:"u6HATE"}),icon:i.Nfw,keywords:["connected","boxes","layout","filled","connectors","flow"],htmlTag:"connected-boxes",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"u6HATE"}),options:{horizontalAlign:"center"}}],additionalOptions:[g],Wrapper:nm,Cell:nx,isFullWidth:()=>!0,featureFlag:"smartLayoutSkins"});var nb=n(88889),nC=n(17485),ny=n(8884),nv=n(89703);let nw=e=>{let{selectCell:t,isFocused:n}=e,i=(0,nv.f)();return{handleClick:(0,k.useCallback)(()=>{n?i({isOpen:!0}):null==t||t()},[t,i,n]),handleDoubleClick:(0,k.useCallback)(()=>{null==t||t(),i({isOpen:!0})},[t,i])}},nA={xs:.3,sm:.44,md:.58,lg:.72,xl:.86,full:1},nk=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign}));nk.displayName="ImagesWithTextWrapper";let nL=(0,k.memo)(e=>{var t,n;let{image:i,layoutOptions:a,numCells:r,layoutContainerSize:s,isFocused:l,selectCell:o,...d}=e,u=null!=(n=a.imageShape)?n:"square",p=nC.zF[u],h=null==i||null==(t=i.meta)?void 0:t.has_transparency,g=!a.shapeSize&&a.imageSize?a.imageSize:nA[a.shapeSize||"full"],m="left"===a.imagePosition,{columns:x}=(0,e0.i)({cellSize:a.cellSize||0,horizontalAlign:a.horizontalAlign||"center",orientation:a.orientation||"horizontal",containerSize:s,numCells:r,forceBalance:!1}),f=1===x?"min(100%, ".concat(tM.mw*g,"em)"):"100%",b=h?{...p}:{...ey.z,...p},{handleClick:C,handleDoubleClick:y}=nw({selectCell:o,isFocused:l}),v=(0,c.jsx)(A.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",overflow:"hidden",sx:b,children:(0,c.jsx)(nb.Y,{image:i,imageShape:u,handleEditableClick:C,handleEditableDoubleClick:y,hasQuickActions:!0,...d})});return(0,c.jsx)(tS.L,{visual:v,visualPosition:a.imagePosition,visualSize:"calc(".concat(100*(m?.5*g:g),"% * var(--media-scale))"),visualMaxSize:f,gap:a.shapeSize<=nA.xs?"1em":"1.25em",cellProps:e,children:e.children})});nL.displayName="ImagesWithTextCell";let nj=()=>{let e=(0,eb.S)({key:"imagesText",name:()=>a.Ru._({id:"cDxTeG"}),keywords:["team","caption","images","text","layout"],icon:u.oMV,htmlTag:"images",family:"images",additionalOptions:[tI,{...ny.B,getDefaultOnParse:()=>tM.vG},{...tN,icon:u.Cyq,name:()=>a.Ru._({id:"8J92vb"})},nC.Kl,{...g,defaultValue:(0,h.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,i=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==i:"left"!==i}}],presetConfigurations:[{name:()=>a.Ru._({id:"10G7S6"}),options:{imageShape:"square",shapeSize:"lg",horizontalAlign:"center"}},{name:()=>a.Ru._({id:"VVRqpK"}),options:{imageShape:"circle",shapeSize:"lg",horizontalAlign:"center"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultOptions:{imageShape:"landscape"},imageSlot:"always",imageType:"image",Wrapper:nk,Cell:nL});return{...e,options:e.options.filter(e=>"color"!==e.key),cellOptions:e.cellOptions.filter(e=>"color"!==e.key)}},nE=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));nE.displayName="QuoteBoxesWithFacesWrapper";let nS=(0,k.memo)(e=>{var t,n;let{layoutOptions:i,cellOptions:a,index:r,selectCell:s,isFocused:l,image:o}=e,{colorVars:d}=(0,D.r)({layoutColorOverride:i.color,cellColorOverride:null==a?void 0:a.color,index:r,forceTransparent:!1}),{handleClick:u,handleDoubleClick:p}=nw({selectCell:s,isFocused:l}),h=null!=(n=i.imageShape)?n:"circle",g=nC.zF[h],m=null==o||null==(t=o.meta)?void 0:t.has_transparency,x=5*(!i.shapeSize&&i.imageSize?i.imageSize:nA[i.shapeSize||"md"]),f=x/nC.z_[h],b=m?{...g}:{...ey.z,...g};return(0,c.jsx)(w.s,{position:"absolute",top:"-".concat(f,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(2*x,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...d,"> div":{width:"100%"}},style:b,className:(0,V.cx)(E.uk),overflow:"hidden",children:(0,c.jsx)(nb.Y,{...e,imageShape:h,hasQuickActions:!0,handleEditableClick:u,handleEditableDoubleClick:p})})});nS.displayName="FaceCircle";let nM=(0,k.memo)(e=>{let{layoutOptions:t}=e,n=5*(!t.shapeSize&&t.imageSize?t.imageSize:nA[t.shapeSize||"md"])/nC.z_[t.imageShape];return(0,c.jsxs)(ev.E,{cellProps:e,cellStyle:"outline",dragHandle:e.dragHandle,cellContentPropOverrides:{mt:"".concat(n,"em"),pt:"calc(".concat(T.xb," + ").concat(n,"em)")},children:[(0,c.jsx)(nS,{...e}),e.children]})});nM.displayName="QuoteBoxesWithFacesCell";let nI=()=>(0,eb.S)({key:"quoteBoxesWithFaces",name:()=>a.Ru._({id:"lDxgZ6"}),icon:u.ppD,keywords:["quote","quotes","testimonial","faces","circle"],htmlTag:"quote-boxes-with-faces",family:"quotes",presetConfigurations:[{name:()=>a.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0,imageShape:"circle",shapeSize:"md"}},{name:()=>a.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1,imageShape:"square",shapeSize:"sm"}}],additionalOptions:[g,{...tN,icon:u.Cyq,name:()=>a.Ru._({id:"8J92vb"})},nC.Kl],defaultOptions:{imageShape:"circle"},imageSlot:"optional",imageType:"image",Wrapper:nE,Cell:nM,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins",disabled:!0}),n_={1:["face-smile"],2:["face-frown","face-smile"],3:["face-frown","face-meh","face-smile"],4:["face-sad-tear","face-frown","face-smile","face-laugh"],5:["face-sad-tear","face-frown","face-meh","face-smile","face-laugh-beam"]},nD=e=>{let{numCells:t,index:n}=e,i=n_[Math.min(5,Math.max(1,t))],a=i[n%i.length],r=e.image&&e.image.src?e.image:{source:"image.icon",src:"".concat("https://cdn-staging.gamma.app/_app_static/icons/v0/").concat(a,".svg")};return(0,c.jsx)(ek,{...e,image:r})},nR=()=>(0,eb.S)({key:"satisfaction",name:()=>a.Ru._({id:"/IniW+"}),icon:u.H82,keywords:["satisfaction","emoji","scale","rating"],htmlTag:"satisfaction",family:"bullets",additionalOptions:[eC.i],presetConfigurations:[{name:()=>a.Ru._({id:"/IniW+"}),options:{},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:eL,Cell:nD,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins",maxCells:5,disabled:!0}),nT=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:"small"}));nT.displayName="SolidBoxesWithTopIconsWrapper";let nz=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:a,selectCell:r,selectCellForElementProps:s}=e,{colorVars:l}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i,forceTransparent:!1});return(0,c.jsx)(w.s,{position:"absolute",top:"-".concat(1.5,"em"),insetStart:"left"===t.horizontalAlign?"".concat(1.5,"em"):"right"===t.horizontalAlign?"calc(100% - ".concat(4.5,"em)"):"50%",transform:"center"!==t.horizontalAlign&&t.horizontalAlign?void 0:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...l},className:(0,V.cx)(E.P7,E.ok),borderRadius:"var(--box-border-radius)",...s,children:(0,c.jsx)(w.s,{alignItems:"center",justifyContent:"center",className:(0,V.cx)(O.U6),children:(0,c.jsx)(Z.R,{image:a,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.5,selectCell:r})})})});nz.displayName="TopIcon";let nH=(0,k.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:a}=(0,D.r)({layoutColorOverride:t.color,cellColorOverride:null==n?void 0:n.color,index:i,forceTransparent:!0});return(0,c.jsxs)(ev.E,{cellProps:e,cellStyle:"solid",dragHandle:e.dragHandle,cellContentPropOverrides:{mt:"".concat(1.5,"em"),pt:"calc(".concat(T.xb," + ").concat(1.5,"em)"),sx:a},children:[(0,c.jsx)(nz,{...e}),e.children]})});nH.displayName="SolidBoxesWithTopIconsCell";let nN=()=>(0,eb.S)({key:"solidBoxesWithTopIcons",name:()=>a.Ru._({id:"YcdSxJ"}),icon:i.$tZ,keywords:["solid","boxes","layout","icons","top","filled","text boxes"],htmlTag:"solid-boxes-with-top-icons",family:"boxes",presetConfigurations:[{name:()=>a.Ru._({id:"YcdSxJ"}),options:{}}],additionalOptions:[g],imageSlot:"always",imageType:"icon",Wrapper:nT,Cell:nH,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins"});var nB=n(96177);let nP={xs:.15,sm:.2,md:.25,lg:.3,xl:.35,full:.4},nF={xs:"lg",sm:"h3",md:"h2",lg:"h1",xl:"h1",full:"title"},nV=(0,k.memo)(e=>(0,c.jsx)(ew.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,forceBalanceOverride:!0}));nV.displayName="IconsWithTextWrapper";let nO=(0,k.memo)(e=>{var t;let{image:n,layoutOptions:i,cellOptions:a,selectCell:r,theme:s,firstChildSize:l}=e,o=nP[i.shapeSize||"md"],d="left"===i.imagePosition,u=o<=nP.xs,p=null!=(t=null==a?void 0:a.color)?t:i.color;n&&(0,eA.Xs)(n);let h=(0,k.useMemo)(()=>(0,nB.q9)(p,0),[p]),g={aspectRatio:"1 / 1",...u&&d&&{mt:".175em"}},m="min(100%, ".concat(tM.vG*o,"em)"),x=(0,I.FX)(),f=(0,z.G)(s,x,nF[i.shapeSize||"md"],l),b=(0,c.jsx)(A.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",sx:g,css:h,children:(0,c.jsx)(Z.R,{image:n,placeholderIfEmpty:!0,iconSize:5*o,boxProps:{w:"100%",h:"100%"},selectCell:r,isNumbered:i.numbered,color:null!=p?p:"url(#theme-accent-gradient-linear) var(--accent-color-readable)"})});return(0,c.jsx)(tS.L,{visual:b,visualPosition:i.imagePosition,visualSize:"calc(".concat(100*o,"% * var(--media-scale))"),visualMaxSize:m,gap:u?"1em":"1.25em",cellProps:e,textboxProps:{pt:d?"".concat(f,"em"):0},forceBalance:!0,children:e.children})});nO.displayName="IconsWithTextCell";let nZ=()=>(0,eb.S)({key:"iconsText",name:()=>a.Ru._({id:"joUkNe"}),icon:u.cCs,keywords:["icons","text","layout"],htmlTag:"icons",family:"images",additionalOptions:[tI,P.h,ny.B,{...tN,icon:u.Cyq,name:()=>a.Ru._({id:"bwZEQG"}),defaultValue:()=>"md"},{...g,defaultValue:(0,h.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,i=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==i:"left"!==i}}],additionalCellOptions:[{...P.h,checkEnabled(e){let{attrs:t}=e;return!t.image||(0,eA.Xs)(t.image)}}],presetConfigurations:[{name:()=>a.Ru._({id:"pG60n/"}),options:{imagePosition:"top",shapeSize:"lg"}},{name:()=>a.Ru._({id:"hscPGi"}),options:{imagePosition:"left",shapeSize:"lg"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultAttrs:{image:{source:L.f.key}},imageSlot:"always",imageType:"icon",Wrapper:nV,Cell:nO});var nW=n(83743);let nU="40em",nG="0.25em",nK={key:"outsideText",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,c.jsx)(p.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:u.LEB})},ControlMenu:(e,t,n)=>({key:n.key,label:e?a.Ru._({id:"W0lrhO"}):a.Ru._({id:"OtsbQu"}),icon:u.LEB,onClick:()=>t(!e)}),name:()=>a.Ru._({id:"OtsbQu"})},nQ=(0,k.memo)(e=>{let{Step:t=n0,node:n,...i}=e,{children:a,numCells:r,options:s,theme:l,direction:o}=i,d=s.horizontalAlign||"center",u=(0,h.yp)(d,o),p="funnel"===i.variant.key,g="staircase"===i.variant.key,m=tr()(r).map(e=>{let i=n.maybeChild(e);if(!i)return null;let a=i.attrs.options,u=i.attrs.image;return(0,c.jsx)(nq,{index:e,numCells:r,theme:l,isFunnel:p,alignment:d,direction:o,isStepped:g,cellOptions:a,layoutOptions:s,Step:t,image:u},e)});return(0,c.jsxs)(w.s,{direction:"column","data-selection-ring":!0,align:"stretch",gap:"1em",onContextMenu:i.onContextMenu,...i.selectLayoutForElementProps,children:[(0,c.jsx)(w.s,{direction:"column",sx:u,contentEditable:!1,gap:nG,"data-alternate-colors":!0,...i.selectLayoutForElementProps,children:m}),(0,c.jsx)(w.s,{gap:H,direction:"column",...i.selectLayoutForElementProps,children:a})]})});nQ.displayName="StackedPyramidWrapper";let nq=e=>{let{index:t,numCells:n,cellOptions:i,layoutOptions:a,isFunnel:r,alignment:s,direction:l,isStepped:o,Step:d,image:u}=e,p=!o&&r&&t===n-1?{pos:"relative",bottom:"0.25em"}:o||r||0!==t?{}:{pos:"relative",top:"0.25em"},{colorVars:h}=(0,D.r)({layoutColorOverride:a.color,cellColorOverride:null==i?void 0:i.color,index:t,forceTransparent:!1});return(0,c.jsx)(d,{index:t,numCells:n,isOutside:!0,isNumbered:a.numbered,isStacked:!0,isFunnel:r,alignment:s,direction:l,stepSx:h,image:u,children:(0,c.jsx)(nX,{index:t,image:u,isNumbered:a.numbered,...p})},t)},nJ=(e,t)=>"right"===e?"right":"left"===e||"ltr"===t?"left":"right",n$=(0,k.memo)(e=>{let t=N({containerSize:e.containerSize,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}),{colorVars:n}=(0,D.r)({layoutColorOverride:e.options.color,forceTransparent:!0});return t?(0,c.jsx)(nQ,{...e}):(0,c.jsx)(nW.r,{columns:1,autoRows:"1fr","data-selection-ring":!0,gap:nG,onContextMenu:e.onContextMenu,...e.selectLayoutForElementProps,sx:e.options.outsideText?n:void 0,children:e.children})});n$.displayName="PyramidWrapper";let nY=(0,k.memo)(e=>{var t,n;let{Step:i=n0,isFunnel:a=!1,isStepped:r=!1,alignment:s="center",...l}=e,{children:o,layoutOptions:d,index:u,numCells:p,dragHandle:g,direction:m}=l,x=d.outsideText,f=N({containerSize:l.layoutContainerSize,columnsNeeded:x&&!l.scaleContentToFit?3:2}),{colorVars:b}=(0,D.r)({layoutColorOverride:d.color,cellColorOverride:null==(t=l.cellOptions)?void 0:t.color,index:u}),{colorVars:C}=(0,D.r)({layoutColorOverride:d.color,cellColorOverride:null==(n=l.cellOptions)?void 0:n.color,index:u,forceTransparent:!0});if(f)return(0,c.jsx)(B,{...l});let y=d.numbered,v=nJ(s,m),k={...(0,h.yp)(v,m),...(0,h.AS)(v,m)},L=r?{bottom:"-1px"}:a?{top:"calc(-1px - ".concat(nG," / 2 )")}:{bottom:"calc(-1px - ".concat(nG," / 2 )")},j=a?0===u:u===p-1,S=r?"0.5em":nG,M=y&&x&&!r,I=M&&a&&u===p-1?{pos:"relative",bottom:"15%"}:M&&!a&&0===u?{pos:"relative",top:"15%"}:{},_="rtl"===m&&"left"===s||"ltr"===m&&"right"===s?"row-reverse":"row";return(0,c.jsxs)(w.s,{"data-selection-ring":!0,"data-content-reference":!0,pos:"relative",w:"100%",direction:_,justify:x||"center"!==s?void 0:"center",...l.selectCellForElementProps,children:[(0,c.jsxs)(i,{numCells:p,index:u,isFunnel:a,isOutside:x,isNumbered:y,alignment:s,selectCell:l.selectCell,selectCellForElementProps:l.selectCellForElementProps,stepSx:b,direction:m,image:l.image,children:[x?(0,c.jsx)(nX,{index:u,image:l.image,isNumbered:y,selectCell:l.selectCell,...I}):o,g]}),x&&(0,c.jsxs)(w.s,{direction:"column",justify:"center",minW:0,flex:1,px:T.xb,py:T.xb,pos:"relative",sx:k,className:E.VN,css:C,cursor:"text",children:[o,!j&&(0,c.jsx)(A.a,{contentEditable:!1,position:"absolute",...L,insetStart:S,insetEnd:S,h:"var(--line-thickness)",transform:"scaleY(0.5)",className:E.eI})]})]})});nY.displayName="PyramidCell";let nX=(0,k.memo)(e=>{let{index:t,image:n,selectCell:i,isNumbered:a,...r}=e;return(0,c.jsx)(A.a,{className:(0,V.cx)(O.U6,E.lR),fontSize:"1.25em",display:"flex",sx:(0,h.yp)("center"),pos:"relative",contentEditable:!1,...r,children:(0,c.jsx)(Z.R,{image:n,number:a?t+1:void 0,isNumbered:a,iconSize:1.125,selectCell:i})})});nX.displayName="PyramidLabel";let n0=(0,k.memo)(e=>{let{numCells:t,index:n,isFunnel:i,isOutside:a,isStacked:r,children:s,alignment:l,selectCellForElementProps:o,stepSx:d,direction:u}=e,p=i?t-n-1:n,{width:g,height:m,ref:x}=(0,Q.Lh)(),f=45*!a,b=a&&!r?50:100,C=n2(t,p,f),y=.99*n2(t,p+1,f),v=b/100*y,A=(0,h.yp)(l,u),k=(0,h.AS)(l,u),L=r?void 0:a?{ms:"center"===l?"".concat((b-v)/2,"%"):void 0}:{maxW:"calc(".concat(nU," * ").concat(v/100,")")};return(0,c.jsxs)(w.s,{direction:"column",ref:x,"data-testid":"pyramid-step",pos:"relative",w:"".concat(v,"%"),sx:{...A,...k,...d},contentEditable:!a&&void 0,...L,children:[(0,c.jsx)(n1,{width:g,height:m,alignment:l,topSize:i?1:C/y,bottomSize:i?C/y:1,selectCellForElementProps:o}),(0,c.jsx)(w.s,{direction:"column",justify:"center",h:"100%",p:a?"0.5em":T.xb,boxSizing:"border-box",sx:{...A,alignItems:a?A.alignItems:"stretch"},className:E.lR,w:"".concat((C+y)/2/y*100,"%"),minW:"3em",cursor:"text",children:s})]})});n0.displayName="PyramidStep";let n1=(0,k.memo)(e=>{let{width:t,height:n,topSize:i,bottomSize:a,alignment:r,selectCellForElementProps:s}=e,l=t*(1-i)/2,o=t*(1-a)/2,d="left"===r?"\n    M 0 0\n    L ".concat(t-2*l," 0\n    L ").concat(t-2*o," ").concat(n,"\n    L 0 ").concat(n,"\n    L 0 0 Z"):"right"===r?"\n    M ".concat(2*l," 0\n    L ").concat(t," 0\n    L ").concat(t," ").concat(n,"\n    L ").concat(2*o," ").concat(n,"\n    L ").concat(2*l," 0 Z"):"\n    M ".concat(l," 0\n    L ").concat(t-l," 0\n    L ").concat(t-o," ").concat(n,"\n    L ").concat(o," ").concat(n,"\n    L ").concat(l," 0 Z");return(0,c.jsx)(A.a,{as:"svg",pos:"absolute",inset:"0",overflow:"visible",contentEditable:!1,"data-testid":"trapezoid-svg",w:"".concat(t,"px"),h:"".concat(n,"px"),...s,children:(0,c.jsx)(A.a,{as:"path",d:d,className:E.D6,...s})})});n1.displayName="TrapezoidSVG";let n2=(e,t,n)=>n+t/e*(100-n),n3={...b,checkEnabled:e=>{let{options:t,node:n}=e,i=n&&(0,x.xe)(n,f.q);return t.outsideText&&((null==i?void 0:i.every(e=>{var t,n;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)}))||!0===t.numbered)}},n5=()=>({key:"pyramid",name:()=>a.Ru._({id:"MYceoI"}),icon:u.IJv,options:[nK,n3,P.h],cellOptions:[P.h,F.Y],presetConfigurations:[{name:()=>a.Ru._({id:"Ud6L0K"}),options:{outsideText:!1}},{name:()=>a.Ru._({id:"q9tXj9"}),options:{numbered:!0,outsideText:!0}}],Wrapper:n$,Cell:nY,addDirection:()=>"bottom",htmlTag:"pyramid",imageSlot:"optional",imageType:"icon",family:"steps"}),n4=(0,k.memo)(e=>(0,c.jsx)(nY,{...e,isFunnel:!0}));n4.displayName="FunnelCell";let n6=()=>({...n5(),key:"funnel",name:()=>a.Ru._({id:"n6KuKd"}),icon:u.AKc,htmlTag:"funnel",Cell:n4,presetConfigurations:[{name:()=>a.Ru._({id:"rSrvFr"}),options:{outsideText:!1}},{name:()=>a.Ru._({id:"dXD9N4"}),options:{numbered:!0,outsideText:!0}}]}),n9=(0,k.memo)(e=>{let{children:t,options:n,containerSize:i,onContextMenu:a,selectLayoutForElementProps:r}=e,s=(0,h.yp)(n.horizontalAlign||"left"),{colorVars:l}=(0,D.r)({layoutColorOverride:n.color,isColoringCell:!1});if(N({containerSize:i,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}))return(0,c.jsx)(nQ,{...e,Step:n7});let o={...s,...n.outsideText?l:{}};return(0,c.jsx)(w.s,{direction:"column","data-selection-ring":!0,gap:"0.5em",sx:o,onContextMenu:a,...r,children:t})});n9.displayName="StaircaseWrapper";let n7=(0,k.memo)(e=>{let{numCells:t,index:n,isOutside:i,isStacked:a,children:r,alignment:s,direction:l,selectCell:o,stepSx:d}=e,u={...(0,h.yp)(s,l),alignItems:i?"center":"stretch",...d},p=i&&!a?50:100,g=p/100*n2(t,n+1,45*!i),m=a?void 0:i?{ms:"center"===s?"".concat((p-g)/2,"%"):void 0}:{maxW:"calc(".concat(nU," * ").concat(g/100,")")};return(0,c.jsx)(w.s,{py:i?"0.5em":T.xb,px:T.xb,sx:u,className:E.SA,w:"".concat(g,"%"),boxSizing:"border-box",...m,direction:"column",justify:"center",contentEditable:!i&&void 0,onClick:i?o:void 0,pos:"relative",children:r})});n7.displayName="StaircaseStep";let n8=(0,k.memo)(e=>{let t=e.layoutOptions.horizontalAlign;return(0,c.jsx)(nY,{...e,Step:n7,isFunnel:!1,isStepped:!0,alignment:t})});n8.displayName="StaircaseCell";let ie=()=>({...n5(),key:"staircase",name:()=>a.Ru._({id:"CFVHFO"}),options:[...n5().options,{...g,defaultValue:(0,h.Ro)("left")}],presetConfigurations:[{name:()=>a.Ru._({id:"y9fkH/"}),options:{outsideText:!1}},{name:()=>a.Ru._({id:"nGMGDy"}),options:{numbered:!0,outsideText:!0}}],icon:u.UER,Wrapper:n9,Cell:n8,htmlTag:"staircase",imageSlot:"optional",imageType:"icon",family:"steps"}),it=()=>eS(),ii=()=>[eS(),eG(),ej(),eE(),nR(),eq(),eY(),eI(),eM(),e_(),eU(),ti(),ez(),nf(),e3(),e8(),nN(),tn(),eF(),nI(),eP(),th(),nj(),nZ(),y(),s(),o(),td(),tg(),eW(),tm(),nn(),tO(),tG(),nd(),t4(),t7(),ie(),tx(),tv(),tf(),tb(),n5(),n6(),ed(),eu(),ec(),ep(),ef(),tJ(),t1(),m(),eX(),tl()],ia=()=>ii().reduce((e,t)=>(e[t.key]=t,e),{}),ir=()=>[ts(),to(),tc()],is=()=>ir().reduce((e,t)=>(e[t.key]=t,e),{}),il=e=>{if(!e)return it();io[e]&&(e=io[e]);let t=ia()[e]||is()[e];return t||it()},io={textBoxes:"solidBoxes",bullets:"bigBullets"}},6595:(e,t,n)=>{"use strict";n.d(t,{r:()=>M});var i=n(87386),a=n(37243),r=n(81807),s=n(94257),l=n(80116),o=n(83605),c=n(21),d=n(4310),u=n(92397),p=n(61385),h=n(47665),g=n(43501),m=n(45574),x=n(43634),f=n(33201),b=n(56603),C=n(23513),y=n(47956),v=n(63867),w=n(27002),A=n(31078);let k=A.z.object({id:A.z.string(),source:A.z.string(),src:A.z.string().nullish(),tempUrl:A.z.string().nullish(),query:A.z.string().optional(),sourceUrl:A.z.string().nullish(),meta:A.z.object({height:A.z.number(),width:A.z.number(),aspectRatio:A.z.number().nullish()}).nullish(),aiParams:A.z.object({model:A.z.string().nullish(),stylePrompt:A.z.string().nullish(),stylePreset:A.z.string().nullish(),artStylePreset:A.z.string().nullish(),artStylePrompt:A.z.string().nullish()}).nullish()}),L=(e,t)=>{let{top:n,bottom:i}=t.getBoundingClientRect(),{from:a,to:r}=e.state.selection,s=e.view.coordsAtPos(a),l=e.view.coordsAtPos(r),o=Math.min(s.top,l.top),c=Math.max(s.bottom,l.bottom),d=c-o;return c<n?{position:"above",overlap:0}:o>i?{position:"below",overlap:0}:o<n&&c<=i?{position:"startsAbove",overlap:(c-n)/d}:o>=n&&c>i?{position:"endsBelow",overlap:(i-o)/d}:o<n&&c>i?{position:"spansContainer",overlap:1}:{position:"within",overlap:1}},j=(e,t,n)=>{if(!n)return;if("image"===n.type&&w.of.get("buddyEditGa"))return{type:"image",imageSelection:E(n.attrs),cursorInCardId:n.cardId,nodeId:n.id};if("text"===n.type&&n.length>5)return{type:"text",selectionStartCardId:n.cardId,textSelection:n.text};let{selection:i}=e.state,{overlap:a}=L(e,t);if(0===a)return;let r=i instanceof v.nh;if((!r||!(a<.5))&&(r||!(a<.33)))return"card"===n.type?{type:"card",selectedCardId:n.cardId}:{type:"none",cursorInCardId:n.cardId}},E=e=>{let t=k.safeParse(e);return t.success?t.data:e},S=e=>new Promise(t=>setTimeout(t,e));class M{static applyResultVariation(e,t){let{store:n}=e;M.loadCheckpoint(e,t.toApplyCheckpointId,t.messageId),n.dispatch((0,y.rD)({messageId:t.messageId,variationId:t.id}))}static loadCheckpoint(e,t,n){let{editor:i,store:a}=e,r=(0,y.BV)(t)(a.getState());if(!r)throw Error("Cannot find checkpoint with id ".concat(t));let s=i.state.selection.from;queueMicrotask(()=>{var t;i.chain().setContent(r.jsonContent,!0).command(e=>{let{tr:t}=e;try{let e=t.doc.resolve(s),n=(0,C.n)(e);n&&t.setSelection(n)}catch(e){}return!0}).run(),null==(t=e.applyTheme)||t.call(e,r.themeId);let l=(0,x.SJ)(a.getState());(0,c.CP)({editor:i,rootNode:i.state.doc,theme:l,interactionId:n,cardDimensions:(0,g.Hy)(i)})})}static async ensureCardInView(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,d.H1)("editor"),a=document.querySelector((0,p.OB)(t)),r=(0,d.cH)(a,500);(null==r||!r.yAxisInView)&&(i.scrollElementIntoView({element:a}),n>0&&await S(n))}static focusResultVariation(e,t){let{editor:n}=e,i=t.scrollToCardId;if(!i)return;let a=M.findCardById(n,i);setTimeout(()=>{M.ensureCardInView(e,i);let t=n.state.selection.from;(t<a.pos||t>a.pos+a.node.nodeSize)&&n.chain().selectInsideCardBody(a.pos).focus().run()},0)}static findCardById(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.findTopLevelCards(e).find(e=>e.cardId===t);if(!i)throw Error("Cannot find card with id ".concat(t));return n&&this.focusCard(e,i.pos),i}static checkCardById(e,t){let n=this.findTopLevelCards(e).find(e=>e.cardId===t);return n||null}static async removeCardById(e,t){let{cardId:n}=e,{editor:i}=t,a=M.findCardById(i,n),r=null==a?void 0:a.pos,s=a?i.state.doc.nodeAt(a.pos):null;return!!r&&!!s&&(i.chain().deleteCard(r).run(),!0)}static async replaceCardHTMLById(e,t){let{cardId:n,cardHtml:i,messageId:a}=e,{editor:s,theme:l}=t,d=(0,r.DB)(i),u=(0,o.dE)(d),p=M.findCardById(s,n),h=null==p?void 0:p.pos,m=p?s.state.doc.nodeAt(p.pos):null;if(!h||!m)return null;let x={from:h,to:h+m.nodeSize};return u.attrs.id=n,s.chain().setMeta("cardNotesHandled",!0).insertContentAt(x,u).selectInsideCardBody(h).run(),(0,c.Sg)({editor:s,content:u,theme:l,interactionId:a,cardDimensions:(0,g.Hy)(s)}),{oldHtml:i,newHtml:d,replaceRange:x}}static async replaceCardJSONById(e,t){let{cardId:n,cardJson:i,messageId:a}=e,{editor:r}=t,s=M.findCardById(r,n),l=null==s?void 0:s.pos,o=s?r.state.doc.nodeAt(s.pos):null;if(!l||!o)return null;let d={from:l,to:l+o.nodeSize},u=r.chain().setMeta("cardNotesHandled",!0).insertContentAt(d,i),p=t.editor.state.selection.from;return(p<d.from||p>d.to)&&u.selectInsideCardBody(l),u.run(),(0,c.Sg)({editor:r,content:i,theme:t.theme,interactionId:a,cardDimensions:(0,g.Hy)(r)}),{replaceRange:d}}static getCurrentFocusedCard(e,t){let n=e.state.selection,i=(0,u.hT)(e.state.doc,n.from);if(!i)throw Error("Cannot find currently focused card");let a=i.node.attrs.id,r=this.findCardNum(e,a);return{cardId:a,cardNum:r,html:(0,l.KC)(e,i.node)}}static focusCard(e,t){e.chain().selectInsideCardBody(t).focus().scrollIntoView().run()}static getDeckInfo(e,t){let{editor:n,store:i}=e,a=(0,x.SJ)(i.getState()),r=(0,y.y3)(i.getState()),s=(0,d.H1)("editor"),l=document.querySelector(s.scrollSelector);if(!l)throw Error("Cannot find container element");let o=null==t?void 0:t.initiatingCardId,c=j(n,l,(0,y.MR)(i.getState()));return{currentThemeName:(null==a?void 0:a.name)||"",docHtml:this.getDocHtml(n,{cardsInView:r,initiatingCardId:o,selection:c},1e4),cardsInView:r,initiatingCardId:o,selection:c}}static getDocHtml(e,t,n){let i=this.findTopLevelCards(e),a=i.map(e=>e.cardHtml).join("\n"),r=I(a='<div class="gamma-doc">'.concat(a,"</div>"));if(console.log("[buddy] allHtml estTokens: ".concat(r)),r<n)return{type:"full",content:a};let s=new D(i,n);if(t.cardsInView.length>0)for(let{cardId:n}of t.cardsInView){let t=this.findCardById(e,n);s.add(n,t.cardHtml)}if(t.selection){let n;if(n="card"===t.selection.type?t.selection.selectedCardId:"text"===t.selection.type?t.selection.selectionStartCardId:t.selection.cursorInCardId){let t=this.findCardById(e,n);s.add(n,t.cardHtml)}}return console.log("[buddy] partial html estTokens: ".concat(s.curEstTokens)),s.docHtml()}static findTopLevelCards(e){return(0,a.xe)(e.state.doc,e=>(0,f.jg)(e)).filter(t=>1===e.state.doc.resolve(t.pos).depth).map((t,n)=>({pos:t.pos,node:t.node,cardNum:n+1,cardId:t.node.attrs.id,cardJson:t.node.toJSON(),cardHtml:(0,l.KC)(e,t.node)}))}static findCardNum(e,t){let n=this.findTopLevelCards(e).find(e=>e.cardId===t);if(!n)throw Error("Cannot find card with id ".concat(t));return n.cardNum}static findCreateCardInsertRange(e,t){let n=this.findTopLevelCards(e),i=t-1,a=n[i];if(i>=n.length){let t=n.length-1,i=e.state.doc.nodeAt(n[t].pos),a=n[t].pos+i.nodeSize;return{from:a,to:a,relativeRange:{from:(0,b.JO)(e.state,a),to:(0,b.JO)(e.state,a)}}}if(!a)throw Error("Cannot find card with index ".concat(i));return{from:a.pos,to:a.pos,relativeRange:{from:(0,b.JO)(e.state,a.pos),to:(0,b.JO)(e.state,a.pos)}}}static findCardInsertRange(e,t,n){let i=this.findCardById(e,t);if(!i)throw Error("Cannot find card with id ".concat(t));if("before"===n)return{from:i.pos,to:i.pos,relativeRange:{from:(0,b.JO)(e.state,i.pos),to:(0,b.JO)(e.state,i.pos)}};{let t=i.pos+i.node.nodeSize;return{from:t,to:t,relativeRange:{from:(0,b.JO)(e.state,t),to:(0,b.JO)(e.state,t)}}}}static getImages(e){let t=[];return e.state.doc.descendants(e=>{if("card"==e.type.name)return!0;let n=(0,m.um)(e);return!n||!n||!e.attrs.id||(t.push({nodeId:e.attrs.id,attrs:n,nodeType:e.type.name}),!1)}),t}static selectImage(e,t){var n;let i=(0,s.Vj)(e,t);if(!i)return{success:!1};let a=(0,b.d_)(e.state,i.relativePosition);if(!a)return{success:!1};e.commands.setNodeSelection(a);let r=null==(n=(0,h.Oq)(e,a))?void 0:n.node.attrs.id;return this.ensureCardInView({editor:e},r),{success:!0,imageAttrs:i.attrs,imagePosition:a}}}function I(e){return Math.floor(e.length/3.5)}M.DEFAULT_APPLIED_FIRST_POS=2;let _=Math.floor(700);class D{add(e,t){let n=I(t);return!this.cardsToPopulate.has(e)&&!(this.curEstTokens+n>this.maxTokens)&&(this.cardsToPopulate.set(e,t),this.curEstTokens+=n,!0)}docHtml(){return{type:"partial",content:this.outline.map(e=>{let t=this.cardsToPopulate.get(e.cardId);return{cardId:e.cardId,title:e.title,cardHtml:t,cardHtmlPreview:null==t?e.cardHtmlPreview:void 0}})}}constructor(e,t){this.maxTokens=t,this.outline=[],this.cardsToPopulate=new Map,this.outline=e.map(e=>{var t;return{cardId:e.cardId,title:null!=(t=(0,i.getCardTitle)(e.cardJson))?t:"none",cardHtmlPreview:e.cardHtml.slice(0,_)}}),this.curEstTokens=this.outline.reduce((e,t)=>e+I(t.cardHtmlPreview),0)}}},6700:(e,t,n)=>{"use strict";var i=Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)}(n(84169),t)},6717:(e,t,n)=>{"use strict";let i,a;n.d(t,{a:()=>nK});var r=n(6029),s=n(40452),l=n(3276),o=n(81278),c=n(55729),d=n(92700),u=n(27002),p=n(25778),h=n(63902);let g=new String(".site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror{}.site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror .navbar-view-content{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}.site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror .navbar-view-backdrop{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load.animatable-on-load-annotatable [data-node-view-content],.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-accent.animatable-on-load-annotatable [data-node-view-content],.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.animatable-on-load-atom,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child:not(.animatable-on-load-annotatable),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block:not(.block-calloutBox),.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-as-block.block-calloutBox .calloutBox{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-present-mode .animatable-on-load,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-full-width .animatable-on-load{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-present-mode .animatable-on-load.animatable-on-load-accent,.site-animations-bootstrap .editor-animations-enabled .ProseMirror .is-full-width .animatable-on-load.animatable-on-load-accent{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.block-image{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.node-smartLayoutCell{}.site-animations-bootstrap .editor-animations-enabled .ProseMirror .animatable-on-load-content-child.node-smartLayoutCell [data-spotlight-parent]>*{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}@media not print{.editor-navbar-animations-enabled .ProseMirror{.navbar-view-content{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:opacity,-webkit-transform;-moz-transition-timing-function:opacity,-moz-transform;-o-transition-timing-function:opacity,-o-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,-moz-transform;transition-property:opacity,-o-transform;transition-property:opacity,transform;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}.navbar-view-backdrop{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0);box-shadow:0 0 0 0 rgba(0,0,0,0);-webkit-transition-property:box-shadow;-moz-transition-timing-function:box-shadow;-o-transition-timing-function:box-shadow;transition-property:box-shadow;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}}}.editor-animations-enabled .ProseMirror{.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:0;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);&.animate-has-animated{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}}.animatable-on-load-content-child.block-image{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));&.animate-has-animated{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}.node-gallery .animatable-on-load-content-child.block-image{-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}&.animate-has-animated [data-spotlight-parent]>*{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}&.animate-has-animated [data-spotlight-parent].smart-layout-cell-not-emphasized>*{opacity:.5}}}}");g.__hash="f03b4467801bf294";let m=g.toString(),x=()=>(0,r.jsx)("style",{id:"editor-animations-styles",dangerouslySetInnerHTML:{__html:m}});var f=n(65588),b=n(83004),C=n(32617),y=n(91792),v=n(61385),w=n(5872),A=n(43607);let k={fontSize:"var(--chakra-fontSizes-sm) !important",fontFamily:"var(--chakra-fonts-body), sans-serif !important",fontWeight:"500 !important",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"start !important",margin:"0 !important",color:"var(--chakra-colors-gray-800) !important",background:"none !important",blockquote:{borderLeftWidth:"0px !important",borderLeftStyle:"solid !important",borderLeftColor:"transparent !important",padding:"0 !important",color:"var(--chakra-colors-gray-800) !important",fontStyle:"normal !important"},border:"0 none !important",padding:"0 !important",content:'""'},L={...k,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},j={"p,h1,h2,h3,h4,h5,h6, .title, .section-title":{...k,margin:0},a:L,"ul, ol":{marginLeft:"1.2em"},blockquote:{borderLeft:"3px solid var(--chakra-colors-gray-200)",paddingLeft:"0.5em"},color:"var(--chakra-colors-gray-800) !important",wordBreak:"break-word",lineHeight:"1.5 !important",letterSpacing:"normal !important",".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"}},E={fontFamily:"var(--chakra-fonts-body) !important",fontWeight:"500","@media screen and (max-width: 30rem)":{".controls-wrapper":{}},"@media screen and (min-width: 30rem)":{".controls-wrapper":{paddingInlineStart:"var(--comment-padding)"},".controls-wrapper__gridLayout, .controls-wrapper__gallery":{paddingInlineStart:"calc(-1 * var(--grid-padding) + var(--comment-padding))"}},".comments-list":{".comments-sign-up":{a:{...k,...L,fontSize:"xs",color:"gray.500",fontWeight:"bold","&:hover":{color:"gray.500",textDecoration:"underline"}}},".comment":{".reactions-row ul":{marginInlineStart:"auto"},".comment-date":{fontSize:"var(--chakra-fontSizes-xs) !important",color:"var(--chakra-colors-gray-500) !important"},...j},".block-image":{"&.is-focused":{"img, .image, .placeholder":{boxShadow:"var(--chakra-shadows-outline)"}}},".block-target-html":{"p,h1,h2,h3,h4,h5,h6,blockquote,ol,ul,li, .title, .section-title":{...k,"::after":k},a:{...L},li:{margin:"0 !important",padding:"0 !important",listStyle:"none !important",p:{margin:0}},img:{maxWidth:"200px",maxHeight:"80px"}}},".comment-editor .ProseMirror":{...j,"\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2),\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3),\n      @media only screen and (max-device-width: 640px) and (-webkit-min-device-pixel-ratio: 4)\n    ":{fontSize:"16px  !important"},padding:"12px",borderRadius:"5px","&.focus-visible":{boxShadow:"0 0 0 2px rgb(49, 130, 206)"},"a.image-link":{pointerEvents:"none"}}};var S=n(9329),M=n(16419),I=n.n(M),_=n(76694);let D={".slash-menu-prompt":{containerType:"inline-size"},".slash-menu-placeholder-long":{display:"inline"},".slash-menu-placeholder-short":{display:"none"},".slash-menu-button-text":{display:"inline"},"@container (max-width: 450px)":{".slash-menu-prompt .slash-menu-button-text":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-long":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-short":{display:"inline"}}};var R=n(7915);function T(){let e=(0,S._)(["\n  0% {\n    box-shadow: ",";\n  }\n  7%,\n  60% {\n    box-shadow: var(--link-box-shadow);\n  }\n  100% {\n    box-shadow: ",";\n  }\n"]);return T=function(){return e},e}function z(){let e=(0,S._)(["\n  0% \n  100% {\n    box-shadow: ",";\n  }\n"]);return z=function(){return e},e}let H="0 0 0 0 rgba(0, 0, 0, 0.0)",N=(0,b.i7)(T(),H,H),B=(0,b.i7)(z(),H);var P=n(77650),F=n(8266);let V={content:"attr(data-placeholder)",position:"absolute",top:0,opacity:.25,pointerEvents:"none",left:0,width:"100%",color:"var(--heading-color)",lineClamp:1,textOverflow:"ellipsis",overflow:"hidden",boxOrient:"vertical",wordBreak:"break-all",height:"100%",whiteSpace:"nowrap"},O={...V,content:"attr(data-multiline-placeholder)",color:"inherit",position:"relative",lineClamp:0,whiteSpace:"normal",wordBreak:"normal"},Z=e=>'"'.concat(e,'"'),W=e=>({".block-grid":{'[data-node-view-content-outer="grid"]':{display:"contents"},'[data-node-view-content-inner="grid"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0,"[data-placeholder]::after, [data-multiline-placeholder]::after":{display:"none"}}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":V}},["&.is-focused, &:hover, &[".concat(R.y,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"}}}},".node-gridItem":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":Z(P.Ru._({id:"HX5SVx"})),'[data-node-view-content-inner="gridItem"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="gridItem"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,F.hQ)(e).tight},".block-paragraph":{...(0,F.xC)(e).tight}},".grid-item-not-emphasized  > [data-content-reference], .grid-item-not-emphasized [data-grid-emphasis]":{opacity:.5}}),U={"math-display":{fontSize:"1.125em",".katex":{whiteSpace:"normal"}},"math-inline":{"&.ProseMirror-selectednode":{marginY:"-0.25em"}},"math-display, math-inline":{"&.ProseMirror-selectednode":{boxShadow:"outline",borderRadius:"var(--box-border-radius)",backgroundColor:"gray.50",padding:".25em",marginX:"3px",".math-src":{color:"gray.600"}}}};var G=n(61651);let K=e=>({".block-smartLayout":{'[data-node-view-content-outer="smartLayout"]':{display:"contents"},'[data-node-view-content-inner="smartLayout"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},'[data-selection-ring="padded"]':{outlineOffset:"0.25em",".add-button":{m:"-0.25em"}},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0,"[data-placeholder]::after, [data-multiline-placeholder]::after":{display:"none"}}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":V}},["&.is-focused, &:hover, &[".concat(R.y,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"},".add-button":{opacity:1}}}},".node-smartLayoutCell":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":Z(P.Ru._({id:"HX5SVx"})),'[data-node-view-content-inner="smartLayoutCell"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="smartLayoutCell"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,F.hQ)(e).tight},".block-paragraph":{...(0,F.xC)(e).tight}},".smart-layout-cell-not-emphasized  > [data-content-reference], .smart-layout-cell-not-emphasized [data-smart-layout-emphasis]":{opacity:.5}});var Q=n(39659),q=n(90026),J=n(63255);function $(){let e=(0,S._)(["\n  0% {\n    align-items: flex-start;\n    grid-template-rows: 0.2fr;\n    overflow: hidden;\n  }\n  99% {\n    align-items: flex-start;\n    overflow: hidden;\n  }\n  100% {\n    align-items: initial;\n    grid-template-rows: 1fr;\n    overflow: visible;\n  }\n"]);return $=function(){return e},e}let Y=(0,b.i7)($()),X=e=>{let{isMobileDevice:t,isDark:n,headingSpacingTighten:i=!1}=e;return{height:"100%",outlineWidth:"0px",lineHeight:"var(--line-height-body)",letterSpacing:"var(--letter-spacing-body)","&.is-focused":{".is-empty":{"[data-placeholder]":{_after:V},"[data-multiline-placeholder]":{position:"relative",_after:O,"> [data-node-view-content-inner]":{position:"absolute",width:"100%",minH:"1em"}}}},"--block-margin":(0,F.bd)(t),"--grid-border":"1px","--grid-padding":"1.22em",".block-card":{"&.expandable-node":{"&-selected .expandable-selected":{animation:"".concat(N," 3000ms ease-in-out forwards")},"&-reset .expandable-selected":{animation:"".concat(B)}}},".block":{my:"var(--block-margin)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",color:"var(--body-color)"},"&.is-nested":{display:"grid",animation:"".concat(Y," ").concat(v.M2,"ms ease-out forwards")},"&.is-full-width":{".block.is-full-width":{width:"var(--full-width)",position:"relative",left:"50%",transform:"translateX(-50%)"}},'[data-node-view-content-inner="cardLayoutItem"], [data-node-view-content-inner="card"]':{"> .first-block":{mt:"0em"},"> .last-block":{mb:"0em"}},"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline",'&[href=""]':{textDecorationStyle:"dashed"},"&:hover":{color:"var(--text-color, var(--link-color-hover))"},"&:active":{color:"var(--text-color, var(--link-color-hover))"}},".block-toggle":{"&.expandable-node":{"&-selected .toggle":{animation:"".concat(N," 3000ms ease-in-out forwards")},"&-reset .toggle":{animation:"".concat(B)}},'[data-open="false"]':{'[data-node-view-content-inner="toggle"]':{"> :not(:first-child)":{display:"none"}}}},...Q.h.default,...q.H.default,...J.X0,...U,".block-codeBlock":{pre:{fontFamily:"mono",fontSize:F.$N.codeBlock,"@media print":{fontSize:I()(F.$N.codeBlock)},color:"var(--body-color)",background:"var(--neutral-background-color)",borderRadius:"var(--box-border-radius)",overflow:"hidden",code:{display:"block",padding:".75em 1em"}}},code:{backgroundColor:"var(--neutral-background-color)",color:"var(--body-color)",...Q.w},".block-blockquote":{blockquote:{ps:"1.5em"}},".block-embed, .block-video":{"&.expandable-node":{"&-selected":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(N," 3000ms ease-in-out forwards")}},"&-reset":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(B)}}}},".block-image":{"&.expandable-node":{"&-selected":{"[data-selection-ring]":{animation:"".concat(N," 3000ms ease-in-out forwards")}},"&-reset ":{"[data-selection-ring]":{animation:"".concat(B)}}}},".block-contributors":{".contributors-list":{fontSize:"1.25em",fontWeight:"bold"}},".mention":{bgColor:"var(--accent-color-background-muted)",color:"var(--body-color)"},".block-gallery":{"&.gallery-layout-flex":{".add-image":{mb:"calc(0.75 * var(--grid-padding))"}},mx:"calc(-1 * var(--grid-padding))",my:"calc(-0.25 * var(--grid-padding))",".gallery":{px:"var(--grid-padding)",py:"calc(0.75 * var(--grid-padding))",border:"1px solid",borderColor:"transparent",borderRadius:"var(--box-border-radius)",["&.".concat(_.u)]:{border:"1px dashed var(--chakra-colors-trueblue-300) !important",backgroundColor:"var(--chakra-colors-trueblue-50) !important",".gallery-placeholder":{pointerEvents:"none"}}},"&.is-focused, &.is-empty":{".gallery":{backgroundColor:"".concat(n?G.N.DARK_BG:G.N.LIGHT_BG)}},["&.is-focused, &:hover, &[".concat(R.y,"]")]:{".add-image":{opacity:1}},"&.expandable-node":{"&-selected .gallery":{animation:"".concat(N," 3000ms ease-in-out forwards")},"&-reset .gallery":{animation:"".concat(B)}}},...D,...K(t),...W(t),".block-gridLayout":{mx:"calc(-1 * var(--grid-padding))",".layout-content":{display:"contents","> div":{display:"contents"}},".grid-cell":{position:"relative",height:"100%",paddingX:"var(--grid-padding)",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",".block-gallery":{my:"0"}},["&.is-focused, &:hover, &[".concat(R.y,"]")]:{".is-editable":{".grid-cell":{outlineStyle:"solid"}},".add-column":{opacity:1}}},".node-cardLayoutItem, .node-cardAccentLayoutItem":{position:"relative",display:"flex",flexDirection:"column",justifyContent:"stretch",minWidth:0,minHeight:0,"> [data-node-view-wrapper]":{position:"relative",height:"100%",width:"100%"}},".node-cardNotes":{display:"none"},".block-table":{table:{'[data-node-view-content-inner="table"]':{display:"contents",'[data-node-view-content-inner="tableRow"]':{display:"contents"},td:{verticalAlign:"top",".block-heading [data-placeholder]::before":{display:"none"}}}},td:{minWidth:"3em",paddingX:"1em",position:"relative",".block":{maxWidth:t?"75vw":void 0,color:"var(--table-cell-text-color, var(--body-color))"},"&:not(:first-of-type)":{borderInlineStart:"1px solid transparent"}},".selectedCell:after":{zIndex:2,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,backgroundColor:"trueblue.100",pointerEvents:"none",opacity:.4},"&.is-focused, &:hover":{"td:not(:first-of-type)":{borderInlineStart:"1px solid var(--grid-outline-color)"}}},".tippy-arrow":{borderLeftColor:"red"},".footnote-label":{textDecoration:"underline",textDecorationColor:"var(--link-color)",_hover:{bgColor:"var(--accent-color-background-muted)",color:"gray.700",borderRadius:"sm"}},".footnote":{color:"var(--link-color)",_hover:{_after:{bgColor:"var(--accent-color-background-muted)",color:"gray.700"}}},".node-emoji":{color:"initial"},".block-heading":{...(0,F.hQ)(t).default,".heading":{position:"relative"}},".block-title":{...(0,F.hQ)(t).default,".title":{position:"relative"}},".node-cardImageItem":{".block-heading, .block-title":{mt:"0",mb:"0"}},".node-gridLayout, .node-calloutBox":{".block-heading, .block-title":{...(0,F.hQ)(t).compact},".block-paragraph":{...(0,F.xC)(t).compact}},".node-calloutBox":{".first-block":{mt:(0,F.hQ)(t).compact.mt}},".block-table td":{".block":{...(0,F.xC)(t).tight,"&.first-block":{mt:(0,F.xC)(t).tight.my}},".block-heading, .block-title":{...(0,F.hQ)(t).tight}},'[data-node-view-content-inner="card"]:not(:has(> .node-cardAccentLayoutItem)) [data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-heading, &.block-title":{"&:not(:has(+ .block-heading, + .block-title, + .node-gridLayout))":{mb:(0,F.hQ)(t).relaxed.mb}}},'[data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-paragraph":{...(0,F.xC)(t).compact,"+ .block-heading, + .block-title":{mt:(0,F.hQ)(t).compact.mt}},...!i&&{'&.block-heading:has([level="2"], [level="3"], [level="4"])':{mb:(0,F.hQ)(t).compact.mb,"+ .block-heading, + .block-title":{mt:(0,F.hQ)(t).compact.mt}}}},...i&&{'.block-heading:has([level="1"], [level="2"], [level="3"], [level="4"])':{'+ .block-heading:has([level="1"], [level="2"], [level="3"], [level="4"])':{mt:(0,F.hQ)(t).superTight.mt}},".block-heading:has(+ .block-heading)":{mb:(0,F.hQ)(t).superTight.mb}}}};var ee=n(65978);let et=(0,c.memo)(()=>{let e=(0,A.FX)(),t=(0,y.rd)(),n=(0,C.u)("headingSpacingTighten");return(0,r.jsx)(b.mL,{styles:i=>{let a={[".".concat(v._P)]:X({isMobileDevice:e,isDark:t,headingSpacingTighten:n}),[".".concat(ee.V)]:E,[".".concat(w.S)]:w.E};if(a)return(0,f.A)(a)(i)}})});et.displayName="GlobalCardStyles";var en=n(29608),ei=n(11403);let ea=e=>{let{children:t,isPublishedPage:n,forceHeight:i}=e,a=(0,ei.En)(),l=(0,h.oR)(),o=(0,en.Xb)()&&(l||a);return(0,r.jsxs)(s.s,{alignSelf:"stretch",position:"relative",height:"string"==typeof i?i:n||o?"100%":"var(--100vh)",direction:"column",flex:o?1:void 0,children:[(0,r.jsx)(et,{}),(0,r.jsx)(x,{}),t]})};var er=n(58450),es=n(37243),el=n(21938),eo=n(63867),ec=n(97255),ed=n(43634),eu=n(85235),ep=n(33201),eh=n(67864);let eg=e=>"buttonGroup"===e.type.name,em=e=>"calloutBox"===e.type.name;var ex=n(6845),ef=n(94922),eb=n(98968),eC=n(55424),ey=n(60300),ev=n(56124);let ew=new eo.hs("animation");var eA=n(60122),ek=n(56603);let eL=()=>({absPositions:[],relPositions:[]});class ej{getPositions(e){return e?this.presentModePositions:this.editModePositions}apply(e,t){let n=e.getMeta(ew);if(n)switch(n.type){case"addAnimationPositions":this.addAnimationPositions(n.pos,t,n.isPresentMode);break;case"resetAnimationPositions":this.resetAnimationPositions(n.isPresentMode);break;case"enableAnimations":this.enabled=n.enabled;break;default:console.warn("AnimationsState: unknown action type",n)}return this}addAnimationPositions(e,t,n){let i=this.getPositions(n),a=Math.max(...i.absPositions);e.forEach(e=>{if(e<=a)return;i.absPositions.push(e);let n=(0,ek.JO)(t,e);n&&i.relPositions.push(n)})}resetAnimationPositions(e){e?this.presentModePositions=eL():this.editModePositions=eL()}getAnimationPositionsAbs(e,t){let n=eA.pJ.getState(e),i=this.getPositions(t);return n?i.relPositions.map(t=>(0,ek.d_)(e,t)).filter(Boolean):i.absPositions}constructor(){this.enabled=!0,this.presentModePositions=eL(),this.editModePositions=eL()}}let eE="animate-has-animated",eS="animatable-on-load",eM="animatable-on-load-as-block",eI="animatable-on-load-content-parent",e_="animatable-on-load-content-child",eD=e=>{switch(e.type.name){case"card":return!0===(0,ex.Wq)(e);case"cardAccentLayoutItem":return(0,ef.wL)(e);case"calloutBox":case"gallery":case"smartLayout":case"divider":return!0;case"smartDiagram":return!(0,en.nr)();default:return(0,ey.Rj)(e)}},eR=(e,t)=>(0,eC.q)(e)||(0,eb.qK)(t),eT=(e,t)=>{let n=e.view.state.doc.resolve(t);if(!n)return;let i=e.state.doc.nodeAt(t);if(i&&eD(i)&&!eR(i,n)){let e=i.isLeaf||i.isAtom?0:-1;return{pos:n.pos+e,start:n.pos,depth:n.depth,node:i}}return(0,es.eL)(n,eD)},ez=(e,t)=>{let n=t.getAnimationPositionsAbs(e,(0,ed.wC)((0,p.KA)().getState())===eu.w.SLIDE_VIEW).reduce((e,t)=>Math.max(e,t),0),i=e.doc.nodeAt(n),a=i&&n>0?i.nodeSize:0;return n+a},eH=()=>new eo.k_({key:ew,state:{init:()=>new ej,apply:(e,t,n,i)=>t.apply(e,i)},props:{decorations(e){let t=[],n=this.getState(e);if(!1===n.enabled)return ec.zF.create(e.doc,t);let i=ez(e,n);return e.doc.descendants((n,a,r,s)=>{let l=e.doc.resolve(a),o=eD(n)||eR(n,l);if(a<i&&o&&t.push(ec.NZ.node(a,a+n.nodeSize,{class:eE})),(0,eC.M)(n)||(0,eb.Pb)(n))t.push(ec.NZ.node(a,a+n.nodeSize,{class:eI}));else if(eg(n)||em(n)||(0,ev.hj)(n))t.push(ec.NZ.node(a,a+n.nodeSize,{class:eM}));else if(eR(n,l))t.push(ec.NZ.node(a,a+n.nodeSize,{class:e_,style:"--animate-index: ".concat(s+1)}));else if(eD(n)){let e=!!r&&(0,eh.Ti)(n,r),i=n.isAtom;t.push(ec.NZ.node(a,a+n.nodeSize,{class:(0,el.cx)(eS,e&&"animatable-on-load-annotatable",i&&"animatable-on-load-atom")})),(0,ef.wL)(n)&&t.push(ec.NZ.node(a,a+n.nodeSize,{class:"animatable-on-load-accent"}))}return!((0,ep.jg)(n)&&l.depth>1||(0,eC.q)(n)||eg(n)||em(n)||(0,ev.hj)(n))}),ec.zF.create(e.doc,t)}}}),eN=es.YY.create({name:"animations",addOptions:()=>({}),addCommands:()=>({addAnimationPositions:(e,t)=>n=>{let{state:i,dispatch:a}=n;return a&&i.tr.setMeta(ew,{type:"addAnimationPositions",isPresentMode:t,pos:e}),!0},enableAnimations:e=>t=>{let{state:n,dispatch:i}=t;return i&&n.tr.setMeta(ew,{type:"enableAnimations",enabled:e}),!0},resetAnimationPositions:e=>t=>{let{state:n,dispatch:i}=t;return i&&n.tr.setMeta(ew,{type:"resetAnimationPositions",isPresentMode:e}),!0}}),addProseMirrorPlugins:()=>[eH()]});var eB=n(85732);let eP=()=>(0,eB.NF)()?(0,r.jsx)("div",{id:"sites-animations-script",dangerouslySetInnerHTML:{__html:"<script>".concat('(()=>{var o=()=>{requestAnimationFrame(()=>{window.gammaSiteAnimationsInitialized===!0?console.log("%c[animateOnLoad] - ALREADY INITIALIZED $$$$$$$$$$$$$$$$$$$$","background-color: orange; color: black; padding: 5px; font-size: 1.5em;"):(console.log("%c[animateOnLoad] ADDING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: aqua; color: black; padding: 5px; font-size: 1.5em;"),document.body.classList.add("site-animations-bootstrap"))})};if("PerformanceObserver"in window){let n=new PerformanceObserver(e=>{for(let a of e.getEntries())a.name==="first-contentful-paint"&&(o(),n.disconnect())});n.observe({entryTypes:["paint"]})}else console.warn("PerformanceObserver not supported. Animating now."),o();})();\n',"<\/script>")}}):null;var eF=n(57860),eV=n(39162),eO=n(26420),eZ=n(95669),eW=n.n(eZ),eU=n(48094),eG=n(58809),eK=n(39247),eQ=n(92437);let eq="Made with Gamma. A new medium for presenting ideas, powered by AI.",eJ=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e||"Untitled":e?"".concat(e," | Gamma"):"Gamma"},e$=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==e?void 0:e.trim())||(t?"":eq)};var eY=n(91938);let eX=e=>{let{title:t,description:n=eq,imageUrl:i,canonicalUrl:a,noindex:s=!1,nofollow:l=!1}=e,o=t||"Gamma",c=i||eY.$.OG_IMAGE_URL_REBRAND,d=n.slice(0,300),u=eY.$.APPLICATION_ENVIRONMENT,p="production"===u||"dev"===u?[s?"noindex":"index",l?"nofollow":"follow"].join(", "):"noindex, nofollow";return(0,r.jsxs)(eW(),{children:[(0,r.jsx)("title",{children:o}),(0,r.jsx)("meta",{name:"robots",content:p}),(0,r.jsx)("meta",{content:d,name:"description"},"description"),(0,r.jsx)("meta",{content:o,property:"og:title"},"og:title"),(0,r.jsx)("meta",{content:d,property:"og:description"},"og:description"),(0,r.jsx)("meta",{content:c,property:"og:image"},"og:image"),(0,r.jsx)("meta",{content:o,property:"twitter:title"},"twitter:title"),(0,r.jsx)("meta",{content:d,property:"twitter:description"},"twitter:description"),(0,r.jsx)("meta",{content:c,property:"twitter:image"},"twitter:image"),(0,r.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,r.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{rel:"canonical",href:a},"canonical"),(0,r.jsx)("meta",{property:"og:url",content:a},"og:url")]})]})},e0=e=>{var t,n,i;let{doc:a,token:s,content:l,noindex:o,nofollow:c,canonicalUrl:d}=e,u=(0,eQ.nk)(null==a?void 0:a.organization)||(0,eB.NF)(),h=null==l||null==(t=l.content)?void 0:t[0].attrs,g=eJ(null==a?void 0:a.title,u),m=(0,p.GV)(eK.E5),x=e$((null==h||null==(n=h.settings)?void 0:n.metaDescription)||m,u),f=null==a||null==(i=a.titleCard)?void 0:i.previewUrl,b="".concat(f).concat(s?"?shareToken="+s:"");return(0,r.jsx)(eX,{title:g,description:x,imageUrl:b,canonicalUrl:d,noindex:o,nofollow:c})};var e1=n(87386);let e2=e=>{let{content:t}=e,[n,i]=(0,c.useState)(!1),a=t&&!!(0,e1.findNodeByType)(t,["embed","video"]),r=(0,c.useRef)(!1);(0,c.useEffect)(()=>{t&&a&&!r.current&&(i(!0),r.current=!0)},[t,a]),(0,ei.WM)(n,'function loadEmbedJs(){var e=window.iframely=window.iframely||{};if(e.load)e.load();else{var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https:":"http:")+"//cdn.iframe.ly/embed.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}}loadEmbedJs();')};var e3=n(72688),e5=n(87930);let e4=(e,t)=>{var n,i;null==(n=e5.U.getState(e.state))||n.compute(e.state.doc).processChanges(t),null==(i=e3.Jl.getState(e.state))||i.compute(e.state).processChanges(t),e.commands.command(()=>((0,ex.jL)(e.state.doc,t),!0))};var e6=n(12364),e9=n.n(e6),e7=n(47687),e8=n.n(e7),te=n(53907),tt=n(85011),tn=n(33521),ti=n(99552),ta=n(73071),tr=n(47665),ts=n(73813);let tl=e=>{e.classList.add(eE),e.classList.contains(eI)&&e.querySelectorAll(".".concat(e_)).forEach(e=>{e.classList.add(eE)})};var to=n(17192);let tc="number"==typeof eY.$.EDITOR_ANIMATION_DEBUG_FACTOR?eY.$.EDITOR_ANIMATION_DEBUG_FACTOR:1,td="cubic-bezier(0.22, 1, 0.36, 1)",tu=+tc,tp=.15*tc,th=()=>document.querySelectorAll([eS,eM,eI].map(e=>".".concat(e)).join(", ")),tg=(e,t)=>{let n=(0,ed.$i)(t)||"",i=(0,tr.W0)(e,n);if(i){let t=i.pos+i.node.nodeSize-1;console.debug("[useAnimateOnLoad] Animating to presenting cardEndPos:",t),e.commands.addAnimationPositions&&e.commands.addAnimationPositions([t],!0)}},tm=e=>{let{scrollingParentSelector:t,editor:n,instanceId:i,disabledOverride:a}=e,r=(0,tt.O2)("editor"),s=(0,A.UT)("edit"),l=(0,p.GV)(e=>{var t,i;let r=null!=n&&!!n.shouldUsePublishedVersion||((0,ed.wC)(e)===eu.w.SLIDE_VIEW?!1===(0,ed.nD)(e):!1===s),l=!1==!!(null==(t=(0,ed.FI)(e))?void 0:t.pos),o=(0,ed.b6)(e),c=!(0,te.pn)(null==n?void 0:n.gammaDocId)(e),d=(null==(i=(0,eG.Jo)(e))?void 0:i.archived)!==!0;return r&&l&&!0!==a&&o&&c&&d}),[o,d]=(0,c.useState)(tu),u=(0,ta.b)(),h=(0,p.GV)(ed.OG),g=(0,p.GV)(ed.w7),m=(0,p.GV)(ed.mA),x=(0,p.GV)(e=>(0,ed.wC)(e)===eu.w.SLIDE_VIEW&&!(0,ed.OG)(e)),f=(0,p.CU)(),b=(0,p.GV)(ed.$i)||"",C=!h&&!g&&!m;return(0,c.useEffect)(()=>{if(!l||!n)return;let e=r.scrollerForEvents,t=e8()(()=>{r.isAtBottom(5)&&(n.commands.addAnimationPositions&&n.commands.addAnimationPositions([n.view.state.doc.content.size],h),th().forEach(e=>{e instanceof HTMLElement&&!e.classList.contains(eE)&&tl(e)}))},500);return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}},[n,r,l,h]),(0,c.useEffect)(()=>{x&&(console.debug("[useAnimateOnLoad] Setting animation duration to 0s"),d(0))},[x]),(0,c.useEffect)(()=>{(null==n?void 0:n.commands.enableAnimations)&&n.commands.enableAnimations(l)},[n,l]),(0,c.useEffect)(()=>{if(!h||!n)return;console.debug("[useAnimateOnLoad] PRESENT_MODE Entering present mode - Resetting animations"),n.commands.resetAnimationPositions&&n.commands.resetAnimationPositions(!0),requestAnimationFrame(()=>{d(tu)});let e=e9()(e=>{let{transaction:t}=e;t.docChanged&&tg(n,f.getState())},500,{leading:!0,trailing:!0,maxWait:1e3});return n.on("update",e),()=>{n.off("update",e)}},[n,f,h]),(0,c.useEffect)(()=>{b&&n&&setTimeout(()=>{tg(n,f.getState())},150)},[n,f,b]),(0,c.useEffect)(()=>{var e;if(!u||!n||C||!l||h)return;let a=th();console.debug("[useAnimateOnLoad] DOC_MODE - Setting up animations:",{isFullyInDocMode:g,rootSelectorEl:document.querySelector(t),rootSelector:t,elements:a,editorId:n.editorId,instanceId:i}),!(null==(e=window.gammaTiming)?void 0:e.editorAnimationsInitialized)&&(null==n?void 0:n.shouldUsePublishedVersion)&&(0,tn.P)("editorAnimationsInitialized");let r=()=>{if(window.gammaSiteAnimationsInitialized||!(null==n?void 0:n.shouldUsePublishedVersion))return;window.gammaSiteAnimationsInitialized=!0;let e="site-animations-bootstrap";document.body.classList.contains(e)?(document.body.classList.remove(e),console.debug("%c[useAnimateOnLoad] REMOVING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")):console.debug("%c[useAnimateOnLoad] site-animations-bootstrap class not found $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")},s=new IntersectionObserver(e=>{let t=[];for(let i of e)if(i.isIntersecting){let e=Number(i.target.getAttribute("data-pos"));e&&tl(i.target);let a=e||n.view.posAtDOM(i.target,0);if(a&&a>0){let r=eT(n,a);console.debug("[useAnimateOnLoad] animate isIntersecting",{pos:a,dataPos:e,$closestAnimatablePos:r,dataAttrPos:i.target.getAttribute("data-pos")},i.target),e?t.push(e):r&&t.push(r.pos),s.unobserve(i.target)}}r(),requestAnimationFrame(()=>{d(tu)}),setTimeout(()=>{n.commands.addAnimationPositions&&n.commands.addAnimationPositions(t,!1)})},{root:"body"!==t?document.querySelector(t):void 0,rootMargin:"-100px"});return a.forEach(e=>{s.observe(e)}),()=>{a.forEach(e=>{s.unobserve(e)})}},[u,n,i,l,h,C,g,b,t]),{editorAnimationsClass:l?"editor-animations-enabled":"",editorAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(o,"s"),"--animation-transition-delay":"".concat(0===o?0:tp,"s"),"--animation-easing-function":td}}},tx=e=>{let{disabledOverride:t}=e,n=(0,p.jL)(),i=(0,p.GV)(e=>{let n=(0,ed.zu)(e),i=(0,to.h)(null==n?void 0:n.settings)||!1==!!(null==n?void 0:n.docId);return!0!==t&&i});return(0,c.useEffect)(()=>{if(!i)return;let e=document.querySelectorAll([ts.Hj,ts.md].map(e=>".".concat(e)).join(", ")),t=new IntersectionObserver(e=>{for(let i of e)i.isIntersecting&&(console.debug("[useSiteNavAnimations] animate isIntersecting",i.target),tl(i.target),(0,ti.l$)(n)(!0),t.unobserve(i.target))},{root:document.body,rootMargin:"0px"});return e.forEach(e=>{t.observe(e)}),()=>{e.forEach(e=>{t.unobserve(e)}),(0,ti.l$)(n)(!1)}},[i,n]),{navbarAnimationsClass:i?"editor-navbar-animations-enabled":"",navbarAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(tu,"s"),"--animation-transition-delay":"".concat(tp,"s"),"--animation-easing-function":td}}};var tf=n(41885),tb=n(70375),tC=n(28548),ty=n(91892),tv=n(58497),tw=n(99696),tA=n(55616),tk=n(95714);Promise.all([n.e(6935),n.e(9978)]).then(n.bind(n,12504)).then(e=>{i=e.applyDevTools,a=e.removeDevTools});let tL=e=>{let t=(0,p.GV)(u.Ew);(0,c.useEffect)(()=>{if(e){if(t){console.debug("[Prosemirror DevTools] Activating prosemirror-dev-tools");try{i(e.view)}catch(e){}}else try{a()}catch(e){}return eY.$.DEBUG_ENABLED&&(window.openPMDT=()=>i(e.view)),()=>{a(),delete window.openPMDT}}},[e,t])};var tj=n(49251),tE=n(80738),tS=n(44911),tM=n(1739),tI=n(2426),t_=n(66082),tD=n(44553),tR=n(71839),tT=n(15607),tz=n(46957),tH=n(16936),tN=n(27229),tB=n(58959),tP=n(80314),tF=n(29810),tV=n(95571),tO=n(89703),tZ=n(73326),tW=n(89115),tU=n(88889),tG=n(62695),tK=n(48932),tQ=n(14110),tq=n(75287);let tJ=()=>(0,A.wO)({base:!0,lg:!1})||!1,t$=()=>{let e=(0,tq.l)(),t=(0,p.GV)(t=>{let n=(0,eG.Jo)(t),i=null==n?void 0:n.site;if(!i||!e)return"";let a=(0,tQ.z5)(i);return a||""}),n=(0,tK.c)({url:t});return{homeUrl:n.linkUrl,handleLogoClick:n.handleClick}},tY=e=>{let{active:t}=e;return(0,r.jsxs)(eO.a,{boxSize:"1.5rem",pos:"relative",pointerEvents:"none",children:[(0,r.jsx)(tX,{top:t?"50%":"calc(50% + .375rem)",transform:t?"rotate(45deg)":void 0}),(0,r.jsx)(tX,{top:"50%",opacity:+!t}),(0,r.jsx)(tX,{top:t?"50%":"calc(50% - .375rem)",transform:t?"rotate(-45deg)":void 0})]})},tX=e=>(0,r.jsx)(eO.a,{pos:"absolute",w:"1.25rem",h:"0.125rem",borderRadius:"full",bg:"currentcolor",insetStart:"0.125rem",transitionProperty:"all",transitionDuration:"normal",...e}),t0=e=>{let{isOpen:t,...n}=e;return(0,r.jsx)(tH.K,{variant:"unstyled",size:"xs",icon:(0,r.jsx)(tY,{active:t}),contentEditable:!1,...n})},t1=e=>{var t,n;let i={width:void 0,height:void 0,aspectRatio:void 0};if(!e)return i;let a=null==e||null==(t=e.meta)?void 0:t.width,r=null==e||null==(n=e.meta)?void 0:n.height,s=a&&r&&a/r||1;return s>1?i.width="100%":i.width="auto",i.height="100%",i.aspectRatio=s,i},t2=e=>{var t,n,i,a,r,s,l,o;let c=null==(a=e.content.content.find(e=>"navbarLinks"===e.type.name))||null==(i=a.content)||null==(n=i.content)||null==(t=n[0])?void 0:t.textContent,d=null==(o=e.content.content.find(e=>"navbarButtons"===e.type.name))||null==(l=o.content)||null==(s=l.content)||null==(r=s[0])?void 0:r.textContent;return void 0!==c&&""!==c||void 0!==d&&""!==d},t3=e=>{let{node:t,editor:n,getPos:i}=e,{isOpen:a,onToggle:l}=(0,tN.j)(),o=t.attrs.logo,d=(0,p.GV)(ed.SJ),{defaultContentWidth:u,fontSize:g}=(0,p.GV)(ed.Uu),{cardWidthEms:m,baseFontSize:x}=(0,tW.S)({theme:d,fontSize:g,isMobileDevice:!1,contentWidth:u}),f=(0,p.GV)(ed.Cl),b=(0,p.GV)(ti.lo),C=(0,h.oR)(),y=tJ(),v=C?y&&t2(t):y,w=o&&o.src,A=(0,c.useMemo)(()=>t1(o),[o]),k="".concat(ts.kb-2*ts.cw,"px"),L=!w&&!t2(t)&&C,{homeUrl:j,handleLogoClick:E}=t$(),S=(0,tG.j)(n,i),M=(0,tO.f)(),I=(0,c.useCallback)(()=>{S(),M({isOpen:!0})},[S,M]);return(0,c.useEffect)(()=>{if(v&&!a){var e,t;null==(e=(t=n.commands).forceHideBubbleMenu)||e.call(t,!1)}},[v,a,n]),(0,r.jsx)(tZ.VR,{children:(0,r.jsxs)(s.s,{direction:"column",align:"center",justify:"center",pos:"relative",w:"100%",p:"".concat(ts.cw,"px"),zIndex:"1",h:ts.D0,children:[(0,r.jsx)(eO.a,{pos:"absolute","data-id":"navbar-view-backdrop",className:(0,el.cx)(ts.Hj,b&&eE),inset:"0",sx:tV.CO,style:{borderRadius:"0px"}}),L?null:(0,r.jsxs)(tB.z,{className:(0,el.cx)(ts.md,b&&eE),...v&&!a?{[ts.hu]:!0}:{},spacing:4,maxW:"".concat(m,"em"),w:"100%",fontSize:"".concat(x,"em"),align:"center",sx:{".header-dropdown":tV.CO,"[data-node-view-content-inner=navbar]":{display:"flex",width:"100%",flexDirection:y?"column":"row",alignItems:"center"},".node-navbarLinks":{flexGrow:+!y,width:y?"100%":void 0},".node-navbarButtons":{marginTop:y?"0.5em":void 0,marginLeft:y?void 0:"0.5em",width:y?"100%":void 0},".node-buttonGroup":{flexGrow:+!!y,"--button-group-direction":"row-reverse",'[data-node-view-content-inner="button"]':{whiteSpace:"nowrap !important"},width:y?"100%":void 0}},children:[w||f?(0,r.jsx)(eO.a,{as:tP.N,href:j,onClick:E,h:k,w:(null==A?void 0:A.aspectRatio)?"calc(".concat(k," * ").concat(A.aspectRatio,")"):k,children:(0,r.jsx)(tU.Y,{image:o,imageSx:{backgroundSize:"contain",borderRadius:(null==o?void 0:o.src)?"none":"md",cursor:"pointer",...A},handleEditableClick:I,...e})}):null,!v&&(0,r.jsx)(tZ.$p,{style:{flex:1}}),v&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tF.h,{}),(0,r.jsx)(t0,{"aria-label":P.Ru._({id:"knMf50"}),color:"var(--body-color)",onClick:l,isOpen:a,mr:4}),a&&(0,r.jsx)(eO.a,{pos:"absolute",w:"100%",left:"0",top:ts.kb,backgroundColor:"var(--card-color)",transform:"translateY(".concat(a?"0":"-100%",")"),opacity:+!!a,pointerEvents:a?"auto":"none",transitionProperty:"transform, opacity",transitionDuration:"normal",className:"header-dropdown",p:4,children:(0,r.jsx)(tZ.$p,{})})]})]})]})})},t5=es.bP.create({name:"navbar",content:"navbarLinks navbarButtons",imageKeyPath:"logo",accessoryImageKey:"logo",addAttributes:()=>({logo:{default:null,...(0,tT.tb)("logo")}}),parseHTML:()=>[{tag:'nav[class="navbar"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["nav",(0,es.KV)(t,{class:"navbar"}),0]},addNodeView:()=>(0,tR.g)(t3,{update:tz.z0})});var t4=n(25600),t6=n(7631),t9=n(95017),t7=n(15253),t8=n(55292),ne=n(15587),nt=n(14812),nn=n(19564),ni=n(54765),na=n(43828),nr=n(9343),ns=n(49611),nl=n(48810),no=n(31394);let nc=e=>{let{variant:t}=e;return{buttonStyle:{..."solid"===t?{backgroundColor:"var(--placeholder-button-bg-color) !important",backgroundImage:"none",borderColor:"var(--placeholder-button-bg-color) !important",_hover:{backgroundColor:"var(--placeholder-button-bg-hover-color) !important",borderColor:"var(--placeholder-button-bg-hover-color)"}}:"outline"===t?{borderColor:"var(--placeholder-button-text-color) !important",backgroundColor:"transparent !important",_hover:{borderColor:"var(--placeholder-button-text-hover-color)"}}:{},borderRadius:"var(--button-border-radius, var(--box-border-radius))"}}},nd=e=>{let{editor:t,getPos:n,node:i,maxButtons:a,variant:l,label:o}=e,d=(0,p.GV)(ed.Cl),u=!a||i.childCount<a,h=(0,c.useCallback)(()=>{let e=n();"number"==typeof e&&t.commands.addButtonToGroup(e)},[t,n]),g=(0,c.useMemo)(()=>({...(0,no.s)({variant:l})}),[l]);if(!u||!d)return null;let{buttonStyle:m}=nc({variant:l});return(0,r.jsx)(s.s,{position:"relative",align:"center",children:(0,r.jsx)(ns.$,{onClick:h,className:"button",...g,...m,role:"group",userSelect:"none",contentEditable:!1,children:(0,r.jsx)(nl.E,{as:"div",wordBreak:"break-all",textAlign:"center",pos:"relative",color:"var(--placeholder-button-text-color)",_groupHover:{color:"var(--placeholder-button-text-hover-color) !important"},children:o})})})},nu=e=>{let{decorations:t}=e,n=tJ(),i=(0,ne.v)(t);return(0,r.jsx)(ni.u,{...e,children:(0,r.jsxs)(s.s,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:n?"column-reverse":"row-reverse",fontFamily:"var(--body-font)",sx:(0,nr.J)(n),gap:"0.5em",children:[i&&(0,r.jsx)(nd,{...e,variant:"solid",label:(0,r.jsx)(nn.x6,{id:"xe7fzh"})}),!n&&!i&&(0,r.jsx)(na.k,{...e,direction:"row-reverse",maxButtons:2}),(0,r.jsx)(tZ.$p,{})]})})},np=es.bP.create({name:"navbarButtons",content:"button{0, ".concat(2,"}"),addNodeView:()=>(0,tZ.gu)(nu,{update:tz.R$}),parseHTML:()=>[{tag:"div[class=navbar-buttons]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,es.KV)(t,{class:"navbar-buttons"}),0]}});var nh=n(21699);let ng=e=>{let{node:t,decorations:n}=e,{horizontalAlign:i}=t.attrs,a=tJ(),l=(0,nh.Ms)(n),o=a?"column":"row",c=(0,p.GV)(ed.nD),d=(0,ne.v)(n),u=(0,r.jsx)(na.k,{...e,direction:o,tooltip:(0,r.jsx)(nn.x6,{id:"JecGQl"}),maxButtons:5}),h=c||a?void 0:{_after:nm};return(0,r.jsx)(ni.u,{...e,children:(0,r.jsxs)(s.s,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:o,justify:(0,t_.lI)(i)||"var(--flex-align)",pl:a?void 0:4,sx:{...(0,nr.J)(a),".button[data-variant=link]":{outlineStyle:l?"solid":"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",_hover:h,"&[data-is-current-page=true]":{color:"var(--link-color)",_after:a?{}:nm}}},fontFamily:"var(--body-font)",gap:"0.5em",children:[d&&(0,r.jsx)(nd,{...e,variant:"link",label:(0,r.jsx)(nn.x6,{id:"JecGQl"})}),(0,r.jsx)(tZ.$p,{}),!a&&!d&&u]})})},nm={content:'""',pos:"absolute",w:"100%",left:0,bottom:"0.125em",height:"0.25em",borderRadius:"inherit",zIndex:"0",backgroundColor:"var(--link-color)",backgroundImage:"var(--accent-gradient)"},nx=es.bP.create({name:"navbarLinks",content:"button*",addNodeView:()=>(0,tZ.gu)(ng,{update:tz.R$}),parseHTML:()=>[{tag:"div[class=navbar-links]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,es.KV)(t,{class:"navbar-links"}),0]}}),nf=()=>[tb.y.extend({content:"navbar"}),t5,nx,np,tS.$,tv.E,tM.Hf,tf.yN,tw.z,ty.J2,tD.$,tC.B,t6.a,tI.bY,t_.wq,t9.n,t4.bU,ne.h,tM.mk,nt.Q],nb=(0,c.memo)(e=>{let{theme:t=t8.z,scrollingParentSelector:n,...i}=e,a=(0,h.oR)(),l=(0,c.useMemo)(()=>nf(),[]),o=(0,eF.h)({...i,extensions:l,editable:!a,immediatelyRender:!0});tL(o);let d=(0,tk.ZI)(t),u=(0,tA.S)(t,!0),{navbarAnimationsClass:p,navbarAnimationsCSSVars:g}=tx({disabledOverride:!1===a});o.isSiteNavbarEditor=!0;let m=a?(0,r.jsx)(t7.N,{editor:o}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tZ.$Z,{editor:o,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}}),(0,r.jsx)(tE.Ht,{editor:o,menuContext:"navigation",scrollingParentSelector:n}),(0,r.jsx)(tj.G,{editor:o})]});return(0,r.jsx)(s.s,{flex:"1",direction:"column","data-navbar-editor":!0,className:p,style:g,sx:{...d,...u,...t.config.contentStyles},children:m})});nb.displayName="NavbarEditor";var nC=n(89942),ny=n(95889),nv=n(56829),nw=n(61204),nA=n(33170),nk=n(16410);let nL=e=>{let{fillColorOverride:t}=e;return(0,r.jsx)(eO.a,{display:"inline-block",ms:1,children:(0,r.jsx)(nA.Fu,{w:"61px",fillColorOverride:t})})},nj={darkButton:{border:"var(--chakra-colors-deepocean-200) !important",bg:"var(--chakra-colors-deepocean-950)",color:"white"},lightButton:{border:"var(--chakra-colors-sky-700)",bg:"white",color:"var(--chakra-colors-sky-700)"}},nE=e=>{let{docId:t,abuseReportingEnabled:n=!0,onClick:i,gammaUrl:a}=e,s=(0,y.rd)(),l=s?nj.lightButton:nj.darkButton;return(0,r.jsx)(nA.L8,{isDark:!s,children:(0,r.jsxs)(nw.e,{isAttached:!0,children:[(0,r.jsx)(ns.$,{as:tP.N,onClick:i,variant:"plain",target:"_blank",href:a,textDecoration:"none !important",size:"sm",color:l.color,bg:l.bg,borderColor:l.border,"data-id":"made-with-gamma-btn",boxShadow:"none",...n&&{borderInlineEndRadius:"none"},children:(0,r.jsx)(nn.x6,{id:"b9utUl",components:{0:(0,r.jsx)(nL,{fillColorOverride:l.color})}})}),n&&(0,r.jsx)(nk._,{docId:t,buttonType:"iconRight",buttonProps:{bg:l.bg,color:l.color,borderColor:l.border,boxShadow:"none"}})]})})},nS=()=>(0,en.Xb)()?{display:"flex",justifyContent:"center",m:6,position:"relative"}:{position:"fixed",right:[1,6],bottom:[1,4]},nM=e=>{let{docWorkspace:t,forceShow:n=!1,abuseReportingEnabled:i=!0,...a}=e,{docId:l}=(0,nv.mi)(),o=(0,ny.st)(),d=(0,c.useCallback)(()=>{null==o||o.track(ny.VV.MADE_WITH_GAMMA_CLICKED,{doc_id:l})},[o,l]),u=(0,nC.nk)(t);return!1===n&&!1!==u?null:(0,r.jsx)(s.s,{...nS(),...a,children:(0,r.jsx)(nE,{docId:l,onClick:d,abuseReportingEnabled:i,gammaUrl:"https://gamma.app"})})};var nI=n(69768),n_=n(92397),nD=n(71753),nR=n(53957),nT=n(70006);let nz=()=>{let{editor:e}=(0,nv.mi)(),t=(0,o.useRouter)(),n=(0,p.CU)();(0,c.useEffect)(function(){if(!e)return;t.beforePopState(e=>{let{as:t}=e;return!t.startsWith("/docs/")});let i=nI.uE.on("changed",t=>{var i;let{cardId:a}=(0,nT.$9)(t.url),r=n.getState(),s=(0,ed.wC)(r);if(console.debug("[useHandleCardHash][handleURLChange]",{payload:t,cardId:a}),s!==eu.w.SLIDE_VIEW&&(null==(i=t.state)?void 0:i.fromPos)&&"pop"===t.method){let{fromPos:n,fromPct:i}=t.state;e.chain().scrollToPositionInCard(n,i||void 0).command(e=>{let{tr:t}=e;return(0,nD.Ey)(n)(t),!0}).run()}else{let t=(0,ed.bO)(r)[0];(0,n_.OM)({cardId:a||t,editor:e})}});return()=>{t.beforePopState(()=>!0),i()}},[e,t,n]),(0,c.useEffect)(function(){if(!e)return;let{cardId:t}=(0,nT.$9)(window.location.href);t&&(0,nR.o)({cardId:t,method:"replace"})},[e])},nH=new String(':root{--\\31 00vh:100%}html{min-height:var(--\\31 00vh);min-height:-webkit-fill-available;height:var(--\\31 00vh);height:-webkit-fill-available}body{position:relative;--\\31 00vh:100vh;--editor-width:100vw}[data-node-view-content-inner="paragraph"]:empty::after{content:"\xa0"}');nH.__hash="3b0f3b1f5b7e38c3";var nN=n(83106);let nB=e=>"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-".concat(e,"');").replace(/\n\s+/g," "),nP=e=>{let{gtmId:t}=e,n=nN.W.sanitize(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eW(),{children:(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:nB(n)}})}),(0,r.jsx)("noscript",{children:(0,r.jsx)("iframe",{title:"Google Tag Manager noscript",src:"https://www.googletagmanager.com/ns.html?id=GTM-".concat(n),height:"0",width:"0",style:{display:"none",visibility:"hidden"}})})]})},nF=e=>"!function(f,b,e,v,n,t,s)\n  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n  n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n  n.queue=[];t=b.createElement(e);t.async=!0;\n  t.src=v;s=b.getElementsByTagName(e)[0];\n  s.parentNode.insertBefore(t,s)}(window, document,'script',\n  'https://connect.facebook.net/en_US/fbevents.js');\n  fbq('init', '".concat(e,"');\n  fbq('track', 'PageView');").replace(/\n\s+/g," "),nV=e=>{let{pixelId:t}=e,n=nN.W.sanitize(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eW(),{children:(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:nF(n)}})}),(0,r.jsx)("noscript",{children:(0,r.jsx)("img",{alt:"Facebook Pixel",height:"1",width:"1",style:{display:"none"},src:"https://www.facebook.com/tr?id=".concat(n,"&ev=PageView&noscript=1")})})]})};var nO=n(17899);let nZ=e=>{let{dispatch:t,doc:n,editor:i}=e;t((0,ed.Yl)({theme:n.theme||null})),t((0,ed.kd)({isAllowedToEdit:!1})),t((0,eG.Tm)({currentPage:n})),e4(i,t),(0,eU.oZ)(i,t)},nW=e=>{var t,n,i,a,l,o;let{doc:d,content:u,editor:h}=e,g=(0,p.jL)(),m=(0,c.useRef)(!1),x=(0,C.u)("siteAnimationsEnabled"),f=(0,nO.dangerouslyGetProductKeysWithProductFeature)("custom_domains","We do not have access to user here so we need to filter on product keys."),y=null==d||null==(n=d.organization)||null==(t=n.products)?void 0:t.some(e=>f.includes(e));m.current||(nZ({dispatch:g,doc:d,editor:h}),m.current=!0),h.gammaDocId=d.id,h.shouldUsePublishedVersion=!0,nz(),e2({content:u});let{editorAnimationsClass:v,editorAnimationsCSSVars:w}=tm({editor:h,scrollingParentSelector:"body",disabledOverride:!1===x}),{customCode:A}=u.content[0].attrs,k=(0,eB.pg)(d.site),L=null==(i=d.site)?void 0:i.gtmContainerId,j=null==(a=d.site)?void 0:a.metaPixelId,E=(!y||!d.site)&&(null==d?void 0:d.searchEngineIndexingAllowed)!==!0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e0,{doc:d,content:u,noindex:E,nofollow:E}),(0,r.jsx)(eW(),{children:(null==d||null==(l=d.site)?void 0:l.faviconUrl)&&(0,r.jsx)("link",{rel:"icon",href:d.site.faviconUrl})}),(0,r.jsx)("style",{id:"global-styles",dangerouslySetInnerHTML:{__html:nH.toString()}}),(0,r.jsx)(b.mL,{styles:{html:{overflowX:"hidden"},body:{overflow:"hidden",WebkitOverflowScrolling:"touch","--doc-padding-top":k?ts.D0:void 0}}}),L&&(0,r.jsx)(nP,{gtmId:L}),j&&(0,r.jsx)(nV,{pixelId:j}),(null==A?void 0:A.bodyStart)&&(0,r.jsx)(eO.a,{"data-custom-code":"body-start",dangerouslySetInnerHTML:{__html:A.bodyStart}}),k&&(0,r.jsx)(s.s,{pos:"absolute",top:0,left:0,w:"100%",zIndex:"10",children:(0,r.jsx)(nb,{theme:d.theme,content:null==(o=d.site)?void 0:o.navContent})}),(0,r.jsx)(eO.a,{className:(0,el.cx)("simple-editor-root",v),style:w,width:"100%",position:"relative","data-is-mobile":(0,en.Xb)(),children:(0,r.jsx)(t7.N,{editor:h})}),(0,r.jsx)(nM,{minH:(0,en.Xb)()?"60px":void 0,docWorkspace:d.organization})]})},nU=()=>{},nG=e=>{let{children:t}=e;return(0,r.jsx)(s.s,{flex:1,alignItems:"center",justifyContent:"center",color:"gray.500",fontSize:"2xl",children:t})},nK=e=>{var t;let{doc:n,docId:i,flags:a}=e,s=(0,o.useRouter)(),c=null==n||null==(t=n.publishedSnapshot)?void 0:t.content.default;return s.isFallback?(0,r.jsx)(nG,{children:(0,r.jsx)(l.y,{size:"md"})}):c&&i&&n?(0,r.jsx)(nQ,{doc:n,docId:i,content:c,flags:a}):(0,r.jsx)(nG,{children:"Sorry, we couldn't find that page."})},nQ=e=>{let{doc:t,docId:n,flags:i,content:a}=e,s=(0,c.useMemo)(()=>(0,er.C)().concat(eN),[]),l=(0,eF.h)({extensions:s,content:a,editable:!1,immediatelyRender:!0});l.isReadOnly=!0;let o=(0,c.useRef)(!1);return o.current||(o.current=!0,(0,p.BT)(),u.of.set(i),u.of.hasInitialized=!0),(0,r.jsx)(d.UU,{children:(0,r.jsxs)(ea,{isPublishedPage:!0,children:[(0,r.jsx)(eP,{}),(0,r.jsx)(eV.p.Provider,{value:{editor:l,docId:n,isUnauthorized:!1,passwordRequired:void 0,setCollaborativeEditorInstance:nU,getCollaborativeEditorInstance:()=>l||null,confirmNavigation:()=>Promise.resolve()},children:(0,r.jsx)(nW,{doc:t,content:a,editor:l})})]})})}},6845:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>g,iM:()=>p,jL:()=>h,wE:()=>m,wV:()=>x});var i=n(37243),a=n(38822),r=n.n(a),s=n(63867),l=n(25778),o=n(43634),c=n(85235),d=n(33201),u=n(61385);let p=i.YY.create({name:"cardCollapse",addKeyboardShortcuts:()=>({Escape:e=>{let{editor:t}=e,n=(0,l.KA)();if((0,o.wC)(n.getState())===c.w.SLIDE_VIEW)return!1;let{selection:a}=t.state;if(!a.empty)return!1;let r=(0,i.KP)(d.jg)(a);return!(!r||!(r.depth>u.$x)||g(r.node))&&(m(r.node.attrs.id,!0),!0)}}),addProseMirrorPlugins:()=>[new s.k_({key:new s.hs("cardCollapse"),appendTransaction:(e,t,n)=>{if(n.selection.eq(t.selection)||!n.selection.empty)return;let a=(0,i.KP)(d.jg)(n.selection);if(!a)return;let{node:r,pos:l}=a;if(g(r))try{let{tr:e}=n,t=s.nh.create(e.doc,l);if(!t)return;return e.setSelection(t)}catch(e){console.error("Error moving selection out of collapsed card",{node:r,pos:l},e)}}})]}),h=(e,t)=>{let n=[],i=[];e.descendants((e,t,a)=>{if(!(0,d.jg)(e))return;let{id:r}=e.attrs;a&&"document"===a.type.name?n.push(r):i.push(r)}),t((0,o.ln)({cardIds:n,isCollapsed:!1})),t((0,o.ln)({cardIds:i,isCollapsed:!0}))},g=e=>{var t;let n="string"==typeof e?e:null==e||null==(t=e.attrs)?void 0:t.id;if(!n)return;let i=(0,l.KA)().getState();return(0,o.WS)(n)(i)},m=(e,t)=>{if(r()(e))return void console.error("[setCardCollapsed] Input is unexpectedly not string | string[]: ",e);let n=Array.isArray(e)?e:[e],i=(0,l.KA)();(1!==n.length||(0,o.WS)(n[0])(i.getState())!==t)&&i.dispatch((0,o.ln)({cardIds:n,isCollapsed:t}))},x=e=>{let t=(0,l.KA)();void 0===t.getState().TipTap.memoState.expandedCards[e]&&t.dispatch((0,o.ln)({cardIds:[e],isCollapsed:!1}))}},7631:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var i=n(37243),a=n(63867),r=n(91242),s=n(23513);let l=i.YY.create({name:"focusHelpers",addCommands:()=>({focusDelayed:()=>e=>{let{editor:t}=e;return requestAnimationFrame(()=>t.commands.focus()),!0},insertContentAndSelect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=>{let{chain:i,state:a}=n,{from:r,$from:s}=a.selection;return 0===s.parentOffset?i().insertContentAt({from:r-1,to:r},e,{updateSelection:!1}).selectInsertedNode(t).run():i().insertContent(e,{updateSelection:!1}).selectInsertedNode(t).run()}},focusMapped:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return i=>{let{tr:a,view:s}=i,l=a.mapping.map(e,n)+t;try{let e=(0,r.s)(a.doc.resolve(l));e&&a.setSelection(e),s.focus()}catch(e){console.error("[focusMapped] error selecting pos",l,e)}return!0}},selectInsertedNode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,view:i}=t,a=(0,r.t)(n);if(!a)return!1;let s=(0,r.s)(a,e);return!!s&&(n.setSelection(s),i.focus(),!0)}},selectNodeAtPos:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{state:i,tr:r,view:s}=n;try{r.setSelection(a.nh.create(i.doc,e)),t&&r.scrollIntoView(),s.focus()}catch(t){console.warn("[selectNodeAtPos] Error selecting node",e,t)}return!0}},selectInsideNodeAtPos:(e,t)=>n=>{let{tr:i,state:a}=n,s=a.doc.resolve(e),l=(0,r.s)(s,t);return!!l&&(i.setSelection(l),!0)},deleteSelectionAndSelectNear:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,state:i}=t,{selection:a}=i;if(a.empty)return!1;n.deleteSelection().scrollIntoView();let r=(0,s.n)(n.doc.resolve(a.from),e);return r&&n.setSelection(r),!0}}})})},7915:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var i=n(63867);n(5061),n(25778),n(70703),n(23460),n(87379),n(39822),n(39385),n(61250),n(8376),n(16264);let a="data-drag-handle-hovering";new i.hs("globalDragHandle")},7957:(e,t,n)=>{"use strict";n.d(t,{A3:()=>l,Tg:()=>s,_w:()=>r,i:()=>o});var i=n(99492),a=n(77650);let r=()=>({note:{name:a.Ru._({id:"KiJn9B"}),commandName:()=>a.Ru._({id:"Cq+sLh"}),description:a.Ru._({id:"ooy/OF"}),icon:i.jyJ,colors:"accent"},info:{name:a.Ru._({id:"CE+M2e"}),commandName:()=>a.Ru._({id:"1E4ojF"}),description:a.Ru._({id:"NfbNtV"}),icon:i.iW_,colors:{light:{backgroundColor:"#b6d6fc",iconColor:"#006ED6"},dark:{backgroundColor:"#022349",iconColor:"#8DD4FB"}}},warning:{name:a.Ru._({id:"r6y+jM"}),commandName:()=>a.Ru._({id:"xb1fsI"}),icon:i.JAe,description:a.Ru._({id:"tpYgEx"}),colors:{light:{backgroundColor:"#fcf2b5",iconColor:"#B29500"},dark:{backgroundColor:"#4b3f02",iconColor:"#F5F380"}}},caution:{name:a.Ru._({id:"VvjZ7K"}),commandName:()=>a.Ru._({id:"tC/T1p"}),description:a.Ru._({id:"nbib7S"}),icon:i.rfe,colors:{light:{backgroundColor:"#ffb3b4",iconColor:"#EB0000"},dark:{backgroundColor:"#450707",iconColor:"#EF8784"}}},success:{name:a.Ru._({id:"zzDlyQ"}),commandName:()=>a.Ru._({id:"Vv+D/T"}),description:a.Ru._({id:"pqvop4"}),icon:i.SGM,colors:{light:{backgroundColor:"#b6fcb8",iconColor:"#008545"},dark:{backgroundColor:"#183a13",iconColor:"#8CE29F"}}},question:{name:a.Ru._({id:"bfgr/e"}),commandName:()=>a.Ru._({id:"Ev0Vqt"}),description:a.Ru._({id:"IsUqRH"}),icon:i.wRm,colors:{light:{backgroundColor:"#d9d9d9",iconColor:"#7A7A7A"},dark:{backgroundColor:"#262626",iconColor:"#AFAFAF"}}}}),s=e=>r()[e]||r().note,l=()=>Object.entries(r()).map(e=>{let[t,{commandName:n,icon:i}]=e;return{key:"calloutBox-".concat(t),name:n,nodeName:"calloutBox",icon:i,shortcut:"/".concat(t),keywords:["callout","box"],execute:e=>e.chain().focus().insertContent([{type:"calloutBox",attrs:{variant:t},content:[{type:"paragraph"}]}]).run()}}),o=()=>Object.fromEntries(Object.keys(r()).map(e=>["calloutBox-".concat(e),{type:"calloutBox",attrs:{variant:e},content:[{type:"paragraph"}]}]))},8098:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=new(n(83747)).b},8327:(e,t,n)=>{"use strict";n.d(t,{KD:()=>s,P6:()=>l,Rj:()=>c,S4:()=>d,TF:()=>o,ve:()=>r});var i=n(40782),a=n(20775);let r=e=>{var t,n,i,a,r,s,l;return("image.ai-generated"===e.source?null==(t=e.aiParams)?void 0:t.prompt:e.query)||(null==(n=e.meta)?void 0:n.description)||(null==(i=e.meta)?void 0:i.alt_description)||(null==(a=e.meta)?void 0:a.title)||(null==(r=e.meta)?void 0:r.snippet)||(null==(l=e.meta)||null==(s=l.tags)?void 0:s.join(", "))},s=e=>e.height>e.width?"portrait":e.height<e.width?"landscape":"square",l=e=>{if(e.meta&&e.meta.width&&e.meta.height)return s(e.meta);if(e.aiParams){let t=e.aiParams;if(t.aspectRatio)return t.aspectRatio;if(t.width&&t.height)return s({width:t.width,height:t.height})}return a.X},o=(e,t,n)=>{let a={src:e.imageUrl,tempUrl:e.thumbnailUrl,meta:{height:e.height,width:e.width,description:e.description,alt_description:e.altDescription,title:e.title,snippet:e.snippet},query:t,source:i.j[n]};return"aiGenerated"===n&&(a.aiParams={prompt:e.aiPrompt,height:e.height,width:e.width,model:e.aiModel,stylePreset:e.aiStylePreset}),a},c=(e,t)=>{let{resize:n,source:i,horizontalAlign:a,savedMediaId:r,meta:s,fullWidthBlock:l}=e,o={src:e.src,alt:t},c={};(null==n?void 0:n.width)!=null&&(c.width=n.width),(null==n?void 0:n.height)!=null&&(c.height=n.height),(null==n?void 0:n.clipType)!=null&&(c.clipType=n.clipType),(null==n?void 0:n.clipPath)!=null&&(c.clipPath=n.clipPath),(null==n?void 0:n.clipAspectRatio)!=null&&(c.clipAspectRatio=n.clipAspectRatio),Object.keys(c).length>0&&(o.resize=JSON.stringify(c)),i&&(o.source=i),a&&(o.horizontalAlign=a),r&&(o.savedMediaId=r),l&&(o.fullWidthBlock=l);let d={};return(null==s?void 0:s.height)!=null&&(d.height=s.height),(null==s?void 0:s.width)!=null&&(d.width=s.width),(null==s?void 0:s.aspectRatio)!=null&&(d.aspectRatio=s.aspectRatio),Object.keys(d).length>0&&(o.meta=JSON.stringify(d)),o},d=(e,t)=>{var n,i,a,s,l,o,c;let d={src:null==(n=e.image)?void 0:n.src,alt:e.image?r(e.image):void 0,class:"accent-image"},u={};(null==(a=e.image)||null==(i=a.backgroundPos)?void 0:i.x)!=null&&(u.x=e.image.backgroundPos.x),(null==(l=e.image)||null==(s=l.backgroundPos)?void 0:s.y)!=null&&(u.y=e.image.backgroundPos.y),Object.keys(u).length>0&&(d.backgroundPos=JSON.stringify(u)),t.fitType&&(d.fitType=t.fitType);let p={};return(null==(o=e.mask)?void 0:o.effect)&&(p.effect=e.mask.effect),(null==(c=e.mask)?void 0:c.intensity)&&(p.intensity=e.mask.intensity),Object.keys(p).length>0&&(d.mask=JSON.stringify(p)),d}},8376:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var i=n(62040),a=n(15607),r=n(55424),s=n(94922),l=n(47665);let o=(e,t)=>!!c(e),c=e=>{if(!(e.parent&&(0,l.jg)(e.parent)))return!0;let t=(0,a.TK)(e,l.jg)[0];if(!t)return!0;let n=e.doc.resolve(t.pos);return 0===Object.keys((0,s.l0)(n)).length},d=(e,t,n)=>{var s,l,c;let d=e.posAtCoords({left:t.clientX,top:t.clientY});if(!d||d.inside<0||!e.state.doc.resolve(d.pos))return null;let u=d.pos,p=e.state.doc.resolve(d.inside),h=e.state.doc.nodeAt(d.inside),g=e.state.doc.nodeAt(d.pos);if((null==h?void 0:h.type.name)==="smartLayout"&&(null==g?void 0:g.type.name)==="smartLayoutCell")return null;let m=(0,a.IV)(p,r.q)[0];if(m&&(u=d.inside,m.pos===u)||!u)return null;if(n){if(u=(0,i.Um)(e.state.doc,u,n),(null==(c=n.content)||null==(l=c.firstChild)?void 0:l.type.name)==="tableRow"&&null!==u){let t=-1;for(let e=p.depth;e>=0;e--){let n=p.node(e);if("table"===n.type.name){t=p.start(e)+n.nodeSize-1;break}}t>=0&&u===t&&(u=(0,i.Um)(e.state.doc,u-1,n))}if(null==u)return null}return o(e.state.doc.resolve(u),null==(s=e.dragging)?void 0:s.slice)?u:null}},8763:(e,t,n)=>{"use strict";n.d(t,{C:()=>S,D:()=>E});var i=n(6029),a=n(26420),r=n(41885),s=n(76931),l=n(70375),o=n(28548),c=n(91892),d=n(58497),u=n(99696),p=n(55729),h=n(68247),g=n(36464),m=n(87140),x=n(1739),f=n(12117),b=n(2426),C=n(24392),y=n(21905),v=n(66082),w=n(9893),A=n(45234),k=n(95663),L=n(97984),j=n(73326);let E=()=>[l.y.extend({content:"block+"}),o.B,m.a,A.f,d.E,x.Hf,y.DZ.configure({HTMLAttributes:{class:h.U6}}),C.B,f.Z4,r.yN,u.z,c.J2,L.r,L.f,v.wq,k.n,w.N.extend({excludes:"underline link",renderHTML(e){let{HTMLAttributes:t}=e,{href:n}=t;return["a",{...this.options.HTMLAttributes,href:n,class:"link"},0]}}).configure({openOnClick:!1}),s.Cy,b.bY,x.mk],S=e=>{let{isEditing:t,disableGradients:n,...r}=e,s=(0,p.useMemo)(()=>E(),[]),l=(0,j.hG)({extensions:s,parseOptions:{preserveWhitespace:"full"},...r,editable:t,immediatelyRender:!0});return(0,p.useEffect)(()=>{t?l.commands.focus():l.commands.blur()},[t,l]),l.isThumbnail=!0,l.shouldUseLiteMenus=!0,(0,i.jsxs)(a.a,{sx:{width:"100%"},className:n?h.Dv:void 0,children:[(0,i.jsx)(j.$Z,{style:{width:"100%"},className:"text",editor:l}),(0,i.jsx)(g.Ht,{editor:l,appendToSelector:"[data-tldraw-menu-root]"})]})}},8884:(e,t,n)=>{"use strict";n.d(t,{B:()=>h});var i=n(6029),a=n(58959),r=n(57405),s=n(48810),l=n(50933),o=n(99492),c=n(48621),d=n(33170),u=n(77650),p=n(98874);let h={key:"cellSize",defaultValue:()=>(0,p.rO)().md.width,Control:e=>{let{value:t,updateValue:n,option:u}=e,h=Object.values((0,p.rO)()).find(e=>e.width===t);return(0,i.jsxs)(a.z,{spacing:2,me:2,children:[(0,i.jsx)(d.Tz,{placement:"top",label:(0,i.jsxs)(r.T,{spacing:0,children:[(0,i.jsx)(s.E,{color:"gray.400",children:u.name()}),(0,i.jsx)(s.E,{children:null==h?void 0:h.label()})]}),children:(0,i.jsx)(s.E,{fontSize:"sm",fontWeight:"600",children:(0,i.jsx)(c.g,{icon:o.oZz})})}),(0,i.jsxs)(l.Ap,{min:(0,p.rO)().sm.width,max:(0,p.rO)().xl.width,step:5,value:t,onChange:n,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(l.hB,{children:(0,i.jsx)(l.hJ,{})}),h?(0,i.jsx)(d.Tz,{placement:"top",label:(0,i.jsxs)(r.T,{spacing:0,children:[(0,i.jsx)(s.E,{color:"gray.400",children:u.name()}),(0,i.jsx)(s.E,{children:h.label()})]}),children:(0,i.jsx)(l.OQ,{background:"trueblue.500"})}):(0,i.jsx)(l.OQ,{background:"trueblue.500"})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:o.oZz,items:Object.entries((0,p.rO)()).map(n=>{let[i,a]=n;return{key:"cell-size-".concat(i),label:a.label(),icon:a.width===e?o.e68:void 0,onClick:()=>{t(a.width)}}})}),getDefaultOnParse:e=>e.childElementCount%2==0?(0,p.rO)().lg.width:(0,p.rO)().md.width,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation},name:()=>u.Ru._({id:"LNoaEH"}),validator:e=>Object.values((0,p.rO)()).some(t=>t.width===e)}},9097:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>r,mr:()=>a,sW:()=>i});let i=e=>{let{gridStyle:t}=e;return"flex_grid"===t||"masonry"===t?"flex":"center"},a=e=>{let{gridStyle:t}=e;return"balanced_grid"===t||"steps_up"===t},r=e=>{let{gridStyle:t}=e;return"steps_up"===t?{horizontal:"cascade",vertical:"oscillating"}:void 0}},9100:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>o,r4:()=>s,vf:()=>l});var i=n(99492),a=n(55597),r=n(77650);let s=3,l=()=>[{name:r.Ru._({id:"bjuYAW"}),key:"solid",icon:a.Cpz},{name:r.Ru._({id:"bCuf07"}),key:"outline",icon:i.Cpz},{name:r.Ru._({id:"1lWK8g"}),key:"link",icon:i.CQO}],o={buttonGroup:{alignEnabled:!0,colorEnabled:!0,linkDropdownEnabled:!0,variants:["solid","outline"],defaultVariant:"solid"},navbarButtons:{alignEnabled:!1,colorEnabled:!0,linkDropdownEnabled:!1,variants:["solid","outline"],defaultVariant:"solid"},navbarLinks:{alignEnabled:!0,colorEnabled:!1,linkDropdownEnabled:!1,variants:["link"],defaultVariant:"link"}}},9118:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>x,ZD:()=>d,xt:()=>h});var i=n(50729),a=n(77650),r=n(26194),s=n.n(r),l=n(99767),o=n(62e3);let c={en:{displayName:"English (US)",displayNameLocalized:()=>a.Ru._({id:"cJWHou"})},"en-gb":{displayName:"English (UK)",displayNameLocalized:()=>a.Ru._({id:"KDEMVl"})},"en-in":{displayName:"English (India)",displayNameLocalized:()=>a.Ru._({id:"mqnttg"})},es:{displayName:"Espa\xf1ol",displayNameLocalized:()=>a.Ru._({id:"65A04M"})},"es-es":{displayName:"Espa\xf1ol (Espa\xf1a)",displayNameLocalized:()=>a.Ru._({id:"UYPXPZ"})},"es-mx":{displayName:"Espa\xf1ol (M\xe9xico)",displayNameLocalized:()=>a.Ru._({id:"CdooNf"})},"es-419":{displayName:"Espa\xf1ol (Latinoam\xe9rica)",displayNameLocalized:()=>a.Ru._({id:"Ni47Oh"})},ca:{displayName:"Catal\xe0",displayNameLocalized:()=>a.Ru._({id:"M1RLfx"})},fr:{displayName:"Fran\xe7ais",displayNameLocalized:()=>a.Ru._({id:"nLC6tu"})},"zh-cn":{displayName:"简体中文",displayNameLocalized:()=>a.Ru._({id:"QBySSi"})},"zh-tw":{displayName:"繁體中文",displayNameLocalized:()=>a.Ru._({id:"Mpms0p"})},ko:{displayName:"한국어",displayNameLocalized:()=>a.Ru._({id:"h6S9Yz"})},ja:{displayName:"日本語 (です/ます体)",displayNameLocalized:()=>a.Ru._({id:"I9nscg"})},"ja-da":{displayName:"日本語 (だ/である体)",displayNameLocalized:()=>a.Ru._({id:"GMG8Tf"})},"pt-br":{displayName:"Portugu\xeas (Brasil)",displayNameLocalized:()=>a.Ru._({id:"R7+D0/"})},"pt-pt":{displayName:"Portugu\xeas (Portugal)",displayNameLocalized:()=>a.Ru._({id:"512Uma"})},de:{displayName:"Deutsch",displayNameLocalized:()=>a.Ru._({id:"DDcvSo"})},it:{displayName:"Italiano",displayNameLocalized:()=>a.Ru._({id:"Lj7sBL"})},ru:{displayName:"Русский",displayNameLocalized:()=>a.Ru._({id:"nji0/X"})},pl:{displayName:"Polski",displayNameLocalized:()=>a.Ru._({id:"trnWaw"})},uk:{displayName:"Українська",displayNameLocalized:()=>a.Ru._({id:"V9+2pH"})},ro:{displayName:"Rom\xe2nă",displayNameLocalized:()=>a.Ru._({id:"uJc01W"})},hu:{displayName:"Magyar",displayNameLocalized:()=>a.Ru._({id:"mkWad2"})},cs:{displayName:"Čeština",displayNameLocalized:()=>a.Ru._({id:"w9VTXG"})},el:{displayName:"Ελληνικά",displayNameLocalized:()=>a.Ru._({id:"CZXzs4"})},tr:{displayName:"T\xfcrk\xe7e",displayNameLocalized:()=>a.Ru._({id:"Kz91g/"})},ar:{displayName:"العربية",displayNameLocalized:()=>a.Ru._({id:"8HV3WN"})},"ar-sa":{displayName:"العربية (السعودية)",displayNameLocalized:()=>a.Ru._({id:"9E6cqp"})},he:{displayName:"עברית",displayNameLocalized:()=>a.Ru._({id:"3oTCgM"})},fa:{displayName:"فارسی",displayNameLocalized:()=>a.Ru._({id:"JFI3iH"})},nl:{displayName:"Nederlands",displayNameLocalized:()=>a.Ru._({id:"KIjvtr"})},sv:{displayName:"Svenska",displayNameLocalized:()=>a.Ru._({id:"UaISq3"})},da:{displayName:"Dansk",displayNameLocalized:()=>a.Ru._({id:"Fo2vDn"})},nb:{displayName:"Norsk",displayNameLocalized:()=>a.Ru._({id:"1IipHp"})},fi:{displayName:"Suomi",displayNameLocalized:()=>a.Ru._({id:"USZ2N6"})},id:{displayName:"Bahasa Indonesia",displayNameLocalized:()=>a.Ru._({id:"BQukYF"})},vi:{displayName:"Tiếng Việt",displayNameLocalized:()=>a.Ru._({id:"fROFIL"})},hi:{displayName:"हिन्दी",displayNameLocalized:()=>a.Ru._({id:"tGjibo"})},gu:{displayName:"ગુજરાતી",displayNameLocalized:()=>a.Ru._({id:"sGpqyx"})},mr:{displayName:"मराठी",displayNameLocalized:()=>a.Ru._({id:"vKSpmV"})},te:{displayName:"తెలుగు",displayNameLocalized:()=>a.Ru._({id:"2SnOmG"})},bn:{displayName:"বাংলা",displayNameLocalized:()=>a.Ru._({id:"Hds3Bq"})},ta:{displayName:"தமிழ்",displayNameLocalized:()=>a.Ru._({id:"fb427h"})},ur:{displayName:"اردو",displayNameLocalized:()=>a.Ru._({id:"tmwuH9"})},kn:{displayName:"ಕನ್ನಡ",displayNameLocalized:()=>a.Ru._({id:"ffJEXe"})},ml:{displayName:"മലയാളം",displayNameLocalized:()=>a.Ru._({id:"WQrafy"})},th:{displayName:"ภาษาไทย",displayNameLocalized:()=>a.Ru._({id:"SUr44j"})},sr:{displayName:"Српски",displayNameLocalized:()=>a.Ru._({id:"9aBtdW"})},hr:{displayName:"Hrvatski",displayNameLocalized:()=>a.Ru._({id:"0aMWde"})},sq:{displayName:"Shqip",displayNameLocalized:()=>a.Ru._({id:"pVxf7b"})},bg:{displayName:"Български",displayNameLocalized:()=>a.Ru._({id:"KhEBDR"})},sl:{displayName:"Slovenščina",displayNameLocalized:()=>a.Ru._({id:"LSdcWW"})},bs:{displayName:"Bosanski",displayNameLocalized:()=>a.Ru._({id:"oI7LTM"})},mk:{displayName:"Македонски",displayNameLocalized:()=>a.Ru._({id:"0MMlCU"})},sw:{displayName:"Kiswahili",displayNameLocalized:()=>a.Ru._({id:"Yz+oFV"})},ha:{displayName:"Hausa",displayNameLocalized:()=>a.Ru._({id:"MvvYTW"})},yo:{displayName:"Yor\xf9b\xe1",displayNameLocalized:()=>a.Ru._({id:"FcCBes"})},tl:{displayName:"Tagalog",displayNameLocalized:()=>a.Ru._({id:"ISVD3+"})},ms:{displayName:"Bahasa Melayu",displayNameLocalized:()=>a.Ru._({id:"tF97tn"})},kk:{displayName:"Қазақ тілі",displayNameLocalized:()=>a.Ru._({id:"F/vx72"})},uz:{displayName:"O'zbek tili",displayNameLocalized:()=>a.Ru._({id:"b1dG47"})},af:{displayName:"Afrikaans",displayNameLocalized:()=>a.Ru._({id:"1Cox/a"})},lv:{displayName:"Latviešu",displayNameLocalized:()=>a.Ru._({id:"/0YsGP"})},lt:{displayName:"Lietuvių",displayNameLocalized:()=>a.Ru._({id:"Ot2qtY"})},et:{displayName:"Eesti",displayNameLocalized:()=>a.Ru._({id:"l2pzUk"})},is:{displayName:"\xcdslenska",displayNameLocalized:()=>a.Ru._({id:"rJl8hp"})},cy:{displayName:"Cymraeg",displayNameLocalized:()=>a.Ru._({id:"4w9b2x"})}},d=Object.keys(i.AI_LOCALES).map(e=>{let t=c[e];return{key:e,englishName:i.AI_LOCALES[e].englishName,displayName:t.displayName,displayNameLocalized:t.displayNameLocalized}}),u=e=>{let t=null==e?void 0:e.toLowerCase();return d.find(e=>e.key.toLowerCase()===t)||null},p=e=>{let t=u(e);if(t)return t;let n=l.tF[e],i=n&&u(n);if(i)return i;let[a]=e?e.toLowerCase().split("-"):[],r=a&&u(a);return r||null},h=e=>{let t=p(e);if(t)return t;let n=m(e);if(n)return n;let i=p((0,o.J)());return i||g},g={key:"en",englishName:"English (US)",displayName:"English (US)",displayNameLocalized:()=>a.Ru._({id:"cJWHou"})},m=e=>{let t=(0,o.J)();try{let n=new Intl.DisplayNames([t],{type:"language",fallback:"none"}),i=new Intl.DisplayNames(["en"],{type:"language",fallback:"none"}).of(e),a=n.of(e);if(!i||!a)return null;return{key:e.toLowerCase(),englishName:i,displayName:a,displayNameLocalized:()=>a}}catch(e){return null}},x=()=>s()(d,e=>e.displayNameLocalized())},9343:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,r:()=>u});var i=n(6029),a=n(40452),r=n(43607),s=n(73326),l=n(54765),o=n(66082),c=n(43828),d=n(9100);let u=e=>{let{decorations:t,node:n}=e,{horizontalAlign:u}=n.attrs,h=(0,r.FX)(),g=h?"column":"row";return(0,i.jsx)(l.u,{...e,children:(0,i.jsxs)(a.s,{dir:(0,o.fZ)(t,u),w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:g,justify:(0,o.lI)(u)||"var(--flex-align)",sx:p(h),gap:"0.5em",alignItems:"center",children:[(0,i.jsx)(s.$p,{}),(0,i.jsx)(c.k,{...e,direction:g,maxButtons:d.r4})]})})},p=e=>({"> [data-node-view-content]":{display:"contents","> [data-node-view-content-inner]":{display:"contents"}},"--button-width":e?"100%":"auto",".node-button":{width:"var(--button-width)",".button":{width:"100%"}},_hover:{".add-button":{opacity:1}}})},9893:(e,t,n)=>{"use strict";n.d(t,{N:()=>G});var i=n(37243),a=n(55153),r=n(94289),s=n(63867),l=n(25778),o=n(76083),c=n(71753),d=n(43634),u=n(15607),p=n(22529),h=n(28615),g=n(70006),m=n(65674),x=n(38194),f=n(38934),b=n(64234),C=n(50861),y=n(64811),v=n(19546);let w=e=>new s.k_({key:new s.hs("handleCmdClickLink"),props:{handleDOMEvents:{click:(t,n)=>{var i;let a=(0,l.KA)(),r=(0,d.nD)(a.getState()),s=null==(i=n.target)?void 0:i.closest("a"),o=null==s?void 0:s.href;if(!o||(null==s?void 0:s.closest("[data-comments-wrapper]")))return!1;n.preventDefault();let c=n.ctrlKey||n.metaKey,p=(0,u.Ww)(o),h=(0,d.bO)(a.getState()),g=(0,u.Cf)(o,h);if(r){if(!c)return!1;if(g)return(0,v.T)(e,n,p),!1}else if(!c&&g)return(0,v.T)(e,n,p),!1;return window.open(o,"_blank"),!1}}}}),A=new s.hs("linkKeyboardNav"),k=()=>new s.k_({key:A,props:{handleKeyDown(e,t){let n,i;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return!1;let{state:a}=e,{selection:r}=a;if(!(r instanceof s.U3))return!1;let l="ArrowLeft"===t.key?-1:1,o=t.metaKey||t.ctrlKey,c=t.shiftKey,d=t.altKey,u=a.schema.marks.link,p=r.head,h=L(a,p,u),g=L(a,p-l,u),m=L(a,p+l,u);if(!(h||g||m))return!1;if(o)n=function(e,t,n){let i=e.resolve(t);return n>0?i.end(i.depth):i.start(i.depth)}(a.doc,p,l);else if(d){let e="ArrowLeft"===t.key?p-1:p+1,i=function(e,t,n){let i=e.resolve(t).marks().find(e=>e.type===n);if(!i)return null;let a=t-1,r=t+1;for(let r=t-1;r>=0;r--)try{if(!e.resolve(r).marks().some(e=>e.type===n&&e.eq(i))){a=r;break}0===r&&(a=0)}catch(e){break}for(let a=t;a<=e.content.size;a++)try{if(!e.resolve(a).marks().some(e=>e.type===n&&e.eq(i))){r=a;break}a===e.content.size&&(r=e.content.size)}catch(e){r=a;break}return{from:a,to:r}}(a.doc,e,u);if(!i)return!1;n="ArrowLeft"===t.key?i.from:i.to}else n=p+l;return n=Math.max(0,Math.min(n,a.doc.content.size)),i=c?s.U3.create(a.doc,r.anchor,n):s.U3.create(a.doc,n),e.dispatch(a.tr.setSelection(i).scrollIntoView()),!0}}});function L(e,t,n){if(t<0||t>e.doc.content.size)return!1;let i=e.doc.resolve(t);return!!n.isInSet(i.marks())}var j=n(6029),E=n(26420),S=n(48810),M=n(12514),I=n(36062),_=n(19564),D=n(77850),R=n(4014),T=n(55729),z=n(91938),H=n(92739),N=n(48932),B=n(63902),P=n(73326),F=n(29608),V=n(11403),O=n(42276);let Z=(0,D.P)(E.a),W=e=>{let{node:t,children:n}=e,{href:i,meta:a}=t.attrs,r=(0,B.oR)(),{linkUrl:s,handleClick:l}=(0,N.c)({url:i||""}),{interceptLinkClick:o,linkUrlSafe:c,isUntrusted:d,linkInterceptEnabled:u}=(0,H.i)(s),p=(0,T.useCallback)(e=>{if(null==l||l(e),u)return o(e)},[l,o,u]),{popperRef:h,referenceRef:g,isHovering:m,onMouseOver:x,onMouseOut:f,getPopperProps:b}=(0,V.bf)({disabled:(0,F.mG)()}),C=!r&&!z.$.GAMMA_CYPRESS_TEST&&(0,F.H8)();return(0,j.jsxs)(P.VR,{as:"span",children:[d?(0,j.jsx)(S.E,{as:"span",textDecoration:"underline",color:"gray.500",children:(0,j.jsx)(_.x6,{id:"b7jHrl"})}):(0,j.jsxs)(S.E,{as:"a",className:"link",rel:"noopener nofollow",href:u?c||"":s,onClick:p,onMouseOver:x,onMouseOut:f,ref:g,children:[C&&(0,j.jsx)("span",{contentEditable:!1,children:"​"}),r?n:(0,j.jsx)(P.$p,{as:"span"}),C&&(0,j.jsx)("span",{contentEditable:!1,children:"​"})]}),!1===r&&m&&s&&a?(0,j.jsx)(M.Z,{children:(0,j.jsx)(R.N,{children:(0,j.jsx)(Z,{position:"relative",zIndex:"popover",ref:h,onMouseOver:x,onMouseOut:f,className:"link-preview-hover",...b(),...V._w,w:"min(500px, 80vw)",minW:"auto !important",children:(0,j.jsxs)(I.Q,{backgroundColor:"white",border:"1px solid",borderColor:"gray.200",shadow:"lg",borderRadius:"lg",_hover:{backgroundColor:"trueblue.50"},children:[(0,j.jsx)(O.Ch,{node:t}),(0,j.jsx)(I.r,{href:s,target:"_blank",rel:"noopener nofollow",onClick:p})]})})})}):null]})};var U=n(37327);let G=a.Ay.extend({priority:f.y.Link,inclusive:!1,excludes:"underline footnoteLabel link",addAttributes:()=>({href:{default:""},source:{},thumbnail:{...(0,u.tb)("thumbnail")},embed:{...(0,u.tb)("embed")},meta:{...(0,u.tb)("meta")}}),onCreate(){let e=(0,l.KA)().getState(),t=(0,d.nD)(e),n=(0,p.mB)(e);if(!(t&&n))return;let{view:i,state:a}=this.editor,{doc:r,schema:s,tr:o}=a;try{let e=!1;(0,c.Zo)(r,s.marks.link).forEach(t=>{let{node:n,pos:i}=t,a=n.marks.find(e=>"link"===e.type.name);a&&"string"!=typeof a.attrs.href&&(e=!0,o.removeMark(i,i+n.nodeSize,a).addMark(i,i+n.nodeSize,s.marks.link.create({...a.attrs,href:String(a.attrs.href)})))}),e&&i.dispatch(o)}catch(e){console.error("[Link.onCreate] error",e)}},renderHTML(e){var t;let{HTMLAttributes:n}=e;return"string"==typeof n.href&&(null==(t=n.href)?void 0:t.startsWith("javascript:"))?["a",(0,i.KV)(this.options.HTMLAttributes,{...n,href:""}),0]:n.href?["a",(0,i.KV)(this.options.HTMLAttributes,n),0]:["a",(0,i.KV)(this.options.HTMLAttributes,{...n,href:null}),0]},renderHTMLforAI(e){let{mark:t,disableBookmarks:n}=e,i=t.attrs.href;return n?["a",{href:t.attrs.href},0]:["a",{bookmark:(0,x.vL)(t),href:i},0]},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'},{tag:"a[bookmark]",getAttrs:x.Ll}],addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),convertLinkToMedia:e=>t=>{let{chain:n,editor:i}=t,{href:a,...r}=i.getAttributes("link");if(!a||(0,U.hc)(a))return!1;if(!r.source)return n().extendMarkRange("link").insertEmbedAndFetchMetadata(a,e,!1).run(),!0;let s=b.Fn[r.source],l=(null==s?void 0:s.nodeName)||"embed";return n().extendMarkRange("link").insertContent({type:l,attrs:{...r,sourceUrl:a,url:a,displayStyle:e}}).selectInsertedNode().run(),!0},convertMediaToLink:()=>e=>{let{state:t,chain:n}=e;if(!(t.selection instanceof s.nh))return!1;let{from:i,to:a,node:r}=t.selection;if(!(0,C._Y)(r))return!1;let{sourceUrl:l,meta:o}=r.attrs,c=(null==o?void 0:o.title)||l||"link",d={from:i+1,to:i+1+c.length};return n().insertContentAt({from:i,to:a},[{type:"paragraph",attrs:{},content:[{type:"text",text:c}]}],{updateSelection:!0}).setTextSelection(d).setMark(G.name,{...r.attrs,href:l}).run(),!0},convertLinkToButton:()=>e=>{let{editor:t,chain:n}=e,{href:i=""}=t.getAttributes("link");return n().extendMarkRange("link").deleteSelection().insertContentAndSelect((0,o.GO)().buttonGroup).updateAttributes("button",{href:i}).run(),!0},convertButtonToLink:()=>e=>{let{chain:t,state:n,editor:a}=e,{selection:s}=n,l=(0,i.KP)(e=>"button"===e.type.name)(s),o=(0,i.KP)(e=>"buttonGroup"===e.type.name)(s);if(!o||!l)return!1;let{node:c,pos:d}=l,{node:u,pos:p}=o;if(!c)return!1;let h={type:"paragraph",content:c.content.toJSON()},g=u.maybeChild(0)===c,m=g?p:d,x=m+(g?1:2),f=x+r.bP.fromJSON(a.schema,h).content.size,b=t();return 1===u.childCount?b.deleteNode("buttonGroup"):b.deleteNode("button"),b.insertContentAt(m,h,{updateSelection:!1}).setTextSelection({from:x,to:f}).setMark(G.name,{href:c.attrs.href}).focus().run(),!0},convertButtonToMedia:e=>t=>{let{chain:n,state:a}=t,{selection:r}=a,s=(0,i.KP)(e=>"button"===e.type.name)(r),l=(0,i.KP)(e=>"buttonGroup"===e.type.name)(r);if(!s||!l)return!1;let{node:o,pos:c}=s,{node:d,pos:u}=l;if(!o||!d)return!1;let{href:p}=o.attrs;if(!p||(0,U.hc)(p))return!1;if(d.maybeChild(0)===o){let t=[];d.forEach(e=>{"button"===e.type.name&&e!==o&&t.push(e.toJSON())});let i=n();i.setNodeSelection(u).deleteNode("buttonGroup").insertEmbedAndFetchMetadata(p,e,!1),1!==d.childCount&&t.length>0&&i.insertContentAt(u+1,{type:"buttonGroup",content:t},{updateSelection:!1}),i.focus().run()}else n().setNodeSelection(c).insertEmbedAndFetchMetadata(p,e,!1).selectInsertedNode().focus().run();return!0},convertMediaToButton:()=>e=>{let{chain:t,state:n}=e;if(!(n.selection instanceof s.nh))return!1;let{node:i}=n.selection;if(!(0,C._Y)(i))return!1;let{sourceUrl:a=""}=i.attrs;return t().deleteSelection().insertContentAt(n.selection.from,(0,o.GO)().buttonGroup).updateAttributes("button",{href:a}).focus().run(),!0},updateSurroundingLink:e=>t=>{let{state:n,chain:i,editor:a}=t,{from:r,to:s}=n.selection;return(0,U.uI)(e,a),i().extendMarkRange(G.name).unsetMark(G.name).setMark(G.name,{href:e}).setMeta("preventAutolink",!0).setTextSelection({from:r,to:s}),!0},convertLinkToDocMention:()=>e=>{let{chain:t,editor:n}=e,{href:i=""}=n.getAttributes("link"),a=(0,g.TY)(i||"");return!!a&&(t().extendMarkRange("link").command(e=>{let{state:t,commands:n}=e,{from:i,to:r}=t.selection;return n.addDocMention({id:a},{from:i,to:r}),!0}).run(),!0)},removeSurroundingLink:()=>e=>{let{state:t,chain:n}=e,{from:i,to:a}=t.selection;return n().extendMarkRange("link").unsetMark("link").setMeta("preventAutolink",!0).setTextSelection({from:i,to:a}).focus(),!0}}},addKeyboardShortcuts(){return{"Mod-k":e=>{let{editor:t}=e,{selection:n}=t.state;return!n.empty&&t.commands.toggleMark(this.name)}}},addProseMirrorPlugins(){var e;let t=(null==(e=this.parent)?void 0:e.call(this))||[];return h.D1||t.push((0,m.f)(this,W)),t.push(w(this.editor)),t.push(k()),t}}).configure({HTMLAttributes:{target:void 0,rel:"noopener noreferrer",class:"link"},validate:U.KB,protocols:y.r,linkOnPaste:!1})},10139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI_LOCALES=t.AI_LOCALE_KEYS=void 0,t.AI_LOCALE_KEYS=["en","en-gb","en-in","es","es-es","es-mx","es-419","ca","fr","zh-cn","zh-tw","ko","ja","ja-da","pt-br","pt-pt","de","it","ru","pl","uk","ro","hu","cs","el","tr","ar","ar-sa","he","fa","nl","sv","da","nb","fi","id","vi","hi","gu","mr","te","bn","ta","ur","kn","ml","th","sr","hr","sq","bg","sl","bs","mk","sw","ha","yo","tl","ms","kk","uz","af","lv","lt","et","is","cy"],t.AI_LOCALES={en:{englishName:"English (US)"},"en-gb":{englishName:"English (UK)"},"en-in":{englishName:"English (India)"},es:{englishName:"Spanish"},"es-es":{englishName:"Spanish (Spain)"},"es-mx":{englishName:"Spanish (Mexico)"},"es-419":{englishName:"Spanish (Latin America)"},ca:{englishName:"Catalan"},fr:{englishName:"French"},"zh-cn":{englishName:"Simplified Chinese"},"zh-tw":{englishName:"Traditional Chinese"},ko:{englishName:"Korean"},ja:{englishName:"Japanese (です/ます style)"},"ja-da":{englishName:"Japanese (だ/である style)"},"pt-br":{englishName:"Portuguese (Brazil)"},"pt-pt":{englishName:"Portuguese (Portugal)"},de:{englishName:"German"},it:{englishName:"Italian"},ru:{englishName:"Russian"},pl:{englishName:"Polish"},uk:{englishName:"Ukrainian"},ro:{englishName:"Romanian"},hu:{englishName:"Hungarian"},cs:{englishName:"Czech"},el:{englishName:"Greek"},tr:{englishName:"Turkish"},ar:{englishName:"Arabic"},"ar-sa":{englishName:"Arabic (Saudi Arabia)"},he:{englishName:"Hebrew"},fa:{englishName:"Persian"},nl:{englishName:"Dutch"},sv:{englishName:"Swedish"},da:{englishName:"Danish"},nb:{englishName:"Norwegian"},fi:{englishName:"Finnish"},id:{englishName:"Indonesian"},vi:{englishName:"Vietnamese"},hi:{englishName:"Hindi"},gu:{englishName:"Gujarati"},mr:{englishName:"Marathi"},te:{englishName:"Telugu"},bn:{englishName:"Bengali"},ta:{englishName:"Tamil"},ur:{englishName:"Urdu"},kn:{englishName:"Kannada"},ml:{englishName:"Malayalam"},th:{englishName:"Thai"},sr:{englishName:"Serbian"},hr:{englishName:"Croatian"},sq:{englishName:"Albanian"},bg:{englishName:"Bulgarian"},sl:{englishName:"Slovenian"},bs:{englishName:"Bosnian"},mk:{englishName:"Macedonian"},sw:{englishName:"Swahili"},ha:{englishName:"Hausa"},yo:{englishName:"Yoruba"},tl:{englishName:"Tagalog"},ms:{englishName:"Malay"},kk:{englishName:"Kazakh"},uz:{englishName:"Uzbek"},af:{englishName:"Afrikaans"},lv:{englishName:"Latvian"},lt:{englishName:"Lithuanian"},et:{englishName:"Estonian"},is:{englishName:"Icelandic"},cy:{englishName:"Welsh"}}},10789:(e,t,n)=>{"use strict";n.d(t,{BT:()=>k,CF:()=>w,Ft:()=>L});var i=n(6029),a=n(88507),r=n(70315),s=n(55729),l=n(9014),o=n(3912),c=n(25778),d=n(14389),u=n(86364),p=n(61250);let h=["0%","0%","0%","0%"],g="clippable-control-wrapper",m=(e,t,n)=>e/Math.sqrt((t*t+n*n)/2)*100,x=(e,t,n)=>e/100*Math.sqrt((t*t+n*n)/2),f=(e,t,n)=>{if("circle"===e){let e=Math.min(t,n)/2;return["".concat(m(e,t,n),"%"),"at","50%","50%"]}return h},b=(e,t,n)=>"circle"===e?1:"inset"===e?t/n:null,C=(e,t)=>{if("inset"===t){let[t,n]=e[0],[i,a]=e[4];return(i-t)/(a-n)}return 1},y=(e,t,n,i)=>{let[a,r,s,l]=e;if("inset"===t){let t=parseFloat(a),o=parseFloat(r),c=parseFloat(s),u=parseFloat(l),p=d.MK/n*100,h=d.MK/i*100;if(100-u-o<p){let t=100-u-p;t>=0?e[1]="".concat(t,"%"):(e[1]="0%",e[3]="".concat(100-p,"%"))}if(100-t-c<h){let n=100-t-h;n>=0?e[2]="".concat(n,"%"):(e[2]="0%",e[0]="".concat(100-h,"%"))}}else if("circle"===t){let t=Math.max(x(parseFloat(a),n,i),d.MK);e[0]="".concat(m(t,n,i),"%")}},v=e=>{let{clipType:t,clipStyles:n,w:i,h:a}=e,[r,s,l,o]=n;if("inset"===t){let e=parseFloat(r),t=parseFloat(s),n=parseFloat(l),i=parseFloat(o),a=i/(t+i)*100,c=e/(e+n)*100,d=isNaN(a)?50:a,u=isNaN(c)?50:c,p=100-i-t,h=100-e-n;return{mask:"\n        linear-gradient(#000 0 0) ".concat(d,"% ").concat(u,"% / ").concat(p,"% ").concat(h,"%,\n        linear-gradient(rgba(0,0,0,0.4) 0 0)"),width:p,height:h,top:e,right:t,bottom:n,left:i}}if("circle"===t){let e=parseFloat(r),t=parseFloat(l),n=parseFloat(o),s=x(e,i,a),c=n/100*a-s,d=t/100*i-s,u=2*s/i*100,p=2*s/a*100,h=c/a*100,g=d/i*100;return{mask:"radial-gradient(".concat(u,"% ").concat(p,"% at ").concat(t,"% ").concat(n,"%, black 50%, rgba(0, 0, 0, 0.4) 50%) no-repeat"),width:u,height:p,top:Math.max(h,0),left:Math.max(g,0),bottom:0,right:0}}return{mask:"",width:0,height:0,top:0,left:0,bottom:0,right:0}},w=(e,t,n,i)=>{if(!e||!e.clipType||!i)return{clipType:"inset",scaleCrop:1,scaleX:1,scaleY:1,aspectRatio:i||void 0,referenceXOffset:1,referenceYOffset:1,clipPathCSSString:"",translateX:0,translateY:0};let a=e.clipPath||f(e.clipType,t,n),{clipType:r}=e,{width:s,height:l,top:o,left:c,right:d,bottom:u}=v({w:t,h:n,clipType:r,clipStyles:a}),p=100/s,h=100/l,g=(null==e?void 0:e.clipAspectRatio)||1,m=(null==e?void 0:e.clipAspectRatio)||i;return{scaleCrop:i/g<1?Math.min(h,p):Math.max(h,p),aspectRatio:m,scaleX:p,scaleY:h,translateX:c,translateY:o,referenceXOffset:t*(100/(100-c+d)-1),referenceYOffset:n*(100/(100-o+u)-1),clipPathCSSString:"".concat(r,"(").concat(a.join(" "),")"),clipType:r}},A=(0,l.yX)([l.ZW]),k={[".".concat(g)]:{zIndex:2,".moveable-control":{zIndex:2,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal"},"&.data-clip-type-inset":{".moveable-control":{zIndex:2,bg:"0 none !important",borderRadius:"0px",width:"".concat(16,"px"),height:"".concat(16,"px"),border:"6px solid var(--chakra-colors-trueblue-300)",'&[data-clip-index="0"]':{borderRight:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(2,"px"),cursor:"nw-resize"},'&[data-clip-index="1"]':{borderRight:"0",borderBottom:"0",borderLeft:"0",marginTop:"-".concat(2,"px"),cursor:"n-resize"},'&[data-clip-index="2"]':{borderLeft:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(14,"px"),cursor:"ne-resize"},'&[data-clip-index="3"]':{borderBottom:"0",borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),cursor:"e-resize"},'&[data-clip-index="4"]':{borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),marginTop:"-".concat(14,"px"),cursor:"se-resize"},'&[data-clip-index="5"]':{borderTop:"0",borderLeft:"0",borderRight:"0",marginTop:"-".concat(14,"px"),cursor:"s-resize"},'&[data-clip-index="6"]':{borderTop:"0",borderRight:"0",marginTop:"-".concat(14,"px"),marginLeft:"-".concat(2,"px"),cursor:"sw-resize"},'&[data-clip-index="7"]':{borderTop:"0",borderBottom:"0",borderRight:"0",marginLeft:"-".concat(2,"px"),cursor:"w-resize"}}},"&.data-clip-type-circle":{".moveable-control":{bg:"trueblue.300"}},".moveable-clip-ellipse":{borderWidth:"2px",borderColor:"var(--chakra-colors-trueblue-300) !important"},".moveable-line":{display:"none"}}},L=e=>{let{clipPath:t,clipAspectRatio:n,updateResizeAttrs:l,imageWrapperRef:d,refreshDeps:h,currentWidth:m,currentHeight:x,onFinishCrop:w}=e,k=(0,c.jL)(),L=(0,c.GV)(p.$k),j=(0,s.useRef)(null),[E,S]=(0,s.useState)({clipPath:t||f(L,m,x),clipAspectRatio:n||b(L,m,x)}),M=(0,s.useCallback)(e=>{if(!m||!x||!d.current)return;let{mask:t}=v({w:m,h:x,clipType:L,clipStyles:e});d.current.style["-webkit-mask"]=t,d.current.style["-webkit-mask-repeat"]="no-repeat"},[d,L,m,x]),I=JSON.stringify(E.clipPath);(0,s.useEffect)(()=>{M(E.clipPath)},[M,I,E.clipPath]),(0,a.w)(()=>{S(e=>({...e,clipPath:f(L,m,x),clipAspectRatio:b(L,m,x)}))},[L]),(0,s.useEffect)(()=>{var e;null==(e=j.current)||e.updateTarget()},[h]);let _=(0,s.useCallback)(()=>{let e={clipType:L,...E};e.clipAspectRatio&&e.clipPath&&l(e)},[l,E,L]),D=(0,s.useRef)({fn:_,confirmOnUnmount:!0});D.current.fn=_,(0,s.useEffect)(()=>u.R.on("endClip",e=>{let{confirm:t}=e;D.current.confirmOnUnmount=t,k((0,p.uy)()),w&&w()}),[k,w]),(0,s.useEffect)(()=>{let e=D.current;return()=>{e.confirmOnUnmount&&setTimeout(e.fn,0)}},[]),(0,s.useEffect)(()=>o.WC.on("keydown","CLIPPABLE",e=>!!(0,r.Ay)("mod+x")(e)&&(e.preventDefault(),!0)),[]);let R="".concat(L,"(").concat((E.clipPath||f(L,m,x)).join(" "),")");return(0,i.jsx)(A,{ref:e=>{j.current=e},className:"".concat(g," data-clip-type-").concat(L),target:d.current,renderDirections:["ne","nw","se","sw"],origin:!1,draggable:!1,clippable:!0,clipTargetBounds:!0,clipRelative:!0,clipArea:!0,defaultClipPath:L,customClipPath:R,dragWithClip:!0,keepRatio:!0,onClip:e=>{let{clipStyles:t,clipType:n}=e;y(t,n,m,x),M(t)},onClipEnd:e=>{let{lastEvent:t}=e;if(!(null==t?void 0:t.clipStyles))return;let{clipStyles:n,clipType:i}=t;y(n,i,m,x),S({clipPath:n,clipAspectRatio:C(t.poses,L)})}})}},11215:(e,t,n)=>{"use strict";n.d(t,{P3:()=>h,WP:()=>p}),n(13731);var i=n(29452),a=n.n(i),r=n(76083),s=n(82172),l=n(3298),o=n(90278),c=n(6494);let d=()=>(0,c.aQ)().filter(e=>!e.disabled),u=e=>{let{key:t,name:n,description:i,icon:s,keywords:c=[],defaultAttrs:d,defaultOptions:u,featureFlag:p,family:h,getEmptyNode:g}=e,m=g?g():{type:"smartLayout",attrs:{variantKey:t,options:u},content:a()(3).map(()=>({type:"smartLayoutCell",content:(0,l.Hg)(),attrs:d}))};return{key:"smartLayout-".concat(t),name:n,keywords:[...c,"layout","smart"],description:i,nodeName:"smartLayout",icon:s,execute:e=>{e.chain().focus().insertContentAndSelect(m).run()},dragStartFn:e=>(0,r.fS)({editor:e,content:m}),dragEndFn:e=>{(0,o.tN)(e,e.state.selection.$from)},featureFlag:p,family:h}},p=()=>d().map(u),h=()=>d().map(e=>{let{key:t,name:n,description:i,icon:a,featureFlag:r}=e;return{key:"listToSmartLayout-".concat(t),name:n,icon:a,description:i,group:"list",apply:e=>e.commands.listToSmartLayout(t),checkDisabled:e=>!(0,s.Jx)(e),featureFlag:r}})},11235:(e,t,n)=>{"use strict";n.d(t,{f:()=>m});var i=n(25778),a=n(63902),r=n(43607),s=n(43634),l=n(85235),o=n(43501),c=n(86932),d=n(21699),u=n(59824),p=n(16309),h=n(58082),g=n(54604);let m=e=>{var t;let{editor:n,node:o,decorations:m}=e,f=o.attrs,{id:b,previewContent:C}=f,y=(0,r.FX)(),v=(0,a.oR)(),w=n.isThumbnail,A=(0,i.GV)(s.jO),[k,L]=(0,g.E)(b),j=(0,i.GV)(s.mA)?l.w.DOC_PREVIEW:"doc"===k?l.w.DOC_VIEW:l.w.SLIDE_VIEW,E=(0,i.GV)(e=>(0,s.nD)(e,j)),S=j===l.w.SLIDE_VIEW,M=(0,i.GV)(s.eo),I=(0,i.GV)(s.We),_=(0,i.GV)(s.yh),D=(0,i.GV)((0,s.tC)(b)),R=(0,d.Ms)(m),T=(0,i.GV)((0,s.WS)(b)),z=(0,c.A3)(m),{isNested:H,nestedDepth:N,isFirstCard:B,isLastCard:P,inheritContainerWidth:F,displayLayout:V,insideSideLayout:O,cardAccentBackgroundMaskEffect:Z,cardAccentBackgroundMaskIntensity:W,hasLayoutItem:U,cardContentType:G,hasNonEmptyCardNotes:K}=(0,p.tg)(m),{theme:Q,isDark:q}=(0,h.a)(m),{cardDimensions:J,defaultFullBleed:$,defaultContentWidth:Y,presentBackdrop:X=!1,verticalAlign:ee,fontSize:et,scaleContentToFit:en}=x(n),ei=(0,u.iI)(J),ea="default"===f.cardSize?"full"===$:"full"===f.cardSize,er=f.verticalAlign||ee||ei.defaultVerticalAlign,es=S&&!H&&!!ei.aspectRatio&&!X,el=null!=(t=f.container.width)?t:F;return{hasNonEmptyCardNotes:K,isCollapsed:T,isEditable:E,isFirstCard:B,isFocused:R,isExpandableSelected:z,isLastCard:P,isLetterboxed:es,isMobileDevice:y,isNested:H,isPresenting:"doc"!==k&&"presentCollapsed"!==k,isPresentingCurrent:"presentCurrent"===k,isPresentingParent:"presentParent"===k,isPresentMode:S,isPublished:v,isStatic:A,isDark:q,isThumbnail:w,mode:j,nestedDepth:N,presentVariant:k,prevPresentVariant:L,previewContent:C,theme:Q,attrs:f,cardId:b,isFullBleed:ea,displayFullBleed:w||!H&&(ea||S&&!X),defaultContentWidth:Y,contentWidth:el,verticalAlign:er,isWideContent:(null!=el?el:Y)==="lg",displayLayout:V,insideSideLayout:O,cardAccentBackgroundMaskEffect:Z,cardAccentBackgroundMaskIntensity:W,cardDimensions:ei,cardDimensionsKey:J,showPresentBackdrop:X,hasLayoutItem:U,cardContentType:G,userZoomLevel:M,docZoomLevel:I,fontSize:et,docZoomToFit:_,scaleContentToFit:en,isCommentOpenOnCard:D}},x=e=>{let t=(0,i.GV)(s.Uu);if(e.isStatic)try{return(0,o.lI)(e).settings}catch(e){console.error("[caught] useDocSettings: ".concat(e))}return t}},11251:(e,t,n)=>{"use strict";n.d(t,{X:()=>p,d:()=>u});var i=n(77650),a=n(27002),r=n(42187),s=n(3131),l=n(45666),o=n(34394),c=n(8327),d=n(81880);let u={generateImage:{available:()=>!0,creditCostType:"generateImage",execute:async function(e,t){let n=async(e,n,i)=>(0,s.hU)({interactionId:t.interactionId,prompt:e,model:n,workspaceId:t.workspaceId,count:1,stylePrompt:i,traceparent:t.traceparent},t.abortController),i=(0,o.oP)();return{status:"success",images:(await Promise.all(e.prompts.map(e=>n(e,i,t.preferredAiImageStyle)))).flat().map(e=>({attrs:e.attrs})),messageId:t.interactionId}}},searchImage:{available:()=>!0,execute:async function(e,t){let{query:n}=e;return{status:"success",images:(await (0,l.g)({provider:"web",query:n,count:6,abortController:t.abortController})).map(e=>({attrs:(0,c.TF)(e,n,"web")})).slice(0,6),messageId:t.interactionId}}},removeBackground:{available:()=>!0,creditCostType:"removeBackground",execute:async function(e,t){var n,i,a;let s=t.imageToEdit,l=null==(n=t.imageToEdit)?void 0:n.src;if(!l)throw Error("Cannot remove background, no image selected");let o=await (0,r.w)({operation:"remove-background",interactionId:t.interactionId,traceparent:t.traceparent,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{},url:l,width:null==s||null==(i=s.meta)?void 0:i.width,height:null==s||null==(a=s.meta)?void 0:a.height},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==s?void 0:s.query,src:o.url,meta:null==s?void 0:s.meta}}],messageId:t.interactionId}}},editContent:{available:()=>!0,execute:async function(e,t){let n=t.imageToEdit,s=null==n?void 0:n.src;if(!s)throw Error("Cannot perform maskless image edit, no image selected");let l=a.of.get("masklessEditModel"),o=(await Promise.all(e.editPrompts.map(async e=>{var i,a;let o=await (0,r.w)({operation:"maskless",interactionId:t.interactionId,traceparent:t.traceparent,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{editPrompt:e,model:l},url:s,width:null==(i=n.meta)?void 0:i.width,height:null==(a=n.meta)?void 0:a.height},t.abortController);return{attrs:{source:"image.custom",query:null==n?void 0:n.query,src:o.url,meta:null==n?void 0:n.meta}}}))).filter(Boolean);return 0===o.length?{status:"error",messageId:t.interactionId,error:i.Ru._({id:"0A5PiD"})}:{status:"success",images:o,messageId:t.interactionId}}},vectorize:{available:()=>!0,checkEnabled:e=>(0,d.D)(e),execute:async function(e,t){var n,i;let a=t.imageToEdit,s=null==a?void 0:a.src;if(!s)throw Error("Cannot vectorize, no image selected");let l=await (0,r.w)({operation:"vectorize",url:s,width:null==(n=a.meta)?void 0:n.width,height:null==(i=a.meta)?void 0:i.height,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent,chatId:t.chatId,messageId:t.messageId,editParams:{}},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==a?void 0:a.query,src:l.url,meta:null==a?void 0:a.meta}}],messageId:t.interactionId}}},upscale:{available:()=>!0,checkEnabled:e=>(0,d.D)(e),execute:async function(e,t){var n,i;let a=t.imageToEdit,s=null==a?void 0:a.src;if(!s)throw Error("Cannot upscale, no image selected");let l=await (0,r.w)({operation:"upscale",editParams:{},url:s,width:null==(n=a.meta)?void 0:n.width,height:null==(i=a.meta)?void 0:i.height,workspaceId:t.workspaceId,interactionId:t.interactionId,traceparent:t.traceparent,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==a?void 0:a.query,src:l.url,meta:null==a?void 0:a.meta}}],messageId:t.interactionId}}},animate:{available:()=>!0,checkEnabled:e=>a.of.get("aiAnimate")&&(0,d.D)(e),creditCostType:"animateImage",execute:async function(e,t){var n,i,s,l;let o=t.imageToEdit,c=null==o?void 0:o.src;if(!c)throw Error("Cannot replace background, no image selected");let d=await (0,r.w)({operation:"animate",workspaceId:t.workspaceId,url:c,width:null==(n=o.meta)?void 0:n.width,height:null==(i=o.meta)?void 0:i.height,editParams:{prompt:e.prompt,model:a.of.get("animateImageModel"),aspectRatio:(null==(s=o.meta)?void 0:s.width)&&(null==(l=o.meta)?void 0:l.height)?o.meta.width>o.meta.height?"landscape":"portrait":"landscape"},interactionId:t.interactionId,traceparent:t.traceparent,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==o?void 0:o.query,src:d.url,meta:null==o?void 0:o.meta}}],messageId:t.interactionId}}}},p=e=>e.imageToEdit?Object.keys(u).filter(t=>{let n=u[t];return!n.checkEnabled||n.checkEnabled(e.imageToEdit)}):["generateImage","searchImage"]},12180:(e,t,n)=>{"use strict";n.d(t,{PH:()=>d,SM:()=>g,UG:()=>c,XD:()=>x,fA:()=>h,gb:()=>m});var i=n(6029),a=n(2241),r=n(99492),s=n(55597),l=n(48621),o=n(77650);let c=.25*!n(28615).D1,d={top:0,right:0,bottom:0,left:0},u={monochrome:{label:()=>o.Ru._({id:"VvdC4u"})},spin:{label:()=>o.Ru._({id:"0LFzg9"})},complement:{label:()=>o.Ru._({id:"2HDXEj"})},complement2:{label:()=>o.Ru._({id:"XTxqsS"})},alternating:{label:()=>o.Ru._({id:"K+2OGd"})}},p={monochrome:{label:()=>o.Ru._({id:"VvdC4u"})},alternating:{label:()=>o.Ru._({id:"K+2OGd"})},theme:{label:()=>o.Ru._({id:"FEr96N"})},spin:{label:()=>o.Ru._({id:"0LFzg9"})},complement:{label:()=>o.Ru._({id:"2HDXEj"})},complement2:{label:()=>o.Ru._({id:"XTxqsS"})}},h={...u,...p},g=e=>e?p:u,m="monochrome",x=Object.freeze({pie:{icon:(0,i.jsx)(l.g,{icon:r.W1p}),selectedIcon:(0,i.jsx)(l.g,{icon:s.W1p}),label:()=>o.Ru._({id:"RT6aCN"})},donut:{icon:(0,i.jsxs)(a.B.span,{className:"fa-layers fa-fw",children:[(0,i.jsx)(l.g,{icon:r.xD0}),(0,i.jsx)(l.g,{icon:r.ZPt})]}),selectedIcon:(0,i.jsxs)(a.B.span,{className:"fa-layers fa-fw",children:[(0,i.jsx)(l.g,{icon:s.xD0}),(0,i.jsx)(l.g,{icon:r.ZPt})]}),label:()=>o.Ru._({id:"Cn5cfQ"})},line:{icon:(0,i.jsx)(l.g,{icon:r.gK3}),selectedIcon:(0,i.jsx)(l.g,{icon:s.gK3}),label:()=>o.Ru._({id:"MZW+2G"})},bar:{icon:(0,i.jsx)(l.g,{icon:r.s67}),selectedIcon:(0,i.jsx)(l.g,{icon:s.s67}),label:()=>o.Ru._({id:"EzalDc"})},"horizontal-bar":{icon:(0,i.jsx)(l.g,{icon:r.Mkm}),selectedIcon:(0,i.jsx)(l.g,{icon:s.Mkm}),label:()=>o.Ru._({id:"CeeoKy"})}})},12258:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let i={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/empty-state.1b05b2ca.png",height:374,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAbFBMVEWBcJMWe74Adr2xtNuzxu0Jdr0Peb4Acr/CvOSHo8+OsOu4xvDisZ70f3c3cbjhfHUGesLOzur/uYJskKqRVWjylI28x+qYpanyzLrlw66fuvDqnJUCeMMnf78AestFlNH/pXbqxrNypMH/0aDe9pQ0AAAAHHRSTlMC/Tr87Vyf/f38/v79etP8xiX8/f6S0vvQvf/+8rlLWgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEFJREFUeJwFwQcCgCAMBLBTgRYX7tECrv//0QQAxrUDUFq76dIPiPFqNKQMKirReyaQ57qddkJiked7Mzwbc5zO/WPeA3VDv5HzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}},12665:(e,t,n)=>{"use strict";n.d(t,{BF:()=>F,lw:()=>eM,M9:()=>eD});var i=n(6029),a=n(48810),r=n(26476),s=n(99492),l=n(55597),o=n(33170),c=n(19564),d=n(37243),u=n(55729),p=n(39247),h=n(25778),g=n(63902),m=n(26420),x=n(48621);let f={card:s.vti,doc:s.vGi,user:s.Hzw},b=e=>{let{type:t}=e,n=f[t];return(0,i.jsx)(m.a,{as:"span",display:"inline-flex",className:"mention",minW:"5em",opacity:"0.6",borderRadius:"sm",color:"gray.700",children:(0,i.jsx)(m.a,{display:"inline-flex",py:"0.125em",children:(0,i.jsx)(x.g,{icon:n,style:{marginLeft:"0.5em",alignSelf:"center"}})})})};var C=n(19546),y=n(73326),v=n(43634),w=n(85732),A=n(70006),k=n(38934),L=n(2320),j=n(46957);let E=e=>{let{filterFn:t,getAttributesFn:n}=e;return e=>(function(e){let{type:t}=e;if(!t.isInline)throw Error("[nodePasteRule] This paste rule was only designed to consider inline nodes.");return new d._n({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,{tr:r}=n,s=i.from,l=i.to,o=(0,d.gk)(e.getAttributes,void 0,a)||{};r.replaceWith(s,l,e.type.create(o))}})})({find:e=>{let n=[...e.matchAll(A.D_)];return n?n.map(e=>{var t;return{index:null!=(t=e.index)?t:-1,text:e[0],match:e}}).filter(e=>{let n=(0,A.TY)(e.text),{cardId:i}=(0,A.$9)(e.text);return t(n,i,e)}):[]},type:e,getAttributes:e=>{let t=(0,A.TY)(e[0]),{cardId:i}=(0,A.$9)(e[0]);return n({match:e,docId:t,cardId:i})}})};var S=n(58959),M=n(80314),I=n(3276),_=n(82203),D=n.n(_),R=n(91938);let T={borderRadius:"md",padding:"0.05em 0.1em",display:"inline",color:"gray.700"},z=(0,u.forwardRef)((e,t)=>{let{mentionLabel:n,mentionIcon:r,mentionTargetUrl:s,onClick:l,hasError:o=!1,isSimpleLinkVersion:c=!1,...d}=e,u=c?D():"span";return(0,i.jsxs)(m.a,{ref:t,position:"relative","data-selection-ring":!0,className:"mention",onClick:l,...T,color:o?"gray.600":T.color,...d,as:u,...{href:c?s:void 0,cursor:(l||c)&&!o?"pointer":"default"},children:[(0,i.jsxs)(S.z,{display:"inline-flex",spacing:0,children:[r&&(0,i.jsx)(m.a,{display:"inline-block",textAlign:"center",minWidth:4,children:(0,i.jsx)(x.g,{icon:r,fixedWidth:!0,size:"sm",style:{marginInlineStart:"0.1em",marginInlineEnd:"0.3em"}})}),(0,i.jsx)(a.E,{noOfLines:1,whiteSpace:"normal",wordBreak:"break-all",flex:1,lineHeight:"normal",children:n})]}),R.$.GAMMA_PUPPETEER_SERVICE&&s&&(0,i.jsx)(M.N,{href:s,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0,top:"0",left:"0"})]})});z.displayName="MentionTag";let H=()=>(0,i.jsx)(m.a,{as:"span",className:"mention",...T,children:(0,i.jsx)(I.y,{size:"xs",opacity:"0.8",margin:"0 0.1em"})}),N="Untitled",B=e=>{let{node:t,editor:n}=e,{id:d,docId:m}=t.attrs,x=(0,h.GV)((0,p.F1)(d)),f=(0,h.GV)(v.bO).includes(d),b=(0,h.GV)(v.nD);(0,u.useEffect)(()=>{n.storage[F.name][d]=x},[x,n.storage,d]);let k=(0,u.useCallback)(e=>{(0,C.T)(n,e,d)},[n,d]),L=(0,g.oR)(),j=(0,u.useMemo)(()=>{let e=(0,A.Io)({cardId:d,docId:m||n.gammaDocId});return L?(0,w.M7)({url:e}):e},[d,m,n,L]);return(0,i.jsx)(y.VR,{as:"span",children:f?(0,i.jsx)(z,{"data-testid":"card-mention",onClick:b?void 0:k,onDoubleClick:b?k:void 0,mentionLabel:x||N,mentionIcon:s.vti,mentionTargetUrl:j}):(0,i.jsx)(o.Tz,{label:(0,i.jsx)(a.E,{children:(0,i.jsx)(c.x6,{id:"HAIPtO",components:{0:(0,i.jsx)(r.u,{fontSize:"sm",color:"blackAlpha.800"})}})}),children:(0,i.jsx)(z,{"data-testid":"card-mention",hasError:!0,mentionLabel:"Cannot find referenced card",mentionIcon:l.AEl})})})},P=e=>(0,i.jsx)(y.VR,{as:"span",children:(0,i.jsx)(b,{type:"card"})}),F=d.bP.create({name:"cardMention",addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:L.A}}),priority:k.y.CardMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},docId:{default:null},mentionedById:{default:null}}),addPasteRules(){return[E({filterFn:(e,t)=>e===this.editor.gammaDocId&&!!t,getAttributesFn:e=>{let{docId:t,cardId:n}=e;return{id:n,docId:t}}})(this.type)]},addCommands(){return{addCardMention:(e,t)=>{let{id:n,docId:i,mentionedById:a}=e;return e=>{var r;let{state:s,chain:l}=e,o=s.selection.$to.nodeAfter;return(null==o||null==(r=o.text)?void 0:r.startsWith(" "))&&(t.to+=1),l().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,docId:i,mentionedById:a}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,{id:i,docId:a}=n.attrs,r=this.storage[i]||N;return["a",(0,d.KV)({"data-type":this.name,href:(0,A.Io)({docId:a,cardId:i})},this.options.HTMLAttributes,t),r]},renderText(e){let{node:t}=e,{id:n,docId:i}=t.attrs,a=this.storage[n]||N,r=(0,A.Io)({docId:i,cardId:n});return"[".concat(a,"](").concat(r,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(P,{update:j.z0}):(0,y.gu)(B,{update:j.z0})}});var V=n(12562),O=n(99038);let Z="docMention";var W=n(12514),U=n(77650),G=n(77850),K=n(36062),Q=n(16842),q=n(69388),J=n(40452),$=n(80074),Y=n(33787),X=n(29810),ee=n(88608),et=n(29608),en=n(11403);let ei=e=>e&&e.length?e:U.Ru._({id:"7ZviFu",values:{GAMMA_ARTIFACT_PROPER_NOUN:O.TP}});var ea=n(73867),er=n(68013),es=n(46898),el=n(27229),eo=n(78140),ec=n(36999),ed=n(16936),eu=n(41283),ep=n(6760),eh=n(85595),eg=n(74676);let em=e=>{let{href:t,title:n,createdByName:r,createdByEmail:d,createdTime:u,isDuplicateEnabled:p,isRenameEnabled:h,isShareEnabled:g,isTrashed:f,isFavorited:b,isTrashAndRestoreEnabled:C,isRemoveFromChannelEnabled:y,onDuplicate:v,onFavorite:w,onUnfavorite:A,onTrash:k,onPermanentDelete:L,onRestore:j,onShareClick:E,onRename:S,onRemoveFromChannel:M,onRemixThis:_,isRemixLoading:D,onCopyAsTemplate:R}=e,{onCopy:T}=(0,er.i)("".concat(window.location.origin).concat(t)),z=(0,es.d)(),{isOpen:H,onOpen:N,onClose:B}=(0,el.j)(),P=(0,ee.Yq)(u,"MMMM do, yyyy");return(0,i.jsxs)(eo.W,{isLazy:!0,closeOnSelect:!1,modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","bottom-start","bottom-end","right-start","left-start","right-end","left-end","top-start","top-end"]}}],children:[(0,i.jsx)(ec.I,{"data-dashboard-doc-menu":!0,as:ed.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:N,icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,i.jsx)(c.x6,{id:"7L01XJ"})}),H&&(0,i.jsx)(W.Z,{children:(0,i.jsxs)(eu.c,{maxW:"sm",zIndex:"overlay",children:[(0,i.jsxs)(m.a,{px:4,py:0,wordBreak:"break-word",children:[(0,i.jsx)(a.E,{noOfLines:2,children:n}),(0,i.jsx)(a.E,{fontSize:"xs",color:"gray.500",noOfLines:1,children:(0,i.jsx)(c.x6,{id:"OCEFcZ",values:{formattedCreatedTime:P}})}),d&&r&&(0,i.jsx)(o.Tz,{label:d,children:(0,i.jsx)(a.E,{display:"inline-block",fontSize:"xs",color:"gray.500",noOfLines:1,children:(0,i.jsx)(c.x6,{id:"Wpe4mQ",values:{createdByName:r}})})})]}),(g||h||y)&&(0,i.jsx)(ep.N,{}),y&&(0,i.jsx)(eh.D,{onClick:M,icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.Dfk}),children:(0,i.jsx)(c.x6,{id:"bv+Frh"})}),g&&(0,i.jsx)(eh.D,{onClick:E,icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.t5Z}),children:(0,i.jsx)(c.x6,{id:"iyga2M"})}),h&&(0,i.jsx)(eh.D,{onClick:S,icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.tAZ}),children:(0,i.jsx)(c.x6,{id:"Cg4Iup"})}),(0,i.jsx)(ep.N,{}),w?b?(0,i.jsx)(eh.D,{icon:(0,i.jsx)(m.a,{color:"yellow.400",children:(0,i.jsx)(x.g,{fixedWidth:!0,icon:l.yy})}),onClick:A,children:(0,i.jsx)(c.x6,{id:"T/pF0Z"})}):(0,i.jsx)(eh.D,{icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.yy}),onClick:w,children:(0,i.jsx)(c.x6,{id:"pBsoKL"})}):null,p&&!!v&&(0,i.jsx)(eh.D,{icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.$3n}),onClick:v,children:(0,i.jsx)(c.x6,{id:"euc6Ns"})}),(0,i.jsx)(eh.D,{icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.gnH}),onClick:()=>{T(),z({title:(0,i.jsx)(c.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},children:(0,i.jsx)(c.x6,{id:"y1eoq1"})}),_&&(0,i.jsx)(eh.D,{onClick:_,isDisabled:D,icon:D?(0,i.jsx)(I.y,{size:"sm"}):(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.WSb}),children:(0,i.jsxs)(J.s,{gap:"1",w:"100%",children:[(0,i.jsx)(c.x6,{id:"WQHfn5"}),(0,i.jsx)(X.h,{}),(0,i.jsx)(eg.E,{children:(0,i.jsx)(c.x6,{id:"jsQZMk"})}),(0,i.jsx)(eg.E,{colorScheme:"purple",children:(0,i.jsx)(c.x6,{id:"YBt9YP"})})]})}),R&&p&&(0,i.jsx)(eh.D,{icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.qIE}),onClick:R,children:(0,i.jsx)(c.x6,{id:"FZQC0K"})}),C&&(0,i.jsx)(ep.N,{}),C?f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eh.D,{icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:l.ub2}),onClick:j,children:(0,i.jsx)(c.x6,{id:"yKu/3Y"})}),L&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ep.N,{}),(0,i.jsx)(eh.D,{color:"red.500",icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.yLS}),onClick:L,children:(0,i.jsx)(c.x6,{id:"0Lbaux"})})]})]}):(0,i.jsx)(eh.D,{color:"red.500",icon:(0,i.jsx)(x.g,{fixedWidth:!0,icon:s.yLS}),onClick:()=>{B(),null==k||k()},children:(0,i.jsx)(c.x6,{id:"1C/Yjq"})}):null]})})]})},ex=e=>{let{isFavorited:t,onFavorite:n,onUnfavorite:a,disableInteractions:r=!1,...d}=e,[p,h]=(0,u.useState)(!1),g=(0,u.useCallback)(()=>{if(!n||!a)return void console.error("[FavoriteButton] onFavorite or onUnfavorite is not defined");t?(h(!1),a()):(h(!0),setTimeout(()=>{h(!1)},1e3),n())},[t,n,a]);return(0,i.jsx)(o.Tz,{label:t?(0,i.jsx)(c.x6,{id:"T/pF0Z"}):(0,i.jsx)(c.x6,{id:"pBsoKL"}),placement:"top",children:(0,i.jsx)(ed.K,{...d,...r?{tabIndex:-1,pointerEvents:"none"}:{},zIndex:"1","data-favorite-button":!0,"aria-label":U.Ru._({id:"pBsoKL"}),className:"star-wrapper ".concat(p?"active":""),onClick:g,variant:"ghost",size:"xs",color:t?"yellow.400":"gray.400",_hover:{color:t?"yellow.500":"gray.400",bg:t?void 0:"blackAlpha.100"},bg:t?"yellow.50":"transparent",borderRadius:"full",icon:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.g,{icon:t?l.yy:s.yy}),(0,i.jsxs)(m.a,{fontSize:"2.5px",children:[(0,i.jsxs)("div",{className:"star",children:[(0,i.jsx)("div",{className:"tl"}),(0,i.jsx)("div",{className:"tr"}),(0,i.jsx)("div",{className:"bl"}),(0,i.jsx)("div",{className:"br"})]}),(0,i.jsx)("div",{className:"ring"}),(0,i.jsx)("div",{className:"circles"})]})]})})})},ef=e=>{let{href:t,NextLink:n,target:a,children:r}=e;return n?(0,i.jsx)(K.r,{outline:"none",as:n,href:t,target:a,children:r}):(0,i.jsx)(K.r,{outline:"none",href:t,target:a,children:r})},eb=u.forwardRef((e,t)=>{let{id:n,title:r,thumbnailImageUrl:s,NextLink:l,href:c,createdByYou:d=!1,createdByName:u,createdByEmail:p,createdTime:h,createdByProfileImageUrl:g,timestampDescription:x,editors:f,isDuplicateEnabled:b=!0,isRenameEnabled:C=!1,isShareEnabled:y=!1,isTrashAndRestoreEnabled:v=!0,isRemoveFromChannelEnabled:w=!1,isTrashed:A=!1,isFavorited:k=!1,onDuplicate:L,onFavorite:j,onUnfavorite:E,onTrash:S,onPermanentDelete:M,onRestore:I,onShareClick:_,onRename:D,onRemoveFromChannel:R,onRemixThis:T,isRemixLoading:z,onCopyAsTemplate:H,context:N="grid",tags:B=[],menuEnabled:P=!1,openInNewWindow:F=!1,activity:V,isOffline:O,...Z}=e,W=(0,en.En)(),G=F?"_blank":void 0,er=f&&f.length>0&&(0,i.jsx)(Q.Z,{size:"xs",max:5,fontSize:"xs",children:f.map(e=>(0,i.jsx)(o.Vc,{shadow:"md",borderWidth:"1px",name:W&&e.user.displayName?U.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,ee.Gx)(e.lastEdited)}}):" ",src:e.user.profileImageUrl,tooltipProps:{placement:"top"}},"".concat(n,"-").concat(e.user.id)))});return(0,i.jsx)(K.Q,{overflow:"hidden",ref:t,"data-doc-grid-item-id":n,bg:"white",borderRadius:"5px",shadow:"md",as:q.E,_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"popover"===N?"white":"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",...Z,children:(0,i.jsxs)(J.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[s&&(0,i.jsx)(ef,{NextLink:l,href:c,target:G,children:(0,i.jsx)($.g,{ratio:40/21,bgColor:"gray.50",children:(0,i.jsxs)(J.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",children:[(0,i.jsx)(Y._,{src:null==s?void 0:s.src,fallbackSrc:null==s?void 0:s.fallbackSrc,fit:"cover"}),!!er&&(0,i.jsx)(m.a,{position:"absolute",insetEnd:0,bottom:0,borderRadius:"full",p:3,zIndex:1,children:er})]})})}),(0,i.jsxs)(J.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,i.jsx)(ef,{NextLink:l,href:c,target:G,children:(0,i.jsx)(a.E,{noOfLines:2,h:12,mb:2,children:ei(r)})}),(0,i.jsxs)(J.s,{direction:"column",w:"100%",children:[B&&B.length>0&&l&&(0,i.jsx)(o.Op,{tags:B,NextLink:l,overflowButtonLabel:U.Ru._({id:"K0UBDD"}),isDisabled:O}),(0,i.jsxs)(J.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[V&&V,u&&(0,i.jsx)(ea.S,{createdByYou:d,createdByName:u,createdByProfileImageUrl:g,timestampDescription:x}),(0,i.jsx)(X.h,{}),P&&(0,i.jsx)(em,{href:c,title:ei(r),createdByName:u,createdByEmail:p,createdTime:h,isDuplicateEnabled:b,isRenameEnabled:C,isShareEnabled:y,isTrashAndRestoreEnabled:v,isRemoveFromChannelEnabled:w,isTrashed:A,isFavorited:k,onDuplicate:L,onFavorite:j,onUnfavorite:E,onTrash:S,onPermanentDelete:M,onRestore:I,onShareClick:_,onRename:D,onRemoveFromChannel:R,onRemixThis:T,isRemixLoading:z,onCopyAsTemplate:H})]})]})]}),!!j&&!!E&&(0,i.jsx)(m.a,{position:"absolute",top:3,insetEnd:3,zIndex:3,children:(0,i.jsx)(ex,{isFavorited:k,onFavorite:j,onUnfavorite:E,opacity:k?1:+!!(0,et.Xb)(),_groupHover:(0,et.Xb)()||O&&!k?void 0:{opacity:1},_focus:O?void 0:{opacity:1,shadow:"outline"},disableInteractions:O})})]})},n)});eb.displayName="DocumentGridItem";var eC=n(74892),ey=n(88586),ev=n(27002),ew=n(48932),eA=n(6181);let ek=()=>U.Ru._({id:"NJnubC",values:{GAMMA_ARTIFACT_PROPER_NOUN:O.TP}}),eL=(0,G.P)(m.a),ej=e=>{var t,n;let{node:a,editor:r}=e,{id:l}=a.attrs,d=(0,ev.u)("screenshotsEnabled"),p=(0,g.oR)(),{user:h}=(0,eA.ur)(),[m]=(0,ey.D7K)(),x=(0,en.En)(),{data:f,error:b,loading:C,subscribeToMore:v}=(0,ey.AZr)({variables:{id:l},skip:p||!l}),w=!!(!p&&h);(0,u.useEffect)(()=>{if(w)return v({document:ey.Tyz,variables:{id:l},updateQuery:(e,t)=>{let{subscriptionData:n}=t;return n.data&&n.data.doc?{doc:{...e.doc,...n.data.doc,__typename:"Doc"}}:e},onError:e=>{}})},[l,b,v,w]);let{title:k,createdTime:L,createdBy:j,editedTime:E,editors:S,docUser:M}=(null==f?void 0:f.doc)||{},{linkUrl:I,handleClick:_}=(0,ew.c)({url:(0,A.LN)({docId:l,docTitle:k,absolute:!0}),nonPublishedUrl:(0,A.LN)({docId:l,docTitle:k})});(0,u.useEffect)(()=>{r.storage[Z][l]=b?ek():k},[k,r.storage,l,b]);let D={src:d?null==f||null==(n=f.doc)||null==(t=n.titleCard)?void 0:t.previewUrl:eC.A.src,fallbackSrc:eC.A.src},R=e=>()=>{if(!h)return;let t={input:{docId:l,userId:h.id,favorited:e}};m({variables:t,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(l),fragment:ey.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...M,favorited:t.input.favorited,__typename:"DocUser"}}})},{popperRef:T,referenceRef:N,isHovering:B,onMouseOver:P,onMouseOut:F,getPopperProps:V}=(0,en.bf)();return(0,i.jsxs)(y.VR,{as:"span",children:[C?(0,i.jsx)(H,{}):b?(0,i.jsx)(o.Tz,{label:(0,i.jsx)(c.x6,{id:"MnhVwn",values:{GAMMA_ARTIFACT_PROPER_NOUN:O.TP}}),children:(0,i.jsx)(z,{hasError:!0,mentionLabel:ek(),mentionIcon:s.DW4})}):I?(0,i.jsx)(z,{onMouseOver:p?void 0:P,onMouseOut:p?void 0:F,onClick:_,ref:N,isSimpleLinkVersion:p,mentionLabel:k||"",mentionIcon:s.vGi,mentionTargetUrl:I}):null,(0,i.jsx)(W.Z,{children:!b&&B&&f&&f.doc&&!p&&(0,i.jsx)(eL,{width:"320px","data-target-name":"doc-mention-popup",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",shadow:"lg",maxW:"80vw",zIndex:"tooltip",ref:T,onMouseOver:P,onMouseOut:F,...V(),...en._w,children:(0,i.jsx)(eb,{createdByYou:(null==j?void 0:j.id)===(null==h?void 0:h.id),title:k||"",timestampDescription:x?(0,i.jsx)(c.x6,{id:"yxz5Og",values:{0:(0,ee.Bo)(E)}}):"---",NextLink:null,href:I,onClick:_,id:l,createdByName:(null==j?void 0:j.displayName)||"",createdByEmail:(null==j?void 0:j.email)||"",createdByProfileImageUrl:(null==j?void 0:j.profileImageUrl)||"",createdTime:L,thumbnailImageUrl:D,editors:S,isFavorited:!!(null==M?void 0:M.favorited),onFavorite:R(new Date),onUnfavorite:R(null),menuEnabled:!1,openInNewWindow:!0})})})]})},eE=e=>(0,i.jsx)(y.VR,{as:"span",children:(0,i.jsx)(b,{type:"doc"})}),eS="Unknown ".concat(O.TP),eM=d.bP.create({name:Z,addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:L.A}}),priority:k.y.DocMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},mentionedById:{default:null}}),addPasteRules(){return V.of.get("disableDocMentionPasteRule")?[]:[E({filterFn:(e,t)=>e!==this.editor.gammaDocId||!t,getAttributesFn:e=>{let{docId:t}=e;return{id:t}}})(this.type)]},addCommands(){return{addDocMention:(e,t)=>{let{id:n,mentionedById:i}=e;return e=>{var a;let{state:r,chain:s}=e,l=r.selection.$to.nodeAfter;return(null==l||null==(a=l.text)?void 0:a.startsWith(" "))&&(t.to+=1),s().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,mentionedById:i}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,i=this.storage[n.attrs.id]||eS;return["a",(0,d.KV)({"data-type":this.name,href:(0,A.LN)({docId:n.attrs.id,absolute:!0})},this.options.HTMLAttributes,t),i]},renderText(e){let{node:t}=e,n=this.storage[t.attrs.id]||eS,i=(0,A.LN)({docId:t.attrs.id,absolute:!0});return"[".concat(n,"](").concat(i,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(eE,{update:j.z0}):(0,y.gu)(ej,{update:j.z0})}}),eI=e=>{let{node:t}=e,{label:n}=t.attrs;return(0,i.jsx)(y.VR,{as:"span",children:(0,i.jsx)(z,{mentionLabel:"@".concat(n)})})},e_=e=>(0,i.jsx)(y.VR,{as:"span",children:(0,i.jsx)(b,{type:"user"})}),eD=d.bP.create({name:"mention",addOptions:()=>({HTMLAttributes:{},renderLabel(e){var t;let{options:n,node:i}=e;return"".concat(n.suggestion.char).concat(null!=(t=i.attrs.label)?t:i.attrs.id)},suggestion:{char:L.A}}),priority:k.y.UserMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},profileImageUrl:{default:null,parseHTML:e=>e.getAttribute("data-profile-image-url"),renderHTML:e=>e.profileImageUrl?{"data-profile-image-url":e.profileImageUrl}:{}},mentionedById:{default:null,parseHTML:e=>e.getAttribute("data-mentioned-by-id"),renderHTML:e=>e.mentionedById?{"data-mentioned-by-id":e.mentionedById}:{}}}),addCommands(){return{addUserMention:(e,t)=>{let{id:n,label:i,profileImageUrl:a,mentionedById:r}=e;return e=>{var s;let{state:l,chain:o}=e,c=l.selection.$to.nodeAfter;return(null==c||null==(s=c.text)?void 0:s.startsWith(" "))&&(t.to+=1),o().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,label:i,profileImageUrl:a,mentionedById:r}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,d.KV)({"data-type":this.name},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:t})]},renderText(e){let{node:t}=e;return this.options.renderLabel({options:this.options,node:t})},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(e_,{update:j.z0}):(0,y.gu)(eI,{update:j.z0})}})},13357:(e,t,n)=>{"use strict";n.d(t,{BX:()=>m,SS:()=>h,YR:()=>g});var i=n(37243),a=n(81807),r=n(68469),s=n(98701),l=n(93298),o=n(21),c=n(47665),d=n(53615),u=n(43501),p=n(47695);async function h(e){let{prompt:t,language:n,variant:i,sectionContext:r,context:l}=e,o=JSON.parse(await (0,s.K8)({promptKey:"GenerateDiagram",variables:{variant:i,prompt:t,language:n,blockFlags:(0,a.fc)(),sectionContext:r},workspaceId:l.workspaceId,opts:{traceparent:l.traceparent}}));if(!o.variant||!o.data)throw Error("Invalid response format from GenerateDiagram prompt");return o}let g=(e,t)=>{let n=(0,p.w)(e),i=t,{state:a}=e,{selection:r}=a,s=(0,d.s6)(a.doc,Math.max(r.from-1e3,0),r.from),o=(0,l.p9)(s).slice(-200),c=(0,l.$0)(o);return t||(i=c),{aiGenerateParams:{prompt:"Generate a smart diagram based on the following text: ".concat(i),language:n,context:t?c:void 0},aiGenerateStatus:"queued"}},m=(e,t,n)=>{var a;let s=(0,i.eL)(t.doc.resolve(n),c.jg);return!!s&&((0,o.CP)({editor:e,rootNode:s.node,interactionId:(0,r.$)(),cardDimensions:null==(a=(0,u.lI)(e).settings)?void 0:a.cardDimensions}),!0)}},13559:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(81807),a=n(62452),r=n(3239),s=n(43501),l=n(43634);let o=(e,t)=>{let n=(0,s.lI)(e),a=(0,s.zK)(n),o=(0,i.fc)();return{blockFlags:o,format:a,outline:(0,r.u)(t),theme:c((0,l.SJ)(t.getState()))}},c=e=>({accentColors:(e?(0,a.CD)(e):[]).slice(0,10).map(e=>(0,a.Ik)(e))})},13932:(e,t,n)=>{"use strict";n.d(t,{M:()=>x});var i=n(6029),a=n(89122),r=n(26420),s=n(21938),l=n(28718),o=n(55729),c=n(66082),d=n(25600),u=n(37243),p=n(15607);let h=e=>{let{elementRef:t,getPos:n,editor:i}=e,[a,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{if(!t.current)return;let e=g({editor:i,getPos:n});if(!e)return;let a=()=>{let t=e.getBoundingClientRect();r({width:t.width,height:t.height})};return a(),new ResizeObserver(()=>{a()}).observe(e),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[i,n]),a},g=e=>{let{editor:t,getPos:n}=e,i=n();if(void 0===i)return null;let a=(0,u.eL)(t.state.doc.resolve(i),e=>"cardImageItem"===e.type.name);if(!a)return;let r=(0,p.jB)(t,a.pos);if(r)return r},m=(e,t)=>{var n,i,a,r;let s={...e},l={...t};l.percentWidth=Math.min(100,Math.max(5,null!=(n=l.percentWidth)?n:0)),l.percentHeight=Math.min(100,Math.max(5,null!=(i=l.percentHeight)?i:0));let o=100-(null!=(a=l.percentWidth)?a:0),c=100-(null!=(r=l.percentHeight)?r:0);return s.percentX=Math.min(o,Math.max(0,s.percentX)),s.percentY=Math.min(c,Math.max(0,s.percentY)),{position:s,size:l}},x=e=>{var t,n,u,p;let{children:x,decorations:f,getPos:b,editor:C,position:y,size:v,node:w}=e,A=(0,d.b0)(f),k=(0,o.useRef)(null),L=(0,o.useRef)(!1),[j,E]=(0,o.useState)(!1),[S,M]=(0,o.useState)(!1),I=(0,o.useRef)(null),{horizontalAlign:_}=w.attrs,[D,R]=(0,o.useState)({percentX:null!=(t=null==y?void 0:y.percentX)?t:0,percentY:null!=(n=null==y?void 0:y.percentY)?n:0}),T=(0,o.useRef)(D),[z,H]=(0,o.useState)({percentWidth:null!=(u=null==v?void 0:v.percentWidth)?u:0,percentHeight:null!=(p=null==v?void 0:v.percentHeight)?p:0}),N=h({elementRef:I,getPos:b,editor:C}),B=(0,o.useMemo)(()=>N&&z.percentWidth&&z.percentHeight?{width:z.percentWidth/100*N.width,height:z.percentHeight/100*N.height}:void 0,[N,z]),P=(0,o.useMemo)(()=>N?{maxWidth:N.width*((100-D.percentX)/100),maxHeight:N.height*((100-D.percentY)/100),minWidth:.05*N.width,minHeight:.05*N.height}:void 0,[N,D]);(0,a.j)({ref:I,handler:e=>{j&&E(!1)}});let F=(0,o.useCallback)(e=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{if(j)return void E(!1);e.preventDefault(),e.stopPropagation();let t=b();void 0!==t&&C.commands.selectNodeAtPos(t)},300)},[]),V=(0,o.useCallback)(e=>{k.current&&clearTimeout(k.current),e.preventDefault(),e.stopPropagation(),E(!0);let t=b();if(void 0!==t){let e=t+w.nodeSize-1;C.commands.setTextSelection({from:t+1,to:e})}},[]),O=(0,o.useCallback)(e=>{if(L.current=!1,j||!I.current)return;e.preventDefault(),e.stopPropagation();let t=e.clientX,n=e.clientY,i=I.current.getBoundingClientRect(),a={x:t-i.left,y:n-i.top},r=g({editor:C,getPos:b});if(!r)return;let s=e=>{var i,s,l,o;if(!r)return;let c=r.getBoundingClientRect(),d=Math.abs(e.clientX-t),u=Math.abs(e.clientY-n);if(!L.current){if(d<=5&&u<=5)return;L.current=!0,k.current&&clearTimeout(k.current)}let p=e.clientX-a.x,h=e.clientY-a.y,g=(p-c.left)/c.width*100,x=(h-c.top)/c.height*100,f={percentWidth:null!=(s=null!=(i=z.percentWidth)?i:null==v?void 0:v.percentWidth)?s:0,percentHeight:null!=(o=null!=(l=z.percentHeight)?l:null==v?void 0:v.percentHeight)?o:0},{position:b,size:C}=m({percentX:g,percentY:x},f);(C.percentWidth!==f.percentWidth||C.percentHeight!==f.percentHeight)&&H(C),T.current=b,R(b)},l=()=>{L.current&&(L.current=!1),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l);let e=b();void 0!==e&&C.commands.updateAttributesAtPos(e,{position:T.current})};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)},[j,D,C,b]),Z=(0,o.useCallback)((e,t,n,i)=>{var a,r;if(M(!0),!N)return;let s=n.offsetWidth,l=n.offsetHeight,o={percentWidth:s/N.width*100,percentHeight:l/N.height*100},c={...D},d={width:s-(null!=(a=z.percentWidth)?a:0)/100*N.width,height:l-(null!=(r=z.percentHeight)?r:0)/100*N.height},u=d.width/N.width*100,p=d.height/N.height*100;t.toLowerCase().includes("left")&&(c.percentX=D.percentX-u),t.toLowerCase().includes("top")&&(c.percentY=D.percentY-p);let{position:h,size:g}=m(c,o);H(g),R(h),T.current=h},[z,D,N]),W=(0,o.useCallback)((e,t,n,i)=>{M(!1);let a=b();if(void 0!==a){let e={size:z};(t.toLowerCase().includes("left")||t.toLowerCase().includes("top"))&&(e.position=T.current),C.commands.updateAttributesAtPos(a,e),C.commands.selectNodeAtPos(a)}},[z,T.current,C,b]);return(0,o.useEffect)(()=>()=>{k.current&&clearTimeout(k.current)},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.a,{className:(0,s.cx)("positioned-element",(S||A||j||L.current)&&"is-selected"),position:"absolute",zIndex:1,ref:I,left:"".concat(D.percentX,"%"),top:"".concat(D.percentY,"%"),children:(0,i.jsxs)(l.c,{size:B,onResize:Z,onResizeStop:W,maxWidth:null==P?void 0:P.maxWidth,maxHeight:null==P?void 0:P.maxHeight,minWidth:null==P?void 0:P.minWidth,minHeight:null==P?void 0:P.minHeight,style:{display:"flex",flexDirection:"column",...(0,c.yp)(_)},children:[!j&&(0,i.jsx)(r.a,{className:"drag-box",position:"absolute",top:0,left:0,right:0,bottom:0,cursor:L.current?"grabbing":"grab",zIndex:2,onMouseDown:O,onClick:F,onDoubleClick:V,userSelect:"none"}),A&&!j&&(0,i.jsxs)(r.a,{className:(0,s.cx)("selection-handles"),display:A&&!j?"block":"none",position:"absolute",children:[(0,i.jsx)(r.a,{className:"handle handle-tl"}),(0,i.jsx)(r.a,{className:"handle handle-tr"}),(0,i.jsx)(r.a,{className:"handle handle-bl"}),(0,i.jsx)(r.a,{className:"handle handle-br"})]}),x]})})})}},14122:(e,t,n)=>{"use strict";n.d(t,{t:()=>a,z:()=>i});let i={borderRadius:"var(--box-border-radius)"},a=e=>({"svg.colorable-icon":{path:{fill:e},"[stroke], [stroke] > *":{stroke:e,fill:"none"}}})},14322:(e,t,n)=>{"use strict";n.d(t,{AY:()=>a});var i=n(91938);n(88586),n(11390),n(19106);let a=e=>"".concat(i.$.API_HOST,"/billing/portal").concat(e?"?subscriptionId=".concat(e):"")},14368:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var i=n(51684),a=n(77650);let r={key:"image.web",featureFlag:"webImageSearch",label:()=>a.Ru._({id:"coorYU"}),icon:i.$UM,keywords:["image","photo","pic"],description:()=>a.Ru._({id:"NMbF1d"}),resizeToFit:!0}},14389:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>r,MK:()=>a,Mg:()=>l,St:()=>s});var i=n(36512);let a=30,r=16,s=i.s5*r,l=.6},14503:(e,t,n)=>{"use strict";n.d(t,{HF:()=>c,KW:()=>o,NH:()=>p,Pn:()=>f,Ui:()=>C,aH:()=>d,dX:()=>l,fx:()=>h,kV:()=>g,oD:()=>m,ob:()=>x,t6:()=>u,uH:()=>b});var i=n(63867),a=n(46675),r=n(61292),s=n(48413);let l=new i.hs("selectingCells");function o(e){if(!e)return null;for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function c(e){if(!e)return null;for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function d(e){let t=e.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function u(e){return e instanceof a.HT?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e instanceof i.nh&&"cell"==e.node.type.spec.tableRole?e.$anchor:o(e.$head)||function(e){if(!e)return null;for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n-t.nodeSize)}return null}(e.$head)}function p(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function h(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function g(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function m(e,t,n){let i=e.start(-1),a=s.J.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function x(e,t,n){let i={};for(let t in e)i[t]=e[t];return i[t]=n,i}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=x(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some(e=>e>0)||(i.colwidth=null)),i}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=x(e,"colspan",e.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(let e=0;e<n;e++)i.colwidth.splice(t,0,0)}return i}function C(e,t,n){let i=(0,r.e)(t.type.schema).header_cell;for(let a=0;a<e.height;a++)if(t.nodeAt(e.map[n+a*e.width]).type!=i)return!1;return!0}},14812:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var i=n(37243),a=n(59230),r=n(67097),s=n(50861),l=n(36145),o=n(16595);let c=i.YY.create({name:"mediaUpload",addCommands(){return{cancelImageUploadsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(t&&t.uploadStatus===a.A.Uploading)}).forEach(e=>{let n=(0,o.um)(e.node),i=(0,o.wH)(e.node,(null==n?void 0:n.src)?{uploadStatus:a.A.Done}:{tempUrl:null,uploadStatus:a.A.Error});t.setNodeMarkup(e.pos,null,i).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0)},uploadBlobsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("blob:")}).forEach(e=>{let n=(0,o.um)(e.node);if(!n)return;let i=n.src,a=(0,o.wH)(e.node,(0,o.F)(i));t.setNodeMarkup(e.pos,null,a).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.xH)(this.editor,i)}),!0)},uploadRemoteUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("http")&&(0,r.cW)(t.src)&&t.uploadStatus!==a.A.Done}).forEach(e=>{var n;let i=(0,o.um)(e.node);if(!i)return;let r=i.src,s=(0,o.wH)(e.node,{uploadStatus:a.A.Uploading,source:null!=(n=i.source)?n:"image.custom",tempUrl:r});t.setNodeMarkup(e.pos,null,s).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.XE)(this.editor,r,void 0,!0)}),!0)},uploadDataUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("data:")}).forEach(e=>{let n=(0,o.um)(e.node);if(!n)return;let i=(0,r.Xz)(n.src);if(!i)return;let a=URL.createObjectURL(i),s=(0,o.wH)(e.node,(0,o.F)(a));t.setNodeMarkup(e.pos,null,s).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,l.XE)(this.editor,a,i)}),!0)},initializeUploadExtension:e=>t=>{let{chain:n}=t;return this.storage.orgId=e,n().cancelImageUploadsOnLoad().uploadBlobsOnLoad().uploadDataUrlsOnLoad().uploadRemoteUrlsOnLoad().revokeAllImageTempURLs().run(),!0},revokeAllImageTempURLs:()=>e=>{let{tr:t,state:n}=e;return(0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(t&&t.tempUrl&&t.src&&t.uploadStatus===a.A.Done)}).forEach(e=>{let n=(0,o.wH)(e.node,{tempUrl:null});t.setNodeMarkup(e.pos,null,n).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0},revokeImageTempURLs:e=>t=>{let{tr:n,state:a}=t;return(0,i.xe)(a.doc,t=>{let n=(0,o.um)(t);return!!n&&n.tempUrl===e}).forEach(e=>{let t=(0,o.wH)(e.node,{tempUrl:null});n.setNodeMarkup(e.pos,null,t).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),URL.revokeObjectURL(e),!0},updateImageOnUploadFailure:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{tr:i,state:r}=n,s=r.doc.nodeAt(e);if(!s||!s.attrs)return!1;let l=(0,o.um)(s),c=t?{...l,uploadStatus:a.A.Done}:(0,o.yK)({isError:!0}),d=(0,o.wH)(s,c);return i.setNodeMarkup(e,void 0,d).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}},updateImageOnUploadSuccess:(e,t)=>n=>{let{tr:i,state:a}=n,r=a.doc.nodeAt(e);if(!r||!r.attrs)return!1;let l=(0,o.yK)({isError:!1,result:t,attrs:r.attrs}),c=(0,s.Ez)(l),d=(0,o.wH)(r,c);return i.setNodeMarkup(e,void 0,d).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}}},addStorage:()=>({orgId:void 0,completedUploads:{}}),addProseMirrorPlugins(){return[(0,l.Qx)(this.editor)]}})},15253:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(6029),a=n(55729),r=n(73326),s=n(28613);class l extends r.nC{render(){let{editor:e}=this.props,t=e?(0,i.jsx)(c,{editor:e,node:e.state.doc}):null;return(0,i.jsx)("div",{className:"ProseMirror",children:t})}constructor(e){super(e),this.editorContentRef={current:document.createElement("div")},this.init()}}let o=a.memo(l),c=e=>{let{node:t,editor:n}=e;return(0,i.jsx)(r.ec.Provider,{value:{editor:n,node:t},children:(0,i.jsx)(r.VR,{children:(0,i.jsx)(s.$,{})})})}},15587:(e,t,n)=>{"use strict";n.d(t,{h:()=>c,v:()=>d});var i=n(37243),a=n(63867),r=n(97255),s=n(15607),l=n(56124);let o=e=>e.isTextblock||["gallery","cardLayoutItem","buttonGroup","navbarLinks","navbarButtons","toggleSummary"].includes(e.type.name),c=i.YY.create({name:"emptyNodes",addOptions:()=>({emptyNodeClass:"is-empty",showOnlyWhenEditable:!0,showOnlyCurrent:!1}),addProseMirrorPlugins(){return[new a.k_({key:new a.hs("emptyNodes"),props:{decorations:e=>{let{doc:t,selection:n}=e,i=[],a=this.editor.isEditable||!this.options.showOnlyWhenEditable||this.editor.isThumbnail,{anchor:c}=n;if(a)return t.descendants((e,t)=>{if("table"===e.type.name&&(0,l.VM)(e))return!1;if(!o(e))return;let n=c>=t&&c<=t+e.nodeSize,a=(0,s.mf)(e);(n||!this.options.showOnlyCurrent)&&a&&i.push(r.NZ.node(t,t+e.nodeSize,{class:this.options.emptyNodeClass},{isEmpty:!0}))}),r.zF.create(t,i)}}})]}}),d=e=>e.some(e=>e.spec.isEmpty)},16264:(e,t,n)=>{"use strict";n(5061),n(33201),n(6845),n(61385),n(98968),n(50861),n(56124),n(53891)},16309:(e,t,n)=>{"use strict";n.d(t,{qc:()=>y,tg:()=>w});var i=n(37243),a=n(63867),r=n(97255),s=n(8944),l=n(25778),o=n(30892),c=n(62171),d=n(15607),u=n(67864),p=n(94922),h=n(92397),g=n(71737);n(61385);var m=n(47665);class x{constructor(e=null){this.dragging=e}}let f=new a.hs("cardPlugin"),b=["card","calloutBox","image","cardLayoutItem","cardAccentLayoutItem","cardNotes","chart","smartLayoutCell","smartDiagram"],C=(e,t)=>{let n=[];return e.descendants((i,a,u,h)=>{if(t.includes(i.type.name)){var x,f,b,C;let t=e.resolve(a),y=(0,m.jg)(i),v=(0,d.TK)(t,m.jg),w=v.slice(+!y).map(e=>e.node),{node:A,pos:k}=v[0]||{},L=k?e.resolve(k):null,j=y?i:A||i,E=y?u.childCount:null==L?void 0:L.parent.childCount,S=y?h:null==L?void 0:L.index(),M=w.length,I=M>0,_=(0,m.kj)(w,"width"),D=(0,m.g6)(j),R=!!(j.firstChild&&(0,m.sw)(j.firstChild)),T=(0,p.o_)(j),z=null==T||null==(x=T.mask)?void 0:x.effect,H=null==T||null==(f=T.mask)?void 0:f.intensity,N=(0,c.gK)(null==(b=j.attrs.container)?void 0:b.background),B=N?(0,o.$p)(N):void 0,P=(0,s.uw)((0,l.KA)().getState()),F=(0,p.zr)({layout:j.attrs.layout,parentCards:w,isMobileDevice:P}),V=null!==j.lastChild&&(0,g.eh)(j),O=V&&!(0,g.o_)(j.lastChild),Z=!!(null==(C=j.attrs.cardMarginSettings)?void 0:C.isHidden),W={isCardDecoration:!0,nestedDepth:M,isNested:I,isFirstCard:!I&&0===S,isLastCard:!I&&"number"==typeof E&&S===E-1,hasLayoutItem:R,cardContentType:D,cardAccentBackgroundMaskEffect:z,cardAccentBackgroundMaskIntensity:H,isCardDark:B,cardColorOverride:N,displayLayout:F,insideSideLayout:(0,p.in)(w),inheritContainerWidth:_,hasCardNotesNode:V,hasNonEmptyCardNotes:O,hasHiddenCardMargins:Z};n.push(r.NZ.node(a,a+i.nodeSize,{},W))}}),n},y=e=>new a.k_({key:f,state:{init:()=>new x,apply:(e,t)=>t},props:{decorations:e=>{let{doc:t}=e,n=C(t,b);return n.length>0?r.zF.create(t,n):r.zF.empty},handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=f.getState(e.state);if(!i)return!1;i.dragging=n}},handleDrop:(t,n,i)=>{var a;let r=f.getState(t.state),s=null==r?void 0:r.dragging;r&&(r.dragging=null);let l=(0,h.M7)(t,n,i);if(!l)return!1;let o=i.content.toJSON();if(!o)return!1;let c=(null==(a=o[0])?void 0:a.type)==="card";if(c&&s)return e.commands.rearrangeCards({from:s.origNodePos,to:l.pos,position:"above"});let d=c?o:{type:"card",content:o},{selection:p}=t.state,g=!p.empty;try{return e.chain().insertContentAt(l.pos,d,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(g&&i.deleteSelection(),s){let n=(0,u.nh)({view:t,tr:i,cardWrapOffset:+!c,dragging:s,dropPos:l.pos});requestAnimationFrame(()=>{var t,i;null==(t=(i=e.commands).moveAnnotations)||t.call(i,n)})}return!0}).focusMapped(l.pos,1).run()}catch(e){return console.error("(caught) [Cardplugin] handleDrop error:",e),!0}},handlePaste:(t,n,a)=>{var r;let s=a.content.toJSON();if(!s)return!1;if((null==(r=s[0])?void 0:r.type)==="card"){let r=t.state.selection,s=(0,i.KP)(m.jg)(r);if(s){n.preventDefault();let t=s.pos+s.node.nodeSize;return e.commands.insertContentAt(t,a.content.toJSON()),!0}}return!1}}}),v={isNested:!1,hasLayoutItem:!1,nestedDepth:0,isFirstCard:!1,isCardDecoration:!0,isLastCard:!1,displayLayout:"blank",cardContentType:"responsive",insideSideLayout:!1,hasCardNotesNode:!1,hasNonEmptyCardNotes:!1,hasHiddenCardMargins:!1},w=e=>{let t=e.find(e=>e.spec.isCardDecoration);return t?t.spec:v}},16410:(e,t,n)=>{"use strict";n.d(t,{_:()=>R});var i=n(6029),a=n(27229),r=n(16936),s=n(49611),l=n(46898),o=n(67909),c=n(36071),d=n(68728),u=n(17920),p=n(3674),h=n(40691),g=n(26385),m=n(48810),x=n(15863),f=n(72089),b=n(17496),C=n(36218),y=n(16426),v=n(61204),w=n(55597),A=n(48621),k=n(33170),L=n(19564),j=n(77650),E=n(55729),S=n(2018),M=n(6807),I=n(65148);let _={[S.tiT.DeceptiveOrMisleading]:{title:(0,i.jsx)(L.x6,{id:"Y5QK1F"})},[S.tiT.Explicit]:{title:(0,i.jsx)(L.x6,{id:"Zeb01n"})},[S.tiT.Other]:{title:(0,i.jsx)(L.x6,{id:"/IX/7x"})},[S.tiT.Spam]:{title:(0,i.jsx)(L.x6,{id:"Y5QK1F"})},[S.tiT.Inappropriate]:{title:(0,i.jsx)(L.x6,{id:"Zeb01n"})}},D=[S.tiT.DeceptiveOrMisleading,S.tiT.Explicit,S.tiT.Other],R=e=>{let{docId:t,buttonType:n,onSubmitReport:l,buttonProps:o}=e,[c]=(0,M.M)(I.E.abuseReports,[]),[d,u]=(0,E.useState)(c.includes(t||"")),{isOpen:p,onOpen:h,onClose:g}=(0,a.j)({id:"report-page-modal"}),m=(0,E.useCallback)(()=>{u(!0),g(),null==l||l()},[g,l]);return d||!t?null:(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)(T,{docId:t,isOpen:!0,onClose:g,onSubmit:m}),"iconRight"===n?(0,i.jsx)(k.Tz,{label:(0,i.jsx)(L.x6,{id:"ch68HI"}),children:(0,i.jsx)(r.K,{"aria-label":j.Ru._({id:"ch68HI"}),borderInlineStartWidth:"0px",variant:"plain",size:"sm",borderInlineStartRadius:0,icon:(0,i.jsx)(A.g,{icon:w.tHS,size:"sm"}),onClick:h,...o})}):"button"===n?(0,i.jsx)(s.$,{marginX:"auto",colorScheme:"gray",color:"gray.500",size:"sm",variant:"ghost",leftIcon:(0,i.jsx)(A.g,{icon:w.tHS}),onClick:h,children:(0,i.jsx)(L.x6,{id:"ch68HI"})}):null]})},T=e=>{let{docId:t,isOpen:n,onClose:a,onSubmit:r}=e,[w,A]=(0,M.M)(I.E.abuseReports,[]),[R,T]=(0,E.useState)(),[z]=(0,S.pZI)(),[H,N]=(0,E.useState)(),B=(0,l.d)(),P=(0,E.useCallback)(()=>{R&&z({variables:{input:{docId:t,reason:R,description:H}}}).then(()=>{A([...w,t]),B({title:(0,i.jsx)(L.x6,{id:"7sBcV9"}),description:(0,i.jsx)(L.x6,{id:"m02YqD"}),status:"success",duration:5e3,isClosable:!0,position:"top"}),r()})},[R,z,t,H,A,w,B,r]);return(0,i.jsx)(k.L8,{isDark:!1,children:(0,i.jsxs)(o.aF,{isOpen:n,onClose:a,trapFocus:!1,children:[(0,i.jsx)(c.m,{}),(0,i.jsxs)(d.$,{children:[(0,i.jsx)(u.r,{children:(0,i.jsx)(L.x6,{id:"ch68HI"})}),(0,i.jsx)(p.s,{}),(0,i.jsx)(h.c,{children:(0,i.jsxs)(g.B,{spacing:0,children:[(0,i.jsx)(m.E,{mb:6,children:(0,i.jsx)(L.x6,{id:"oNyQYO"})}),(0,i.jsx)(x.z,{onChange:e=>{T(e)},value:R,children:(0,i.jsx)(g.B,{children:D.map(e=>{let t=_[e];return(0,i.jsx)(f.s,{value:e,children:null==t?void 0:t.title},e)})})}),(0,i.jsx)(b.S,{in:R===S.tiT.Other,children:(0,i.jsx)(C.T,{onChange:e=>{N(e.target.value)},maxLength:200,placeholder:j.Ru._({id:"1ULmtx"}),mt:4})})]})}),(0,i.jsx)(y.j,{children:(0,i.jsxs)(v.e,{children:[(0,i.jsx)(s.$,{colorScheme:"gray",onClick:a,variant:"ghost",children:(0,i.jsx)(L.x6,{id:"dEgA5A"})}),(0,i.jsx)(k.Tz,{label:(0,i.jsx)(L.x6,{id:"h7+4yF"}),placement:"top",isDisabled:!!R,shouldWrapChildren:!0,children:(0,i.jsx)(s.$,{onClick:P,variant:"hazardous",isDisabled:!R,children:(0,i.jsx)(L.x6,{id:"ovTgfk"})})})]})})]})]})})}},16595:(e,t,n)=>{"use strict";n.d(t,{Df:()=>x,F:()=>h,Ki:()=>C,X6:()=>w,bY:()=>A,um:()=>m,wH:()=>g,wt:()=>y,yK:()=>p});var i=n(37243),a=n(60449),r=n.n(a),s=n(97481),l=n.n(s),o=n(42725),c=n.n(o),d=n(59230),u=n(46007);let p=e=>{let{result:t,isError:n,attrs:i}=e;if(n)return{uploadStatus:d.A.Error,showPlaceholder:!0,tempUrl:null,src:null};let{fullResults:a,...r}=t;return{uploadStatus:d.A.Done,showPlaceholder:!1,source:(null==i?void 0:i.source)||"image.custom",...r}},h=e=>({tempUrl:e,uploadStatus:d.A.Uploading,src:null,source:"image.custom"}),g=(e,t)=>{let n=e.type.spec.imageKeyPath,i=n?c()({},n,t):t;return l()({},e.attrs,i)},m=e=>{let t=e.type.spec.imageKeyPath;return t||"image"===e.type.name?t?r()(e.attrs,t,e.attrs):e.attrs:null},x=(e,t,n,a)=>{if(null==a?void 0:a.id)return a.id;if("smartLayoutCell"===t.type.name)return t.attrs.id;if("cardAccentLayoutItem"===t.type.name){let t=(0,i.eL)(e.state.doc.resolve(n),e=>"card"===e.type.name);return t?t.node.attrs.id:null}},f=(e,t)=>(0,i.xe)(e.state.doc,e=>{let n=m(e);return[null==n?void 0:n.tempUrl,null==n?void 0:n.src].includes(t)}),b=(e,t)=>(0,i.xe)(e.state.doc,e=>"embed"===e.type.name&&e.attrs.url===t),C=(e,t,n)=>{e.parentEditor&&(e=e.parentEditor),t&&v(e,n,t);let i=f(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>{let{pos:i}=t;e.commands.updateImageOnUploadSuccess(i,n)}),setTimeout(()=>{e.commands.revokeImageTempURLs(t)},3e4)},y=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.parentEditor&&(e=e.parentEditor);let a=f(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>e.commands.updateImageOnUploadFailure(t.pos,i)),console.error(n)},v=(e,t,n)=>{let i=e.storage.mediaUpload;i&&(i.completedUploads[n]=t)},w=(e,t,n)=>{let i=b(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>{e.commands.updateAttributesAtPos(t.pos,{url:n.src,sourceUrl:n.src,embed:{url:n.src},thumbnail:{src:n.thumbnail,uploadStatus:d.A.Done,showPlaceholder:!1}})})},A=e=>({meta:{title:e.name,description:(0,u.z3)(e.size,1)},thumbnail:{uploadStatus:d.A.Uploading,showPlaceholder:!0},source:"embed.pdf"})},17006:(e,t,n)=>{"use strict";n.d(t,{Uw:()=>s,bh:()=>l,eL:()=>r,tX:()=>o});var i=n(17406),a=n(80274);let r=1.25,s=1.6,l=(e,t)=>{let{size:n,mobileSize:i}=(0,a.o)(e);if(e&&(0,a.Ii)(e)){var r,s;let e=(null!=(r=t.config.headingFontSize)?r:1)/(null!=(s=t.config.fontSize)?s:1),a=n*e,l=i?i*e:void 0;return{fontSize:l?["".concat(l,"em"),"".concat(a,"em")]:"".concat(a,"em"),"@media print":{fontSize:"".concat(a,"em")},lineHeight:"var(--line-height-heading)"}}return{fontSize:i?["".concat(i,"em"),"".concat(n,"em")]:"".concat(n,"em"),"@media print":{fontSize:"".concat(n,"em")},lineHeight:"var(--line-height-body)"}},o=e=>{let t={".block-paragraph":{...l("default",e)},".block-heading":{'.heading[level="1"]':{...l("h1",e)},'.heading[level="2"]':{...l("h2",e)},'.heading[level="3"]':{...l("h3",e)},'.heading[level="4"]':{...l("h4",e)}},".block-title":{".title":{...l("title",e)},'.title[level="1"]':{...l("title",e)},'.title[level="2"]':{...l("titleLg",e)},'.title[level="3"]':{...l("titleXl",e)}}};return Object.keys((0,i.ZD)()).forEach(n=>{let i=l(n,e);t['[data-font-size="'.concat(n,'"]')]=i}),t}},17074:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var i=n(6029),a=n(55729),r=n(87996);let s={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},l=e=>{let{handleFilesCallback:t,multiple:n=!1,accept:l=r.RH.join(",")}=e,o=(0,a.useRef)(null);return{inputElement:(0,a.useMemo)(()=>(0,i.jsx)("input",{ref:o,className:"gamma-FileInput-input",style:s,type:"file",name:"gamma-file-input",multiple:n,accept:l,onChange:e=>{let n=e.target;n&&n.files&&(t(Array.from(n.files)),n.value=null)}}),[l,t,n]),onClick:(0,a.useCallback)(()=>{var e;null==(e=o.current)||e.click()},[])}}},17275:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(52762),a=n(94922);let r=(e,t,n,r,s)=>{let l=t.doc.nodeAt(n);if((null==l?void 0:l.type.name)!=="card")return!1;let o=l.attrs,c=(0,a.lH)(r);if((0,a.Fm)(t,n,e.schema,c),r===o.layout)return!0;t.setNodeAttribute(n,"layout",r);let{accent:d}=(0,a.dg)(t,n);if(s&&d&&d.node.attrs.background.type===i.h.NONE){let e=s();e&&t.setNodeAttribute(d.pos,"background",e)}let{layoutTemplateColumns:u}=l.attrs,p=o.layout;return u&&("left"===p&&"right"===r||"right"===p&&"left"===r)&&t.setNodeAttribute(n,"layoutTemplateColumns",u.split(" ").reverse().join(" ")),!0}},17485:(e,t,n)=>{"use strict";n.d(t,{z_:()=>g,Kl:()=>m,zF:()=>h});var i=n(6029),a=n(99492),r=n(77650),s=n(49611),l=n(48621),o=n(33170),c=n(2681),d=n(80180);let u=e=>{var t;let{value:n,updateValue:r,choices:u,defaultIcon:p,option:h}=e;return(0,i.jsxs)(c.ms,{isLazy:!0,children:[(0,i.jsx)(o.Tz,{placement:"top",label:h.name(),shouldWrapChildren:!0,children:(0,i.jsx)(c.gf,{as:s.$,variant:"toolbar",onMouseDown:d.Fw,rightIcon:(0,i.jsx)(l.g,{icon:a.Jt$,transform:"shrink-6"}),children:(0,i.jsx)(l.g,{icon:(null==(t=u[n])?void 0:t.icon)||p})})}),(0,i.jsx)(c.Q5,{children:Object.entries(u).map(e=>{let[t,{icon:n,name:a,disabled:s}]=e;return s?null:(0,i.jsx)(c.tJ,{icon:(0,i.jsx)(l.g,{icon:n,fixedWidth:!0}),onClick:()=>r(t),children:a},t)})})]})},p=()=>({square:{name:r.Ru._({id:"1DA6ap"}),icon:a.Nfw},circle:{name:r.Ru._({id:"7xMmki"}),icon:a.GEE},landscape:{name:r.Ru._({id:"XxIeKn"}),icon:a.Cpz},portrait:{name:r.Ru._({id:"3bV9gD"}),icon:a.b0A}}),h={square:{aspectRatio:"1 / 1"},circle:{borderRadius:"9999px",aspectRatio:"1 / 1"},landscape:{aspectRatio:"1.618 / 1"},portrait:{aspectRatio:"4 / 5"}},g={square:1,circle:1,landscape:1.618,portrait:.8},m={key:"imageShape",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,editor:r,option:s}=e;return(0,i.jsx)(u,{value:t,updateValue:n,editor:r,choices:p(),option:s,defaultIcon:a.Nfw})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"square"===e?a.Nfw:"circle"===e?a.GEE:"landscape"===e?a.Cpz:a.b0A,items:Object.entries(p()).map(n=>{let[i,{name:r}]=n;return{key:r,label:r,icon:e===i?a.e68:void 0,onClick:()=>t(i)}})}),name:()=>r.Ru._({id:"JbOau/"})}},17859:(e,t,n)=>{"use strict";n.d(t,{$F:()=>o.$,D8:()=>A,Sf:()=>x,V2:()=>f,Vc:()=>k,WN:()=>m,XD:()=>g,Y2:()=>y,Yh:()=>u,bO:()=>b,mN:()=>v,pS:()=>w,rl:()=>d,tB:()=>p,yC:()=>C});var i=n(91938),a=n(11390),r=n(95889),s=n(6181),l=n(29608),o=n(68469);let c=(e,t)=>{r.zS.track(e,{...t,gitSHA:i.$.GIT_SHA,product:(0,a.A4)((0,s.vp)()),device:(0,l.ZI)()})},d=e=>{c(r.VV.AI_REQUEST_SENT,e)},u=e=>{c(r.VV.AI_REQUEST_RESPONSE,e)},p=e=>{c(r.VV.AI_REQUEST_ERROR,e)};function h(e){return e.reduce((e,t)=>(e[t]=!0,e),{})}let g=e=>{c(r.VV.AI_IMAGE_FEEDBACK_SUBMITTED,e)},m=e=>{c(r.VV.AI_IMAGE_RATED,e)},x=e=>{c(r.VV.AI_IMAGE_SELECTED,e)},f=e=>{c(r.VV.AI_AGENT_RESPONSE_RATED,e)},b=e=>{c(r.VV.AI_AGENT_RESPONSE_FEEDBACK,{...e,tags_map:h(e.tags)})},C=e=>{c(r.VV.AI_AGENT_RESPONSE_RATED,e)},y=e=>{c(r.VV.AI_AGENT_RESPONSE_FEEDBACK,{...e,tags_map:h(e.tags)})},v=e=>{c(r.VV.AI_AGENT_RESULT_RATED_IMPLICIT,e)},w=e=>{c(r.VV.AI_CARD_FEEDBACK,e)},A=e=>{c(r.VV.AI_CARD_RATING,e)},k=e=>{c(r.VV.IMAGE_REPLACED,e)}},17928:(e,t,n)=>{"use strict";n.d(t,{DN:()=>a,LF:()=>s});var i=n(83747),a=function(e){return e.CREATE_COMMENT_FROM_SELECTION="createCommentFromSelection",e.OPEN_POPUP_COMMENT="openPopupComment",e.POPUP_COMMENT_TOGGLED="popupCommentToggled",e.OPEN_THEME_DRAWER="openThemeDrawer",e.OPEN_PAGE_SETUP="openPageSetup",e.OPEN_PRESENT_MODE_CONTEXT_MENU="openPresentModeContextMenu",e.Y_DOC_IS_TOO_LARGE="yDocIsTooLarge",e}({});class r extends i.b{}let s=new r},18232:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var i=n(55729),a=n(95889),r=n(30361),s=n.n(r),l=n(25778),o=n(43634);let c=()=>{let e=(0,l.GV)(o.SJ);return(0,i.useCallback)(()=>s()(e.config.accentBackgrounds),[e])},d=(e,t)=>{let n=c(),r=(0,a.st)();return(0,i.useCallback)(i=>{"number"==typeof t&&("blank"===i?e.commands.setCardLayout(t,i):e.commands.setCardLayout(t,i,n),null==r||r.track(a.VV.CARD_LAYOUT_UPDATED,{source:"card-styling-menu",layout:i}))},[e,t,n,r])}},18864:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var i=n(8884),a=n(98610),r=n(97933),s=n(79317);let l=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],defaultOptions:l={},presetConfigurations:o=[]}=e;return{...e,options:(0,s.l)([a.h,i.B],t),cellOptions:(0,s.l)([a.h,r.Y],n),presetConfigurations:o,addDirection:e=>"vertical"===e.orientation?"bottom":"right",isFullWidth:e=>"horizontal"===e.orientation,defaultOptions:l}}},19106:(e,t,n)=>{"use strict";n.d(t,{Qu:()=>l}),n(6029),n(33170);var i=n(17899),a=n(19564);n(55729),n(2018),n(74003),n(89942),n(25778),n(97592);var r=n(99038);n(3131);var s=n(62997);[...i.PAID_PRODUCT_KEYS];let l={free:{name:r.v2,gammaName:r.v2,targetAudience:"individual"},plus:{name:r.H9,gammaName:r.Ft,targetAudience:"individual",canToggleBillingCycle:!0},pro:{name:r.Kc,gammaName:r.Ol,targetAudience:"individual",canToggleBillingCycle:!0},ultra:{name:r.v$,gammaName:r.LS,targetAudience:"individual"},team:{name:r.AR,gammaName:r.MI,targetAudience:"group",canSelectNumSeats:!0,minSeats:s.cN},business:{name:r.$_,gammaName:r.Hh,targetAudience:"group",shouldLinkToContactSales:!0}};a.x6},19275:(e,t,n)=>{"use strict";n.d(t,{Mi:()=>ec});var i=n(9329),a=n(97662);function r(){let e=(0,i._)(["\n  fragment FileCollaboratorFields on FileCollaborator {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    fileId\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment FileInvitationsFields on FileInvitation {\n    id\n    fileId\n    email\n    permission\n  }\n"]);return r=function(){return e},e}function s(){let e=(0,i._)(["\n  ","\n  fragment FileFields on File {\n    id\n    title\n    titleEdited\n    archived\n    disabled\n    channels {\n      id\n      name\n      permission\n      slug\n    }\n    createdBy {\n      id\n      displayName\n      email\n    }\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    collaborators {\n      ...FileCollaboratorFields\n    }\n    invitations {\n      ...FileInvitationsFields\n    }\n    site {\n      id\n      enabled\n    }\n    createdTime\n    updatedTime\n    editedTime\n    publishedTime\n    savedTime\n    workspace {\n      id\n      name\n    }\n    workspaceAccess\n    pages {\n      id\n      title\n      path\n      offline\n      createdTime\n      updatedTime\n      editedTime\n    }\n    mainPageId\n\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    channels {\n      id\n      permission\n      name\n    }\n    workspaceAccess\n    workspace {\n      id\n      name\n      products\n    }\n    searchEngineIndexingEnabled\n    isTemplate\n  }\n"]);return s=function(){return e},e}function l(){let e=(0,i._)(["\n  mutation MovePage($pageId: ID!, $fileId: ID!) {\n    ","\n    movePage(pageId: $pageId, fileId: $fileId) {\n      ...FileFields\n    }\n  }\n"]);return l=function(){return e},e}function o(){let e=(0,i._)(["\n  mutation archiveFile($id: ID!) {\n    archiveFile(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return o=function(){return e},e}function c(){let e=(0,i._)(["\n  mutation unarchiveFile($id: ID!) {\n    unarchiveFile(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,i._)(["\n  mutation UpdatePageTitle($id: ID!, $title: String, $titleEdited: Boolean) {\n    updatePage(input: { id: $id, title: $title, titleEdited: $titleEdited }) {\n      id\n      title\n      path\n      titleEdited\n    }\n  }\n"]);return d=function(){return e},e}function u(){let e=(0,i._)(["\n  mutation UpdatePageOffline($id: ID!, $offline: Boolean!) {\n    updatePage(input: { id: $id, offline: $offline }) {\n      id\n      offline\n    }\n  }\n"]);return u=function(){return e},e}let p=(0,a.J1)(r()),h=(0,a.J1)(s(),p);function g(){let e=(0,i._)(["\n  fragment DefaultThemeFontFields on ThemeFont {\n    id\n    name\n    url\n  }\n"]);return g=function(){return e},e}function m(){let e=(0,i._)(["\n  ","\n  fragment DefaultThemeFields on Theme {\n    id\n    workspaceId\n    name\n    headingFont\n    headingFontWeight\n    bodyFont\n    bodyFontWeight\n    accentColor\n    logoUrl\n    config\n    priority\n    previewUrl\n    archived\n    createdTime\n    updatedTime\n    fonts {\n      ... on ThemeFont {\n        ...DefaultThemeFontFields\n      }\n    }\n  }\n"]);return m=function(){return e},e}function x(){let e=(0,i._)(["\n  ","\n  mutation CreateTheme($input: CreateThemeInput!) {\n    createTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation UpdateTheme($input: UpdateThemeInput!) {\n    updateTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation MakeThemeStandard($id: ID!, $newId: ID) {\n    makeThemeStandard(id: $id, newId: $newId) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation DuplicateTheme($id: ID!) {\n    duplicateTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n\n  query GetTheme($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemeWithCount($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemes($workspaceId: ID, $archived: Boolean) {\n    themes(workspaceId: $workspaceId, archived: $archived) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  mutation ArchiveTheme($id: ID!) {\n    archiveTheme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n    }\n  }\n\n  mutation UnarchiveTheme($id: ID!) {\n    unarchiveTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n"]);return x=function(){return e},e}(0,a.J1)(l(),h),(0,a.J1)(o()),(0,a.J1)(c()),(0,a.J1)(d()),(0,a.J1)(u());let f=(0,a.J1)(g()),b=(0,a.J1)(m(),f);function C(){let e=(0,i._)(["\n  query SearchMention(\n    $workspaceId: ID!\n    $query: String!\n    $types: [SearchType!] = [user, doc]\n  ) {\n    search(orgId: $workspaceId, query: $query, types: $types) {\n      __typename\n      ... on DocResult {\n        ...DocResultFragment\n      }\n      ... on User {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n"]);return C=function(){return e},e}function y(){let e=(0,i._)(["\n  fragment ReactionFields on Reaction {\n    emoji\n    count\n    targetId\n    targetType\n    docId\n    users {\n      id\n      displayName\n      profileImageUrl\n    }\n  }\n"]);return y=function(){return e},e}function v(){let e=(0,i._)(["\n  fragment CommentAuthorFields on User {\n    id\n    displayName\n    profileImageUrl\n    email\n  }\n"]);return v=function(){return e},e}function w(){let e=(0,i._)(["\n  ","\n  ","\n  fragment ReplyFields on Comment {\n    id\n    commentId\n    content\n    createdTime\n    updatedTime\n    archived\n    user {\n      ...CommentAuthorFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return w=function(){return e},e}function A(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  fragment CommentFields on Comment {\n    id\n    docId\n    cardId\n    content\n    targetText\n    targetHtml\n    createdTime\n    updatedTime\n    archived\n    targetId\n    status\n    user {\n      ...CommentAuthorFields\n    }\n    replies {\n      ...ReplyFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return A=function(){return e},e}function k(){let e=(0,i._)(["\n  fragment DocCollaboratorFields on DocCollaborator {\n    docId\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment DocInvitationsFields on DocInvitation {\n    id\n    docId\n    email\n    permission\n  }\n"]);return k=function(){return e},e}function L(){let e=(0,i._)(["\n  fragment DocChannelFields on DocChannel {\n    id\n    name\n    slug\n    permission\n  }\n"]);return L=function(){return e},e}function j(){let e=(0,i._)(["\n  fragment DocEditorsFields on DocEditor {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    lastEdited\n  }\n"]);return j=function(){return e},e}function E(){let e=(0,i._)(["\n  ","\n  ","\n  fragment DocSiteFields on Site {\n    id\n    archived\n    workspaceId\n    name\n    domains {\n      id\n      siteId\n      name\n      status\n      builtin\n      canonical\n    }\n    hasCustomDomain\n    routes {\n      id\n      siteId\n      docId\n      path\n      offline\n      doc {\n        id\n        title\n      }\n    }\n    currentDeployment {\n      id\n      siteId\n      buildHost\n      deploymentTime\n    }\n    createdTime\n    updatedTime\n    previewUrl\n    pageCount\n    archived\n    enabled\n    faviconUrl\n    themeId\n    navEnabled\n    navContent\n    gtmContainerId\n    metaPixelId\n  }\n"]);return E=function(){return e},e}function S(){let e=(0,i._)(["\n  ","\n  mutation AddCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorInput!]!\n  ) {\n    addCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return S=function(){return e},e}function M(){let e=(0,i._)(["\n  ","\n  mutation RemoveCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorRemovalInput!]!\n  ) {\n    removeCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return M=function(){return e},e}function I(){let e=(0,i._)(["\n  ","\n  mutation AddCollaboratorByAccessLink($docId: ID!) {\n    addCollaboratorByAccessLink(docId: $docId) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n    }\n  }\n"]);return I=function(){return e},e}function _(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  query GetDoc($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      title\n      titleEdited\n      titleCard {\n        id\n        previewUrl\n      }\n      archived\n      disabled\n      createdTime\n      updatedTime\n      editedTime\n      savedTime\n      currentSnapshotId\n      publishedSnapshotId\n      publishedSnapshot {\n        content\n      }\n      publishedTime\n      source\n      comments {\n        ...CommentFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n      accessLinks {\n        id\n        docId\n        type\n        permission\n        token\n        url\n      }\n      links {\n        url\n        status\n      }\n      orgAccess\n      organization {\n        id\n        name\n        products\n      }\n      theme {\n        ...DefaultThemeFields\n        fonts {\n          id\n          name\n          url\n        }\n      }\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n      # Including docUser fields required for Apollo cache optimistic updates\n      # TODO if we use this in multiple places, extract a fragment\n      docUser {\n        id\n        docId\n        lastViewed\n        lastEdited\n        favorited\n      }\n      editors {\n        ...DocEditorsFields\n      }\n      createdBy {\n        firstName\n        displayName\n        id\n        email\n      }\n      channels {\n        ...DocChannelFields\n      }\n      site {\n        ...DocSiteFields\n      }\n      file {\n        ...FileFields\n      }\n      docGenerateInput {\n        id\n        settings\n        docGeneration {\n          id\n          generationType\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}function D(){let e=(0,i._)(["\n  query GetDocRobots($id: ID!) {\n    doc(id: $id) {\n      id\n      title\n      createdTime\n      updatedTime\n      searchEngineIndexingAllowed\n      canonicalUrl\n      currentSnapshot {\n        id\n        docId\n        content\n      }\n      titleCard {\n        id\n        previewUrl\n        text\n      }\n      organization {\n        id\n        name\n        products\n        # NB: Need this so that useCan works properly.\n        __typename\n      }\n      createdBy {\n        displayName\n        id\n        email\n      }\n      links {\n        url\n        nodeType\n        status\n      }\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return D=function(){return e},e}function R(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  subscription SubscribeToDoc($id: ID!) {\n    doc(id: $id) {\n      ... on DocSubscription {\n        id\n        title\n        titleEdited\n        titleCard {\n          id\n          previewUrl\n        }\n        archived\n        updatedTime\n        editedTime\n        savedTime\n        publishedTime\n        accessLinks {\n          id\n          docId\n          type\n          permission\n          token\n          url\n        }\n        channels {\n          ...DocChannelFields\n        }\n        collaborators {\n          ...DocCollaboratorFields\n        }\n        editors {\n          ...DocEditorsFields\n        }\n        invitations {\n          ...DocInvitationsFields\n        }\n        theme {\n          ...DefaultThemeFields\n        }\n        reactions {\n          ...ReactionFields\n        }\n        orgAccess\n      }\n\n      ... on DocCommentsSubscription {\n        id\n        comments {\n          ...CommentFields\n        }\n      }\n      ... on DocReactionsSubscription {\n        id\n        reactions {\n          ...ReactionFields\n        }\n      }\n      ... on DocLinksSubscription {\n        id\n        links {\n          url\n          status\n        }\n      }\n    }\n  }\n"]);return R=function(){return e},e}function T(){let e=(0,i._)(["\n  mutation UpdateDocTitle($id: ID!, $title: String, $titleEdited: Boolean) {\n    updateDoc(input: { id: $id, title: $title, titleEdited: $titleEdited }) {\n      id\n      title\n      titleEdited\n    }\n  }\n"]);return T=function(){return e},e}function z(){let e=(0,i._)(["\n  mutation UpdateDocOrgAccess($id: ID!, $orgAccess: Permission) {\n    updateDoc(input: { id: $id, orgAccess: $orgAccess }) {\n      id\n      orgAccess\n    }\n  }\n"]);return z=function(){return e},e}function H(){let e=(0,i._)(["\n  mutation UpdateDocAccessLinks($id: ID!, $accessLinks: [AccessLinkInput!]) {\n    updateDoc(input: { id: $id, accessLinks: $accessLinks }) {\n      id\n      accessLinks {\n        permission\n        id\n      }\n    }\n  }\n"]);return H=function(){return e},e}function N(){let e=(0,i._)(["\n  ","\n  mutation UpdateDocTheme($id: ID!, $themeId: String) {\n    updateDoc(input: { id: $id, themeId: $themeId }) {\n      id\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return N=function(){return e},e}function B(){let e=(0,i._)(["\n  mutation InviteMembers($workspaceId: ID!, $invitees: [InvitationInput!]!) {\n    inviteMembers(orgId: $workspaceId, invitees: $invitees) {\n      id\n      name\n      invitations {\n        email\n      }\n    }\n  }\n"]);return B=function(){return e},e}function P(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  mutation CreateComment($input: CreateCommentInput) {\n    createComment(input: $input) {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      commentId\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n      replies {\n        ...ReplyFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n"]);return P=function(){return e},e}function F(){let e=(0,i._)(["\n  mutation UpdateComment($input: UpdateCommentInput!) {\n    updateComment(input: $input) {\n      id\n      docId\n      content\n      updatedTime\n    }\n  }\n"]);return F=function(){return e},e}function V(){let e=(0,i._)(["\n  mutation UpdateCommentStatus($input: UpdateCommentStatusInput!) {\n    updateCommentStatus(input: $input) {\n      id\n      status\n      updatedTime\n    }\n  }\n"]);return V=function(){return e},e}function O(){let e=(0,i._)(["\n  mutation RemoveComment($id: ID!) {\n    archiveComment(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return O=function(){return e},e}function Z(){let e=(0,i._)(["\n  ","\n  fragment DocReactionsCreate on Doc {\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return Z=function(){return e},e}function W(){let e=(0,i._)(["\n  ","\n  ","\n  fragment DocCommentsCreate on Doc {\n    comments {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n    }\n  }\n  fragment DocRepliesCreate on Doc {\n    comments {\n      id\n      replies {\n        ...ReplyFields\n      }\n    }\n  }\n  fragment DocCommentsUpdate on Doc {\n    comments {\n      id\n      docId\n      content\n      updatedTime\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n  fragment DocRepliesUpdate on Doc {\n    comments {\n      id\n      replies {\n        id\n        docId\n        content\n        updatedTime\n        reactions {\n          ...ReactionFields\n        }\n      }\n    }\n  }\n  fragment DocCommentsRemove on Doc {\n    comments {\n      id\n      archived\n    }\n  }\n  fragment DocRepliesRemove on Doc {\n    comments {\n      id\n      replies {\n        id\n        archived\n      }\n    }\n  }\n"]);return W=function(){return e},e}function U(){let e=(0,i._)(["\n  ","\n  mutation AddReaction($reactionInput: AddReactionInput!) {\n    addReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return U=function(){return e},e}function G(){let e=(0,i._)(["\n  ","\n  mutation RemoveReaction($reactionInput: RemoveReactionInput!) {\n    removeReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return G=function(){return e},e}function K(){let e=(0,i._)(["\n  query GetMemoAnalytics($memoId: ID!) {\n    memoStats(id: $memoId) {\n      memoId\n      uniqueViewers\n      uniqueEditors\n      cardCount\n      lastOpened\n      viewers {\n        user {\n          id\n          displayName\n          email\n          profileImageUrl\n        }\n        visitorId\n        lastOpened\n        cardsViewed\n      }\n      dailyViews {\n        dayCount\n        timezone\n        everyone {\n          date\n          uniqueVisitors\n        }\n        viewers {\n          date\n          uniqueVisitors\n        }\n      }\n    }\n  }\n\n  query GetDocCardsAnalytics($docId: ID!, $userId: ID) {\n    docCardsStats(docId: $docId, userId: $userId) {\n      docId\n      uniqueVisitors\n      uniqueEditors\n      cardCount\n      everyone {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n      viewers {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n    }\n  }\n"]);return K=function(){return e},e}function Q(){let e=(0,i._)(["\n  mutation SetDocPassword($docId: ID!, $password: String!) {\n    setDocPassword(id: $docId, password: $password) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function q(){let e=(0,i._)(["\n  mutation RemoveDocPassword($docId: ID!) {\n    removeDocPassword(id: $docId) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return q=function(){return e},e}function J(){let e=(0,i._)(["\n  query GetDocPassword($docId: ID!) {\n    getDocPassword(id: $docId)\n  }\n"]);return J=function(){return e},e}function $(){let e=(0,i._)(["\n  mutation UpdateSearchEngineIndexing($fileId: ID!, $enable: Boolean!) {\n    updateSearchEngineIndexing(fileId: $fileId, enable: $enable) {\n      id\n      searchEngineIndexingEnabled\n    }\n  }\n"]);return $=function(){return e},e}function Y(){let e=(0,i._)(["\n  query GetPublicDoc($docId: ID!) {\n    publicDoc(id: $docId) {\n      id\n      logoUrl\n    }\n  }\n"]);return Y=function(){return e},e}function X(){let e=(0,i._)(["\n  query GetDocCurrentSnapshotId($id: ID!) {\n    doc(id: $id) {\n      id\n      currentSnapshotId\n    }\n  }\n"]);return X=function(){return e},e}function ee(){let e=(0,i._)(["\n  query GetDocCurrentSnapshot($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      currentSnapshot {\n        content\n        __typename\n      }\n    }\n  }\n"]);return ee=function(){return e},e}(0,a.J1)(x(),b),(0,a.J1)(C());let et=(0,a.J1)(y()),en=(0,a.J1)(v()),ei=(0,a.J1)(w(),et,en),ea=(0,a.J1)(A(),ei,et,en),er=(0,a.J1)(k()),es=(0,a.J1)(L()),el=(0,a.J1)(j()),eo=(0,a.J1)(E(),b,h);(0,a.J1)(S(),er),(0,a.J1)(M(),er),(0,a.J1)(I(),er),(0,a.J1)(_(),ea,er,el,es,eo,b,et),(0,a.J1)(D()),(0,a.J1)(R(),ea,er,el,es,b,et),(0,a.J1)(T()),(0,a.J1)(z()),(0,a.J1)(H()),(0,a.J1)(N(),b),(0,a.J1)(B()),(0,a.J1)(P(),ei,et,en),(0,a.J1)(F()),(0,a.J1)(V()),(0,a.J1)(O()),(0,a.J1)(Z(),et);let ec=(0,a.J1)(W(),ei,en);(0,a.J1)(U(),et),(0,a.J1)(G(),et),(0,a.J1)(K()),(0,a.J1)(Q()),(0,a.J1)(q()),(0,a.J1)(J()),(0,a.J1)($()),(0,a.J1)(Y()),(0,a.J1)(X()),(0,a.J1)(ee())},19297:(e,t,n)=>{"use strict";n.d(t,{DF:()=>f,NJ:()=>c,Ny:()=>m,Ob:()=>b,X6:()=>o,ds:()=>d,nX:()=>y,rP:()=>w,xK:()=>v});var i=n(37243),a=n(15607),r=n(33201);let s=["card","document","gridLayout","gallery"],l=e=>e.isBlock&&!s.includes(e.type.name)&&!(e.isTextblock&&(0,a.Op)(e)),o=e=>"gridLayout"===e.type.name,c=e=>"gridCell"===e.type.name,d=(e,t,n)=>{let i=n&&u(e,n,t);if(i)return i;if(n&&!m(n,e.state.schema))return null;let a=p(e,t,"right")||p(e,t,"left");return!a||n&&n.content.firstChild===a.node?null:a},u=(e,t,n)=>{var r;if(!x(t,e.state.schema))return null;let s=null==(r=e.posAtCoords({left:n.clientX,top:n.clientY}))?void 0:r.inside;if(!s||-1==s)return null;let{doc:l}=e.state,o=l.resolve(s),d=l.nodeAt(s),u=d&&c(d)?{node:d,pos:s}:(0,i.eL)(o,c),p=(null==u?void 0:u.pos)&&(0,a.q0)(u.pos,e);if(!u||!p)return null;let h=n.clientX>p.left+p.width/2?"right":"left";return{pos:u.pos,node:u.node,rect:p,side:h}},p=(e,t,n)=>{var r;let s=null==(r=e.posAtCoords({left:t.clientX+("left"==n?30:-30),top:t.clientY}))?void 0:r.inside;if(!s||-1==s)return null;let{doc:o,schema:c}=e.state,d=o.resolve(s),u=o.nodeAt(s),p=u&&l(u)?{node:u,pos:s}:(0,i.eL)(d,l);if(!p)return null;let m=(0,a.q0)(s,e);if(!m)return null;let x="left"==n?t.clientX-m.left:m.right-t.clientX,f=x<0,b=30*((null==u?void 0:u.type.name)!=="gridCell");if(!(f&&x>-b||"right"==n&&x<(m.right-m.left)*.15))return null;let C=o.resolve(p.pos),y=(null==u?void 0:u.type.name)==="gridCell"&&h(C,c)||g(C,c);if(f||!y){let t=(0,i.eL)(d,e=>"gridCell"===e.type.name);if(t&&h(o.resolve(t.pos),c)){let i=(0,a.q0)(t.pos,e);return i?{pos:t.pos,node:t.node,side:n,rect:i}:null}}return y?{pos:p.pos,rect:m,node:p.node,side:n}:null},h=(e,t)=>e.parent.canReplaceWith(e.index(),e.index(),t.nodes.gridCell),g=(e,t)=>e.parent.canReplaceWith(e.index(),e.indexAfter(),t.nodes.gridLayout),m=(e,t)=>t.nodes.gridCell.validContent(e.content),x=(e,t)=>t.nodes.gridLayout.validContent(e.content),f=e=>C(e,"gridLayout"),b=e=>{let t=C(e,"gridLayout");if(!t||!t.nodeAfter)throw Error();let n=t.nodeAfter,i=[],a=t.start(t.depth+1);for(let e=0;e<n.childCount;e++){let t=n.child(e);a+=0===e?0:n.child(e-1).nodeSize,i.push({node:t,pos:a})}return i},C=(e,t)=>{var n;if((null==(n=e.nodeAfter)?void 0:n.type.name)===t)return e;let i=e.doc;for(let n=e.depth;n>0;n--)if(e.node(n).type.name===t)return i.resolve(e.before(n));return null},y=(e,t)=>{let n=b(e),i=n[-1===t?n.length-1:t];return i?e.doc.resolve(i.pos):null},v=e=>b(e).findIndex(t=>t.pos===e.pos),w=(e,t,n)=>{var a,s;let l=null==(a=(0,r.j5)(n,e).find(e=>e.spec.isLayoutCellDecoration))?void 0:a.spec.colIndex,c=null==(s=(0,r.j5)(n,t).find(e=>e.spec.isLayoutCellDecoration))?void 0:s.spec.colIndex,d=n.state.doc.resolve(e),u=(0,i.eL)(d,o);if(!u)return;let p=n.state.doc.resolve(t),h=(0,i.eL)(p,o);if(!h||h.pos!==u.pos)return;let g=[...u.node.attrs.colWidths],[m]=g.splice(l,1);return g.splice(c,0,m),{colWidths:g,parentPos:u.pos}}},19323:(e,t,n)=>{"use strict";n.d(t,{x:()=>m,q:()=>x});var i=n(66082),a=n(98610),r=n(97933),s=n(6029),l=n(99492),o=n(19564),c=n(77650),d=n(74471);let u={key:"hasLine",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,s.jsx)(d.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:l.CCK})},ControlMenu:(e,t,n)=>({key:n.key,label:e?(0,s.jsx)(o.x6,{id:"IELtbA"}):(0,s.jsx)(o.x6,{id:"81xMlD"}),icon:l.CCK,onClick:()=>t(!e)}),name:()=>c.Ru._({id:"aPb1AT"})};var p=n(69913);let h={key:"twoSided",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,s.jsx)(d.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:l.v6v,testId:"smart-layout-two-sided-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:e?c.Ru._({id:"x+f1ZW"}):c.Ru._({id:"o18EC+"}),icon:l.v6v,onClick:()=>t(!e)}),name:()=>c.Ru._({id:"ovs7iP"})};var g=n(79317);let m=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],presetConfigurations:s=[],...l}=e;return{baseHorizontalAlign:(0,i.Ro)("center"),imageSlot:"optional",imageType:"icon",options:(0,g.l)([{...p.i,defaultValue:()=>"vertical"},h,u,a.h],t),cellOptions:(0,g.l)([a.h,r.Y],n),presetConfigurations:s.length>0?s:[{name:()=>"Horizontal (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"horizontal"}},{name:()=>"Horizontal (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"vertical"}},{name:()=>"Vertical (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],addDirection:e=>"horizontal"===e.orientation?"right":"bottom",isFullWidth:e=>"horizontal"===e.orientation,...l}},x=e=>{let{additionalOptions:t=[],presetConfigurations:n=[],...i}=e;return m({...i,additionalOptions:[{...h,defaultValue:()=>!0},...t],presetConfigurations:n.length>0?n:[{name:()=>"Horizontal",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],defaultOptions:{twoSided:!0,numbered:!1,...i.defaultOptions}})}},19546:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var i=n(69768),a=n(15607),r=n(53957);let s=(e,t,n)=>{if(!n)return;let s=(0,a.MY)(e,100);s&&(0,i.g5)({data:{fromPos:s.pos,fromPct:s.pct},emitChange:!1}),(0,r.o)({cardId:n,method:"push",data:{fromPos:null,fromPct:null}})}},19842:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>h,bI:()=>u,eW:()=>p});var i=n(6029),a=n(61204),r=n(16936),s=n(26420),l=n(40452),o=n(33170),c=n(98071),d=n(18232);let u=["blank","top","left","right","behind"],p=e=>{let{layout:t,editor:n,getPos:s,edgeLayoutsEnabled:l}=e,p=(0,d._)(n,s()),g=u.filter(e=>l||["blank","behind"].includes(e));return(0,i.jsx)(a.e,{mb:2,dir:"ltr",children:g.map(e=>{let n=(0,c.Nu)(e);return(0,i.jsx)(o.Tz,{label:n,placement:"top",children:(0,i.jsx)(r.K,{"aria-label":n,flex:1,variant:"plain",size:"md",onClick:()=>p(e),icon:(0,i.jsx)(h,{layout:e,isSelected:t===e}),boxShadow:"none",background:t===e?"trueblue.50":"white"})},e)})})},h=e=>{let{layout:t,isSelected:n}=e,a=n?"trueblue.400":"gray.300",r=null;return"top"===t?r=(0,i.jsx)(s.a,{height:"0.375rem",width:"100%",background:a}):"left"===t?r=(0,i.jsxs)(l.s,{height:"100%",minH:"100%",children:[(0,i.jsx)(s.a,{width:"0.625rem",minH:"100%",background:a}),(0,i.jsx)(s.a,{flex:"1",minH:"100%"})]}):"right"===t&&(r=(0,i.jsxs)(l.s,{height:"100%",minH:"100%",children:[(0,i.jsx)(s.a,{flex:"1",minH:"100%"}),(0,i.jsx)(s.a,{width:"0.625rem",minH:"100%",background:a})]})),(0,i.jsx)(s.a,{boxSizing:"border-box",height:"1.25rem",width:"1.75rem",border:"2px solid",borderRadius:"sm",borderColor:a,background:"behind"===t?a:"none",children:r})}},19855:(e,t,n)=>{"use strict";n.d(t,{E:()=>m});var i=n(6029),a=n(40452),r=n(85399),s=n(79649),l=n(55729),o=n(66082),c=n(26420);let d=e=>{let{children:t}=e;return(0,i.jsx)(c.a,{h:"100%",w:"100%",display:"flex",flexDirection:"column",css:{"--media-maxH":"100%","--media-maxW":"100%","[data-node-view-content]":{display:"contents",'[data-node-view-content-inner="smartLayoutCell"]':{display:"contents",".block-image, .block-smartDiagram":{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}}}},children:t})};var u=n(98902),p=n(9097);let h=(e,t,n,i)=>{let a={};if(e){if(i&&"cascade"===e.horizontal){let e=t%n+1;a.paddingTop="".concat((n-e)*1.5,"em"),a.paddingBottom=0}else i||"oscillating"!==e.vertical||(a.paddingInlineStart="".concat(function(e){let t=e%6;return t<=3?1.5*t:4.5-(t-3)*1.5}(t),"em"));i&&"function"==typeof e.horizontal?a.paddingTop=e.horizontal(t,n):i||"function"!=typeof e.vertical||(a.paddingInlineStart=e.vertical(t))}return a};var g=n(95740);let m=(0,l.memo)(e=>{let{cellProps:t,children:n,forceBalanceOverride:l,cellStyle:c="none",cellContentPropOverrides:m,markerConfig:x,innerLabelConfig:f,cellDecorConfig:b,gridStyle:C="standard",dragHandle:y}=e,{layoutOptions:v,cellOptions:w,index:A,selectCellForElementProps:k,numCells:L,layoutContainerSize:j,direction:E,theme:S}=t,M=l||(0,p.mr)({gridStyle:C}),I=(0,p.sW)({gridStyle:C}),_=(0,p.Ck)({gridStyle:C}),{colorVars:D}=(0,r.r)({layoutColorOverride:v.color,cellColorOverride:null==w?void 0:w.color,index:A,forceTransparent:!0}),R=(null==m?void 0:m.alignItems)?void 0:{...(0,o.yp)(v.horizontalAlign,E),...(0,o.AS)(v.horizontalAlign,E)},{isHorizontal:T,columns:z}=(0,s.i)({cellSize:v.cellSize||0,horizontalAlign:v.horizontalAlign||"center",orientation:v.orientation||"horizontal",numCells:L,containerSize:j,forceBalance:M}),H=(0,u.x)({index:A,numCells:L,columns:z,unevenBehavior:I,gridStyle:C,isHorizontal:T}),N=_?h(_,A,z,T):void 0,B={gridColumn:H.columnStart?"".concat(H.columnStart," / span ").concat(H.columnSpan):"span ".concat(H.columnSpan),...N};H.rowStart?B.gridRow=H.rowSpan?"".concat(H.rowStart," / span ").concat(H.rowSpan):"".concat(H.rowStart):H.rowSpan&&(B.gridRow="span ".concat(H.rowSpan));let P=null==w?void 0:w.fullBleedContent;return(0,i.jsx)(a.s,{"data-content-reference":!0,sx:B,h:"100%",children:P?(0,i.jsxs)(d,{children:[n,y]}):(0,i.jsxs)(g.k,{cellContentPropOverrides:m,colorVars:D,alignStyles:R,cellStyle:c,cellProps:t,theme:S,markerConfig:x,innerLabelConfig:f,cursor:k.cursor||"text",onClick:k.onClick,cellDecorConfig:b,children:[n,y]})})});m.displayName="GridItem"},20145:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});var i=n(27002);let a=(e,t)=>{let n=i.of.get("buddyEditFreePeriod");return"buddy-chat"===e?"free"===t.plan||!n:"generate-image"===e&&"free"===t.plan}},20196:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});let i={minWidth:1800,maxWidth:5e3,count:10}},20591:(e,t,n)=>{"use strict";n.d(t,{a:()=>F,c:()=>P});var i=n(6029),a=n(24302),r=n(96414),s=n(41960),l=n(54920),o=n(29768),c=n(92130),d=n(26476),u=n(94740),p=n(59272),h=n(26420),g=n(18078),m=n(38676),x=n(58959),f=n(23293),b=n(96430),C=n(25311),y=n(49146),v=n(23908),w=n(36693),A=n(20061),k=n(3448),L=n(99492),j=n(48621),E=n(33170),S=n(19564),M=n(87827),I=n(48810),_=n(55597),D=n(77650);n(55729);let R=e=>{let{prefix:t="",support:n="",suffix:a=""}=e;return(0,i.jsxs)(I.E,{children:[t,(0,i.jsx)(I.E,{color:"gray.400",as:"span",children:n}),a]})},T=()=>[{description:(0,i.jsx)(S.x6,{id:"8aebws"}),shortcut:"/"},{description:(0,i.jsx)(S.x6,{id:"JZEY8K"}),shortcut:"Mod+Shift+O"},{description:(0,i.jsx)(S.x6,{id:"3Lpas4"}),shortcut:"***"},{description:(0,i.jsx)(S.x6,{id:"e+t/xM"}),shortcut:"Mod+P"},{description:(0,i.jsx)(S.x6,{id:"MF+p5R"}),shortcut:"Mod+Enter"},{description:(0,i.jsx)(S.x6,{id:"NiZZRh"}),shortcut:"Mod+K"},{description:(0,i.jsx)(S.x6,{id:"4J90L0"}),shortcut:(0,i.jsx)(R,{prefix:"@",support:"name"})},{description:(0,i.jsx)(S.x6,{id:"1fOM5v"}),shortcut:(0,i.jsx)(R,{prefix:"@",support:"cardTitle"})}],z=()=>[{description:(0,i.jsx)(S.x6,{id:"bSLwU6"}),shortcut:"!!!"},{description:(0,i.jsx)(S.x6,{id:"Xm/s+u"}),shortcut:"!!"},{description:(0,i.jsx)(S.x6,{id:"MHrjPM"}),shortcut:"!"},{description:(0,i.jsx)(S.x6,{id:"lXKZGw"}),shortcut:["#","Mod+Alt+1"]},{description:(0,i.jsx)(S.x6,{id:"El7NbA"}),shortcut:["##","Mod+Alt+2"]},{description:(0,i.jsx)(S.x6,{id:"SFN6dN"}),shortcut:["###","Mod+Alt+3"]},{description:(0,i.jsx)(S.x6,{id:"nJeKmw"}),shortcut:["####","Mod+Alt+4"]},{description:(0,i.jsx)(S.x6,{id:"yzF66j"}),shortcut:"Mod+K"},{description:(0,i.jsx)(S.x6,{id:"QpoxX6",components:{0:(0,i.jsx)("span",{role:"img","aria-label":D.Ru._({id:"ssT83y"})})}}),shortcut:(0,i.jsx)(R,{prefix:":",support:"heart_eyes",suffix:":"})},{description:(0,i.jsx)(S.x6,{id:"KmydK6"}),shortcut:[(0,i.jsx)(R,{prefix:"*",support:"bold",suffix:"*"},"0"),"Mod+B"]},{description:(0,i.jsx)(S.x6,{id:"pzutoc"}),shortcut:[(0,i.jsx)(R,{prefix:"_",support:"italic",suffix:"_"},"0"),"Mod+I"]},{description:(0,i.jsx)(S.x6,{id:"YyXtnN"}),shortcut:"Mod+U"},{description:(0,i.jsx)(S.x6,{id:"WhOsNE"}),shortcut:"Mod+Shift+X"},{description:(0,i.jsx)(S.x6,{id:"VjjKVj"}),shortcut:"Mod+Shift+L"},{description:(0,i.jsx)(S.x6,{id:"95ckMP"}),shortcut:"Mod+Shift+E"},{description:(0,i.jsx)(S.x6,{id:"vTKw81"}),shortcut:"Mod+Shift+R"},{description:(0,i.jsx)(S.x6,{id:"Gc5apx"}),shortcut:[(0,i.jsx)(R,{prefix:"`",support:"code",suffix:"`"},"0"),"Mod+Shift+C"]},{description:(0,i.jsx)(S.x6,{id:"sFkOYO"}),shortcut:[(0,i.jsx)(R,{prefix:"$",support:"x^2",suffix:"$ "},"0"),"$$ "]},{description:(0,i.jsx)(S.x6,{id:"eKJQi9"}),shortcut:"Mod+Shift+H"},{description:(0,i.jsx)(S.x6,{id:"M3G9ZD"}),shortcut:["1. ","Mod+/","Mod+Shift+7"]},{description:(0,i.jsx)(S.x6,{id:"ynb7Kh"}),shortcut:["- ","Mod+.","Mod+Shift+8"]},{description:(0,i.jsx)(S.x6,{id:"rCIbrq"}),shortcut:["[] ","Mod+,","Mod+Shift+9"]},{description:(0,i.jsx)(S.x6,{id:"dOxPd4"}),shortcut:[(0,i.jsx)(R,{prefix:"^",support:"note",suffix:"^"},"0"),"Mod+Alt+F"]}],H=()=>[{description:(0,i.jsx)(S.x6,{id:"9xCxY6"}),shortcut:["←","→"]},{description:(0,i.jsx)(S.x6,{id:"6r2KAP"}),shortcut:["↑","↓"]},{description:(0,i.jsx)(S.x6,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,i.jsx)(S.x6,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,i.jsx)(S.x6,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,i.jsx)(S.x6,{id:"CgmvBu"}),shortcut:"S"},{description:(0,i.jsx)(S.x6,{id:"K0Oq/D"}),shortcut:"R"},{description:(0,i.jsx)(S.x6,{id:"q8Gtmt",components:{0:(0,i.jsx)("br",{})}}),shortcut:(0,i.jsx)(j.g,{icon:_.svs})}],N={borderColor:"gray.50",py:2,px:2},B={borderColor:"gray.600",py:2,px:2},P=e=>{let{list:t}=e,n=(0,a.dU)(N,B),u={bg:(0,a.dU)("gray.50","gray.700"),borderColor:(0,a.dU)("gray.200","gray.600"),color:(0,a.dU)("gray.700","white")};return(0,i.jsx)(r.K,{w:"100%",children:(0,i.jsx)(s.X,{variant:"simple",children:(0,i.jsx)(l.N,{children:t.map((e,t)=>{let{shortcut:a,description:r}=e;return(0,i.jsxs)(o.Tr,{children:[(0,i.jsx)(c.Td,{w:"60%",...n,children:r}),(0,i.jsx)(c.Td,{w:"40%",...n,children:Array.isArray(a)?a.map((e,t)=>(0,i.jsx)(d.u,{display:"inline-block",px:2,py:1,me:1,children:"string"==typeof e?(0,E.lp)(e):e},t)):"string"==typeof a?(0,i.jsx)(d.u,{...u,display:"inline-block",px:2,py:1,children:(0,E.lp)(a)}):(0,i.jsx)(d.u,{...u,display:"inline-block",px:2,py:1,children:a})})]},t)})})})})},F=e=>{let{isOpen:t,onClose:n}=e,r=(0,M.n)(z),s=(0,M.n)(H),l=(0,M.n)(T),o=(0,a.dU)("gray.700","white"),c=(0,a.dU)("gray.50","gray.600");return(0,i.jsxs)(u.A,{returnFocusOnClose:!1,closeOnBlur:!1,placement:"top",isOpen:t,onClose:n,modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}}],children:[(0,i.jsx)(p.d,{children:(0,i.jsx)(h.a,{position:"fixed",bottom:0,insetEnd:0})}),(0,i.jsxs)(g.h,{zIndex:"menu",h:"80vh",w:"400px",flex:1,position:"relative",color:o,borderColor:c,children:[(0,i.jsxs)(m.D,{border:"0 none",mb:2,position:"sticky",children:[(0,i.jsxs)(x.z,{spacing:2,children:[(0,i.jsx)(j.g,{icon:L.Lhe}),(0,i.jsx)(f.D,{size:"sm",children:(0,i.jsx)(S.x6,{id:"CTqTgr"})})]}),(0,i.jsx)(b.q,{})]}),(0,i.jsx)(C.e,{overflowY:"auto",children:(0,i.jsxs)(y.t,{variant:"soft-rounded",size:"sm",isFitted:!0,children:[(0,i.jsxs)(v.w,{mb:6,children:[(0,i.jsxs)(w.o,{children:[(0,i.jsx)(h.a,{me:2,children:(0,i.jsx)(j.g,{icon:L.zLW})}),(0,i.jsx)(S.x6,{id:"vVRhxh"})]}),(0,i.jsxs)(w.o,{children:[(0,i.jsx)(h.a,{me:2,children:(0,i.jsx)(j.g,{icon:L.qon})}),(0,i.jsx)(S.x6,{id:"UodEcE"})]})]}),(0,i.jsxs)(A.T,{children:[(0,i.jsxs)(k.K,{p:0,pb:1,mt:4,fontSize:"sm",children:[(0,i.jsx)(P,{list:l}),(0,i.jsx)(E._x,{pt:4,pb:4,children:(0,i.jsx)(S.x6,{id:"Bb47jg"})}),(0,i.jsx)(P,{list:r})]}),(0,i.jsx)(k.K,{p:0,pb:1,mt:4,fontSize:"sm",children:(0,i.jsx)(P,{list:s})})]})]})})]})]})}},20775:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,j:()=>a});let i="square";function a(e){return r.includes(e)}let r=["Public","Share","ShareCommercially","All"]},20887:(e,t,n)=>{"use strict";n.d(t,{a:()=>b,B:()=>J});var i=n(6029),a=n(26420),r=n(33787),s=n(74676),l=n(48810),o=n(48621),c=n(33170),d=n(77650),u=n(55729),p=n(82328),h=n(90184),g=n(87827),m=n(95889),x=n(76083),f=n(59712);let b=(0,u.forwardRef)((e,t)=>{let{query:n,editor:l}=e,{isInOfflineMode:d}=(0,p.u)(),b=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(l,e,void 0,d))return!1;let{name:t,keywords:i=[]}=e;return t().toLowerCase().includes(n.toLowerCase())||i.find(e=>e.startsWith(n.toLowerCase()))}),C=(0,u.useCallback)(e=>{if(!b[e])return;let{execute:t}=b[e],i=l.state.selection;l.chain().deleteRange({from:i.from-n.length-1,to:i.to}).run(),(0,x.Jb)(b[e],m.oU.SLASH_MENU),t(l)},[l,b,n.length]),{selectedIndex:v,selectedItemEl:w}=(0,f.Rj)({ref:t,selectItem:C,options:b});return b.length>0?(0,i.jsx)(a.a,{"data-slash-menu-dropdown":!0,children:(0,i.jsx)(c.qF,{children:(0,i.jsx)(c.QE,{width:"375px",children:b.map((e,t)=>{let{name:n,icon:a,iconStyle:l,image:d,shortcut:u,creditType:p,badge:g,nodeName:m}=e;return(0,i.jsxs)(c.nh,{ref:t===v?w:null,icon:d?(0,i.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:d.src}):a?(0,i.jsx)(o.g,{icon:a,rotation:null==l?void 0:l.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,i.jsx)(i.Fragment,{}),tabIndex:t===v?0:-1,onClick:()=>C(t),command:u,children:[n(),m&&(0,i.jsx)(y,{nodeName:m}),p&&(0,i.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,i.jsx)(s.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})}):(0,i.jsx)(i.Fragment,{})}),C={smartLayout:()=>d.Ru._({id:"Biyg+u"}),smartDiagram:()=>d.Ru._({id:"PgKDOY"}),diagram:()=>d.Ru._({id:"i+ShMB"})},y=e=>{let{nodeName:t}=e,n=C[t];return n?(0,i.jsx)(l.E,{mt:-1,color:"gray.500",fontSize:"xs",children:n()}):null};var v=n(58959),w=n(26476),A=n(61204),k=n(49611),L=n(94740),j=n(66199),E=n(12514),S=n(18078),M=n(51684),I=n(19564),_=n(37243),D=n(66380),R=n(40061),T=n(25778),z=n(33201),H=n(58082),N=n(47665);let B=(e,t)=>{let n,i,{state:a}=e;if(!a)return;let r=[];try{(n=(0,_.eL)(null==e?void 0:e.state.doc.resolve(a.selection.from),N.jg))&&(r=(0,z.j5)(e,n.pos),i=(0,H.x)(r,t).isCardDark)}catch(e){console.error(e)}return i};var P=n(43634),F=n(80180),V=n(91655),O=n(72470),Z=n(77979),W=n(38036),U=n(99492);let G=(e,t)=>{let[n,i]=(0,u.useState)(null),[a,r]=(0,u.useState)(!0),s=(0,u.useRef)(null),l=(0,u.useRef)(null),o=(0,u.useRef)("keyboard"),c=(0,u.useRef)(!1),d=(0,u.useRef)(null);(0,u.useEffect)(()=>{"keyboard"===o.current&&null!==n&&l.current&&!a&&(c.current=!0,setTimeout(()=>{if(l.current&&d.current){let e=d.current.getBoundingClientRect(),t=l.current.getBoundingClientRect();(t.bottom>e.bottom||t.top<e.top)&&l.current.scrollIntoView({behavior:"auto",block:"nearest"}),l.current.focus()}setTimeout(()=>{c.current=!1},100)},0))},[n,a]);let p=(0,u.useCallback)(e=>{c.current||(o.current="mouse",i(e),r(!1))},[]),h=(0,u.useCallback)(()=>{i(0)},[]),g=(0,u.useCallback)(n=>{if(o.current="keyboard","Escape"===n.key)return n.currentTarget.value?(n.preventDefault(),n.stopPropagation(),{action:"clearSearch"}):void 0;if("ArrowDown"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&(r(!1),i(0));return}if("Enter"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&t(0);return}if("Tab"===n.key){e.length>0&&(n.preventDefault(),n.stopPropagation(),r(!1),i(0));return}n.stopPropagation()},[e.length,t]),m=(0,u.useCallback)((n,a)=>{switch(o.current="keyboard",n.key){case"ArrowUp":n.preventDefault(),n.stopPropagation(),0===a?(r(!0),i(null),s.current&&s.current.focus()):i(a-1);break;case"ArrowDown":n.preventDefault(),n.stopPropagation(),a<e.length-1?i(a+1):i(0);break;case"Enter":case"Tab":n.preventDefault(),n.stopPropagation(),t(a);break;case"Escape":break;default:1===n.key.length&&(r(!0),i(null),s.current&&s.current.focus())}},[e.length,t]);return{focusedIndex:n,focusedItemEl:l,searchInputRef:s,handleSearchKeyDown:g,handleSearchFocus:(0,u.useCallback)(()=>{r(!0)},[]),handleSearchChange:h,handleItemKeyDown:m,handleMouseMove:p,listBoxRef:d}},K=e=>{let{editor:t,isCardDark:n}=e,[l,f]=(0,u.useState)(""),{isInOfflineMode:b}=(0,p.u)(),C=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(t,e,void 0,b))return!1;let{name:n,keywords:i=[]}=e;return!l||n().toLowerCase().includes(l.toLowerCase())||i.find(e=>e.toLowerCase().includes(l.toLowerCase()))}),y=(0,u.useCallback)(e=>{if(!C[e])return;let{execute:n}=C[e],i=t.state.selection;t.chain().deleteRange({from:i.from,to:i.to}).run(),(0,x.Jb)(C[e],m.oU.SLASH_MENU_BLOCK_PROMPT),n(t)},[t,C]),{focusedIndex:v,focusedItemEl:w,searchInputRef:A,handleSearchKeyDown:k,handleSearchFocus:L,handleSearchChange:j,handleItemKeyDown:E,handleMouseMove:S,listBoxRef:M}=G(C,y);(0,u.useEffect)(()=>{A.current&&setTimeout(()=>{var e;null==(e=A.current)||e.focus()},50)},[]);let _=0===C.length;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.a,{p:2,borderBottom:"1px solid",borderColor:n?"titanium.700":"titanium.100",children:(0,i.jsxs)(O.M,{size:"sm",children:[(0,i.jsx)(Z.W,{pointerEvents:"none",children:(0,i.jsx)(o.g,{icon:U.MjD})}),(0,i.jsx)(W.p,{ref:A,placeholder:d.Ru._({id:"Mm1grj"}),value:l,onChange:e=>{f(e.target.value),j()},onClick:F.dG,onMouseDown:F.dG,onKeyDown:e=>{let t=k(e);(null==t?void 0:t.action)==="clearSearch"&&f("")},onFocus:L,borderRadius:"md","data-slash-menu-search-input":!0})]})}),_?(0,i.jsx)(a.a,{p:3,color:n?"titanium.300":"deepocean.950",children:(0,i.jsx)(I.x6,{id:"rj6/sx",values:{searchTerm:l}})}):(0,i.jsx)(a.a,{maxH:"50vh",overflowY:"auto",ref:M,children:(0,i.jsx)(c.qF,{children:(0,i.jsx)(c.QE,{border:"none",borderRadius:"none",children:C.map((e,t)=>{let{name:n,icon:a,iconStyle:l,image:d,shortcut:u,creditType:p,badge:g}=e;return(0,i.jsxs)(c.nh,{ref:t===v?e=>{w.current=e}:null,icon:d?(0,i.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:d.src}):a?(0,i.jsx)(o.g,{icon:a,rotation:null==l?void 0:l.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,i.jsx)(i.Fragment,{}),tabIndex:t===v?0:-1,onClick:()=>y(t),onMouseMove:()=>S(t),onMouseDown:F.dG,onKeyDown:e=>E(e,t),command:u,children:[n(),p&&(0,i.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,i.jsx)(s.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})})]})},Q=e=>{switch(e){case"aiGenerated":default:return R.L;case"web":return"image.web";case"pictographic":return"image.pictographic";case"giphy":return"image.giphy";case"unsplash":return"image.unsplash"}},q=e=>(0,V.Vo)()[e],J=e=>{var t;let{editor:n,dir:a,slashMenuOpen:r,setSlashMenuOpen:s}=e,d=(0,D.V)(),u=(0,T.GV)(P.SJ),{selection:p}=n.state;if(!p.empty)return null;let h=(0,_.eL)(n.state.doc.resolve(p.from),e=>"table"===e.type.name),g=null!=(t=B(n,u))&&t;return(0,i.jsx)(c.L8,{isDark:g,children:(0,i.jsx)(v.z,{spacing:2,dir:a,color:"gray.400","data-print-hidden":!0,position:"absolute",inset:"0",contentEditable:!1,overflow:"hidden",fontFamily:"body",fontSize:"0.8em",onMouseDown:F.Fw,pointerEvents:"none",userSelect:"none","data-guider-highlight":"slash-menu-prompt",className:"slash-menu-prompt",children:(0,i.jsxs)(v.z,{spacing:2,width:"100%",children:[(0,i.jsx)(l.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-long",children:(0,i.jsx)(I.x6,{id:"ll36Dw",components:{0:(0,i.jsx)(w.u,{})}})}),(0,i.jsx)(l.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-short",children:(0,i.jsx)(I.x6,{id:"RcqUBT",components:{0:(0,i.jsx)(w.u,{})}})}),(0,i.jsxs)(A.e,{variant:"plain",size:"xs",spacing:"0.5em",pointerEvents:"auto",verticalAlign:"middle",children:[(0,i.jsx)(c.Tz,{label:(0,i.jsx)(I.x6,{id:"7PxiS5"}),placement:"top",shouldWrapChildren:!0,shortcut:"/image",children:(0,i.jsx)(k.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",fontSize:"0.8em",paddingInlineStart:"1em",paddingInlineEnd:"1em",minWidth:"2em",height:"2em",onClick:()=>{let e=q(Q(d.imageProvider));e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,i.jsxs)(v.z,{spacing:"0.5em",children:[(0,i.jsx)(o.g,{icon:M.Cyq}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(I.x6,{id:"P5MuiB"})})]})})}),!h&&(0,i.jsx)(c.Tz,{label:(0,i.jsx)(I.x6,{id:"hLgX3L"}),placement:"top",shouldWrapChildren:!0,shortcut:"/table",children:(0,i.jsx)(k.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",fontSize:"0.8em",paddingInlineStart:"1em",paddingInlineEnd:"1em",minWidth:"2em",height:"2em",onClick:()=>{let e=q("table2");e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,i.jsxs)(v.z,{spacing:"0.5em",children:[(0,i.jsx)(o.g,{icon:M.w97}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(I.x6,{id:"ttzhtD"})})]})})}),(0,i.jsxs)(L.A,{isOpen:r,onClose:()=>{s(!1),n.chain().focus().run()},onOpen:()=>s(!0),isLazy:!0,children:[(0,i.jsx)(c.Tz,{label:(0,i.jsx)(I.x6,{id:"NZGeUO"}),shortcut:"Type '/'",placement:"top",shouldWrapChildren:!0,children:(0,i.jsx)(j.W,{children:(0,i.jsx)(k.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",fontSize:"0.8em",paddingInlineStart:"1em",paddingInlineEnd:"1em",minWidth:"2em",height:"2em",children:(0,i.jsxs)(v.z,{spacing:"0.5em",children:[(0,i.jsx)(o.g,{icon:M.sUV}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(I.x6,{id:"PtsfKC"})})]})})})}),(0,i.jsx)(E.Z,{children:(0,i.jsx)(S.h,{borderRadius:"lg",boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.15)",children:(0,i.jsx)(K,{isCardDark:g,editor:n})})})]})]})]})})})}},21290:(e,t,n)=>{"use strict";n.d(t,{C9:()=>i,PX:()=>a,bc:()=>r});let i="10vh",a="20vh",r="80vh"},21699:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>r,Qj:()=>a});var i=n(63867);let a=e=>{let t=e.state.selection;return t instanceof i.U3&&!t.empty},r=e=>e.some(e=>e.spec.isFocusedInside)},21905:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>w,Bq:()=>v});var i=n(82318),a=n(73326),r=n(36811),s=n(46957),l=n(6029),o=n(21938),c=n(77650),d=n(68247),u=n(54765),p=n(87140),h=n(66082),g=n(25778),m=n(43634),x=n(13932),f=n(22685);let b=e=>{let{editor:t,getPos:n,node:i,decorations:r}=e,{level:s,position:c,size:p}=i.attrs,h=(0,g.GV)(m.nD);return(0,l.jsx)(u.u,{...e,children:h?(0,l.jsx)(x.M,{editor:t,getPos:n,node:i,decorations:r,position:c,size:p,children:(0,l.jsx)(a.$p,{level:s,className:(0,o.cx)("heading","positioned-heading",d.U6)})}):(0,l.jsx)(f.L,{position:c,size:p,node:i,children:(0,l.jsx)(a.$p,{level:s,className:(0,o.cx)("heading","positioned-heading",d.U6)})})})},C=e=>{let{node:t,decorations:n}=e,{level:i,horizontalAlign:r,placeholder:s,position:g}=t.attrs;if(g)return(0,l.jsx)(b,{...e});let m=(0,p.h)(n),x=s||(m?c.Ru._({id:"gLDJuJ"}):c.Ru._({id:"1nLERW",values:{level:i}}));return(0,l.jsx)(u.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(r)},children:(0,l.jsx)(a.$p,{dir:(0,h.fZ)(n),level:i,"data-placeholder":x,className:(0,o.cx)("heading",d.U6),style:{minWidth:"min(100%, 10em)",...(0,h.O8)(r)}})})},y=[1,2,3,4],v=Math.max(...y),w=i.D.extend({selectable:!1,group:"block cardNotesBlock",addAttributes:()=>({level:{default:1,rendered:!1}}),addNodeView:()=>(0,a.gu)(C,{update:s.z0}),addInputRules(){return this.options.levels.map(e=>(0,r.tC)({find:new RegExp("^(#{1,".concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}},[this.editor.state.schema.nodes.bullet,this.editor.state.schema.nodes.numbered,this.editor.state.schema.nodes.todo]))}}).configure({levels:y})},22216:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>F,Pf:()=>V,Td:()=>P,v9:()=>O});var i=n(6029),a=n(4192),r=n(3276),s=n(48810),l=n(40452),o=n(57405),c=n(26420),d=n(58959),u=n(32705),p=n(51684),h=n(99492),g=n(48621),m=n(19564),x=n(55729),f=n(25778),b=n(91792),C=n(9329),y=n(53996),v=n(83004);function w(){let e=(0,C._)(["\n      from {transform: rotate(-5deg) scale(1)}\n        to {transform: rotate(5deg) scale(1.2)}\n  "]);return w=function(){return e},e}let A=e=>{let{provider:t,color:n="gray"}=e,a=(0,v.i7)(w()),l="aiGenerated"===t?h._$C:h.$UM;return(0,i.jsxs)(y.o,{className:"image-loading-spinner",children:[(0,i.jsx)(r.y,{color:"".concat(n,".300"),thickness:"3px",size:"xl",position:"absolute",speed:"0.7s",emptyColor:"transparent"}),(0,i.jsx)(s.E,{color:"".concat(n,".400"),position:"absolute",lineHeight:"2",fontSize:"lg",animation:"".concat(a," infinite alternate 700ms ease-out"),children:(0,i.jsx)(g.g,{icon:l,fixedWidth:!0})})]})};var k=n(43634),L=n(41633),j=n(61651);let E=["image.custom","image.web","image.ai-generated","accent.theme"],S=e=>E.includes(e);var M=n(16936),I=n(55597),_=n(33170),D=n(77650),R=n(87996),T=n(89703),z=n(80180),H=n(62695);let N=e=>{let{onSelectImage:t,isAccentImageDrawer:n=!1,openEditBackgroundDrawer:a,...r}=e,{setMediaDrawerSourceKeyAction:s,setBackgroundDrawerSourceKeyAction:o}=(0,H.B)(),d=[{id:"image.custom",label:(0,i.jsx)(m.x6,{id:"6MxxvO"}),ariaLabel:D.Ru._({id:"6MxxvO"}),icon:I.MNJ,onClick:()=>{null==t||t(),s(R.mx.key,!0),setTimeout(()=>(0,T.G)(!1),0)}},{id:"image.web",label:(0,i.jsx)(m.x6,{id:"Of4gkp"}),ariaLabel:D.Ru._({id:"Of4gkp"}),icon:I.$UM,onClick:()=>{null==t||t(),s(R.Rn.key,!0),setTimeout(()=>(0,T.G)(!1),0)}},{id:"image.ai-generated",label:(0,i.jsx)(m.x6,{id:"UQ4o1/"}),ariaLabel:D.Ru._({id:"UQ4o1/"}),icon:I._$C,onClick:()=>{null==t||t(),s(R.Up.key,!0),setTimeout(()=>(0,T.G)(!1),0)}}],u=[{id:"image.custom",label:(0,i.jsx)(m.x6,{id:"pDdFxL"}),ariaLabel:D.Ru._({id:"6MxxvO"}),icon:I.MNJ,onClick:()=>{null==t||t(),o(R.mx.key),setTimeout(()=>null==a?void 0:a(!1),0)}},{id:"image.web",label:(0,i.jsx)(m.x6,{id:"eFaih9"}),ariaLabel:D.Ru._({id:"Of4gkp"}),icon:I.$UM,onClick:()=>{null==t||t(),o(R.Rn.key),setTimeout(()=>null==a?void 0:a(!1),0)}},{id:"image.ai-generated",label:(0,i.jsx)(m.x6,{id:"UQ4o1/"}),ariaLabel:D.Ru._({id:"UQ4o1/"}),icon:I._$C,onClick:()=>{null==t||t(),o(R.Up.key),setTimeout(()=>null==a?void 0:a(!1),0)}}];return(0,i.jsx)(c.a,{pos:"relative",zIndex:100,...r,children:(0,i.jsx)(l.s,{marginBottom:"-8px",onClick:z.dG,children:(n?u:d).map((e,t)=>(0,i.jsx)(B,{...e},t))})})},B=(0,x.memo)(e=>{let{label:t,ariaLabel:n,icon:a,id:r,onClick:s}=e,l=(0,b.rd)();return(0,i.jsx)(_.Tz,{label:t,placement:"top",closeOnClick:!0,children:(0,i.jsx)(M.K,{icon:(0,i.jsx)(g.g,{icon:a,size:"1x"}),"aria-label":n,"data-testid":"quick-action","data-test-media-source":r,variant:"ghost",rounded:"md",onMouseDown:s,width:"32px",height:"32px",color:l?j.N.DARK_ICON_COLOR:j.N.LIGHT_ICON_COLOR,display:"flex",alignItems:"center",justifyContent:"center",p:1,cursor:"pointer",_hover:"image.ai-generated"===r?l?{color:j.N.DARK_AI_BTN_HOVER_COLOR,bg:j.N.DARK_AI_BTN_HOVER_BG}:{color:j.N.LIGHT_AI_BTN_HOVER_COLOR,bg:j.N.LIGHT_AI_BTN_HOVER_BG}:l?{color:j.N.DARK_BTN_HOVER_COLOR,bg:j.N.DARK_BTN_HOVER_BG}:{color:j.N.LIGHT_BTN_HOVER_COLOR,bg:j.N.LIGHT_BTN_HOVER_BG},animation:"fadeIn",transition:"color 0.2s, background-color 0.2s"})})});B.displayName="QuickActionButton";let P=e=>{let{removeBackground:t=!1,scootRight:n=!1}=e;return(0,i.jsxs)(a.vw,{size:"sm",variant:"subtle",colorScheme:"gray",pos:"absolute",top:4,left:4,p:1,ml:28*!!n,children:[(0,i.jsx)(r.y,{color:"gray.600",size:"xs"}),t&&(0,i.jsx)(s.E,{as:"span",ml:1,fontFamily:"body",children:(0,i.jsx)(m.x6,{id:"gVcJ1/"})})]})},F=()=>(0,i.jsx)(a.vw,{size:"sm",variant:"subtle",colorScheme:"red",pos:"absolute",top:4,left:4,children:(0,i.jsxs)(a.d1,{children:[(0,i.jsx)(g.g,{icon:h.tUE})," ",(0,i.jsx)(m.x6,{id:"rmh/nq"})]})}),V=(0,x.memo)(e=>{let{children:t,icon:n=p.Cyq,isLoading:a=!1,isUploading:r=!1,hasUploadError:h=!1,isAccentImageDrawer:m=!1,loadingProvider:C,openEditBackgroundDrawer:y,onSelectAndFocus:v,defaultSource:w,hasQuickActions:E=!1,handleDoubleClick:M,promptPreview:I,estimatedTimeSeconds:_,colorMode:D="auto",...R}=e,[T,z]=(0,x.useState)(!1),[H,B]=(0,x.useState)(0),V=(0,f.GV)(k.nD),O=(0,b.rd)(),Z="auto"===D?O:"dark"===D;return(0,x.useEffect)(()=>{if(!_)return;let e=Date.now(),t=1e3*_,n=()=>{let i=Math.min((Date.now()-e)/t,1);B(100*(0,L.WD)(i)),i<1&&requestAnimationFrame(n)};n()},[_]),(0,x.useEffect)(()=>{w&&!1===S(w)?z(!1):E&&V?z(!0):z(!1)},[w,E,V]),(0,i.jsxs)(l.s,{"data-testid":"media-placeholder","data-test-media-source":w,color:Z?j.N.DARK_COLOR:j.N.LIGHT_COLOR,align:"center",justify:"center",p:3,bg:Z?j.N.DARK_BG:j.N.LIGHT_BG,className:"placeholder","data-drag-handle":!0,"data-export-as-image":!0,position:"relative",cursor:"default",sx:{containerType:"size","@container (width < 150px) or (height < 140px)":{".quick-actions":{display:"none"},".ai-image-loading-spinner":{transform:"scale(0.5)"}}},onDoubleClick:M,transition:"background-color 0.2s",...R,children:[!a&&(0,i.jsxs)(o.T,{pointerEvents:"none",children:[(0,i.jsx)(c.a,{color:Z?j.N.DARK_ICON_COLOR:j.N.LIGHT_ICON_COLOR,sx:{"@container (0px <= width <= 32px) or (height < 100px)":{fontSize:"sm"},"@container (32px < width <= 80px)":{fontSize:"2xl"},fontSize:"4xl"},children:(0,i.jsx)(g.g,{icon:n,fixedWidth:!0})}),T&&(0,i.jsx)(d.z,{pointerEvents:"auto",className:"quick-actions",children:(0,i.jsx)(N,{onSelectImage:v,isAccentImageDrawer:m,openEditBackgroundDrawer:y})})]}),a&&(0,i.jsxs)(o.T,{w:"100%",spacing:"3em",children:[!_&&(0,i.jsx)(A,{provider:C}),I&&(0,i.jsx)(s.E,{fontSize:"1em",children:I}),_&&(0,i.jsx)(c.a,{w:"100%",px:"2em",children:(0,i.jsx)(u.k,{value:H,size:"sm",colorScheme:"blue",bg:Z?"gray.700":"gray.200",borderRadius:"md"})})]}),r&&(0,i.jsx)(P,{}),h&&(0,i.jsx)(F,{}),t]})});V.displayName="MediaPlaceholderImage";let O={minW:16,minH:16,bg:"gray.200"}},22445:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var i=n(27229),a=n(55729),r=n(74158),s=n(4007);let l=e=>{let{id:t,...n}=e,{isOpen:l,onOpen:o,onClose:c}=(0,i.j)(n),d=(0,r.wA)();return(0,a.useEffect)(()=>{t&&d((0,s.WI)({id:t,isOpen:l}))},[l,d,t]),(0,a.useEffect)(()=>()=>{t&&d((0,s.WI)({id:t,isOpen:!1}))},[d,t]),{isOpen:l,onOpen:o,onClose:c}}},22539:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var i=n(77650);let a={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-2-Column-Image-Left.a898abf9.svg",height:47,width:92,blurWidth:0,blurHeight:0},r={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-3-boxes.8a28c3c6.svg",height:49,width:91,blurWidth:0,blurHeight:0},s={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-3-images.172b44a3.svg",height:69,width:92,blurWidth:0,blurHeight:0},l={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-Bullets.066ad97e.svg",height:55,width:92,blurWidth:0,blurHeight:0},o={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-text.2a88d207.svg",height:45,width:92,blurWidth:0,blurHeight:0},c={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Title-with-timeline.5a8d1065.svg",height:63,width:91,blurWidth:0,blurHeight:0},d=()=>[{name:i.Ru._({id:"RYtHky"}),key:"bullets",image:l,aiDescription:"Use the bullets smart layout for small amounts of text or a list of UL/OL/LI tags for large amounts."},{name:i.Ru._({id:"m2tQ9E"}),key:"paragraphs",image:o,aiDescription:"Write in paragraphs with no additional layout blocks."},{name:i.Ru._({id:"2abZdy"}),key:"twoColImage",image:a,aiDescription:"Use a columns layout with text in one column and an image in the other."},{name:i.Ru._({id:"cklVjM"}),key:"timeline",image:c,aiDescription:"Use the timeline smart layout."},{name:i.Ru._({id:"cDxTeG"}),key:"imagesWithText",image:s,aiDescription:"Use the images with text smart layout."},{name:i.Ru._({id:"61H/21"}),key:"boxes",image:r,aiDescription:"Use the text boxes smart layout."}]},22685:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var i=n(6029),a=n(26420),r=n(21938),s=n(66082);let l=e=>{var t,n,l,o;let{children:c,position:d,size:u,node:p}=e,{horizontalAlign:h}=p.attrs;return(0,i.jsx)(a.a,{className:(0,r.cx)("positioned-element"),position:"absolute",zIndex:1,left:"".concat(null!=(t=null==d?void 0:d.percentX)?t:0,"%"),top:"".concat(null!=(n=null==d?void 0:d.percentY)?n:0,"%"),width:"".concat(null!=(l=null==u?void 0:u.percentWidth)?l:0,"%"),height:"".concat(null!=(o=null==u?void 0:u.percentHeight)?o:0,"%"),display:"flex",flexDirection:"column",style:{...(0,s.yp)(h)},children:c})}},22911:(e,t,n)=>{"use strict";n.d(t,{F:()=>s,L:()=>r});var i=n(6700),a=n(91938);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"unknown";try{let a=new URL(e),r=(0,i.removeWWWPrefix)(a.hostname);if(n.includes(r))return"trusted";let s=t.find(t=>t.url===e);if(!s)return"unknown";if(3===s.status)return"untrusted";if(2===s.status)return"unknown";if(1===s.status)return"trusted";s.status}catch(t){console.error("[getLinkTrustLevel] Error checking link",e,t)}return"unknown"},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"";let i=r(e,t,n);return"trusted"===i?e:"untrusted"===i?"".concat(a.$.FRONTEND_URL,"/[untrusted-url]"):"".concat(a.$.FRONTEND_URL,"/external-link?url=[").concat(encodeURIComponent(e),"]")}},23050:(e,t,n)=>{"use strict";n.d(t,{B2:()=>s,Hb:()=>a,g_:()=>r});var i=n(63867);let a="+++",r="/continue",s=1500;new i.hs("autocomplete")},23103:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,l:()=>s});var i=n(91938),a=n(87996);let r=e=>e&&a.Dc[e]?a.Dc[e]:a.Jp,s=e=>"".concat(i.$.EMBED_PROXY_URL,"?alt_url=").concat(e)},23201:(e,t,n)=>{"use strict";n.d(t,{OG:()=>d});var i=n(67604),a=n(6936),r=n(23439),s=n(68450),l=n(7240),o=n(14816),c=n(88608);let d=e=>{try{let t=(0,c.R6)(),n=(0,i.A)(e),d=(0,a.A)(n,0);if((0,r.A)(n)||(0,s.A)(n))return(0,l.A)(d,new Date,{locale:t});return"".concat((0,o.A)(n,"PPp",{locale:t}))}catch(e){return console.error("[normalizeDate] Error normalizing date:",e),"date unknown"}}},23513:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,n:()=>d});var i=n(15902),a=n(63867),r=n(62040);let s=(e,t,n)=>t&&a.nh.isSelectable(t)?a.nh.create(e,n):null,l=(e,t,n)=>t&&t.inlineContent?a.U3.create(e,n):null;function o(e,t,n){return e&&n?n:e&&t?t:!e&&t?t:!e&&n?n:null}function c(e,t){let{doc:n,pos:r,parent:c,nodeAfter:d,nodeBefore:u}=e;if(c.inlineContent)return a.U3.create(n,r);let p=t>0,h=o(p,l(n,u,r-1),l(n,d,r+1));if(h)return h;if(i.n.valid(e))return new i.n(e);if(c.type.spec.isolating){let t=o(p,s(n,u,r-((null==u?void 0:u.nodeSize)||0)),s(n,d,r));if(t)return t;if(0===c.childCount&&a.nh.isSelectable(c))return a.nh.create(n,e.before())}return null}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=c(e,t);if(n)return n;for(let n=e.depth-1;n>=0&&!e.node(n+1).type.spec.isolating;n--){let i=t<0?e.before(n+1):e.after(n+1),a=c(e.doc.resolve(i),t);if(a)return a}return null}let u=(e,t)=>{let n,i=e.steps.length-1,a=e.steps[i];return a instanceof r.Ln||a instanceof r.Wg?(e.mapping.maps[i].forEach((e,t,i,a)=>{null==n&&(n=a)}),null==n)?null:d(e.doc.resolve(n),t):null}},23624:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var i=n(55729),a=n(56760);class r{render(){var e,t;let n=this.component,a=this.props,r=this.editor;("function"==typeof n&&n.prototype&&n.prototype.isReactComponent||"object"==typeof n&&(null==(t=n.$$typeof)?void 0:t.toString())==="Symbol(react.forward_ref)")&&(a.ref=e=>{this.ref=e}),this.reactElement=i.createElement(n,a),this.updateWrapperEl&&this.updateWrapperEl(this.element,a),null==r||null==(e=r.contentComponent)||e.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={...this.props,...e},this.render()}destroy(){var e;let t=this.editor;null==t||null==(e=t.contentComponent)||e.removeRenderer(this.id)}constructor(e,{editor:t,props:n={},as:i="div",className:r="",attrs:s,updateWrapperEl:l}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.updateWrapperEl=l,this.element=document.createElement(i),this.element.classList.add("react-renderer"),r&&this.element.classList.add(...r.split(" ")),s&&Object.keys(s).forEach(e=>{this.element.setAttribute(e,s[e])}),this.editor.isEditorContentInitialized?(0,a.flushSync)(()=>{this.render()}):this.render()}}},23746:(e,t,n)=>{"use strict";n.d(t,{EB:()=>c,Gx:()=>i,Up:()=>l,uQ:()=>r,zQ:()=>a});let i="themed-clickable-box",a={transitionProperty:"transform",transitionDuration:"normal"},r={transform:"scale(1.03)",_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 0 500px var(--expandable-hover-background)",pointerEvents:"none"}},s={border:"var(--shape-border-width) solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)",backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--clickable-shadow)",backdropFilter:"var(--card-backdrop-filter)","@media print":{boxShadow:"none"}},l={_hover:{transform:"scale(1.1)"},color:"var(--link-color)",height:"auto",padding:"0.7em",paddingY:"0.2em",minW:"2.5em",position:"relative"},o=(e,t)=>({...a,...s,_hover:t?void 0:r,"@media print":{boxShadow:"none"}}),c=(e,t)=>({[".".concat(i)]:o(e,t)})},23907:(e,t,n)=>{"use strict";n.d(t,{z:()=>B});var i=n(6029),a=n(26385),r=n(61204),s=n(16936),l=n(99430),o=n(96500),c=n(40452),d=n(49611),u=n(99492),p=n(48621),h=n(33170),g=n(19564),m=n(77650),x=n(12180),f=n(27002),b=n(74471),C=n(66082),y=n(58959),v=n(48810),w=n(29810),A=n(26420);let k=e=>{let{label:t,control:n,icon:a}=e;return(0,i.jsxs)(y.z,{spacing:4,children:[a,(0,i.jsx)(v.E,{children:t}),(0,i.jsx)(w.h,{}),(0,i.jsx)(A.a,{children:n})]})};function L(e,t){return function(n,i,a){var r;return t({chartAttributes:{...a,[e]:{...null!=(r=a[e])?r:{},[n]:i}}})}}let j=e=>{var t;let{chartType:n,attributes:a,updateAttributes:r}=e,s=a.chartAttributes||{},o=s[n],c=L(n,r);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(k,{label:m.Ru._({id:"Y7a6MU"}),control:(0,i.jsx)(l.d,{isChecked:null==(t=null==o?void 0:o.axisPullToZero)||t,onChange:e=>c("axisPullToZero",e.target.checked,s)})})})},E=e=>{let{chartType:t="bar",...n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j,{chartType:t,...n})})};var S=n(68917),M=n(78140),I=n(36999),_=n(41283),D=n(37930),R=n(48478);let T=e=>{var t;let{attributes:n,updateAttributes:a}=e,r=n.chartAttributes||{},s=r.pie||{},l=L("pie",a),o=null!=(t=s.legendPosition)?t:"bottom",c={top:m.Ru._({id:"WWy8TN"}),right:m.Ru._({id:"nOPbWJ"}),bottom:m.Ru._({id:"zsiX7I"}),left:m.Ru._({id:"UlKSMd"})},u=e=>void 0===c[e]?"bottom":e;return(0,i.jsx)(k,{label:m.Ru._({id:"G4H8LE"}),control:(0,i.jsxs)(M.W,{isLazy:!0,children:[(0,i.jsx)(I.I,{as:d.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,i.jsx)(S.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:c[o]}),(0,i.jsx)(_.c,{zIndex:"modalPopover",children:(0,i.jsx)(D.i,{value:o,type:"radio",onChange:e=>{l("legendPosition",u(Array.isArray(e)?e[0]:e),r)},children:Object.entries(c).map(e=>{let[t,n]=e;return(0,i.jsx)(R.k,{value:t,children:(0,i.jsx)(y.z,{children:(0,i.jsx)(v.E,{children:n})})},t)})})})]})})},z={pie:T,donut:T,line:e=>{let{...t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j,{chartType:"line",...t})})},bar:E,"horizontal-bar":e=>(0,i.jsx)(E,{...e,chartType:"horizontal-bar"})};var H=n(99195);let N=e=>{let{accentColor:t,selected:n,onChange:a,steps:r=5}=e;return(0,i.jsx)(k,{icon:(0,i.jsx)(p.g,{icon:u.wIs}),label:m.Ru._({id:"tvmuQ0"}),control:(0,i.jsx)(H.M,{accentColor:t,selected:n,onChange:a,steps:r})})},B=e=>{let{attributes:t,updateAttributes:n,accentColor:y,setEditing:v,editor:w}=e,A=z[t.chartType],{data:L}=t,j=(0,f.u)("chartInlineLabels");return(0,i.jsxs)(a.B,{spacing:0,children:[(0,i.jsxs)(a.B,{spacing:4,p:4,children:[(0,i.jsx)(r.e,{mb:2,children:Object.entries(x.XD).map(e=>{let[a,{icon:r,selectedIcon:l,label:o}]=e,c=t.chartType===a;return(0,i.jsx)(h.Tz,{placement:"top",label:o(),children:(0,i.jsx)(s.K,{"aria-label":o(),flex:1,variant:"plain",size:"md",icon:c?l:r,boxShadow:"none",background:c?"trueblue.50":"white",color:c?"trueblue.400":"gray.600",onClick:()=>n({chartType:a})})},"".concat(o()))})}),(0,i.jsx)(N,{accentColor:y,selected:t.colorScheme,steps:5,onChange:e=>{n({colorScheme:e})}}),(0,i.jsx)(k,{icon:(0,i.jsx)(p.g,{icon:u.n2$}),label:m.Ru._({id:"sgzcYD"}),control:(0,i.jsx)(l.d,{isChecked:!t.hideLabels,onChange:e=>n({hideLabels:!e.target.checked})})}),j&&(0,i.jsx)(k,{icon:(0,i.jsx)(p.g,{icon:u.jon}),label:m.Ru._({id:"hw0byi"}),control:(0,i.jsx)(l.d,{isChecked:t.showInlineLabels,onChange:e=>n({showInlineLabels:e.target.checked})})}),w&&(0,i.jsx)(k,{icon:(0,i.jsx)(p.g,{icon:u.ecg}),label:m.Ru._({id:"0j+RGO"}),control:(0,i.jsx)(r.e,{dir:"ltr",spacing:1,size:"sm",children:C.gj.map(e=>{let{name:t,icon:n,checkActive:a,apply:r}=e;if(a&&r)return(0,i.jsx)(b.I,{label:t(),icon:n,onClick:()=>{r(w)},isActive:a(w),my:0},t())})})}),A&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.c,{my:3}),(0,i.jsx)(A,{...e})]})]}),v&&(0,i.jsx)(c.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justify:"center",children:(0,i.jsx)(d.$,{variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,i.jsx)(p.g,{icon:u.MT7}),onClick:()=>v(!0),children:L?(0,i.jsx)(g.x6,{id:"BhcOHV"}):(0,i.jsx)(g.x6,{id:"UHoZ5e"})})})]})}},24392:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});let i=n(91929).B.extend({addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},24520:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(55729),a=n(25778),r=n(56603),s=n(6595),l=n(47956);let o=e=>{let{editor:t}=e,n=(0,a.CU)();return(0,i.useCallback)(()=>{let e=(0,l.MR)(n.getState());if(!t||!e)return;if("card"===e.type){let n=s.r.findCardById(t,e.cardId);if(!n)return;t.chain().selectInsideCardBody(n.pos).focus().run();return}let i=(0,r.d_)(t.state,e.from),a=(0,r.d_)(t.state,e.to);i&&a&&i!==a&&t.chain().setTextSelection({from:i,to:i}).run()},[t,n])}},24813:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>a});var i=n(52762);let a=e=>{setTimeout(()=>{e.commands.focus()})},r=(e,t,n)=>{var a;(null==(a=n.background)?void 0:a.type)===i.h.NONE?e.commands.updateAttributesAtPos(t,n):e.commands.updateNestedAttributesAtPos(t,n)}},24903:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,z:()=>s});var i=n(62040),a=n(99923);let r=e=>"footnote"==e.schema.topNodeType.name,s=function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"footnote";e.forEach(e=>{let t=e.steps.filter(e=>e instanceof i.XE||e instanceof i.Ys);0==t.length||e.getMeta(a.R)||e.getMeta("appendedTransaction")||t.forEach(e=>{let{from:t,to:a,mark:l}=e;n.doc.nodesBetween(t,a,(n,o)=>{n.type.name===s&&o<t&&(e instanceof i.XE?r.removeMark(t,a,l):e instanceof i.Ys&&r.addMark(t,a,l))})})})}},25600:(e,t,n)=>{"use strict";n.d(t,{DM:()=>h,b0:()=>g,bU:()=>m});var i=n(37243),a=n(63867),r=n(97255),s=n(15607),l=n(98968),o=n(61964),c=n(46675),d=n(56124);let u=e=>e.isLeaf||["paragraph","table","tableRow","tableCell","gridLayout","gridCell","heading","title","card","cardLayoutItem","cardAccentLayoutItem","button","buttonGroup","gallery","blockquote","calloutBox","smartLayout","smartLayoutCell","toggle","navbar","navbarLinks","grid","gridItem"].includes(e.type.name),p=e=>e.isAtom||["gallery","card"].includes(e.type.name),h=e=>e.some(e=>e.spec.focusedNode),g=e=>e.some(e=>e.spec.isSelectingNode),m=i.YY.create({name:"focusedNodes",addProseMirrorPlugins(){let e=this.editor;return[new a.k_({props:{decorations(t){var n;if(!e.isEditable||!(0,s.We)(e)||(null==(n=document.activeElement)?void 0:n.tagName)==="IFRAME")return;let i=t.selection,h=[];return t.doc.nodesBetween(i.from,i.to,(e,t,n)=>{if(u(e)){let s=i instanceof c.HT&&"tableRow"===e.type.name&&i.getTableNode()===n&&i.isRowSelection()&&!i.isColSelection(),l=i instanceof c.HT&&(0,d.hj)(e)&&i.getTableNode()===e&&i.isSelectingAllCells(),o={focusedNode:!0,isSelected:i.from<=t,isFocusedInside:i.from>t||i.to<t+e.nodeSize,isSelectingNode:i instanceof a.nh&&i.node===e||s||l,isSelectingAround:p(e)&&i.from<=t&&i.to>=t+e.nodeSize&&!(i instanceof a.nh)},u=[o.focusedNode?"is-focused":"",o.isSelected?"is-selected":"",o.isFocusedInside?"is-focused-inside":"",o.isSelectingNode?"is-selecting-node":"",o.isSelectingAround?"is-selecting-around":""].join(" ");h.push(r.NZ.node(t,t+e.nodeSize,{class:u},o))}if((0,l.Pb)(e)&&i.from<=t&&i.from<=t)return!1;if("table"===e.type.name&&i instanceof c.HT&&i.isColSelection()&&!i.isSelectingAllCells()){let n=i.$anchorCell.pos,{left:a}=o.J3.get(e).findCell(n-(t+1));h.push(r.NZ.node(t,t+e.nodeSize,{},{isColumnSelected:!0,colNumber:a}))}}),r.zF.create(t.doc,h)}}})]}})},26006:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,j:()=>a});var i=n(55729);let a=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)(null),[n,a]=(0,i.useState)(0),[r,s]=(0,i.useState)(0),[l,o]=(0,i.useState)(null);return{width:n,height:r,aspectRatio:l,setSize:(0,i.useCallback)(()=>{var n,i;let r=null==(n=e.current)?void 0:n.getBoundingClientRect(),l=null==(i=t.current)?void 0:i.getBoundingClientRect();if(r&&l){let e=l.width/l.height,t=r.width,n=r.width/e;if(0===t||isNaN(t)||0===n||isNaN(n))return;a(t),s(n),o(e)}},[]),containerWrapperRef:e,imageRef:t}},r=e=>(0,i.useCallback)(t=>{if(!e)return;let n=null==e?void 0:e.view.domAtPos(t);if(!n)return void console.warn("scrollOnImageLoad could not domAtPos",{pos:t});let i=n.node.childNodes[n.offset];if(!i||!i.querySelector)return void console.warn("scrollOnImageLoad could not find node",{parentNode:n.node,offset:n.offset});let a=i.querySelector("[data-image-node-element] img");if(!a)return void console.warn("scrollOnImageLoad could not find <img> element");let r=()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run(),setTimeout(()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run()},1e3),a.removeEventListener("load",r)};a.addEventListener("load",r)},[e])},26053:(e,t,n)=>{"use strict";n.d(t,{Nb:()=>c,Vx:()=>l,wP:()=>d});var i=n(55729),a=n(91792),r=n(52842);let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={borderColor:e?"var(--chakra-colors-whiteAlpha-300)":"var(--chakra-colors-blackAlpha-200)"};return t?{...n,bg:e?"var(--chakra-colors-trueblue-300)":"var(--chakra-colors-trueblue-50)",color:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-300)",hoverBg:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-trueblue-100)",hoverColor:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-600)"}:{...n,bg:e?"var(--chakra-colors-gradient-dark)":"var(--chakra-colors-whiteAlpha-900)",color:e?"var(--chakra-colors-gray-50)":"var(--chakra-colors-gray-500)",hoverBg:e?"var(--chakra-colors-gray-700)":"var(--chakra-colors-gray-50)",hoverColor:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-gray-700)"}},l=e=>{let t=s(e);return{"--global-drag-handle-background":t.bg,"--global-drag-handle-color":t.color,"--global-drag-handle-hover-background":t.hoverBg,"--global-drag-handle-hover-color":t.hoverColor,"--global-drag-handle-border":t.borderColor}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?s(e,!0):{bg:"var(--global-drag-handle-background)",color:"var(--global-drag-handle-color)",hoverBg:"var(--global-drag-handle-hover-background)",hoverColor:"var(--global-drag-handle-hover-color)",borderColor:"var(--global-drag-handle-border)"}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.rd)();return(0,i.useMemo)(()=>o(t,e),[t,e])},d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=c(e);return{height:r.PN,borderRadius:"sm",fontSize:"xs",px:2,shadow:"sm",bg:t.bg,color:t.color,borderColor:t.borderColor,_active:{shadow:"var(--global-drag-handle-shadow-inner)"},_hover:{color:t.hoverColor,background:t.hoverBg}}}},27246:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>w,OX:()=>v,jV:()=>y});var i=n(37243),a=n(63867),r=n(62040),s=n(97255),l=n(8944),o=n(25778),c=n(74677),d=n(52762),u=n(15607),p=n(28700),h=n(59080),g=n(53138),m=n(36145),x=n(47665),f=n(17275),b=n(39822),C=n(94922);let y=new a.hs("cardLayoutPlugin"),v=e=>new a.k_({key:y,state:{init:()=>({draggingData:null}),apply:(e,t)=>t},filterTransaction:(e,t)=>{if(!e.docChanged||!((0,i.BQ)(t.selection)&&(0,x.sw)(t.selection.node))||e.steps.every(e=>e instanceof r.q4)||e.getMeta("imageUploadUpdateAttrs")||e.steps.every(t=>{if(!(t instanceof r.Ln))return!1;let n=e.before.nodeAt(t.from);if(!n||!(0,C.wL)(n))return!1;let i=t.slice.content;return 1===i.childCount&&(0,C.wL)(i.firstChild)}))return!0;let n=(0,c.A)(e).every(t=>{let n=e.before.nodeAt(t.oldStart);return!n||!(0,x.sw)(n)});return n||console.warn("[CardLayoutPlugin] blocking transaction with CardLayoutItem selected"),n},appendTransaction:(t,n,a)=>{if(!(t.some(e=>e.docChanged)&&!n.doc.eq(a.doc))||!(0,h.e)(e.state.doc).cardLayoutsEnabled)return;let r=a.tr,s=(0,i.T7)(n.doc,t);if((0,c.A)(s).forEach(t=>{let n={from:t.newStart,to:t.newEnd};(0,i.Nx)(a.doc,n,e=>"card"===e.type.name&&"responsive"===(0,x.g6)(e)).forEach(t=>{let{pos:i}=t;if(i<n.from)return;let a=r.mapping.map(i),s=r.doc.nodeAt(a);if(!s)return;let l=(0,C.lH)(s.attrs.layout);(0,C.Fm)(r,a,e.schema,l)})}),r.docChanged)return r},props:{handleDOMEvents:{dragstart:(t,n)=>(0,b.Po)(e,t,n),drop(t,n){let i=t.state.tr,a=(0,b.ZL)(t,n);if(a&&a.isImageUpload){n.preventDefault();let r=a.pos;(0,f.c)(e,i,r,a.layout);let{accent:s}=(0,C.dg)(i,r);if(!s)throw Error("Could not find accent after setting card layout=".concat(a.layout," at pos=").concat(a.pos));return(0,g.TH)(e,i,a.file,s.pos),t.dispatch(i),!0}let r=(0,b.nA)(t,n);if(r&&r.isImageUpload)return n.preventDefault(),(0,g.TH)(e,i,r.file,r.pos),t.dispatch(i),!0;let s=(0,b.aI)(e,t,n),l=y.getState(t.state);return s&&l&&(l.draggingData={removeLayoutFromCardId:s.node.attrs.id}),!1}},handlePaste:(t,n,i)=>{let{selection:r}=t.state;if(!(r instanceof a.nh&&(0,C.wL)(r.node)))return!1;let s=(0,m.bC)(e,n,i),l=(0,p.H)(i);if(l&&"image"!==l.type.name||!s)return!1;let o=s.attrs||(null==l?void 0:l.attrs);return e.commands.updateNestedAttributesAtPos(r.from,{background:{image:o,type:d.h.IMAGE,source:null==o?void 0:o.source}}),s.upload(),!0},handleDrop(t,n,i){let a=t.state.tr,r=(0,b.f0)(e,a,t,n,i),s=(0,b.vR)(t,a,n,i);return(!!r||!!s)&&((0,b.zZ)(e,a),t.dispatch(a),!0)},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,i)=>{if("card"===e.type.name){let a=t.resolve(i),r=(0,u.TK)(a,x.jg).map(e=>e.node),c=(0,l.uw)((0,o.KA)().getState()),d=(0,C.zr)({parentCards:r,layout:e.attrs.layout,isMobileDevice:c});e.forEach((t,i)=>{let l=a.pos+i+1;if(!(0,x.sw)(t))return;let o={cardId:e.attrs.id,isCardLayoutDecoration:!0,layout:d,cardSize:e.attrs.cardSize,isNested:r.length>=1};n.push(s.NZ.node(l,l+t.nodeSize,{"data-layout-item-id":t.attrs.itemId},o))})}}),s.zF.create(t,n)}}}),w=e=>{let t=e.find(e=>e.spec.isCardLayoutDecoration);return null==t?void 0:t.spec}},28613:(e,t,n)=>{"use strict";n.d(t,{$:()=>f});var i=n(6029),a=n(21938),r=n(37243),s=n(94289),l=n(55729),o=n(73326),c=n(15607),d=n(33201);let u=e=>{let t={};for(let n of e.attributes){let e=n.name;"class"===e?t.className=n.value:"contenteditable"===e&&"false"===n.value||(t[e]=n.value)}return t},p=(e,t,n,a)=>{var r,s;let o=Array.from(Object.entries(null!=(s=null==(r=n.contentComponent)?void 0:r.getServerSnapshot())?s:{})).find(t=>{let[n,i]=t;return i.children.props.node===e});if(!o)return null;let[c,d]=o,p=d.children,h=l.cloneElement(p,p.props,a),g=d.containerInfo,m=g.nodeName.toLowerCase()||"div",{style:x,...f}=u(g);return(0,i.jsx)(m,{"data-pos":t,...f,STYLE:"white-space: inherit;".concat(x),children:h},c)},h=(e,t)=>{var n;let i={name:t.name,options:t.options,storage:t.storage,editor:e};return null!=(n=(0,o.iI)(t,"renderHTMLforSSR",i))?n:(0,o.iI)(t,"renderHTML",i)},g=e=>{let t={...e};return(null==t?void 0:t.style)&&(t.STYLE=t.style,delete t.style),(null==t?void 0:t.class)&&(t.className=t.class,delete t.class),(null==t?void 0:t.colspan)&&(t.colSpan=t.colspan,delete t.colspan),(null==t?void 0:t.rowspan)&&(t.rowSpan=t.rowspan,delete t.rowspan),t},m=(e,t)=>{let n=(0,c.vC)(e,t.type);if(!n)return null;let i=e.extensionManager.attributes.filter(e=>e.type===t.type.name),a=(0,r.zU)(t,i),s=h(e,n);if(!s)return null;let l=s({HTMLAttributes:a,node:t,mark:t});if(!x(l))return null;let[o,d,u]=l;return[o,g(d),u]},x=e=>Array.isArray(e)&&"string"==typeof e[0]&&"object"==typeof e[1]&&!Array.isArray(e[1])&&null!==e[1]&&e.length<=3,f=l.memo(e=>{let{node:t,editor:n,getPos:r}=(0,o.cm)();if(!t||!n)return null;let c=e.as||"div",u=t.isInline||t instanceof s.CU?"span":"div",h=[],g=null==r?void 0:r(),x="number"==typeof g?g:null,f=(e,t,r)=>{let s=(null===x?0:x)+t+1,o=p(e,s,n);if(o)return o;let c=t=>Array.from(e.marks).reverse().reduce((e,t)=>{let i=p(t,s,n,e);if(i)return i;let a=m(n,t);if(a){let[t,n,i]=a;return l.createElement(t,{key:r,...n},e)}return e},t),u=null===x?[]:(0,d.j5)(n,s),h=m(n,e);if(h){let[n,i]=h,o=3===h.length?h[2]:void 0,d=null;if(0===o){let n=[];e.forEach((e,i,a)=>{n.push(f(e,t+i,"".concat(r,"_").concat(a)))}),d=n,console.debug("[SSR NodeViewContent] HOLE",n)}else"string"==typeof o&&(console.debug("[SSR NodeViewContent] children plain",o),d=o);let{nodeName:p,...g}=u.map(e=>{var t;return null==(t=e.type)?void 0:t.attrs}).reduce((e,t)=>({...e,...t}),{}),m={...i,...g,className:(0,a.cx)(g.class,i.class),"data-pos":s};return delete m.class,console.debug("[SSR NodeViewContent] non-nodeview:",r,m,o),c(l.createElement(n,{key:r,...m},d))}return e.isText?c((0,i.jsx)(l.Fragment,{children:e.textContent},r)):null};return t.forEach((e,n)=>{let i=h.length+1,a=f(e,n,"".concat(i));a?h.push(a):console.warn("%c [Simple NodeViewContent] UNKNOWN NODE $$$$$$$$$$$$$$$$$$$$$$$$$","background-color: aqua; font-weight: bold",{unknownNode:e,parentNode:t})}),(0,i.jsx)(c,{...e,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:(0,i.jsx)(u,{"data-node-view-content-inner":t.type.name,style:{whiteSpace:"inherit"},children:0===h.length?null:1===h.length?h[0]:h})})});f.displayName="NodeViewContent"},28647:(e,t,n)=>{"use strict";n.d(t,{D:()=>i}),n(47665);let i=e=>{var t;return(null==(t=e.find(e=>e.spec.isBlockWidthDecoration))?void 0:t.spec)||{}}},28700:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,j:()=>s});var i=n(63867),a=n(23513);function r(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}let s=(e,t,n)=>{if(!n)return!0;let s=r(n),l=s&&e.state.selection instanceof i.nh,o=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(n),c=(0,a.i)(o);return c?o.setSelection(c):l&&o.setSelection(i.nh.create(o.doc,e.state.selection.from)),e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}},29347:(e,t,n)=>{"use strict";n.d(t,{Am:()=>p,Nx:()=>g,vI:()=>h});var i=n(94289),a=n(63867),r=n(17859),s=n(54958),l=n(50861),o=n(39977),c=n(6494),d=n(15607),u=n(64234);let p=(e,t,n)=>{let i=(0,o.A)({editor:e,selection:t,freshNode:n});if(i){if("smartLayoutCell"===i.node.type.name){let e=(0,c.BJ)(i.node.attrs.variantKey);if(!i.attrs.source){var r,s,l;if(null==(s=e.defaultAttrs)||null==(r=s.image)?void 0:r.source)i.attrs.source=e.defaultAttrs.image.source;else{let e=(0,d.F2)(t.$from.parent.content).find(e=>{var t;return null==(t=e.attrs.image)?void 0:t.source});i.attrs.source=null==e||null==(l=e.attrs.image)?void 0:l.source}}}let e="imgKeyPath"in i?i.imgKeyPath:void 0;return{...i,type:i.node.type,accesoryKeyPath:e,editType:"accessory"===i.area||"background"===i.area?i.area:void 0}}if(t instanceof a.nh){let e=t.node;return{editType:"node",id:e.attrs.id,...e}}if(t instanceof a.U3){if(t.to-t.from==1&&t.$from.nodeAfter&&!e.isActive("link")){let e=null!=n?n:t.$from.nodeAfter;return{editType:"node",id:e.attrs.id,...e}}if(e.isActive("link")){let t=e.getAttributes("link");return{attrs:t,type:e.schema.marks.link,mediaType:"embed",id:t.id}}}return null},h=e=>{let t,{editor:n,selection:s,sourceKey:o,attrs:c,nodeName:d,resetAttrs:h,resizeToFit:g}=e,{from:m}=s,x=p(n,s);if(!x)return void console.error("[updateSelectedMedia] No selectedMedia to update");if(h)t={};else if(x.type instanceof i.sX)t=x.attrs;else{var f;let e=n.state.doc.nodeAt(m);if(!e||e.type!==x.type&&e.attrs.id!==x.attrs.id)return void console.error("[updateSelectedMedia] Node has moved, cant update");t=(null==(f=p(n,s,e))?void 0:f.attrs)||{}}let b={...t,source:o,...c};if(g&&"node"===x.editType&&(b=(0,l.Ez)(b)),x&&(0,r.Vc)({previous_attrs:x.attrs,new_attrs:b,replacement_method:"media_drawer",doc_id:n.gammaDocId||"",node_id:x.attrs.id,image_type:x.type.name}),(null==x?void 0:x.type.name)==="link"){b.href=b.href||b.sourceUrl;let{from:e,to:t}=s;n.chain().extendMarkRange("link").updateAttributes("link",b).setTextSelection({from:e,to:t}).run();return}if("smartDiagram"===x.type.name&&x.accesoryKeyPath)return void n.chain().updateSmartDiagramData(m,x.accesoryKeyPath,b).run();if(x.accesoryKeyPath)return void n.chain().updateAttributesAtPos(m,{[x.accesoryKeyPath]:b}).run();let C=u.Fn[b.source],y=d||C.nodeName;y&&n.commands.command(e=>{let{tr:t,state:n}=e,i=n.schema.nodes[y];return!!i&&(t.setNodeMarkup(m,i,b).setSelection(a.nh.create(t.doc,m)).setMeta("annotationEvent",{type:"update-node-attrs",pos:m}),!0)})},g=(e,t)=>!!t.spec.accessoryImageKey||"smartDiagram"===t.name&&e.state.selection instanceof s.n||(t instanceof i.Z6?(0,l.bi)(t):t instanceof i.sX&&"link"===t.name)},29614:(e,t,n)=>{"use strict";n.d(t,{A0:()=>i});let i="ai-parsed-attrs"},29828:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(15597),a=n(36512);let r=e=>{let t=1;try{for(let r=e.depth;r>0;r--){let s=e.node(r),l=e.index(r-1);if("gridCell"===s.type.name){let n=e.node(r-1).attrs.colWidths;n&&n[l]&&(t*=parseInt(n[l])/100)}if("card"===s.type.name){var n;let{layout:r,layoutTemplateColumns:l,container:o}=s.attrs;if("left"===r){let e=l?parseInt(l.split(" ")[1])/100:i.Ib;t*=e}if("right"===r){let e=l?parseInt(l.split(" ")[0])/100:i.Ib;t*=e}let c=e.doc.firstChild.attrs,d=null!=(n=o.width)?n:c.settings.defaultContentWidth;"lg"===d?t*=a.br/a.Vy:"sm"===d&&(t*=a.lA/a.Vy);break}}}catch(e){console.error("[SmartLayout] Error getting container size decoration",e)}return t}},29917:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>w,RH:()=>m,QM:()=>A,j_:()=>k});var i=n(41352),a=n(81221),r=n(67670),s=n(89557),l=n(91938),o=n(64594);let c={},d=async e=>{let t=c[e];if(t&&t.expires&&new Date(t.expires)-3e5>Date.now())return c[e];let n=await fetch("/api/transloadit/signature",{method:"POST",body:JSON.stringify({templateId:e})}),{signature:i,expires:a}=await n.json();return i&&a?(c[e]={signature:i,expires:a},c[e]):(console.error("Error getting Transloadit signature"),{signature:"",expires:""})};var u=n(29608),p=n(46007),h=n(67097);let g={auth:{key:l.$.TRANSLOADIT_AUTH_KEY},template_id:l.$.TRANSLOADIT_IMAGE_TEMPLATE_ID},m=["image/*",s.A.heic,s.A.heif],x=["application/vnd.openxmlformats-officedocument.presentationml.presentation"],f=[s.A.doc,s.A.docx],b=["text/csv","application/csv",".csv"],C=[...f,...x,s.A.pdf],y={all:[...C,...x,...m,...b],importDoc:[...C],importPpt:[...x],importPdf:[s.A.pdf],importCsv:[...b],doc:C,font:["font/otf","font/ttf","application/x-font-ttf","application/x-font-otf",".otf",".ttf"],image:m,icon:[".png",".ico",".gif",".svg"],favicon:[".ico",".png",".gif",".jpg",".jpeg"]},v={autoProceed:!0,restrictions:{allowedFileTypes:[],maxNumberOfFiles:1}},w={createUppyInstance:function(e,t){let{onUploadStart:n,onOriginalFileUpload:r,onUploadComplete:s,onUploadFailed:c,onProgress:m,setErrorMessage:x}=t,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,C=arguments.length>4?arguments[4]:void 0,w=arguments.length>5?arguments[5]:void 0,A=arguments.length>6?arguments[6]:void 0,k=2560,L="false",j=o.F.createSpan("transloadit.upload",{attributes:{"upload.imageType":f,"upload.uploadType":C,"upload.templateId":w||g.template_id,"upload.maxFilesAllowed":b,"upload.maxFileSize":A}}),E=setTimeout(()=>{j.setAttributes({"upload.secondsThreshold":60,"upload.errorMessage":"Upload taking longer than 60 seconds"}),console.warn("Upload taking longer than 60 seconds")},6e4);"background"===f||"themeBackground"===f?k=3840:"icon"===f||"favicon"===f?k=250:"profile"===f?(k=1024,L="true"):("workspaceLogo"===f||"cardMargins"===f)&&(k=1024);let S=[];C=C||"image";let M=new i.Ay({...v,restrictions:{...v.restrictions,maxNumberOfFiles:b,allowedFileTypes:y[C],maxFileSize:A}});return M.use(a.Ay,{assemblyOptions:async()=>{let t=M.getFiles().some(e=>(0,p.PQ)(e.type||"",e.extension||"")),n=w||g.template_id;t&&!w&&(n=l.$.TRANSLOADIT_FILE_TEMPLATE_ID);let{signature:i,expires:a}=await d(n);return{params:{...g,auth:{...g.auth,expires:a},template_id:n},fields:{orgId:e,imageType:f,resizePx:k,cropPadding:"50%",detectAndCropFace:L},signature:i}},waitForEncoding:!0}),M.on("file-added",async e=>{let t=(null==e?void 0:e.type)&&(0,h.aI)(null==e?void 0:e.type)&&!(0,u.nr)();j.start();try{var i;(null==e||null==(i=e.type)?void 0:i.includes("image"))&&(null==e?void 0:e.data)instanceof File&&!t&&await (0,h.Ru)(e),n&&1===b&&n({tempUrl:URL.createObjectURL(e.data),file:e}),m&&m(0)}catch(t){console.error("[Uppy.file-added] ".concat(t.message)),j.recordException(t),clearTimeout(E),M.removeFile(e.id)}}),M.on("files-added",e=>{j.start(),n&&1!==b&&e.forEach(e=>{n({tempUrl:URL.createObjectURL(e.data),file:e})}),m&&m(0)}),M.on("error",e=>{let t="Error uploading to Transloadit: ".concat(e.message);j.recordException(e),j.setAttributes({"upload.status":"error","upload.errorMessage":t}),clearTimeout(E),j.end(),x&&x(""),c&&c(t),console.error(t)}),M.on("upload-progress",(e,t)=>{m&&m(t.bytesUploaded/t.bytesTotal*100)}),M.on("transloadit:result",(e,t,n)=>{if(j.setAttributes({"upload.uploadsCount":n.uploads.length,"upload.resultsCount":Object.keys(n.results).length}),1===b){if(!r||"original_file"!==e||0===n.uploads.length||(0,h.aI)(n.uploads[0].mime)||(0,p.cZ)(n.uploads[0].mime,n.uploads[0].ext)||!t)return;let{url:i,meta:a,name:s}=t;x&&x(""),i?r({src:i,meta:a,name:s,uploadResultStep:"original"}):(c&&c("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}else if("filter_skip_optimize"===e){S=S.concat(t);return}else{let e,a;if((0,h.aI)(t.mime))a=t;else{var i;e=null==(i=S.find(e=>e.name===t.name))?void 0:i.url,a=t}if(!a)return;let{url:r,meta:l,name:o}=a;x&&x(""),r?s&&s({src:r,meta:l,name:o,uploadResultStep:"optimized",fullResults:n.results},e):(c&&c("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}}),M.on("transloadit:complete",e=>{var t,n,i,a,r;let l,o,d,u;if(j.setAttributes({"upload.uploadsCount":e.uploads.length,"upload.resultsCount":Object.keys(e.results).length}),1!=b){j.setAttributes({"upload.multiFile":!0}),clearTimeout(E),j.end();return}if(0===e.uploads.length)throw console.error("[transloadit:complete] No uploads in assembly",e),j.recordException(Error("No uploads in assembly")),j.setAttributes({"upload.status":"error","upload.errorMessage":"No uploads in assembly"}),clearTimeout(E),j.end(),Error("No uploads in assembly");let g=(0,p.PQ)(e.uploads[0].mime,e.uploads[0].ext);if("importDoc"===C)o=e.results.convert_to_html[0];else if("importPpt"===C)o=e.results.convert_to_html[0];else if("importCsv"===C||g)o=e.results[":original"][0];else{if((0,p.eT)(e.uploads[0].ext))return;(0,p.ZD)(e.uploads[0].mime)?(o=e.results.original_file[0],d=e.results.doc_thumbnail[0].url):(0,p.cZ)(e.uploads[0].mime,e.uploads[0].ext)?(o=e.results.convert_to_pdf[0],d=e.results.doc_thumbnail[0].url):(0,h.aI)(e.uploads[0].mime)?(o=(null==(t=e.results.optimized)?void 0:t[0])||(null==(n=e.results.filter_skip_optimize)?void 0:n[0]),u=null==(i=e.results.detect_and_crop_face)?void 0:i[0].url):(l=e.results.original_file[0].url,u=null==(a=e.results.detect_and_crop_face)?void 0:a[0].url,o=(null==(r=e.results.optimized)?void 0:r[0])||e.results.original_file[0])}let{url:m,ssl_url:f,meta:y,name:v}=o;x&&x(""),f||m?(j.setAttributes({"upload.status":"success","upload.resultUrl":f||m,"upload.resultName":v,"upload.uploadType":C}),clearTimeout(E),j.end(),s&&s({src:f||m,meta:y,name:v,thumbnail:d,croppedFace:u,uploadResultStep:"optimized",fullResults:e.results},l)):(j.recordException(Error("No URL in upload result")),j.setAttributes({"upload.status":"error"}),clearTimeout(E),j.end(),c&&c("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}),M}},A=async function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"image",r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let l=w.createUppyInstance(t,n,i,1,a,r,s);try{l.addFile({name:e.name,type:e.type,data:e})}catch(e){var o;null==n||null==(o=n.onUploadFailed)||o.call(n,e.message);return}await l.upload()},k=async function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",s=arguments.length>4?arguments[4]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let l=w.createUppyInstance(t,n,i,"themeBackground"===i?null:1,void 0,s);l.use(r.A,{companionUrl:a.HI});let o=await l.getPlugin("Url").addFile(e);if(o instanceof Error){var c;null==n||null==(c=n.onUploadFailed)||c.call(n,o.message)}}},30820:(e,t,n)=>{"use strict";n.d(t,{C:()=>e8});var i=n(6029),a=n(74771),r=n(67909),s=n(36071),l=n(68728),o=n(3674),c=n(40691),d=n(26420),u=n(26385),p=n(49611),h=n(80314),g=n(33170),m=n(19564),x=n(55729),f=n(26814),b=n(80219),C=n(27002),y=n(1079),v=n(24302),w=n(40452),A=n(23293),k=n(48810),L=n(84287);let j=e=>{let{title:t=(0,i.jsx)(m.x6,{id:"0i4o6E"}),description:n,buttonLabel:a,onOpenCallback:r,onCloseCallback:s,segmentEvent:l,targetFeature:o,isNarrow:c,...d}=e,h=(0,C.u)("planCreditsLaunch"),{openUpsellModal:g}=(0,L.I)(),x={light:{bg:"trueblue.50",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-50) 0%, white  100%)",border:"trueblue.200",title:"gray.800",description:"gray.600",borderGradient:"var(--chakra-colors-gradient-brand-bg)"},dark:{bg:"gray.700",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-800) 0%, var(--chakra-colors-gray-700) 100%)",border:"trueblue.400",title:"gray.50",description:"gray.50",borderGradient:"var(--chakra-colors-gradient-brand-bg)"}}["light"===(0,v.G6)().colorMode?"light":"dark"],f=h?(0,i.jsx)(m.x6,{id:"TBvhj7"}):(0,i.jsx)(m.x6,{id:"0GWGUB"}),b=h?(0,i.jsx)(m.x6,{id:"1lwYKC"}):(0,i.jsx)(m.x6,{id:"0i4o6E"});return(0,i.jsxs)(w.s,{flex:1,w:"100%",mb:4,p:4,bgGradient:x.bgGradient,position:"relative",flexDirection:c?"column":"row",align:"center",borderRadius:"lg",gap:4,zIndex:1,boxShadow:"md",_before:{content:'""',position:"absolute",inset:0,borderRadius:"lg",border:"".concat(3,"px solid transparent"),background:"".concat(x.borderGradient," border-box"),mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7},...d,children:[(0,i.jsxs)(u.B,{flex:2,alignSelf:"stretch",spacing:1,children:[(0,i.jsx)(A.D,{size:"sm",color:x.title,children:t||b}),(0,i.jsx)(k.E,{color:x.description,fontSize:{base:"xs",md:"sm"},children:n||f})]}),(0,i.jsx)(u.B,{spacing:1,flex:0,justifyContent:"flex-end",children:(0,i.jsx)(p.$,{variant:"plain",size:{base:"xs",md:"md"},"data-test-id":"ai-credits-upsell",onClick:()=>{g({onOpenCallback:r,onCloseCallback:s,segmentEvent:l,targetFeature:o})},children:a||(0,i.jsx)(m.x6,{id:"kwkhPe"})})})]})};var E=n(74003),S=n(95889),M=n(58959),I=n(3276),_=n(40162),D=n(64268),R=n(51504),T=n(99745),z=n(51684),H=n(99492),N=n(48621),B=n(77650),P=n(88608),F=n(779);let V=e=>{var t;let{credits:n,lowCreditStatus:i}=(0,f.B9)(),a=(0,C.u)("plan-credits"),r=null==a||null==(t=a[e])?void 0:t.monthlyCredits,s=r?B.Ru.number(r):null,l=(null!=r?r:0)*2,o=l-(null!=n?n:0)<1500,c="number"==typeof n?B.Ru.number(n):null;return{credits:null!=n?n:0,lowCreditStatus:i,formattedCredits:c,creditsCap:l,formattedMonthlyCredits:s,isTooCloseToCreditCapForOneTimePurchase:o}};var O=n(89942),Z=n(6181),W=n(80387),U=n(46450);let G=()=>{let{subscription:e,product:t}=(0,E.I)(),n=(0,W.fL)(),a=(0,O.ez)("purchase_credits",n),r=(0,C.u)("buyCreditsOneTime2"),s=(0,C.u)("buyCreditsAutoRecharge2"),l=(0,Z.CX)(),{isTooCloseToCreditCapForOneTimePurchase:o}=V(t),{rechargeEnabled:c}=(0,U.e)(null==e?void 0:e.workspaceId),d=(0,W._t)(e),u=(null==n?void 0:n.memberCount)===1,p=!c&&a&&s,h=!c&&a&&r&&u&&l,g=o?(0,i.jsx)(m.x6,{id:"RZyYsL"}):null,x=d?(0,i.jsx)(m.x6,{id:"UcqG0l"}):l?null:(0,i.jsx)(m.x6,{id:"mRcTRS"});return{buyCredits:{shouldShow:h,isDisabled:o,tooltipContent:g},autoRecharge:{shouldShow:p,isDisabled:!l||d,tooltipContent:x},canBuyOrAutoRecharge:p||h,showAutoRechargeControls:c&&s,isOnePersonWorkspace:u,cancellationRequested:d}};var K=n(99038);let Q=e=>e?(0,i.jsx)(m.x6,{id:"lTZTx2",values:{AGENT_PROPER_NOUN:K.qV}}):(0,i.jsx)(m.x6,{id:"lUUl1i"}),q=()=>{let{product:e}=(0,L.I)();return Q(e)};var J=n(46898),$=n(57405),Y=n(88586);let X=e=>{var t,n,a;let{openBuyCreditsModal:r,source:s,...l}=e,o=(0,J.d)(),c=(0,S.st)(),[d]=(0,Y.mtJ)(),{subscription:h}=(0,E.I)(),{rechargeEnabled:x,rechargeThreshold:f,rechargeAmount:b}=(0,U.e)(null==h?void 0:h.workspaceId),{autoRecharge:C,isOnePersonWorkspace:y}=G(),{data:v}=(0,Y.sdf)({variables:{workspaceId:null==h?void 0:h.workspaceId,productType:Y.chg.AddOn},skip:!(null==h?void 0:h.workspaceId)}),w=null==v||null==(a=v.products)||null==(n=a.find(e=>"credits"===e.key))||null==(t=n.prices)?void 0:t[0];return(0,i.jsxs)(u.B,{direction:"column",alignItems:"center",justifyContent:"center",spacing:4,flex:"1",bg:"blackAlpha.50",h:"auto",p:4,fontSize:"sm",rounded:"md",...l,children:[(0,i.jsxs)($.T,{alignItems:"start",children:[(0,i.jsxs)(M.z,{color:"deepocean.950",children:[(0,i.jsx)(N.g,{icon:H.SGM,size:"sm",fixedWidth:!0}),(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"UJ8nPT"})})]}),(0,i.jsx)(k.E,{children:y?(0,i.jsx)(m.x6,{id:"JdB4HD",values:{rechargeThreshold:f,rechargeAmount:b},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}}):(0,i.jsx)(m.x6,{id:"WE3qTB",values:{rechargeThreshold:f,rechargeAmount:b},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}})})]}),(0,i.jsx)(g.Tz,{placement:"top",label:C.tooltipContent,isDisabled:!C.tooltipContent,children:(0,i.jsx)(p.$,{variant:"plain",size:"sm",w:"100%",onClick:()=>{r("auto-recharge",s)},isDisabled:C.isDisabled,children:(0,i.jsx)(m.x6,{id:"L4lcVQ"})})}),(0,i.jsx)(g.Tz,{placement:"top",label:C.tooltipContent,isDisabled:!C.tooltipContent,children:(0,i.jsx)(p.$,{variant:"link",size:"xs",color:"gray.500",onClick:()=>{(null==h?void 0:h.workspaceId)&&(d({variables:{input:{workspaceId:h.workspaceId,productPriceId:null==w?void 0:w.id,enabled:!1}},onCompleted:()=>{o({title:(0,i.jsx)(m.x6,{id:"dpCX+6"}),status:"success",position:"top",duration:5e3})}}),null==c||c.track(S.VV.CREDITS_AUTO_RECHARGE_DISABLED,{source:s,current_recharge_enabled:x,current_recharge_threshold:f,current_recharge_amount:b}))},isDisabled:C.isDisabled,children:(0,i.jsx)(m.x6,{id:"fiGbaz"})})})]})};var ee=n(17920),et=n(61491),en=n(86025),ei=n(14322);let ea=()=>{var e,t,n;let{user:a,currentWorkspace:r}=(0,Z.ur)(),{subscription:s,product:l}=(0,E.I)(),{launchFailedPaymentFlow:o,failedPaymentFlowEnabled:c}=(0,en.yf)({subscription:s,workspace:r,autoLaunch:!1});if(!s||!l)return{isPaymentOverdue:!1};let{status:d,expirationTime:u}=s,p=(null==s||null==(e=s.managedByUser)?void 0:e.id)===(null==a?void 0:a.id),h=(0,ei.AY)(s.id),g=u>Date.now(),m="unpaid"===d||"past_due"===d||g;if(!m)return{isPaymentOverdue:!1};let x=null==(t=s.managedByUser)?void 0:t.displayName,f=null==(n=s.managedByUser)?void 0:n.email;return{isPaymentOverdue:m,isCurrentUserBillingAdmin:p,billingAdminDisplayName:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("b",{children:x})," (",f,")"]}),updateYourBillingInfoOnClick:c&&p?o:void 0,updateYourBillingInfoHref:p&&!c?h:void 0}},er=e=>{let{updateYourBillingInformationReason:t}=e,n=ea();if(!n.isPaymentOverdue)return null;let{billingAdminDisplayName:a}=n,r=(0,i.jsx)(h.N,{href:n.updateYourBillingInfoHref,onClick:n.updateYourBillingInfoOnClick,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(m.x6,{id:"MFIKUz"})}),s=(0,i.jsx)(m.x6,{id:"UpU+zJ",values:{billingAdminDisplayName:a}});return(0,i.jsxs)(D.F,{status:"error",children:[(0,i.jsx)(R._,{}),(0,i.jsxs)($.T,{alignItems:"start",children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"TuwbmO"})}),(0,i.jsxs)(k.E,{children:[n.isCurrentUserBillingAdmin?r:s," ",null!=t?t:(0,i.jsx)(m.x6,{id:"qnDt7E"})]})]})]})},es=e=>"object"==typeof e&&"options"in e&&(null==e?void 0:e.options)!==void 0,el={plus:{oneTime:{amount:{options:[1500],start:1500}},recharge:{amount:{options:[1500],start:1500},threshold:{options:[500],start:500}}},pro:{oneTime:{amount:{options:[1500,3e3,4500,6e3],start:1500}},recharge:{amount:{options:[1500,3e3,4500,6e3],start:1500},threshold:{options:[500],start:500}}},ultra:{oneTime:{amount:{min:1500,step:1500,start:1500}},recharge:{amount:{min:1500,step:1500,start:1500},threshold:{min:500,step:500,start:500}}},team:{oneTime:{amount:{min:1500,step:1500,start:1500}},recharge:{amount:{min:1500,step:1500,start:1500},threshold:{min:500,step:500,start:500}}},business:{oneTime:{amount:{options:[1500],start:1500}},recharge:{amount:{min:1500,step:1500,start:1500},threshold:{min:500,step:500,start:500}}}};var eo=n(68917),ec=n(88516),ed=n(16936),eu=n(38036),ep=n(78140),eh=n(36999),eg=n(41283),em=n(85595);let ex=e=>{let{value:t,minValue:n,maxValue:a,setValue:r,step:s=1,isDisabled:l=!1}=e,{getInputProps:o,getIncrementButtonProps:c,getDecrementButtonProps:d}=(0,ec.h)({step:s,value:t,onChange:e=>{let t=Number(e);isNaN(t)||t<n||a&&t>a||r(t)},min:n,max:a,isDisabled:l});return(0,i.jsxs)(M.z,{children:[(0,i.jsx)(ed.K,{...d(),"aria-label":B.Ru._({id:"JvTdAL"}),icon:(0,i.jsx)(N.g,{icon:H.EZy}),size:"md",rounded:"md",variant:"outline",bg:"white",borderColor:"gray.200",color:"gray.500"}),(0,i.jsx)(eu.p,{...o(),flex:1,px:0,textAlign:"center",isReadOnly:!0}),(0,i.jsx)(ed.K,{...c(),size:"md","aria-label":B.Ru._({id:"kdkZBD"}),icon:(0,i.jsx)(N.g,{icon:H.QLR}),rounded:"md",variant:"outline",bg:"white",borderColor:"gray.200",color:"gray.500"})]})},ef=e=>{let{options:t,value:n,setValue:a,isDisabled:r=!1}=e;return 1===t.length?(0,i.jsx)(ep.W,{children:(0,i.jsxs)(eh.I,{as:p.$,isDisabled:!0,w:"100%",textAlign:"start",rightIcon:(0,i.jsx)(eo.D,{}),children:[n," credits"]})}):(0,i.jsxs)(ep.W,{children:[(0,i.jsxs)(eh.I,{as:p.$,w:"100%",textAlign:"start",rightIcon:(0,i.jsx)(eo.D,{}),isDisabled:r,children:[n," credits"]}),(0,i.jsx)(eg.c,{maxW:"sm",children:t.map(e=>(0,i.jsx)(em.D,{icon:e===n?(0,i.jsx)(N.g,{fixedWidth:!0,icon:H.e68}):(0,i.jsx)(d.a,{w:"14px",minW:"14px"}),onClick:()=>a(e),children:e},e))})]})},eb=e=>{let{value:t,config:n,setValue:a,max:r,isDisabled:s=!1}=e,l=es(n)?500:n.step,o=l*Math.floor(r/l);return es(n)?(0,i.jsx)(ef,{options:n.options.filter(e=>e<=r),value:t,setValue:a,isDisabled:s}):(0,i.jsx)(ex,{value:t,minValue:n.min,maxValue:o,setValue:a,step:n.step,isDisabled:s})};var eC=n(34823),ey=n(11390);let ev=e=>{let{creditCost:t,creditAmount:n}=e,{price:i,currency:a}=null!=t?t:{},r=(0,ey.GP)(a),s=i?n/100*i/r:null;return s?(0,eC.v)(s,{currency:a}):null},ew=e=>{var t,n,a;let{subscription:r,product:s,credits:l,creditCost:o,creditsCap:c,onClose:d,modalOpenedSource:u}=e,h=(0,J.d)(),g=(0,S.st)(),{rechargeEnabled:f,rechargeThreshold:b,rechargeAmount:C}=(0,U.e)(null==r?void 0:r.workspaceId),y=null==el||null==(t=el[s.key])?void 0:t.recharge,[v,w]=(0,x.useState)(f&&null!=C?C:y.amount.start),[A,L]=(0,x.useState)(f&&null!=b?b:y.threshold.start),j=!es(y.threshold),E=ev({creditCost:o,creditAmount:v}),[_,{loading:D}]=(0,Y.mtJ)({}),R=(null==r||null==(a=r.products)||null==(n=a[0])?void 0:n.units)===1,{isPaymentOverdue:T}=ea(),z=()=>{h({title:(0,i.jsx)(m.x6,{id:"daCsuT"}),description:(0,i.jsx)(m.x6,{id:"pr91/M"}),status:"error",position:"top",duration:9e3,isClosable:!0})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)($.T,{alignItems:"start",spacing:4,children:[j&&(0,i.jsxs)($.T,{alignItems:"start",w:"100%",children:[(0,i.jsx)(k.E,{fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"wb4MVq"})}),"threshold"in y&&(0,i.jsx)(eb,{value:A,config:y.threshold,setValue:L,max:c-v,isDisabled:D})]}),(0,i.jsxs)($.T,{alignItems:"start",w:"100%",children:[(0,i.jsx)(k.E,{fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"iGc2SS"})}),(0,i.jsx)(eb,{value:v,config:y.amount,setValue:w,max:c-A,isDisabled:D})]}),(0,i.jsxs)($.T,{spacing:2,alignItems:"start",children:[(0,i.jsx)(k.E,{fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"8AULTO"})}),(0,i.jsx)(k.E,{children:R?(0,i.jsx)(m.x6,{id:"LhdMIO",values:{creditThreshold:A,creditAmount:v},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}}):(0,i.jsx)(m.x6,{id:"cbQDGW",values:{creditThreshold:A,creditAmount:v},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}})})]}),(0,i.jsxs)($.T,{bg:"sky.50",p:4,w:"100%",rounded:"lg",alignItems:"start",children:[(0,i.jsxs)(M.z,{justifyContent:"space-between",w:"100%",children:[(0,i.jsx)(k.E,{fontSize:"lg",fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"p69GUm"})}),(0,i.jsx)(k.E,{fontSize:"lg",fontWeight:"semibold",children:E})]}),(0,i.jsx)(k.E,{fontWeight:"thin",fontSize:"sm",children:(0,i.jsx)(m.x6,{id:"C0VHmp"})}),(0,i.jsx)(k.E,{fontSize:"sm",fontWeight:"thin"})]})]}),T&&(0,i.jsx)(er,{updateYourBillingInformationReason:f?(0,i.jsx)(m.x6,{id:"Zau7Ti"}):(0,i.jsx)(m.x6,{id:"RMAQDn"})}),(0,i.jsx)(p.$,{onClick:()=>{if(!T&&r.workspaceId){try{_({variables:{input:{workspaceId:r.workspaceId,productPriceId:null==o?void 0:o.id,creditsThreshold:A,creditsToAdd:v,enabled:!0}},onCompleted:()=>{d();let e=l<A;h({title:e?f?(0,i.jsx)(m.x6,{id:"UxEuUA"}):(0,i.jsx)(m.x6,{id:"c0XqOU"}):f?(0,i.jsx)(m.x6,{id:"HJQnmN"}):(0,i.jsx)(m.x6,{id:"SsP/8Q"}),status:"success",position:"top",duration:5e3})},onError:()=>{z()}})}catch(e){console.error("Failed to update credits auto purchase:",e),z()}null==g||g.track(S.VV.CREDITS_AUTO_RECHARGE_UPDATED,{source:u,current_balance:l,current_recharge_enabled:f,current_recharge_threshold:b,current_recharge_amount:C,new_recharge_threshold:A,new_recharge_amount:v,new_recharge_enabled:!0,cost:(null==o?void 0:o.price)?o.price/100*v:void 0,currency:null==o?void 0:o.currency})}},variant:"solid",w:"100%",fontSize:"sm",my:4,isDisabled:D||T,leftIcon:D?(0,i.jsx)(I.y,{size:"xs"}):void 0,children:f?D?(0,i.jsx)(m.x6,{id:"QV52jP"}):(0,i.jsx)(m.x6,{id:"DZ7o4/"}):D?(0,i.jsx)(m.x6,{id:"mWN+qw"}):(0,i.jsx)(m.x6,{id:"tJYKc2"})})]})},eA=e=>{let{subscription:t,productKey:n,creditCost:a,creditsCap:r,credits:s,onClose:l,modalOpenedSource:o}=e,c=(0,J.d)(),d=(0,S.st)(),u=el[n].oneTime,[h,g]=(0,x.useState)(u.amount.start),f=ev({creditCost:a,creditAmount:h}),[b,{loading:C}]=(0,Y.qs8)(),y={source:o,current_balance:s,credits_amount:h,cost:(null==a?void 0:a.price)?a.price/100*h:void 0,currency:null==a?void 0:a.currency},v=()=>{c({title:(0,i.jsx)(m.x6,{id:"nSu1Pt",values:{creditAmount:h}}),status:"success",position:"top",duration:5e3}),null==d||d.track(S.VV.CREDITS_PURCHASE_COMPLETED,{...y})},w=()=>{c({title:"Credits purchase failed",description:"Please try again or contact support if the issue persists",status:"error",position:"top",duration:5e3,isClosable:!0}),null==d||d.track(S.VV.CREDITS_PURCHASE_FAILED,{...y})},{isPaymentOverdue:A}=ea();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)($.T,{alignItems:"start",spacing:4,w:"100%",children:[(0,i.jsxs)($.T,{alignItems:"start",w:"100%",children:[(0,i.jsx)(k.E,{fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"iGc2SS"})}),(0,i.jsx)(eb,{value:h,config:u.amount,setValue:g,max:r-s,isDisabled:C})]}),(0,i.jsxs)($.T,{bg:"sky.50",p:4,w:"100%",rounded:"lg",alignItems:"start",children:[(0,i.jsxs)(M.z,{justifyContent:"space-between",w:"100%",children:[(0,i.jsx)(k.E,{fontSize:"lg",fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"tV8kNA"})}),(0,i.jsx)(k.E,{fontSize:"lg",fontWeight:"semibold",children:f})]}),(0,i.jsx)(k.E,{fontWeight:"thin",fontSize:"sm",children:(0,i.jsx)(m.x6,{id:"C0VHmp"})}),(0,i.jsx)(k.E,{fontSize:"sm",fontWeight:"thin"})]})]}),A&&(0,i.jsx)(er,{updateYourBillingInformationReason:(0,i.jsx)(m.x6,{id:"AHwWLN"})}),(0,i.jsx)(p.$,{onClick:()=>{if(!A&&t.workspaceId){try{b({variables:{input:{workspaceId:t.workspaceId,amount:h}},refetchQueries:["getCredits"],onCompleted:()=>{l(),v()},onError:()=>{w()}})}catch(e){console.error("Failed to purchase credits:",e),w()}null==d||d.track(S.VV.CREDITS_PURCHASE_STARTED,{...y})}},variant:"solid",w:"100%",fontSize:"sm",my:4,isDisabled:C||A,leftIcon:C?(0,i.jsx)(I.y,{size:"xs"}):void 0,children:C?(0,i.jsx)(m.x6,{id:"wdxRmt"}):(0,i.jsx)(m.x6,{id:"34+TCH"})})]})},ek=e=>{var t,n,a;let{isBuyCreditsModalOpen:d,closeBuyCreditsModal:u,product:p,subscription:h,startInAutoRechargeMode:g,modalOpenedSource:f}=e,b=(0,S.st)(),[C,y]=(0,x.useState)(g?"recharge":"one-time"),{buyCredits:v,autoRecharge:w,isOnePersonWorkspace:A}=G(),L=v.shouldShow&&!v.isDisabled,{rechargeEnabled:j,rechargeThreshold:E,rechargeAmount:I}=(0,U.e)(null==h?void 0:h.workspaceId),_=p.key,{credits:D,lowCreditStatus:R,creditsCap:T}=V(_),{data:z}=(0,Y.sdf)({variables:{workspaceId:h.workspaceId,productType:Y.chg.AddOn}}),H=null==z||null==(a=z.products)||null==(n=a.find(e=>"credits"===e.key))||null==(t=n.prices)?void 0:t[0];return(0,i.jsxs)(r.aF,{isOpen:d,size:"xl",onClose:u,closeOnEsc:!0,closeOnOverlayClick:!0,children:[(0,i.jsx)(s.m,{}),(0,i.jsxs)(l.$,{"data-id":"buy-credits-modal",children:[(0,i.jsx)(o.s,{_hover:{bgColor:"blackAlpha.50"}}),(0,i.jsxs)(c.c,{children:[(0,i.jsx)(ee.r,{px:0,children:"one-time"===C?(0,i.jsx)(m.x6,{id:"34+TCH"}):j?(0,i.jsx)(m.x6,{id:"jPpLJz"}):A?(0,i.jsx)(m.x6,{id:"9n+Q7i"}):(0,i.jsx)(m.x6,{id:"5WyIEy"})}),(0,i.jsxs)($.T,{alignItems:"start",spacing:4,children:[L&&w.shouldShow&&!w.isDisabled&&(0,i.jsxs)($.T,{spacing:2,alignItems:"start",children:[(0,i.jsx)(k.E,{size:"md",fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"uohV9E"})}),(0,i.jsx)(M.z,{children:(0,i.jsx)(et.S,{isChecked:"recharge"===C,onChange:()=>{let e="one-time"===C?"recharge":"one-time";y(e),"recharge"===e?null==b||b.track(S.VV.CREDITS_AUTO_RECHARGE_MODAL_OPENED,{source:f,current_balance:D,low_credit_status:R,used_recharge_checkbox:!0,current_recharge_enabled:j,current_recharge_threshold:E,current_recharge_amount:I}):null==b||b.track(S.VV.CREDITS_PURCHASE_MODAL_OPENED,{source:f,current_balance:D,low_credit_status:R,used_recharge_checkbox:!0})},children:(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"O/Rzj/"})})})})]}),"one-time"===C&&(0,i.jsx)(eA,{subscription:h,productKey:_,creditCost:H,creditsCap:T,credits:D,onClose:u,modalOpenedSource:f}),"recharge"===C&&(0,i.jsx)(ew,{subscription:h,product:p,creditCost:H,creditsCap:T,credits:D,onClose:u,modalOpenedSource:f})]})]})]})]})},eL=e=>{var t;let{isBuyCreditsModalOpen:n,closeBuyCreditsModal:a,subscription:r,startInAutoRechargeMode:s=!1,modalOpenedSource:l}=e;return r&&(null==(t=r.products)?void 0:t[0])?(0,i.jsx)(ek,{isBuyCreditsModalOpen:n,closeBuyCreditsModal:a,product:r.products[0],subscription:r,startInAutoRechargeMode:s,modalOpenedSource:l}):null},ej=()=>{let e=(0,S.st)(),{subscription:t}=(0,E.I)(),{rechargeEnabled:n,rechargeThreshold:i,rechargeAmount:a}=(0,U.e)(null==t?void 0:t.workspaceId),{credits:r,lowCreditStatus:s}=(0,f.B9)(),[l,o]=(0,x.useState)("closed"),[c,d]=(0,x.useState)(void 0);return{isBuyCreditsModalOpen:"closed"!==l,startInAutoRechargeMode:"auto-recharge"===l,modalOpenedSource:c,closeBuyCreditsModal:()=>{d(void 0),o("closed")},openBuyCreditsModal:(t,l)=>{o(t),d(l),"auto-recharge"===t?null==e||e.track(S.VV.CREDITS_AUTO_RECHARGE_MODAL_OPENED,{source:l,current_balance:r,low_credit_status:s,current_recharge_enabled:n,current_recharge_threshold:i,current_recharge_amount:a}):null==e||e.track(S.VV.CREDITS_PURCHASE_MODAL_OPENED,{source:l,current_balance:r,low_credit_status:s})}}};var eE=n(36545);let eS=e=>{let{trackingSource:t}=e,{buyCredits:n,autoRecharge:a,canBuyOrAutoRecharge:r,showAutoRechargeControls:s,cancellationRequested:l}=G(),{isBuyCreditsModalOpen:o,startInAutoRechargeMode:c,closeBuyCreditsModal:h,openBuyCreditsModal:x,modalOpenedSource:f}=ej(),{subscription:b,product:C}=(0,E.I)(),y=!!C,v=(0,F.NZ)(),{lowCreditStatus:L,credits:j,creditsCap:S}=V(C),O=(0,eE.F)(),Z=()=>{null==x||x("auto-recharge",t)},W=B.Ru.date(null==b?void 0:b.nextCreditRefillTime),U=B.Ru.number(S),K=null==b?void 0:b.expirationTime,Q=(0,P.Yq)(K,"PPP");return(0,i.jsxs)(u.B,{spacing:4,alignItems:"center",children:[(0,i.jsxs)(u.B,{spacing:2,alignItems:"center",children:[(0,i.jsx)(k.E,{fontSize:"md",color:L?v[L].darkColor:void 0,children:L?v[L].description:(0,i.jsx)(m.x6,{id:"xy3nnP"})}),(0,i.jsx)(M.z,{children:(0,i.jsx)(A.D,{size:"lg",color:L?v[L].lightColor:void 0,children:null===j?(0,i.jsx)(I.y,{size:"sm"}):(0,i.jsxs)(_.B,{align:"center",children:[(0,i.jsx)(_.Q,{children:(0,i.jsx)(N.g,{icon:z.p7g,fixedWidth:!0})}),(0,i.jsx)(_.Q,{children:(0,i.jsx)(m.x6,{id:"T57gLR",values:{credits:j}})})]})})})]}),!l&&y&&O&&(0,i.jsxs)(u.B,{fontSize:"xs",spacing:1,align:"center",textAlign:"center",children:[(0,i.jsxs)(M.z,{fontSize:"xs",children:[(0,i.jsx)(d.a,{children:(0,i.jsx)(N.g,{icon:H.AoE,size:"sm",fixedWidth:!0})}),(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"/R4cbg",values:{nextCreditRefillTime:W}})})]}),(0,i.jsxs)(M.z,{fontSize:"xs",children:[(0,i.jsx)(d.a,{children:(0,i.jsx)(N.g,{icon:H.I46,size:"sm",fixedWidth:!0})}),(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"6pHWnz",values:{formattedCreditsCap:U}})})]})]}),l&&y&&(0,i.jsxs)(D.F,{status:"error",fontSize:"xs",lineHeight:"base",children:[(0,i.jsx)(R._,{boxSize:4}),(0,i.jsx)(T.T,{lineHeight:"base",children:(0,i.jsx)(m.x6,{id:"NFjGKD",values:{formattedSubscriptionExpirationTime:Q}})})]}),r&&(0,i.jsxs)(w.s,{alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:2,children:[n.shouldShow&&(0,i.jsx)(g.Tz,{placement:"top",label:n.tooltipContent,isDisabled:!n.tooltipContent,shouldWrapChildren:!0,children:(0,i.jsx)(p.$,{size:"sm",variant:"solid",onClick:()=>{null==x||x("one-time",t)},isDisabled:n.isDisabled,children:(0,i.jsx)(m.x6,{id:"34+TCH"})})}),a.shouldShow&&(0,i.jsx)(g.Tz,{label:a.tooltipContent,isDisabled:!a.tooltipContent,shouldWrapChildren:!0,children:(0,i.jsx)(p.$,{size:"sm",variant:"plain",onClick:()=>Z(),isDisabled:a.isDisabled,children:(0,i.jsx)(m.x6,{id:"tJYKc2"})})})]}),s&&(0,i.jsx)(X,{openBuyCreditsModal:x,source:t}),!y&&(0,i.jsx)(k.E,{fontSize:"xs",color:"gray.500",w:{base:"100%",lg:"70%"},textAlign:"center",children:(0,i.jsx)(q,{})}),o&&(0,i.jsx)(eL,{closeBuyCreditsModal:h,isBuyCreditsModalOpen:o,subscription:b,startInAutoRechargeMode:c,modalOpenedSource:f})]})};var eM=n(32844),eI=n(8709),e_=n(59554),eD=n(6743),eR=n(30928),eT=n(62117),ez=n(23050);let eH=e=>{let{...t}=e,n=(0,C.u)("aiDebits"),a=(0,C.u)("ai-credits").enabled,r=n.generateCard,s=n.wizardCreation,l=n.chatSuggestion,o=n.autocomplete,c=n.generateImage,d=(0,C.u)("aiAutocomplete"),u=(0,C.u)("aiGeneratedImages"),{enforceLimit:p,maxCredits:h}=(0,C.u)("enforce-credits-limit"),g=h.toLocaleString(),x=(0,C.u)("ai-credits").signup;return(0,i.jsxs)(eM.n,{allowMultiple:!0,w:"100%",...t,children:[(0,i.jsx)(eN,{accordionLabel:B.Ru._({id:"FEnrpk"}),children:(0,i.jsxs)(eI.Xy,{children:[(0,i.jsxs)(eI.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"p4u+sD"})})," ",(0,i.jsx)(m.x6,{id:"XSCvWA",values:{aiGeneration:s,GAMMA_ARTIFACT_PROPER_NOUN:K.TP}})]}),(0,i.jsxs)(eI.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"R8xLRW"})})," ",(0,i.jsx)(m.x6,{id:"M3I7Cf",values:{aiAddCard:r}})]}),(0,i.jsxs)(eI.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"gPyWmV"})})," ",(0,i.jsx)(m.x6,{id:"eX5Uk8",values:{aiEditing:l}}),(0,i.jsx)(m.x6,{id:"bO6EBT"})]}),u&&(0,i.jsxs)(eI.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"0jmvoW"})})," ",(0,i.jsx)(m.x6,{id:"OY40J+",values:{aiImages:c}})]}),d&&(0,i.jsxs)(eI.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"eBVeIQ"})})," ",(0,i.jsx)(m.x6,{id:"AJ11w6",values:{aiAutocomplete:o,AUTOCOMPLETE_SLASH_SHORTCUT:ez.g_,AUTOCOMPLETE_INPUT_SHORTCUT:ez.Hb}})]})]})}),(0,i.jsx)(eN,{accordionLabel:B.Ru._({id:"aY94pc"}),children:(0,i.jsx)(m.x6,{id:"V4Hmhl",values:{FREE_PROPER_NOUN:K.v2,creditsAtSignup:x}})}),a&&(0,i.jsxs)(eN,{accordionLabel:B.Ru._({id:"1pwdRz"}),children:[(0,i.jsx)("p",{children:(0,i.jsx)(m.x6,{id:"tWEjVh"})}),p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:(0,i.jsx)(m.x6,{id:"zozLpO",values:{maxCreditsLocalizedString:g}})})]})]})]})},eN=e=>{let{accordionLabel:t,children:n}=e;return(0,i.jsxs)(e_.A,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(eD.J,{px:2,py:2,fontSize:"sm",children:[(0,i.jsx)(d.a,{as:"span",flex:"1",textAlign:"start",fontWeight:"semibold",children:t}),(0,i.jsx)(eR.Q,{})]})}),(0,i.jsx)(eT.v,{pb:4,px:2,fontSize:"sm",children:n})]})};var eB=n(63111),eP=n(67604),eF=n(24939);let eV=()=>{let{subscription:e}=(0,L.I)(),t=null==e?void 0:e.nextCreditRefillTime,n=null!==t?(0,eB.A)((0,eP.A)(t),new Date):null;return n?(0,eF.GL)(n):null};var eO=n(32617),eZ=n(19106),eW=n(45485);let eU={plus:{editText:[1,3],editImage:[8,20],redesign:[200,300]},pro:{editText:[1,3],editImage:[8,20],redesign:[250,400]},ultra:{editText:[1,3],editImage:[8,20],redesign:[400,600]},team:{editText:[1,3],editImage:[8,20],redesign:[250,400]},business:{editText:[1,3],editImage:[8,20],redesign:[250,400]}},eG=()=>{let{currentWorkspace:e}=(0,Z.ur)(),{product:t}=(0,E.I)(),n=(0,eW.ez)("public_api",e),a=(0,eW.ez)("ai_models_ultra",e);if(!t)return null;let r=eU[t].editText[0],s=eU[t].editText[1],l=eU[t].editImage[0],o=eU[t].editImage[1],c=eU[t].redesign[0],d=eU[t].redesign[1];return(0,i.jsxs)(u.B,{spacing:4,children:[(0,i.jsx)(k.E,{children:(0,i.jsx)(q,{})}),(0,i.jsx)(k.E,{children:(0,i.jsx)("strong",{children:(0,i.jsx)(m.x6,{id:"SJxkYE",values:{AGENT_PROPER_NOUN:K.qV}})})}),(0,i.jsxs)(eI.Xy,{children:[(0,i.jsx)(eI.ck,{children:(0,i.jsx)(m.x6,{id:"jCQkt+",values:{editTextCostLowerBound:r,editTextCostUpperBound:s}})}),(0,i.jsx)(eI.ck,{children:(0,i.jsx)(m.x6,{id:"BQ+S9f",values:{editImageCostLowerBound:l,editImageCostUpperBound:o}})}),(0,i.jsx)(eI.ck,{children:(0,i.jsx)(m.x6,{id:"jh5wQO",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.TP,redesignCostLowerBound:c,redesignCostUpperBound:d}})})]}),a&&(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"7K3YqE",values:{ULTRA_PROPER_NOUN:K.v$,ultraImageModelsCostLowerBound:30,ultraImageModelsCostUpperBound:120},components:{0:(0,i.jsx)("strong",{})}})}),n&&(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"YkVuZS",components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)(h.N,{href:"https://developers.gamma.app",isExternal:!0,color:"deepocean.500"})}})})]})},eK=()=>{let{product:e}=(0,E.I)(),{monthlyCredits:t,maxCredits:n}=(0,eO.u)("plan-credits")[e],a=B.Ru.number(t,{useGrouping:!0}),r=B.Ru.number(n,{useGrouping:!0}),s=eV(),l=eZ.Qu[e].name;return(0,i.jsxs)(u.B,{spacing:4,children:[(0,i.jsx)(k.E,{children:(0,i.jsx)(m.x6,{id:"GpcXel",values:{planName:l,formattedMonthlyCredits:a,formattedMaxCredits:r}})}),s&&(0,i.jsx)(k.E,{children:s})]})},eQ=()=>{let{product:e}=(0,E.I)(),t=(0,eO.u)("plan-credits"),n=B.Ru.number(t.pro.monthlyCredits,{useGrouping:!0}),a=B.Ru.number(t.ultra.monthlyCredits,{useGrouping:!0});switch(e){case"plus":return(0,i.jsx)(m.x6,{id:"0bdOsj",values:{PRO_PROPER_NOUN:K.Kc,formattedProCredits:n,ULTRA_PROPER_NOUN:K.v$,formattedUltraCredits:a},components:{0:(0,i.jsx)("strong",{})}});case"pro":return(0,i.jsx)(m.x6,{id:"uPlFN3",values:{ULTRA_PROPER_NOUN:K.v$,formattedUltraCredits:a},components:{0:(0,i.jsx)("strong",{})}});default:return null}},eq=()=>{let e=(0,eE.F)(),t=eQ(),n=e?(0,i.jsx)(m.x6,{id:"kHp1NK",components:{0:(0,i.jsx)("strong",{})}}):(0,i.jsx)(m.x6,{id:"deEGDK",components:{0:(0,i.jsx)("strong",{})}});return t?(0,i.jsx)(u.B,{children:(0,i.jsxs)(eI.Xy,{children:[(0,i.jsx)(eI.ck,{children:n}),t&&(0,i.jsx)(eI.ck,{children:t})]})}):n},eJ=()=>(0,i.jsxs)(eM.n,{allowMultiple:!0,w:"100%",children:[(0,i.jsx)(e$,{question:(0,i.jsx)(m.x6,{id:"FEnrpk"}),answer:(0,i.jsx)(eG,{})}),(0,i.jsx)(e$,{question:(0,i.jsx)(m.x6,{id:"aY94pc"}),answer:(0,i.jsx)(eK,{})}),(0,i.jsx)(e$,{question:(0,i.jsx)(m.x6,{id:"4Eyi4b"}),answer:(0,i.jsx)(eq,{})})]}),e$=e=>{let{question:t,answer:n}=e;return(0,i.jsxs)(e_.A,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(eD.J,{px:2,py:2,fontSize:"sm",children:[(0,i.jsx)(d.a,{as:"span",flex:"1",textAlign:"start",fontWeight:"semibold",children:t}),(0,i.jsx)(eR.Q,{})]})}),(0,i.jsx)(eT.v,{pb:4,px:2,fontSize:"sm",children:n})]})};var eY=n(61204),eX=n(74676),e0=n(68013),e1=n(34807),e2=n(72470),e3=n(77979);let e5=e=>{let{url:t,placeholder:n,isDisabled:a=!1,variant:r="plain",customLabel:s,onClick:l,paddingLeft:o=4,...c}=e,[d,h]=(0,x.useState)(!1),{hasCopied:g,onCopy:f}=(0,e0.i)(t),b=(0,x.useRef)(null),C=(0,J.d)(),y="link-copied-toast",v=(0,e1.A)({base:!0,sm:!1},{fallback:"sm"});(0,x.useEffect)(()=>{b.current&&d&&(b.current.focus(),b.current.select())},[d]);let w=(0,x.useCallback)(()=>h(!0),[]),A=(0,x.useCallback)(()=>h(!1),[]),k=(0,x.useCallback)(()=>{f(),C.isActive(y)||C({id:y,title:(0,i.jsx)(m.x6,{id:"pQjjYo"}),status:"success",duration:5e3}),null==l||l()},[l,f,C]),L=s||(0,i.jsx)(m.x6,{id:"he3ygx"}),j=!!(v&&void 0!==s),E=(0,i.jsx)(p.$,{isDisabled:a,onClick:k,variant:r,w:"100%",...j?{}:{height:"2rem",margin:2},...a?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:g?(0,i.jsx)(m.x6,{id:"6V3Ea3"}):L}),S=(0,i.jsx)(eu.p,{ref:b,type:"text",variant:"filled",paddingLeft:o,direction:"ltr",value:t,isReadOnly:!0,isDisabled:a,placeholder:n||void 0,onClick:w,onBlur:A,pointerEvents:a?"none":void 0,h:"3rem",...c});return j?(0,i.jsxs)(u.B,{w:"100%",children:[S,E]}):(0,i.jsxs)(e2.M,{dir:"ltr",children:[S,(0,i.jsx)(e3.t,{h:"3rem",zIndex:1,w:"unset",children:E})]})};var e4=n(5061),e6=n(70006);let e9=()=>({friend:{label:B.Ru._({id:"uU68PM"})},teammate:{label:B.Ru._({id:"O/k8gF"})},buy:{label:B.Ru._({id:"/2RIKE"})}}),e7=e=>{let{onCloseCallback:t,onOpenCallback:n,segmentEvent:a}=e,r=(0,e4.fW)(),{user:s,currentWorkspace:l}=(0,Z.ur)(),o=(0,Z.CX)(),c=(0,O.ez)("unlimited_credits"),[d,u]=(0,x.useState)("buy"),h=(0,C.u)("ai-credits"),{enforceLimit:g,maxCredits:f}=(0,C.u)("enforce-credits-limit"),b=f.toLocaleString(),y=(0,x.useMemo)(()=>s?"teammate"===d&&l&&o?(0,e6.Fz)({userId:s.id,workspace:l}):"friend"===d?(0,e6.Fz)({userId:s.id}):"":"",[o,l,d,s]),v=h.referralBonus,w=e9()[d],A=r?"friend"===d?44:56:void 0;return(0,i.jsxs)($.T,{spacing:4,children:[(0,i.jsxs)(eY.e,{variant:"ghost",size:"sm",spacing:0,gap:2,justifyContent:"center",flexWrap:"wrap",alignItems:"center",children:[!c&&(0,i.jsx)(p.$,{onClick:()=>u("buy"),isActive:"buy"===d,color:"buy"===d?void 0:"gray.600",children:(0,i.jsx)(m.x6,{id:"Et23WT"})}),(0,i.jsx)(p.$,{onClick:()=>u("friend"),isActive:"friend"===d,color:"friend"===d?void 0:"gray.600",children:(0,i.jsx)(m.x6,{id:"KSBmDv"})}),o&&(0,i.jsx)(p.$,{leftIcon:(0,i.jsx)(N.g,{icon:H.nWR,fixedWidth:!0}),onClick:()=>u("teammate"),isActive:"teammate"===d,color:"teammate"===d?void 0:"gray.600",children:(0,i.jsx)(m.x6,{id:"dUOpaF"})})]}),("friend"===d||"teammate"===d)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(M.z,{spacing:2,children:[(0,i.jsxs)(k.E,{fontSize:"sm",minW:"50%",children:["friend"===d&&(0,i.jsx)(m.x6,{id:"tBKKYy",values:{referralBonusAmount:v,GAMMA_PROPER_NOUN:K.On}}),"teammate"===d&&(0,i.jsx)(m.x6,{id:"q8MWFp",values:{referralBonusAmount:v}}),g&&(0,i.jsx)(k.E,{fontSize:"xs",color:"gray.500",as:"span",display:"inline-block",children:(0,i.jsx)(m.x6,{id:"fzvA8p",values:{maxCreditsLocalizedString:b}})})]}),(0,i.jsxs)(eX.E,{colorScheme:"green",fontSize:"xs",children:["+"," ",(0,i.jsx)(m.x6,{id:"NFNFrR",values:{referralBonusAmount:v}})]})]}),(0,i.jsx)(e5,{url:y,paddingLeft:A,customLabel:w.label})]}),"buy"===d&&(0,i.jsx)(j,{segmentEvent:a,onOpenCallback:t,onCloseCallback:n,title:(0,i.jsx)(m.x6,{id:"1lwYKC"})})]})},e8=(0,x.memo)(e=>{let{onClose:t,onOpen:n,segmentEvent:x=S.VV.GAMMA_PRO_UPSELL_CALLOUT_AI_CREDITS}=e,{product:v}=(0,E.I)(),{lowCreditStatus:w}=(0,f.B9)(),A=!v,k=(0,C.u)("planCreditsLaunch")&&v&&["plus","pro"].includes(v)&&w===b.y.EXHAUSTED;return(0,i.jsx)(g.L8,{isDark:!1,children:(0,i.jsxs)(r.aF,{isOpen:!0,onClose:t,size:"xl",returnFocusOnClose:!1,children:[(0,i.jsx)(s.m,{}),(0,i.jsxs)(l.$,{overflow:"hidden",children:[(0,i.jsx)(o.s,{_hover:{bgColor:"blackAlpha.50"}}),(0,i.jsxs)(c.c,{pb:4,p:0,children:[(0,i.jsx)(d.a,{bg:"blue.50",borderBottom:"1px solid",borderColor:"blue.100",p:6,children:(0,i.jsx)(eS,{trackingSource:"credits_modal"})}),(0,i.jsxs)(u.B,{p:6,spacing:4,alignItems:"center",w:"100%",children:[A?(0,i.jsx)(e7,{onCloseCallback:t,onOpenCallback:n,segmentEvent:x}):k?(0,i.jsx)(j,{segmentEvent:x,onOpenCallback:t,onCloseCallback:n}):null,A?(0,i.jsx)(eH,{}):(0,i.jsx)(eJ,{}),(0,i.jsx)(p.$,{variant:"link",rightIcon:(0,i.jsx)(a.p,{}),as:h.N,isExternal:!0,href:y.C.AI_CREDITS,size:"xs",color:"gray.500",_hover:{color:"gray.700",textDecoration:"none"},children:(0,i.jsx)(m.x6,{id:"a3pVqb"})})]})]})]})]})})})},31113:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});let i={fontSize:"sm",borderRadius:"md",p:2}},31394:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});let i=e=>{let{variant:t}=e;return{variant:"unstyled",display:"inline-flex",position:"relative",_hover:{textDecoration:"none"},minW:"min(100%, 12em)",maxW:"100%",fontSize:"1em",py:"0.5em",minH:"2.75em",w:"var(--button-width)",h:"auto",px:"link"===t?"0.5em":"1em",transitionProperty:"none","data-variant":t}}},31612:(e,t,n)=>{"use strict";n.d(t,{TD:()=>a,dg:()=>s,pX:()=>l,sA:()=>r});var i=n(58495);function a(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!=(t=n.id)?t:(0,i.Ak)(),r="auto"===n.dismissable?new Date(Date.now()+5e3):n.dismissable;return{type:"addFeedback",payload:{id:a,message:e,severity:n.severity||"info",dismissable:r}}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"removeFeedback",payload:t}}function s(e){return{type:"openContextMenu",payload:{position:e}}}function l(){return{type:"closeContextMenu",payload:void 0}}},32973:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var i=n(6029),a=n(17399),r=n(73326),s=n(54765),l=n(46957);let o=e=>(0,i.jsx)(s.u,{...e,children:(0,i.jsx)("pre",{children:(0,i.jsx)(r.$p,{as:"code"})})}),c=a.Ay.extend({selectable:!1,isolating:!0,addNodeView:()=>(0,r.gu)(o,{update:l.z0})})},33424:(e,t,n)=>{"use strict";n.d(t,{Qo:()=>o,X6:()=>d,_F:()=>c,mn:()=>l,ng:()=>u});var i=n(84462),a=n.n(i),r=n(61385),s=n(36512);let l=e=>{let{isMobileDevice:t,numericFontSize:n}=e;return(t?s.AF:s.jN)/n},o=e=>"sm"===e?.875:"lg"===e?1.25:1,c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r.P},d=a()(e=>e?{"--top-accent-height-sm":"4.125em","--top-accent-height-md":"8em","--top-accent-height-lg":"12.375em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"12em"}:{"--top-accent-height-sm":"6.25em","--top-accent-height-md":"12.5em","--top-accent-height-lg":"18.75em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"24em"}),u=a()(e=>{let{isPresentMode:t,isNested:n,isFullBleed:i,displayFullBleed:a,isThumbnail:r,isMobileDevice:l,attrs:o}=e,c="none"!==o.background.type&&!n,d=r?"em":t?"rem":"em",u=a||n?"0px":l?"".concat(s.Hb).concat(d):"".concat(s.YW).concat(d),p="calc(var(--card-outer-padding-x) + ".concat(i||n?"0px":"var(--doc-padding-left, 0px)"," + ").concat(t?"var(--present-padding-left, 0px)":"0px",")"),h="calc(var(--card-outer-padding-x) + ".concat(i||n?"0px":"var(--doc-padding-right, 0px)"," + ").concat(t?"var(--present-padding-right, 0px)":"0px",")");return{outerPaddingX:u,outerPaddingY:a||n?"0px":l?"".concat(s._0/2).concat(d):!c||t||r?"".concat(s.Ri).concat(d):"".concat(s.St).concat(d),outerPaddingLeft:p,outerPaddingRight:h}})},33633:(e,t,n)=>{"use strict";n.d(t,{ww:()=>o});var i=n(55729),a=n(74158),r=n(25778),s=n(69138);n(54929);var l=n(22249);let o=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,r.CU)(),o=e.panelPosition,c=(0,a.wA)(),d=(0,r.GV)((0,l.El)(e)),u=(0,i.useCallback)(()=>{c((0,l.TQ)({component:e}))},[e,c]);return(0,s.V)(()=>{!t&&d&&c((0,l.Zv)({position:o}))},[d,c,t,o],[t]),{togglePanel:(0,i.useCallback)(i=>{if(!t)return;let a=!0;e.canClose&&(a=e.canClose(n));let r=!d;(null==i?void 0:i.override)==="open"?r=!0:(null==i?void 0:i.override)==="closed"&&(r=!1),r?c((0,l.NE)({component:e,disableTransition:!!(null==i?void 0:i.disableTransition),isResizable:!!(null==i?void 0:i.isResizable),props:null==i?void 0:i.props})):a&&c((0,l.Zv)({position:o}))},[e,c,t,d,o,n]),initPanel:u,isPanelOpen:d}}},34394:(e,t,n)=>{"use strict";n.d(t,{R5:()=>d,ZQ:()=>l,oP:()=>o});var i=n(55729),a=n(3131),r=n(42721),s=n(44798);let l=()=>{var e;let t=(0,a.in)(),n=(0,s.U9)(),{user:l,setSettings:o}=(0,r.ur)(),c=null==l||null==(e=l.settings)?void 0:e.preferredAiImageModel;return c&&c in a.Xz&&(c=a.Xz[c]),[c&&n(c)?c:t,(0,i.useCallback)(e=>{null==o||o({set:{preferredAiImageModel:e}})},[o])]},o=()=>{var e;let t=(0,r.HW)(),n=(0,a.in)(),i=null==t||null==(e=t.settings)?void 0:e.preferredAiImageModel;return i&&i in a.Xz&&(i=a.Xz[i]),i&&(0,s.hB)(i)?i:n},c=e=>{let{savedModel:t,checkModelAvailable:n,preferredAiImageModel:i}=e;return(t&&t in a.Xz&&(t=a.Xz[t]),t&&n(t))?t:i},d=e=>{let[t]=l();return c({savedModel:e,checkModelAvailable:(0,s.U9)(),preferredAiImageModel:t})}},34792:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var i=n(55729),a=n(43183);class r{createInteraction(){let e=a.l.create(this.name);return this.cleanupFn&&this.cleanupFn(),this.cleanupFn=e.on("end",()=>{this.current=this.createInteraction()}),e}stop(){"started"===this.current.span.status&&this.current.stop()}abort(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"started"===this.current.span.status&&this.current.abort(e)}reset(){this.current=this.createInteraction()}cleanup(){this.cleanupFn&&(this.cleanupFn(),this.cleanupFn=void 0)}constructor(e){this.name=e,this.name=e,this.current=this.createInteraction()}}let s=function(e){let{abortOnUnmount:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.useMemo)(()=>new r(e),[e]);return(0,i.useEffect)(()=>()=>{t&&n.current.abort(),n.cleanup()},[n,t]),(0,i.useEffect)(()=>{let e=()=>{t&&n.current.abort(!0)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[n,t]),n}},34806:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,k:()=>s});var i=n(93766);let a=e=>"".concat(e," !important"),r=e=>({fontFamily:a(e)}),s=e=>{let t={"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}}},n=Object.values(i.JM),r=e?"dark":"light";return n.forEach(e=>{t['[data-color="'.concat(e,'"]')]={color:a(i.gA.strokes[r][e]),":not(mask) > [fill], &[fill]":{"&:not([fill=none])":{fill:a(i.gA.fills[r][e]),"text, tspan":{fill:a(i.gA.strokes[r][e])}}},"[stroke]":{"&:not([stroke=none])":{stroke:a(i.gA.strokes[r][e])}}}}),t}},35289:(e,t,n)=>{"use strict";n.d(t,{p:()=>w});var i=n(6029),a=n(46898),r=n(57405),s=n(23293),l=n(48810),o=n(33787),c=n(49611),d=n(38036),u=n(36218),p=n(58959),h=n(19564),g=n(77650),m=n(48950),x=n(59230),f=n(25778),b=n(22216),C=n(43634),y=n(67097),v=n(62964);let w=e=>{let{updateAttributes:t,currentAttributes:n}=e,{sourceUrl:w,meta:A,thumbnail:k}=n,L=(0,f.GV)(C.aQ),j=(0,a.d)(),E=async()=>{w&&await (0,v.Yq)(w,t).catch(e=>{console.error("[EMBED METADATA] Error restoring preview defaults",e),j({title:g.Ru._({id:"cgB+pO",values:{0:e.error}}),status:"error",isClosable:!0,position:"top"})})};return(0,i.jsxs)(r.T,{pt:4,align:"stretch",spacing:4,children:[(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(s.D,{size:"md",children:(0,i.jsx)(h.x6,{id:"qbzc6p"})}),(0,i.jsx)(l.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(h.x6,{id:"D9R1mI"})})]}),(0,i.jsxs)(r.T,{align:"stretch",p:4,borderRadius:"lg",border:"1px solid var(--chakra-colors-blue-500)",bg:"gray.50",spacing:4,children:[(null==k?void 0:k.showPlaceholder)?(0,i.jsx)(b.Pf,{hasUploadError:(null==k?void 0:k.uploadStatus)===x.A.Error,isUploading:(null==k?void 0:k.uploadStatus)===x.A.Uploading,height:"200px",borderRadius:"md"}):k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o._,{src:k.src||k.tempUrl||"",alt:(null==A?void 0:A.title)||"",ignoreFallback:!0,borderRadius:"md"}),(0,i.jsx)(c.$,{isDisabled:k.uploadStatus===x.A.Uploading,onClick:()=>{t({thumbnail:void 0})},children:(0,i.jsx)(h.x6,{id:"YFcW0s"})})]}):L&&(0,i.jsx)(m.Z,{onUploadStart:e=>{let{file:n,tempUrl:i}=e;n.type&&(0,y.aI)(n.type)?t({thumbnail:{uploadStatus:x.A.Uploading,showPlaceholder:!0,tempUrl:null}}):t({thumbnail:{tempUrl:i,uploadStatus:x.A.Uploading,showPlaceholder:!1}})},onUploadSuccess:e=>{let{src:n}=e;t({thumbnail:{src:n}})},onUploadFailed:e=>{console.error("[EMBED METADATA] Error uploading thumbnail image",e),t({thumbnail:{uploadStatus:x.A.Error,showPlaceholder:!0,tempUrl:null}})},orgId:L||"",uploadType:"image",editType:"icon",dropHereText:g.Ru._({id:"yxTfZB",values:{0:"%{browse}"}}),customHeight:"200px",customFontSize:"sm"}),(0,i.jsxs)(r.T,{mt:2,align:"stretch",children:[(0,i.jsx)(l.E,{children:(0,i.jsx)(h.x6,{id:"MHrjPM"})}),(0,i.jsx)(d.p,{bg:"white",value:(null==A?void 0:A.title)||"",placeholder:g.Ru._({id:"bTzMt5"}),onChange:e=>{t({meta:{...A,title:e.target.value}})},"data-testid":"title-input"})]}),(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(l.E,{children:(0,i.jsx)(h.x6,{id:"Nu4oKW"})}),(0,i.jsx)(u.T,{bg:"white",rows:4,value:(null==A?void 0:A.description)||"",placeholder:g.Ru._({id:"2VBqT4"}),onChange:e=>{t({meta:{...A,description:e.target.value}})}})]}),(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(l.E,{children:(0,i.jsx)(h.x6,{id:"On0aF2"})}),(0,i.jsxs)(p.z,{children:[(null==A?void 0:A.icon)&&(0,i.jsx)(o._,{src:A.icon,h:"1.5em",borderRadius:"sm"}),(0,i.jsx)(d.p,{bg:"white",value:(null==A?void 0:A.site)||"",placeholder:g.Ru._({id:"SmWcKR"}),onChange:e=>{t({meta:{...n.meta,site:e.target.value}})}})]})]})]}),(0,i.jsx)(c.$,{onClick:E,children:(0,i.jsx)(h.x6,{id:"Z00hdC"})})]})}},35292:(e,t,n)=>{"use strict";n.d(t,{l:()=>r}),n(55729);var i=n(27002);n(25778),n(55084),n(70965);var a=n(1309);let r=e=>(0,i.u)("aiImageEditing")&&(0,a.k)(e)},35332:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var i=n(6029),a=n(83743),r=n(79649),s=n(55729),l=n(98902),o=n(9097),c=n(42403);let d=e=>{switch(e){case"none":return{rowGap:"0em",columnGap:"0em"};case"small":return{rowGap:"1em",columnGap:"1em"};case"medium":default:return{rowGap:"2em",columnGap:"1.25em"};case"large":return{rowGap:"2em",columnGap:"2em"}}},u=(0,s.memo)(e=>{let{children:t,cellSize:n,horizontalAlign:s,orientation:u,numCells:p,containerSize:h,onContextMenu:g,selectLayoutForElementProps:m,spacing:x="medium",wrapperStyle:f="none",gridStyle:b="standard",forceBalanceOverride:C}=e,y=C||(0,o.mr)({gridStyle:b}),v=(0,o.sW)({gridStyle:b}),{isHorizontal:w,columns:A,lastRowAligner:k}=(0,r.i)({cellSize:n,horizontalAlign:s,orientation:u,numCells:p,containerSize:h,forceBalance:y}),{rowGap:L,columnGap:j}=d(x),E=(0,l.n)({gridStyle:b,isHorizontal:w,columns:A,rowGap:L,columnGap:j});return(0,i.jsxs)(a.r,{"data-selection-ring":!0,...E,pos:"relative",onContextMenu:g,...m,className:(0,c.X)(f),children:[t,"center"===v&&k]})});u.displayName="GridWrapper"},35616:(e,t,n)=>{"use strict";n.d(t,{X:()=>N});var i=n(37243),a=n(73326),r=n(38934),s=n(46957),l=n(61964),o=n(39078),c=n(6029),d=n(48810),u=n(26420),p=n(49611),h=n(21938),g=n(99492),m=n(48621),x=n(33170),f=n(19564),b=n(77650),C=n(50333),y=n.n(C),v=n(55729),w=n(23746),A=n(58251),k=n(43607),L=n(91242),j=n(80180),E=n(11403),S=n(54765),M=n(50764),I=n(43216),_=n(96197),D=n(56124);let R=e=>{let{colWidths:t}=e;return(0,c.jsxs)("colgroup",{children:[(0,c.jsx)("col",{style:{width:"0%"}}),t.map((e,t)=>(0,c.jsx)("col",{className:"col-width-control",style:{width:"".concat(e,"%")}},t))]})};R.displayName="ColGroup";let T=e=>{var t;let n=(0,k.FX)(),{node:i,editor:r,getPos:s,decorations:C,updateAttributes:M}=e,{colMinPercent:_,newColSize:T}=r.schema.nodes.table.spec,H=(0,o.cG)(i.attrs.colWidths,T,_),N=l.J3.get(i),B=C.some(e=>e.spec.isFocusedInside),P=null==(t=C.find(e=>e.spec.isColumnSelected))?void 0:t.spec.colNumber,{colWidths:F}=i.attrs,V=(0,E.En)(),O=N.height*N.width;(0,v.useEffect)(()=>{N.width!==F.length&&setTimeout(()=>{M({colWidths:(0,o.I)(N.width)})},0)},[N.width,F,M]);let Z=(0,v.useCallback)(e=>{let t=s();if("number"==typeof t)return t+1+N.positionAt(0,e,i)},[s,i,N]),W=(0,v.useCallback)(e=>{let t=Z(e+1);if("number"!=typeof t)return;let n=t+1;r.chain().addColumnAfter(e).command(e=>{let{tr:t}=e,i=(0,L.s)(t.doc.resolve(n));return i&&t.setSelection(i),!0}).run()},[r,Z]),U=(0,v.useCallback)(()=>{W(N.width-1)},[W,N.width]),G=y()(i.attrs.colWidths.reduce((e,t)=>e+t,0),20);return V?O>=D.dM?(0,c.jsx)(a.VR,{children:(0,c.jsx)(d.E,{color:"red",contentEditable:!1,border:"1px solid red",p:"0.5em",children:(0,c.jsx)(f.x6,{id:"/ZI3Eo"})})}):(0,c.jsx)(S.u,{as:"div",...e,...i.attrs,children:(0,c.jsxs)(u.a,{w:"fit-content",overflowX:n?"auto":void 0,position:"relative",width:"100%",className:(0,h.cx)("table-wrapper",A.a0),"data-selection-ring":!0,children:[(0,c.jsxs)("table",{style:{width:n?"max-content":"".concat(G,"%"),minWidth:n?"100%":void 0,maxWidth:n?"200vw":void 0,tableLayout:n?"auto":"fixed",position:"relative"},children:[(0,c.jsx)(R,{cols:N.width,colWidths:F}),(0,c.jsx)("thead",{children:(0,c.jsx)(z,{numColumns:N.width,selectedColumn:P,getColumnPosition:Z,...e})}),(0,c.jsx)(a.$p,{as:"tbody",className:"table-content",style:{display:"contents"}})]}),(0,c.jsx)(I.A,{...e,handlePlacement:"outside","data-testid":"select-table-button",onClick:()=>{let e=Z(0);"number"==typeof e&&r.chain().focus().selectTable(e).run()},label:b.Ru._({id:"3xRGMR"})}),B&&(0,c.jsxs)(u.a,{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,c.jsx)(x.Tz,{placement:"right",label:b.Ru._({id:"AgvHni"}),children:(0,c.jsx)(p.$,{position:"absolute",insetInlineStart:"100%",top:"0",height:"100%",onClick:U,onMouseDown:j.Fw,minWidth:"0",width:"auto",isDisabled:!H,zIndex:1,"data-testid":"add-col-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:w.Gx,backgroundColor:"var(--clickable-background-color)",marginInlineStart:1,w:5,children:(0,c.jsx)(m.g,{icon:g.QLR})})}),(0,c.jsx)(x.Tz,{placement:"bottom",label:b.Ru._({id:"qZd/ph"}),children:(0,c.jsx)(p.$,{position:"absolute",insetInlineStart:"0",top:"100%",width:"100%",onClick:()=>{let e=s();if("number"!=typeof e)return;let t=N.height-1,n=N.width-1,a=e+1+N.positionAt(t,n,i);r.chain().focus(a).addRowAfter().run(),requestAnimationFrame(()=>r.chain().focus(a).goToNextCell().run())},onMouseDown:j.Fw,minHeight:"0",height:6,zIndex:4,"data-testid":"add-row-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:w.Gx,mt:1,children:(0,c.jsx)(m.g,{icon:g.QLR})})})]})]})}):null},z=e=>{let{numColumns:t,selectedColumn:n,getColumnPosition:i,...a}=e,{editor:r}=a,s=(0,v.useCallback)(e=>{let t=i(e);"number"==typeof t&&r.chain().focus().selectColumn(t).run()},[r,i]),[l,o]=(0,v.useState)(!1);if(!t)return null;let d=Array.from(Array(t).keys());return(0,c.jsxs)("tr",{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,c.jsx)("th",{style:{padding:0}}),d.map(e=>(0,c.jsx)(H,{colNumber:e,selectColumn:s,isSelected:e===n,getColumnPosition:i,isDragging:l,setIsDragging:o,...a},e))]})},H=(0,v.memo)(e=>{let{colNumber:t,selectColumn:n,getColumnPosition:i,isDragging:a,setIsDragging:r,...s}=e,{decorations:l,editor:o}=s,{colHover:d}=(0,M.L3)(l),{colFocus:p}=(0,M.lF)(l),h=(0,v.useCallback)(()=>n(t),[t,n]),g=(0,v.useCallback)(e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/x-column-index",t.toString()),e.stopPropagation(),r(!0)},[t,r]),m=(0,v.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",r(!0)},[r]),x=(0,v.useCallback)((e,t)=>{if(e===t)return;let n=i(e);"number"==typeof n&&o.chain().focus(n).command(n=>{let{tr:i,state:a}=n;return(0,_.aO)(e,t,a.selection,i)}).run()},[o,i]),f=(0,v.useCallback)(e=>{e.preventDefault(),r(!1);let n=parseInt(e.dataTransfer.getData("text/x-column-index"),10);if(isNaN(n))return void console.warn("Invalid fromCol in drop operation:",e.dataTransfer.getData("text/x-column-index"));let i=e.currentTarget.getBoundingClientRect(),a=e.clientX>i.left+i.width/2,s=t;a&&(s=t+1),n!==s&&!isNaN(s)&&n>=0&&s>=0?x(n,s):console.warn("Invalid column reorder parameters:",{fromCol:n,toCol:s,colNumber:t,isRightSide:a}),e.stopPropagation()},[t,x,r]),C=(0,v.useCallback)(e=>{e.preventDefault(),r(!1)},[r]);return(0,c.jsxs)("th",{style:{position:"relative",padding:0,border:0},className:"table-col-control",onDrop:f,onDragOver:m,onDragEnd:C,children:[(0,c.jsx)(I.A,{...s,handlePlacement:"top",label:b.Ru._({id:"pzbGX8"}),zIndex:"3",isVisible:d===t||p===t,onClick:h,onDragStart:g,"data-test-column-control":t}),(0,c.jsx)(u.a,{position:"absolute",top:"-2em",insetStart:"0.25em",insetEnd:"0.25em",bottom:"-2em",zIndex:"2",pointerEvents:a?"auto":"none",onDrop:f,onDragOver:m,onDragEnd:C,"data-testid":"column-drop-zone-".concat(t)})]},t)});H.displayName="SelectColumnHeader";let N=i.bP.create({name:"table",priority:r.y.Table,containerHandle:!0,addNodeView:()=>(0,a.gu)(T,{update:s.z0}),addOptions:()=>({resizable:!0,handleWidth:10,colMinPercent:10,newColSize:20,lastColumnResizable:!1,allowTableNodeSelection:!0}),content:"tableRow+",tableRole:"table",isolating:!0,allowGapCursor:!1,group:"cardBlock layoutBlock footnoteBlock calloutBlock",parseHTML:()=>[{tag:"table"}],renderHTML(e){let{HTMLAttributes:t}=e;return["table",(0,i.KV)(this.options.HTMLAttributes,t),["tbody",0]]},addAttributes(){let e="colWidths";return{colWidths:{default:[],renderHTML:t=>{let{colWidths:n}=t;return n&&n.length?{[e]:JSON.stringify(n)}:{}},parseHTML:t=>{let n=t.getAttribute(e);if(n)try{let e=JSON.parse(n);if(Array.isArray(e))return(0,o.fF)(e),e}catch(e){}let i=t.querySelector("tr");if(!i)return[];let a=0;return i.childNodes.forEach(e=>{"TD"===e.nodeName&&a++}),(0,o.I)(a)}},fullWidthBlock:{default:!1}}},addCommands(){return{insertTable:function(){let{rows:e=3,cols:t=3,withHeaderRow:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i=>{let{dispatch:a,editor:r,commands:s}=i;if(!a)return!1;let l=function(e,t,n,i,a){let r=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let i=e.nodes[n];i.spec.tableRole&&(t[i.spec.tableRole]=i)}),e.cached.tableNodeTypes=t,t}(e),s=[],l=[];for(let e=0;e<n;e+=1){var c,d;let e=(c=r.cell,c.createAndFill());e&&l.push(e)}let u=[];for(let e=0;e<t;e+=1)u.push(r.row.createChecked(null,i&&0===e?s:l));return r.table.createChecked({colWidths:(0,o.I)(n)},u)}(r.schema,e,t,n);return s.insertContentAndSelect(l.toJSON())}},addColumnBefore:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!(0,l.aH)(n.selection)||!i)return!1;let r=(0,l._t)(n.selection);if(!r)return!1;let{table:s,tableStart:o}=r;return(0,l.cq)(a,{table:s,col:e,tableStart:o,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},addColumnAfter:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!(0,l.aH)(n.selection)||!i)return!1;let r=(0,l._t)(n.selection);if(!r)return!1;let{table:s,tableStart:o}=r;return(0,l.cq)(a,{table:s,col:e+1,tableStart:o,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},moveColumn:(e,t)=>n=>{let{state:i,dispatch:a,tr:r}=n;return!!a&&(0,l.aO)(e,t,i.selection,r,a)},equalizeColumns:()=>e=>{let{state:t,dispatch:n,tr:i}=e;if(!(0,l.aH)(t.selection)||!n)return!1;let a=(0,l._t)(t.selection);if(!a)return!1;let{map:r,tableStart:s}=a;return i.setNodeMarkup(s-1,void 0,{colWidths:(0,o.I)(r.width)}),!0},visualizeTable:()=>e=>{let{state:t,dispatch:n,tr:i}=e;if(!(0,l.aH)(t.selection)||!n)return!1;let a=(0,l._t)(t.selection);if(!a)return!1;let{map:r,tableStart:s}=a;return i.setNodeMarkup(s-1,void 0,{colWidths:(0,o.I)(r.width)}),!0},deleteColumn:()=>e=>{let{state:t,dispatch:n,tr:i}=e;return!!n&&(0,l.Kl)(t.selection,i,n)},addRowBefore:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.JD)(t,n)},addRowAfter:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.gC)(t,n)},deleteRow:()=>e=>{let{state:t,dispatch:n,tr:i}=e;return(0,l.QN)(t.selection,i,n)},deleteTable:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,l.CG)(t.selection,n,i)},deleteTableWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,l.lD)(t.selection,n,i)},deleteColWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,l.Tn)(t.selection,n,i)},deleteRowWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,l.rO)(t.selection,n,i)},mergeCells:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.w7)(t,n)},splitCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.L0)(t,n)},toggleHeaderColumn:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.Qg)(t,n)},toggleHeaderRow:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.uC)(t,n)},toggleHeaderCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l._G)(t,n)},mergeOrSplit:()=>e=>{let{state:t,dispatch:n}=e;return!!(0,l.w7)(t,n)||(0,l.L0)(t,n)},setCellAttribute:(e,t)=>n=>{let{state:i,dispatch:a}=n;return(0,l.i4)(e,t)(i,a)},goToNextCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.D8)(1)(t,n)},goToPreviousCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,l.D8)(-1)(t,n)},fixTables:()=>e=>{let{state:t,dispatch:n}=e;return n&&(0,l.rP)(t),!0},setCellSelection:e=>t=>{let{tr:n,dispatch:i}=t;if(i){let t=l.rn.create(n.doc,e.anchorCell,e.headCell);n.setSelection(t)}return!0}}},addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteTableWhenEmpty(),()=>t.deleteRowWhenEmpty(),()=>t.deleteColWhenEmpty()]});return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},addProseMirrorPlugins(){return this.options.resizable,[(0,l.AL)({handleWidth:this.options.handleWidth,colMinPercent:this.options.colMinPercent,lastColumnResizable:this.options.lastColumnResizable}),(0,l.LF)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){var t,n;let a={name:e.name,options:e.options,storage:e.storage};return{colMinPercent:null==(t=e.options)?void 0:t.colMinPercent,newColSize:null==(n=e.options)?void 0:n.newColSize,tableRole:(0,i.gk)((0,i.iI)(e,"tableRole",a))}}})},35883:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var i=n(6029),a=n(78140),r=n(36999),s=n(49611),l=n(41283),o=n(99492),c=n(48621),d=n(33170),u=n(19564),p=n(77650),h=n(78294),g=n(80180),m=n(24813);let x=e=>{let{editor:t,color:n,setColor:x,analyticsSource:f}=e;return(0,i.jsxs)(a.W,{isLazy:!0,onClose:()=>t&&(0,m.q)(t),children:[(0,i.jsx)(d.Tz,{placement:"top",label:(0,i.jsx)(u.x6,{id:"XAIjEI"}),"aria-label":p.Ru._({id:"XAIjEI"}),children:(0,i.jsx)(r.I,{as:s.$,variant:"toolbar","data-formatting-menu-button":!0,rightIcon:(0,i.jsx)(c.g,{icon:o.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:g.Fw,children:(0,i.jsx)(c.g,{icon:o.fyG})})}),(0,i.jsx)(l.c,{overflow:"hidden",children:(0,i.jsx)(h.b,{currentColor:n||null,setColor:x,source:f})})]})}},36145:(e,t,n)=>{"use strict";n.d(t,{Qx:()=>m,p$:()=>C,dM:()=>x,bC:()=>y,KS:()=>h,xH:()=>p,XE:()=>u});var i=n(63867),a=n(87996),r=n(46007),s=n(67097),l=n(8376),o=n(53138);let c=e=>RegExp("^\\s*<svg.*<\\/svg>\\s*$","s").test(e);var d=n(16595);let u=(e,t,n,i)=>{var r,s;let l=(n,i)=>{(0,d.Ki)(e,i||t,n)},o={onOriginalFileUpload:l,onUploadComplete:l,onUploadFailed:n=>{(0,d.wt)(e,t,n,i)}};n?(0,a.QM)(n,null==(r=e.storage.mediaUpload)?void 0:r.orgId,o):(0,a.j_)(t,null==(s=e.storage.mediaUpload)?void 0:s.orgId,o)},p=async(e,t)=>{try{let n=await fetch(t),i=await n.blob(),a=new File([i],"blob.png",{type:i.type});u(e,t,a)}catch(n){(0,d.wt)(e,t,n)}},h=e=>{let t=(0,r.QC)(e);return(0,s.u3)(e.type)||(0,r.PQ)(e.type,t)||(0,r.cZ)(e.type,t)},g=e=>({props:{transformPasted:t=>(t.content.descendants(t=>{if("image"===t.type.name&&"image.web"!==t.attrs.source){if(t.attrs.tempUrl){let n=e.storage.mediaUpload,i=null==n?void 0:n.completedUploads[t.attrs.tempUrl];if(!i)return;Object.assign(t.attrs,(0,d.wH)(t,(0,d.yK)({isError:!1,result:i})))}else if(t.attrs.src&&!(0,s.md)(t.attrs.src)){let n,i=t.attrs.src;if(i.startsWith("blob:")){Object.assign(t.attrs,(0,d.F)(i)),p(e,i);return}if(i.startsWith("data:")){if(!(n=(0,s.Xz)(t.attrs.src)))return;i=URL.createObjectURL(n)}Object.assign(t.attrs,(0,d.F)(i)),u(e,i,n)}}}),t),handlePaste:(t,n,i)=>b(e,t,n,i),handleDOMEvents:{drop:(t,n)=>f(e,t,n)}}}),m=e=>new i.k_(g(e)),x=(e,t)=>{var n;if(!e.clipboardData)return null;let i=e.clipboardData.getData("text/html"),a=e.clipboardData.getData("text/plain");if(a&&!i&&c(a))return[(0,s.Qm)(a)];let r=Array.prototype.slice.call(e.clipboardData.items);return r.some(e=>"text/html"===e.type)&&(t.content.childCount>1||(null==(n=t.content.firstChild)?void 0:n.type.name)!=="image")?null:r.map(e=>e.getAsFile()).filter(e=>!!e).filter(h)},f=(e,t,n)=>{if(!e.isEditable)return!1;let i=C(n).filter(h);if(0===i.length)return!1;let a=(0,l.M)(t,n);return!!a&&(n.preventDefault(),(0,o.nK)(e,i,a),!0)},b=(e,t,n,i)=>{if(!e.isEditable)return!1;let a=x(n,i);if(!a||0===a.length)return!1;let{selection:r}=t.state,s=r.from;return r.empty||e.commands.deleteSelection(),(0,o.nK)(e,a,s),!0};function C(e){let t=[],n=e.target;if(e.dataTransfer){let n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else n&&n.files&&(t=n.files);return Array.prototype.slice.call(t)}let y=(e,t,n)=>{let i=x(t,n);if(!i||1!==i.length)return!1;let a=i[0],r=(0,o.YC)(a,e);return{attrs:r.content.attrs,upload:r.upload}}},36333:(e,t,n)=>{"use strict";n.d(t,{O:()=>y});var i=n(6029),a=n(24302),r=n(26385),s=n(48810),l=n(40162),o=n(55729),c=n(96192),d=n(83916),u=n(49611),p=n(55597),h=n(48621),g=n(90184),m=n(89528),x=n(84287),f=n(89942),b=n(37605);let C=e=>{let{operation:t,handleQuickAction:n,...r}=e,{openUpsellModal:s}=(0,x.I)(),l=(0,a.dU)({bg:"blackAlpha.100",color:"deepocean.950",sx:{"&:hover":{bg:"blackAlpha.300"},"&:disabled:hover":{bg:"blackAlpha.100"}},colorScheme:"blackAlpha"},{bg:"whiteAlpha.100",color:"whiteAlpha.800",sx:{"&:hover":{bg:"whiteAlpha.300"},"&:disabled:hover":{bg:"whiteAlpha.100"}},colorScheme:"whiteAlpha"}),c=(0,o.useMemo)(()=>!t.productFeature||(0,f.vT)(t.productFeature),[t.productFeature]),d=(0,o.useCallback)(()=>{if(!c)return void s({targetFeature:t.productFeature,segmentEvent:t.upsellModalSegmentEvent||b.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_BUDDY_EDIT_CHAT});n(t)},[c,n,s,t]);return(0,i.jsxs)(u.$,{leftIcon:t.icon?(0,i.jsx)(h.g,{icon:t.icon}):(0,i.jsx)(h.g,{icon:p._$C}),onClick:d,borderRadius:"full",variant:"ghost",...l,size:"xs",isTruncated:!0,flexShrink:0,...r,children:[t.label(),t.productFeature&&!c&&(0,i.jsx)(m.Ch,{productFeature:t.productFeature,canUseFeature:c,ms:2}),c&&t.creditCostType&&(0,i.jsx)(g.G,{type:t.creditCostType,colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ms:2})]})},y=e=>{let{actionGroups:t,onQuickAction:n,wrapProps:u}=e,{disabledReason:p}=(0,c.C)(),h=null!==p,g=(0,d.u)(),m=(0,a.dU)(h?"gray.300":"gray.600",h?"gray.700":"gray.400"),x=(0,o.useCallback)(e=>{if(n)return void n(e);e.onQuickAction(g,e)},[n,g]);return(0,i.jsx)(i.Fragment,{children:t.map(e=>{let t=e.operations.filter(e=>!e.checkEnabled||e.checkEnabled());return 0===t.length?null:(0,i.jsxs)(r.B,{children:[e.label&&(0,i.jsx)(s.E,{fontSize:"xs",fontWeight:"semibold",color:m,children:e.label()}),(0,i.jsx)(l.B,{spacing:1.5,...u,children:t.map(e=>(0,i.jsx)(l.Q,{children:(0,i.jsx)(C,{operation:e,handleQuickAction:x,disabled:h})},e.key))})]},e.key)})})}},36464:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>i.Ht});var i=n(80738)},36512:(e,t,n)=>{"use strict";n.d(t,{AF:()=>a,HY:()=>s,Hb:()=>u,IM:()=>h,Ri:()=>o,St:()=>p,Vy:()=>m,YW:()=>d,_0:()=>c,br:()=>x,cK:()=>r,jN:()=>i,lA:()=>g,rN:()=>l,s5:()=>f});let i=3.5,a=1.5,r=2.75,s=1.5,l=2.25,o=2,c=1,d=2,u=.5,p=8,h=.5,g=60,m=95,x=115,f=47.5},36545:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var i=n(27002);let a=()=>{let e=(0,i.u)("buyCreditsOneTime2"),t=(0,i.u)("buyCreditsAutoRecharge2");return e||t}},37327:(e,t,n)=>{"use strict";n.d(t,{E0:()=>o,KB:()=>s,hc:()=>c,uI:()=>l});var i=n(62964),a=n(71753),r=n(64811);let s=e=>!!e.includes("://"),l=(e,t)=>{c(e)||(0,i.Yq)(e,n=>{let{doc:i,schema:r,tr:s}=t.state;(0,a.Zo)(i,t.schema.marks.link).forEach(t=>{let{node:i,pos:a}=t,l=i.marks.find(t=>"link"===t.type.name&&t.attrs.href==e);l&&s.removeMark(a,a+i.nodeSize,l).addMark(a,a+i.nodeSize,r.marks.link.create({...l.attrs,...n}))}),t.view.dispatch(s)}).catch(e=>{console.error("[Link.fetchUrlThenUpdateMarks]",e)})},o=e=>e.attrs.source||e.attrs.meta||e.attrs.embed,c=e=>{if(!e)return!1;let t=e&&e.toLowerCase();for(let e of r.r)if(t.startsWith(e+":"))return!0;return!1}},37537:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>iX});var i=n(6029),a=n(33170),r=n(55729),s=n(35946),l=n(46898),o=n(40452),c=n(57405),d=n(77650),u=n(58495),p=n(91938),h=n(67909),g=n(36071),m=n(68728),x=n(3674),f=n(40691),b=n(33787),C=n(26385),y=n(26420),v=n(74676),w=n(48810),A=n(23293),k=n(83743),L=n(58297),j=n(58959),E=n(49611),S=n(99492),M=n(48621),I=n(19564),_=n(36545),D=n(27002),R=n(1079),T=n(99038),z=n(84287),H=n(6807),N=n(67097),B=n(65148);let P=[{title:(0,i.jsx)(I.x6,{id:"HP/siv"}),body:(0,i.jsx)(I.x6,{id:"6klaaI"}),icon:S.$UM,color:"purple.700",bgColor:"purple.100"},{title:(0,i.jsx)(I.x6,{id:"plyPGX"}),body:(0,i.jsx)(I.x6,{id:"El+YtR"}),icon:S.xXs,color:"green.700",bgColor:"green.100"},{title:(0,i.jsx)(I.x6,{id:"VYKV4V"}),body:(0,i.jsx)(I.x6,{id:"eHP61u"}),icon:S.fyG,color:"orange.700",bgColor:"orange.100"}],F=()=>{let{product:e}=(0,z.I)(),t=(0,D.u)("planCreditsLaunch"),[n,a]=(0,H.M)(B.E.lastDismissedGammaAgentIntroModal,!1),s=(0,r.useCallback)(()=>{a(!1)},[a]);return!t||n?{agentIntroModal:null,openAgentIntroModal:s}:{agentIntroModal:(0,i.jsx)(V,{isPaidPlan:!!e,onClose:()=>{a(!0)}}),openAgentIntroModal:s}},V=e=>{let{onClose:t,isPaidPlan:n}=e;return(0,i.jsx)(a.L8,{isDark:!1,children:(0,i.jsxs)(h.aF,{isOpen:!0,onClose:t,size:{base:"4xl",md:"5xl"},children:[(0,i.jsx)(g.m,{backdropFilter:"blur(10px)",bg:{base:"url(".concat((0,N.Ub)("https://static.gamma.app/images/color-waves-3656934a.png",{width:1e3}),")"),md:"whiteAlpha.800"}}),(0,i.jsxs)(m.$,{overflow:"hidden",children:[(0,i.jsx)(x.s,{bg:"whiteAlpha.700"}),(0,i.jsx)(f.c,{p:0,m:0,children:(0,i.jsxs)(o.s,{flexDirection:{base:"column-reverse",md:"row"},h:"100%",children:[(0,i.jsx)(o.s,{children:(0,i.jsx)(b._,{src:(0,N.Ub)("https://cdn.gamma.app/zc87vhr30n8uf3n/5ddad5f95ff34748a8ba4b30e189ff35/original/image.png",{width:1e3}),display:{base:"none",md:"block"},h:"100%",objectFit:"cover"})}),(0,i.jsxs)(C.B,{w:"100%",h:"100%",spacing:4,px:{base:8,md:8},pt:{base:8,md:10},pb:{base:12,md:10},justifyContent:"center",children:[(0,i.jsxs)(C.B,{spacing:2,children:[(0,i.jsx)(y.a,{children:(0,i.jsx)(v.E,{colorScheme:"green",display:"inline",children:(0,i.jsx)(I.x6,{id:"isRobC"})})}),(0,i.jsxs)(C.B,{children:[(0,i.jsx)(w.E,{fontWeight:"bold",color:"deepocean.950",children:(0,i.jsx)(I.x6,{id:"VijDaN"})}),(0,i.jsx)(A.D,{size:"4xl",as:"h1",lineHeight:"1.1",letterSpacing:"tight",mt:-2,children:T.Gg})]})]}),(0,i.jsxs)(C.B,{children:[(0,i.jsx)(w.E,{fontSize:"md",fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"ANndy9",values:{GAMMA_PROPER_NOUN:T.On}})}),(0,i.jsx)(w.E,{fontSize:"md",children:(0,i.jsx)(I.x6,{id:"T7PTHt"})})]}),(0,i.jsxs)(C.B,{children:[(0,i.jsx)(w.E,{fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"5wxwGa",values:{AGENT_PROPER_NOUN:T.qV}})}),(0,i.jsx)(k.r,{columns:{base:1,lg:3},spacing:3,children:P.map((e,t)=>(0,i.jsxs)(C.B,{alignItems:"flex-start",spacing:3,bg:e.bgColor,p:4,borderRadius:"md",children:[(0,i.jsx)(L.j,{flexShrink:0,size:6,color:e.color,children:(0,i.jsx)(M.g,{icon:e.icon,fixedWidth:!0})}),(0,i.jsxs)(c.T,{spacing:2,alignItems:"flex-start",children:[(0,i.jsx)(w.E,{color:e.color,fontWeight:"bold",children:e.title}),(0,i.jsx)(w.E,{children:e.body})]},t)]},t))}),(0,i.jsx)(W,{})]}),(0,i.jsx)(j.z,{alignItems:"flex-start",children:(0,i.jsx)(E.$,{variant:"solid",onClick:t,children:(0,i.jsx)(I.x6,{id:"V/4aXK",values:{GAMMA_AGENT_PROPER_NOUN:T.Gg}})})})]})]})})]})]})})},O=()=>(0,i.jsx)(E.$,{as:"a",justifyContent:"flex-start",target:"_blank",rel:"noopener noreferrer",rightIcon:(0,i.jsx)(M.g,{icon:S.dmS}),variant:"link",size:"sm",href:R.C.AI_CREDITS,children:(0,i.jsx)(I.x6,{id:"HnzrV0"})}),Z=()=>{let e=!!(0,z.I)().product,t=(0,_.F)();return e?t?{heading:(0,i.jsx)(I.x6,{id:"WknhJi",values:{AGENT_PROPER_NOUN:T.qV}}),body:(0,i.jsx)(I.x6,{id:"wyBuTc",values:{AGENT_PROPER_NOUN:T.qV}})}:{heading:(0,i.jsx)(I.x6,{id:"t1l78S",values:{AGENT_PROPER_NOUN:T.qV}}),body:(0,i.jsx)(I.x6,{id:"7ouSvO",values:{AGENT_PROPER_NOUN:T.qV}})}:{heading:(0,i.jsx)(I.x6,{id:"ZxMeTR",values:{AGENT_PROPER_NOUN:T.qV}}),body:(0,i.jsx)(I.x6,{id:"K8pdOk",values:{AGENT_PROPER_NOUN:T.qV}})}},W=()=>{let{heading:e,body:t}=Z();return(0,i.jsxs)(C.B,{mt:1,p:3,alignItems:"flex-start",borderRadius:"md",bg:"blue.50",children:[(0,i.jsx)(w.E,{fontSize:"sm",fontWeight:"semibold",children:e}),(0,i.jsx)(w.E,{fontSize:"sm",children:t}),(0,i.jsx)(O,{})]})};var U=n(81807),G=n(6272),K=n(85942),Q=n(34792),q=n(17859),J=n(3131),$=n(66380),Y=n(92437),X=n(25778),ee=n(88586),et=n(95889),en=n(99552),ei=n(91792),ea=n(43634),er=n(56829);let es=()=>{let e=(0,l.d)(),[t]=(0,ee.vlJ)(),n=(0,X.GV)(en.df),{docId:a,getCollaborativeEditorInstance:s}=(0,er.mi)(),o=(0,X.GV)(ea.SJ),c=s(),d=(0,et.st)(),{updateDocThemeWithAccentImages:u}=(0,ei.Kt)({docId:a,editor:c}),p=(0,r.useCallback)(e=>{n&&e.id!==o.id&&t({variables:{input:{siteId:n,themeId:e.id}},update:(t,i)=>{let{data:a}=i,r=t.readFragment({id:"Theme:".concat(e.id),fragment:ee.qaq,fragmentName:"DefaultThemeFields"});t.updateQuery({query:ee.zLA,variables:{id:n}},e=>e&&e.site&&r?{...e,site:{...e.site,...null==a?void 0:a.updateSite,theme:r}}:e)}}).then(()=>{})},[n,o.id,t]),h=(0,r.useCallback)(t=>{t.id!==o.id&&u(t.id).then(()=>{null==d||d.track(et.VV.DOC_THEME_UPDATED,{doc_id:a,theme_id:t.id})}).catch(t=>{console.error(t),e({title:(0,i.jsx)(I.x6,{id:"Fulf8b",values:{0:t.message}}),position:"top",status:"error"})})},[d,o.id,a,e,u]);return(0,r.useCallback)(e=>n?p(e):h(e),[n,h,p])};var el=n(7554),eo=n(43501),ec=n(47956);let ed=(e,t)=>{var n;let i=e&&(null==(n=(0,eo.lI)(e))?void 0:n.aiOptions.imageOptions),a=(null==i?void 0:i.provider)||t.imageProvider,r=(null==i?void 0:i.model)!=null&&i.model in J.Rz?i.model:t.imageModel,s=(null==i?void 0:i.generateStyle)||t.imageStyle,l=(null==i?void 0:i.visualsMenuEnabled)||t.imageOptions.visualsMenuEnabled;return{imageProvider:a,imageModel:r,imageStyle:s,visualsMenuEnabled:l,artStylePreset:(null==i?void 0:i.artStylePreset)||t.imageOptions.artStylePreset,artStylePrompt:(null==i?void 0:i.artStylePrompt)||t.imageOptions.artStylePrompt}},eu=()=>{let e=(0,X.CU)(),t=(0,X.GV)(ec.eb),n=(0,X.GV)(ea.SJ),i=(0,$.V)(),a=(0,X.GV)(ec.G),s=es(),l=(0,r.useCallback)(t=>{let n=(0,el.ST)(e.getState()).find(e=>e.id===t);n&&s(n)},[s,e]),o=ed(t,i),c=J.Rz[o.imageModel];return!c.productFeature||(0,Y.vT)(c.productFeature)||(o.imageModel=(0,J.in)()),{editor:t,store:e,theme:n,chatId:a,imageOptions:o,applyTheme:l}};var ep=n(49023),eh=n(42721),eg=n(6595),em=n(94257),ex=n(43183),ef=n(98701),eb=n(83605),eC=n(13559),ey=n(37243),ev=n(47665);class ew{current(){return this._cardIds[this.index]}take(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return this._cardIds.slice(this.index,this.index+e)}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._cardIds.findIndex(t=>t===e);return -1===n&&(this.index=0),n+t<0?this.index=0:n+t>this._cardIds.length-1?this.index=this._cardIds.length-1:this.index=n+t,this}scrollAndSelect(e){let t=this.current();eg.r.ensureCardInView({editor:e},t);let n=(0,ev.W0)(e,t);n&&e.chain().selectInsideCardBody(n.pos).focus().run()}constructor(e){this._cardIds=e,this.index=0}}let eA=e=>new ew((0,ey.xe)(e.state.doc,e=>(0,ev.jg)(e)).filter(t=>1===e.state.doc.resolve(t.pos).depth).map(e=>{var t;return null==(t=e.node.attrs)?void 0:t.id}));class ek{get id(){return this.input.toolCallId}preview(e,t){return{previewType:"doc",originalPreviewCardIds:this.getOriginalPreviewCardIds(e),modifiedPreviewCardIds:this.getModifiedPreviewCardIds(t),appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.originalCardToSelect(),modifiedScrollToCardId:this.modifiedCardToSelect()}}getOriginalPreviewCardIds(e){return eA(e.editor).goto(this.input.cardId,-1).take(3)}getModifiedPreviewCardIds(e){return eA(e.editor).goto(this.input.cardId,-1).take(3)}originalCardToSelect(){return this.input.cardId}modifiedCardToSelect(){return this.input.cardId}async apply(e){let{editor:t}=e,n=(0,ev.W0)(t,this.cardId);if(!n)throw Error("Cannot find card with id ".concat(this.cardId));let i=(0,ev.W0)(t,this.input.movePositionCardId);if(!i)throw Error("Cannot find target position card with id ".concat(this.input.movePositionCardId));t.chain().rearrangeCards({from:n.pos,to:i.pos,position:"after"===this.input.movePosition?"below":"above"}).selectInsideCardBody(n.pos).scrollIntoView().run(),setTimeout(()=>{eg.r.ensureCardInView(e,this.cardId)},200)}async rollback(e){throw Error("Rollback not implemented")}getAppliedFirstPos(e){var t,n;return null!=(n=null==(t=eg.r.findTopLevelCards(e.editor).find(e=>e.cardId===this.cardId))?void 0:t.pos)?n:eg.r.DEFAULT_APPLIED_FIRST_POS}serialize(){return{type:this.type,input:this.input}}constructor(e){this.input=e,this.type="moveCard",this.previewType="doc",this.messageId=e.messageId,this.cardId=e.cardId}}class eL{preview(e,t){return"card"===this.input.previewType?{previewType:"card",originalPreviewCardId:this.cardId,modifiedPreviewCardId:this.cardId,appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.cardId,modifiedScrollToCardId:this.cardId,originalContextCardIds:eA(e.editor).goto(this.cardId).take(3),modifiedContextCardIds:eA(t.editor).goto(this.cardId).take(3)}:{previewType:"image",oldAttrs:this.input.oldAttrs,newAttrs:this.input.newAttrs,appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.cardId,modifiedScrollToCardId:this.cardId}}async apply(e){await eg.r.ensureCardInView(e,this.cardId,1e3),(0,em.ih)(e.editor,this.input.position,this.input.newAttrs)}async rollback(e){}getAppliedFirstPos(e){let t=(0,ev.W0)(e.editor,this.cardId);return t?t.pos:(console.error("[EditCardSuggestion] Cannot find card with id",this.cardId),eg.r.DEFAULT_APPLIED_FIRST_POS)}serialize(){return{type:this.type,input:this.input}}constructor(e){this.input=e,this.type="imageEditContent",this.messageId=e.messageId,this.id=this.input.toolCallId,this.cardId=this.input.cardId}}var ej=n(6359),eE=n(42187),eS=n(45666),eM=n(13080),eI=n(20775),e_=n(8327),eD=n(81880),eR=n(89942),eT=n(43182),ez=n(56603),eH=n(61357),eN=n(3383);async function eB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full",n=await fetch("".concat(p.$.API_HOST,"/ai/tools/read-url"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,mode:t,workspaceId:(0,eh.gx)()}),credentials:"include"});if(!n.ok)throw Error((await n.json().catch(()=>({}))).message||"HTTP ".concat(n.status));let i=await n.json();return"summary"===t?{url:e,title:i.title||"Unknown",content:i.summary||"",mode:"summary",publishedDate:i.publishedDate,author:i.author}:{url:e,title:i.title||"Unknown",content:i.content||"",mode:"full",metadata:i.metadata||{}}}async function eP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=await fetch("".concat(p.$.API_HOST,"/ai/tools/search-web"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,numResults:t,type:"keyword",text:{maxCharacters:2e3}}),credentials:"include"});if(!n.ok)throw Error((await n.json().catch(()=>({}))).message||"HTTP ".concat(n.status));let i=await n.json();return{query:e,numResults:i.length,results:i.map(e=>({id:e.id,title:e.title,url:e.url,text:e.text||"",publishedDate:e.publishedDate,author:e.author}))}}var eF=n(21);class eV{get id(){return this.input.toolCallId}preview(e,t){return{previewType:"doc",originalPreviewCardIds:this.getOriginalPreviewCardIds(e),modifiedPreviewCardIds:this.getModifiedPreviewCardIds(t),appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.originalCardToSelect({editor:e.editor}),modifiedScrollToCardId:this.modifiedCardToSelect({editor:t.editor})}}async apply(e){let{editor:t}=e,n=eg.r.findCardInsertRange(t,this.input.createPositionCardId,this.input.createPosition);eg.r.checkCardById(t,this.cardId)||(t.chain().insertContentAt(n,this.cardJson).selectInsideCardBody(n.from).scrollIntoView().run(),(0,eF.Sg)({editor:t,content:this.cardJson,theme:e.theme,interactionId:this.messageId,traceparent:e.traceparent,cardDimensions:(0,eo.Hy)(t)}),setTimeout(()=>{eg.r.ensureCardInView(e,this.cardId)},200))}async rollback(e){eg.r.removeCardById({cardId:this.cardId},e)}getAppliedFirstPos(e){var t,n;return null!=(n=null==(t=eg.r.findTopLevelCards(e.editor).find(e=>e.cardId===this.cardId))?void 0:t.pos)?n:eg.r.DEFAULT_APPLIED_FIRST_POS}getOriginalPreviewCardIds(e){let{createPositionCardId:t,createPosition:n}=this.input;return eA(e.editor).goto(t,"before"===n?-1:0).take(3)}getModifiedPreviewCardIds(e){return eA(e.editor).goto(this.cardId,-1).take(3)}originalCardToSelect(e){let{createPositionCardId:t,createPosition:n}=this.input;return eA(e.editor).goto(t,"before"===n?-1:0).current()}modifiedCardToSelect(e){return this.cardId}serialize(){return{type:this.type,input:this.input}}constructor(e){var t;this.input=e,this.type="createCard",this.messageId=e.messageId,this.cardJson=this.input.cardJson,this.cardId=null==(t=this.cardJson.attrs)?void 0:t.id}}var eO=n(9922),eZ=n.n(eO);class eW{get id(){return this.input.toolCallId}preview(e,t){return{previewType:"doc",originalPreviewCardIds:this.getOriginalPreviewCardIds(e),modifiedPreviewCardIds:this.getModifiedPreviewCardIds(t),appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.originalCardToSelect(),modifiedScrollToCardId:this.modifiedCardToSelect()}}async apply(e){let{editor:t}=e,n=eg.r.findCardById(t,this.cardId);if(!n)throw Error("Cannot find card to duplicate with id ".concat(this.cardId));let i=eZ()(n.cardJson);i.attrs.id=this.duplicatedCardId;let a=eg.r.findCardInsertRange(t,this.insertPositionCardId,this.insertPosition);t.chain().insertContentAt(a.from,i,{updateSelection:!1}).run(),setTimeout(()=>{eg.r.ensureCardInView(e,this.duplicatedCardId)},200)}async rollback(e){let{editor:t}=e;try{let e=eg.r.findCardById(t,this.duplicatedCardId);e&&t.commands.deleteCard(e.pos)}catch(e){console.warn("Could not find duplicated card by ID for rollback",e)}}getAppliedFirstPos(e){try{return eg.r.findCardById(e.editor,this.duplicatedCardId).pos}catch(e){return eg.r.DEFAULT_APPLIED_FIRST_POS}}getOriginalFirstPos(e){return eg.r.findCardById(e.editor,this.cardId).pos}getOriginalPreviewCardIds(e){return eA(e.editor).goto(this.cardId,-1).take(3)}getModifiedPreviewCardIds(e){return eA(e.editor).goto(this.duplicatedCardId,-1).take(3)}originalCardToSelect(){return this.cardId}modifiedCardToSelect(){return this.duplicatedCardId}serialize(){return{type:this.type,input:this.input}}constructor(e){this.input=e,this.type="duplicateCard",this.previewType="doc",this.messageId=e.messageId,this.cardId=e.cardId,this.duplicatedCardId=e.duplicatedCardId,this.insertPositionCardId=e.insertPositionCardId,this.insertPosition=e.insertPosition}}class eU{preview(e,t){return{previewType:"doc",originalPreviewCardIds:this.getOriginalPreviewCardIds(e),modifiedPreviewCardIds:this.getModifiedPreviewCardIds(t),appliedFirstPos:this.getAppliedFirstPos(),originalScrollToCardId:this.originalCardToSelect(e),modifiedScrollToCardId:this.modifiedCardToSelect(t)}}async apply(e){for(let t of this.input.editedCardJsons){let n=t.attrs.id;if(!n){console.error("[EditAllCardsSuggestion] Card has no id");continue}eg.r.replaceCardJSONById({cardId:n,cardJson:t,messageId:this.messageId},e)}}async rollback(e){for(let t of this.input.originalCardJsons){let n=t.attrs.id;if(!n){console.error("[EditAllCardsSuggestion] Card has no id");continue}eg.r.replaceCardJSONById({cardId:n,cardJson:t,messageId:this.messageId},e)}}getAppliedFirstPos(){return 0}getOriginalPreviewCardIds(e){return eA(e.editor).take(3)}getModifiedPreviewCardIds(e){return eA(e.editor).take(3)}originalCardToSelect(e){return eA(e.editor).current()}modifiedCardToSelect(e){return eA(e.editor).current()}serialize(){return{type:this.type,input:this.input}}constructor(e){this.input=e,this.type="editAllCards",this.previewType="doc",this.messageId=e.messageId,this.id=this.input.toolCallId}}class eG{preview(e,t){return{previewType:"card",originalPreviewCardId:this.cardId,modifiedPreviewCardId:this.cardId,appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.cardId,modifiedScrollToCardId:this.cardId,originalContextCardIds:this.getOriginalPreviewCardIds(e),modifiedContextCardIds:this.getModifiedPreviewCardIds(t)}}async apply(e){await eg.r.ensureCardInView(e,this.cardId,1e3),eg.r.replaceCardJSONById({cardId:this.cardId,cardJson:this.input.editedCardJson,messageId:this.messageId},e)}async rollback(e){eg.r.replaceCardJSONById({cardId:this.cardId,cardJson:this.input.originalCardJson,messageId:this.messageId},e)}getAppliedFirstPos(e){let t=(0,ev.W0)(e.editor,this.cardId);return t?t.pos:(console.error("[EditCardSuggestion] Cannot find card with id",this.cardId),eg.r.DEFAULT_APPLIED_FIRST_POS)}getOriginalPreviewCardIds(e){return eA(e.editor).goto(this.cardId).take(3)}getModifiedPreviewCardIds(e){return eA(e.editor).goto(this.cardId).take(3)}originalCardToSelect(){return this.cardId}modifiedCardToSelect(){return this.cardId}serialize(){return{type:this.type,input:this.input}}constructor(e){this.input=e,this.type="editCardById",this.previewType="card",this.messageId=e.messageId,this.id=this.input.toolCallId,this.cardId=this.input.cardId}}let eK=(e,t)=>{let n=t.findIndex(t=>e.includes(t));return t[n]};class eQ{preview(e,t){return{previewType:"doc",originalPreviewCardIds:this.getOriginalPreviewCardIds(e),modifiedPreviewCardIds:this.getModifiedPreviewCardIds(t),appliedFirstPos:this.getAppliedFirstPos(t),originalScrollToCardId:this.originalCardToSelect(),modifiedScrollToCardId:this.modifiedCardToSelect(t)}}async apply(e){let{editor:t}=e,{cardIds:n}=this.input;await eg.r.ensureCardInView(e,n[0],1e3),t.chain().command(e=>{let{tr:i}=e;return n.forEach(e=>{let n=eg.r.findCardById(t,e);if(!n)throw Error("Cannot find card with id ".concat(e));let{pos:a}=n,r=t.state.doc.nodeAt(a),s=a+r.nodeSize;i.deleteRange(i.mapping.map(a),i.mapping.map(s))}),!0}).run()}async rollback(e){let{editor:t}=e,n=this.input.originalAllCardIds.map(e=>{let t=this.input.removedCardJson[e];return t?{id:e,removed:!0,content:t}:{id:e,removed:!1,content:null}});for(let[e,i]of Object.entries(n)){if(!i.removed)continue;if("0"===e){t.chain().insertContentAt({from:1,to:1},i.content).run();continue}let a=n[Number(e)-1].id,r=eg.r.findCardInsertRange(t,a,"after");t.chain().insertContentAt(r,i.content).run()}}getAppliedFirstPos(e){if(!this.cardBeforeFirstRemovedCard)return this.firstPos;let t=eg.r.findCardById(e.editor,this.cardBeforeFirstRemovedCard);return t?t.pos+t.node.nodeSize:this.firstPos}getOriginalPreviewCardIds(e){return eA(e.editor).goto(this.firstRemovedCardId,-1).take(3)}getModifiedPreviewCardIds(e){let t=eA(e.editor);return this.cardBeforeFirstRemovedCard&&t.goto(this.cardBeforeFirstRemovedCard),t.take(3)}originalCardToSelect(){return this.firstRemovedCardId}modifiedCardToSelect(e){return this.cardBeforeFirstRemovedCard?this.cardBeforeFirstRemovedCard:eA(e.editor).current()}get id(){return this.input.toolCallId}serialize(){return{type:"removeCards",input:this.input}}constructor(e){var t;this.input=e,this.type="removeCards",this.previewType="doc",this.firstPos=1,this.messageId=e.messageId,this.firstRemovedCardId=eK(e.cardIds,e.originalAllCardIds);let n=this.input.originalAllCardIds,i=n.findIndex(e=>e===this.firstRemovedCardId);this.cardBeforeFirstRemovedCard=null!=(t=n[i-1])?t:null}}let eq=e=>{var t,n,i,a,r,s,l,o,c,d,u,p,h;let g=(null==(n=e.config)||null==(t=n.keywords)?void 0:t.color.slice(0,4))||[],m=(null==(a=e.config)||null==(i=a.keywords)?void 0:i.tone.slice(0,5))||[],x=[e.bodyFont,e.headingFont].filter(Boolean);return{id:e.id,name:e.name?e.name:null,accent:e.accentColor?e.accentColor:null,background:(null==(s=e.config)||null==(r=s.background)?void 0:r.type)==="color"?null==(o=e.config)||null==(l=o.background.color)?void 0:l.hex:null,bodyColor:(null==(c=e.config)?void 0:c.bodyColor)?e.config.bodyColor:null,headingColor:(null==(d=e.config)?void 0:d.headingColor)?e.config.headingColor:null,cardColor:(null==(h=e.config)||null==(p=h.cardBackground)||null==(u=p.color)?void 0:u.hex)?e.config.cardBackground.color.hex:null,fonts:x.length>0?x.join(", "):null,keywords:[...g,...m].join(" ")}},eJ="claude-sonnet-4-20250514",e$={setupPage:{available:()=>!0,execute:async function(e,t){let{instructions:n}=e,{editor:i,store:a}=t,r=a.getState(),s=(0,ea.Uu)(r),{format:l}=(0,ea.zu)(r)||"deck",o=(0,eo.Wu)(s,l)||"custom",c={};if(e.format){let t=(0,eo.xw)(i,e.format);c.format={old:l,new:e.format},(0,eo.Vk)(i,s.scaleContentToFit,t.settings.scaleContentToFit)}return e.style&&(c.style={old:o,new:e.style},(0,eo.nF)(i,o,e.style,(0,ea.Uu)(a.getState()))),e.verticalAlign&&(c.verticalAlign={old:s.verticalAlign,new:e.verticalAlign},(0,eo.vu)(i,{verticalAlign:e.verticalAlign})),e.baseFontSize&&(c.baseFontSize={old:s.fontSize,new:e.baseFontSize},(0,eo.vu)(i,{fontSize:e.baseFontSize})),e.cardDimensions&&(c.cardDimensions={old:s.cardDimensions,new:e.cardDimensions},(0,eo.vu)(i,{cardDimensions:e.cardDimensions})),e.defaultContentWidth&&(c.defaultContentWidth={old:s.defaultContentWidth,new:e.defaultContentWidth},(0,eo.vu)(i,{defaultContentWidth:e.defaultContentWidth})),{status:"success",instructions:n,updatedFields:c}}},focusCardById:{available:()=>!0,execute:async function(e,t){let{cardId:n}=e,{editor:i}=t,a=eg.r.findCardById(i,n);eg.r.focusCard(i,a.pos);let{cardNum:r}=a;return{status:"success",cardNum:r,cardId:n}}},removeCards:{available:()=>!0,execute:async function(e,t,n,i){let{cardIds:a}=e,{editor:r,store:s}=t,l=eg.r.findTopLevelCards(r),o=l.map(e=>e.cardId),c=l.reduce((e,t)=>(a.includes(t.cardId)&&(e[t.cardId]=t.cardJson),e),{}),d=new eQ({toolCallId:n.toolCallId,messageId:i,cardIds:a,originalAllCardIds:o,removedCardJson:c});return await d.apply(t),s.dispatch((0,ec.Ed)(d)),{status:"success",removedCardIds:a,remainingCardIds:eg.r.findTopLevelCards(r).map(e=>e.cardId),suggestionId:d.id}}},editCardById:{available:()=>!0,execute:async function(e,t,n,i,a){let{editor:r,store:s,imageOptions:l}=t,{instructions:o,cardId:c}=e,d=eg.r.findTopLevelCards(r),u=d.findIndex(e=>e.cardId===c),p=d[u];if(!p)throw Error("Cannot find card with id ".concat(c));let h=u>0?d[u-1].cardHtml:void 0,g=(0,eC.h)(r,s),m=await (0,ef.K8)({promptKey:"EditCardWithLayout",variables:{previousHtml:h,request:o,inputHtml:p.cardHtml,imageProvider:l.imageProvider,imageOptions:{model:l.imageModel,stylePrompt:l.imageStyle,visualsMenuEnabled:l.visualsMenuEnabled,artStylePreset:l.artStylePreset,artStylePrompt:l.artStylePrompt},...g,outline:"",basePromptKey:D.of.get("editCardPrompt"),model:D.of.get("editCardModel")},workspaceId:(0,eh.uT)(),opts:{abortController:t.abortController,traceparent:t.traceparent}}),x=(0,U.DB)(m),f=(0,eb.dE)(x),b=new eG({messageId:i,toolCallId:n.toolCallId,originalCardJson:p.cardJson,editedCardJson:f,cardId:c});await b.apply(t);let C=ex.l.load(a);if(C){let e=ej.C.card({interactionId:a,model:eJ,source:C.name});C.charge(c,e)}return s.dispatch((0,ec.Ed)(b)),{status:"success",cardId:c,suggestionId:b.id}}},editAllCards:{available:()=>!0,execute:async function(e,t,n,i){let{instructions:a}=e,{editor:r,store:s,imageOptions:l}=t,o=eg.r.findTopLevelCards(r);if(0===o.length)return{status:"success",editedCards:[]};let c=(0,eC.h)(r,s),d=[];o.forEach(e=>{d.push(e.cardHtml)});let u=d.join(),p=await (0,ef.K8)({promptKey:"EditCardParallel",variables:{inputHtml:u,request:a,imageOptions:{model:l.imageModel,stylePrompt:l.imageStyle},imageProvider:l.imageProvider,...c,outline:"",model:D.of.get("editCardModel"),reasoningEffort:D.of.get("editCardReasoningEffort"),basePromptKey:D.of.get("editCardParallelPrompt")},workspaceId:(0,eh.uT)(),opts:{abortController:t.abortController,traceparent:t.traceparent}}),h=(0,U.dg)(p);if(h.length!==o.length)throw Error("Mismatch in number of cards returned from AI");let g=o.map(e=>e.cardJson),m=h.map(e=>(0,eb.dE)(e)),x=new eU({toolCallId:n.toolCallId,messageId:i,originalCardJsons:g,editedCardJsons:m});return await x.apply(t),s.dispatch((0,ec.Ed)(x)),{status:"success",suggestionId:x.id}}},createCard:{available:()=>!0,execute:async function(e,t,n,i,a){let r,{editor:s,store:l,imageOptions:o}=t,{createPosition:c,createPositionCardId:d}=e,u=eg.r.findCardInsertRange(s,d,c),p=(0,eC.h)(s,l),h=(0,eN.ze)(s,u.from),{templateCardId:g,...m}=e;if(g){let e=eg.r.findCardById(s,g);e&&(r=e.cardHtml)}let x=await (0,ef.K8)({promptKey:"GenerateCardWithLayout",variables:{...m,templateText:r,imageProvider:o.imageProvider,imageOptions:{model:o.imageModel,stylePrompt:o.imageStyle,visualsMenuEnabled:o.visualsMenuEnabled,artStylePreset:o.artStylePreset,artStylePrompt:o.artStylePrompt},...p,outline:"",previous:h},workspaceId:(0,eh.uT)(),opts:{abortController:t.abortController,traceparent:t.traceparent}}),f=(0,eb.dE)(x),b=f.attrs.id,C=new eV({messageId:i,toolCallId:n.toolCallId,cardId:b,cardJson:f,createPositionCardId:d,createPosition:c});await C.apply(t);let y=ex.l.load(a);if(y){let e=ej.C.card({interactionId:a,model:eJ,source:y.name});y.charge(b,e)}return l.dispatch((0,ec.Ed)(C)),{status:"success",newCardId:b,newCardHtml:x,createPositionCardId:d,createPosition:c,suggestionId:C.id}}},setCardHtml:{available:()=>!0,execute:async function(e,t,n,i){let{cardId:a,cardHtml:r}=e,{editor:s}=t;if(!eg.r.findCardById(s,a))throw Error("Cannot find card with id ".concat(a));return eg.r.replaceCardHTMLById({cardId:a,cardHtml:r,messageId:i},t),{status:"success",cardId:a,cardHtml:r}}},moveCard:{available:()=>!0,execute:async function(e,t,n,i){let{cardId:a,movePositionCardId:r,movePosition:s}=e,{store:l}=t,o=new ek({toolCallId:n.toolCallId,messageId:i,cardId:a,movePositionCardId:r,movePosition:s});return await o.apply(t),l.dispatch((0,ec.Ed)(o)),{status:"success",suggestionId:o.id}}},duplicateCard:{available:()=>!0,execute:async function(e,t,n,i){let{store:a}=t,{cardId:r,insertPositionCardId:s,insertPosition:l}=e,o=eT.Yv.generate(),c=new eW({toolCallId:n.toolCallId,messageId:i,cardId:r,duplicatedCardId:o,insertPositionCardId:s,insertPosition:l});return c.apply(t),a.dispatch((0,ec.Ed)(c)),{status:"success",originalCardId:r,duplicatedCardId:o,insertPositionCardId:s,insertPosition:l,suggestionId:c.id}}},revertToCheckpoint:{available:()=>!0,execute:async function(e,t,n,i){let{beforeCheckpointId:a}=e;return eg.r.loadCheckpoint(t,a,i),{status:"success",revertedToCheckpointId:a}}},suggestThemes:{available:()=>!0,execute:async function(e,t,n,i){let a,{store:r}=t,s=(0,ea.SJ)(r.getState()),l=(0,el.ST)(r.getState()).map(eq).filter(e=>e.id!==s.id),o=eg.r.getDeckInfo(t),c=await (0,ef.K8)({promptKey:"SuggestThemes",variables:{docHtml:JSON.stringify(o.docHtml.content),allThemes:l,userRequest:e.userRequest},workspaceId:(0,eh.uT)(),opts:{abortController:t.abortController,traceparent:t.traceparent}}),d=JSON.parse((0,U.DB)(c)).themes.map(e=>{let{id:t,name:n}=e;return{themeId:t,themeName:n}}).filter(e=>!!l.find(t=>t.id===e.themeId)),u={themeId:s.id,themeName:s.name,wasOriginal:!0};if(d[0]&&e.autoselectTheme){var p;null==(p=t.applyTheme)||p.call(t,d[0].themeId),a=d[0]}return{status:"success",suggestedThemes:[u,...d],beforeThemeId:u.themeId,appliedTheme:a}}},readUrl:{available:()=>!0,execute:async function(e){let{url:t,mode:n="full"}=e;return{status:"success",...await eB(t,n)}}},webSearch:{available:()=>!0,execute:async function(e){let{query:t,numResults:n=5}=e;return{status:"success",...await eP(t,n)}}},getCardContentById:{available:()=>!0,execute:async function(e,t){let{cardId:n}=e,{editor:i}=t;return{status:"success",content:eg.r.findCardById(i,n).cardHtml}}},imageEditContent:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){return eY("maskless",()=>({editPrompt:e.editPrompt,model:D.of.get("masklessEditModel")}),e,t,n,i)}},generateImage:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){var a;let{prompt:r,imageToReplaceId:s}=e,{editor:l,imageOptions:o,traceparent:c,store:d}=t,u=o.artStylePreset,p=o.artStylePrompt;e.imageOptions&&("custom"==e.imageOptions.artStylePreset&&e.imageOptions.artStylePrompt.length>0?(u="custom",p=e.imageOptions.artStylePrompt):e.imageOptions.artStylePreset in eM.ll&&(u=e.imageOptions.artStylePreset,p=eM.ll[e.imageOptions.artStylePreset].prompt));let h=await (0,J.hU)({interactionId:i,traceparent:c,prompt:r,workspaceId:(0,eh.uT)(),docId:(0,ea.sX)(d.getState()),count:1,artStylePreset:u,artStylePrompt:p,visualsMenuEnabled:o.visualsMenuEnabled,stylePrompt:o.imageStyle,model:o.imageModel},t.abortController),g=(0,eH.Z)(h[0],"no result image");if(!s)return{status:"success",image:g};let m=(0,em.Vj)(l,s);if(!m)return{status:"success",image:g};let x=(0,eH.Z)((0,ez.d_)(l.state,m.relativePosition),"no absolute pos"),f=(0,eH.Z)(null==(a=(0,ev.Oq)(l,x))?void 0:a.node.attrs.id,"no cardid"),b={attrs:{...h[0].attrs}},C=new eL({messageId:i,toolCallId:n.toolCallId,position:m.relativePosition,oldAttrs:m.attrs,newAttrs:b.attrs,cardId:f});return await C.apply(t),d.dispatch((0,ec.Ed)(C)),{status:"success",image:h[0],suggestionId:C.id}}},getImagesInDoc:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){let{editor:a}=t;return{images:eg.r.getImages(a),status:"success"}}},selectImageInDoc:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){let{editor:a}=t,r=eg.r.selectImage(a,e.nodeId);if(!r.success)throw Error("image not found");return{status:"success",imageAttrs:r.imageAttrs,imagePosition:r.imagePosition}}},imageRemoveBackground:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){return eY("remove-background",()=>({}),e,t,n,i)}},imageAnimate:{available:()=>D.of.get("buddyEditGa")&&(0,eR.vT)("animate_image"),execute:async function(e,t,n,i){return eY("animate",t=>{var n,i;return{prompt:e.prompt,model:D.of.get("animateImageModel"),aspectRatio:(null==(n=t.meta)?void 0:n.width)&&(null==(i=t.meta)?void 0:i.height)?t.meta.width>t.meta.height?"landscape":"portrait":"landscape"}},e,t,n,i)}},imageVectorize:{available:()=>D.of.get("buddyEditGa")&&(0,eR.vT)("vectorize_image"),execute:async function(e,t,n,i){return eY("vectorize",()=>({}),e,t,n,i)}},imageUpscale:{available:()=>D.of.get("buddyEditGa")&&(0,eR.vT)("upscale_image"),execute:async function(e,t,n,i){return eY("upscale",()=>({}),e,t,n,i)}},replaceImage:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t,n,i){var a;let{editor:r,store:s}=t,l=(0,eH.Z)((0,em.Vj)(r,e.nodeId),"no image found");eg.r.selectImage(r,e.nodeId);let o=(0,eH.Z)((0,ez.d_)(r.state,l.relativePosition),"no absolute pos"),c=(0,eH.Z)(null==(a=(0,ev.Oq)(r,o))?void 0:a.node.attrs.id,"no cardid"),d={attrs:{source:"image.custom",src:e.image.url}},u=new eL({messageId:i,toolCallId:n.toolCallId,position:l.relativePosition,oldAttrs:l.attrs,newAttrs:d.attrs,cardId:c,previewType:"card"});return await u.apply(t),s.dispatch((0,ec.Ed)(u)),{status:"success",image:d,suggestionId:u.id}}},webImageSearch:{available:()=>D.of.get("buddyEditGa"),execute:async function(e,t){var n;let{query:i}=e,a=null==(n=(0,ea.K)(t.store.getState()))?void 0:n.license,r={};return a&&(0,eI.j)(a)&&(r.license=a),{status:"success",images:(await (0,eS.g)({provider:"web",traceparent:t.traceparent,query:i,count:5,abortController:t.abortController,options:r})).map(e=>({attrs:(0,e_.TF)(e,i,"web")})).slice(0,5)}}}};async function eY(e,t,n,i,a,r){var s,l,o;let{editor:c,store:d}=i,u=(0,em.Vj)(c,n.nodeId);if(!(null==u?void 0:u.attrs.src))throw Error("no image selected");eg.r.selectImage(c,n.nodeId);let p=(0,eH.Z)((0,ez.d_)(c.state,u.relativePosition),"no absolute pos"),h=(0,eH.Z)(null==(s=(0,ev.Oq)(c,p))?void 0:s.node.attrs.id,"no cardid"),g=u.attrs;if(!(0,eD.D)(g))throw Error("Cannot edit, image is not a raster image");if(!g.src)throw Error("Cannot edit, no image src");let m=await (0,eE.w)({operation:e,url:g.src,width:null==(l=g.meta)?void 0:l.width,height:null==(o=g.meta)?void 0:o.height,workspaceId:(0,eh.uT)(),interactionId:r,traceparent:i.traceparent,chatId:i.chatId,messageId:r,editParams:t(g)},i.abortController),x={attrs:{source:"image.custom",query:null==g?void 0:g.query,src:m.url,meta:g.meta}},f=new eL({messageId:r,toolCallId:a.toolCallId,position:u.relativePosition,oldAttrs:u.attrs,newAttrs:x.attrs,cardId:h});return await f.apply(i),d.dispatch((0,ec.Ed)(f)),{status:"success",image:x,suggestionId:f.id}}let eX=(0,u.d_)("1234567890abcdefghijklmnopqrstuvwxyz",8),e0=(e,t)=>({id:eX(),jsonContent:e.state.doc.toJSON(),themeId:t,timestamp:new Date().toISOString()}),e1=()=>{let e=(0,X.jL)(),t=(0,X.CU)(),n=eu();return(0,r.useCallback)(()=>{let{editor:i}=n,a=(0,ec.KF)(t.getState());if(!a)throw Error("No rolling back state");let r=(0,ec.BV)(a.currentCheckpointId)(t.getState());if(!r)throw Error("No checkpoint exists with id ".concat(a.currentCheckpointId));e((0,ec.rY)()),eg.r.loadCheckpoint(n,r.id,r.id)},[n,e,t])},e2=e=>{let t=(0,X.jL)(),n=(0,X.CU)(),i=eu();return(0,r.useCallback)(a=>{let{editor:r}=i;if(!r)return;let s=e.findIndex((e,t)=>e.id===a.id);if(-1===s)throw Error("Cannot find message with id ".concat(a.id));let l=e0(r,(0,ea.SJ)(n.getState()).id);t((0,ec.AY)(l));let o=(0,ec.fN)(a.id)(n.getState());if(!o)throw Error("Cannot find message result");if("applied-changes"!==o.type)throw Error("Cannot rollback non-applied-changes result");let c=(0,ec.GL)(o.messageId)(n.getState());if(!c)throw Error("Cannot find applied variation");let d=o.variations.find(e=>e.id===c);if(!d)throw Error("Cannot find applied variation");eg.r.applyResultVariation(i,d),t((0,ec.LU)({messageIndex:s,resultId:o.messageId,currentCheckpointId:l.id,chosenVariationId:d.id}))},[i,t,e,n])};var e3=n(12364),e5=n.n(e3),e4=n(85011);let e6=function(){let{onStart:e,onEnd:t,onUpdate:n,element:i=null,endDelay:a=250,updateThrottle:s=100}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,r.useRef)(!1),o=(0,r.useRef)(null),c=(0,r.useRef)(null),d=(0,r.useRef)(0),u=(0,r.useRef)(!1);(0,r.useEffect)(()=>{u.current="onscrollend"in window},[]);let p=(0,r.useCallback)(()=>{let e=Date.now(),t=e-d.current;t>=s?(d.current=e,null==n||n()):(c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{d.current=Date.now(),null==n||n()},s-t))},[n,s]),h=(0,r.useCallback)(()=>{l.current||(l.current=!0,null==e||e())},[e]),g=(0,r.useCallback)(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{l.current&&(l.current=!1,null==t||t())},a)},[t,a]),m=(0,r.useCallback)(()=>{h(),n&&p(),u.current||g()},[h,g,p,n]),x=(0,r.useCallback)(()=>{l.current&&(l.current=!1,null==t||t())},[t]);return(0,r.useEffect)(()=>{if(i)return i.addEventListener("scroll",m,{passive:!0}),u.current&&i.addEventListener("scrollend",x,{passive:!0}),()=>{i.removeEventListener("scroll",m),u.current&&i.removeEventListener("scrollend",x),o.current&&clearTimeout(o.current),c.current&&clearTimeout(c.current)}},[i,m,x]),{isScrolling:l.current,supportsScrollEnd:u.current}};var e9=n(85235),e7=n(23460);let e8=(e,t)=>e.length===t.length&&e.every((e,n)=>e.cardId===t[n].cardId&&e.pos===t[n].pos&&e.inView===t[n].inView),te=e=>{let t=e.filter(e=>e.overlap>0);if(0===t.length)return[];if(0===t.filter(e=>e.overlap>=.6).length){let e=t.reduce((e,t)=>e.overlap>t.overlap?e:t,t[0]);return[{cardId:e.id,pos:e.pos,inView:"partial"}]}return t.map(e=>({cardId:e.id,pos:e.pos,inView:e.overlap>=.9?"full":"partial"}))},tt=(e,t,n,i)=>{let a=i-n;return Math.max(a-Math.max(e-n,0)-Math.max(i-t,0),0)/a},tn=e=>{let t=(0,D.u)("buddyEdit"),n=(0,X.GV)(ea.wC),i=(0,e4.O2)("editor"),[a,s]=(0,r.useState)(null),l=(0,X.jL)(),o=(0,r.useRef)([]),c=(0,r.useRef)(n);c.current=n;let d=(0,r.useRef)({scrollTop:0,containerHeight:0}),u=(0,r.useCallback)(e=>{e8(o.current,e)||(o.current=e,l((0,ec.vz)(e)))},[l]),p=(0,r.useCallback)(function(){let n=c.current===e9.w.SLIDE_VIEW;if(document.hidden||!e||!t||n)return;let{scrollTop:a,containerHeight:r}=d.current,s=a+r,l=(0,ey.xe)(e.state.doc,ev.jg).filter(t=>1===e.state.doc.resolve(t.pos).depth),o=document.querySelector(i.scrollSelector);if(!o)return;let p=(0,e7.sR)(o,i.scrollSelector),h=[];for(let t of l){let n,r=t.node.attrs.id;try{n=e.view.nodeDOM(t.pos)}catch(e){console.error("computeOverlap error",e);continue}if(n instanceof HTMLElement){n=n.querySelector("[data-card-body]");let e=(0,e7.sR)(n,i.scrollSelector)-p;if(e>s)break;let{offsetHeight:l}=n,o=l+e;h.push({id:r,pos:t.pos,overlap:tt(a,s,e,o)})}}u(te(h.sort((e,t)=>e.pos-t.pos)))},[t,u,e,i.scrollSelector]);e6({element:a,onUpdate:()=>{a&&(d.current.scrollTop=a.scrollTop,p())},onEnd:()=>{a&&(d.current.scrollTop=a.scrollTop,p())},endDelay:250,updateThrottle:100}),(0,r.useEffect)(()=>{if(!t)return;let e=e5()(()=>{a&&(d.current.containerHeight=a.getBoundingClientRect().height,p())},250,{trailing:!0,maxWait:500});return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t,p,a]),(0,r.useEffect)(()=>{if(!t)return;let e=document.querySelector(i.scrollSelector);e&&(s(e),d.current.scrollTop=e.scrollTop,d.current.containerHeight=e.getBoundingClientRect().height,p())},[i.scrollSelector,d,t,p]),(0,r.useEffect)(()=>{let e=setInterval(()=>{p()},1e3);return()=>clearInterval(e)},[p])};var ti=n(32267);class ta{async getDb(){return this.db?this.db:this.initPromise?this.initPromise:"indexedDB"in window?(this.initPromise=this.initDB(),this.initPromise):(console.warn("[IndexedDBStore] IndexedDB not available"),null)}async initDB(){try{let e=new Promise((e,t)=>{setTimeout(()=>t(Error("Database initialization timeout")),2e3)}),t=(0,ti.P2)(this.config.dbName,this.config.version,{upgrade:this.config.upgrade});return this.db=await Promise.race([t,e]),this.db}catch(e){return console.error("[IndexedDBStore] Failed to initialize database:",e),this.db=null,this.initPromise=null,null}}async save(e,t){let n=await this.getDb();if(!n)return void console.warn("[IndexedDBStore] Database not available, skipping save");try{await n.put(this.config.storeName,t,e)}catch(e){console.error("[IndexedDBStore] Failed to save data:",e)}}async load(e){let t=await this.getDb();if(!t)return console.error("[IndexedDBStore] Database not available"),null;try{return await t.get(this.config.storeName,e)||null}catch(e){return console.error("[IndexedDBStore] Failed to load data:",e),null}}async delete(e){let t=await this.getDb();if(t)try{await t.delete(this.config.storeName,e)}catch(e){console.error("[IndexedDBStore] Failed to delete data:",e)}}async getAll(){let e=await this.getDb();if(!e)return[];try{return await e.getAll(this.config.storeName)}catch(e){return console.error("[IndexedDBStore] Failed to get all data:",e),[]}}getConfig(){return this.config}async getDatabase(){return this.getDb()}async deleteWhere(e){let t=await this.getDb();if(!t)return 0;try{let n=t.transaction(this.config.storeName,"readwrite"),i=n.objectStore(this.config.storeName),a=await i.openCursor(),r=0;for(;a;){let t=a.value;e(t)&&(await a.delete(),r++),a=await a.continue()}return await n.done,r}catch(e){return console.error("[IndexedDBStore] Failed to delete with predicate:",e),0}}async deleteByIndex(e,t){let n=await this.getDb();if(!n)return 0;try{let i=n.transaction(this.config.storeName,"readwrite"),a=i.objectStore(this.config.storeName).index(e),r=await a.openCursor(IDBKeyRange.only(t)),s=0;for(;r;)await r.delete(),s++,r=await r.continue();return await i.done,s}catch(e){return console.error("[IndexedDBStore] Failed to delete by index:",e),0}}async getUniqueIndexValues(e){let t=await this.getDb();if(!t)return new Set;try{let n=t.transaction(this.config.storeName,"readonly"),i=n.objectStore(this.config.storeName).index(e),a=new Set,r=await i.openKeyCursor();for(;r;)r.key&&a.add(r.key),r=await r.continue();return await n.done,a}catch(e){return console.error("[IndexedDBStore] Failed to get unique index values:",e),new Set}}constructor(e){this.config=e,this.db=null,this.initPromise=null}}let tr={dbName:"buddy-chats",version:2,storeName:"chats",upgrade:(e,t,n,i)=>{t<1&&!e.objectStoreNames.contains("chats")&&e.createObjectStore("chats").createIndex("userId","userId",{unique:!1}),t<2&&i.objectStore("chats").clear()}},ts=e=>({...e,version:2,timestamp:Date.now()});class tl{async ensureCleanupRun(e){this.hasInitializedCleanup||(await this.cleanupStaleChats(),await this.cleanupOtherUserChats(e),this.hasInitializedCleanup=!0)}generateKey(e){let{docId:t,workspaceId:n,userId:i}=e;return"".concat(i,":").concat(n,":").concat(t)}async saveChat(e){try{await this.ensureCleanupRun(e.userId);let t=this.generateKey(e);await this.store.save(t,e)}catch(e){console.error("[BuddyChatDB] Failed to save chat:",e)}}async loadChat(e){try{let t=this.generateKey(e);return await this.store.load(t)}catch(e){return console.error("[BuddyChatDB] Failed to load chat:",e),null}}async deleteChat(e){try{let t=this.generateKey(e);await this.store.delete(t)}catch(e){console.error("[BuddyChatDB] Failed to delete chat:",e)}}async cleanupOtherUserChats(e){try{for(let t of(await this.store.getUniqueIndexValues("userId")))t!==e&&await this.store.deleteByIndex("userId",t)}catch(e){console.error("[BuddyChatDB] Failed to cleanup other user chats:",e)}}async cleanupStaleChats(){try{let e=Date.now()-36e5;await this.store.deleteWhere(t=>t.timestamp<e)}catch(e){console.error("[BuddyChatDB] Failed to cleanup old chats:",e)}}async cleanup(e){await this.cleanupStaleChats(),await this.cleanupOtherUserChats(e)}async getAllChats(){try{return await this.store.getAll()}catch(e){return console.error("[BuddyChatDB] Failed to get all chats:",e),[]}}async getStorageStats(){let e=await this.getAllChats();if(0===e.length)return{totalChats:0,totalSize:0,oldestChat:null,newestChat:null};let t=e.reduce((e,t)=>e+JSON.stringify(t).length,0),n=e.map(e=>e.timestamp);return{totalChats:e.length,totalSize:t,oldestChat:Math.min(...n),newestChat:Math.max(...n)}}constructor(){this.hasInitializedCleanup=!1,this.store=new ta(tr)}}class to extends tl{async loadChat(e){let t=this.generateKey(e),n=this.cache[t];if(n)return n;let i=await super.loadChat(e);return i&&(this.cache[t]=i),i}async saveChat(e){await super.saveChat(e);let t=this.generateKey(e);this.cache[t]=e}async deleteChat(e){await super.deleteChat(e);let t=this.generateKey(e);delete this.cache[t]}constructor(...e){super(...e),this.cache={}}}let tc=new to,td=(e,t)=>{let n=(0,X.CU)();(0,r.useEffect)(()=>(window.buddyDebug=async()=>{let i=n.getState(),a=t(),r=i.ThemePicker,s=await tc.getStorageStats(),l={messages:e,reducer:i.Buddy,serialized:a,themes:r,storageStats:s};return console.log(l),l},()=>{delete window.buddyDebug}),[e,t,n])};var tu=n(96192),tp=n(94289);let th=e=>{let t=(0,X.CU)(),n=(0,X.jL)(),i=(0,X.GV)(ec.eb);(0,r.useEffect)(()=>{if(i)return eF.t0.on("processed",a=>{let{node:r,attrs:s,processor:l,interactionId:o}=a;if(!o)return;let c=(0,ec.NV)(o)(t.getState());if(!c)return;let d=!1;tg((c=eZ()(c)).jsonContent,e=>{let t=tp.bP.fromJSON(i.schema,e);if(r.type.name===t.type.name&&l.getNodeId(t)===l.getNodeId(r))return console.log("[buddy] handling updating checkpoint",{node:r,checkpoint:c,interactionId:o,processor:l,attrs:s}),e.attrs=s,d=!0,!1}),d&&(n((0,ec.AY)({...c})),null==e||e())})},[n,i,e,t])},tg=(e,t)=>{if(!1===t(e))return!1;if(!e.content)return;let n=!1;for(let i of e.content)if(!1===tg(i,t)){n=!0;break}if(n)return!1},tm={EDIT_IMAGE:{past:e=>d.Ru._({id:"u7EVk6",values:{n:e}}),present:()=>d.Ru._({id:"brLdZx"})},EDIT_CARD:{past:e=>d.Ru._({id:"4UmzkI",values:{n:e}}),present:()=>d.Ru._({id:"+mgW41"})},MOVE_CARD:{past:e=>d.Ru._({id:"HAuYMv",values:{n:e}}),present:()=>d.Ru._({id:"Hr7du/"})},GENERATE_IMAGE:{past:e=>d.Ru._({id:"t+Df2P",values:{n:e}}),present:()=>d.Ru._({id:"dg6m9K"})}},tx={createCard:{present:()=>d.Ru._({id:"YFvSg3"}),past:()=>d.Ru._({id:"Z801fH"})},editCardById:{present:()=>d.Ru._({id:"y5kNPl"}),past:()=>d.Ru._({id:"nTOyvW"}),compressKey:"EDIT_CARD"},editAllCards:{present:()=>d.Ru._({id:"+mgW41"}),past:()=>d.Ru._({id:"tor7fY"})},focusCardById:{present:()=>d.Ru._({id:"dwh4Lg"}),past:()=>d.Ru._({id:"t0SVyb"})},removeCards:{present:()=>d.Ru._({id:"PPHKL3"}),past:()=>d.Ru._({id:"EgCNgl"})},setCardHtml:{present:()=>d.Ru._({id:"jubeck"}),past:()=>d.Ru._({id:"+BZeOo"}),compressKey:"EDIT_CARD"},moveCard:{present:()=>d.Ru._({id:"2VD+0p"}),past:()=>d.Ru._({id:"B8He3D"}),compressKey:"MOVE_CARD"},duplicateCard:{present:()=>d.Ru._({id:"tO+JlV"}),past:()=>d.Ru._({id:"PdoIWT"})},revertToCheckpoint:{present:()=>d.Ru._({id:"fIJtam"}),past:()=>d.Ru._({id:"i8Of62"})},suggestThemes:{present:()=>d.Ru._({id:"EGiXRh"}),past:()=>d.Ru._({id:"exJFz8"})},readUrl:{present:()=>d.Ru._({id:"L7svJg"}),past:()=>d.Ru._({id:"cQlPDN"})},webSearch:{present:()=>d.Ru._({id:"f2YVZg"}),past:()=>d.Ru._({id:"AzLUkE"})},getCardContentById:{present:()=>d.Ru._({id:"QfwF96"}),past:()=>d.Ru._({id:"WEt7iO"})},imageEditContent:{present:()=>d.Ru._({id:"lst4sw"}),past:()=>d.Ru._({id:"V3CaX7"}),compressKey:"EDIT_IMAGE"},imageRemoveBackground:{present:()=>d.Ru._({id:"RdqLb7"}),past:()=>d.Ru._({id:"gmS8TU"}),compressKey:"EDIT_IMAGE"},imageAnimate:{present:()=>d.Ru._({id:"ixpQjd"}),past:()=>d.Ru._({id:"gtfeTa"}),compressKey:"EDIT_IMAGE"},imageVectorize:{present:()=>d.Ru._({id:"Q55bBQ"}),past:()=>d.Ru._({id:"c1cnyM"})},imageUpscale:{present:()=>d.Ru._({id:"5oQX1R"}),past:()=>d.Ru._({id:"nstbgt"})},generateImage:{compressKey:"GENERATE_IMAGE",present:()=>d.Ru._({id:"0YTg9V"}),past:()=>d.Ru._({id:"kuh/JT"})},replaceImage:{present:()=>d.Ru._({id:"LM2+EC"}),past:()=>d.Ru._({id:"f1piDt"})},getImagesInDoc:{present:()=>d.Ru._({id:"vXBvi6"}),past:()=>"Loaded images",hideToolCall:!0},selectImageInDoc:{present:()=>d.Ru._({id:"mq87Et"}),past:()=>d.Ru._({id:"9xewoq"})},webImageSearch:{present:()=>d.Ru._({id:"syykr0"}),past:()=>d.Ru._({id:"vpIeaf"})},setupPage:{present:()=>d.Ru._({id:"nR6QZT"}),past:()=>d.Ru._({id:"0y/wuK"})}},tf=e=>e in tx?tx[e]:{present:()=>d.Ru._({id:"Z3FXyt"}),past:()=>d.Ru._({id:"4dQFvz"})};var tb=n(58450);n(15607);let tC=e=>"result"===e.state&&!!e.result&&"object"==typeof e.result&&"error"===e.result.status,ty=e=>"result"===e.state&&!!e.result&&"object"==typeof e.result&&"success"===e.result.status,tv=e=>{for(let t of[tA,tw])if(t(e))return},tw=e=>{let{store:t,editor:n,message:i,beforeCheckpoint:a}=e,r=function(e){var t;let n=(null==(t=e.parts)?void 0:t.filter(e=>"tool-invocation"===e.type))||[],i=null;return n.filter(e=>"tool-invocation"===e.type).forEach(e=>{ty(e.toolInvocation)&&"suggestedThemes"in e.toolInvocation.result&&(i=e.toolInvocation.result.suggestedThemes)}),i}(i);if(!r)return!1;let s={messageId:i.id,title:d.Ru._({id:"H7jm8i"}),type:"suggest-themes",themes:r};return t.dispatch((0,ec.AY)(a)),t.dispatch((0,ec.Jw)(s)),!0},tA=e=>{let{store:t,editor:n,message:i,beforeCheckpoint:a}=e,r=e0(n,(0,ea.SJ)(t.getState()).id),s=tk(t,i,a,r);return!!s&&(t.dispatch((0,ec.AY)(a)),t.dispatch((0,ec.AY)(r)),t.dispatch((0,ec.Jw)(s)),t.dispatch((0,ec.rD)({messageId:s.messageId,variationId:s.variations[1].id})),!0)},tk=(e,t,n,i)=>{let a=function(e,t){var n;return((null==(n=e.parts)?void 0:n.filter(e=>"tool-invocation"===e.type))||[]).filter(e=>"tool-invocation"===e.type).map(e=>{if(ty(e.toolInvocation)&&"suggestionId"in e.toolInvocation.result){let n=e.toolInvocation.result.suggestionId;if(n)return t[n]}}).filter(e=>!!e)}(t,e.getState().Buddy.suggestions);if(0===a.length)return null;let r=t.id,s=function(e,t,n,i){let a=new ey.KE({extensions:(0,tb.C)(),content:n.jsonContent}),r=new ey.KE({extensions:(0,tb.C)(),content:i.jsonContent}),s=e.map(e=>e.preview({editor:a},{editor:r})),l=new Map;for(let e of s.filter(e=>"image"===e.previewType))l.has(e.appliedFirstPos)||l.set(e.appliedFirstPos,e.oldAttrs);let o=s.map((e,t)=>[e,t]).sort((e,t)=>{let[n,i]=e,[a,r]=t;return n.appliedFirstPos===a.appliedFirstPos?r-i:n.appliedFirstPos-a.appliedFirstPos}),[c]=o[0],u={id:"original",messageId:t,name:d.Ru._({id:"HxF6Fk"}),toApplyCheckpointId:n.id},p={id:"modified",messageId:t,name:d.Ru._({id:"tgWuMB"}),toApplyCheckpointId:i.id};if("card"===c.previewType)if(1==o.length)return[{...u,previewCardId:c.originalPreviewCardId,scrollToCardId:c.originalScrollToCardId,previewType:"card"},{...p,previewCardId:c.modifiedPreviewCardId,scrollToCardId:c.modifiedScrollToCardId,previewType:"card"}];else return[{...u,previewCardIds:c.originalContextCardIds,scrollToCardId:c.originalScrollToCardId,previewType:"doc"},{...p,previewCardIds:c.modifiedContextCardIds,scrollToCardId:c.modifiedScrollToCardId,previewType:"doc"}];return"doc"===c.previewType?[{...u,previewCardIds:c.originalPreviewCardIds,scrollToCardId:c.originalScrollToCardId,previewType:"doc"},{...p,previewCardIds:c.modifiedPreviewCardIds,scrollToCardId:c.modifiedScrollToCardId,previewType:"doc"}]:"image"===c.previewType?[{...u,previewType:"image",attrs:l.get(c.appliedFirstPos),scrollToCardId:c.originalScrollToCardId},{...p,previewType:"image",attrs:c.newAttrs,scrollToCardId:c.modifiedScrollToCardId}]:[]}(a,r,n,i);return{type:"applied-changes",messageId:r,title:function(e){return 0===e.length?d.Ru._({id:"Ef7StM"}):e.length>1?d.Ru._({id:"WTvBlv"}):tf(e[0].type).past()}(a),variations:s}},tL=e=>{let{reload:t,setMessages:n,isLoading:i}=e,a=(0,X.CU)(),s=(0,X.jL)(),l=(0,r.useRef)(1),[o,c]=(0,r.useState)(!1),d=(0,r.useRef)([]),u=(0,r.useRef)(!1),p=(0,r.useRef)(i);(0,r.useEffect)(()=>{p.current=i},[i]);let h=(0,r.useCallback)(()=>{u.current=!1},[]),g=(0,r.useCallback)(()=>{if(p.current)return;if(0===d.current.length){console.log("No remaining messages"),c(!1),m.current&&(clearInterval(m.current),m.current=null);return}console.log("send message");let[e,...i]=d.current;d.current=i;let a={id:"user-".concat(l.current++),content:e,role:"user"};u.current=!0,n(e=>[...e,a]),t()},[t,n]),m=(0,r.useRef)(null);return{startTestCase:(0,r.useCallback)((e,t)=>{if(m.current)return void console.log("NOT STARTING INTERVAL");n(()=>[]),c(!0),t.themeId&&(0,el.kl)(a.getState()).find(e=>e.id===t.themeId),d.current=t.userMessages,m.current=setInterval(g,1e3)},[s,g,n,a]),isRunning:o,markFinish:h}},tj=(0,u.d_)("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),tE=e=>"buddy-".concat(e,"-").concat(tj());var tS=n(77364),tM=n(80314),tI=n(55597),t_=n(95563);let tD=e=>{let{onClose:t,onNewChat:n,onLearnMoreAboutAgentClick:a}=e,r=(0,X.GV)(ec.Bu),{product:s}=(0,z.I)();return(0,i.jsxs)(C.B,{py:2,px:4,spacing:0,children:[(0,i.jsxs)(j.z,{children:[(0,i.jsx)(o.s,{flex:1,children:(0,i.jsxs)(j.z,{align:"center",justify:"space-between",w:"100%",flex:1,children:[(0,i.jsxs)(o.s,{display:"flex",alignItems:"center",children:[(0,i.jsx)(t_.N,{children:T.qV}),(0,i.jsx)(v.E,{colorScheme:"purple",size:"sm",marginStart:2,children:(0,i.jsx)(I.x6,{id:"YBt9YP"})})]}),(0,i.jsx)(E.$,{size:"sm",variant:"ghost",px:4,flexShrink:0,leftIcon:(0,i.jsx)(M.g,{icon:tI.lLb}),onClick:n,children:(0,i.jsx)(I.x6,{id:"BC/Bbp"})})]})}),(0,i.jsx)(tS.J,{isDisabled:r,onClick:()=>{r||t()}})]}),(0,i.jsx)(w.E,{fontSize:"sm",color:"gray.500",fontWeight:"semibold",children:!!s&&(0,i.jsx)(tR,{onLearnMoreAboutAgentClick:a})})]})};function tR(e){let{onLearnMoreAboutAgentClick:t}=e,n=(0,D.u)("buddyEditFreePeriod"),a=(0,D.u)("buddyEditCreditsDisclaimer");return n?(0,i.jsx)(I.x6,{id:"3tTUMI",values:{AGENT_PROPER_NOUN:T.qV},components:{0:(0,i.jsx)(tM.N,{color:"blue.500",onClick:t})}}):a?(0,i.jsx)(I.x6,{id:"dYQPDH",values:{AGENT_PROPER_NOUN:T.qV},components:{0:(0,i.jsx)(tM.N,{color:"blue.500",href:R.C.AI_CREDITS,target:"_blank"})}}):null}var tT=n(65273),tz=n(45004),tH=n(83916),tN=n(39247);let tB=e=>{let{cardInView:t}=e,n=(0,X.GV)((0,tN.F1)(t.cardId)),a=null!=n?n:t.cardId;return(0,i.jsx)(v.E,{colorScheme:"blue",variant:"full"===t.inView?"solid":"outline",size:"sm",borderRadius:"md",px:2,py:1,maxW:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexShrink:0,children:a},t.cardId)};var tP=n(73845);let tF=e=>{let{status:t,manualSubmit:n,handleStop:a,lastTokensUsed:s,editor:l}=e,{disabledReason:o}=(0,tu.C)(),u=(0,X.GV)(ec.y3),p=(0,D.u)("buddyDebug"),[h,g]=(0,r.useState)(""),m=(0,r.useRef)(null),x=(0,r.useCallback)(()=>{var e;null==(e=m.current)||e.focus()},[]),{uploadedFiles:f,uploadFiles:b,openFilePicker:C,removeFile:y,resetFiles:w,isUploading:A,hiddenFileInput:k}=(0,tz.E8)({focusInput:x}),L="submitted"===t||"streaming"===t,E=!L&&!A&&(""!==h.trim()||f.length>0),S=(0,r.useCallback)(()=>{E&&(n(h,f),g(""),w())},[E,h,n,w,f]);(0,r.useEffect)(()=>{var e;null==(e=m.current)||e.focus()},[]);let M=(0,X.GV)(ec.MR),I=(null==M?void 0:M.type)==="image"?M.attrs:void 0,{suggestions:_}=(0,tT.s)(I),R=(null==M?void 0:M.type)==="image"&&I?[{key:"suggested",operations:(_||[]).map(e=>({key:e,label:()=>e,onQuickAction:t=>{t({message:d.Ru._({id:"ZI5Cdm",values:{s:e}})})}}))}]:[],T=(0,tH.u)(),z=(0,r.useCallback)(e=>{var t;null==(t=e.onQuickAction)||t.call(e,T,e),g(""),w()},[w,T]),H=(0,D.u)("buddySuggestions"),N=(null==M?void 0:M.type)==="image"?d.Ru._({id:"wm/Yby"}):(null==M?void 0:M.type)==="text"&&(null==M?void 0:M.length)>0?d.Ru._({id:"asPvjX"}):d.Ru._({id:"n64L59"});return(0,i.jsxs)(c.T,{direction:"column",align:"stretch",p:2,pt:0,children:[p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(v.E,{maxW:"fit-content",children:["Last request: ",Math.trunc(s/1e3),"k/",Math.trunc(200),"k (",Math.trunc(s/2e5*100),"%) tokens used"]}),(0,i.jsx)(j.z,{spacing:2,overflowX:"auto",py:1,children:u.map(e=>(0,i.jsx)(tB,{cardInView:e},e.cardId))})]}),k,(0,i.jsx)(tP.Z,{placeholder:N,onSubmit:S,onStop:a,inputRef:m,input:h,setInput:g,onUploadClick:C,isLoading:L,uploadedFiles:f,uploadFiles:b,removeFile:y,canSubmit:E,editor:l,actionGroups:R,onQuickAction:z,isDisabled:null!=o,showChatSuggestions:H})]})};var tV=n(24302),tO=n(96104),tZ=n.n(tO),tW=n(56706),tU=n(36333),tG=n(73110),tK=n(85443);let tQ=(e,t)=>n=>{let i=n.getHours();return e<=i&&i<t},tq=()=>e=>{let t=e.getDay();return 0===t||6===t},tJ=()=>()=>!0,t$=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,i=("en"===e?t.en:t.global).filter(e=>!e.shouldShow||e.shouldShow(n));if(0===i.length)return null;let a=Math.floor(Math.random()*i.length);return i[a]},tY={en:[{imageUrl:"https://static.gamma.app/images/empty-states/roar-fde55d91.png",title:e=>{let{name:t}=e;return"Someone stop ".concat(t,"! (jk never stop)")},shouldShow:tJ()},{imageUrl:"https://static.gamma.app/images/empty-states/coffee-cat-516d3ee5.png",title:e=>{let{name:t}=e;return"".concat(t,"! Coffee kicked in yet?")},shouldShow:tQ(5,12)},{imageUrl:"https://static.gamma.app/images/empty-states/detective-bear-2c0f9922.png",title:e=>{let{name:t}=e;return"Oh hey, ".concat(t,"! Time to slide")},shouldShow:tQ(12,18)},{imageUrl:"https://static.gamma.app/images/empty-states/candle-da129327.png",title:e=>{let{name:t}=e;return"".concat(t," after dark \uD83C\uDF19")},shouldShow:tQ(18,24)},{imageUrl:"https://static.gamma.app/images/empty-states/work-on-sand-1ea090dc.png",title:e=>{let{name:t}=e;return"Work keeping you up, ".concat(t,"? Pass it to me")},shouldShow:tQ(0,5)},{imageUrl:"https://static.gamma.app/images/empty-states/work-on-grass-84d3575b.png",title:e=>{let{name:t}=e;return"".concat(t," on a weekend? Respect")},shouldShow:tq()}],global:[{imageUrl:"https://static.gamma.app/images/empty-states/vision-in-hand-196bb0be.png",title:(0,i.jsx)(I.x6,{id:"IkgATh"}),shouldShow:tJ()},{imageUrl:"https://static.gamma.app/images/empty-states/train-eb28f3b8.png",title:e=>{let{name:t}=e;return(0,i.jsx)(I.x6,{id:"rnnwej",values:{name:t,AGENT_PROPER_NOUN:T.qV}})},shouldShow:tQ(5,12)},{imageUrl:"https://static.gamma.app/images/empty-states/flying-cat-8dcad3ad.png",title:(0,i.jsx)(I.x6,{id:"TSfZA1"}),shouldShow:tQ(12,17)},{imageUrl:"https://static.gamma.app/images/empty-states/roar-fde55d91.png",title:(0,i.jsx)(I.x6,{id:"eBl6Cy",values:{AGENT_PROPER_NOUN:T.qV}}),shouldShow:tQ(17,24)},{imageUrl:"https://static.gamma.app/images/empty-states/work-on-sand-1ea090dc.png",title:(0,i.jsx)(I.x6,{id:"c1s9fb"}),shouldShow:tQ(0,5)},{imageUrl:"https://static.gamma.app/images/empty-states/work-on-grass-84d3575b.png",title:(0,i.jsx)(I.x6,{id:"rLQfD1",values:{AGENT_PROPER_NOUN:T.qV}}),shouldShow:tq()}]};var tX=n(12258);let t0=()=>{let e=(0,tW.L)().map(e=>{let t=Math.floor(Math.random()*e.operations.length);return e.operations[t]});return tZ()(e)},t1=(0,r.memo)(()=>{let{user:e}=(0,tK.u)(),t=(0,tG.O)(),n=(null==e?void 0:e.firstName)||(null==e?void 0:e.displayName)||"there",a=(0,r.useMemo)(()=>{let e=t$(t,tY);return e||{imageUrl:tX.A.src,title:"en"===t?"Edit with AI":(0,i.jsx)(I.x6,{id:"EVnzPs"})}},[t]),s=(0,r.useMemo)(()=>"function"==typeof a.title?a.title({name:n}):a.title,[a,n]),l=(0,D.u)("buddySuggestions"),c=(0,r.useMemo)(()=>t0(),[]),d=l&&c.length>0,u=(0,tV.dU)("gray.600","gray.500");return(0,i.jsx)(o.s,{direction:"column",height:"100%",justifyContent:"center",children:(0,i.jsxs)(C.B,{spacing:6,alignItems:"center",p:4,borderRadius:"lg",textAlign:"center",children:[(0,i.jsx)(b._,{src:a.imageUrl,alt:"Empty state",maxW:"200px"}),(0,i.jsxs)(C.B,{spacing:1,children:[(0,i.jsx)(A.D,{size:"md",fontWeight:"semibold",css:{textWrap:"balance"},children:s}),!d&&(0,i.jsx)(w.E,{color:u,fontSize:"sm",children:(0,i.jsx)(I.x6,{id:"iaCYkN",values:{GAMMA_ARTIFACT_PROPER_NOUN:T.TP}})})]}),d&&(0,i.jsx)(tU.O,{actionGroups:[{key:"random-suggestions",operations:c}],wrapProps:{justify:"center"}})]})})});t1.displayName="BuddyChatEmptyState";let t2=e=>{let{isReceivingMessages:t,messagesLength:n}=e,i=(0,r.useRef)(null),a=(0,r.useRef)(t),s=(0,r.useRef)(!1),l=(0,r.useRef)(null),o=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{let e=a.current;a.current=t,!e&&t&&(s.current=!1);let r=()=>{i.current&&i.current.scrollIntoView({behavior:"auto",block:"end"})},c=()=>{let e=l.current;if(!e)return!1;let t=e.scrollTop;return e.scrollHeight-t-e.clientHeight<200},d=()=>{t&&!c()&&(s.current=!0)};n>0&&r();let u=l.current;if(u&&u.addEventListener("scroll",d),t){r();let e=setInterval(()=>{s.current||r()},100);return()=>{clearInterval(e),u&&u.removeEventListener("scroll",d)}}if(e&&!t){let e=0,t=setInterval(()=>{r(),++e>=10&&clearInterval(t)},100);return()=>{clearInterval(t),u&&u.removeEventListener("scroll",d)}}if(!o.current){o.current=!0;let e=0,t=setInterval(()=>{r(),++e>=10&&clearInterval(t)},100);return()=>{clearInterval(t),u&&u.removeEventListener("scroll",d)}}return()=>{u&&u.removeEventListener("scroll",d)}},[n,t]),{scrollToRef:i,scrollContainerRef:l}};var t3=n(3276),t5=n(27229),t4=n(29810),t6=n(16936),t9=n(30820),t7=n(37605);let t8=()=>({bg:(0,tV.dU)("sky.50","elevation.4"),borderColor:(0,tV.dU)("sky.200","gray.600"),textColor:(0,tV.dU)("deepocean.950","sky.50"),linkColor:(0,tV.dU)("deepocean.500","sky.500")}),ne=e=>{let{children:t}=e,n=(0,tV.dU)("sky.100","elevation.6"),a=(0,tV.dU)("var(--chakra-colors-gradient-brand-bg)","var(--chakra-colors-gradient-sky)");return(0,i.jsx)(j.z,{bg:n,w:"100%",px:2,py:3,mt:3,borderRadius:"md",justify:"space-between",align:"center",position:"relative",_before:{content:'""',position:"absolute",inset:0,background:a,borderRadius:"md",padding:"1px",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude"},children:t})},nt=e=>{let{contextWindowStatus:t,clearMessages:n,...a}=e,{bg:r,borderColor:s,textColor:l}=t8();return(0,i.jsx)(c.T,{p:3,px:2,bg:r,border:"1px solid",borderColor:s,borderTopRadius:"md",borderBottomColor:"transparent",align:"start",justify:"stretch",spacing:0,...a,children:(0,i.jsxs)(j.z,{align:"center",justify:"space-between",w:"100%",spacing:3,children:["almost-full"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontSize:"xs",color:l,fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"USlAnI"})}),(0,i.jsx)(E.$,{size:"xs",variant:"outline",px:4,flexShrink:0,leftIcon:(0,i.jsx)(M.g,{icon:tI.lLb}),onClick:n,children:(0,i.jsx)(I.x6,{id:"BC/Bbp"})})]}),"full"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontSize:"xs",color:l,fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"fxkLLs"})}),(0,i.jsx)(E.$,{size:"xs",variant:"solid",px:4,flexShrink:0,leftIcon:(0,i.jsx)(M.g,{icon:tI.lLb}),onClick:n,children:(0,i.jsx)(I.x6,{id:"BC/Bbp"})})]})]})})},nn=e=>{let{...t}=e,{bg:n,borderColor:a,textColor:r}=t8();return(0,i.jsx)(c.T,{p:3,px:2,bg:n,border:"1px solid",borderColor:a,borderTopRadius:"md",borderBottomColor:"transparent",align:"start",justify:"stretch",spacing:0,...t,children:(0,i.jsxs)(j.z,{align:"center",justify:"flex-start",w:"100%",spacing:3,children:[(0,i.jsx)(t3.y,{size:"sm"}),(0,i.jsx)(w.E,{fontSize:"xs",color:r,fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"s2IXCR"})})]})})},ni=e=>{let{creditStatus:t,upsellType:n,upsellPlanName:a,onUpgradeClick:r,daysToNextCredit:s,onDismiss:l,...o}=e,{bg:u,borderColor:p,textColor:h,linkColor:g}=t8(),{isOpen:m,onOpen:x,onClose:f}=(0,t5.j)();return(0,i.jsxs)(c.T,{p:3,px:2,border:"1px solid",bg:u,borderColor:p,borderTopRadius:"md",borderBottomColor:"transparent",align:"start",justify:"stretch",spacing:0,...o,children:[m&&(0,i.jsx)(t9.C,{onClose:f,onOpen:x,segmentEvent:t7.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_BUDDY_EDIT_CHAT}),(0,i.jsxs)(j.z,{align:"center",justify:"space-between",w:"100%",lineHeight:"1.5rem",color:h,mb:1,children:[(0,i.jsx)(M.g,{icon:S.ijf}),"out"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontSize:"sm",color:h,fontWeight:"bold",children:(0,i.jsx)(I.x6,{id:"QH2+8C"})}),(0,i.jsx)(t4.h,{})]}),"low"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{fontSize:"sm",color:h,fontWeight:"bold",children:(0,i.jsx)(I.x6,{id:"u5UuKQ"})}),(0,i.jsx)(t4.h,{}),(0,i.jsx)(t6.K,{size:"sm",variant:"ghost",colorScheme:"gray",_hover:{color:"gray.600"},icon:(0,i.jsx)(M.g,{icon:tI.Jyw}),"aria-label":d.Ru._({id:"YbMBxW"}),onClick:l})]})]}),s&&(0,i.jsx)(y.a,{mb:1,lineHeight:"1.5rem",children:(0,i.jsx)(w.E,{fontSize:"sm",color:h,children:(0,i.jsx)(I.x6,{id:"CqMchS",values:{daysToNextCredit:s},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)(tM.N,{href:"https://gamma.app/pricing",fontWeight:"semibold",marginStart:2,color:g})}})})}),"out"===t&&(0,i.jsxs)(i.Fragment,{children:["upgrade"===n&&(0,i.jsxs)(ne,{children:[(0,i.jsx)(w.E,{fontSize:"sm",color:h,fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"0LztCS",values:{upsellPlanName:a},components:{0:(0,i.jsx)(y.a,{as:"span",whiteSpace:"nowrap"})}})}),(0,i.jsx)(E.$,{size:"sm",variant:"solid",flexShrink:0,onClick:r,children:(0,i.jsx)(I.x6,{id:"NIvZju"})})]}),"refill"===n&&(0,i.jsxs)(ne,{children:[(0,i.jsx)(w.E,{fontSize:"sm",color:h,fontWeight:"semibold",children:s?(0,i.jsx)(I.x6,{id:"iCoPjp"}):(0,i.jsx)(I.x6,{id:"/CcIl3"})}),(0,i.jsx)(E.$,{size:"sm",variant:"solid",flexShrink:0,onClick:x,children:(0,i.jsx)(I.x6,{id:"AxzAS7"})})]})]})]})},na=e=>{let{clearMessages:t,...n}=e,{creditStatus:a,contextWindowStatus:r,upsellType:s,upsellPlanName:l,openUpgradeModel:o,daysToNextCredit:c,dismissLowCreditsWarning:d,disabledReason:u}=(0,tu.C)();return"stillStreaming"===u?(0,i.jsx)(nn,{...n}):"out"===a?(0,i.jsx)(ni,{creditStatus:a,upsellType:s,upsellPlanName:l,onUpgradeClick:o,daysToNextCredit:c,...n}):"full"===r?(0,i.jsx)(nt,{contextWindowStatus:r,clearMessages:t,...n}):"low"===a?(0,i.jsx)(ni,{creditStatus:a,upsellType:s,upsellPlanName:l,onUpgradeClick:o,daysToNextCredit:c,onDismiss:d,...n}):"almost-full"===r?(0,i.jsx)(nt,{contextWindowStatus:r,clearMessages:t,...n}):null};var nr=n(77850),ns=n(31078),nl=n(31113),no=n(47562),nc=n(76083),nd=n(17920),nu=n(88738),np=n(32617);let nh=e=>{let{buttonText:t="\uD83D\uDC1B",debugTitle:n,debugObject:a}=e,s=(0,np.u)("buddyDebug"),{isOpen:l,onOpen:o,onClose:c}=(0,t5.j)(),d=(0,r.useCallback)(()=>{try{return nu.Bh(a)}catch(e){return"Error dumping YAML: ".concat(e instanceof Error?e.message:"Unknown error","\n\nRaw object:\n").concat(JSON.stringify(a,null,2))}},[a]);return s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.$,{size:"xs",onClick:o,children:t}),(0,i.jsxs)(h.aF,{isOpen:l,onClose:c,size:"xl",children:[(0,i.jsx)(g.m,{}),(0,i.jsxs)(m.$,{children:[n&&(0,i.jsx)(nd.r,{children:n}),(0,i.jsx)(x.s,{}),(0,i.jsx)(f.c,{maxHeight:"80vh",overflow:"auto",children:(0,i.jsx)(y.a,{overflow:"auto",as:"pre",fontSize:"xs",children:d()})})]})]})]}):null};var ng=n(97139),nm=n.n(ng),nx=n(34787);let nf=e=>{let{content:t,clampToOneLine:n,...a}=e,s=(0,r.useMemo)(()=>{let e=new nx.xI.Renderer;e.heading=(e,t)=>'<p><strong style="font-weight: '.concat(t<=2?"bold":"semibold",'">').concat(e,"</strong></p>");let n=nx.xI.parse(t,{renderer:e,breaks:!0,gfm:!0});return nm().sanitize(n,{ALLOWED_TAGS:["p","strong","em","code","br","ul","ol","li","strike","a"],ALLOWED_ATTR:["style"]})},[t]);return(0,i.jsx)(y.a,{sx:{"& p":{margin:0,"&:not(:last-child)":{marginBottom:"1em"}},"& ul, & ol":{margin:0,paddingLeft:"1.5em","&:not(:last-child)":{marginBottom:"1em"}},...n?{"& > :first-child":{display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"normal"},"& > :not(:first-child)":{display:"none"}}:{}},...a,dangerouslySetInnerHTML:{__html:s}})};var nb=n(9329);function nC(){let e=(0,nb._)(["\n  0% {\n    background-position: 200% 0;\n  }\n  100% {\n    background-position: -200% 0;\n  }\n"]);return nC=function(){return e},e}let ny=(0,n(83004).i7)(nC()),nv=e=>{let{children:t,...n}=e,a=(0,tV.dU)("linear(to-r, deepocean.400 0%, deepocean.700 50%, deepocean.400 100%)","linear(to-r, deepocean.300 0%, deepocean.500 50%, deepocean.300 100%)");return(0,i.jsx)(w.E,{...n,backgroundClip:"text",bgGradient:a,backgroundSize:"200% 100%",animation:"".concat(ny," 3s linear infinite"),children:t})},nw=()=>(0,i.jsxs)(j.z,{justify:"center",align:"center",children:[(0,i.jsx)(M.g,{icon:tI.JAe,fontSize:"13px"}),(0,i.jsx)(w.E,{fontSize:"sm",fontWeight:"semibold",mt:"1px",ms:"-1px",children:(0,i.jsx)(I.x6,{id:"7175a1"})})]}),nA=e=>{let{part:t,isOpen:n,isOnlyPart:a,toggleCollapse:r}=e;return(0,i.jsxs)(j.z,{w:"100%",pe:4,ps:1,alignItems:"flex-start",pt:2,onClick:r,children:[!a&&(0,i.jsx)(M.g,{icon:tI.GEE,fontSize:"6px"}),(0,i.jsx)(nf,{mt:-2,content:t.text,clampToOneLine:!n})]})},nk=e=>{let{part:t}=e;return(0,i.jsxs)(j.z,{justify:"center",align:"center",children:[(0,i.jsx)(t3.y,{size:"xs",color:"deepocean.500"}),(0,i.jsxs)(nv,{fontSize:"sm",fontWeight:"semibold",children:[t.inProgressText,"..."]})]})},nL=e=>{let{part:t,editor:n,toggleCollapse:a}=e;return(0,i.jsxs)(o.s,{direction:"column",children:[(0,i.jsxs)(j.z,{justify:"space-between",width:"100%",onClick:a,children:[(0,i.jsxs)(j.z,{fontSize:"xs",children:[(0,i.jsx)(M.g,{icon:tI._$C,style:{marginInlineStart:"1px"}}),(0,i.jsx)(w.E,{fontSize:"sm",ms:"-1px",children:t.successText})]}),(0,i.jsx)(nh,{debugTitle:"".concat(t.toolInvocations[0].toolName,"..."),debugObject:{invocations:t.toolInvocations.map(e=>({args:e.args,...e.result})),artifact:t.artifact}})]}),t.artifact&&(0,i.jsx)(j.z,{overflow:"auto",ms:5,overflowY:"hidden",children:t.artifact.images.map((e,t)=>{var a;return(0,i.jsx)(no.N,{src:null!=(a=e.src)?a:"",alt:e.query,w:"100%",h:20,mt:2,cursor:"grab",objectFit:"cover",onDragStart:()=>{n&&(0,nc.fS)({editor:n,content:{type:"image",attrs:e},operation:"replace"})}},t)})})]})},nj=e=>{let{part:t}=e;return(0,i.jsxs)(j.z,{justify:"center",align:"center",width:"100%",alignItems:"flex-start",children:[(0,i.jsxs)(j.z,{justify:"space-between",alignItems:"flex-start",spacing:1,children:[(0,i.jsx)(M.g,{icon:tI.lEd,fontSize:"13px",style:{marginTop:"4px"}}),(0,i.jsxs)(w.E,{fontSize:"sm",fontWeight:"semibold",children:["Error: ",t.toolInvocation.result.error]})]}),(0,i.jsx)(nh,{buttonText:t.toolInvocation.toolName,debugTitle:"".concat(t.toolInvocation.toolName," (ERROR)"),debugObject:{args:t.toolInvocation.args,...t.toolInvocation.result}})]})};var nE=n(65230);let nS=(0,r.memo)(e=>{let{variation:t}=e,n=eu(),a=(0,X.GV)((0,ec.B3)(t)),s=(0,r.useCallback)(()=>{a||eg.r.applyResultVariation(n,t),eg.r.focusResultVariation(n,t)},[n,a,t]);return(0,i.jsxs)(o.s,{p:1,overflow:"hidden",role:"group",transitionProperty:"height border",transitionDuration:"0.2s",flexDirection:"column",justifyContent:"start",position:"relative",align:"left",border:"2px solid",borderRadius:"md",borderColor:a?"trueblue.500":"gray.300",onClick:s,cursor:"pointer",bg:a?"deepocean.200":"spacedust.50",children:[(0,i.jsx)(v.E,{colorScheme:a?"deepocean":"gray",variant:"subtle",alignSelf:"flex-start",mb:1,textTransform:"none",children:t.name}),t.attrs.src&&(0,i.jsx)(N.Me,{src:t.attrs.src,borderRadius:4})]})});nS.displayName="MessageResultImageVariation";let nM=e=>{let{variant:t,onClick:n,ariaLabel:a,...r}=e,s="go-back"===t;return(0,i.jsx)(E.$,{variant:s?"ghost":"plain",size:"xs",onClick:n,"aria-label":a||(s?"Go back":"Cancel"),rightIcon:(0,i.jsx)(M.g,{icon:s?S.U23:S.XOT,fixedWidth:!0}),...r,children:s?(0,i.jsx)(I.x6,{id:"CKyk7Q"}):(0,i.jsx)(I.x6,{id:"dEgA5A"})})};var nI=n(65950),n_=n(71514),nD=n(11818);let nR=r.memo(e=>{let{initialContent:t,isSelected:n,showSelectedBorder:a,interactionId:s,cardIds:l,themeId:o,children:c,...d}=e,u=eu(),[p,h]=(0,r.useState)(!1),g=(0,X.GV)((0,el.c8)(o));return((0,ei.rd)(),(0,nD.NC)(g),(0,r.useEffect)(()=>{requestAnimationFrame(()=>{h(!0)})},[]),p)?(0,i.jsx)(n_.q,{initialContent:t,theme:g,onCreate:e=>{e.gammaOrgId=(0,eh.gx)(),e.gammaDocId=u.editor.gammaDocId,requestAnimationFrame(()=>{(0,eF.Sg)({editor:e,content:t,theme:g,interactionId:s})})},children:(0,i.jsxs)(C.B,{justify:"start",align:"start",spacing:1,pos:"relative",...d,children:[l.map(e=>(0,i.jsx)(y.a,{borderRadius:"md",border:"1px solid",borderColor:"gray.200",overflow:"hidden",...a&&{cursor:"pointer"},...n&&a&&{borderColor:"trueblue.500",border:"2px solid"},...!n&&a&&{borderColor:"gray.200",border:"2px solid"},children:(0,i.jsx)(nI.N,{cardId:e},e)},e)),c]})}):null});nR.displayName="DocEditorPreview";let nT=(0,r.memo)(e=>{let{variation:t}=e,n=eu(),a=(0,X.GV)((0,ec.B3)(t)),{themeId:s,jsonContent:l}=(0,X.GV)((0,ec.BV)(t.toApplyCheckpointId)),c=[t.previewCardId],d=(0,r.useCallback)(()=>{a||eg.r.applyResultVariation(n,t),eg.r.focusResultVariation(n,t)},[n,a,t]);return(0,i.jsx)(o.s,{overflow:"hidden",role:"group",transitionProperty:"height border",transitionDuration:"0.2s",flexDirection:"column",justifyContent:"start",position:"relative",align:"center",maxH:"200px",css:{"--editor-width":"172px","--line-thickness":"1px"},children:(0,i.jsxs)(nR,{initialContent:l,themeId:s,cardIds:c,showSelectedBorder:!0,isSelected:a,onClick:d,interactionId:t.messageId,children:[(0,i.jsx)(v.E,{colorScheme:"sky",variant:"subtle",position:"absolute",bottom:1,insetEnd:1,zIndex:1,children:t.name}),a&&(0,i.jsx)(v.E,{colorScheme:"deepocean",bg:"deepocean.500",variant:"solid",position:"absolute",top:0,borderTopRadius:"none",color:"white",left:"50%",transform:"translateX(-50%)",zIndex:2,fontSize:"xs",opacity:0,_groupHover:{opacity:1},transition:"opacity 0.2s",children:(0,i.jsx)(I.x6,{id:"9krCfL"})})]})})});nT.displayName="MessageResultCardVariation";let nz=(0,r.memo)(e=>{let{variation:t}=e,n=eu(),a=(0,X.GV)((0,ec.B3)(t)),{themeId:s,jsonContent:l}=(0,X.GV)((0,ec.BV)(t.toApplyCheckpointId)),c=t.previewCardIds,d=(0,tV.dU)("gray.50","gray.700"),u=(0,tV.dU)("trueblue.500","trueblue.400"),p=(0,tV.dU)("trueblue.600","trueblue.400"),h=(0,tV.dU)("trueblue.300","trueblue.500"),g=(0,r.useCallback)(()=>{if(!a)return void eg.r.applyResultVariation(n,t);eg.r.focusResultVariation(n,t)},[n,a,t]);return(0,i.jsxs)(o.s,{borderRadius:"md",bg:d,border:"2px solid",borderColor:a?u:"transparent",outline:a?"1px solid var(--chakra-colors-trueblue-500)":"none",_hover:{borderColor:a?p:h},p:1,overflow:"hidden",role:"group",transitionProperty:"height border",transitionDuration:"0.2s",flexDirection:"column",justifyContent:"start",onClick:g,cursor:"pointer",position:"relative",align:"center",maxH:"300px",css:{"--editor-width":"166px","--line-thickness":"1px"},children:[(0,i.jsx)(nR,{initialContent:l,themeId:s,cardIds:c,showSelectedBorder:!1,interactionId:t.messageId}),(0,i.jsx)(v.E,{colorScheme:"sky",variant:"subtle",position:"absolute",bottom:1,insetEnd:1,zIndex:1,children:t.name}),a&&(0,i.jsx)(v.E,{colorScheme:"deepocean",bg:"deepocean.500",variant:"solid",position:"absolute",top:0,borderTopRadius:"none",color:"white",insetStart:"50%",transform:"translateX(-50%)",zIndex:2,fontSize:"xs",opacity:0,_groupHover:{opacity:1},transition:"opacity 0.2s",children:(0,i.jsx)(I.x6,{id:"0MgdN+"})})]})});nz.displayName="MessageResultDeckVariation";let nH=e=>{let{title:t,children:n}=e,a=(0,tV.dU)("gray.400","gray.300");return(0,i.jsx)(C.B,{py:2,align:"space-between",w:"100%",borderRadius:"md",children:(0,i.jsxs)(j.z,{justify:"space-between",w:"100%",children:[(0,i.jsxs)(j.z,{spacing:1,children:[(0,i.jsx)(y.a,{color:a,children:(0,i.jsx)(M.g,{icon:tI.QRE,fixedWidth:!0,size:"sm",style:{marginInlineStart:"-1px"}})}),(0,i.jsx)(w.E,{fontSize:"sm",fontWeight:"semibold",color:a,children:t})]}),n]})})},nN=e=>{let{result:t,showCancelButton:n,cancelRollback:a,onGoBack:r,state:s,ratings:l}=e,o=(0,tV.dU)("deepocean.800","deepocean.300");return"done"===s?(0,i.jsx)(nH,{title:t.title,children:(0,i.jsx)(nM,{variant:"go-back",onClick:r})}):(0,i.jsxs)(C.B,{align:"space-between",w:"100%",children:[(0,i.jsxs)(j.z,{justify:"space-between",w:"100%",py:2,pb:0,children:[(0,i.jsxs)(j.z,{spacing:1,children:[(0,i.jsx)(y.a,{color:o,children:(0,i.jsx)(M.g,{icon:S.B4x,fixedWidth:!0,size:"sm"})}),(0,i.jsx)(w.E,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"kNTUcC"})})]}),n&&(0,i.jsx)(nM,{variant:"cancel",onClick:a})]}),(0,i.jsxs)(C.B,{spacing:4,children:[(0,i.jsx)(k.r,{columns:2,spacing:1,children:t.variations.map((e,t)=>{switch(e.previewType){case"doc":return(0,i.jsx)(nz,{variation:e},t);case"card":return(0,i.jsx)(nT,{variation:e},t);case"image":return(0,i.jsx)(nS,{variation:e},t);default:return null}})}),(0,i.jsx)(j.z,{justify:"flex-end",w:"100%",children:l})]})]})};var nB=n(56570),nP=n(10500),nF=n(68013),nV=n(80928),nO=n(67604),nZ=n(73867),nW=n(74892),nU=n(78140),nG=n(36999),nK=n(12514),nQ=n(41283),nq=n(6760),nJ=n(85595),n$=n(14816),nY=n(95695);let nX=(0,r.memo)(e=>{let{theme:t}=e,n=(0,ei.iW)({theme:t}),r=t.name.replace(nY.M8,"");return(0,i.jsxs)(nU.W,{isLazy:!0,children:[(0,i.jsx)(nG.I,{as:t6.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(M.g,{icon:S.Dwc}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(I.x6,{id:"7L01XJ"})}),(0,i.jsx)(nK.Z,{children:(0,i.jsxs)(nQ.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(y.a,{px:4,py:0,maxWidth:"300px",children:[(0,i.jsx)(w.E,{noOfLines:3,children:r}),t.createdTime&&(0,i.jsx)(w.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(I.x6,{id:"MXSt4t",values:{0:(0,n$.A)((0,nO.A)(t.createdTime),"PPP")}})}),t.createdBy&&(0,i.jsx)(a.Tz,{label:t.createdBy.email,children:(0,i.jsx)(w.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(I.x6,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,i.jsx)(nq.N,{}),(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:tI.ub2,fixedWidth:!0}),onClick:n,children:(0,i.jsx)(I.x6,{id:"yKu/3Y"})})]})})]})});var n0=n(8099),n1=n(21938),n2=n(90221),n3=n(62452),n5=n(61385),n4=n(62171),n6=n(6181),n9=n(80387),n7=n(55616),n8=n(95571),ie=n(68247),it=n(95714);let ii=(0,r.memo)(e=>{let{theme:t,variant:n="outline",children:a,heightEm:r=8,...s}=e,{contentStyles:l}=t.config,c=(0,n4.fS)(t),d=(0,n3.Mw)(t),u=(0,it.ZI)(t);"string"==typeof u["--card-border-radius"]&&(u["--card-border-radius"]=function(e){let t=parseFloat(e);return e.endsWith("em")&&t>1?"".concat(1,"em"):e}(u["--card-border-radius"]));let p=(0,n7.S)(t,!1),h=(0,n4.FD)(c,d,N.XS),{currentWorkspace:g}=(0,n6.ur)(),m=(0,n9.fL)(null==g?void 0:g.id),x=ia(t),f=t.id===(null==m?void 0:m.defaultThemeId),C=(0,D.u)("themeTextPreviewSVGs")&&t.previewUrl,A={fontSize:"0.8em",padding:"0.2em 0.4em",borderRadius:"0.3em",insetStart:2,top:2,zIndex:1};return(0,i.jsxs)(y.a,{css:u,sx:p,w:"100%",pos:"relative",children:[x&&!f&&null===t.workspaceId&&(0,i.jsx)(v.E,{position:"absolute",colorScheme:"green",...A,children:(0,i.jsx)(I.x6,{id:"isRobC"})}),f&&(0,i.jsx)(n0.m,{openDelay:300,label:(0,i.jsx)(I.x6,{id:"dWkBMI"}),placement:"top",cursor:"help",children:(0,i.jsx)(v.E,{position:"absolute",colorScheme:"gray",cursor:"help",...A,children:(0,i.jsx)(I.x6,{id:"ovBPCi"})})}),(0,i.jsxs)(o.s,{borderTopRadius:"ghost"===n?"none":"md",boxShadow:"sm",_focus:{boxShadow:"outline"},p:"".concat(r/8,"em"),transitionProperty:"common",transitionDuration:"normal",...h,backgroundAttachment:"initial",direction:"row",align:"center",overflow:"hidden",minH:"".concat(r,"em"),maxH:"".concat(r,"em"),...s,children:[!C&&(0,i.jsx)(n2.m,{theme:t}),(0,i.jsx)(y.a,{sx:{...n8.CO,...l},borderRadius:"base",className:"".concat(n5._P," ").concat(d?"is-dark":""),color:d?"white":"gray.800",flex:1,pointerEvents:"none",dir:"ltr",children:(0,i.jsx)(y.a,{gridArea:'"body"',py:"".concat(r/8,"em"),px:"".concat(r/8,"em"),position:"relative",minH:"".concat(3*r/4,"em"),children:C?(0,i.jsx)(b._,{src:t.previewUrl,position:"absolute",width:"".concat(7.75/8*r,"em"),objectFit:"contain",inset:"".concat(r/8,"em"),fallback:(0,i.jsx)(y.a,{pos:"absolute",inset:"-".concat(r/8,"em"),bg:"gray.300",backgroundImage:nW.A.src,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.E,{className:"block-title",mt:"0 !important",mb:"var(--chakra-space-1) !important",children:(0,i.jsx)(w.E,{as:"span",className:(0,n1.cx)("title",ie.U6),fontSize:"1.6em !important",paddingBottom:"0 !important",children:(0,i.jsx)(I.x6,{id:"MHrjPM"})})}),(0,i.jsx)(w.E,{fontSize:"0.9em !important",noOfLines:3,className:"block block-paragraph",my:"0 !important",children:(0,i.jsx)(I.x6,{id:"U41VTK",components:{0:(0,i.jsx)(w.E,{as:"a",className:"link"})}})})]})})})]}),a]})});ii.displayName="ThemePreviewThumbnail";let ia=e=>{if(!e.createdTime)return!1;let t=new Date(e.createdTime),n=new Date;return n.setDate(n.getDate()-30),t>n};var ir=n(70006),is=n(58240),il=n(51737),io=n(75178);let ic=(0,r.memo)(e=>{let{onCustomizeThemeClick:t,onEditThemeClick:n,onSetAsWorkspaceDefaultThemeClick:a,theme:r}=e,{isGammaOrgUser:s,currentWorkspace:l}=(0,eh.ur)(),o=(0,n9.fL)(null==l?void 0:l.id),c=s&&"production"!==p.$.APPLICATION_ENVIRONMENT,d=(0,n6.CX)(),u=r.id===(null==o?void 0:o.defaultThemeId);return(0,i.jsxs)(nU.W,{isLazy:!0,children:[(0,i.jsx)(nG.I,{as:t6.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(M.g,{icon:S.Dwc}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(I.x6,{id:"7L01XJ"})}),(0,i.jsx)(nK.Z,{children:(0,i.jsxs)(nQ.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.WSb,fixedWidth:!0}),onClick:t,children:(0,i.jsx)(I.x6,{id:"/b0MjO"})}),d&&!u&&(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.fyG,fixedWidth:!0}),onClick:a,children:(0,i.jsx)(I.x6,{id:"rbjUma"})}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nq.N,{}),(0,i.jsx)(nJ.D,{color:"orange.500",icon:(0,i.jsx)(y.a,{boxSize:"4",children:(0,i.jsx)(io.T,{})}),onClick:n,children:"Edit theme"})]})]})})]})});var id=n(74771),iu=n(41781),ip=n(16426),ih=n(61204),ig=n(81278),im=n(58809);let ix=e=>{let{theme:t,isOpen:n,onClose:a}=e,{asPath:s}=(0,ig.useRouter)(),[l,o]=(0,r.useState)(),[c,d]=(0,r.useState)(),u=(0,X.GV)(im.Jo),p=(0,ei.n_)({theme:t,showLinkToDashboard:!!u}),{data:b,loading:C}=(0,ee.eKT)({variables:{id:null==t?void 0:t.id},skip:!t||"new"===t.id});(0,r.useEffect)(()=>{var e,t;!C&&b&&((null==(e=b.theme)?void 0:e.docCount)&&o(b.theme.docCount),(null==(t=b.theme)?void 0:t.siteCount)&&d(b.theme.siteCount))},[C,b,o,d]);let y=(0,r.useMemo)(()=>{let e=0;return l&&l>0&&(e+=l),c&&c>0&&(e+=c),e},[l,c]);return(0,i.jsxs)(h.aF,{closeOnOverlayClick:!1,isOpen:n,onClose:a,size:"lg",children:[(0,i.jsx)(g.m,{}),(0,i.jsxs)(m.$,{children:[(0,i.jsx)(nd.r,{children:(0,i.jsx)(I.x6,{id:"oh7Knm",values:{0:t.name}})}),(0,i.jsx)(f.c,{children:y>0?(0,i.jsxs)(w.E,{mb:2,children:[(0,i.jsx)(I.x6,{id:"uSopl9",values:{totalCount:y,GAMMA_ARTIFACT_PROPER_NOUN:T.TP,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:T.Ix}})," ",(0,i.jsx)(I.x6,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:T.Ix}})," ","/#themes"!==s&&(0,i.jsx)(I.x6,{id:"kLomb7",components:{0:(0,i.jsx)(tM.N,{color:"trueblue.500",colorScheme:"trueblue",href:nY.fr,textDecoration:"underline",isExternal:!0}),1:(0,i.jsx)(id.p,{mx:"2px"})}})]}):C?(0,i.jsx)(iu.E,{h:"1em",mb:2}):(0,i.jsx)(w.E,{mb:2,children:(0,i.jsx)(I.x6,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:T.Ix}})})}),(0,i.jsx)(ip.j,{children:(0,i.jsxs)(ih.e,{children:[(0,i.jsx)(E.$,{variant:"ghost",onClick:a,children:(0,i.jsx)(I.x6,{id:"dEgA5A"})}),(0,i.jsx)(E.$,{variant:"hazardous",onClick:()=>{p(),a()},children:(0,i.jsx)(I.x6,{id:"zck3yw"})})]})}),(0,i.jsx)(x.s,{})]})]})},ib=(0,r.memo)(e=>{let{theme:t,openThemeEditorWithThisTheme:n,onDuplicate:s,onShareLink:o,onArchiveThemeModalOpen:c,isArchiveThemeModalOpen:d,onArchiveThemeModalClose:u,hasCustomFonts:p}=e,{canMakeStandard:h,convertToStandard:g}=(0,ei._k)(t),{currentWorkspace:m}=(0,n6.ur)(),x=(0,n9.fL)(null==m?void 0:m.id),f=(0,n6.CX)(),[b]=(0,ee.l_E)(),C=(0,l.d)(),v=t.id===(null==x?void 0:x.defaultThemeId),A=(0,r.useCallback)(()=>{(null==m?void 0:m.id)&&b({variables:{input:{id:m.id,defaultThemeId:t.id}},optimisticResponse:{updateWorkspace:{...m,defaultThemeId:t.id}}}).then(()=>{C({title:(0,i.jsx)(I.x6,{id:"jpJi4R"}),description:(0,i.jsx)(I.x6,{id:"9TM+t9",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:T.Ix}}),status:"success",duration:3e3,position:"top"})}).catch(()=>{console.warn("Error updating theme"),C({title:(0,i.jsx)(I.x6,{id:"1sTMTp"}),status:"error",duration:3e3,position:"top"})})},[m,t.id,b,C]);return(0,i.jsxs)(nU.W,{isLazy:!0,children:[(0,i.jsx)(nG.I,{as:t6.K,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,i.jsx)(M.g,{icon:S.Dwc}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(I.x6,{id:"7L01XJ"})}),(0,i.jsx)(nK.Z,{children:(0,i.jsxs)(nQ.c,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)(y.a,{px:4,py:0,maxWidth:"300px",children:[(0,i.jsx)(w.E,{noOfLines:3,children:t.name}),t.createdTime&&(0,i.jsx)(w.E,{fontSize:"xs",color:"gray.500",noOfLines:1,children:(0,i.jsx)(I.x6,{id:"MXSt4t",values:{0:(0,n$.A)((0,nO.A)(t.createdTime),"PPP")}})}),t.createdBy&&(0,i.jsx)(a.Tz,{label:t.createdBy.email,children:(0,i.jsx)(w.E,{display:"inline-block",fontSize:"xs",color:"gray.500",noOfLines:1,children:(0,i.jsx)(I.x6,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,i.jsx)(nq.N,{}),(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.MT7,fixedWidth:!0}),onClick:n,children:(0,i.jsx)(I.x6,{id:"ePK91l"})}),(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.$3n,fixedWidth:!0}),onClick:s,children:(0,i.jsx)(I.x6,{id:"euc6Ns"})}),(0,i.jsxs)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.CQO,fixedWidth:!0}),onClick:o,children:[(0,i.jsx)(I.x6,{id:"RGCCrg"}),p&&(0,i.jsx)(w.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(I.x6,{id:"A8cpC7"})})]}),f&&!v&&(0,i.jsx)(nJ.D,{icon:(0,i.jsx)(M.g,{icon:S.fyG,fixedWidth:!0}),onClick:A,children:(0,i.jsx)(I.x6,{id:"rbjUma"})}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nq.N,{}),(0,i.jsx)(nJ.D,{color:"orange.500",icon:(0,i.jsx)(y.a,{boxSize:"4",children:(0,i.jsx)(io.T,{})}),onClick:g,children:(0,i.jsx)(I.x6,{id:"thLYdn"})})]}),(0,i.jsx)(nq.N,{}),(0,i.jsx)(nJ.D,{color:"red.500",icon:(0,i.jsx)(M.g,{icon:S.Oh6,fixedWidth:!0}),onClick:c,children:(0,i.jsx)(I.x6,{id:"B495Gs"})})]})}),d&&(0,i.jsx)(nK.Z,{children:(0,i.jsx)(ix,{theme:t,isOpen:!0,onClose:u})})]})}),iC={transitionProperty:"common",shadow:void 0,padding:2,hoverStyles:{bgColor:"deepocean.50"},themeNamePadding:0},iy={...iC,border:"1px solid",borderColor:"gray.200",borderColorSelected:"sky.600",bgColorSelected:"deepocean.50",hoverStyles:{bgColor:"deepocean.50",borderColor:"deepocean.400"}},iv={ghost:iC,"ghost-bordered":iy,outline:{transitionProperty:"none",shadow:"md",padding:0,hoverStyles:{shadow:"lg",bgColor:"gray.50"},themeNamePadding:2}},iw=e=>{let{isChecked:t,name:n}=e,a=(0,tV.dU)("trueblue.700","deepocean.300");return(0,i.jsxs)(j.z,{spacing:1,alignItems:"flex-start",children:[t&&(0,i.jsx)(nP.S,{w:3,h:"auto",me:1,mt:1,color:a}),(0,i.jsx)(w.E,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?a:void 0,overflowWrap:"anywhere",children:n})]})},iA=(0,r.memo)(e=>{var t,n,a,s,c,u;let{theme:p,isChecked:h=!1,variant:g="outline",onThemeClicked:m,disableEditing:x,hasCustomFonts:f=!1,placeholderPadding:b=2,previewHeightEm:C=8,compact:v=!1}=e,w=(0,et.st)(),A=(0,l.d)(),k=iv[g],L=(0,r.useRef)(null),S=(0,tV.dU)("white","gray.700"),M=(0,tV.dU)("gray.300","gray.600"),_=(0,tV.dU)(h?null!=(c=k.bgColorSelected)?c:"deepocean.100":"white",h?"gray.600":"gray.700"),D=(0,tV.dU)(k.borderColor,"gray.600"),R=h?k.borderColorSelected:D,z=(0,tV.dU)(k.hoverStyles.borderColor,null!=(u=k.hoverStyles.borderColor)?u:"gray.500"),H=h?k.borderColorSelected:z,N=(0,tV.dU)(k.hoverStyles.bgColor,"gray.600"),B=h?_:N,P=h?void 0:{shadow:k.hoverStyles.shadow,bgColor:B,borderColor:H},{currentWorkspace:F,user:V}=(0,eh.ur)(),[O]=(0,ee.hc)(),[Z]=(0,ee.l_E)(),W=(0,r.useCallback)(()=>{(0,il.vd)({theme:p})},[p]),U=(0,r.useCallback)(()=>{(0,il.L6)({theme:p})},[p]),{isOpen:G,onOpen:K,onClose:Q}=(0,t5.j)({id:"ArchiveThemeModalDisclosure"}),q=p.name.replace(nY.M8,""),J=(0,ir.sx)({themeId:p.id}),{onCopy:$}=(0,nF.i)(J),Y=(0,r.useCallback)(()=>{if(!V||!F)return;let{id:e,...t}=p;O({variables:{id:e},update:(e,t)=>{let{data:n}=t;(null==n?void 0:n.duplicateTheme)&&e.writeQuery({query:ee.a83,variables:{workspaceId:p.workspaceId,archived:!1},data:{themes:[n.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...t,name:"".concat(q," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(t=>{let{data:n}=t;if(!n)return;let i=n.duplicateTheme.name;null==w||w.track(et.VV.THEME_DUPLICATED,{theme_id:n.duplicateTheme.id,source_theme_id:e,name:q}),null==w||w.track(et.VV.THEME_CREATED,{theme_id:n.duplicateTheme.id,name:i,type:"duplicate"}),A({title:d.Ru._({id:"D64sZs",values:{themeName:i}}),status:"success",duration:3e3,position:"top",isClosable:!0}),(0,il.vd)({theme:n.duplicateTheme})}).catch(e=>{console.error("Couldn't duplicate theme ".concat(p.name," error: ").concat(e)),A({title:d.Ru._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[V,F,p,O,q,w,A]),X=(0,r.useCallback)(()=>{(null==F?void 0:F.id)&&Z({variables:{input:{id:F.id,defaultThemeId:p.id}},optimisticResponse:{updateWorkspace:{...F,defaultThemeId:p.id}}}).then(()=>{A({title:(0,i.jsx)(I.x6,{id:"jpJi4R"}),description:(0,i.jsx)(I.x6,{id:"9TM+t9",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:T.Ix}}),status:"success",duration:3e3,position:"top"})}).catch(()=>{console.warn("Error updating theme"),A({title:(0,i.jsx)(I.x6,{id:"1sTMTp"}),status:"error",duration:3e3,position:"top"})})},[F,p,Z,A]),en=(0,r.useCallback)(()=>{if(!V||!F)return;let{name:e}=p;$(),A({title:(0,i.jsx)(I.x6,{id:"EfkecX",values:{name:e}}),description:(0,i.jsx)(I.x6,{id:"MXBeyi"}),status:"success",duration:5e3,position:"top",isClosable:!0})},[V,F,p,$,A]),ei=p.workspaceId&&!!(null==(t=p.createdBy)?void 0:t.displayName)&&!v,ea=!!m,er=!W||x,{inViewport:es,dimensions:el,ref:eo}=(0,is.v)({dimensions:{width:50,height:ei?220:172}}),ec=e=>{L.current=e,eo(e)};if(!1===es){let e=!v&&el?"".concat(el.width,"px"):"".concat(13*C/8,"em"),t=!v&&el?"".concat(el.height,"px"):"".concat(C/2,"em");return(0,i.jsxs)(o.s,{ref:ec,bgColor:S,"data-theme-id":p.id,textAlign:"start",borderRadius:"md",outline:"none",minH:t,minW:e,direction:"column",p:b,sx:{contentVisibility:"auto",containIntrinsicSize:"".concat(e," ").concat(t)},children:[(0,i.jsx)(y.a,{minH:"".concat(C,"em"),maxH:"".concat(C,"em"),bg:M,backgroundImage:nW.A.src,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),(0,i.jsx)(y.a,{w:"100%",p:2*(0===b),pt:ei?5:1,children:(0,i.jsx)(iw,{name:q,isChecked:h})})]})}let ed=p.updatedTime?(0,nV.A)((0,nO.A)(p.updatedTime)):"";return(0,i.jsxs)(y.a,{ref:ec,sx:{contentVisibility:"auto",containIntrinsicSize:"13em"},bgColor:_,textAlign:"start",tabIndex:ea?0:void 0,borderRadius:"md",border:k.border,borderColor:R,transitionProperty:k.transitionProperty,transitionDuration:"normal",outline:"none",onClick:()=>ea?null==m?void 0:m(p):void 0,onKeyPress:e=>{ea&&"Enter"===e.key&&(null==m||m(p))},_hover:ea?P:void 0,_focus:{boxShadow:h||!ea?void 0:"outline"},shadow:k.shadow,p:k.padding,"data-theme-id":p.id,"data-testid":h?"current-theme-preview":void 0,cursor:ea?"pointer":void 0,role:"group",position:"relative",children:[(0,i.jsx)(ii,{theme:p,heightEm:C,children:h&&!x&&(0,i.jsx)(E.$,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",bottom:2,insetEnd:2,size:"sm",variant:"solid",onClick:p.workspaceId?W:U,children:p.workspaceId?(0,i.jsx)(I.x6,{id:"ePK91l"}):(0,i.jsx)(I.x6,{id:"srRMnJ"})})}),(0,i.jsxs)(o.s,{align:"baseline",mt:1,direction:"column",p:k.themeNamePadding,children:[ei&&(0,i.jsx)(o.s,{my:2,children:(0,i.jsx)(iw,{name:q,isChecked:h})}),(0,i.jsxs)(j.z,{alignItems:"flex-start",w:"100%",children:[ei?(0,i.jsx)(nZ.S,{createdByYou:(null==(n=p.createdBy)?void 0:n.id)===(null==V?void 0:V.id),createdByName:null==(a=p.createdBy)?void 0:a.displayName,createdByProfileImageUrl:null==(s=p.createdBy)?void 0:s.profileImageUrl,timestampDescription:p.updatedTime&&(0,i.jsx)(I.x6,{id:"I8D9c7",values:{formattedThemeUpdateTime:ed}})}):(0,i.jsx)(iw,{name:q,isChecked:h}),(0,i.jsx)(t4.h,{}),er?null:p.workspaceId&&!p.archived?(0,i.jsx)(ib,{theme:p,openThemeEditorWithThisTheme:W,onDuplicate:Y,onShareLink:en,onArchiveThemeModalOpen:K,isArchiveThemeModalOpen:G,onArchiveThemeModalClose:Q,hasCustomFonts:f}):p.workspaceId&&!0===p.archived?(0,i.jsx)(nX,{theme:p}):(0,i.jsx)(ic,{onCustomizeThemeClick:U,onEditThemeClick:W,onSetAsWorkspaceDefaultThemeClick:X,theme:p})]})]})]})});iA.displayName="ThemePreview";let ik=e=>{let{result:t,state:n,ratings:a}=e,{isOpen:s,onOpen:l,onClose:o}=(0,t5.j)(),c="current"===n||s,d=(0,X.GV)(el.ST),u=(0,X.GV)(ea.SJ),p=es(),h=(0,tV.dU)("deepocean.800","deepocean.300"),g=(0,r.useCallback)(e=>{p(e)},[p]);return c?(0,i.jsxs)(C.B,{align:"space-between",w:"100%",children:[(0,i.jsxs)(j.z,{justify:"space-between",w:"100%",px:0,py:2,pb:0,border:"1px solid",borderColor:"transparent",children:[(0,i.jsxs)(j.z,{children:[(0,i.jsx)(y.a,{color:h,children:(0,i.jsx)(M.g,{icon:S.B4x,fixedWidth:!0,size:"sm"})}),(0,i.jsx)(w.E,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(I.x6,{id:"9KqPc+"})})]}),s&&(0,i.jsx)(E.$,{variant:"ghost",size:"xs",onClick:o,"aria-label":"close",rightIcon:(0,i.jsx)(M.g,{icon:S.bnw,fixedWidth:!0}),children:(0,i.jsx)(I.x6,{id:"yz7wBu"})})]}),(0,i.jsx)(C.B,{spacing:4,children:(0,i.jsx)(nB.x,{templateColumns:{base:"repeat(2, 1fr)",md:"repeat(2, 1fr)"},gap:3,children:t.themes.map(e=>{let{themeId:t,wasOriginal:n}=e,a=d.find(e=>e.id===t);return a?(0,i.jsxs)(y.a,{position:"relative",children:[(0,i.jsx)(iA,{theme:a,isChecked:(null==u?void 0:u.id)===t,onThemeClicked:g,variant:"ghost-bordered",disableEditing:!0,previewHeightEm:6,compact:!0},t),n&&(0,i.jsx)(v.E,{colorScheme:"sky",variant:"subtle",position:"absolute",bottom:1,insetEnd:1,zIndex:1,children:(0,i.jsx)(I.x6,{id:"HxF6Fk"})})]},t):null})})}),(0,i.jsx)(y.a,{display:"flex",justifyContent:"flex-end",children:a})]}):(0,i.jsx)(nH,{title:t.title,children:(0,i.jsx)(E.$,{variant:"ghost",size:"xs",onClick:l,"aria-label":"Open",rightIcon:(0,i.jsx)(M.g,{icon:S.fyG,fixedWidth:!0}),children:(0,i.jsx)(I.x6,{id:"1TNIig"})})})},iL=e=>{let{message:t,lastUserMessage:n,result:a,state:r,cancelRollback:s,onGoBack:l,chatId:o}=e,c="rolling-back"===r,d=(0,i.jsx)(iS,{chatId:o,result:a,message:t,lastUserMessage:n});return"suggest-themes"===a.type?(0,i.jsx)(ik,{result:a,state:r,ratings:d}):"applied-changes"===a.type?(0,i.jsx)(nN,{result:a,cancelRollback:s,showCancelButton:c,state:r,onGoBack:l,ratings:d}):null},ij=[{key:"instructions",label:(0,i.jsx)(I.x6,{id:"Tq32Jp"})},{key:"incorrect-information",label:(0,i.jsx)(I.x6,{id:"UZQ7Jv"})},{key:"too-many-changes",label:(0,i.jsx)(I.x6,{id:"YI0lXP"})},{key:"formatting",label:(0,i.jsx)(I.x6,{id:"TO8fPE"})}],iE=(e,t,n)=>{var i;let a=null==(i=e.parts)?void 0:i.filter(e=>"tool-invocation"===e.type).map(e=>e.toolInvocation),r=null==a?void 0:a.map(e=>e.toolName).reduce((e,t)=>{var n;return e[t]=(null!=(n=e[t])?n:0)+1,e.all+=1,e},{all:0});return{toolInvocations:a,toolCount:r,interactionId:t.messageId,messageId:t.messageId,userMessage:null==n?void 0:n.content}},iS=r.memo(e=>{let{result:t,message:n,lastUserMessage:a,chatId:s}=e,[l,o]=(0,r.useState)(null),{toolInvocations:c,toolCount:d,userMessage:u,messageId:p,interactionId:h}=iE(n,t,a),g=(0,r.useCallback)(e=>{o(e),(0,q.yC)({toolInvocations:c,toolCount:d,interactionId:h,messageId:p,userMessage:u,chatId:s,rating:e,agentType:"Buddy"})},[s,c,d,u,p,h]),m=(0,r.useCallback)((e,t,n)=>{(0,q.Y2)({chatId:s,toolInvocations:c,toolCount:d,rating:e,feedback:t,userMessage:u,messageId:p,interactionId:h,tags:n,agentType:"Buddy"})},[s,c,d,u,p,h]);return(0,i.jsx)(nE.f3,{setRating:g,RatingButtons:nE.Ep,size:"xs",rating:null!=l?l:void 0,trackFeedback:m,feedbackTags:ij})});iS.displayName="MessageResultRatings";let iM=(0,nr.P)(j.z),iI=e=>{let{children:t,isLast:n,isOnlyPart:a,showToggle:s=!0,startOpen:l=!1}=e,[c,d]=(0,r.useState)(l),[u,p]=(0,r.useState)(l),h=(0,tV.dU)("gray.700","gray.300"),g=(0,tV.dU)("gray.400","gray.500"),m=(0,tV.dU)("gray.200","gray.600"),x=!!(s&&!a);(0,r.useEffect)(()=>{a||l?(p(!0),d(!0)):(p(!1),d(!1))},[a,l]);let f=(0,r.useCallback)(()=>{x&&d(e=>{let t=!e;return t&&p(!0),t})},[x]),b="function"==typeof t?t({isOpen:u,toggleCollapse:f}):t;return(0,i.jsx)(o.s,{position:"relative",_before:n?{}:{content:"''",position:"absolute",w:"1px",top:8,bottom:-3,insetStart:"6px",bg:m,borderRadius:"none",overflow:"visible"},py:2,w:"100%",children:(0,i.jsxs)(iM,{cursor:x?"pointer":"inherit",color:c&&(x||a)?h:g,_hover:x?{color:h}:{},transitionProperty:"common",transitionDuration:"normal",w:"100%",alignItems:"flex-start",overflow:"hidden",animate:{height:c?"auto":"1.3em"},onAnimationComplete:()=>{p(c)},children:[b,x&&(0,i.jsx)(y.a,{as:"span",position:"absolute",insetEnd:0,transform:c?"rotate(-180deg)":void 0,transitionDuration:"normal",transformOrigin:"center",onClick:f,children:(0,i.jsx)(M.g,{size:"sm",icon:tI.Jt$})})]})})},i_=e=>{var t,n;let{message:a,chatId:s,messageIndex:l,goBackToMessage:o,isLast:d,lastUserMessage:u,editor:p,...h}=e,g=(0,X.GV)(ec.RR),m=(0,X.GV)((0,ec.fN)(a.id)),x="done";g===l?x="rolling-back":d&&(x="current");let f=e1(),b=(0,r.useCallback)(()=>{o(a)},[o,a]),C=function(e){let t=e.reduce((e,t)=>{let{parts:n,toCompress:i}=e;return"tool-invocation-success"===t.type&&t.compressKey?i?i.compressKey===t.compressKey?{parts:n,toCompress:{compressKey:t.compressKey,parts:[...i.parts,t]}}:(n.push(iR(i.compressKey,i.parts)),{parts:n,toCompress:{compressKey:t.compressKey,parts:[t]}}):{parts:n,toCompress:{compressKey:t.compressKey,parts:[t]}}:(i&&n.push(iR(i.compressKey,i.parts)),n.push(t),{parts:n,toCompress:null})},{parts:[],toCompress:null});return t.toCompress&&t.parts.push(iR(t.toCompress.compressKey,t.toCompress.parts)),t.parts}(null!=(n=null==(t=a.parts)?void 0:t.map(iD))?n:[]);return(0,i.jsx)(c.T,{...nl.i,p:0,alignSelf:"flex-start",width:"100%",position:"relative",align:"start",fontSize:"sm",...h,children:(0,i.jsxs)(c.T,{width:"100%",align:"start",spacing:2,p:2,children:[C.map((e,t)=>{let n=m?t===C.length:t===C.length-1,a=1===C.length&&!m;if("aborted"===e.type)return(0,i.jsx)(iI,{isLast:n,isOnlyPart:a,children:(0,i.jsx)(nw,{})},t);if("text"===e.type)return(0,i.jsx)(iI,{isLast:n,isOnlyPart:a,startOpen:n,children:t=>{let{isOpen:n,toggleCollapse:r}=t;return(0,i.jsx)(nA,{part:e,isOpen:n,isOnlyPart:a,toggleCollapse:r})}},t);if("tool-invocation-in-progress"===e.type)return(0,i.jsx)(iI,{isLast:n,isOnlyPart:a,showToggle:!1,children:(0,i.jsx)(nk,{part:e})},"".concat(e.toolInvocation.toolCallId,"-result"));if("tool-invocation-success"===e.type){var r,s;let l=!!(null==(s=e.artifact)||null==(r=s.images)?void 0:r.length);return(0,i.jsx)(iI,{isLast:n,isOnlyPart:a,showToggle:l,startOpen:l,children:t=>{let{toggleCollapse:n}=t;return(0,i.jsx)(nL,{part:e,editor:p,toggleCollapse:n})}},"".concat(t,"-success"))}if("tool-invocation-error"===e.type)return(0,i.jsx)(iI,{isLast:n,showToggle:!1,isOnlyPart:a,startOpen:!0,children:(0,i.jsx)(nj,{part:e})},"".concat(t,"-error"));return null}),m&&(0,i.jsx)(iL,{chatId:s,message:a,lastUserMessage:u,result:m,state:x,onGoBack:b,cancelRollback:f})]})})};function iD(e){if("text"===e.type)return"USER_ABORTED"===e.text?{type:"aborted"}:{type:"text",text:e.text};if("tool-invocation"===e.type){let n=e.toolInvocation,i=tf(n.toolName);if(!("result"===n.state&&n.result))return{type:"tool-invocation-in-progress",inProgressText:i.present(),toolInvocation:n};if(tC(n))return{type:"tool-invocation-error",errorText:n.result.error,toolInvocation:n};if(ty(n)){var t;return{type:"tool-invocation-success",successText:i.past(),artifact:null!=(t=function(e){let t=iz.safeParse(e.result);if(!t.success)return null;let n=[];return t.data.images&&n.push(...t.data.images.map(e=>e.attrs)),t.data.image&&n.push(t.data.image.attrs),{type:"image",images:n}}(n))?t:void 0,toolInvocations:[n],compressKey:i.compressKey}}return console.error("Unknown tool invocation state",n),{type:"unknown"}}return console.error("Unknown part type",e),{type:"unknown"}}function iR(e,t){return 1===t.length?t[0]:{type:"tool-invocation-success",successText:tm[e].past(t.length),compressKey:e,artifact:{type:"image",images:t.flatMap(e=>{var t,n;return null!=(n=null==(t=e.artifact)?void 0:t.images)?n:[]})},toolInvocations:t.flatMap(e=>e.toolInvocations)}}let iT=ns.z.object({attrs:ns.z.object({source:ns.z.string(),src:ns.z.string(),tempUrl:ns.z.string().optional(),query:ns.z.string().optional(),meta:ns.z.object({}).passthrough(),aiParams:ns.z.object({}).passthrough().optional()})}),iz=ns.z.object({status:ns.z.literal("success"),images:ns.z.array(iT).optional(),image:iT.optional()});var iH=n(49177),iN=n(71093),iB=n(78663);let iP=(0,nr.P)(C.B),iF=e=>{let t,{message:n}=e,a=n.content.replace("the current deck is ","");try{t=JSON.parse(a)}catch(e){t=null}return(0,i.jsxs)(C.B,{children:[(0,i.jsx)(nh,{buttonText:"Current Deck",debugTitle:"Current Deck",debugObject:t||{error:"Failed to parse current deck JSON",rawContent:a}}),t&&(0,i.jsxs)(w.E,{fontSize:"xs",fontWeight:"bold",children:["docHtml.type: ",t.docHtml.type]}),t&&"selection"in t&&(0,i.jsxs)(C.B,{fontSize:"xs",wordBreak:"break-all",overflowY:"auto",width:"250px",children:[(0,i.jsx)(w.E,{fontSize:"xs",fontWeight:"bold",children:"Selection"}),Object.entries(t.selection||{}).map((e,t)=>{let[n,a]=e;return(0,i.jsxs)(y.a,{children:[(0,i.jsx)("b",{children:n}),(0,i.jsx)("br",{}),JSON.stringify(a,null,2)]},t)})]})]})},iV=e=>{let{url:t,name:n}=e,{isZoomed:a,enterZoom:s,exitZoom:l}=(0,iN.RL)(t),o=(0,r.useCallback)(()=>{s()},[s]);return(0,i.jsxs)(y.a,{position:"relative",flexShrink:0,children:[(0,i.jsx)(N.Me,{src:t,alt:n,boxSize:"64px",objectFit:"cover",borderRadius:"md",border:"1px solid",borderColor:"gray.200",cursor:"zoom-in",onClick:o,resizeParams:N.p7}),(0,i.jsx)(iH.Y,{isZoomed:a,exitZoom:l,src:t,alt:null!=n?n:""})]})},iO=e=>{var t,n;let{message:a,shouldAnimate:r=!0,...s}=e,l=(0,D.u)("buddyDebug"),d=(0,tV.dU)("spacedust.50","elevation.4"),u=(0,tV.dU)("gray.600","gray.300");if(a.id.startsWith("current-deck"))return l?(0,i.jsx)(c.T,{...nl.i,...s,bg:d,color:u,maxW:"90%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:(0,i.jsx)(iF,{message:a})}):null;let p=null!=(n=null==(t=a.experimental_attachments)?void 0:t.filter(e=>{var t;return null==(t=e.contentType)?void 0:t.startsWith("image")}))?n:[],h=p.find(e=>"selected-image"===e.name),g=p.filter(e=>"selected-image"!==e.name),m=(null==g?void 0:g.length)>0;return(0,i.jsxs)(iP,{initial:r?{opacity:0,y:10,scale:.9}:{},animate:r?{opacity:1,y:0,scale:1}:{},exit:r?{opacity:0}:{},transition:{duration:.3,ease:"easeOut"},transitionOrigin:"right",alignSelf:"flex-end",w:"100%",children:[h&&(0,i.jsx)(o.s,{justifyContent:"flex-end",w:"100%",children:(0,i.jsx)(iV,{url:h.url,name:h.name})}),(0,i.jsxs)(C.B,{...nl.i,...s,bg:d,color:u,w:m?"100%":"auto",maxW:"95%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:[(0,i.jsx)(w.E,{children:a.content}),m&&(0,i.jsx)(iB.W,{label:(0,i.jsx)(I.x6,{id:"j5jwnX",values:{0:g.length}}),icon:S.WMI,isCollapsedByDefault:!0,w:"100%",children:g.map(e=>(0,i.jsx)(iV,{url:e.url,name:e.name},e.url))})]})]})},iZ=(0,r.memo)(e=>(0,i.jsx)(y.a,{flex:1,width:"100%",...e}));iZ.displayName="Spacer";let iW=e=>{let{chatId:t,messages:n,goBackToMessage:a,isReceivingMessages:s,clearMessages:l,editor:o}=e,d=(0,X.GV)(ec.RR),{scrollToRef:u,scrollContainerRef:p}=t2({isReceivingMessages:s,messagesLength:n.length}),h=(0,r.useRef)(null);return null==h.current&&(h.current=new Set((n||[]).filter(e=>"user"===e.role).map(e=>e.id))),(0,i.jsxs)(c.T,{ref:p,fontSize:"14px",spacing:4,px:0,width:"100%",height:"100%",alignItems:"stretch",justifyContent:"start",flex:1,p:2,pb:0,overflowY:"auto",position:"relative",children:[n.map((e,r)=>{if(null!=d&&d<r)return null;if("assistant"===e.role){let s;return r>0&&"user"===n[r-1].role&&(s=n[r-1]),(0,i.jsx)(i_,{chatId:t,message:e,messageIndex:r,goBackToMessage:a,isLast:r===n.length-1,lastUserMessage:s,editor:o},e.id)}if("user"===e.role){let t=!h.current.has(e.id);return(0,i.jsx)(iO,{message:e,shouldAnimate:t},e.id)}return null}),0===n.length&&(0,i.jsx)(t1,{}),(0,i.jsx)(iZ,{minHeight:"20px"}),(0,i.jsx)(na,{clearMessages:l,position:"sticky",bottom:0,insetEnd:2,insetStart:2,mb:-4,w:"calc(100% - var(--chakra-space-4))"}),(0,i.jsx)("div",{ref:u})]})},iU=(0,r.memo)(e=>{var t;let{saveChat:n,closePanel:a,...h}=e,g=(0,X.CU)(),m=(0,X.jL)(),x=(0,X.GV)(ec.eb),f=(0,X.GV)(ea.sX),{agentIntroModal:b,openAgentIntroModal:C}=F(),{disabledReason:y}=(0,tu.C)(),v=Object.keys(e$).filter(e=>e$[e].available()),w=(0,l.d)(),A=(0,r.useRef)(null),k=(0,X.GV)(ec.G);(0,ep.t)();let L=(0,X.GV)(ec.TD),j=(0,X.GV)(ec.ZT),E=eu(),S=(0,Q.K)("buddy-chat"),M=(0,r.useRef)(void 0),I=(0,r.useRef)(null),_=(0,r.useRef)(""),D=(0,X.GV)(ec.qz),R=es(),T=(0,r.useCallback)(e=>{let t=(0,el.ST)(g.getState()).find(t=>t.id===e);t&&R(t)},[R,g]);tn(x);let z=(0,r.useRef)(L),{messages:H,setInput:N,isLoading:B,setMessages:P,reload:V,status:O,stop:Z}=(0,s.Y_)({id:k,initialMessages:L,api:"".concat(p.$.API_HOST,"/ai/agent/message?agentName=Buddy"),credentials:"include",streamProtocol:"data",maxSteps:25,headers:{"aijsx-traceparent":S.current.traceparent},body:{messageId:S.current.id,interactionId:S.current.id,workspaceId:(0,eh.gx)(),availableTools:v,blockFlags:(0,U.fc)(),localTime:(()=>{let e=new Date,t=60*e.getTimezoneOffset()*1e3;return new Date(e.getTime()-t).toISOString()})(),context:{type:"doc",docId:f}},onError:e=>{m((0,ec.rK)(!1));let t=!0;!function(e){return e.message.includes("AI_APICallError: prompt is too long")||e.message.includes("AI_APICallError: This model's maximum context length is")}(e)?(0,G.z)(e)&&(t=!1):m((0,ec.mS)(2e5)),n(q()),t&&w({title:"Chat error",description:e.message,position:"top",status:"error",duration:3e3}),S.current.error(e)},onFinish:async(e,t)=>{var i;let{finishReason:a,usage:r}=t;m((0,ec.mS)(r.promptTokens)),await new Promise(e=>setTimeout(e,0)),console.log("[buddy] onFinish",{message:e,finishReason:a,status:O,statusRef:_.current,usage:r}),("tool-calls"!==a||"ready"===_.current)&&(m((0,ec.rK)(!1)),tv({store:g,editor:x,message:e,beforeCheckpoint:I.current}),S.current.complete({finishReason:a,result:{content:e.content,toolCalls:null==(i=e.toolInvocations)?void 0:i.map(e=>({toolName:e.toolName,state:e.state,result:e.result}))}}),W(),I.current=null,await n(q()))},onToolCall:async e=>{let{toolCall:t}=e;return S.current.trace("ai.agent.toolUse",{attributes:{toolCall:t}},async e=>{A.current=new AbortController,console.log("[buddy] onToolCall",{messageId:M.current,toolCall:t,status:O,statusRef:_.current});try{let n=g.getState(),i=(0,ea.SJ)(n);if(!x)throw Error("Cannot perform tool call without an editor");let a=!1;I.current||(a=!0,I.current=e0(x,i.id));let r=M.current,s={editor:x,store:g,imageOptions:E.imageOptions,chatId:E.chatId,theme:i,abortController:A.current,applyTheme:T,traceparent:e.traceparent},l=e$[t.toolName];if(!l)throw Error("Invalid tool ".concat(t.toolName));let o=await l.execute(t.args,s,t,r,S.current.id);return o.messageId=r,A.current=null,a&&(o.beforeCheckpointId=I.current.id),e.setAttributes({toolCallResult:o}),o}catch(a){var n,i;if(A.current=null,e.recordException(a),(null==(n=a.message)?void 0:n.includes("Request was cancelled"))||(null==(i=a.message)?void 0:i.includes("aborted"))||"AbortError"===a.name)throw a;console.log(a.stack);let t={status:"error",error:a.message,messageId:M.current};return e.setAttributes({toolCallError:a.message,toolCallResult:t}),t}})}});M.current=null==(t=H[H.length-1])?void 0:t.id,_.current=O,z.current=H,(0,r.useEffect)(()=>{let e="submitted"===O||"streaming"===O;(0,ec.Bu)(g.getState())!==e&&m((0,ec.rK)(e))},[m,O,g]);let{markFinish:W}=tL({reload:V,setMessages:P,isLoading:B}),q=(0,r.useCallback)(()=>(0,ec.W0)(z.current)(g.getState()),[g]);td(H,q),th((0,r.useCallback)(()=>n(q()),[n,q]));let J=(0,r.useCallback)(e=>{let t=tE(f||"");m((0,ec.ZQ)({isUnloading:e,newChatId:t})),tc.deleteChat({docId:f,workspaceId:(0,eh.gx)(),userId:(0,eh.HW)().id}),S.reset()},[m,f,S]),$=(0,r.useCallback)(()=>{J(!1)},[J]),Y=e2(H),ee=iG(H),et=(0,r.useCallback)(e=>{let{input:t,uploadedFiles:n,keepHistory:i,context:a}=e;if(!x)return;ee(t),m((0,ec.rK)(!0)),S.current.start({docId:f});let r=(0,ec.KF)(g.getState()),s=(0,ea.SJ)(g.getState()),l=eg.r.getDeckInfo({editor:x,store:g,imageOptions:E.imageOptions,theme:s,chatId:k},a);P(e=>{var a;r&&(e=e.slice(0,r.messageIndex+1),m((0,ec._i)())),i||(e=[]);let s="the current deck is ".concat(JSON.stringify(l)),o={id:"current-deck-".concat((0,u.Ak)()),role:"user",content:s},c=n.map(e=>({url:e.src,contentType:e.mimeType,name:e.name}));(null==(a=l.selection)?void 0:a.type)==="image"&&l.selection.imageSelection.src&&c.push({url:l.selection.imageSelection.src,contentType:"image",name:"selected-image"});let d={id:(0,u.Ak)(),role:"user",content:t,experimental_attachments:c};return S.current.setAttributes({input:{content:t,attachments:c}}),N(""),[...e,o,d]}),V({headers:{"aijsx-traceparent":S.current.traceparent},body:{messageId:S.current.id,interactionId:S.current.id}})},[x,g,S,f,k,E.imageOptions,P,V,N,m,ee]);(0,r.useEffect)(()=>{j&&("contextWindow"===y?(m((0,ec.mS)(0)),et({input:j.message,uploadedFiles:j.uploadedFiles,context:j.context,keepHistory:!1})):"ready"===_.current?null==y&&et({input:j.message,uploadedFiles:j.uploadedFiles,context:j.context,keepHistory:!0}):w({title:d.Ru._({id:"cii4bX"}),description:d.Ru._({id:"wqxsb/"}),position:"top",status:"warning",duration:5e3}),m((0,ec.z8)()))},[$,m,et,j,N,w,D,y]);let en=(0,r.useCallback)(()=>{var e;Z(),m((0,ec.rK)(!1)),null==(e=A.current)||e.abort();let t=H[H.length-1];P(K.Uv),console.log("handle stop DONE",{lastMessage:t,beforeCheckpointRef:I.current,status:O,statusRef:_.current}),null!=t&&tv({store:g,editor:x,message:t,beforeCheckpoint:I.current}),I.current=null,S.current.stop()},[m,Z,H,P,O,g,x,S]);return(0,r.useEffect)(()=>()=>{(0,ec.Bu)(g.getState())&&en()},[]),(0,i.jsxs)(o.s,{direction:"column",w:"100%",h:"100%",children:[b,(0,i.jsx)(tD,{onClose:a,onNewChat:$,onLearnMoreAboutAgentClick:C}),(0,i.jsx)(o.s,{direction:"column",h:"100%",overflowY:"auto",overflowX:"hidden",className:"buddy-scroll",w:"100%",children:(0,i.jsxs)(c.T,{...h,justifyContent:"space-between",align:"stretch",position:"relative",height:"100%",spacing:0,overflowY:"hidden",children:[(0,i.jsx)(iW,{chatId:k,messages:H,goBackToMessage:Y,isReceivingMessages:B,clearMessages:$,editor:null!=x?x:void 0}),(0,i.jsx)(tF,{status:O,messages:H,handleNewChat:()=>J(!1),manualSubmit:(e,t)=>et({input:e,uploadedFiles:t,keepHistory:!0}),handleStop:en,editor:x,lastTokensUsed:D})]})})]})}),iG=e=>{let t=(0,X.CU)();return(0,r.useCallback)(n=>{var i;let a=t.getState(),r=(0,ec.G)(a),s=(0,ea.sX)(a),l=(0,ec.sy)(e,"assistant");if(!l)return;let o=(0,ec.fN)(l.id)(a);if(!o)return;let c=(0,ec.GL)(o.messageId)(a),d=(null==o?void 0:o.type)==="applied-changes"?o.variations.find(e=>e.id===(null!=c?c:"modified")):void 0,u=(null==d?void 0:d.id)==="modified",p=(0,ec.KF)(a),h=null==(i=(0,ec.sy)(e,"user"))?void 0:i.content;o.messageId!==l.id||"applied-changes"!==o.type||p||(0,q.mN)({isImplicit:!0,selectedVariant:u?"modified":"original",agentType:"Buddy",chatId:r,docId:s,...iE(l,o),triggeringUserMessage:n,lastUserMessage:h})},[t,e])};iU.displayName="Toolbar",n(3912);var iK=n(33633),iQ=n(647),iq=n(17928);n(74158);let iJ={createCard:e=>new eV(e),duplicateCard:e=>new eW(e),editCardById:e=>new eG(e),removeCards:e=>new eQ(e),editAllCards:e=>new eG(e),moveCard:e=>new ek(e),imageEditContent:e=>new eL(e)},i$=()=>{let e=(0,X.GV)(ea.sX),t=(0,X.CU)(),n=(0,X.jL)(),[i,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{var t,i;let r=null==(t=(0,eh.HW)())?void 0:t.id,s=(0,eh.gx)();if(!r||!s||!e){console.error("[useBuddyPersistence] Missing user, workspace or doc context, skipping load"),a(!0);return}try{let t=await tc.loadChat({docId:e,workspaceId:(0,eh.gx)(),userId:(0,eh.HW)().id});if(null==t?void 0:t.chatData){let{chatData:e}=t,a={chatId:e.chatId||tE(t.docId),totalTokensUsed:null!=(i=e.totalTokensUsed)?i:0,initialMessages:e.messages,checkpoints:e.checkpoints,chosenResultVariations:e.chosenResultVariations,results:e.results,suggestions:e.suggestions.reduce((e,t)=>{let n=function(e){let t=iJ[e.type];if(!t)throw Error("Unknown suggestion type: ".concat(e.type));try{return t(e.input)}catch(t){return console.error("[loadBuddySuggestion] Error loading suggestion ".concat(e.type),t),null}}(t);return n?{...e,[n.id]:n}:(console.warn("[BuddySlice] Failed to load suggestion ".concat(t.type)),e)},{})};console.log("LOADING BUDDY CHAT",a),n((0,ec.yB)(a))}else n((0,ec.ZQ)({isUnloading:!1,newChatId:tE(e)}))}catch(t){console.error("[useBuddyPersistence] Failed to load initial data, potentially corrupt -- Deleting",t),await tc.deleteChat({docId:e,workspaceId:s,userId:r}),n((0,ec.ZQ)({isUnloading:!1,newChatId:tE(e)}))}finally{a(!0)}})()},[t,n,e]),{saveChat:(0,r.useCallback)(async t=>{var n;let i=null==(n=(0,eh.HW)())?void 0:n.id,a=(0,eh.gx)();if(!i||!a||!e)return void console.error("[useBuddyPersistence] Missing user, workspace or doc context, skipping save");let r=ts({userId:i,workspaceId:a,docId:e,chatData:t});if(r)try{await tc.saveChat(r),console.log("[useBuddyPersistence] Saved chat state for doc: ".concat(r.docId),{messages:t.messages})}catch(e){console.error("[useBuddyPersistence] Failed to save chat:",e)}},[e]),isLoaded:i}},iY=e=>{let{closePanel:t}=e,n=(0,ei.rd)(),{saveChat:r,isLoaded:s}=i$();return(0,i.jsx)(a.L8,{isDark:n,children:(0,i.jsx)(iQ.Z,{bgColor:n?"elevation.3":"white",w:"100%",color:n?"white":"titanium.900",children:s&&(0,i.jsx)(iU,{saveChat:r,closePanel:t})})})};iY.panelPosition="right",iY.panelName="buddy-chat",iY.canCollapse=!1,iY.minWidth=400,iY.alwaysDocked=!0,iY.dontCloseOnEscape=!0,iY.canClose=e=>!(0,ec.Bu)(e.getState());let iX=()=>{let e=(0,X.jL)(),t=(0,X.GV)(ea.wC),n=(0,X.GV)(ea.Ik),i=t!==e9.w.SLIDE_VIEW&&n,{togglePanel:a,isPanelOpen:s}=(0,iK.ww)(iY,i);return(0,r.useEffect)(()=>iq.LF.on("queueBuddyEditMessage",t=>{e((0,ec.R)(t)),a({disableTransition:!0,override:"open"})}),[e,a]),{toggleBuddyChatPanel:a,isBuddyChatPanelOpen:s}}},38194:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>r,cn:()=>s,vL:()=>l});var i=n(58495);let a={},r=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=a[t];return!!n&&n.attrs},s=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=a[t];return!!n&&n.content},l=e=>{let t=o.generateBookmarkId();return a[t]=e,setTimeout(()=>{delete a[t]},3e5),t},o={generateBookmarkId:()=>(0,i.Ak)(5)}},38537:(e,t,n)=>{"use strict";n.d(t,{KS:()=>u,i$:()=>p});var i=n(55765),a=n.n(i),r=n(12364),s=n.n(r),l=n(55729),o=n(83747);class c extends o.b{cleanup(){document.removeEventListener("containerResize",this.emitResize)}constructor(){super(),this.emitResize=e=>{this.emit("resize",e)},document.addEventListener("containerResize",this.emitResize)}}let d=a()(()=>new c),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,[n,i]=(0,l.useState)(!1),a=(0,l.useMemo)(d,[]);return(0,l.useEffect)(()=>{let n,r=s()(a=>{let{target:r}=a;r&&e.current&&h(e.current,r)&&(clearTimeout(n),i(!0),n=setTimeout(()=>{i(!1)},t+100))},t,{leading:!0,trailing:!1,maxWait:t});return a.on("resize",r)},[a,t,e]),n},p=e=>{e.dispatchEvent(new Event("containerResize",{bubbles:!0}))},h=(e,t)=>{let n=e;do{if(n!==t)continue;return!0}while(n=n.parentElement);return!1}},38636:(e,t,n)=>{"use strict";n.d(t,{F:()=>y});var i=n(6029),a=n(26420),r=n(33787),s=n(55729),l=n(63902),o=n(67097),c=n(22216),d=n(80314),u=n(92739),p=n(25778),h=n(48932),g=n(43634);let m=e=>{let{link:t,children:n,...a}=e,r=(0,p.GV)(g.nD),{linkUrl:l,handleClick:o}=(0,h.c)({url:t||""}),{interceptLinkClick:c,linkUrlSafe:m,isUntrusted:x,linkInterceptEnabled:f}=(0,u.i)(l),b=(0,s.useCallback)(e=>{if(null==o||o(e),!r)return f?c(e):void 0;e.preventDefault()},[r,o,c,f]);return t&&!x?(0,i.jsx)(d.N,{href:f?m||"":l,isExternal:!0,onClick:b,rel:"noopener nofollow",...a,children:n}):(0,i.jsx)(i.Fragment,{children:n})};var x=n(10789);let f=(e,t,n)=>e/100*(Math.sqrt(t*t+n*n)/Math.sqrt(2))*2,b=e=>{let t,n,i,a,r,{w:s,h:l,clipPath:c,clipType:d,src:u}=e;if(!c||!d||!u)return null;if("inset"===d){let e=.01*parseFloat(c[0]),r=.01*parseFloat(c[1]),s=.01*parseFloat(c[2]),l=.01*parseFloat(c[3]);t=l+r===0?0:1-(l+r),n=e+s===0?0:1-(e+s),i=l,a=e}else{n=t=f(parseFloat(c[0]),s,l);let e=t/2;i=(.01*parseFloat(c[2])-e/s)*s,a=(.01*parseFloat(c[3])-e/l)*l,r=!0}return{url:(0,o.Ub)(u,C({crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:i,yOffset:a}})),isCircle:r}},C=e=>{let{crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:i,yOffset:a}}=e;return{crop:"".concat(t,":").concat(n,":nowe:").concat(i,":").concat(a),resizing_type:"auto"}},y=(0,s.forwardRef)((e,t)=>{let{imageAttrs:{src:n,tempUrl:s,resize:d,meta:u},isCroppingThisImage:p=!1,isZoomed:h=!1,objectFit:g="contain",containerWidth:f,intrinsicAspectRatio:C,isThumbnail:y,linkHref:v,containerProps:w,shouldUseImgProxyCrop:A,colors:k,...L}=e;k&&n&&(n=(0,o.pO)(n,k));let j=(0,l.oR)(),E=(null==u?void 0:u.frame_count)&&u.frame_count>1,S=h||!n||E?n:(0,o.Ub)(n,y?{height:400}:{width:2e3},u),M=f||(null==u?void 0:u.width)||1,I=f&&C?f/C:(null==u?void 0:u.height)||1,{scaleCrop:_,scaleY:D,clipPathCSSString:R,translateX:T,translateY:z,aspectRatio:H,referenceXOffset:N,referenceYOffset:B}=(0,x.CF)(d,M,I,C||((null==u?void 0:u.width)&&(null==u?void 0:u.height)?u.width/u.height:1))||{},P=!p&&!!(null==d?void 0:d.clipPath),F=p?"":"scale(".concat(_,") translate(-").concat(T,"%, -").concat(z,"%)"),V=(0,o.SV)(n||s),O=(0,o.v7)(n||s),Z=b({w:M,h:I,clipPath:null==d?void 0:d.clipPath,clipType:null==d?void 0:d.clipType,src:n});return(0,i.jsx)(m,{link:v,w:h?void 0:"100%",children:(0,i.jsx)(a.a,{css:{aspectRatio:"".concat(P?H:"")},className:"image","data-content-reference":"".concat(N,",").concat(B),"data-export-link":v,"data-drag-preview":!0,"data-scale-preview":!0,maxH:"var(--media-maxH)",maxW:"var(--media-maxW)",overflow:"hidden",w:h?void 0:"100%",h:"cover"==g?"100%":void 0,sx:{"@media print":{height:"unset"}},...w,children:O?(0,i.jsx)(o.FD,{src:n||s||void 0,poster:null==u?void 0:u.poster,objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(D||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(_||1,")"):void 0,...L}):A&&(null==Z?void 0:Z.url)?(0,i.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(D||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(_||1,")"):void 0,ref:t,...n||s?{}:c.v9,src:(null==Z?void 0:Z.url)||S||s||void 0,...L}):(0,i.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(D||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(_||1,")"):void 0,transformOrigin:"left top",clipPath:p?"":R,ignoreFallback:h||j,transform:F,src:S||s||void 0,fallbackSrc:s||void 0,ref:t,w:V?"100%":void 0,...n||s?{}:c.v9,...L})})})});y.displayName="CroppedImage"},38934:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});let i={UniqueAttribute:1e4,CardMention:1001,DocMention:1001,UserMention:1001,UndoInputRuleKeymap:1001,HorizontalAlign:1001,Collaboration:1e3,Highlight:150,FootnoteLabel:150,TextColor:150,Code:150,Link:140,SlashMenu:104,EmojiShortcuts:104,MentionSuggestionMenu:104,List:103,CardAccentLayoutItem:103,Table:102,Image:102,Gallery:102,CardLayoutItem:101,MediaPlaceholder:101,Layout:101,Footnote:101,Card:101,Toggle:101,SmartLayout:101,Grid:101,KeyMapOverride:100,GlobalDragHandle:99,CardIds:1,KeyBoardCatchall:1,UndoHistory:-100}},39385:(e,t,n)=>{"use strict";n.d(t,{z:()=>h,J:()=>g});var i=n(37243);n(91566);var a=n(46829),r=n(63867),s=n(27002);let l=i.bP.create({name:"math_display",group:"block math",content:"text*",atom:!0,code:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-display",(0,i.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["formula",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-display"},{tag:"formula"}]});var o=n(72055);let c=i.bP.create({name:"math_inline",group:"inline math",content:"text*",inline:!0,atom:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-inline",(0,i.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["math",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-inline"},{tag:"math"}],addCommands(){return{insertMathInline:()=>e=>{let{state:t,dispatch:n,view:i}=e;return(0,o.CH)(this.type," ")(t,n,i)},convertToMathInline:()=>e=>{let{state:t,chain:n}=e,i=t.doc.textBetween(t.selection.from,t.selection.to);return n().insertContent({type:"math_inline",content:[{type:"text",text:i}]}).run(),!0}}}});n(98026);let d=/\$([^ $]+)\$[ ]$/,u=/^\${2}\s+$/,p=/^\${2}(.+)\${2}$/,h=i.YY.create({name:"math",addExtensions:()=>[c,l],addProseMirrorPlugins(){let e=s.of.get("math")?[new r.k_({props:{clipboardTextSerializer:e=>o.ju.serializeSlice(e)}}),(0,a.sM)({rules:[(0,o.sV)(u,this.editor.schema.nodes.math_display),(0,o.sV)(p,this.editor.schema.nodes.math_display),(0,o.C1)(d,this.editor.schema.nodes.math_inline)]})]:[];return[(0,o.CO)({undo:()=>this.editor.commands.undo(),redo:()=>this.editor.commands.redo()})].concat(e)}}),g=e=>"math_display"===e.type.name||"math_inline"===e.type.name},39659:(e,t,n)=>{"use strict";n.d(t,{h:()=>a,w:()=>i});let i={borderRadius:"0.125em",px:".05em",mx:"-.05em",boxDecorationBreak:"clone"},a={default:{"mark.highlight":{color:"black","--link-color":"black",backgroundColor:"var(--highlight-color)",...i}}}},39822:(e,t,n)=>{"use strict";n.d(t,{Po:()=>k,ZL:()=>y,aI:()=>b,f0:()=>A,nA:()=>x,vR:()=>f,zZ:()=>C});var i=n(37243),a=n(63867),r=n(55786),s=n(52762),l=n(15607),o=n(33201),c=n(67097),d=n(28700),u=n(36145),p=n(47665),h=n(17275),g=n(27246),m=n(94922);let x=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||i.inside<0)return null;let{doc:a}=e.state,{inside:r}=i,p=a.resolve(r),h=(0,l.IV)(p,m.wL),g=(0,l.IV)(p,o.jg)[0],x=n&&(0,d.H)(n),f=(0,l.q0)(r,e);if(0===h.length||!f||!g)return null;if(!x){let e=(0,u.p$)(t).filter(e=>(0,c.u3)(e.type));return 1!==e.length?null:{pos:r,rect:f,isImageUpload:!0,file:e[0]}}return x&&"image"===x.type.name?{pos:r,rect:f,isImageUpload:!1,background:{type:s.h.IMAGE,source:x.attrs.source,image:x.attrs}}:null},f=(e,t,n,i)=>{let a;try{if(!(a=x(e,n,i)))return!1}catch(e){return console.error("(caught) [CardLayoutPlugin] handleDrop checkCardAccentDropTarget error:",e),!1}return!!a&&!a.isImageUpload&&(t.setNodeAttribute(a.pos,"background",a.background),t.deleteSelection(),!0)},b=(e,t,n)=>{var i,a;let r=t.posAtCoords({left:n.clientX,top:n.clientY});if(!r||r.inside<0)return null;let{doc:s}=t.state,{inside:c}=r,d=s.resolve(c),u=(0,l.IV)(d,o.jg)[0];if(!u)return null;let h=null==(a=t.dragging)||null==(i=a.accentImage)?void 0:i.cardId;if(!h)return null;let g=h===u.node.attrs.id;return d.nodeAfter&&(0,m.wL)(d.nodeAfter)&&g?null:(0,p.W0)(e,h)},C=(e,t)=>{var n;let a=g.jV.getState(e.state);if(null==a||null==(n=a.draggingData)?void 0:n.removeLayoutFromCardId){let n=a.draggingData.removeLayoutFromCardId;a.draggingData=null;let r=(0,i.xe)(t.doc,e=>(0,o.jg)(e)&&e.attrs.id===n)[0];return!!r&&(0,h.c)(e,t,r.pos,"blank")}return!1},y=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||i.inside<0)return null;let{doc:a}=e.state,{inside:r}=i,p=a.resolve(r),h=a.nodeAt(r),g=(null==h?void 0:h.type.name)==="cardLayoutItem";if(!h||!g)return null;let[m,...x]=(0,l.IV)(p,o.jg),f=n&&(0,d.H)(n),b=(0,l.q0)(r,e);if(!m||!b||x.length>0)return null;let C=m.node.attrs,y="blank"===C.layout?w(t,b):"behind"===C.layout?v(t,b):null;if(!y)return null;if(!f){let e=(0,u.p$)(t).filter(e=>(0,c.u3)(e.type));return 1!==e.length?null:{pos:m.pos,isImageUpload:!0,file:e[0],...y}}return f&&"image"===f.type.name?{pos:m.pos,...y,isImageUpload:!1,background:{type:s.h.IMAGE,source:f.attrs.source,image:f.attrs}}:null},v=(e,t)=>e.clientY<t.top+80||e.clientX<t.left+80||e.clientX>t.right-80?{layout:"behind",rect:t}:null,w=(e,t)=>{let n,i=t,a=Math.min(t.height/3,100),r=t.left+40,s=t.right-40;if(e.clientX<r)n="left",i={...t.toJSON(),left:t.left,right:t.left+t.width/3,top:t.top,bottom:t.bottom};else if(e.clientX>s)n="right",i={...t.toJSON(),right:t.right,left:t.right-t.width/3,top:t.top,bottom:t.bottom};else{if(!(e.clientY<t.top+a))return null;n="top",i={...t.toJSON(),left:t.left,right:t.right,top:t.top,bottom:t.top+Math.min(t.height/3,200)}}return{rect:i,layout:n}},A=(e,t,n,r,s)=>{var l;let c;try{if(!(c=y(n,r,s)))return!1}catch(e){return console.error("(caught) [handleImageDropCreateAccent] handleDrop checkCreateCardAccentDropTarget error:",e),!1}if(!c||c.isImageUpload||!c.layout)return!1;let d=c.background;t.deleteSelection();let u=t.doc.resolve(t.mapping.map(c.pos)),p=u.nodeAfter&&"card"===u.nodeAfter.type.name?u.pos:null==(l=(0,i.eL)(u,o.jg))?void 0:l.pos;if(!p)return!1;(0,h.c)(e,t,p,c.layout);let{accent:g}=(0,m.dg)(t,p);return!!g&&(t.setNodeAttribute(g.pos,"background",d),t.setSelection(a.nh.create(t.doc,g.pos)),!0)},k=(e,t,n)=>{if(!n.target)return;let i=t.posAtDOM(n.target,0);if(!i||i<0)return;let a=(0,p.Oq)(e,i),l=t.state.doc.nodeAt(i);if(!l||!(0,m.wL)(l))return;if(l.attrs.background.type===s.h.NONE)return n.preventDefault(),n.stopPropagation(),!0;let o=e.view.domAtPos(i).node;if(o&&n.dataTransfer){let e=o.querySelector("[data-content-reference]");if(e){let t=e.cloneNode(!0);t.style.width="18em",t.style.height="10em",t.style.borderRadius=".375em";let i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",document.body.appendChild(i),i.appendChild(t),n.dataTransfer.clearData(),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",t.innerHTML),n.dataTransfer.setData("text/plain",t.textContent||""),n.dataTransfer.setDragImage(t,0,0),setTimeout(()=>{document.body.removeChild(i)},0)}}(0,r.f)({editor:e,content:{type:"image",attrs:{...l.attrs.background.image,source:l.attrs.background.source}}});let c=t.dragging;return c&&(c.accentImage={cardId:null==a?void 0:a.node.attrs.id}),!0}},39977:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,v:()=>h});var i=n(9922),a=n.n(i),r=n(63867),s=n(54958),l=n(55424),o=n(6494),c=n(52762),d=n(61679),u=n(50861);let p=e=>{var t,n;let{editor:i,selection:d,freshNode:p}=e;if(!d||!(d instanceof r.nh||d instanceof s.n))return null;let h=null!=p?p:d.node;if(d.$from,(0,u.bi)(h.type))return{mediaType:g(h.attrs.source),area:"node",attrs:a()(h.attrs),node:h,id:h.attrs.id};if("cardAccentLayoutItem"===h.type.name){let e=h.attrs;return(null==(t=e.background)?void 0:t.type)===c.h.IMAGE&&e.background.image?{mediaType:"image",area:"background",attrs:a()(e.background.image),node:h,id:h.attrs.id,imgKeyPath:"background.image"}:null}if("cardImageItem"===h.type.name)return{mediaType:"image",area:"node",attrs:a()(h.attrs.image),node:h,id:h.attrs.id,imgKeyPath:"image"};let m=h.type.spec.accessoryImageKey;if(m){let e={...h.attrs[m]},t="image";return(0,l.M)(d.$from.parent)&&"icon"===(0,o.BJ)(d.$from.parent.attrs.variantKey).imageType&&(t="icon"),{attrs:a()(e),node:h,mediaType:t,id:h.attrs.id,area:"accessory",imgKeyPath:m}}if(d instanceof s.n){let e="icon";return"image"===d.context.selectionType?e="image":"icon"===d.context.selectionType&&(e="icon"),{attrs:a()(null!=(n=d.getItemData())?n:{}),node:h,mediaType:e,id:h.attrs.id,area:"accessory",imgKeyPath:d.keyPath}}return null},h=e=>{let{editor:t,pos:n,attrs:i}=e;if(!t)return;let a=t.state.doc.nodeAt(n);if(!a)return;let r=a.type.spec.imageKeyPath;if(!["image","mediaPlaceholder"].includes(a.type.name)&&!r)return void console.warn("[updateSelectedMedia] Node ".concat(a.type.name," is not compatible with updateSelectedMedia"));let s=t.chain();r?(s.updateAttributeKeyPathAtPos(n,r,i),r.startsWith("background.")&&s.updateAttributeKeyPathAtPos(n,"background.source",i.source)):"mediaPlaceholder"===a.type.name?s.insertContentAt({from:n,to:n+a.nodeSize},{type:"image",attrs:i},{updateSelection:!0}):s.updateAttributesAtPos(n,i),s.focus().scrollIntoView().run()},g=e=>e?(0,d.D)(e)?"icon":e.startsWith("image.")?"image":e.startsWith("video.")||e.startsWith("embed.")?"embed":"image":"image"},40061:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,U:()=>s});var i=n(55597),a=n(77650);let r="image.ai-generated",s={key:r,checkDisabled:()=>!1,label:()=>a.Ru._({id:"O+LXs1"}),icon:i._$C,description:()=>a.Ru._({id:"yXA4hx"}),keywords:["ai","image","illustration","graphics","generate"],resizeToFit:!0}},40268:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},40782:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var i=n(99492);n(77650);var a=n(40061),r=n(49106),s=n(83658),l=n(93043),o=n(14368);let c={bing:"image.bing",giphy:"image.giphy",google:"image.google",web:"image.web",unsplash:"image.unsplash",lexica:"image.lexica",aiGenerated:"image.ai-generated",fontawesome:"image.icon",pictographic:"image.pictographic",pictographicIcons:"image.pictographic.icon",none:"image.none",placeholder:"image.placeholder"};l.a,o.R,a.U,s.x,r.P,i.sAw,i.Dfk},42187:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var i=n(58495),a=n(91938),r=n(43183),s=n(6359),l=n(58929);async function o(e,t){let n="".concat(a.$.API_HOST,"/media/images/edit"),{traceparent:o,...c}=e,d={"Content-Type":"application/json"};o&&(d["aijsx-traceparent"]=o);let u=await (0,l.P)(n,{method:"POST",credentials:"include",headers:d,body:JSON.stringify(c),signal:null==t?void 0:t.signal},{parseResponse:async e=>await e.json(),maxDuration:12e4}),p=r.l.load(e.interactionId);if(p){let t=s.C.imageEdit({interactionId:e.interactionId,operation:e.operation,source:p.name});p.charge((0,i.Ak)(5),t)}else console.error("Interaction not found",e.interactionId);return u}},42276:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>T,x6:()=>z,a6:()=>H});var i=n(6029),a=n(40452),r=n(80314),s=n(58959),l=n(48810),o=n(91938),c=n(28615),d=n(67097),u=n(15577),p=n(57405),h=n(16936),g=n(33787),m=n(99492),x=n(48621),f=n(33170),b=n(19564),C=n(77650),y=n(89263),v=n(23746),w=n(80180),A=n(50861),k=n(23103);let L=e=>{var t;let{node:n,disableOpenButton:a=!1}=e,{meta:r,source:o}=n.attrs,c=(0,A.lQ)(n.attrs),d=(0,k.B)(o),{handleOpenLinkWithInterstitial:g}=(0,y.E)(c),L="embed.custom"===o||"video.custom"===o,E=(null==r?void 0:r.icon)||(null==(t=d.image)?void 0:t.src),S=(null==r?void 0:r.site)||(L?(0,u.t$)(c):d.label());return(0,i.jsxs)(p.T,{spacing:"0.25em",align:"flex-start",color:"black",w:"100%",fontSize:"0.9em",children:[(0,i.jsxs)(s.z,{align:"center",spacing:"0.25em",w:"100%",color:"var(--body-color-muted)",children:[(0,i.jsx)(j,{icon:E}),(0,i.jsx)(l.E,{noOfLines:1,flex:1,"data-testid":"site-name",fontSize:"0.9em",children:S}),d.downloadable&&c&&(0,i.jsx)(f.Tz,{label:(0,i.jsx)(b.x6,{id:"mzI/c+"}),placement:"top",children:(0,i.jsx)(h.K,{"aria-label":C.Ru._({id:"mzI/c+"}),icon:(0,i.jsx)(x.g,{icon:m.cbP}),onClick:()=>{let e=document.createElement("a");e.href=c,e.target="_blank",e.download=(null==r?void 0:r.title)||"file.pdf",e.dispatchEvent(new MouseEvent("click"))},variant:"unstyled",sx:v.Up,fontSize:"0.7em",zIndex:2,onMouseDown:w.Fw})}),!a&&c&&(0,i.jsx)(f.Tz,{label:(0,i.jsx)(b.x6,{id:"Alx2/L"}),placement:"top",children:(0,i.jsx)(h.K,{"aria-label":C.Ru._({id:"Alx2/L"}),icon:(0,i.jsx)(x.g,{icon:m.vMs}),onClick:g,variant:"unstyled",zIndex:2,fontSize:"0.7em",onMouseDown:w.Fw,sx:v.Up})})]}),(0,i.jsx)(l.E,{fontWeight:"bold",noOfLines:1,maxW:"90%","data-testid":"title",color:"var(--body-color)",wordBreak:"break-all",children:null==r?void 0:r.title}),(null==r?void 0:r.description)&&(0,i.jsx)(l.E,{noOfLines:[2,3],whiteSpace:"normal",maxW:"100%",color:"var(--body-color-muted)",children:r.description})]})},j=e=>{let{icon:t,...n}=e;return t?(0,i.jsx)(g._,{src:t,h:"1.5em",borderRadius:"sm",...n}):(0,i.jsx)(l.E,{as:"span",...n,children:(0,i.jsx)(x.g,{icon:m.c9S})})};var E=n(26420),S=n(55597),M=n(59230),I=n(22216);let _=e=>{let t=Math.floor(Math.max(0,e)),n=Math.floor(t/3600),i=Math.floor(t%3600/60),a=n.toString().padStart(2,"0"),r=i.toString().padStart(2,"0"),s=(t%60).toString().padStart(2,"0");return n>=1?a+":"+r+":"+s:r+":"+s},D=e=>{let{node:t}=e,{thumbnail:n,meta:r,source:o}=t.attrs,c=(null==n?void 0:n.src)||(null==n?void 0:n.tempUrl);return(null==n?void 0:n.showPlaceholder)?(0,i.jsx)(I.Pf,{hasUploadError:n.uploadStatus===M.A.Error,isUploading:n.uploadStatus===M.A.Uploading,width:"100%",borderRadius:"none",icon:"embed.pdf"===o?m.O_q:m.c9S}):c?(0,i.jsxs)(a.s,{flex:1,color:"white",position:"relative",children:[(0,i.jsx)(E.a,{flex:1,overflow:"hidden",bgColor:"white",children:(0,i.jsx)(g._,{src:c,position:"absolute",objectFit:"cover",width:"100%",height:"100%"})}),(null==n?void 0:n.uploadStatus)===M.A.Uploading&&(0,i.jsx)(I.Td,{}),(null==r?void 0:r.duration)&&(0,i.jsxs)(s.z,{fontSize:"0.75em",backgroundColor:"blackAlpha.700",color:"white",position:"absolute",insetEnd:0,bottom:0,py:1,px:2,"data-thumbnail-hidden":!0,children:[(0,i.jsx)(x.g,{icon:S.ijD}),(0,i.jsx)(l.E,{children:_(r.duration)})]})]}):null},R=e=>e&&(!e.height||e.height>=50)&&(!e.width||e.width>=50),T=e=>{let{node:t}=e,{thumbnail:n,sourceUrl:s}=t.attrs;return(0,i.jsxs)(a.s,{overflow:"hidden",direction:"row",align:"stretch",wrap:"wrap",contentEditable:!1,transitionProperty:"common",transitionDuration:"normal",position:"relative",borderRadius:"inherit","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,fontFamily:"body","data-drag-handle":!0,h:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",children:[n&&R(n)&&(0,i.jsx)(a.s,{flex:1,minH:"10em",minW:"min(10em, 100%)",maxW:"100%",maxH:"var(--media-maxH)",children:(0,i.jsx)(D,{node:t})}),(0,i.jsx)(a.s,{flex:1.618,minW:"min(16em, 100%)",maxW:"100%",p:"1em",position:"relative",children:(0,i.jsx)(L,{node:t})}),c.D1&&s&&(0,i.jsx)(r.N,{href:s,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},z=e=>{var t;let{node:n}=e,{thumbnail:c,meta:d,sourceUrl:p,source:h}=n.attrs,g=(0,k.B)(h);return(0,i.jsxs)(a.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},maxW:"100%",maxH:"var(--media-maxH)",h:"100%",align:"stretch",boxSizing:"content-box",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside",position:"relative",bg:"gray.50",children:[c&&R(c)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D,{node:n}),(0,i.jsxs)(s.z,{backgroundColor:"whiteAlpha.700",backdropFilter:"blur(8px)",py:1,px:2,position:"absolute",bottom:"0",fontSize:"0.75em","data-thumbnail-hidden":!0,children:[(0,i.jsx)(j,{icon:(null==d?void 0:d.icon)||(null==(t=g.image)?void 0:t.src)}),p&&(0,i.jsx)(l.E,{color:"black",noOfLines:1,children:(null==d?void 0:d.title)||(null==d?void 0:d.site)||(0,u.t$)(p)})]})]}):(0,i.jsx)(a.s,{align:"flex-start",flex:"1",p:4,children:(0,i.jsx)(L,{node:n,disableOpenButton:!0})}),o.$.GAMMA_PUPPETEER_SERVICE&&p&&(0,i.jsx)(r.N,{href:p,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},H=e=>{var t;let{node:n}=e,{meta:r,source:s,thumbnail:l}=n.attrs,o=(0,k.B)(s),c=(null==l?void 0:l.src)||(null==l?void 0:l.tempUrl),u=c&&(0,d.Ub)(c,d.XS);return(0,i.jsx)(a.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},bg:"var(--body-color-muted)",align:"center",justify:"center",bgImage:(0,d.QV)(u),backgroundSize:"cover",children:(0,i.jsx)(j,{icon:(null==r?void 0:r.icon)||(null==(t=o.image)?void 0:t.src),fontSize:"7.5em"})})}},42403:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var i=n(45214);let a=e=>{switch(e){case"solid":return"".concat(i.VN," ").concat(i.SA);case"outline":return"".concat(i.VN," ").concat(i.uk);case"none":return i.VN}}},42643:(e,t,n)=>{"use strict";n.d(t,{xT:()=>eu,q8:()=>c.q8});var i=n(6029),a=n(33170),r=n(55729);n(87827);var s=n(25778),l=n(95889),o=n(29608),c=n(64310),d=n(67909),u=n(36071),p=n(68728),h=n(40691),g=n(74158),m=n(46091),x=n(45143),f=n(70315),b=n(3912),C=n(6181);let y=(0,f.Ay)("mod+K"),v=e=>{let{isEnabledFn:t=()=>!0,isOpen:n=!1}=e,{user:i}=(0,C.ur)(),a=(0,g.wA)(),s=(0,l.st)();(0,r.useEffect)(()=>{if(!(0,o.Xb)()&&i)return b.WC.on("keydown","GLOBAL_SEARCH",e=>!!y(e)&&!!t()&&(e.preventDefault(),s&&!n&&s.track(l.VV.SEARCH_OPENED,{source:"keyboard_shortcut"}),a((0,c.q8)({isOpen:!n})),!0))},[a,t,i,n,s])};var w=n(40452),A=n(3674),k=n(19564),L=n(33750),j=n.n(L),E=n(88586),S=n(75748),M=n(11403),I=n(69138),_=n(6807),D=n(65148),R=n(78686),T=n(72470),z=n(77979),H=n(38036),N=n(3276),B=n(77650);let P=e=>{let{onChange:t,query:n,isDisabled:a,isLoading:s,isFocused:l}=e,c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{c.current&&l&&(c.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),c.current.focus())},[c,l]),(0,i.jsxs)(T.M,{size:"lg",variant:"unstyled",sx:{input:{paddingInlineStart:12}},children:[(0,i.jsx)(z.W,{p:4,pointerEvents:"none",color:"gray.300",children:(0,i.jsx)(R.W,{})}),(0,i.jsx)(H.p,{isDisabled:a,placeholder:B.Ru._({id:"NiZZRh"}),p:3,border:"none",outline:"none",shadow:"none",value:n,onChange:t,_placeholder:{opacity:1,color:"gray.300"},ref:c}),(0,i.jsx)(z.t,{p:4,pointerEvents:"none",color:"gray.500",opacity:+!!s,transitionProperty:"common",transitionDuration:"normal",marginInlineEnd:8*!!(0,o.Xb)(),children:(0,i.jsx)(N.y,{size:"sm"})})]})};var F=n(72104),V=n(17496),O=n(96500),Z=n(58959),W=n(48810),U=n(26476),G=n(29810),K=n(16936);let Q=e=>{let{onClose:t,showTip:n}=e;return(0,i.jsxs)(V.S,{in:n,children:[(0,i.jsx)(O.c,{}),(0,i.jsxs)(Z.z,{p:4,px:6,children:[(0,i.jsxs)(W.E,{fontSize:"sm",color:"gray.600",children:[(0,i.jsxs)("span",{role:"img","aria-label":"Wave",children:["\uD83D\uDC4B"," "]}),(0,i.jsx)(k.x6,{id:"3SXj0j",values:{0:(0,a.lp)("Mod+K")},components:{0:(0,i.jsx)(U.u,{})}})]}),(0,i.jsx)(G.h,{}),(0,i.jsx)(K.K,{"aria-label":B.Ru._({id:"yz7wBu"}),icon:(0,i.jsx)(F.U,{boxSize:2.5}),isRound:!0,size:"xs",variant:"ghost",onClick:t})]})]})};var q=n(26385),J=n(36062),$=n(26420),Y=n(48621),X=n(99492);let ee=X.ao0;var et=n(70006);let en=e=>{let{result:t,isActive:n,focusedItemEl:r,onMouseMove:s,onClick:l}=e,{name:o,id:c,slug:d,isMember:u,memberCount:p,members:h}=t;return(0,i.jsx)(J.Q,{children:(0,i.jsxs)(Z.z,{ref:n?r:null,className:"search-result",wordBreak:"break-word",onMouseMove:s,p:3,align:"flex-start",alignItems:"center",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},onClick:l,children:[(0,i.jsx)($.a,{p:2,children:(0,i.jsx)(Y.g,{icon:ee})}),(0,i.jsx)(q.B,{spacing:2,flex:"1",children:(0,i.jsxs)(J.r,{href:(0,et.gU)({id:c,slug:d}),children:[(0,i.jsx)(W.E,{children:o}),(0,i.jsx)(W.E,{fontSize:"sm",color:"gray.400",children:u?(0,i.jsx)(k.x6,{id:"tWPlLK",values:{0:p||0}}):(0,i.jsx)(k.x6,{id:"pkIIls",values:{0:p||0}})})]})}),(0,i.jsx)(G.h,{}),(0,i.jsx)(a.KZ,{overflowTooltipLabel:B.Ru._({id:"25VyZX"}),size:"xs",avatars:h||[],max:3})]})})};var ei=n(33787),ea=n(74676),er=n(16842),es=n(97139),el=n.n(es),eo=n(74892),ec=n(27002),ed=n(23201);let eu=e=>{let{result:t,isActive:n,focusedItemEl:r,onMouseMove:s,onClick:l,context:c="globalSearch"}=e,d=(0,ec.u)("screenshotsEnabled"),{title:u,text:p,previewUrl:h,editors:g,editedTime:m,id:x,createdBy:f,file:b}=t,C="mentionsList"===c,y=null==b?void 0:b.isTemplate;return(0,i.jsx)(J.Q,{children:(0,i.jsxs)(Z.z,{ref:n?r:null,className:"search-result",wordBreak:"break-word",onMouseMove:s,p:C?0:[2,3],py:C?.5:void 0,align:"flex-start",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},onClick:l,children:[(0,i.jsx)(ei._,{display:{base:"none",xs:"block"},h:"100%",src:d?h:eo.A.src,w:{base:"0px",sm:"25%"},border:"1px solid",borderColor:"gray.200",borderRadius:"md",shadow:"lg",fallbackSrc:eo.A.src}),(0,i.jsxs)(q.B,{spacing:(0,o.Xb)()?1:2,flex:"1",children:[(0,i.jsxs)(J.r,{href:"globalSearch"===c?(0,et.LN)({docId:x}):void 0,children:[(0,i.jsxs)(Z.z,{alignItems:"flex-start",spacing:"3",children:[(0,i.jsx)(W.E,{fontSize:"md",fontWeight:"600",noOfLines:C?1:2,dangerouslySetInnerHTML:{__html:u?el().sanitize(u):""}}),y&&(0,i.jsx)(ea.E,{fontSize:"sm",w:"fit-content",colorScheme:"purple",textTransform:"none",children:(0,i.jsxs)(Z.z,{spacing:1,children:[(0,i.jsx)(Y.g,{icon:X.qIE}),(0,i.jsx)(k.x6,{id:"/K2CvV"})]})})]}),(null==f?void 0:f.displayName)&&(0,i.jsx)(W.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,i.jsx)(k.x6,{id:"ab98Hp",values:{0:null==f?void 0:f.displayName}})})]}),(0,i.jsx)(W.E,{fontSize:C?"xs":"sm",noOfLines:2,whiteSpace:"normal",wordBreak:"break-word",dangerouslySetInnerHTML:{__html:p?el().sanitize(p):""}}),(0,i.jsxs)(Z.z,{children:[g&&g.length>0&&(0,i.jsx)(er.Z,{size:"xs",fontSize:"xs",max:5,children:null==g?void 0:g.map(e=>{let{user:t}=e,{id:n,displayName:r,profileImageUrl:s}=t;return(0,i.jsx)(a.Vc,{label:r,src:s,shadow:"base"},n)})}),m&&(0,i.jsx)(W.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,i.jsx)(k.x6,{id:"5cC8f2",values:{0:(0,ed.OG)(m)}})})]})]})]})})},ep=e=>{let{results:t,focusedIndex:n,focusedItemEl:a,onMouseMove:o}=e,d=(0,s.GV)(c.PC),u=(0,l.st)(),p=(0,r.useRef)(!1),h=(0,r.useRef)(!1),g=(0,r.useCallback)(e=>{u&&(p.current||(p.current=!0,u.track(l.VV.SEARCH_RESULT_SCROLLED,{result_count:t.length})),e.target instanceof HTMLDivElement&&e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight-100&&!h.current&&(h.current=!0,u.track(l.VV.SEARCH_RESULT_SCROLLED_BOTTOM,{result_count:t.length})))},[u,t.length]),m=(0,M.lW)((0,r.useCallback)((e,n)=>{u&&u.track(l.VV.SEARCH_RESULT_HOVERED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[u,t.length]),600),x=(0,r.useCallback)((e,n)=>{u&&u.track(l.VV.SEARCH_RESULT_SELECTED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[u,t.length]);return(0,i.jsx)(q.B,{spacing:1,px:4,h:["lg","xl"],maxHeight:["lg","xl"],pb:4,overflow:"auto","data-testid":"search-results-wrapper",onScroll:g,children:t.map((e,t)=>"DocResult"===e.__typename||"PseudoDocResult"===e.__typename?(0,i.jsx)(eu,{result:e,isActive:n===t,focusedItemEl:a,onMouseMove:()=>{o(t),m(e,t)},onClick:()=>{x(e,t),null==d||d()}},e.id):"Channel"===e.__typename?(0,i.jsx)(en,{result:e,isActive:n===t,focusedItemEl:a,onMouseMove:()=>{o(t),m(e,t)},onClick:()=>{x(e,t),null==d||d()}},e.id):null)})},eh=(0,f.Ay)("mod+K"),eg=e=>{let{isOpen:t}=e,{currentWorkspace:n}=(0,C.ur)(),i=null==n?void 0:n.id,{data:a}=(0,E.b_w)({variables:{first:8,workspaceId:i,archived:!1,sortBy:{field:E.vY2.LastViewed,direction:E.UEL.Desc}},fetchPolicy:"cache-first",skip:!t});return{recentItems:((null==a?void 0:a.docs.edges.map(e=>e.node))||[]).slice(0,8).map(e=>{var t;return{...e,previewUrl:null==(t=e.titleCard)?void 0:t.previewUrl,text:"",__typename:"PseudoDocResult"}})}},em=()=>{let{user:e,currentWorkspace:t}=(0,C.ur)(),{isConnected:n}=(0,E.utY)(),a=(0,l.st)(),d=(0,s.GV)(c.MQ),[u,p]=(0,r.useState)([]),[h,g]=(0,r.useState)(!0),[m,x]=(0,r.useState)(-1),[f,y]=(0,_.M)(D.E.hasDismissedSearchTip,!1),v=(0,r.useRef)(null),[L,R]=(0,r.useState)(!1),T=(0,s.GV)(c.xo),[z,H]=(0,r.useState)(T||""),{recentItems:N}=eg({isOpen:d}),[B,{data:F,loading:V}]=(0,E.eXh)(),O=(0,M.lW)((0,r.useCallback)(function(){for(var e,t,n,i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return a&&a.track(l.VV.SEARCH_QUERY_TYPED,{query:null!=(n=null==(t=r[0])||null==(e=t.variables)?void 0:e.query)?n:""}),B(...r)},[a,B]),600),Z=(0,M.lW)((0,r.useCallback)(e=>{if(a&&u.length>0){let t="up"===e?l.VV.SEARCH_RESULT_ARROW_UP:l.VV.SEARCH_RESULT_ARROW_DOWN;a.track(t,{query:z,result_count:u.length})}},[a,u.length,z]),600),W=(0,r.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:"_self"},{target:n}=t||{},i=(null==v||null==(e=v.current)?void 0:e.querySelector("[href]")).href;i||console.error("[SearchModal] No href found"),window.open(i,n)},[v]),U=(0,r.useRef)({focusedIndex:m,results:u,goToItem:W,searchInputFocused:h});U.current={focusedIndex:m,results:u,goToItem:W,searchInputFocused:h},(0,r.useEffect)(()=>{if(d)return b.WC.on("keydown","GLOBAL_SEARCH",e=>{let{key:t}=e;if(eh(e))return!0;let n=U.current;switch(t){case"Escape":return e.preventDefault(),e.stopPropagation(),!0;case"Tab":return e.preventDefault(),n.searchInputFocused?x(j()(n.focusedIndex-1,0,n.results.length-1)):x(-1),g(!n.searchInputFocused),!0;case"Enter":if(e.preventDefault(),n.searchInputFocused)O.flush();else if(n.results.length>0){if(a&&n.focusedIndex>=0){let t=n.results[n.focusedIndex];a.track(l.VV.SEARCH_RESULT_SELECTED,{query:z,result_type:null==t?void 0:t.__typename,result_id:null==t?void 0:t.id,result_index:n.focusedIndex,result_count:n.results.length,target:e.metaKey||e.ctrlKey?"_blank":"_self"})}n.goToItem({target:e.metaKey||e.ctrlKey?"_blank":"_self"})}return!0;case"ArrowUp":return e.preventDefault(),n.focusedIndex<0?(g(!1),x(n.results.length-1)):0==n.focusedIndex?(g(!0),x(-1)):(g(!1),x(j()(n.focusedIndex-1,-1,n.results.length-1))),R(!0),Z("up"),!0;case"ArrowDown":return e.preventDefault(),n.focusedIndex<0?(g(!1),x(0)):n.focusedIndex>=n.results.length-1?(g(!0),x(-1)):(g(!1),x(j()(n.focusedIndex+1,-1,n.results.length-1))),R(!0),Z("down"),!0;default:return g(!0),x(-1),!1}})},[m,O,d,h,Z,a,z]),(0,I.V)(()=>{if(!(null==F?void 0:F.search))return;let e=null==F?void 0:F.search.filter(e=>void 0!==e&&("DocResult"===e.__typename||"Channel"===e.__typename));p(e),a&&a.track(l.VV.SEARCH_RESULT_LOADED,{query:z,result_count:e.length})},[null==F?void 0:F.search,a,z],[null==F?void 0:F.search]);let G=(0,r.useCallback)(e=>{let{value:n}=e.target;n?(H(n),O({variables:{workspaceId:null==t?void 0:t.id,query:n}})):(O.cancel(),H(""),p([]),x(-1),g(!0))},[null==t?void 0:t.id,O,p]),K=(0,r.useCallback)(e=>{R(!1),x(e)},[]),q=(0,M.wb)(K,50),J=(0,r.useMemo)(()=>z&&""!==z.trim()&&(null==u?void 0:u.length)&&u.length>0?u:N||[],[z,u,N]);return((0,r.useEffect)(()=>{!d&&a&&a.track(l.VV.SEARCH_CLOSED,{final_query:z})},[d,a,z]),(0,r.useEffect)(()=>{var e;v.current&&L&&(null==v||null==(e=v.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[m,L]),e)?(0,i.jsxs)(w.s,{direction:"column",gap:2,children:[(0,i.jsx)(P,{onChange:G,query:z,isDisabled:!n,isLoading:V,isFocused:h}),(0,i.jsx)(S.r,{mx:4,mt:2,mb:4,isConnected:n,description:(0,i.jsx)(k.x6,{id:"R4lJxt"})}),n&&J&&J.length>0&&(0,i.jsx)(ep,{focusedItemEl:v,results:J,focusedIndex:m,onMouseMove:q}),!(0,o.Xb)()&&(0,i.jsx)(Q,{onClose:()=>{y(!0)},showTip:!f}),(0,o.Xb)()&&(0,i.jsx)(A.s,{})]}):null};(0,m.A)(e=>{let{isEnabledFn:t}=e,n=(0,s.GV)(c.MQ);v({isEnabledFn:t,isOpen:n});let a=(0,g.wA)(),l=(0,x.h5)({base:"sm",sm:"md",md:"lg",lg:"2xl"}),o=(0,r.useCallback)(()=>{a((0,c.q8)({isOpen:!1,initialQuery:""}))},[a]);return(0,i.jsxs)(d.aF,{isOpen:n,onClose:o,size:l,onOverlayClick:o,returnFocusOnClose:!1,children:[(0,i.jsx)(u.m,{}),(0,i.jsx)(p.$,{children:(0,i.jsx)(h.c,{p:0,children:(0,i.jsx)(em,{})})})]})})},43182:(e,t,n)=>{"use strict";n.d(t,{$b:()=>h,Yv:()=>d,iM:()=>p});var i=n(58495),a=n(94289),r=n(63867),s=n(27002),l=n(67200),o=n(50709),c=n(61385);let d={generate:(0,i.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},u=new r.hs("UniqueCardId"),p=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content||e.type!==c.Qs)return e;let n={...e,attrs:{...e.attrs,id:d.generate()}};return n.content=t(n),n})};return Object.assign({},e,{content:t(e)})},h=o.S.extend({name:"UniqueCardId"}).configure({attributeName:"id",initialValue:()=>d.generate(),syncWithFilmstrip:()=>s.of.get("transactionalFilmstrip"),filterTransaction:l.kz,pluginKey:u,transformPasted:(e,t,n)=>{let{types:i,initialValue:r,attributeName:s}=t,l={},o=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!i.includes(e.type.name))return void t.push(e.copy(o(e.content)));let n=r(),a=e.type.create({...e.attrs,[s]:n},o(e.content),e.marks);e.type.name===c.Qs&&(l={...l,[e.attrs.id]:n}),t.push(a)}),a.FK.from(t)},d=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if("cardMention"===e.type.name){let i=l[e.attrs.id];if(i){let a=e.type.create({...e.attrs,...i?{id:i}:{},docId:n});t.push(a)}else t.push(e);return}t.push(e.copy(d(e.content)))}),a.FK.from(t)},u=d(o(e.content));return new a.Ji(u,e.openStart,e.openEnd)}})},43183:(e,t,n)=>{"use strict";n.d(t,{l:()=>w});var i=n(40076),a=n(11390),r=n(25778),s=n(43634),l=n(42721),o=n(29608),c=n(83747),d=n(64594);class u{save(e,t){let n=new Blob([JSON.stringify(t)]).size;if(this.cache.has(e)){let t=this.cache.get(e);this.currentSizeBytes-=t.size,this.cache.delete(e)}for(;this.currentSizeBytes+n>this.maxSizeBytes&&this.cache.size>0;){let e=this.cache.keys().next().value,t=this.cache.get(e);this.currentSizeBytes-=t.size,this.cache.delete(e)}if(n>this.maxSizeBytes)return void console.warn("Item ".concat(e," exceeds max cache size (").concat(n," > ").concat(this.maxSizeBytes,")"));let i={value:t,timestamp:Date.now(),size:n};this.cache.set(e,i),this.currentSizeBytes+=n,this.persistToStorage()}load(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>this.expiryMs?(this.currentSizeBytes-=t.size,this.cache.delete(e),this.persistToStorage(),null):(this.cache.delete(e),this.cache.set(e,t),this.persistToStorage(),t.value):null}delete(e){let t=this.cache.get(e);return!!t&&(this.currentSizeBytes-=t.size,this.cache.delete(e),this.persistToStorage(),!0)}clear(){this.cache.clear(),this.currentSizeBytes=0,this.persistToStorage()}get size(){return this.cache.size}get sizeBytes(){return this.currentSizeBytes}loadFromStorage(){if(window.localStorage)try{let e=localStorage.getItem(this.storageKey);if(!e)return;let t=JSON.parse(e),n=Date.now();for(this.cache.clear(),this.currentSizeBytes=0,t.forEach(e=>{let[t,i]=e;n-i.timestamp<=this.expiryMs&&(this.cache.set(t,i),this.currentSizeBytes+=i.size)});this.currentSizeBytes>this.maxSizeBytes&&this.cache.size>0;){let e=this.cache.keys().next().value,t=this.cache.get(e);this.currentSizeBytes-=t.size,this.cache.delete(e)}}catch(e){console.error("Failed to load cache from localStorage:",e),this.cache.clear(),this.currentSizeBytes=0}}persistToStorage(){if(window.localStorage)try{let e=Array.from(this.cache.entries());localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){if(console.error("Failed to persist cache to localStorage:",e),e instanceof DOMException&&"QuotaExceededError"===e.name){let e=Math.ceil(.2*this.cache.size);for(let t=0;t<e&&this.cache.size>0;t++){let e=this.cache.keys().next().value,t=this.cache.get(e);this.currentSizeBytes-=t.size,this.cache.delete(e)}try{let e=Array.from(this.cache.entries());localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.error("Failed to persist cache after reduction:",e)}}}}getAllValid(){let e=new Map,t=Date.now(),n=[];return this.cache.forEach((i,a)=>{t-i.timestamp<=this.expiryMs?e.set(a,i.value):n.push(a)}),n.length>0&&(n.forEach(e=>{let t=this.cache.get(e);this.currentSizeBytes-=t.size,this.cache.delete(e)}),this.persistToStorage()),e}constructor(e){var t,n;this.storageKey=e.storageKey,this.maxSizeBytes=null!=(t=e.maxSizeBytes)?t:5242880,this.expiryMs=null!=(n=e.expiryMs)?n:36e5,this.cache=new Map,this.currentSizeBytes=0,this.loadFromStorage()}}let p=new u({storageKey:"ai_interaction_cache",maxSizeBytes:5242880,expiryMs:36e5});var h=n(58930),g=n(2018),m=n(97938),x=n(37605),f=n(6181);let b=async e=>{var t;let n=(0,f.HW)().id,i=(0,a.A4)((0,f.vp)()),r=(0,h.H4)(),s=null==(t=(await r.mutate({mutation:g.zT5,variables:{input:e}})).data)?void 0:t.deductCreditsV2;if(!s)return null;let{deducted:l,remaining:o}=s,c={isCreditsV2:!0,description:e.description,operationCount:e.operationCount,operation:e.operation,model:e.model,userId:n,workspaceId:e.workspaceId,used:l,source:e.source,remaining:o,interactionId:e.interactionId,plan:i};return m.z.track(x.VV.AI_CREDITS_USED,c),{deducted:l,remaining:o}};class C extends c.b{add(e,t){if(this.items[e])return this;let n={id:e,status:"pending",created:new Date().toISOString(),toDeduct:t,creditsDeducted:null,creditsRemaining:null,deductedAt:null};return this.items[e]=n,this}async deduct(e){let t=this.items[e];if(!t)throw Error("No item found with id ".concat(e));if("pending"===t.status){t.status="processing";try{let e=new Date().toISOString(),n=await b(t.toDeduct);if(!n)throw Error("No result returned from deductCreditsV2");t.status="charged",t.creditsDeducted=n.deducted,t.creditsRemaining=n.remaining,t.deductedAt=e,this.emit("DEDUCTION_CHARGED",{item:t})}catch(e){t.status="error",t.error=e.message,this.emit("DEDUCTION_ERROR",{item:t,error:e.message});return}}}toString(){let e=(e,t)=>e.length>t?e.substring(0,t-1)+"…":e.padEnd(t),t=[e("ID",12),e("Status",8),e("Operation",8),e("Model",16),e("Credits Deducted",8),e("Error",20)].join(" | "),n=["-".repeat(12),"-".repeat(8),"-".repeat(8),"-".repeat(16),"-".repeat(8),"-".repeat(20)].join("-+-"),i=Object.values(this.items).map(t=>{let n=t.toDeduct.operation||"N/A",i=t.toDeduct.model||"N/A",a=null!==t.creditsDeducted?t.creditsDeducted.toString():"N/A",r=t.error||"";return[e(t.id,12),e(t.status,8),e(n,8),e(i,16),e(a,8),e(r,20)].join(" | ")});return["Interaction Ledger","=".repeat(n.length),t,n,...i,"=".repeat(n.length),"Total items: ".concat(Object.keys(this.items).length)].join("\n")}serialize(){return{items:this.items}}constructor(e={}){super(),this.items=e}}var y=n(20145),v=function(e){return e.Start="ai.interaction.start",e.Finish="ai.interaction.finish",e.DeductionSuccess="ai.interaction.deduction.success",e.DeductionError="ai.interaction.deduction.error",e}({});class w extends c.b{get traceparent(){return this.span.traceparent}static create(e,t){return new w(e,t)}static load(e){let t=p.load(e);return t?new w(t.name,e,t.span,t.ledger):null}setAttributes(e){return this.span.setAttributes(e),p.save(this.id,this.serialize()),this}start(e){return"created"!==this.span.status?this.logger.warn("AIInteraction.start called when already started"):(this.span.start(),this.setAttributes({...this.getCommonAttributes(),...e}),this.logger.info("[AIInteraction] start: ".concat(this.name),{logType:v.Start,type:"start",interactionStatus:null,interactionId:this.id,interactionName:this.name,attributes:this.span.attributes}),p.save(this.id,this.serialize())),this}error(e){if("started"!==this.span.status)return void this.logger.warn("AIInteraction.error called when already ended");this.onEnd("error",{error:e})}complete(e){if("started"!==this.span.status)return void this.logger.warn("AIInteraction.complete called when already ended");e&&this.span.setAttributes(e),this.onEnd("complete")}abort(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("started"!==this.span.status)return void this.logger.warn("AIInteraction.abort called when already ended");this.onEnd("aborted",{sendAsBeacon:e})}stop(){if("started"!==this.span.status)return void this.logger.warn("AIInteraction.stop called when already ended");this.onEnd("stopped")}trace(e,t,n){return this.span.trace(e,t,n)}charge(e,t){this.ledger.add(e,t);let n={plan:(0,a.A4)((0,l.vp)())||"free"};(0,y.r)(this.name,n)&&this.ledger.deduct(e)}onEnd(e){let{error:t,sendAsBeacon:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.span.setAttributes({interaction_status:e}),t?(this.logger.error("[AIInteraction] ".concat(e,": ").concat(this.name," - ").concat(t.message),{logType:v.Finish,interaction_status:e,interactionId:this.id,interactionName:this.name,attributes:this.span.attributes,errorInfo:{message:t.message,stack:t.stack,name:t.name}},t),this.span.recordException(t)):this.logger.info("[AIInteraction] ".concat(e,": ").concat(this.name),{logType:v.Finish,interaction_status:e,interactionId:this.id,interactionName:this.name,attributes:this.span.attributes}),this.span.end(n),this.emit("end",{}),p.save(this.id,this.serialize())}setupLedger(e){this.ledger=new C((null==e?void 0:e.items)||{}),this.ledger.on("DEDUCTION_CHARGED",e=>{let{item:t}=e;this.logDeduction(t)}),this.ledger.on("DEDUCTION_ERROR",e=>{let{item:t}=e;this.logDeductionError(t)})}serialize(){return{id:this.id,name:this.name,span:this.span.serialize(),ledger:this.ledger.serialize()}}getCommonAttributes(){try{var e,t,n,i,c,d;let u=(0,r.KA)(),p=(0,l.HW)(),h=(0,l.vp)();return{docId:null!=(e=(0,s.sX)(u.getState()))?e:null,userId:null!=(t=null==p?void 0:p.id)?t:null,userEmail:null!=(n=null==p?void 0:p.email)?n:null,workspaceId:null!=(i=null==h?void 0:h.id)?i:null,workspaceName:null!=(c=null==h?void 0:h.name)?c:null,product:null!=(d=(0,a.A4)((0,l.vp)()))?d:"free",device:(0,o.ZI)()}}catch(e){return this.logger.error("Error getting common AIInteraction attributes ",e),{}}}logDeductionError(e){this.logger.error("[AIInteraction] error deducting credits in ".concat(this.name,": ").concat(e.error),{logType:v.DeductionError,deduction:e})}logDeduction(e){this.logger.info("[AIInteraction] deducted credits in ".concat(this.name,": [").concat(e.toDeduct.operation," - ").concat(e.toDeduct.model,"] ").concat(e.creditsDeducted," credits"),{logType:v.DeductionSuccess,deduction:e})}constructor(e,t,n,a){super(),this.name=e,this.setupLedger(a);let r=e.trim().replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/\s+/g,"_").toLowerCase();this.span=n?d.F.loadSpan(n):d.F.createSpan("ai.interaction",{attributes:{interactionName:e,resource_name:r}}),this.id=t||"".concat(this.span.spanContext.traceId,"-").concat(this.span.spanContext.spanId),this.span.setAttributes({interactionId:this.id}),this.logger=i.yf.createLogger("AIInteraction",{context:{dd:{span_id:BigInt("0x".concat(this.span.spanContext.spanId)).toString(),trace_id:BigInt("0x".concat(this.span.spanContext.traceId)).toString()},interactionId:this.id,interactionName:e,resource_name:r,...this.getCommonAttributes()}})}}},43216:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,T:()=>g});var i=n(6029),a=n(26420),r=n(55729),s=n(5061),l=n(25778),o=n(43634),c=n(70703),d=n(50764),u=n(25600),p=n(21699),h=n(216);let g=e=>({top:{top:"0",insetInlineStart:"50%",height:"16px",width:"26px",pt:"1px",icon:"⋯",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},left:{top:"50%",insetInlineStart:"0",height:"26px",width:"16px",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},outside:{top:0,insetInlineStart:-6},inside:{top:2,insetInlineStart:3},custom:{}}),m=e=>{let{handlePlacement:t,editor:n,getPos:m,decorations:x,isVisible:f,onClick:b,onDragStart:C,node:y,selected:v,extension:w,updateAttributes:A,deleteNode:k,...L}=e,j=(0,l.GV)(o.nD),E=(0,s.fW)(),S=(0,r.useCallback)(e=>{let t=m();"number"==typeof t&&(n.commands.selectNodeAtPos(t),e.stopPropagation())},[n,m]),M=(0,r.useCallback)(e=>{var t;let i=m();if("number"!=typeof i)return;let a=(null==(t=e.target.closest("[data-node-view-wrapper]"))?void 0:t.querySelector("[data-selection-ring]"))||void 0;(0,c.b)(n,e.nativeEvent,i,a),e.stopPropagation()},[n,m]),I=C||M;if(!j)return null;let _=(0,d.JL)(x),D=(0,p.Ms)(x),R=(0,u.b0)(x);return(null!=f||(f=_||D),"outside"===t)?(0,i.jsx)(a.a,{position:"absolute",...g(E).outside,bottom:0,width:6,children:(0,i.jsx)(h.u,{isSelected:R,isVisible:f,onClick:b||S,onDragStart:I,top:0,insetInlineStart:0,...L})}):(0,i.jsx)(h.u,{isSelected:R,isVisible:f,onClick:b||S,onDragStart:I,...g(E)[t],...L})}},43541:(e,t,n)=>{"use strict";n.d(t,{Vt:()=>D,yd:()=>P}),n(18864),n(64003);var i=n(6029),a=n(55729),r=n(19855);let s=e=>{var t,n;return(null==e||null==(t=e.wrapperConfig)?void 0:t.gridStyle)==="alternating_tight"||(null==e||null==(n=e.wrapperConfig)?void 0:n.gridStyle)==="alternating_loose"};var l=n(40452),o=n(43607),c=n(85399),d=n(95740),u=n(66082),p=n(93171),h=n(26420),g=n(45214),m=n(76765);let x=(0,a.memo)(e=>{let{children:t,positionProps:n,cellProps:a,markerFontSize:r}=e,{direction:s,layoutOptions:l,cellOptions:d,index:u}=a,{colorVars:p}=(0,c.r)({layoutColorOverride:l.color,cellColorOverride:null==d?void 0:d.color,index:u,forceTransparent:!1,isColoringCell:!0}),x=(0,o.FX)(),f=r?(0,m._)(x,r):void 0;return(0,i.jsxs)(h.a,{...n,height:f?"".concat(f,"em"):void 0,css:p,children:[(0,i.jsx)(h.a,{position:"absolute",transform:"translate(".concat("rtl"===s?"50%":"-50%",", -50%)"),width:"".concat(.75,"em"),height:"".concat(.75,"em"),borderRadius:"50%",className:g.P7,zIndex:2,top:"50%"}),t]})});x.displayName="SmallBulletLineMarker";let f={smallBullet:x,bigBullet:p.n};var b=n(41427),C=n(45143);let y={base:!1,md:!0},v={base:!1,md:!0},w=e=>{let t=(0,C.h5)(y)||!1,n=(0,C.h5)(v)||!1,i="horizontal"===e.orientation&&n,a=e.twoSided&&(i||t);return{isHorizontal:i,isTwoSided:a}},A=(e,t)=>e?{templateRows:"auto 0px auto",gridAutoColumns:"1fr",gridAutoFlow:"column",justifyContent:"center",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"2em"},k=(e,t,n,i,a,r)=>{let s=t&&(n+1)%2==1,l={align:"flex-start",transformOrigin:s?"right center":"left center",ps:s?void 0:i,pe:s?i:void 0,gridColumn:s?1:3,height:"fit-content"},o={gridRow:s?1:3,align:s?"flex-end":"flex-start",justify:"center",transformOrigin:s?"center bottom":"center top",pt:s?void 0:i,pb:s?i:void 0,px:a};return"alternating_loose"===r?e?{gridColumn:n+1,...o}:{gridRow:n+1,...l}:e?{gridColumn:"span 2",...o}:{gridRow:"span 2",...l}},L=(e,t,n,i,a,r)=>{let s=!t*i,l=t&&n%2==0,[o,c]=(0,b.yz)(a),d="center"===r?"50%":0;return e?l?{bottom:"".concat(s,"em"),transform:"translateY(50%)"}:{top:"".concat(s,"em"),transform:"translateY(-50%)"}:l?{[c]:"".concat(s,"em"),transform:"translateX(".concat("rtl"===a?"-50":"50","%)"),top:d}:{[o]:"".concat(s,"em"),transform:"translateX(".concat("rtl"===a?"50":"-50","%)"),top:d}},j=(e,t,n,i,a)=>{let r=t&&n%2==0,[s,l]=(0,b.yz)(a),o="number"==typeof i?"".concat(i,"em"):i;return e?{height:o,width:"var(--line-thickness)",[s]:"50%",top:r?void 0:"50%",bottom:r?"50%":void 0,transform:"translateX(".concat("rtl"===a?"50":"-50","%)")}:{width:o,height:"var(--line-thickness)",top:"50%",transform:"translateY(-50%)",[s]:r?void 0:"calc(100% - var(--line-thickness))",[l]:r?"calc(100% - var(--line-thickness))":void 0}},E=(e,t,n,i,a,r,s)=>"".concat(("inside"===e?s?t/2:t:0)+("none"===e?i:0)+(a?n/2:n)+(r?0:i),"em"),S=(e,t,n,i)=>{let a=(e+1)%2==1;return t?a&&i?{borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",borderBottom:"none !important"}:{borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderTop:"none !important",top:"var(--line-thickness) !important"}:("ltr"===n?!i||!a:i&&a)?{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderLeft:"none !important",left:"var(--line-thickness) !important"}:{borderTopRightRadius:"0 !important",borderBottomRightRadius:"0 !important",borderRight:"none !important",right:"var(--line-thickness) !important"}},M=(0,a.memo)(e=>{let{cellProps:t,markerSize:n,lineLength:a,verticalAlign:r="top",MarkerWrapper:s=p.n,markerFontSize:l}=e,{direction:c,index:d,layoutOptions:u}=t,{isHorizontal:m,isTwoSided:x}=w(u),f=u.hasLine?"inside":"none",b=(0,o.FX)(),C=L(m,x,d,n,c,r),y=j(m,x,d,"none"===f?0:"inside"===f?"".concat(b?a/2:a,"em"):"100%",c);return(0,i.jsx)(s,{cellProps:t,positionProps:{...C,position:"absolute"},markerFontSize:l,children:"none"!==f&&(0,i.jsx)(h.a,{position:"absolute",zIndex:"-1","data-testid":"timeline-line",...y,className:g.eI})})});M.displayName="AlternatingMarker";let I=e=>{switch(e.verticalAlign||"top"){case"center":return{alignItems:"center"};case"bottom":return{alignItems:"flex-end"};default:return{alignItems:"flex-start"}}},_=(0,a.memo)(e=>{let{children:t,distanceFromLine:n=2,minCellSize:a=8,testIdPrefix:r="timeline-item",cellContentPropOverrides:s,css:p,lineMarker:h,cellStyle:g="none",gridStyle:x,...b}=e,{layoutOptions:C,index:y,dragHandle:v,cellOptions:A,direction:L,selectCellForElementProps:j,theme:_}=b,{markerType:D,markerFontSize:R,markerSize:T,lineLength:z,verticalAlign:H}=h||{},N=D?f[D]:void 0,{isHorizontal:B,isTwoSided:P}=w(C),F=P&&(y+1)%2==1,{colorVars:V}=(0,c.r)({layoutColorOverride:C.color,cellColorOverride:null==A?void 0:A.color,index:y,forceTransparent:!0}),O=(0,o.FX)(),Z=E(C.hasLine?"inside":"none",z||0,n,T||0,B,P,O),W=k(B,P,y,Z,"".concat(n/2,"em"),x),U={right:"rtl"===L?"left":"right",left:"rtl"===L?"right":"left"},G=(0,m.G)(b.theme,O,R||null,b.firstChildSize),K=B?{minW:"min(100%, ".concat(a,"em)"),...(0,u.yp)("center"),...V}:{minH:P?"".concat(a,"em"):void 0,...(0,u.yp)(F?U.right:U.left),...(0,u.AS)(F?U.right:U.left,L),...N&&R&&{mt:"".concat(G,"em")},...V},Q="0em"===Z?S(y,B,L,P):{},q={...s,sx:K,flex:"1",maxW:"100%",...j,...Q};return(0,i.jsxs)(l.s,{minW:"0",position:"relative",transitionProperty:"border, padding, right, margin","data-selection-ring":"padded","data-content-reference":!0,...j,...W,["data-test-".concat(r)]:y,css:{...p},...I(C),children:[N&&(0,i.jsx)(M,{cellProps:b,markerSize:T||0,lineLength:z||0,markerFontSize:R,MarkerWrapper:N,verticalAlign:H}),(0,i.jsxs)(d.k,{cellContentPropOverrides:q,cellStyle:g,cellProps:b,theme:_,children:[t,v]})]})});_.displayName="AlternatingGridCell";let D=(0,a.memo)(e=>{var t,n,a,l,o;let{children:c,...d}=e,u=null==(t=d.variant)?void 0:t.config;if(s(u)){let e=u.wrapperConfig,t=null==(o=d.variant)||null==(l=o.config)?void 0:l.cellConfig;return(0,i.jsx)(_,{...d,...t,gridStyle:e.gridStyle||"alternating_tight",children:c})}let p=null==u?void 0:u.wrapperConfig,h=null==(a=d.variant)||null==(n=a.config)?void 0:n.cellConfig;if(!h||!p)return console.warn("No config found for variant",d.variant),null;let g="marker"in h?h.marker:void 0,m="innerLabel"in h?h.innerLabel:void 0;return(0,i.jsx)(r.E,{cellProps:d,cellStyle:h.cellStyle||"none",markerConfig:g,innerLabelConfig:m,cellContentPropOverrides:h.cellContentOverrides,cellDecorConfig:h.cellDecor,gridStyle:p.gridStyle,dragHandle:d.dragHandle,children:c})});D.displayName="ConfigurableSmartLayoutCell";var R=n(35332),T=n(56570),z=n(53996);let H=(0,a.memo)(e=>{let{children:t,options:n,direction:r,onContextMenu:s,selectLayoutForElementProps:l,markerSize:o=1.125,lineColor:d,css:u}=e,{isHorizontal:p,isTwoSided:h}=w(n),g=(0,a.useMemo)(()=>A(p,h),[p,h]),{colorVars:m}=(0,c.r)({layoutColorOverride:n.color,isColoringCell:!1});return"accent"===d&&((m=m?{...m}:{})["--line-color"]="var(--shape-border-color-override, var(--shape-border-color))"),(0,i.jsxs)(T.x,{...g,"data-selection-ring":"padded",pos:"relative",onContextMenu:s,...l,css:u,children:[(0,i.jsx)(N,{isHorizontal:p,isTwoSided:h,direction:r,markerSize:o,colorVars:m}),t,h&&(0,i.jsx)(B,{isHorizontal:p,selectLayoutForElementProps:l})]})});H.displayName="AlternatingGridWrapper";let N=(0,a.memo)(e=>{let{isHorizontal:t,isTwoSided:n,direction:a,markerSize:r,colorVars:s}=e;return t?(0,i.jsx)(h.a,{gridRow:2,gridColumn:1,"data-spotlight-dim":!0,contentEditable:!1,css:s,children:(0,i.jsx)(h.a,{position:"absolute",height:"var(--line-thickness)",width:"100%",insetX:"0",insetBlockStart:n?void 0:"".concat(r,"em"),className:g.eI})}):(0,i.jsx)(z.o,{gridColumn:2,gridRow:1,"data-spotlight-dim":!0,contentEditable:!1,css:s,children:(0,i.jsx)(h.a,{position:"absolute",width:"var(--line-thickness)",insetY:"0",left:n||"rtl"===a?void 0:"0",right:n||"ltr"===a?void 0:"0",className:g.eI,ms:n?void 0:"".concat(r,"em")})})});N.displayName="AlternatingCenterLine";let B=(0,a.memo)(e=>{let{isHorizontal:t,selectLayoutForElementProps:n}=e;return(0,i.jsx)(h.a,{...t?{gridColumn:"1 / span 1",gridRow:3,minW:"0.5fr"}:{gridColumn:3,gridRow:"1 / span 1",minH:"".concat(4,"em")},contentEditable:!1,...n})});B.displayName="AlternatingStaggerElement";let P=(0,a.memo)(e=>{var t,n,a,r;let l=null==(t=e.variant)?void 0:t.config;if(!l)return console.warn("No config found for variant",e.variant),null;if(s(l)){let t=l.wrapperConfig,s=null==(a=e.variant)||null==(n=a.config)?void 0:n.cellConfig;return(0,i.jsx)(H,{...e,...t,markerSize:null==s||null==(r=s.lineMarker)?void 0:r.markerSize})}let o=l.wrapperConfig;return(0,i.jsx)(R.A,{...e,cellSize:e.options.cellSize,orientation:e.options.orientation,horizontalAlign:e.options.horizontalAlign,spacing:o.spacing,wrapperStyle:o.wrapperStyle,gridStyle:o.gridStyle})});P.displayName="ConfigurableSmartLayoutWrapper",n(19323)},43828:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var i=n(6029),a=n(40452),r=n(16936),s=n(99492),l=n(48621),o=n(33170),c=n(19564),d=n(77650),u=n(55729),p=n(25778),h=n(43634);let g=e=>{let{editor:t,getPos:n,node:g,direction:m,maxButtons:x,tooltip:f}=e,b=(0,p.GV)(h.Cl),C=!x||g.childCount<x,y=(0,u.useCallback)(()=>{let e=n();"number"==typeof e&&t.commands.addButtonToGroup(e)},[t,n]);return C&&b?(0,i.jsx)(a.s,{position:"relative",align:"center",children:(0,i.jsx)(o.Tz,{label:f||(0,i.jsx)(c.x6,{id:"xe7fzh"}),placement:"top",children:(0,i.jsx)(r.K,{icon:(0,i.jsx)(l.g,{icon:s.QLR}),"aria-label":d.Ru._({id:"6oU9VZ"}),size:"xs",variant:"plain",isRound:!0,onClick:y,opacity:0,className:"add-button",transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",left:"column"===m?"50%":0,top:"50%",transform:"column"===m?"translateX(-50%)":"translateY(-50%)",zIndex:"sticky"})})}):null}},43944:(e,t,n)=>{"use strict";n.d(t,{B8:()=>b,uw:()=>f,Lf:()=>C,aW:()=>y});var i=n(37243),a=n(36811),r=n(47665),s=n(38934),l=n(29452),o=n.n(l),c=n(63867),d=n(97255),u=n(91656);let p=o()(10),h=["blockquote","card","sectionBreak","calloutBox"],g=(e,t)=>"numbered"===e.type.name||(0,u.x)(e)&&e.attrs.indent>t||e.isAtom||h.includes(e.type.name),m=e=>new c.k_({key:new c.hs("ListPlugin"),props:{decorations:e=>{let{doc:t}=e,n=[],i=new Map,a=(e,t)=>{var n;return(null==(n=i.get(e))?void 0:n[t])||1},r=(e,t,n)=>{let a=i.get(e);try{a[t]=n}catch(e){console.error("(caught) [ListPlugin] setCounter error",e)}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.get(e)||{};p.filter(e=>e>=t).forEach(e=>{n[e]=1}),i.set(e,n)},l=0;return t.descendants((e,t,o)=>{if((0,u.x)(e)&&e.firstChild){let i=e.firstChild.marks.find(e=>"textColor"===e.type.name);(null==i?void 0:i.attrs.variant)&&n.push(d.NZ.node(t,t+e.nodeSize,{"data-text-color":i.attrs.variant})),(null==i?void 0:i.attrs.hex)&&n.push(d.NZ.node(t,t+e.nodeSize,{style:"--list-marker-text-color: ".concat(i.attrs.hex)}))}if(!o||(g(e,l)||s(o),"numbered"!==e.type.name))return;i.get(o)||s(o);let c=e.attrs.indent;l=c;let p=a(o,c);r(o,c,p+1),s(o,c+1),n.push(d.NZ.node(t,t+e.nodeSize,{},{listNumber:p}))}),0==n.length?d.zF.empty:d.zF.create(t,n)}}});var x=n(82172);let f=8,b=i.YY.create({name:"list",priority:s.y.List,addProseMirrorPlugins(){return[m(this.editor)]},addCommands:()=>({listToCards:()=>e=>{let{chain:t,state:n}=e,{selection:a,doc:s}=n,{from:l,to:o}=a,c=(0,i.Nx)(s,{from:l,to:o},u.x),d=(0,i.KP)(r.jg)(a);if(!c.length||!d)return!1;let p=d.pos+d.node.nodeSize,h=(0,x.SQ)(c),g=(0,x.pT)(h);return t().insertContentAt(p,g).scrollIntoView().run(),!0},listToSmartLayout:e=>t=>{let{chain:n,state:a}=t,{selection:r,doc:s}=a,{from:l,to:o,$from:c,$to:d}=r,p=c.blockRange(d),h=(0,i.Nx)(s,{from:l,to:o},u.x);if(!h.length||!p)return!1;let g=(0,x.SQ)(h),m=(0,x.tb)(g,e);return n().insertContentAt({from:p.start,to:p.end},m).selectInsertedNode().scrollIntoView().run(),!0},indent:e=>t=>{let{tr:n,dispatch:i,state:a}=t;if(!i)return!0;let r=!1;return n.selection.ranges.forEach(t=>{let i=t.$from.pos,s=t.$to.pos;a.doc.nodesBetween(i,s,(t,i)=>{let{indent:a}=t.attrs;Object.values(u.e).includes(t.type.name)&&a+e>=0&&a+e<=f&&(n.setNodeMarkup(i,void 0,{...t.attrs,indent:a+e}),r=!0)})}),r},setListItems:e=>{let{variant:t}=e;return e=>{let{tr:n,dispatch:i,state:a}=e;return!i||(n.selection.ranges.forEach(e=>{let i=e.$from.pos,r=e.$to.pos;a.doc.nodesBetween(i,r,(e,i)=>{Object.values(u.e).includes(e.type.name)?n.setNodeMarkup(i,a.schema.nodes[t],e.attrs):e.isTextblock&&n.setNodeMarkup(i,a.schema.nodes[t],{...e.attrs,indent:0})})}),!0)}},toggleListItems:e=>{let{variant:t}=e;return e=>{let{commands:n,editor:i}=e;return C(i,t)?n.setNode("paragraph"):n.setListItems({variant:t})}}}),addKeyboardShortcuts:()=>({Enter:e=>{let t,n,{editor:i}=e;for(let e of Object.values(u.e))if(i.isActive(e)){n=i.getAttributes(e),t=e;break}if(void 0===t)return!1;let{from:a,$from:r,empty:s}=i.state.selection;if(!s)return!1;if(0==r.parent.content.size)if(n.indent>0)return i.commands.indent(-1);else return i.commands.setNode("paragraph",n);return 0===r.parentOffset?(n.checked&&(n.checked=!1),i.chain().insertContentAt(a-1,{type:t,attrs:n}).selectInsertedNode().run()):r.parentOffset===r.parent.content.size&&(n.checked&&(n.checked=!1),i.chain().insertContentAt(a+1,{type:t,attrs:n}).selectInsertedNode().run())},Backspace:e=>{let t,n,{editor:i}=e;for(let e of Object.values(u.e))if(i.isActive(e)){n=i.getAttributes(e),t=e;break}if(void 0===t)return!1;let{$from:a,empty:r}=i.state.selection;return!!r&&0==a.parentOffset&&i.commands.setNode("paragraph",n)},Tab:e=>{let{editor:t}=e;return t.commands.indent(1)},"Shift-Tab":e=>{let{editor:t}=e;return t.commands.indent(-1)},"Mod-]":e=>{let{editor:t}=e;return t.commands.indent(1)},"Mod-[":e=>{let{editor:t}=e;return t.commands.indent(-1)}})}),C=(e,t)=>{let n=Object.values(u.e).filter(e=>e!==t);return e.isActive(t)&&!n.some(t=>e.isActive(t))},y=(e,t)=>(0,a.tC)(e,[t.nodes.heading,t.nodes.title])},44553:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var i=n(37243),a=n(63867),r=n(25778),s=n(43634),l=n(61250),o=n(98088),c=n(50861);let d=i.YY.create({name:"media",addExtensions:()=>[o.p],addCommands:()=>({handleSpaceToZoom:()=>e=>{let{state:t}=e;if(t.selection instanceof a.nh&&(0,c.Bv)(t.selection.node)){let e=(0,r.KA)(),{id:n}=t.selection.node.attrs;return!!(n&&(0,l.iZ)(n)(e.getState()))||(e.dispatch((0,s.a)({nodeId:t.selection.node.attrs.id})),!0)}return!1}}),extendNodeSchema(e){var t;return{accessoryImageKey:(0,i.gk)((0,i.iI)(e,"accessoryImageKey",e)),imageKeyPath:null!=(t=(0,i.gk)((0,i.iI)(e,"imageKeyPath",e)))?t:""}}})},44595:(e,t,n)=>{"use strict";n.d(t,{f:()=>k});var i=n(6029),a=n(40452),r=n(27229),s=n(26814),l=n(92437);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ai-credits-modal",t=(0,l.ez)("unlimited_credits"),{lowCreditStatus:n,credits:i,isCreditsReady:a}=(0,s.B9)(),{onOpen:o,onClose:c,isOpen:d}=(0,r.j)({id:e});return{hasUnlimitedCredits:t,lowCreditStatus:n,credits:i,onAICreditsModalOpen:o,onAICreditsModalClose:c,isAICreditsModalOpen:d,isCreditsReady:a}};var c=n(46091),d=n(88051),u=n(24302),p=n(49611),h=n(3276),g=n(26385),m=n(48810),x=n(55597),f=n(48621),b=n(33170),C=n(19564),y=n(55729),v=n(80219);let w=e=>{let{lowCreditStatus:t,isDark:n}=e;if(t===v.y.EXHAUSTED)if(n)return{color:"red.500",bg:"transparent",_hover:{bg:"red.300"},_active:{bg:"red.200"}};else return{color:"red.700",bg:"transparent",_hover:{bg:"red.50"},_active:{bg:"red.100"}};if(t===v.y.LOW)if(n)return{color:"orange.500 !important",bg:"transparent",_hover:{bg:"orange.200 !important"},_active:{bg:"orange.300 !important"}};else return{color:"orange.700 !important",bg:"transparent",_hover:{bg:"orange.100 !important"},_active:{bg:"orange.200 !important"}};return n?{color:"titanium.300",bg:"transparent",_hover:{bg:"elevation.3"},_active:{bg:"elevation.4"}}:{color:"deepocean.950",bg:"transparent",_hover:{bg:"deepocean.50"},_active:{bg:"deepocean.100"}}},A=(0,y.memo)(e=>{let{credits:t,lowCreditStatus:n,onClick:a,isDark:r}=e,s=null===t,{colorMode:l}=(0,u.G6)(),o=(0,i.jsx)(C.x6,{id:"rfczaI"}),c=w({lowCreditStatus:n,isDark:null!=r?r:"dark"===l});return(0,i.jsx)(b.Tz,{label:o,children:(0,i.jsx)(p.$,{size:"sm",py:4,px:4,onClick:a,isDisabled:s,variant:"ghost",...c,children:s?(0,i.jsx)(h.y,{size:"xs"}):(0,i.jsx)(g.B,{direction:"column",w:"100%",spacing:.5,children:(0,i.jsxs)(g.B,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,i.jsx)(f.g,{icon:x.p7g,fixedWidth:!0}),(0,i.jsx)(m.E,{as:"span",children:(0,i.jsx)(C.x6,{id:"T57gLR",values:{credits:t}})})]})})})})}),k=(0,c.A)(e=>{let{modalId:t="ai-credits-modal",segmentEvent:n,isDark:r,...s}=e,{hasUnlimitedCredits:l,credits:c,lowCreditStatus:u,onAICreditsModalOpen:p,onAICreditsModalClose:h,isAICreditsModalOpen:g}=o(t);return l?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.s,{...s,children:(0,i.jsx)(A,{credits:c,onClick:p,lowCreditStatus:u,isDark:r})}),(0,i.jsx)(d.m,{isOpen:g,onOpen:p,onClose:h,credits:c,segmentEvent:n})]})})},44637:(e,t,n)=>{"use strict";n.d(t,{Us:()=>r,h6:()=>s}),n(55729);var i=n(91938);n(88586);var a=n(69768);n(6181),n(11403);let r=()=>{if(""===i.$.SHARE_TOKEN)return;let{searchParams:e}=new URL(window.location.href);e.delete("token");let t=Object.fromEntries(e.entries());(0,a.g5)({query:t})},s=(e,t)=>{var n;if(!e||t)return null;let a=null==e||null==(n=e.accessLinks)?void 0:n.find(e=>e.token===i.$.SHARE_TOKEN);return a&&a.permission?a:null}},44798:(e,t,n)=>{"use strict";n.d(t,{B7:()=>j,RM:()=>L,Sx:()=>C,U9:()=>E,Z8:()=>y,ab:()=>k,hB:()=>M,ms:()=>I});var i=n(63867),a=n(55729),r=n(80116),s=n(98701),l=n(58809),o=n(3131),c=n(89942),d=n(25778),u=n(92397),p=n(43634),h=n(15607),g=n(33201),m=n(6181),x=n(6807),f=n(53756);let b=e=>{var t,n;if(!(e instanceof i.nh))return null;if("smartLayoutCell"===e.node.type.name&&(null==(t=e.node.textContent)?void 0:t.length)>=5)return e.node.content;let a=e.$from;for(;a.depth>0;){let e=a.node(a.depth);if("smartLayoutCell"===e.type.name&&(null==(n=e.textContent)?void 0:n.length)>=5)return e.content;a=a.doc.resolve(a.before(a.depth))}return null},C=e=>(0,a.useCallback)(()=>{if(!e)return null;let{selection:t}=e.state,n=(0,h.IV)(t.$from,g.jg)[0],i=n&&(0,u.Ub)(n.node,n.pos),{content:a}=e.state.doc.slice(i.pos+1,i.pos+i.node.nodeSize-1),s=b(t);return s?(0,r.KC)(e,s):(0,r.KC)(e,a)},[e]),y=e=>{let{editor:t,prompt:n,stylePrompt:i,addPrompt:r}=e,l=(0,d.GV)(p.sK),[o,c]=(0,a.useState)(!1),u=C(t),h=(0,a.useCallback)(()=>{c(!0),r("","push")},[r]),g=(0,a.useCallback)(e=>{r(e,"update")},[r]),x=(0,a.useCallback)(()=>{c(!1)},[]),f=(0,a.useCallback)(e=>{console.error("Error enhancing image",e),c(!1)},[]),{generate:b}=(0,s.pt)("EnhanceAIImage",{onStart:h,onContent:g,onComplete:x,onError:f,timeout:3e4}),y=(0,a.useCallback)(()=>{var e,a;if(o||!(null==l?void 0:l.id))return;let r=null==(e=(0,m.P9)(null==l?void 0:l.id))?void 0:e.id;return b({variables:{currentPrompt:n,stylePrompt:i,cardHtml:(null==t?void 0:t.isSiteNavbarEditor)?void 0:null!=(a=u())?a:void 0},workspaceId:r}).promise},[o,null==l?void 0:l.id,b,n,i,null==t?void 0:t.isSiteNavbarEditor,u]);return{isEnhancing:o,setIsEnhancing:c,runEnhanceImagePrompt:y}},v=e=>e.ind===e.history.length-1,w=e=>e.history[e.history.length-1],A={load:(e,t)=>({history:[t],ind:0}),push(e,t){return""===w(e).trim()?this.replace(e,t):{history:[...e.history,t],ind:e.history.length}},replace(e,t){let n=e.history.slice(0,-1);return{history:[...n,t],ind:n.length}},select(e,t){return v(e)&&w(e)===t?e:this.push(e,t)}},k=()=>{let e=(0,a.useRef)(!1),[t,n]=(0,a.useState)({history:[""],ind:0}),i=(0,a.useCallback)((t,i)=>{"load"===i&&n(e=>A.load(e,t)),"push"===i&&n(e=>A.push(e,t)),"update"===i&&(e.current?n(e=>A.push(e,t)):n(e=>A.replace(e,t))),"select"===i&&n(e=>A.select(e,t)),e.current="update"!==i},[]),r=(0,a.useCallback)(()=>{let{ind:e}=t;e<=0||n(e=>({...e,ind:e.ind-1}))},[t]),s=(0,a.useCallback)(()=>{let{history:e,ind:i}=t;i>=e.length-1||n(e=>({...e,ind:e.ind+1}))},[t]),{ind:l,history:o}=t;return{prompt:o[l]||"",addPrompt:i,promptPageInfo:{curr:l+1,total:o.length,canGoNext:l<o.length-1,canGoPrev:l>0},nextPrompt:s,prevPrompt:r}},L=()=>{let[e,t]=(0,x.M)("aiImageRatings",{});return{saveImageRating:(0,a.useCallback)((n,i)=>{n.savedMediaId&&(e[n.savedMediaId]=i,t(e))},[]),hasRatedImage:(0,a.useCallback)(t=>!t.savedMediaId||!!e[t.savedMediaId],[])}},j=(e,t)=>{let n=(0,d.GV)(p.sX),i=n&&!e?"doc":"user",r="doc"===i?"workspaceSavedMedia":"userSavedMedia",{data:s,loading:l}=(0,f.L)({docId:n,interactionId:e,scope:i,count:3});return{savedMedia:(0,a.useMemo)(()=>{var e;return((null==s||null==(e=s[r])?void 0:e.edges)||[]).map(e=>e.node).filter(e=>{if(t){var n;return(null==e||null==(n=e.attrs)?void 0:n.query)===t}return!0})},[s,r,t]),isLoading:l}},E=()=>{let e=(0,d.GV)(l.Jo),t=(0,c.ez)("ai_models_plus",null==e?void 0:e.organization),n=(0,c.ez)("ai_premium_models",null==e?void 0:e.organization),i=(0,c.ez)("ai_models_ultra",null==e?void 0:e.organization)?"ultra":t&&n?"pro":t?"plus":"free";return e=>S(e,i)},S=(e,t)=>{let n=(0,o.kO)(e);if(!(0,o.CX)(e))return!1;let i=["free","plus","pro","ultra"];return i.indexOf(t)>=i.indexOf(n)},M=(e,t)=>{let n=(0,c.vT)("ai_models_plus",t),i=(0,c.vT)("ai_premium_models",t);return S(e,(0,c.vT)("ai_models_ultra",t)?"ultra":i?"pro":n?"plus":"free")},I=(e,t)=>{let n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t)return;let i=n.current;if(!i)return;let a=i.querySelector('[data-popover-scroll-id="'.concat(e,'"]'));if(!(a instanceof HTMLElement))return;let r=a.offsetHeight/2,s=i.offsetHeight/2,l=a.offsetTop-s+r;i.scrollTo({top:l,behavior:"instant"})},[t,e]),{scrollContainerRef:n}}},44911:(e,t,n)=>{"use strict";n.d(t,{$:()=>E});var i=n(37243),a=n(23513),r=n(52055),s=n(73326),l=n(15607),o=n(46957),c=n(6029),d=n(49611),u=n(26420),p=n(80314),h=n(48810),g=n(21938),m=n(55729),x=n(92739),f=n(25778),b=n(48932),C=n(68247),y=n(96177),v=n(43634),w=n(15587),A=n(21699),k=n(31394);let L=e=>{let{editor:t,node:n,decorations:i}=e,{href:a,variant:r,color:l}=n.attrs,o=(0,f.GV)(v.Cl),L=(0,A.Ms)(i),j=o&&L,E=(0,w.v)(i),{linkUrl:S,handleClick:M,isCurrentPage:I}=(0,b.c)({url:a}),{interceptLinkClick:_,linkUrlSafe:D,isUntrusted:R,linkInterceptEnabled:T}=(0,x.i)(S),z=T&&!0!==t.isSiteNavbarEditor,{textColor:H}=(0,y.S0)(l),N="solid"===r?{backgroundColor:l||"var(--button-color)",backgroundImage:l?void 0:"var(--button-gradient)",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:"outline"===r?{border:"0px",boxShadow:"inset 0 0 0 max(1px, var(--shape-border-width)) ".concat(l||"var(--button-color)"),backgroundColor:"var(--shape-bg-color-override, var(--card-color))",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:{borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"},B=(0,m.useMemo)(()=>({...(0,k.s)({variant:r})}),[r]);return(0,c.jsx)(s.VR,{children:(0,c.jsx)(d.$,{as:j?u.a:p.N,isDisabled:!!z&&R,cursor:o?"text":"pointer",userSelect:o?"auto":"none",href:z?D||void 0:S,onClick:z?_:M,...B,style:N,className:(0,g.cx)("button","solid"===r&&C.Dv),"data-export-as-image":!0,"data-export-link":a,sx:{"@media print":{width:"auto"},outline:L?"2px solid var(--chakra-ring-color) !important":void 0,lineHeight:"var(--line-height-body)"},"data-is-current-page":I,children:(0,c.jsxs)(h.E,{as:"div",noOfLines:j||E?void 0:1,wordBreak:"break-all",style:{color:"solid"===r?H||"var(--button-color-inverted)":"outline"===r?l||"var(--button-color)":void 0},textAlign:"center",children:[E&&(0,c.jsx)(h.E,{opacity:"0.3",pointerEvents:"none",contentEditable:!1,pos:"absolute",w:"100%",left:"0",textAlign:"center",children:"…"}),(0,c.jsx)(s.$p,{})]})})})};var j=n(9100);let E=i.bP.create({name:"button",content:"(text | emoji)*",marks:"",defining:!0,isolating:!0,selectable:!1,addNodeView:()=>(0,s.gu)(L,{update:o.z0}),addAttributes:()=>({href:{default:""},variant:{default:"solid"},color:{default:null}}),addCommands:()=>({addButtonToGroup:e=>t=>{let{state:n,chain:i}=t,a=n.doc.nodeAt(e);if(!a)return!1;let s=e+a.nodeSize-1;return i().insertContentAt(s,{...(0,r.G)().button,attrs:{variant:j.Dn[a.type.name].defaultVariant,href:""}}).selectInsertedNode().run(),!0},handleButtonDelete:e=>t=>{let{dispatch:n,state:r,chain:s}=t;if(!n)return!0;let o=(0,i.KP)(e=>"button"===e.type.name)(r.selection);if(!o||e&&!(0,l.Op)(o.node))return!1;let c=(0,i.KP)(e=>"buttonGroup"===e.type.name)(r.selection),d=(0,i.KP)(e=>"navbarButtons"===e.type.name)(r.selection),u=(0,i.KP)(e=>"navbarLinks"===e.type.name)(r.selection);return d||u||!c||1!==c.node.childCount?d&&1===d.node.childCount||u&&1===u.node.childCount?s().deleteNode("button").blur().run():s().deleteNode("button").command(e=>{let{tr:t}=e,n=(0,a.n)(t.doc.resolve(o.pos-1),-1);return n&&t.setSelection(n),!0}).focus().run():s().deleteNode("buttonGroup").command(e=>{let{tr:t}=e,n=(0,a.n)(t.doc.resolve(c.pos));return n&&t.setSelection(n),!0}).focus().run(),!0}}),parseHTML:()=>[{tag:"button"}],renderHTML(e){let{HTMLAttributes:t}=e;return["button",(0,i.KV)(t),0]}})},45002:(e,t,n)=>{"use strict";n.d(t,{X0:()=>f,Y3:()=>x,u4:()=>b});var i=n(6029),a=n(88507),r=n(47687),s=n.n(r),l=n(55729),o=n(9014),c=n(84431),d=n(14389),u=n(11403),p=n(38537);let h="resizeable-control-wrapper",g=(0,o.yX)([o.cM]),m=(e,t)=>Math.max(e,d.MK*Math.max(t.clientWidth/t.clientHeight,1));function x(e){let[t,n]=(0,l.useState)(!1),i=(0,u.jm)(),r=(0,l.useRef)(null),s=(0,p.KS)(r),[o,c]=(0,l.useState)(!1),d=(0,l.useCallback)(()=>{var t,i;null==(t=(i=e.commands).forceHideBubbleMenu)||t.call(i,!0),n(!0)},[e]),h=(0,l.useCallback)(()=>{var t,i;null==(t=(i=e.commands).forceHideBubbleMenu)||t.call(i,!1),n(!1)},[e]);return(0,a.w)(()=>{var t,n;null==(t=(n=e.commands).forceHideBubbleMenu)||t.call(n,o||s)},[e,o,s]),{ref:r,isResizing:o,setIsResizing:c,isAnimating:t,resizeableSx:{".moveable-control":{display:i||s||t?"none":""}},onLayoutAnimationStart:d,onLayoutAnimationComplete:h}}let f={[".".concat(h)]:{zIndex:"".concat(c.$.resizeableWrapper),".moveable-control":{bg:"white",border:"2px solid var(--chakra-colors-trueblue-300)",w:"".concat(8,"px"),h:"".concat(8,"px"),opacity:1,zIndex:10,borderRadius:0,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal","&.moveable-ne, &.moveable-sw":{cursor:"nesw-resize"},"&.moveable-nw, &.moveable-se":{cursor:"nwse-resize"},"&.moveable-se, &.moveable-ne, &.moveable-e":{marginLeft:"-".concat(5,"px")},"&.moveable-sw, &.moveable-nw, &.moveable-w":{marginLeft:"-".concat(3,"px")},"&.moveable-ne, &.moveable-nw, &.moveable-n":{marginTop:"-".concat(3,"px")},"&.moveable-se, &.moveable-sw, &.moveable-s":{marginTop:"-".concat(5,"px")},"&.moveable-e, &.moveable-w":{cursor:"ew-resize",marginTop:"-".concat(4,"px")},"&.moveable-n, &.moveable-s":{cursor:"ns-resize",marginLeft:"-".concat(4,"px")}},".moveable-line":{display:"none"}}},b=e=>{let{imageWrapperRef:t,setIsResizing:n,updateResizeAttrs:a,refreshDeps:r,keepRatio:o=!0,onResizing:c}=e,u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{setTimeout(()=>{requestAnimationFrame(()=>{var e,t;null==(e=u.current)||e.updateRect(),null==(t=u.current)||t.updateTarget()})},300)},[r]),(0,l.useEffect)(()=>{let e=()=>{var e;null==(e=u.current)||e.updateTarget()},t=s()(e,250);return document.addEventListener("drop",e),window.addEventListener("resize",t),()=>{document.removeEventListener("drop",e),window.removeEventListener("resize",t)}},[]),(0,i.jsx)(g,{ref:e=>{u.current=e},className:h,target:t.current,renderDirections:["se","nw","sw","ne","n","s","e","w"],keepRatio:o,draggable:!1,resizable:!0,origin:!1,onResizeStart:()=>{n(!0)},onResize:e=>{let{target:t,width:n,height:i}=e,a=m(n,t),r=o?i:m(i,t);t.style.width="".concat(a,"px"),o||(t.style.height="".concat(r,"px")),null==c||c({width:a,height:r})},onResizeEnd:e=>{let{target:t}=e,i=t.clientWidth,r=t.clientHeight,s=parseFloat(getComputedStyle(t).fontSize)/d.Ef;a({width:i/s,height:o?null:r/s,isAuto:!1}),n(!1),t.style.width="",t.style.height=""}})}},45004:(e,t,n)=>{"use strict";n.d(t,{E8:()=>m,SY:()=>x,jV:()=>f});var i=n(6029),a=n(46898),r=n(19564),s=n(58495),l=n(55729),o=n(58809),c=n(17074),d=n(87996),u=n(25778),p=n(80180),h=n(76694);let g=(0,s.d_)("1234567890abcdefghijklmnopqrstuvwxyz",16),m=e=>{let{focusInput:t}=e,n=(0,u.CU)(),s=(0,a.d)(),[p,h]=(0,l.useState)([]),m=(0,l.useCallback)(()=>{h([])},[]),x=(0,l.useCallback)(e=>{h(t=>t.filter(t=>t.id!==e))},[]),f=p.some(e=>!!e.isUploading),b=(0,l.useCallback)(e=>{var a;let l=(0,o.Jo)(n.getState()),c=null==l||null==(a=l.organization)?void 0:a.id;if(!c)return void console.error("Could not find current doc's workspace id");if(0===e.length)return;let u=e.filter(e=>e.type.startsWith("image/"));if(0===u.length)return;let m=10-p.length;if(m<=0)return void s({title:(0,i.jsx)(r.x6,{id:"ff3IAf"}),description:(0,i.jsx)(r.x6,{id:"VzjO+n",values:{FILE_LIMIT:10}}),status:"warning",duration:3e3,isClosable:!0,position:"bottom-right"});let f=u.slice(0,m);t(),f.forEach(e=>{if("application/pdf"===e.type||e.name.toLowerCase().endsWith(".pdf")){let t={id:g(),src:"",name:e.name,mimeType:e.type,isUploading:!0,isPdf:!0,size:e.size};h(e=>[...e,t]),(0,d.QM)(e,c,{onUploadComplete:e=>{h(n=>n.map(n=>n.id===t.id?{...n,src:e.src,isUploading:!1}:n))},onUploadFailed:()=>x(t.id)},"node","importPdf")}else{let t=URL.createObjectURL(e),n={id:g(),src:t,name:e.name,mimeType:e.type,isUploading:!0,isPdf:!1,size:e.size};h(e=>[...e,n]),(0,d.QM)(e,c,{onUploadComplete:e=>{h(t=>t.map(t=>t.id===n.id?{...t,src:e.src,isUploading:!1}:t))},onUploadFailed:()=>x(n.id)},"node")}})},[t,x,n,p.length]),{inputElement:C,onClick:y}=(0,c.c)({handleFilesCallback:b,multiple:!0,accept:"image/*"});return{uploadedFiles:p,hiddenFileInput:C,uploadFiles:b,openFilePicker:y,removeFile:x,resetFiles:m,isUploading:f}},x=e=>{let{uploadFiles:t}=e;return{onPaste:(0,l.useCallback)(e=>{var n;let i=null==(n=e.clipboardData)?void 0:n.items;if(!i)return;let a=[];Array.from(i).forEach(e=>{if(e.type.startsWith("image/")){let t=e.getAsFile();t&&a.push(t)}}),a.length>0&&(e.preventDefault(),t(a))},[t])}},f=e=>{let{uploadFiles:t}=e,n=(0,l.useRef)(null),i=(0,l.useCallback)(e=>e.dataTransfer.items&&Array.from(e.dataTransfer.items).some(e=>"file"===e.kind&&e.type.startsWith("image/")),[]),a=(0,l.useCallback)(e=>{var i;e.preventDefault(),null==(i=n.current)||i.classList.remove(h.u),t(Array.from(e.dataTransfer.files))},[t]),r=(0,l.useCallback)(e=>{var t;e.preventDefault(),null==(t=n.current)||t.classList.remove(h.u)},[]),s=(0,l.useCallback)(e=>{var t;i(e)&&((0,p.JO)(e),null==(t=n.current)||t.classList.add(h.u))},[i]);return{ref:n,onDragLeave:r,onDragOver:s,onDrop:a}}},45176:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>a,BA:()=>d,I0:()=>i,Vj:()=>s,XJ:()=>r,ZX:()=>c,mj:()=>o,pg:()=>l});let i=.8,a=12,r=8,s=15,l=5,o=1,c=2,d=.1},45214:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>M,D6:()=>h,Eb:()=>m,Kh:()=>S,L$:()=>ea,Lp:()=>p,P7:()=>f,QI:()=>Y,Re:()=>H,SA:()=>d,VN:()=>A,Xj:()=>x,_B:()=>b,_Z:()=>j,bo:()=>E,eI:()=>v,fu:()=>w,gt:()=>$,iZ:()=>g,lR:()=>k,lX:()=>C,n3:()=>J,o5:()=>q,ok:()=>L,py:()=>I,to:()=>y,uk:()=>u});var i=n(30892),a=n(28615),r=n(95695),s=n(62452),l=n(68247),o=n(14122),c=n(96177);let d="themed-html-shape-background",u="themed-html-shape-outline",p="themed-svg-shape-outline",h="themed-svg-shape-background",g="themed-svg-shape-background-dim",m="themed-svg-shape-background-light",x="themed-svg-neutral-background",f="themed-html-shape-fill",b="themed-svg-shape-fill",C="themed-svg-shape-fill-dim",y="themed-svg-shape-fill-light",v="themed-line",w="themed-svg-line",A="themed-shape-outside-text",k="themed-shape-text-over-background",L="themed-shape-text-over-fill",j="themed-svg-shape-background-rtl",E="themed-svg-shape-fill-rtl",S="themed-svg-shape-fill-dim-rtl",M="themed-svg-shape-fill-light-rtl",I=()=>({[".".concat(d)]:D,[".".concat(u)]:R,[".".concat(h)]:H,[".".concat(p)]:z,[".".concat(g)]:N,[".".concat(m)]:B,[".".concat(x)]:P,[".".concat(v)]:G,[".".concat(w)]:K,[".".concat(f)]:V,[".".concat(b)]:O,[".".concat(C)]:Z,[".".concat(y)]:W,[".".concat(A)]:Q,[".".concat(k)]:F,[".".concat(L)]:U}),_="var(--shape-shadow-color, var(--shape-border-color-override, var(--shape-border-color)))",D={borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(_,")"),border:"var(--shape-border-width) solid var(--shape-border-color-override, var(--shape-border-color))",background:"var(--shape-bg-color-override, var(--shape-bg-image, var(--shape-bg-color-alpha)))",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))","--body-color":"var(--shape-text-color)",...(0,l.U2)("var(--shape-text-color)")},R={background:"var(--card-background-color)",border:"var(--line-thickness) solid var(--shape-border-color-override, var(--shape-border-color))",borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(_,")"),...(0,l.U2)("var(--body-color)")},T={stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--shape-border-width)",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",strokeLinecap:"round"},z={...T,fill:"none"},H={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(_,"))")},N={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-dim))"},B={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-light))"},P={...T,fill:"var(--neutral-background-color)"},F={"--body-color":"var(--shape-text-color)",...(0,l.U2)("var(--shape-text-color)")},V={background:"var(--shape-bg-color-override, var(--shape-fill))"},O={fill:"var(--shape-bg-color-override, var(--shape-fill-svg))"},Z={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},W={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},U={"--body-color":"var(--shape-fill-text-color)",...(0,l.U2)("var(--shape-fill-text-color)"),...(0,o.t)("var(--shape-fill-text-color)")},G={backgroundColor:"var(--shape-border-color-override, var(--line-color))",borderRadius:"var(--box-border-radius)"},K={stroke:"var(--shape-border-color-override, var(--line-color))",strokeLinejoin:"round",strokeLinecap:"round"},Q={...(0,l.U2)("var(--body-color)")},q=e=>{let{cardColor:t,bodyColor:n,config:l,theme:o}=e,d=(0,s.Ik)(t),u=(0,s.Ik)((0,s.QD)(o,l.shapeColorScheme)),p=(0,s.GV)(o,l.shapeColorScheme,l.shapeFill),h="custom"===l.shapeColorScheme?"var(--neutral-border-color)":p,g=r.z0[l.shapeFill].opacity,m=(0,i.sN)(d,u,g),x=(0,i.$p)(d),f=x?(0,i.Zt)(m,3):(0,i.Zt)(m,-3),b=x?(0,i.Zt)(m,-3):(0,i.Zt)(m,3),C=(0,s.Ik)(n),y=g>0&&!(0,i.a6)(u,C)?(0,c.S0)(u).textColor:C,v=(0,s.Ik)((0,s.VH)(o)),w=(0,c.S0)(v).textColor,A=x?(0,i.Pf)(v,10):(0,i.Pf)(v,-10),k=x?(0,i.Pf)(v,-10):(0,i.Pf)(v,10),L="none"!==l.shapeShadow,j=X(t),E=!(0,i.a6)(d,m),S=a.rS&&L&&E;return{shapeBackgroundAlpha:m,shapeBackgroundAlphaDim:f,shapeBackgroundAlphaLight:b,shapeBackgroundColor:u,finalShapeBorderColor:S?j:p,isOverridingBorder:S,shapeTextColor:y,lineColor:h,fillOpacity:g,shapeFillTextColor:w,accentColorDim:A,accentColorLight:k}},J=e=>{let{cardColor:t,bodyColor:n,config:i,theme:a}=e,{shapeBackgroundAlpha:r,shapeBackgroundAlphaDim:s,shapeBackgroundAlphaLight:l,shapeBackgroundColor:o,finalShapeBorderColor:c,isOverridingBorder:d,shapeTextColor:u,lineColor:p,fillOpacity:h,shapeFillTextColor:g,accentColorDim:m,accentColorLight:x}=q({cardColor:t,bodyColor:n,config:i,theme:a});return{"--shape-bg-image":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?void 0:"var(--accent-gradient-background)","--shape-bg-color-alpha":r,"--shape-bg-color-alpha-dim":s,"--shape-bg-color-alpha-light":l,"--shape-bg-color":o,"--shape-border-color":c,...d&&{"--shape-border-color-override":c,"--shape-border-width":"0.125em"},"--shape-text-color":u,"--line-color":p,"--shape-bg-image-svg":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear)","--shape-bg-image-svg-rtl":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear-rtl)","--shape-fill":"var(--accent-gradient-fill, var(--accent-color))","--shape-fill-opacity":h,"--shape-fill-svg":"url(#theme-accent-gradient-linear) var(--accent-color)","--shape-fill-svg-rtl":"url(#theme-accent-gradient-linear-rtl) var(--accent-color)","--shape-fill-svg-dim":"var(--accent-color-dim)","--shape-fill-svg-light":"var(--accent-color-light)","--shape-fill-text-color":g,"--accent-color-dim":m,"--accent-color-light":x}},$=e=>{var t;let{config:n}=e,i=r.T5[n.roundness].blockRadius,a=null==(t=r.OE[n.buttonRoundness])?void 0:t.borderRadius,{shapeBorderEm:s,lineThicknessEm:l}=r.ws[n.shapeBorder];return{"--box-border-radius":"sm"===n.roundness&&s>0?"1px":"".concat(i,"em"),"--shape-border-width":"".concat(s,"em"),"--line-thickness":"max(round(".concat(l,"em, 1px), 1px)"),"--button-border-radius":a}},Y=e=>{let{cardColor:t,config:n}=e,i=(0,s.Ik)(t),l=r.kI[n.shapeShadow],o=r.ws[n.shapeBorder].shadowSizeEm;if("getShadow"in l)return{"--shape-shadow":l.getShadow(i),"--clickable-shadow":l.getClickShadow(i),"--shape-filter":l.shapeFilter};{let{shadowDistance:e,shadowBlur:n,shadowColorScheme:i,pdfShadow:r}=l,s="block"===i?void 0:X(t),c="0 0.25em 0.375em -0.0625em rgba(0, 0, 0, 0.1), 0 0.125em 0.25em -0.0625em rgba(0, 0, 0, 0.06)";return a.rS&&!r?{"--shape-shadow":"none","--clickable-shadow":"none","--shape-filter":"none"}:0===e&&"0"===n?{"--shape-shadow":"none","--clickable-shadow":c}:{"--shape-shadow-size":"".concat(e*o,"em"),"--shape-shadow-blur":n,"--shape-shadow-color":s,"--clickable-shadow":c,"--shape-filter":void 0}}},X=e=>{let t=(0,s.Ik)(e);return .35>(0,i.VU)(t)?(0,i.$3)("white",.25):(0,i.$3)((0,i.PE)(t,.2),.125)},ee={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg-rtl, var(--shape-bg-image-svg)) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(calc(-1 * var(--shape-shadow-size)) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(_,"))")},et={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-rtl, var(--shape-fill-svg)))"},en={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},ei={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},ea=()=>({[".".concat(j)]:ee,[".".concat(E)]:et,[".".concat(S)]:en,[".".concat(M)]:ei})},45234:(e,t,n)=>{"use strict";n.d(t,{f:()=>w});var i=n(37243),a=n(83902),r=n(73326),s=n(12117),l=n(46957),o=n(6029),c=n(55729),d=n(20887),u=n(54765),p=n(71737),h=n(15587),g=n(66082),m=n(21699),x=n(25778),f=n(43634),b=n(13932),C=n(22685);let y=e=>{let{position:t,...n}=e,{editor:i,getPos:a,node:s,decorations:l}=n,{position:c,size:d}=s.attrs,p=(0,x.GV)(f.nD);return(0,o.jsx)(u.u,{...n,children:p?(0,o.jsx)(b.M,{editor:i,getPos:a,node:s,decorations:l,position:c,size:d,children:(0,o.jsx)(r.$p,{})}):(0,o.jsx)(C.L,{position:c,size:d,node:s,children:(0,o.jsx)(r.$p,{})})})},v=e=>{let{node:t,decorations:n,editor:i}=e,{position:a}=t.attrs,s=(0,h.v)(n),l=(0,m.Ms)(n),x=(0,g.fZ)(n),{horizontalAlign:f,fontSize:b,placeholder:C}=t.attrs,v=(0,g.yp)(f),w="left"===f&&"ltr"===x||"right"===f&&"rtl"===x,[A,k]=(0,c.useState)(!1),L=l&&s&&(!f||w)&&!(0,p.NO)(i)&&!C||A;return a?(0,o.jsx)(y,{position:a,...e}):(0,o.jsxs)(u.u,{...e,style:{position:"relative"},children:[(0,o.jsx)(r.$p,{dir:x,"data-font-size":b,"data-multiline-placeholder":C,style:{textAlign:v.textAlign}}),L&&(0,o.jsx)(d.B,{...e,dir:x,slashMenuOpen:A,setSlashMenuOpen:k})]})},w=a.A.extend({name:"paragraph",group:"block cardNotesBlock",selectable:!1,addNodeView:()=>(0,r.gu)(v,{update:l.z0}),allowFontSizes:"body",addAttributes:()=>({fontSize:s.mD}),parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,i.KV)(t,{class:"paragraph"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e;return["p",t,0]}})},45318:(e,t,n)=>{"use strict";n.d(t,{V:()=>m});var i=n(6029),a=n(49611),r=n(55597),s=n(48621),l=n(19564),o=n(37537),c=n(27002),d=n(99038),u=n(25778),p=n(35292),h=n(94844),g=n(55084);let m=e=>{let{onClick:t,image:n,backFrom:m}=e,x=(0,c.u)("buddyEditGa"),{toggleBuddyChatPanel:f,isBuddyChatPanelOpen:b}=(0,h.n)(),{toggleBuddyChatPanel:C,isBuddyChatPanelOpen:y}=(0,o.Cy)(),v=(0,u.jL)();return(0,p.l)(n)?(0,i.jsx)(a.$,{size:"sm",variant:"special",leftIcon:(0,i.jsx)(s.g,{icon:r.p7g}),onClick:()=>{x?y||C():!b&&(f(),m&&v((0,g.Po)(m))),t()},children:x?(0,i.jsx)(l.x6,{id:"0aK6vE",values:{AGENT_PROPER_NOUN:d.qV}}):(0,i.jsx)(l.x6,{id:"xWEvuo"})}):null}},45485:(e,t,n)=>{"use strict";n.d(t,{vT:()=>i.vT,nk:()=>i.nk,ez:()=>i.ez});var i=n(89942);n(32617),n(79101),n(85443),n(11390)},45574:(e,t,n)=>{"use strict";n.d(t,{Df:()=>a.Df,Ki:()=>a.Ki,Q8:()=>i.Q,X6:()=>a.X6,bY:()=>a.bY,um:()=>a.um,wH:()=>a.wH,wt:()=>a.wt,yK:()=>a.yK});var i=n(14812),a=n(16595)},45611:(e,t,n)=>{"use strict";n.d(t,{K:()=>g,e:()=>d});var i=n(29614),a=n(90047),r=n(56939),s=n(73099),l=n(98088),o=n(6181),c=n(95011);let d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=e.replace(/<icon([^>]*?)\/?\s*>/gi,"<icon$1></icon>");let d=new DOMParser().parseFromString(e,"text/html");if(p(d),t.removeImagesFromLayouts){var n;u(d,(null==(n=t.imageOptions)?void 0:n.provider)||"aiGenerated"),h(d)}let g=(0,o.gx)(),m=(0,s.h)(d,"img[searches], img[query], icon[query]").map(async e=>{var n,r,s,l,o,d,u,p,h;let m;if(e.getAttribute("bookmark"))return;let x=e.getAttribute("query")||e.getAttribute("prompt")||"",f=null==(n=t.imageOptions)?void 0:n.generateStyle,b=null==(r=t.imageOptions)?void 0:r.stylePreset,C=null==(s=t.imageOptions)?void 0:s.artStylePreset,y=null==(l=t.imageOptions)?void 0:l.artStylePrompt,v=null==(o=t.imageOptions)?void 0:o.visualsMenuEnabled,w="icon"===e.tagName.toLowerCase()||"icon"===e.getAttribute("type"),A=e.getAttribute("provider");if(A)m=A;else{let e=(null==(p=t.imageOptions)?void 0:p.provider)=="auto"?"aiGenerated":null==(h=t.imageOptions)?void 0:h.provider;m=w?"fontawesome":e||"web"}let k=(0,a.eG)({query:x,provider:m,license:null==(d=t.imageOptions)?void 0:d.license,model:null==(u=t.imageOptions)?void 0:u.model,stylePrompt:f,stylePreset:b,artStylePreset:C,artStylePrompt:y,visualsMenuEnabled:v}),L=new c.t,j=t.loadImages?await (0,a.ap)({loadImageId:k.loadImageId,loadImageParams:k.loadImageParams,context:{workspaceId:g},imageStore:L}):{};e.setAttribute(i.A0,JSON.stringify({...k,...j}))}),x=(0,s.h)(d,"diagram[prompt]").map(async e=>{let t=e.getAttribute("prompt"),n=e.getAttribute("variant"),a=e.getAttribute("language");if(!t||!n)return void console.warn("Smart diagram missing prompt or variant",e);if(!(0,r.aK)(n))return void console.warn("Invalid smart diagram variant",n);let s=(0,l.z)();e.setAttribute(i.A0,JSON.stringify({id:s,aiGenerateParams:{prompt:t,language:a||void 0},aiGenerateStatus:"queued",templateKey:n}))});return await Promise.all([...m,...x]),d.body.innerHTML}catch(t){return console.error("Error transforming AI HTML",t),e}},u=(e,t)=>{if("none"===t)return void e.querySelectorAll('img:not([type="icon"])').forEach(e=>{e.hasAttribute("src")||e.remove()})},p=e=>{let t=e.getElementsByTagName("*");for(let e=0;e<t.length;e++){let n=t[e],i=n.style.textAlign;n.removeAttribute("style"),i&&(n.style.textAlign=i)}},h=e=>{e.querySelectorAll("section").forEach(e=>{if(!e.querySelector("div.body"))return;let t=e.querySelector(":scope > img:not(.accent-image)");t&&t.classList.add("accent-image")})},g=e=>{try{let t=e.getAttribute(i.A0);return JSON.parse(t||"")}catch(t){return console.error("[Image] Error parsing ".concat(i.A0," attrs"),e,t),!1}}},45666:(e,t,n)=>{"use strict";n.d(t,{g:()=>g}),n(831);var i=n(91938),a=n(27002),r=n(67097),s=n(5541),l=n(6272),o=n(19521),c=n(32756),d=n(96104),u=n.n(d);let p=async(e,t)=>{let n=e.split(" ")[0],a="".concat(i.$.FRONTEND_URL,"/api/icons/search?count=5&query=").concat(n);try{var r;let e=await fetch(a,{credentials:"include",signal:null==t?void 0:t.signal}),n=null==(r=await e.json())?void 0:r.data;if(!n||0===n.length)return console.warn("[fetchIcons] No icons found. Using default set"),u()(h);return console.debug("[AI fetchIcons] fetched icons",n),n}catch(e){return console.error("(caught) [fetchIcons] fetchResults:",e),u()(h)}},h=[c.X46,c.$UM,c.yy,c.DN2,c.us_,c.A4h].map(e=>{let t=(0,o.Kk)(e),[n,a]=t.icon;return{id:e.iconName,provider:"fa",styles:["light"],src:"".concat(i.$.FRONTEND_URL,"/api/icons/").concat(e.iconName,".svg?provider=fa&style=light"),html:t.html[0],width:n,height:a}}),g=async e=>{let{query:t,provider:n,options:i={},count:o=35,prefetch:c=!1,traceparent:d,abortController:u}=e,h="web"===n?a.of.get("webImageProviderType"):void 0;if("fontawesome"===n)return(await p(t,u)).map(e=>({id:e.id,imageUrl:e.src,width:e.width,height:e.height,attributionUrl:"",thumbnailUrl:"",credit:""}));let g=m({query:t,provider:n,options:{type:h,...i},count:o}),x={};d&&(x["aijsx-traceparent"]=d);try{let e=await (0,s.X)(g,{credentials:"include",signal:null==u?void 0:u.signal,headers:x}),t=await e.json();if(!((null==t?void 0:t.length)>=0))throw Error(t);return c&&Promise.all(t.map(e=>(0,r.GV)(e.imageUrl))).then(()=>{console.debug("[fetchImageSearchResults] images downloaded in background")}).catch(e=>{console.debug("[fetchImageSearchResults] error downloading image:",e)}),t}catch(e){if((0,l.z)(e))throw e;return console.error("(caught) [fetchImages] fetchResults:",e),[]}},m=e=>{let{query:t,count:n,provider:a,options:r={}}=e,s=new URLSearchParams,l=i.$.API_HOST||"https://api.gamma.app";return s.append("query",t),s.append("provider",a),s.append("count",String(n)),Object.entries(r).forEach(e=>{let[t,n]=e;void 0!==n&&s.append(t,String(n))}),"".concat(l).concat("/media/images/search","?").concat(s.toString())}},45934:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var i=n(51684),a=n(77650);let r={key:"image.pictographic.icon",featureFlag:"pictographicIconsSearch",label:()=>a.Ru._({id:"aW5SOA"}),description:()=>a.Ru._({id:"cR6GgR"}),icon:i.g3w,keywords:["pictographic","icons","illustrations"]}},45943:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>h,kf:()=>m,tE:()=>g});var i=n(37243),a=n(15902),r=n(63867),s=n(15607),l=n(15577),o=n(70006),c=n(23513),d=n(9893),u=n(37327);let p=e=>"gallery"===e.type.name,h=(e,t,n)=>{var d;let h=f(n);if(h.length>0)return h.forEach(t=>{let{mark:n}=t;(0,u.E0)(n)||(0,u.uI)(n.attrs.href,e)}),!1;let m=null==(d=t.clipboardData)?void 0:d.getData("text/plain");if(!m||!g(m))return!1;let{selection:b}=e.state;if(b instanceof r.U3&&!b.empty)return t.preventDefault(),x(e,m),!0;if(m.match(o.D_)||(0,l.Zj)(m))return!1;if(!e.schema.nodes.embed)return(0,u.uI)(m,e),!1;let C=b instanceof a.n,y=b.empty&&["paragraph","heading","title"].includes(b.$from.parent.type.name)&&(0,s.Op)(b.$from.parent),v=p(b.$from.parent),w=(0,i.BQ)(b)&&p(b.node);if(!(y||v||w||C))return(0,u.uI)(m,e),!1;let A=b.from-1,k=w?{from:b.to-1,to:b.to-1}:y?{from:A,to:A+b.$from.parent.nodeSize}:{from:b.from,to:b.to};return e.chain().setTextSelection(k).insertEmbedAndFetchMetadata(m,void 0,!0).command(e=>{let{tr:t}=e,n=(0,c.i)(t);return n&&t.setSelection(n),!0}).run(),!0},g=e=>(0,l.Se)(e)&&!e.includes("\n")&&(0,l.AY)(e),m=e=>1===e.content.childCount&&e.content.firstChild.isTextblock&&g(e.content.firstChild.textContent),x=(e,t)=>{e.commands.setMark(d.N.name,{href:t}),(0,u.uI)(t,e)},f=e=>{let t=[];return e.content.descendants((e,n)=>{e.marks.filter(e=>"link"===e.type.name).forEach(e=>{t.push({mark:e,pos:n})})}),t}},46007:(e,t,n)=>{"use strict";n.d(t,{PQ:()=>l,QC:()=>u,ZD:()=>s,cZ:()=>o,eT:()=>c,z3:()=>d});var i=n(89557),a=n(16419),r=n.n(a);function s(e){return e===i.A.pdf}function l(e,t){let n=t.toLocaleLowerCase();return"text/csv"===e||"application/csv"===e||"csv"===n}function o(e,t){var n,a;return s(e)||(n=e)===i.A.doc||n===i.A.docx||"ppt"===(a=(a=t).toLocaleLowerCase())||"pptx"===a}function c(e){return"otf"===(e=e.toLocaleLowerCase())||"ttf"===e}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n])},u=e=>e.name&&r()(e.name.split("."))||""},46091:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6029);n(55729);var a=n(82328);let r=e=>t=>{let{isInOfflineMode:n}=(0,a.u)();return n?null:(0,i.jsx)(e,{...t})}},46211:(e,t,n)=>{"use strict";n.d(t,{Up:()=>i.U,MN:()=>s,hb:()=>l,TV:()=>c,qD:()=>d,mx:()=>u,GQ:()=>p.G,uF:()=>g,fo:()=>x.f,Zd:()=>y,Pl:()=>v.P,fG:()=>w,RA:()=>A,yj:()=>k,UX:()=>L,Oz:()=>j,Ve:()=>E,OO:()=>S,fX:()=>M,NR:()=>q,Dc:()=>J,sI:()=>I,Dr:()=>_,Il:()=>m,un:()=>R.u,xT:()=>D.x,sS:()=>z,fb:()=>H,st:()=>N,Ow:()=>B,w:()=>F,V2:()=>V,ap:()=>O,ae:()=>Z.a,O5:()=>W,Rn:()=>U.R,Jp:()=>G.J,r9:()=>K,N$:()=>Q});var i=n(40061),a=n(51684),r=n(77650);let s={label:()=>"Airtable",key:"embed.airtable",description:()=>r.Ru._({id:"KlL5LU"}),icon:a.Qte,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/airtable.e403549a.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/airtable.com/,categories:["app","form"],defaultDisplayStyle:"inline",inlineInteractive:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{try{if(e.includes("/embed/"))return e;let t=new URL(e);return t.pathname="/embed".concat(t.pathname),t.toString()}catch(t){return e}},keywords:["airtable","database","spreadsheet","table"]},l={label:()=>"Amplitude",key:"embed.amplitude",keywords:["amplitude","analytics"],description:()=>r.Ru._({id:"wa1wV8"}),icon:a.q9c,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/amplitude.5828f141.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/analytics.amplitude.com/};var o=n(81107);let c={key:"image.bing",label:()=>r.Ru._({id:"2V6hMo"}),icon:o.uu9,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/bing.0f94cfbe.svg",height:1024,width:678,blurWidth:0,blurHeight:0},keywords:["image","photo","bing","pic"]},d={label:()=>"Calendly",key:"embed.calendly",description:()=>r.Ru._({id:"grPhlY"}),icon:a.okg,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/calendly.d1a57857.svg",height:150,width:150,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/calendly.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["calendly","meeting","schedule","appointment"]},u={label:()=>r.Ru._({id:"bk8Zu0"}),key:"image.custom",description:()=>r.Ru._({id:"RPwTMJ"}),icon:a.Cyq,keywords:["image","upload"],resizeToFit:!0};var p=n(77569),h=n(4765);let g={label:()=>"Figma",key:"embed.figma",icon:o.slN,keywords:["design","prototype","wireframe","figjam","whiteboard"],description:()=>r.Ru._({id:"riUMyL"}),image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/figma.14e7d0c1.svg",height:2500,width:1667,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.figma.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if(e.includes("embed.figma.com"))return e;let t=e.match(/figma\.com\/(file|proto|design|board)\/([^/?]+)\/([^/?]+)/);if(!t)return e;let[,n,i,a]=t;try{return"https://embed.figma.com/".concat(n,"/").concat(i,"/").concat(a,"?embed-host=share")}catch(t){return console.error("[FigmaProvider] Error rewriting Figma URL: ".concat(t)),h.l7("figmaEmbedData",{type:n,designId:i,title:a,url:e}),h.Cp(t),e}}},m={label:()=>r.Ru._({id:"T4i0+p"}),key:"embed.pdf",description:()=>r.Ru._({id:"8CswFW"}),icon:a.XYS,urlRegex:/\.(pdf|csv)$/,iframeOptions:{noSandbox:!0},downloadable:!0,keywords:["pdf","doc","upload","file","csv","spreadsheet"]};var x=n(83740),f=n(99038),b=n(15577),C=n(70006);let y={label:()=>"Gamma embed",key:"embed.gamma",icon:a.c9S,keywords:["embed"],description:()=>r.Ru._({id:"XLlwPZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:f.TP}}),image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/GammaIconLogoSquareGradient.b0f7e174.svg",height:40,width:40,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.|staging\.)?gamma.app/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if((0,C.fS)(e))return e;let t=(0,C.TY)(e),n=(0,b.t$)(e)||"gamma.app";return"https://".concat(n,"/embed/").concat(t)}};var v=n(49106);let w={label:()=>"Google Drive",key:"embed.gdrive",description:()=>r.Ru._({id:"1q3pN1",values:{SHEETS_PROPER_NOUN:"Sheets",DOCS_PROPER_NOUN:"Docs",SLIDES_PROPER_NOUN:"Slides",GAMMA_ARTIFACT_PROPER_NOUN:f.TP}}),icon:o.xG9,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/google-drive.2d314cf9.svg",height:78,width:87,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/docs.google.com\//,canEmbedPrivate:!0,rewriteEmbedUrl:e=>{if(!e.includes("/presentation/"))return new URL(e.replace("/preview","/edit")).toString();{let t=new URL(e.replace("/edit","/preview"));return t.searchParams.set("rm","minimal"),t.toString()}},keywords:["docs","sheet","slide","gdrive","document"]},A={label:()=>"Google Form",key:"embed.google.form",description:()=>r.Ru._({id:"sgbNf4"}),icon:o.xG9,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/google-form.c5494f4d.svg",height:66,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/docs.google.com\/forms/,canEmbedPrivate:!0,keywords:["google form","form","survey","questionnaire"],defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},k={key:"image.google",label:()=>r.Ru._({id:"h2JWN5"}),icon:o.FjH,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/google-image.5d5a5835.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["image","photo"]},L={key:"color.gradient",label:()=>r.Ru._({id:"/S8bMP"}),description:()=>r.Ru._({id:"/XRwS6"}),icon:a.S7o,keywords:["gradient","color","mesh"]},j={label:()=>"Instagram",key:"embed.instagram",icon:o.QV6,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/instagram.d0a61bd7.svg",height:132,width:132,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.instagram.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},inlineInteractive:!0,preferHtml:!0,keywords:["instagram","insta","social"],minWidth:"328px"},E={label:()=>"Jotform",key:"embed.jotform",description:()=>r.Ru._({id:"7yLOnm"}),icon:a.n2$,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/jotform.0a55e4a9.svg",height:334,width:304,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/form\.jotform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["jotform","form","survey","questionnaire"]},S={key:"image.lexica",featureFlag:"lexicaImageSearch",label:()=>r.Ru._({id:"cSVX+F"}),description:()=>r.Ru._({id:"RdyK6U"}),image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/lexica.8699ff3f.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXH///+/v78xMTG2trYNDQ0SEhKwsLC6urqnp6cTTeQWAAAACnRSTlMAAd82rxZZ466vHPM4JQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJxjYGBgZmYAAUYGTnYog4MJymDBYCCk2FlZwQxmNjY2VgYADLgAbROHxbEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},keywords:["ai","lexica","stable diffusion","generated","photo","photography","image"]},M={key:"video.loom",label:()=>r.Ru._({id:"yrPgHm"}),description:()=>r.Ru._({id:"NMTPSf"}),icon:a.n2W,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/loom.a033778e.svg",height:190,width:190,blurWidth:0,blurHeight:0},urlRegex:/^https:\/\/www.loom.com/,rewriteEmbedUrl:e=>{if(!e.includes("/embed/"))return e;let t=new URL(e);return t.searchParams.set("hideEmbedTopBar","true"),t.toString()},keywords:["video","recording","loom","screen"]},I={key:"embed.microsoft.office",label:()=>"Office 365",description:()=>r.Ru._({id:"cbRq5v",values:{MICROSOFT_PROPER_NOUN:"Microsoft",WORD_PROPER_NOUN:"Word",POWERPOINT_PROPER_NOUN:"PowerPoint",EXCEL_PROPER_NOUN:"Excel",ONENOTE_PROPER_NOUN:"OneNote"}}),icon:o.uu9,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/office-365.868363a8.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/.*\.sharepoint\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{let t=new URL(e.replace("/:p:/r","").replace("/doc2.aspx","/Doc.aspx"));return t.searchParams.set("action","embedview"),t.searchParams.delete("mobileredirect"),t.toString()},keywords:["word","excel","powerpoint","office","microsoft","msoffice"]},_={label:()=>r.Ru._({id:"yA1Sb+",values:{MIRO_PROPER_NOUN:"Miro"}}),key:"embed.miro",icon:a.Kuo,description:()=>r.Ru._({id:"Px3dYF"}),image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/miro.78878247.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/miro.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,iframeOptions:{allowPopups:!0},keywords:["whiteboard","workshop","brainstorm","miro"],rewriteEmbedUrl:e=>(e.includes("/embed/")||e.includes("/live-embed/")||(e=e.replace("/board/","/embed/")),e.includes("embedAutoplay=")||(e+=(e.includes("?")?"&":"?")+"embedAutoplay=true&autoplay=yep"),e)};var D=n(83658),R=n(45934),T=n(55597);let z={key:"embed.microsoft.powerbi",label:()=>"PowerBI",image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/powerbi.94baf198.svg",height:630,width:630,blurWidth:0,blurHeight:0},icon:T.hem,urlRegex:/^https?:\/\/app\.powerbi\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},keywords:["microsoft","powerbi"]},H={label:()=>r.Ru._({id:"toutGW"}),key:"image.qrCode",icon:n(99492).Yop,keywords:["qr","qrcode"],resizeToFit:!0},N={label:()=>"Spotify",key:"video.spotify",keywords:["spotify","music","podcast","playlist","song","album"],description:()=>r.Ru._({id:"lrKTd0"}),icon:o.QEP,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/spotify.2dd06f33.svg",height:1333,width:1333,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/open.spotify.com/,preferHtml:!0},B={label:()=>"Tally Form",key:"embed.tally",description:()=>r.Ru._({id:"Qzo1BZ"}),icon:a.n2$,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/tally.dd047104.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXE0E101El/WGcw0EV71GOI0E1ouBVgwEVs1EmAzEl40El9uFIbjG9v/Hu+cF6U3E1//HPTo62sPAAAAEnRSTlMAXX1kJiNdBtn+7KX26aH8oEjnHZjJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANUlEQVR4nC3GQRKAIAzF0CjF9isK3v+yDB3eJsE3LJLBI0kDsFvqP8Cp9n4V8IiyCteB56QJO9EBVMm1x1cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},urlRegex:/^https?:\/\/tally.so/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},P=/\/video\/(\d+)/,F={label:()=>"TikTok",key:"video.tiktok",icon:o.AIX,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/tiktok.cbd7f7ff.svg",height:256,width:256,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.tiktok.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},preferHtml:!0,rewriteEmbedUrl(e){var t;let n=null==(t=e.match(P))?void 0:t[1];return n?"https://www.tiktok.com/embed/v2/".concat(n):e},keywords:["tiktok","video","social"],minWidth:"325px",maxWidth:"325px"},V={key:"embed.twitter",label:()=>"Tweet",icon:o.HQ1,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/twitter.c7499c85.svg",height:1110,width:1110,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.)?twitter\.com/,keywords:["twitter","tweet"],preferHtml:!0,defaultDisplayStyle:"inline",inlineInteractive:!0},O={label:()=>"Typeform",key:"embed.typeform",description:()=>r.Ru._({id:"yjYR46"}),icon:T.n2$,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/typeform.6d709d2e.svg",height:800,width:800,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/([a-z0-9]*\.)?typeform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["typeform","form","survey","questionnaire"]};var Z=n(93043);let W={key:"video.vimeo",label:()=>r.Ru._({id:"M1Uyl1"}),icon:o.vYD,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/vimeo.4de20653.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(player\.)?vimeo\.com/,keywords:["vimeo","video"]};var U=n(14368),G=n(83488);let K={label:()=>"Wistia",key:"video.wistia",icon:a.n2W,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/wistia.613af213.svg",height:1899,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/fast.wistia.net/,keywords:["wistia","video"]},Q={key:"video.youtube",label:()=>r.Ru._({id:"7J5KkU"}),icon:o.B4m,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/youtube.b0610934.svg",height:461,width:461,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www\.youtube\.com/,keywords:["youtube","video"]},q=[c,v.P,k,U.R,S,Z.a,Q,M,g,A,w,G.J,u,H,i.U,I,z,V,W,p.G,m,_,s,l,K,N,F,j,L,x.f,d,O,E,B,y,D.x,R.u],J=Object.fromEntries(Object.values(q).flat().map(e=>[e.key,e]))},46450:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var i=n(88586);let a=e=>{let{data:t,loading:n,error:a,refetch:r}=(0,i.qv0)({variables:{workspaceId:null!=e?e:""},skip:!e}),s=null==t?void 0:t.creditsAutoPurchase;return{rechargeEnabled:null==s?void 0:s.enabled,rechargeThreshold:(null==s?void 0:s.enabled)?null==s?void 0:s.creditsThreshold:void 0,rechargeAmount:(null==s?void 0:s.enabled)?null==s?void 0:s.creditsToAdd:void 0,latestPurchaseTime:null==s?void 0:s.latestPurchaseTime,latestPurchaseStatus:null==s?void 0:s.latestPurchaseStatus,loading:n,error:a,refetch:r}}},46510:(e,t,n)=>{"use strict";n.d(t,{M5:()=>c,Vk:()=>s,rj:()=>l,wC:()=>o});var i=n(23460),a=n(19297);let r=e=>{var t;let{view:n,event:i}=e,a=null==(t=n.posAtCoords({left:i.clientX,top:i.clientY}))?void 0:t.inside;if(!a||-1==a)return null;let{doc:r}=n.state,s=r.nodeAt(a);return{pos:a,node:s}},s=(e,t,n)=>{var s;if(n&&!(0,a.Ny)(n,e.state.schema)||!((null==(s=t.target)?void 0:s.hasAttribute("data-media-node-wrapper"))||(0,i.xX)(t.target,e.dom,e=>e.hasAttribute("data-media-node-wrapper"))))return null;let o=r({view:e,event:t});if(!o||n&&n.content.firstChild===o.node)return null;let c=l(t.target,e);return c&&o.node?{pos:o.pos,node:o.node,side:c}:null},l=(e,t)=>{let n=(0,i.GE)(e,t.dom,"data-media-add-side");return null==n?void 0:n.getAttribute("data-media-add-side")},o=e=>{let{side:t,pasteContent:n,node:i}=e;return{type:"gridLayout",content:[{type:"gridCell",content:"left"===t?n:[i.toJSON()]},{type:"gridCell",content:"left"===t?[i.toJSON()]:n}]}},c=e=>{let{side:t,node:n}=e;return"left"===t?2:n.nodeSize+4}},46617:(e,t,n)=>{"use strict";n.d(t,{BM:()=>r,ZS:()=>i,eK:()=>a});let i=4,a={type:"gridCell",content:[{type:"paragraph"}]},r="gridLayout"},46675:(e,t,n)=>{"use strict";n.d(t,{HT:()=>c,Wz:()=>p,lz:()=>u});var i=n(94289),a=n(63867),r=n(97255),s=n(96197),l=n(48413),o=n(14503);class c extends a.LN{map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if((0,o.NH)(n)&&(0,o.NH)(i)&&(0,o.kV)(n,i)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?c.rowSelection(n,i):e&&this.isColSelection()?c.colSelection(n,i):new c(n,i)}return a.U3.between(n,i)}content(){let e=this.$anchorCell.node(-1),t=l.J.get(e),n=this.$anchorCell.start(-1),a=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},s=[];for(let n=a.top;n<a.bottom;n++){let l=[];for(let i=n*t.width+a.left,s=a.left;s<a.right;s++,i++){let n=t.map[i];if(!r[n]){r[n]=!0;let i=t.findCell(n),s=e.nodeAt(n),c=a.left-i.left,d=i.right-a.right;if(c>0||d>0){let e=s.attrs;c>0&&(e=(0,o.Pn)(e,0,c)),d>0&&(e=(0,o.Pn)(e,e.colspan-d,d)),s=i.left<a.left?s.type.createAndFill(e):s.type.create(e,s.content)}if(i.top<a.top||i.bottom>a.bottom){let e=(0,o.ob)(s.attrs,"rowspan",Math.min(i.bottom,a.bottom)-Math.max(i.top,a.top));s=i.top<a.top?s.type.createAndFill(e):s.type.create(e,s.content)}l.push(s)}}s.push(e.child(n).copy(i.FK.from(l)))}let c=this.isColSelection()&&this.isRowSelection()?e:s;return new i.Ji(i.FK.from(c),1,1)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Ji.empty,n=e.steps.length,r=this.ranges;if(0===t.size){if(this.isSelectingAllCells())return void(0,s.CG)(this,e);if(this.isRowSelection())return void(0,s.QN)(this,e);if(this.isColSelection())return void(0,s.Kl)(this,e)}for(let a=0;a<r.length;a++){let{$from:s,$to:l}=r[a],o=e.mapping.slice(n);e.replace(o.map(s.pos),o.map(l.pos),a?i.Ji.empty:t)}let l=a.LN.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);l&&e.setSelection(l)}replaceWith(e,t){this.replace(e,new i.Ji(i.FK.from(t),0,0))}getTableNode(){return this.$anchorCell.node(-1)}isSelectingAllCells(){return l.J.get(this.$anchorCell.node(-1)).map.length===this.ranges.length}everyCell(e){let t=!0;return this.forEachCell((n,i)=>{e(n,i)||(t=!1)}),t}forEachCell(e){let t=this.$anchorCell.node(-1),n=l.J.get(t),i=this.$anchorCell.start(-1),a=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let n=0;n<a.length;n++)e(t.nodeAt(a[n]),i+a[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=l.J.get(e.node(-1)),i=e.start(-1),a=n.findCell(e.pos-i),r=n.findCell(t.pos-i),s=e.node(0);return a.top<=r.top?(a.top>0&&(e=s.resolve(i+n.map[a.left])),r.bottom<n.height&&(t=s.resolve(i+n.map[n.width*(n.height-1)+r.right-1]))):(r.top>0&&(t=s.resolve(i+n.map[r.left])),a.bottom<n.height&&(e=s.resolve(i+n.map[n.width*(n.height-1)+a.right-1]))),new c(e,t)}isRowSelection(){let e=l.J.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);return!(Math.min(n,i)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.colspan,i+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(e){return e instanceof c&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=l.J.get(e.node(-1)),i=e.start(-1),a=n.findCell(e.pos-i),r=n.findCell(t.pos-i),s=e.node(0);return a.left<=r.left?(a.left>0&&(e=s.resolve(i+n.map[a.top*n.width])),r.right<n.width&&(t=s.resolve(i+n.map[n.width*(r.top+1)-1]))):(r.left>0&&(t=s.resolve(i+n.map[r.top*n.width])),a.right<n.width&&(e=s.resolve(i+n.map[n.width*(a.top+1)-1]))),new c(e,t)}toJSON(){return{type:"CellSelection2",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new c(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new c(e.resolve(t),e.resolve(n))}getBookmark(){return new d(this.$anchorCell.pos,this.$headCell.pos)}constructor(e,t=e){let n=e.node(-1),i=l.J.get(n),r=e.start(-1),s=i.rectBetween(e.pos-r,t.pos-r),o=e.node(0),c=i.cellsInRect(s).filter(e=>e!=t.pos-r);c.unshift(t.pos-r);let d=c.map(e=>{let t=n.nodeAt(e),i=e+r+1;return new a.yn(o.resolve(i),o.resolve(i+t.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=t,this.$anchorCell=e,this.$headCell=t}}if(!c.prototype.jsonID)try{a.LN.jsonID("CellSelection2",c)}catch(e){}class d{map(e){return new d(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&(0,o.kV)(t,n)?new c(t,n):a.LN.near(n,1)}constructor(e,t){this.anchor=e,this.head=t,this.anchor=e,this.head=t}}function u(e){if(!(e.selection instanceof c))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(r.NZ.node(n,n+e.nodeSize,{class:"selectedCell"}))}),r.zF.create(e.doc,t)}function p(e,t,n){let i,r,s=(t||e).selection,o=(t||e).doc;if(s instanceof a.nh&&(r=s.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)i=c.create(o,s.from);else if("row"==r){let e=o.resolve(s.from+1);i=c.rowSelection(e,e)}else if(!n){let e=l.J.get(s.node),t=s.from+1,n=t+e.map[e.width*e.height-1];i=c.create(o,t+1,n)}}else s instanceof a.U3&&function(e){let{$from:t,$to:n}=e;if(t.pos==n.pos||t.pos<t.pos-6)return!1;let i=t.pos,a=n.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,i++);for(let e=n.depth;e>=0&&!(n.before(e+1)>n.start(e));e--,a--);return i==a&&/row|table/.test(t.node(r).type.spec.tableRole)}(s)?i=a.U3.create(o,s.from):s instanceof a.U3&&function(e){let t,n,{$from:i,$to:a}=e;for(let e=i.depth;e>0;e--){let n=i.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){t=n;break}}for(let e=a.depth;e>0;e--){let t=a.node(e);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}return t!==n&&0===a.parentOffset}(s)&&(i=a.U3.create(o,s.$from.start(),s.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}},46957:(e,t,n)=>{"use strict";n.d(t,{R$:()=>l,w_:()=>r,z0:()=>s});var i=n(27002);n(6845);let a=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),i=t.filter(e=>Object.keys(e.spec).length>0),a=n.map(e=>JSON.stringify(e.spec)),r=i.map(e=>JSON.stringify(e.spec));return{removed:a.filter(e=>!r.includes(e)),added:r.filter(e=>!a.includes(e))}},r=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),i=t.filter(e=>Object.keys(e.spec).length>0);return n.length!==i.length||JSON.stringify(n.map(e=>e.spec))!==JSON.stringify(i.map(e=>e.spec))},s=e=>{let{newNode:t,oldNode:n,updateProps:s,oldDecorations:l,newDecorations:o}=e;if(JSON.stringify(t.attrs)!==JSON.stringify(n.attrs))return s(),!0;if(r(l,o)){if(i.of.get("debugLogging")){let e=a(l,o);console.debug("============== decos ================"),console.debug("decos changed",t.type.name),e.removed.length>0&&console.debug("%c  decos removed: ".concat(e.removed.join(" ")," "),"color: red"),e.added.length>0&&console.debug("%c  decos added:   ".concat(e.added.join(" ")," "),"color: green")}s()}return!0},l=e=>{let{newNode:t,oldNode:n,updateProps:i}=e;return t.content.childCount!==n.content.childCount?(i(),!0):s(e)}},46979:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(81498);class a{get data(){if(this._data)return this._data;let e=this.findIndices();if(e.labelsOnly){let t=this.source.columns.slice(e.from.column,e.to.column+1);return new i.h({columns:t,rows:[],cells:[]})}let t=this.source.rows.slice(e.from.row,e.to.row+1),n=this.source.columns.slice(e.from.column,e.to.column+1),a=t.flatMap(e=>n.map(t=>this.source.getCell({row:e.id,column:t.id}))).filter(e=>!!e);return new i.h({rows:t,columns:n,cells:a})}clear(){let e=this.findIndices(),{rows:t,columns:n}=this.source;for(let i=e.from.column;i<=e.to.column;i++){let a=n[i];if(this.includesLabels&&(a.label=""),!e.labelsOnly)for(let n=e.from.row;n<=e.to.row;n++){let e=t[n],i=this.source.getCell({row:e.id,column:a.id});i?i.clear():this.source.setEmptyCell(e,a)}}}includes(e){if("isLabel"in e)return this.includesLabelCell(e.column);let t=this.findIndices(),n=this.source.findCellIndex(e);return!!n&&!t.labelsOnly&&!!(t.from.row<=n.row)&&!!(t.to.row>=n.row)&&!!(t.from.column<=n.column)&&!!(t.to.column>=n.column)}includesLabelCell(e){if(!this.includesLabels)return!1;let t=this.source.columns.findIndex(t=>{let{id:n}=t;return n===e});if(t<0)return!1;let n=this.findIndices();return n.from.column<=t&&n.to.column>=t}findIndices(){let{rows:e,columns:t}=this.source,n=t.findIndex(e=>{let{id:t}=e;return t===this.from.column}),i=t.findIndex(e=>{let{id:t}=e;return t===this.to.column});if(!this.to.row)return{from:{column:n},to:{column:i},labelsOnly:!0};let a=e.findIndex(e=>{let{id:t}=e;return t===this.from.row}),r=e.findIndex(e=>{let{id:t}=e;return t===this.to.row});if(-1!==[a,r,n,i].indexOf(-1))throw Error("Invalid range");return{from:{row:a,column:n},to:{row:r,column:i},labelsOnly:!1}}static nonEmpty(e){function t(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.getLines(t);for(let t=n?i.length-1:0;t!==(n?-1:i.length);n?t--:t++){let n=i[t];if(!n.isEmpty(e))return n}return null}let n=t("row"),i=t("row",!0),a=t("column"),r=t("column",!0);return n&&i&&a&&r?new this(e,{row:n.id,column:a.id},{row:i.id,column:r.id},!0):null}constructor(e,t,n,i=!1){this.source=e,this.from=t,this.to=n,this.includesLabels=i,this._data=void 0}}},47562:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var i=n(6029),a=n(26420),r=n(48810),s=n(99492),l=n(48621),o=n(33170),c=n(19564),d=n(77650),u=n(55729),p=n(49177),h=n(71093),g=n(67097);let m=e=>{let{src:t,...n}=e,[m,x]=(0,u.useState)(!1),{isZoomed:f,enterZoom:b,exitZoom:C}=(0,h.RL)(null!=t?t:"");return m?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Tz,{closeOnMouseDown:!0,closeOnClick:!0,label:(0,i.jsxs)(a.a,{as:"span",display:"inline",children:[(0,i.jsx)(l.g,{icon:s.bFI})," ",(0,i.jsx)(r.E,{display:"inline",children:(0,i.jsx)(c.x6,{id:"Dd9uag"})})]}),"aria-label":d.Ru._({id:"Dd9uag"}),placement:"top",shouldWrapChildren:!1,children:(0,i.jsx)(g.Me,{src:t,borderRadius:"md",h:"6em",onClick:()=>t&&b(),resizeParams:g.XS,transitionProperty:"common",transitionDuration:"normal",transform:"scale(0.95)",_hover:{transform:"scale(1)",shadow:"lg"},onError:()=>{x(!0)},...n})}),t&&(0,i.jsx)(p.Y,{isZoomed:f,exitZoom:C,src:t,alt:""})]})}},47695:(e,t,n)=>{"use strict";n.d(t,{w:()=>s,z:()=>l});var i=n(9118),a=n(62e3),r=n(43501);function s(e){let t=(0,a.J)(),n=(0,r.nM)(e.state.doc);return(0,i.xt)(n||t).englishName}let l=(e,t)=>{let n={...t};return e.step&&t.step&&Array.isArray(e.step)&&Array.isArray(t.step)&&(n.step=t.step.map((t,n)=>{let i=e.step[n],a={...t};return(null==i?void 0:i.icon)&&(a.icon=i.icon),(null==i?void 0:i.image)&&(a.image=i.image),a})),e.general&&t.general&&Array.isArray(e.general)&&Array.isArray(t.general)&&(n.general=t.general.map((t,n)=>{let i=e.general[n],a={...t};return(null==i?void 0:i.icon)&&(a.icon=i.icon),(null==i?void 0:i.image)&&(a.image=i.image),a})),n}},48413:(e,t,n)=>{"use strict";let i,a;if(n.d(t,{J:()=>s,r:()=>r}),"undefined"!=typeof WeakMap){let e=new WeakMap;i=t=>e.get(t),a=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;i=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},a=(n,i)=>(10==t&&(t=0),e[t++]=n,e[t++]=i)}class r{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class s{findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let i=t%this.width,a=t/this.width|0,s=i+1,l=a+1;for(let e=1;s<this.width&&this.map[t+e]==n;e++)s++;for(let e=1;l<this.height&&this.map[t+this.width*e]==n;e++)l++;return new r(i,a,s,l)}throw RangeError("No cell with offset "+e+" found")}firstRowCells(){return this.map.slice(0,this.width)}firstColCells(){return this.map.filter((e,t)=>t%this.width==0)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:i,right:a,top:r,bottom:s}=this.findCell(e);return"horiz"==t?(n<0?0==i:a==this.width)?null:this.map[r*this.width+(n<0?i-1:a)]:(n<0?0==r:s==this.height)?null:this.map[i+this.width*(n<0?r-1:s)]}rectBetween(e,t){let{left:n,right:i,top:a,bottom:s}=this.findCell(e),{left:l,right:o,top:c,bottom:d}=this.findCell(t);return new r(Math.min(n,l),Math.min(a,c),Math.max(i,o),Math.max(s,d))}cellsInRect(e){let t=[],n={};for(let i=e.top;i<e.bottom;i++)for(let a=e.left;a<e.right;a++){let r=i*this.width+a,s=this.map[r];!n[s]&&(n[s]=!0,a==e.left&&a&&this.map[r-1]==s||i==e.top&&i&&this.map[r-this.width]==s||t.push(s))}return t}positionAt(e,t,n){for(let i=0,a=0;;i++){let r=a+n.child(i).nodeSize;if(i==e){let n=t+e*this.width,i=(e+1)*this.width;for(;n<i&&this.map[n]<a;)n++;return n==i?r-1:this.map[n]}a=r}}static get(e){return i(e)||a(e,function(e){if("table"!=e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let i=0;i<e.childCount;i++){let a=e.child(i),r=0;if(n)for(let t=0;t<i;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let a=n.child(e);t+a.attrs.rowspan>i&&(r+=a.attrs.colspan)}}for(let e=0;e<a.childCount;e++){let t=a.child(e);r+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=r:t!=r&&(t=Math.max(t,r))}return t}(e),n=e.childCount,i=[],a=0,r=null,l=[];for(let e=0,a=t*n;e<a;e++)i[e]=0;for(let s=0,o=0;s<n;s++){let c=e.child(s);o++;for(let e=0;;e++){for(;a<i.length&&0!=i[a];)a++;if(e==c.childCount)break;let d=c.child(e),{colspan:u,rowspan:p,colwidth:h}=d.attrs;for(let e=0;e<p;e++){if(e+s>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:o,n:p-e});break}let c=a+e*t;for(let e=0;e<u;e++){0==i[c+e]?i[c+e]=o:(r||(r=[])).push({type:"collision",row:s,pos:o,n:u-e});let n=h&&h[e];if(n){let i=(c+e)%t*2,a=l[i];null==a||a!=n&&1==l[i+1]?(l[i]=n,l[i+1]=1):a==n&&l[i+1]++}}}a+=u,o+=d.nodeSize}let d=(s+1)*t,u=0;for(;a<d;)0==i[a++]&&u++;u&&(r||(r=[])).push({type:"missing",row:s,n:u}),o++}let o=new s(t,n,i,r),c=!1;for(let e=0;!c&&e<l.length;e+=2)null!=l[e]&&l[e+1]<n&&(c=!0);return c&&function(e,t,n){e.problems||(e.problems=[]);for(let i=0,a={};i<e.map.length;i++){let r=e.map[i];if(a[r])continue;a[r]=!0;let s=n.nodeAt(r),l=null;for(let n=0;n<s.attrs.colspan;n++){let a=t[2*((i+n)%e.width)];null==a||s.attrs.colwidth&&s.attrs.colwidth[n]==a||((l||(l=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}(s.attrs)))[n]=a)}l&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:l})}}(o,l,e),o}(e))}constructor(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i}}},48767:(e,t,n)=>{"use strict";n.d(t,{S:()=>C,o:()=>v});var i=n(6029),a=n(26420),r=n(55729),s=n(74158),l=n(48094),o=n(25778),c=n(6845),d=n(72688),u=n(87930),p=n(43634),h=n(89072),g=n(73326),m=n(58450),x=n(44811),f=n(58809);let b=e=>{let[t]=(0,r.useState)(()=>(0,x.U1)({reducer:o.Ki,middleware:e=>e({serializableCheck:!1})}));return(0,r.useEffect)(()=>{(null==e?void 0:e.doc)&&t.dispatch((0,f.Tm)({currentPage:e.doc}))},[e,t]),t},C=e=>{let{reduxData:t,...n}=e,a=b(t);return(0,i.jsx)(s.Kq,{store:a,children:(0,i.jsx)(y,{...n})})},y=e=>{let{onCreate:t=()=>{},initialContent:n,content:s,theme:x,isThumbnail:f,portalComponent:b}=e,[C,y]=(0,r.useState)(!1),v=(0,r.useMemo)(()=>(0,m.C)(),[]),w=(0,o.jL)();(0,r.useEffect)(()=>{w((0,p.Yl)({theme:x||null})),w((0,p.kd)({isAllowedToEdit:!1})),w((0,p.$j)({animationsEnabled:!1}))},[x,w]);let A=(0,g.hG)({async onCreate(e){var n;let{editor:i}=e;console.debug("[EditorPreview][onCreate] TipTap editor is now ready"),null==(n=d.Jl.getState(i.state))||n.compute(i.state).processChanges(w),i.commands.command(()=>((0,c.jL)(i.state.doc,w),!0)),y(!0),null==t||t({editor:i})},extensions:v,content:n,editable:!1,immediatelyRender:!0});return(A.isThumbnail=f,(0,r.useEffect)(()=>{var e;s&&(A.commands.setContent(s),A.commands.command(()=>((0,c.jL)(A.state.doc,w),!0)),null==(e=u.U.getState(A.state))||e.compute(A.state.doc).processChanges(w))},[s,A,w]),(0,l.GZ)(A),C)?(0,i.jsx)(a.a,{className:"editor-preview-root","data-variation-preview":!0,"data-testid":"editor-preview-root",width:"100%",position:"relative",sx:h.q,children:(0,i.jsx)(g.$Z,{editor:A,portalComponent:b,style:{width:"100%",height:"100%"},className:"highlight-mask"})}):(0,i.jsx)(i.Fragment,{})},v={"[data-thumbnail-hidden]":{display:"none !important"},"*":{backdropFilter:"none !important",webkitBackdropFilter:"none !important",WebkitTransition:"none !important",MozTransition:"none !important",OTransition:"none !important",msTransition:"none !important",transition:"none !important",vectorEffect:"none"},contain:"paint",".editor-core-root, .editor-preview-root":{height:"100% !important",width:"auto !important"},".doc-content-wrapper":{pb:"0 !important",minH:"auto !important"},"[data-doc-background-element], [data-doc-background-element-present-mode]":{display:"none !important"},".card2-background":{mt:0}}},48932:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var i=n(81278),a=n(55729),r=n(58809),s=n(8944),l=n(25778),o=n(11403),c=n(85732),d=n(63902),u=n(14110);let p=e=>{let{url:t,nonPublishedUrl:n}=e,{push:p}=(0,i.useRouter)(),h=(0,o.En)(),g=(0,l.GV)(r.Jo),m=(0,d.oR)(),x=(0,l.GV)(s.C),f=m?(0,c.M7)({url:t,doc:g,previewEnabled:x}):n||t,b=h&&(0,c.uH)(t,g),C=(0,a.useCallback)(e=>{(0,u.jv)(f)&&(e.preventDefault(),p(f,void 0,{shallow:!0}))},[f,p]);return(0,a.useMemo)(()=>({linkUrl:f,handleClick:x?C:void 0,isCurrentPage:b}),[C,f,x,b])}},48950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(6029),a=n(77650),r=n(55729),s=n(57405),l=n(40452),o=n(64268),c=n(51504),d=n(51684),u=n(48621),p=n(68364);n(7929),n(1136),n(51650);let h=(0,n(46091).A)(e=>{let{uppyInstance:t,dropHereText:n=a.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),tipText:r,customHeight:h,errorMessage:g,...m}=e;return(0,i.jsxs)(s.T,{align:"stretch",spacing:4,pos:"relative",...m,children:[(0,i.jsx)(l.s,{pos:"absolute",inset:0,justify:"center",align:"center",zIndex:1,pointerEvents:"none",mt:-14,color:"gray.600",children:(0,i.jsx)(u.g,{icon:d.vMo,size:"3x"})}),(0,i.jsx)(p.OX,{width:"100%",height:h||"100%",note:r||void 0,uppy:t,locale:{strings:{dropHereOr:n,browse:a.Ru._({id:"wZ9s+A"})}}}),g&&(0,i.jsxs)(o.F,{status:"error",children:[(0,i.jsx)(c._,{}),g]})]})});var g=n(29917);let m=e=>{let{orgId:t,uploadType:n,editType:s,onUploadStart:l,onUploadSuccess:o,onUploadFailed:c,dropHereText:d=a.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),customHeight:u,customFontSize:p,maxFilesAllowed:m=1,templateId:x,sx:f,tipText:b}=e,[C,y]=(0,r.useState)(""),v=(0,r.useMemo)(()=>g.Fk.createUppyInstance(t,{onUploadStart:l,onOriginalFileUpload:o,onUploadComplete:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o(...t),v.cancelAll()},onUploadFailed:c,setErrorMessage:y},s,m,n,x),[t,s,n,m,x,o,l,c]);return(0,i.jsx)(h,{uppyInstance:v,dropHereText:d,tipText:b,customHeight:u,errorMessage:C,fontSize:p,sx:f})}},49023:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(55729),a=n(88586),r=n(25778),s=n(7554),l=n(6181);let o=()=>{let e=(0,l.gx)(),t=(0,r.jL)(),{data:n,loading:o}=(0,a.Snx)({variables:{workspaceId:e,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:c,loading:d}=(0,a.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),u=(0,i.useMemo)(()=>(null==c?void 0:c.themes)||[],[null==c?void 0:c.themes]),p=(0,i.useMemo)(()=>(null==n?void 0:n.themes)||[],[null==n?void 0:n.themes]);return(0,i.useEffect)(()=>{u.length>0&&t((0,s.cA)({globalThemes:u}))},[t,u]),(0,i.useEffect)(()=>{p.length>0&&t((0,s._N)({workspaceThemes:p}))},[t,p]),{isLoadingThemes:o||d,globalThemes:u}}},49106:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var i=n(99492),a=n(77650);let r={key:"image.giphy",label:()=>a.Ru._({id:"E435oC",values:{GIPHY_PROPER_NOUN:"GIPHY"}}),description:()=>a.Ru._({id:"AbFJB5"}),icon:i.MEP,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/giphy.2d92c9c6.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},keywords:["gif","animation","animated","giphy"],resizeToFit:!0}},49177:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var i=n(6029),a=n(40452),r=n(33787),s=n(71093);let l=e=>{let{isZoomed:t,exitZoom:n,src:l,alt:o}=e;return(0,i.jsx)(s.Gx,{isZoomed:t,exitZoom:n,editor:null,children:(0,i.jsx)(a.s,{justify:"center",align:"center",h:"100%",w:"100%",children:(0,i.jsx)(r._,{src:l,alt:o,maxW:"90vw",maxH:"90vh",objectFit:"contain"})})})}},49249:(e,t,n)=>{"use strict";n.d(t,{D:()=>f,_:()=>b});var i=n(46898),a=n(77650),r=n(55729),s=n(26814),l=n(6018),o=n(58929),c=n(94258),d=n(25778),u=n(95889),p=n(1558),h=n(43634),g=n(6181),m=n(67097),x=n(61250);let f=e=>{let{editor:t,id:n}=e,i=(0,d.jL)(),a=(0,d.GV)((0,x.No)(n)),l=(0,d.GV)((0,x.AL)(n)),o=(0,r.useCallback)(()=>{i((0,p.WE)({id:n})),p.RR.emit("startRemoveBg",{id:n}),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})},[i,t,n]);return{startRemoveBg:(0,s.tO)(o,"removeBackground",u.VV.GAMMA_PRO_UPSELL_REMOVE_BACKGROUND),isRemovingBg:a,isRemoveBgLoading:"loading"===l}},b=e=>{let{editor:t,id:n,src:s,updateAttributes:u}=e,f=(0,d.jL)(),b=(0,d.CU)(),C=(0,i.d)(),y=(0,d.GV)(h.sK),v=t.isEditable,w=(0,d.GV)((0,x.AL)(n)),A=(0,d.GV)((0,x.Vr)(n));return(0,r.useEffect)(()=>{if(!v||!s)return;let e=new AbortController,i=async i=>{var r,d,u;let h,{id:x}=i,b=null==(r=(0,g.P9)(null==y?void 0:y.id))?void 0:r.id;if(n!==x||!s||!b)return;t.state.doc.descendants((e,t)=>"image"!==e.type.name||e.attrs.id!==n||(h=e,!1));let v=null==h||null==(d=h.attrs.meta)?void 0:d.width,w=null==h||null==(u=h.attrs.meta)?void 0:u.height;try{f((0,p.GP)({id:n,status:"loading"}));let t=await (0,c.w)({imageUrl:s,workspaceId:b,abortController:e,width:v,height:w});f((0,p.BS)({id:n,url:t})),(0,l.R)("removeBackground",y),await (0,m.GV)(t),setTimeout(()=>{requestAnimationFrame(()=>{p.RR.emit("endRemoveBg",{id:n,url:t})})},500)}catch(i){if(i instanceof o.f&&"aborted"===i.type)return;let e=o.f.userFacingErrorDescription(i);C({title:a.Ru._({id:"xwVKp4"}),position:"top",description:e,status:"error",duration:5e3,isClosable:!0}),f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}},r=t=>{let{id:n}=t;f((0,p.N2)({id:n})),e.abort("User aborted")};return p.RR.on("startRemoveBg",i),p.RR.on("cancelRemoveBg",r),()=>{p.RR.off("startRemoveBg",i),p.RR.off("cancelRemoveBg",r)}},[n,t,s,u,f,b,v,y,C]),(0,r.useEffect)(()=>{if(v&&s)return p.RR.on("endRemoveBg",async e=>{let{id:i,url:a}=e;n===i&&(u({src:a||(0,x.Vr)(n)(b.getState()),source:"image.custom"}),requestAnimationFrame(()=>{f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}))})},[n,u,t,f,b,v,s]),{bgRemovalInProgress:"loading"===w,removeBgUrl:A}}},49251:(e,t,n)=>{"use strict";n.d(t,{G:()=>B});var i=n(6029),a=n(68068),r=n(36071),s=n(60628),l=n(17920),o=n(58959),c=n(29810),d=n(40691),u=n(40452),p=n(3674),h=n(65327),g=n(19564),m=n(63867),x=n(55729),f=n(45318),b=n(82328),C=n(59230),y=n(36145);let v=e=>{let{currentAttributes:t,updateAttributes:n,editor:i,isMounted:a}=e,r=(0,x.useRef)({currentAttributes:t,updateAttributes:n,sourceKey:t.source});r.current.currentAttributes=t,r.current.updateAttributes=n,(0,x.useEffect)(()=>{r.current.sourceKey=r.current.currentAttributes.source},[t.tempUrl,t.src]),(0,x.useEffect)(()=>{if(!i||a)return;let{src:e,tempUrl:t,uploadStatus:n}=r.current.currentAttributes;t&&!e&&n!==C.A.Uploading&&(console.log("[useUploadOnUnmount] uploading tempUrl:",t),r.current.updateAttributes({uploadStatus:C.A.Uploading,source:r.current.sourceKey}),(0,y.XE)(i,t))},[i,a])};var w=n(87545),A=n(83488),k=n(75748),L=n(25778),j=n(1558),E=n(64234),S=n(62695),M=n(78481),I=n(15607),_=n(61679),D=n(43607),R=n(43634),T=n(3864),z=n(92198),H=n(89703),N=n(29347);let B=x.memo(e=>{var t,n;let{editor:C}=e;(0,D.lC)(C);let y=(0,D.CJ)(C),B=(0,H.f)(),P=(0,L.GV)(R.nD),F=C.state.selection,V=(0,x.useMemo)(()=>(0,N.Am)(C,F),[C,F]),O=null==V?void 0:V.id,Z=(0,L.GV)((0,j.No)(O||"")),{currentMediaDrawerSourceKey:W,setMediaDrawerSourceKeyAction:U,isQuickAction:G}=(0,S.B)(),K=E.Fn[W],{isConnected:Q}=(0,b.u)(),q=!!(Q||K.availableOffline),J=(0,L.GV)(R.rp),$=V&&(0,N.Nx)(C,V.type),Y=y&&!!(J&&$&&P),X=(0,x.useRef)(null),ee=(0,x.useCallback)(()=>{B({isOpen:!1}),F instanceof m.nh&&C.chain().selectNodeAtPos(F.from,!1).focus().run()},[C,F,B]),et=(0,M.N)(C);(0,x.useEffect)(()=>{$||B({isOpen:!1})},[$,B]),(0,x.useEffect)(()=>{Y&&setTimeout(()=>{if(!X.current||!q)return;let e=(0,h.ep)(X.current);e&&!(e.length<1)&&requestAnimationFrame(()=>{let t=e[0];null==t||t.focus()})},100)},[q,Y,C]),(0,x.useEffect)(()=>{if(!V)return;let{attrs:e,mediaType:t,type:n}=V;(0,N.Nx)(C,n)&&(!C.isSiteNavbarEditor||(0,I.We)(C))&&!G&&U("embed"===t&&null===e.source?A.J.key:e.source||W)},[V,C,U,W,G]);let[en,ei]=(0,x.useState)("");(0,x.useEffect)(()=>{var e;(null==V||null==(e=V.attrs)?void 0:e.query)?ei(V.attrs.query):ei("")},[null==V||null==(t=V.attrs)?void 0:t.query]);let ea=(0,x.useCallback)(e=>{Z&&j.RR.emit("cancelRemoveBg",{id:O||""}),(0,N.vI)({editor:C,selection:F,sourceKey:W,attrs:e,resizeToFit:null==K?void 0:K.resizeToFit})},[C,Z,W,F,O,null==K?void 0:K.resizeToFit]),er={...null==V?void 0:V.attrs,query:en||(null==V||null==(n=V.attrs)?void 0:n.query)};v({currentAttributes:er,updateAttributes:ea,editor:C,isMounted:Y});let es=(0,x.useCallback)(()=>{(0,N.vI)({editor:C,selection:F,sourceKey:W,attrs:{source:W},nodeName:"mediaPlaceholder",resetAttrs:!0})},[W,F,C]),el=(0,T.o)(),eo=(null==V?void 0:V.editType)||"node",ec=(0,x.useCallback)(e=>(null==V?void 0:V.mediaType)==="embed"?"embed"===e.nodeName||"video"===e.nodeName:(null==V?void 0:V.mediaType)==="image"?"image"===e.nodeName:(null==V?void 0:V.mediaType)==="icon"?(0,_.D)(e.key)||"image.custom"===e.key:!!e.nodeName,[V]),ed=E.ez[W],eu=w.h[W]||{};return(0,i.jsxs)(a._s,{isOpen:Y,onClose:ee,size:el,trapFocus:!1,blockScrollOnMount:!1,children:[(0,i.jsx)(r.m,{background:"none"}),(0,i.jsxs)(s.z,{onKeyDown:et,"data-in-editor-focus":!0,"data-testid":"media-drawer","data-test-media-source":W,children:[(0,i.jsx)(l.r,{fontSize:"x-large",children:(0,i.jsxs)(o.z,{me:7,children:[(0,i.jsx)(g.x6,{id:"xYilR2"}),(0,i.jsx)(c.h,{}),(null==V?void 0:V.mediaType)==="image"&&!C.isSiteNavbarEditor&&(0,i.jsx)(f.V,{onClick:ee,image:null==V?void 0:V.attrs,backFrom:{source:"mediaDrawer",id:(null==V?void 0:V.attrs.id)||""}})]})}),(0,i.jsxs)(d.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:[(0,i.jsx)(k.r,{isConnected:q,description:(0,i.jsx)(g.x6,{id:"2y7sUG"}),mb:6}),(0,i.jsx)(z.H,{currentSource:K,onChange:e=>U(e,!0),isValidSource:ec}),K&&(0,i.jsx)(u.s,{ref:X,opacity:q?1:.4,pointerEvents:q?"initial":"none",flex:"1",direction:"column",children:(0,i.jsx)(ed,{editor:C,updateAttributes:ea,currentAttributes:er,resetToPlaceholder:es,editType:eo,closeDrawer:ee,mediaSearchQuery:en,setMediaSearchQuery:ei,...eu})})]}),(0,i.jsx)(p.s,{"data-testid":"media-drawer-close"})]})]})});B.displayName="MediaDrawer"},49337:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var i=n(55729),a=n(25778),r=n(70006),s=n(37377);let l=function(){let{initializeViaQuery:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initializeViaQuery:!1},t=(0,a.jL)(),n=(0,i.useCallback)(()=>{let e=window.Intercom;e&&(e("show"),t((0,s.YN)({isOpen:!0})))},[t]);return(0,i.useEffect)(()=>{e&&"true"===(0,r.sF)()["get-support"]&&n()},[e,n]),n}},50171:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var i=n(77650);let a=()=>[{id:"basic",name:()=>i.Ru._({id:"0wJVK+"}),templateIds:["blankCard","titleWith2ColumnImageLeft","titleWith2ColumnImageRight","titleWith2ColumnContent","titleWith2ColumnContentAndHeadings","titleWith3ColumnContent","titleWith3ColumnContentAndHeadings","titleWith4ColumnContent","titleWithBullets","titleWithBulletsAndImage"]},{id:"cardLayouts",name:()=>i.Ru._({id:"125H9i"}),templateIds:["accentLeft","accentRight","accentTop","accentRightFit","accentLeftFit","accentBackground"]},{id:"images",name:()=>i.Ru._({id:"an5hVd"}),templateIds:["titleWith2ImageColumns","titleWith3ImageColumns","titleWith4ImageColumns","titleWith3ImagesWithText","imageGallery","titleWithTeamPhotos"]},{id:"collections",name:()=>i.Ru._({id:"MISW12"}),templateIds:["titleWithTextBoxes","titleWithTimeline","titleWithLargeBulletList","titleWithIconsWithText","titleWithSmallIconsAndText","titleWithArrows"]},{id:"data",name:()=>i.Ru._({id:"+60MiA"}),templateIds:["titleWithColumnChart","titleWithBarChart","titleWithLineChart","titleWithPieChart","titleWithDonutChart","titleWithStats","barStatsWithText","titleWithCircleStats","titleWith3RowTable"]},{id:"embeds",name:()=>i.Ru._({id:"aTofd0"}),templateIds:["titleWithYouTubeEmbed","titleWithWebpageEmbed"]},{id:"progressiveDisclosure",name:()=>i.Ru._({id:"rd7L5e"}),templateIds:["titleWith3NestedCards","titleWith3Toggles"]},{id:"pyramid",name:()=>i.Ru._({id:"96Rp0u"}),templateIds:["funnelWithText","steppedPyramidWithText","pyramidWithTitleAndTextOutside","leftSteppedPyramidWithTitleAndTextOutside"]},{id:"calls-to-action",name:()=>i.Ru._({id:"gm+qKB"}),templateIds:["titleWithContentAndButton"]},{id:"misc",name:()=>i.Ru._({id:"RDie0n"}),templateIds:["titleCard","titleWithGif","titleWithDiagram"]},{id:"cardPlaceholder",name:()=>i.Ru._({id:"hx1ePY"}),templateIds:["titleWith2ColumnImageLeft","titleWith2ColumnContent","accentRight","titleWith3ImageColumns"]}],r=["basic","cardLayouts","images","collections","charts","pyramid","data","embeds","progressiveDisclosure","calls-to-action","misc"],s={default:r,insertWidget:r,modal:r,placeholder:["cardPlaceholder"]},l=e=>s[e].map(e=>a().find(t=>t.id===e)).filter(e=>!!e)},50507:(e,t,n)=>{"use strict";n.d(t,{iT:()=>l,l2:()=>u,s2:()=>c,st:()=>o,wz:()=>d});var i=n(77650),a=n(12562),r=n(50171),s=n(17633);let l=()=>{let e=()=>i.Ru._({id:"6MDj8K"});return{blankCard:{id:"blankCard",createdBy:null,name:()=>i.Ru._({id:"UQOvxZ"}),description:()=>i.Ru._({id:"V7lf6B"}),jsonContent:s.w.card([s.w.heading()]),keywords:["blank"]},titleWithBullets:{id:"titleWithBullets",name:()=>i.Ru._({id:"jzSy62"}),createdBy:null,description:()=>i.Ru._({id:"605WM6"}),jsonContent:s.w.card([s.w.heading(),s.w.bullet(),s.w.bullet(),s.w.bullet(),s.w.bullet()]),keywords:["heading","bullets"]},titleWithBulletsAndImage:{id:"titleWithBulletsAndImage",name:()=>i.Ru._({id:"ciw/iY"}),createdBy:null,description:()=>i.Ru._({id:"kTU/Ne"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.bullet(),s.w.bullet(),s.w.bullet(),s.w.bullet()],[s.w.mediaPlaceholder()]])]),keywords:["heading","bullets"]},titleWith2ColumnContent:{id:"titleWith2ColumnContent",createdBy:null,name:()=>i.Ru._({id:"uVQ8y8"}),description:()=>i.Ru._({id:"pRDCBH"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.paragraph(e())],[s.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith2ColumnContentAndHeadings:{id:"titleWith2ColumnContentAndHeadings",createdBy:null,name:()=>i.Ru._({id:"/ESRO3"}),description:()=>i.Ru._({id:"acTyiC"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.h3(),s.w.paragraph(e())],[s.w.h3(),s.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith3ColumnContent:{id:"titleWith3ColumnContent",createdBy:null,name:()=>i.Ru._({id:"YmAqYT"}),description:()=>i.Ru._({id:"od0FQb"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.paragraph(e())],[s.w.paragraph(e())],[s.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith3ColumnContentAndHeadings:{id:"titleWith3ColumnContentAndHeadings",createdBy:null,name:()=>i.Ru._({id:"3tQQ39"}),description:()=>i.Ru._({id:"Yno39F"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.h4(),s.w.paragraph(e())],[s.w.h4(),s.w.paragraph(e())],[s.w.h4(),s.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith4ColumnContent:{id:"titleWith4ColumnContent",createdBy:null,name:()=>i.Ru._({id:"+a/yD6"}),description:()=>i.Ru._({id:"h5ySm8"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.paragraph(e())],[s.w.paragraph(e())],[s.w.paragraph(e())],[s.w.paragraph(e())]])]),keywords:["heading","4 column","paragraph"]},titleWith2ColumnImageLeft:{id:"titleWith2ColumnImageLeft",createdBy:null,name:()=>i.Ru._({id:"6edF/U"}),description:()=>i.Ru._({id:"SzGG7G"}),jsonContent:s.w.card([s.w.columns([[s.w.mediaPlaceholder()],[s.w.heading(),s.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","left"]},titleWith2ColumnImageRight:{id:"titleWith2ColumnImageRight",createdBy:null,name:()=>i.Ru._({id:"afp0nb"}),description:()=>i.Ru._({id:"M7cuHB"}),jsonContent:s.w.card([s.w.columns([[s.w.heading(),s.w.paragraph(e())],[s.w.mediaPlaceholder()]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","right"]},titleWith2ImageColumns:{id:"titleWith2ImageColumns",createdBy:null,name:()=>i.Ru._({id:"oVMU3f"}),description:()=>i.Ru._({id:"sqVSP2"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.mediaPlaceholder(),s.w.h3(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h3(),s.w.paragraph(e())]])]),keywords:["heading","2 column","image"]},titleWith3ImageColumns:{id:"titleWith3ImageColumns",createdBy:null,name:()=>i.Ru._({id:"ZjjVJt"}),description:()=>i.Ru._({id:"kmtZuD"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph","image"]},titleWith4ImageColumns:{id:"titleWith4ImageColumns",createdBy:null,name:()=>i.Ru._({id:"Re1S+b"}),description:()=>i.Ru._({id:"+x8oem"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())],[s.w.mediaPlaceholder(),s.w.h4(),s.w.paragraph(e())]])]),keywords:["heading","4 column","image"]},titleWith3ImagesWithText:{id:"titleWith3ImagesWithText",createdBy:null,name:()=>i.Ru._({id:"cDxTeG"}),description:()=>i.Ru._({id:"rwJuIz"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("imagesText",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"left",imageShape:"square"}})]),keywords:["heading","image","layout"]},imageGallery:{id:"imageGallery",createdBy:null,name:()=>i.Ru._({id:"Oho0T7"}),description:()=>i.Ru._({id:"H87HG1"}),jsonContent:s.w.card([s.w.heading(),s.w.gallery([s.w.mediaPlaceholder({source:"image.custom"}),s.w.mediaPlaceholder({source:"image.custom"}),s.w.mediaPlaceholder({source:"image.custom"})])]),keywords:["heading","gallery","image"]},titleWithTeamPhotos:{id:"titleWithTeamPhotos",createdBy:null,name:()=>i.Ru._({id:"+kQMBP"}),description:()=>i.Ru._({id:"tt2nIz"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("imagesText",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"6YtxFj"})),s.w.paragraph(i.Ru._({id:"GDvlUT"})),s.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"6YtxFj"})),s.w.paragraph(i.Ru._({id:"GDvlUT"})),s.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"6YtxFj"})),s.w.paragraph(i.Ru._({id:"GDvlUT"})),s.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"center",imageShape:"circle"}})]),keywords:["heading","image","team"]},accentRight:{id:"accentRight",createdBy:null,name:()=>i.Ru._({id:"Czo70+"}),description:()=>i.Ru._({id:"x5nYRE"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"right"}),keywords:["accent"]},accentRightFit:{id:"accentRightFit",createdBy:null,name:()=>i.Ru._({id:"1BvkHE"}),description:()=>i.Ru._({id:"oItvxV"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"right"},{fitType:"fit"}),keywords:["accent"]},accentLeft:{id:"accentLeft",createdBy:null,name:()=>i.Ru._({id:"5HMSY5"}),description:()=>i.Ru._({id:"c/I4N2"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"left"}),keywords:["accent"]},accentLeftFit:{id:"accentLeftFit",createdBy:null,name:()=>i.Ru._({id:"bGTdlK"}),description:()=>i.Ru._({id:"r4fLNa"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"left"},{fitType:"fit"}),keywords:["accent"]},accentTop:{id:"accentTop",createdBy:null,name:()=>i.Ru._({id:"BUdX7X"}),description:()=>i.Ru._({id:"QuKih6"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"top"}),keywords:["accent"]},accentBackground:{id:"accentBackground",createdBy:null,name:()=>i.Ru._({id:"CDFCZ5"}),description:()=>i.Ru._({id:"uFWjQ5"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e())],{layout:"behind"}),keywords:["accent"]},titleWith3NestedCards:{id:"titleWith3NestedCards",createdBy:null,name:()=>i.Ru._({id:"ORoO1f"}),description:()=>i.Ru._({id:"J89hiV"}),jsonContent:s.w.card([s.w.heading(),s.w.card([s.w.heading(),s.w.paragraph()]),s.w.card([s.w.heading(),s.w.paragraph()]),s.w.card([s.w.heading(),s.w.paragraph()])]),keywords:["heading","nested","card"]},titleWith3Toggles:{id:"titleWith3Toggles",createdBy:null,name:()=>i.Ru._({id:"Sf3ASu"}),description:()=>i.Ru._({id:"58JI2k"}),jsonContent:s.w.card([s.w.heading(),s.w.toggle([s.w.paragraph(e())]),s.w.toggle([s.w.paragraph(e())]),s.w.toggle([s.w.paragraph(e())])]),keywords:["heading","toggle"]},titleWithTimeline:{id:"titleWithTimeline",createdBy:null,name:()=>i.Ru._({id:"cklVjM"}),description:()=>i.Ru._({id:"Wdyt2J"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("timeline",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{orientation:"vertical",twoSided:!1}})]),keywords:["heading","timeline"]},titleWithLargeBulletList:{id:"titleWithLargeBulletList",createdBy:null,name:()=>i.Ru._({id:"F5uDGO"}),description:()=>i.Ru._({id:"g1FTqD"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("bigBullets",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:20}})]),keywords:["heading","bullet","list"]},titleWithIconsWithText:{id:"titleWithIconsWithText",createdBy:null,name:()=>i.Ru._({id:"joUkNe"}),description:()=>i.Ru._({id:"DHZYRd"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("iconsText",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"md",horizontalAlign:"center"}})]),keywords:["heading","icons"]},titleWithSmallIconsAndText:{id:"titleWithSmallIconsAndText",createdBy:null,name:()=>i.Ru._({id:"AhHG+7"}),description:()=>i.Ru._({id:"L8/5yN"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("iconsText",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"sm",horizontalAlign:"left"}})]),keywords:["heading","icons"]},titleWithTextBoxes:{id:"titleWithTextBoxes",createdBy:null,name:()=>i.Ru._({id:"b7qbjN"}),description:()=>i.Ru._({id:"Cg0xBG"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("solidBoxes",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:15}})]),keywords:["heading","boxes"]},titleWithArrows:{id:"titleWithArrows",createdBy:null,name:()=>i.Ru._({id:"YUGjgn"}),description:()=>i.Ru._({id:"SnGUtD"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("arrows",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())]),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())])],{options:{cellSize:10}})]),keywords:["arrows","process","sequence","flow"]},titleWithColumnChart:{id:"titleWithColumnChart",createdBy:null,name:()=>i.Ru._({id:"kaIve5"}),description:()=>i.Ru._({id:"EE/H36"}),jsonContent:s.w.card([s.w.heading(),s.w.columnChart()]),keywords:["heading","chart","column chart"],featureFlag:"enableCharts"},titleWithBarChart:{id:"titleWithBarChart",createdBy:null,name:()=>i.Ru._({id:"JXpNuP"}),description:()=>i.Ru._({id:"2s/J1+"}),jsonContent:s.w.card([s.w.heading(),s.w.barChart()]),keywords:["heading","chart","bar chart"],featureFlag:"enableCharts"},titleWithLineChart:{id:"titleWithLineChart",createdBy:null,name:()=>i.Ru._({id:"Kt/Lzz"}),description:()=>i.Ru._({id:"eRabUB"}),jsonContent:s.w.card([s.w.heading(),s.w.lineChart()]),keywords:["heading","chart","line chart"],featureFlag:"enableCharts"},titleWithPieChart:{id:"titleWithPieChart",createdBy:null,name:()=>i.Ru._({id:"5+y+OQ"}),description:()=>i.Ru._({id:"zIzb1A"}),jsonContent:s.w.card([s.w.heading(),s.w.pieChart()]),keywords:["heading","chart","pie chart"],featureFlag:"enableCharts"},titleWithDonutChart:{id:"titleWithDonutChart",createdBy:null,name:()=>i.Ru._({id:"DNipMm"}),description:()=>i.Ru._({id:"MWtClR"}),jsonContent:s.w.card([s.w.heading(),s.w.donutChart()]),keywords:["heading","chart","donut chart"],featureFlag:"enableCharts"},titleWithStats:{id:"titleWithStats",createdBy:null,name:()=>i.Ru._({id:"w0arAq"}),description:()=>i.Ru._({id:"YEhR/1"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("stats",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"nH8BJ4"})),s.w.paragraph(e())],{label:"25%"}),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"nH8BJ4"})),s.w.paragraph(e())],{label:"3/4"}),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"nH8BJ4"})),s.w.paragraph(e())],{label:"50"})],{options:{cellSize:15,shapeSize:"lg"}})]),keywords:["heading","stats"]},barStatsWithText:{id:"barStatsWithText",createdBy:null,name:()=>i.Ru._({id:"LYRXtx"}),description:()=>i.Ru._({id:"DgfiYp"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("barStats",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"nH8BJ4"})),s.w.paragraph(e())],{label:"25%"}),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"nH8BJ4"})),s.w.paragraph(e())],{label:"3/4"})],{options:{cellSize:20}})]),keywords:["heading","stats"]},titleWithCircleStats:{id:"titleWithCircleStats",createdBy:null,name:()=>i.Ru._({id:"mvpFPS"}),description:()=>i.Ru._({id:"9AzsRa"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("circleStats",[s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())],{label:"25%"}),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())],{label:"1/3"}),s.w.smartLayoutCell([s.w.h3(i.Ru._({id:"HX5SVx"})),s.w.paragraph(e())],{label:"75"})],{options:{cellSize:10,horizontalAlign:"center"}})]),keywords:["arrows","process","sequence","flow"]},titleWith3RowTable:{id:"titleWith3RowTable",createdBy:null,name:()=>i.Ru._({id:"aDo58o"}),description:()=>i.Ru._({id:"2ZoOCu"}),jsonContent:s.w.card([s.w.heading(),s.w.table([s.w.tableRow([s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()])]),s.w.tableRow([s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()])]),s.w.tableRow([s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()]),s.w.tableCell([s.w.paragraph()])])])]),keywords:["heading","table"]},funnelWithText:{id:"funnelWithText",createdBy:null,name:()=>i.Ru._({id:"ETqzyH"}),description:()=>i.Ru._({id:"GxaYRj"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.smartLayout("funnel",[s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()])],{options:{numbered:!0,outsideText:!1}})],[s.w.h2(),s.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","funnel"]},steppedPyramidWithText:{id:"steppedPyramidWithText",createdBy:null,name:()=>i.Ru._({id:"6xmZsQ"}),description:()=>i.Ru._({id:"GqW7Xg"}),jsonContent:s.w.card([s.w.heading(),s.w.columns([[s.w.smartLayout("staircase",[s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()])],{options:{outsideText:!1,horizontalAlign:"center"}})],[s.w.h2(),s.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","pyramid","stepped","staircase"]},leftSteppedPyramidWithTitleAndTextOutside:{id:"leftSteppedPyramidWithTitleAndTextOutside",createdBy:null,name:()=>i.Ru._({id:"6j13ZR"}),description:()=>i.Ru._({id:"JGF7vo"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("staircase",[s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()])],{options:{outsideText:!1,horizontalAlign:"left"}})]),keywords:["heading","pyramid","stepped","staircase"]},pyramidWithTitleAndTextOutside:{id:"pyramidWithTitleAndTextOutside",createdBy:null,name:()=>i.Ru._({id:"l1mM+L"}),description:()=>i.Ru._({id:"L0QPEt"}),jsonContent:s.w.card([s.w.heading(),s.w.smartLayout("pyramid",[s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()]),s.w.smartLayoutCell([s.w.h3()])],{options:{numbered:!0,outsideText:!0}})]),keywords:["heading","pyramid"]},titleWithContentAndButton:{id:"titleWithContentAndButton",name:()=>i.Ru._({id:"FJJPAA"}),createdBy:null,description:()=>i.Ru._({id:"itiMvE"}),jsonContent:s.w.card([s.w.heading(),s.w.paragraph(e()),s.w.buttons([s.w.button(i.Ru._({id:"uWe4QF"}),{variant:"solid"}),s.w.button(i.Ru._({id:"zwWKhA"}),{variant:"outline"})])]),keywords:["button","heading","paragraph"]},titleWithYouTubeEmbed:{id:"titleWithYouTubeEmbed",createdBy:null,name:()=>i.Ru._({id:"D1Tqqj"}),description:()=>i.Ru._({id:"s0st+i"}),jsonContent:s.w.card([s.w.heading(),s.w.mediaPlaceholder({source:"video.youtube"})]),keywords:["heading","embed","video"]},titleWithWebpageEmbed:{id:"titleWithWebpageEmbed",createdBy:null,name:()=>i.Ru._({id:"8FOKyw"}),description:()=>i.Ru._({id:"0ngLOJ"}),jsonContent:s.w.card([s.w.heading(),s.w.mediaPlaceholder({source:"embed.custom"})]),keywords:["heading","embed","webpage"]},titleCard:{id:"titleCard",createdBy:null,name:()=>i.Ru._({id:"5U/oBM"}),description:()=>i.Ru._({id:"rYur7N"}),jsonContent:s.w.card([s.w.title(),s.w.h2()]),keywords:["title"]},titleWithGif:{id:"titleWithGif",createdBy:null,name:()=>i.Ru._({id:"wRkP2d"}),description:()=>i.Ru._({id:"kHFDdm"}),jsonContent:s.w.card([s.w.heading(),s.w.mediaPlaceholder({source:"image.giphy"})]),keywords:["heading","embed","webpage"]},titleWithDiagram:{id:"titleWithDiagram",createdBy:null,name:()=>i.Ru._({id:"i+ShMB"}),description:()=>i.Ru._({id:"6i4/hD"}),jsonContent:s.w.card([s.w.heading(),s.w.diagram()]),keywords:["heading","diagram"],featureFlag:"tldraw2"}}},o=()=>Object.values(l()),c=()=>o().reduce((e,t)=>(e[t.id]=t.jsonContent,e),{}),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,r.g)(e).map(e=>{let{name:t,templateIds:n}=e,i=n.map(e=>l()[e]);return{subcategory:t(),items:i}})},u=(e,t,n)=>{try{if(t.featureFlag&&!a.of.get(t.featureFlag)||(null==n?void 0:n(t)))return!0;return!1}catch(e){return!0}}},50709:(e,t,n)=>{"use strict";n.d(t,{S:()=>g,_:()=>u});var i=n(4765),a=n(37243),r=n(94289),s=n(63867),l=n(38934),o=n(62040),c=n(64205),d=n(74677);let u=new s.hs("UniqueAttribute"),p=new Map,h=e=>{let{editor:t,tr:n,node:a,initialValue:r,pos:s,attributeName:l,syncWithFilmstrip:o,pluginKey:c}=e;(o="function"==typeof o?o():!!o)&&!c&&console.error("Cannot sync with filmstrip without plugin key");let d=(()=>{if(t.isThumbnail&&o&&c){var e,n;let t=null==(e=p.get(c))?void 0:e.shift();if(t&&(null==(n=t.type)?void 0:n.name)===a.type.name&&t.pos===s)return console.debug("%c [UniqueAttribute] Reused ".concat(l,' "').concat(t.val,'" for ').concat(a.type.name),"background-color: deeppink",{pos:s}),t.val;i.Cp({message:"Mismatch trying to reuse attribute",attributeName:l,nodeType:a.type,pos:s,existing:t})}return r()})();return!t.isThumbnail&&o&&c&&(p.has(c)||p.set(c,[]),p.get(c).push({type:a.type,val:d,pos:s}),console.debug("%c [UniqueAttribute] Should reuse ".concat(l,' "').concat(d,'" for ').concat(a.type.name),"background-color: deeppink",{pos:s})),n.setNodeMarkup(s,void 0,{...a.attrs,[l]:d}),{node:a,val:d,pos:s}},g=a.YY.create({name:"UniqueAttribute",priority:l.y.UniqueAttribute,addOptions(){return{attributeName:"",pluginKey:new s.hs(this.name),types:[],initialValue:()=>void 0,filterTransaction:null,syncWithFilmstrip:!1}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>this.options.parseHTML?this.options.parseHTML(e):e.getAttribute("data-".concat(this.options.attributeName)),renderHTML:e=>this.options.renderHTML?this.options.renderHTML(e):e[this.options.attributeName]?{["data-".concat(this.options.attributeName)]:e[this.options.attributeName]}:{}}}}]},onCreate(){let{view:e,state:t}=this.editor;if(this.editor.isReadOnly)return;let{tr:n,doc:r}=t,{types:s,attributeName:l,pluginKey:o,initialValue:c,callback:d}=this.options,u=(0,a.xe)(r,e=>s.includes(e.type.name)&&null===e.attrs[l]).map(e=>{let{node:t,pos:i}=e;return h({editor:this.editor,pos:i,node:t,tr:n,syncWithFilmstrip:!1,initialValue:c,attributeName:l,pluginKey:o})});0!==u.length&&(i.wd("UniqueAttribute onCreate fixed missing ids",{extra:{results:u,tr:n,attributeName:l,types:s}}),e.dispatch(n),d&&d(this.editor,u,n.doc))},addProseMirrorPlugins(){let e=!1;return[new s.k_({key:this.options.pluginKey,appendTransaction:(e,t,n)=>{let i=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),r=this.options.filterTransaction&&e.some(e=>{var t,n;return!(null==(t=(n=this.options).filterTransaction)?void 0:t.call(n,e))});if(!i||r)return;let{tr:s}=n,{types:l,attributeName:p,syncWithFilmstrip:g,initialValue:m,callback:x,pluginKey:f}=this.options,b=function(e,t){let n=new o.dL(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}(t.doc,e),{mapping:C}=b,y=(0,d.A)(b),v=[],w=e.some(e=>!0===e.getMeta(u));if(y.forEach(e=>{let t={from:e.newStart,to:e.newEnd},i=(0,a.Nx)(n.doc,t,e=>l.includes(e.type.name)),r=function(e){let t=e.filter((t,n)=>e.indexOf(t)!==n);return(0,c.A)(t)}(i.map(e=>{let{node:t}=e;return t.attrs[p]}).filter(e=>null!==e));i.forEach(e=>{var t;let{node:n,pos:i}=e,a=null==(t=s.doc.nodeAt(i))?void 0:t.attrs[p];if(!a)return void v.push(h({editor:this.editor,pos:i,node:n,tr:s,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f}));let{deleted:l}=C.invert().mapResult(i),o=l&&r.includes(a),c=l&&w;if(o||c){let e=h({editor:this.editor,pos:i,node:n,tr:s,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f});v.push(e),console.debug("%c [UniqueAttribute][".concat(this.options.types,"] Replaced ").concat(n.attrs[p]," with new val: ").concat(e.val),"background-color: deeppink",{override:c,newNode:o})}})}),x&&x(this.editor,v,s.doc),s.steps.length)return s},props:{handleDOMEvents:{drop:(t,n)=>{var i,a;return((null==(i=t.dragging)?void 0:i.move)!==!0||(null==(a=n.dataTransfer)?void 0:a.effectAllowed)==="copy")&&(e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:t=>{var n;if(!e)return t;let{types:i,attributeName:a}=this.options,s=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!i.includes(e.type.name))return void t.push(e.copy(s(e.content)));let n=e.type.create({...e.attrs,[a]:null},s(e.content),e.marks);t.push(n)}),r.FK.from(t)},l=this.options.transformPasted?this.options.transformPasted(t,this.options,null===this||void 0===this||null==(n=this.editor)?void 0:n.gammaDocId):new r.Ji(s(t.content),t.openStart,t.openEnd);return e=!1,l}}})]}})},50729:(e,t,n)=>{"use strict";var i=Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)}(n(10139),t)},50764:(e,t,n)=>{"use strict";n.d(t,{lF:()=>a,L3:()=>i,pl:()=>r,JL:()=>s}),n(5061),n(15607),n(29608),n(67864),n(61385),n(47665),n(16264),n(61964),new(n(63867)).hs("BlockHoverKey");let i=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableHover))?void 0:t.spec)||{}},a=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableFocus))?void 0:t.spec)||{}},r=e=>e.some(e=>e.spec.isAnnotatableHover),s=e=>e.some(e=>e.spec.isBlockHover)},50861:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>o,Ez:()=>v,JY:()=>h,KR:()=>f,Kk:()=>y,Xs:()=>C,Zj:()=>p,_Y:()=>d,bi:()=>c,di:()=>k,eb:()=>g,fu:()=>w,gk:()=>m,lQ:()=>u,oS:()=>A});var i=n(83740),a=n(45934),r=n(14389),s=n(67097);let l=["image","video","embed","mediaPlaceholder"],o=e=>c(e.type),c=e=>l.includes(e.name),d=e=>"video"===e.type.name||"embed"===e.type.name,u=e=>e.href||e.url||e.sourceUrl||e.embedUrl||void 0,p=e=>{var t;return(null==(t=e.embed)?void 0:t.url)?e.embed.url:"embedUrl"in e&&e.embedUrl?e.embedUrl:u(e)},h=e=>{var t,n;let i=e.attrs;return[null==(t=i.meta)?void 0:t.title,null==(n=i.meta)?void 0:n.site].filter(Boolean).join(" - ")},g=(e,t)=>{var n;return null!=(n=e.clickBehavior)?n:t?"newTab":"expand"},m=e=>null!=e?e:"expand",x=e=>(null==e?void 0:e.source)===i.f.key,f=e=>(null==e?void 0:e.source)===a.u.key,b=e=>x(e)||f(e),C=e=>(0,s.SV)((null==e?void 0:e.src)||(null==e?void 0:e.tempUrl))&&b(e),y=(e,t)=>{if(!e)return e;try{let n=new URL(e);return n.searchParams.set("ctx",t||"inline-svg"),n.toString()}catch(t){return console.error("[getSrcUrlForInlineSvg] Error with src url for inline SVG",t),e}},v=e=>{let{width:t,height:n,resize:i}=e.meta||{};if(!t||!n||(null==i?void 0:i.isAuto)===!1)return e;let a=r.St,s=window.innerHeight*r.Mg;return n/t*a>s?{...e,resize:{width:Math.min(a,t/n*s),clipType:null,clipPath:null,clipAspectRatio:null,isAuto:!0}}:e},w="unfetched",A="complete",k=e=>{switch(e){case w:case A:return e;default:return A}}},51650:()=>{},51737:(e,t,n)=>{"use strict";n.d(t,{vd:()=>a,L6:()=>r});let i=new(n(83747)).b,a=e=>{let{theme:t}=e;i.emit("openThemeConfiguration",{baseTheme:t,view:"editor"})},r=e=>{let{theme:t}=e;i.emit("openThemeConfiguration",{baseTheme:t,view:"editor",isNewFork:!0})}},52055:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(77650),a=n(7957),r=n(81570),s=n(50507);let l=()=>i.Ru._({id:"9FTolD"}),o=()=>({title:{type:"title",attrs:{level:1}},h1:{type:"heading",attrs:{level:1}},normalText:{type:"paragraph"},h2:{type:"heading",attrs:{level:2}},h3:{type:"heading",attrs:{level:3}},h4:{type:"heading",attrs:{level:4}},bulletedList:{type:"bullet",attrs:{indent:0}},numberedList:{type:"numbered",attrs:{indent:0}},todoList:{type:"todo",attrs:{indent:0}},blockquote:{type:"blockquote",content:[{type:"paragraph"}]},codeBlock:{type:"codeBlock"},mathBlock:{type:"math_display"},button:{type:"button",content:[{type:"text",text:i.Ru._({id:"uWe4QF"})}]},buttonGroup:{type:"buttonGroup",content:[{type:"button",content:[{type:"text",text:i.Ru._({id:"uWe4QF"})}]}]},table2:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table3:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table4:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},columns2:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns3:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns4:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},insertCardInside:{type:"card",content:[{type:"cardLayoutItem",attrs:{itemId:"body",background:{}},content:[{type:"heading",attrs:{level:1}}]}]},aiCardAfter:{type:"card",attrs:{generatorInput:r.O},content:[{type:"paragraph"}]},imageCard:{type:"card",content:[{type:"cardImageItem"}]},codeCard:{type:"card",content:[{type:"cardCodeItem"}]},footnote:{type:"footnote",content:[{type:"paragraph"}]},contributors:{type:"contributors"},divider:{type:"divider"},tableOfContents:[{type:"heading",attrs:{level:3},content:[{type:"text",text:l()}]},{type:"tableOfContents"}],gallery:{type:"gallery",content:[]},logoGallery:{type:"gallery",attrs:{layout:"logo"},content:[]},...(0,s.s2)(),...(0,a.i)(),toggle:{type:"toggle",content:[{type:"toggleSummary"},{type:"paragraph"}]}})},52842:(e,t,n)=>{"use strict";n.d(t,{PN:()=>r,fJ:()=>a,lK:()=>s});var i=n(77650);let a="card-layout",r="25px",s={accentImage:()=>i.Ru._({id:"YXjp37"}),cardBackground:()=>i.Ru._({id:"VShVKA"})}},53138:(e,t,n)=>{"use strict";n.d(t,{TH:()=>p,YC:()=>m,kT:()=>h,nK:()=>g});var i=n(58495),a=n(91938),r=n(87996),s=n(59230),l=n(52762),o=n(91242),c=n(46007),d=n(67097),u=n(16595);let p=(e,t,n,a)=>{var o;let c,p={type:l.h.IMAGE,source:r.mx.key,image:{uploadStatus:s.A.Uploading,source:r.mx.key}};(0,d.aI)(n.type)?(p.image.showPlaceholder=!0,c="HEIC_tempId_".concat((0,i.Ak)())):c=URL.createObjectURL(n),p.image.tempUrl=c;let h=(t,n)=>{if(!c&&!n)return;let i=c||n;(0,u.Ki)(e,i,t)};t.setNodeAttribute(a,"background",p).setMeta("imageUploadUpdateAttrs",!0),(0,r.QM)(n,null==(o=e.storage.mediaUpload)?void 0:o.orgId,{onOriginalFileUpload:h,onUploadComplete:h,onUploadFailed:t=>{(0,u.wt)(e,c,t),URL.revokeObjectURL(c)}})},h=(e,t)=>t.map(t=>{let n=(0,c.QC)(t);return(0,d.u3)(t.type)?m(t,e):(0,c.PQ)(t.type,n)?f(t,e):(0,c.cZ)(t.type,n)?x(t,e):null}).filter(e=>null!==e),g=function(e,t,n){let i=h(e,t);if(0==i.length)return;let a=i.map(e=>e.content),r=e.state.doc.resolve(n),s=r.parent.inlineContent,l=n;s&&0===r.parentOffset?l=n-1:s&&null===r.nodeAfter&&(l=n+1),e.chain().insertContentAt(l,a,{updateSelection:!1}).command(e=>{var t;let{tr:n}=e,i=n.doc.resolve(n.mapping.map(l)),a=(0,o.s)(n.doc.resolve(i.pos-((null==(t=i.nodeBefore)?void 0:t.nodeSize)||1)));return a&&n.setSelection(a),!0}).run(),i.forEach(e=>{e.upload()}),setTimeout(()=>{e.commands.scrollIntoView()},200)},m=(e,t)=>{let n={uploadStatus:s.A.Uploading,source:r.mx.key};(0,d.aI)(e.type)?(n.showPlaceholder=!0,n.tempUrl="HEIC_tempId_".concat((0,i.Ak)())):n.tempUrl=URL.createObjectURL(e);let a=(e,i)=>{let a=n.tempUrl;(a||i)&&(0,u.Ki)(t,a||i,e)},l={onOriginalFileUpload:a,onUploadComplete:a,onUploadFailed:e=>{n.tempUrl&&((0,u.wt)(t,n.tempUrl,e),URL.revokeObjectURL(n.tempUrl))}};return{name:e.name,content:{type:"image",attrs:n},upload:()=>{var n;return(0,r.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,l)}}},x=(e,t)=>{let n=URL.createObjectURL(e),i={...(0,u.bY)(e),url:n},a=(e,i)=>{(n||i)&&(0,u.X6)(t,n||i,e)},s={onOriginalFileUpload:a,onUploadComplete:a};return{name:e.name,content:{type:"embed",attrs:i},upload:()=>{var n;return(0,r.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,s,"node","doc")}}},f=(e,t)=>{let n=URL.createObjectURL(e),i={...(0,u.bY)(e),url:n},s=(e,i)=>{(n||i)&&(0,u.X6)(t,n||i,e)},l={onOriginalFileUpload:s,onUploadComplete:s};return{name:e.name,content:{type:"embed",attrs:i},upload:()=>{var n;return(0,r.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,l,"node","importCsv",a.$.TRANSLOADIT_FILE_TEMPLATE_ID)}}}},53615:(e,t,n)=>{"use strict";n.d(t,{D1:()=>o,os:()=>c,s6:()=>p});var i=n(34787),a=n(38394),r=n(45943),s=n(66607),l=n(50535);let o=(e,t)=>{if(!e.isEditable||!t.clipboardData)return!1;let n=t.clipboardData.getData("text/plain");if(!n||(0,r.tE)(n))return!1;let i=t.clipboardData.getData("text/html");if(null==i?void 0:i.includes("data-pm-slice"))return!1;let{state:a}=e;if(a.selection.$from.parent.type.spec.code){let t=a.tr.insertText(n);return e.view.dispatch(t),!0}let s=t.clipboardData.getData("vscode-editor-data"),l=s?JSON.parse(s):void 0,o=null==l?void 0:l.mode;if(!(!i||"markdown"===o||d(n)))return!1;let{from:c,to:u}=a.selection;return t.preventDefault(),e.commands.insertMarkdownAt({from:c,to:u},n)},c=(e,t,n)=>{let a=i.xI.parse(e),{slice:r}=(0,s.S)(a,t,n,{preserveWhitespace:!1});return r},d=e=>{let t=e.match(/^```/gm);if(t&&t.length>1||e.match(/\[[^]+\]\(https?:\/\/\S+\)/gm)||e.match(/\[[^]+\]\(\/\S+\)/gm)||e.match(/^#{1,6}\s+\S+/gm))return!0;let n=e.match(/^\s*[\d-*].\s\S+/gm);return!!(n&&n.length>1||e.match(/^\s*-{3,}\s*$/gm))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;t&&(a.A.prototype.escape=e=>e);let i=n.turndown(e);return t&&(a.A.prototype.escape=m),i},p=(e,t,n,i,a)=>{try{let r=e.slice(t,n).content,s=(0,l.t8)(r,e.type.schema),o=document.createElement("div");o.appendChild(s);let c=o.innerHTML;return u(c,i,a)}catch(i){return console.error("[caught] rangeToMarkdown: ",t,n,e.nodeSize,i),""}},h=(e,t)=>{try{return e.getAttribute(t)}catch(e){return null}},g=new a.A({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced",hr:"---"}).remove(["style"]).addRule("list",{filter:["ul","ol"],replacement:function(e,t){let n=t.parentNode;return((null==n?void 0:n.nodeName.match(/^(UL|OL)$/i))&&(e="    "+e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ")),(null==n?void 0:n.nodeName)==="LI"&&n.lastElementChild===t)?"\n"+e:"\n\n"+e+"\n\n"}}).addRule("listItem",{filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");let i=n.bulletListMarker||"-",a=i+" ",r=t.parentNode,s=h(t,"indent");if(null!==s){let e=parseInt(s,10);!isNaN(e)&&e>0&&(a="    ".repeat(e)+a)}let l=h(t,"variant");if(1===t.children.length&&t.children[0].nodeName.match(/^(UL|OL)$/i)&&t.textContent===t.children[0].textContent)a="    ";else if((null==r?void 0:r.nodeName)==="OL"){let e=r.getAttribute("start"),n=Array.prototype.indexOf.call(Array.prototype.filter.call(r.children,e=>"LI"===e.nodeName),t),s=e?Number(e)+n:n+1;a=a.replace(i,s+".")}else if("numbered"===l){let e=h(t,"start")||1;a=a.replace(i,e+".")}return a+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}}),m=a.A.prototype.escape},53756:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,X:()=>l});var i=n(55729),a=n(88586),r=n(82960);let s=["GetSavedMedia","GetUserSavedMedia","GetWorkspaceSavedMedia"],l=e=>{var t;let{docId:n,themeId:r,interactionId:l,scope:c="legacy",count:d=18,savedMediaContext:u}=e,{data:p,loading:h,fetchMore:g}=o({scope:c,docId:n,themeId:r,interactionId:l,count:d,savedMediaContext:u}),m=(0,i.useMemo)(()=>{switch(c){case"user":return"userSavedMedia";case"doc":return"workspaceSavedMedia";default:return"savedMedia"}},[c]),x=(0,i.useMemo)(()=>{var e;return((null==p||null==(e=p[m])?void 0:e.edges)||[]).map(e=>e.node)},[p,m]),f=null==p||null==(t=p[m])?void 0:t.pageInfo,[b,C]=(0,i.useState)(!1),y=(0,i.useCallback)(async()=>{if((null==f?void 0:f.hasNextPage)&&(null==f?void 0:f.endCursor)){C(!0);try{await g({variables:{after:f.endCursor},updateQuery:(e,t)=>{var n,i;let{fetchMoreResult:a}=t;if(!a)return e;let r=(null==(n=a[m])?void 0:n.edges)||[],s=[...(null==(i=e[m])?void 0:i.edges)||[],...r];return{...e,[m]:{...a[m],edges:s}}}})}catch(e){console.error("Error loading more images:",e)}finally{C(!1)}}},[g,f,m]),[v,w]=(0,i.useState)(null),[A,k]=(0,i.useState)(!1),[L,j]=(0,i.useState)(!1),[E]=(0,a.GQw)(),[S]=(0,a.t77)(),[M]=(0,a.sIv)(),I=(0,i.useCallback)(async e=>{w(e),k(!0);try{await E({variables:{id:e},update:t=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})}),t.gc()},refetchQueries:s})}catch(e){console.error("Error deleting image:",e)}finally{w(null),k(!1)}},[E]),_=(0,i.useCallback)(async e=>{try{await M({variables:{ids:e},refetchQueries:s})}catch(e){console.error("Error unarchiving images:",e)}},[M]),D=(0,i.useCallback)(async e=>{let t=!1;j(!0);try{await S({variables:{ids:e},update:t=>{e.forEach(e=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})})}),t.gc()},refetchQueries:s})}catch(e){console.error("Error deleting images:",e),t=!0}finally{j(!1)}return t?{success:!1}:{success:!0,undo:()=>_(e)}},[S,_]);return{history:x,loadMore:y,isLoadingMore:b,canLoadMore:!!(null==f?void 0:f.hasNextPage),isLoading:h,deleteImage:I,deletingId:v,isDeleting:A,isDeletingMany:L,deleteMany:D}},o=e=>{let{scope:t,interactionId:n,docId:i,themeId:s,count:l=18,savedMediaContext:o}=e,c={workspaceId:(0,r.x)(o),types:[a.zut.Image],source:"image.ai-generated",first:l,...n?{interactionId:n}:{}},d={type:a.zut.Image,source:"image.ai-generated",first:l},u={...i?{docId:i}:{},...s?{themeId:s}:{}},p=(0,a.abJ)({variables:{...c},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"user"!==t}),h=(0,a.Gc5)({variables:{...c,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"doc"!==t}),g=(0,a.N3Q)({variables:{...d,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"legacy"!==t});return"user"===t?p:"doc"===t?h:g}},53885:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=new(n(63867)).hs("annotation")},53891:(e,t,n)=>{"use strict";n.d(t,{Rv:()=>o,bG:()=>s,p8:()=>l,vb:()=>r});var i=n(25778),a=n(43634);let r=e=>{let t=(0,i.KA)();return(0,a.q)(e)(t.getState())||!1},s=(e,t)=>{(0,i.KA)().dispatch((0,a.z1)({toggleIds:[e],isExpanded:t}))},l=e=>"toggle"===e.type.name,o=e=>"toggleSummary"===e.type.name},54604:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var i=n(55729),a=n(39247),r=n(27002),s=n(25778),l=n(43634),o=n(85235),c=n(6845);n(61385);let d=e=>{let t=(0,i.useRef)("doc"),n=(0,s.CU)(),d=(0,s.GV)(a.NG),u=(0,s.GV)(n=>{let i=(0,l.$i)(n)||"",a=(0,l.Ev)(n),s=(0,l.bO)(n),c=(0,l.wC)(n),u=a.parents[i]||[],p=u.reduce((e,t)=>e[t],a.tree),h=s.includes(i),g=c===o.w.SLIDE_VIEW;if(g&&!h||!g&&h)return t.current;if(!g&&!h)return"doc";let m=s.filter(e=>p[e]&&!(null==d?void 0:d[e])),x=e=>p[e]?m.indexOf(e)-m.indexOf(i):1/0,f=x(e),b=u.indexOf(e)>-1,C=m.some(t=>p[t][e]&&1>=Math.abs(x(t))),y=i===e,v=r.of.get("presentModeFlat"),w=a.parents[e];if(!w)return t.current;let A=w.includes(i);return C||v&&A?"presentCollapsed":b?"presentParent":y?"presentCurrent":-1===f?"presentPrev":1===f?"presentNext":"doc"});return(0,i.useEffect)(()=>{t.current=u;let i=n.getState();if((0,l.e4)(i))return;let a=r.of.get("presentModeFlat");"presentCollapsed"!==u||a?["presentParent","presentCurrent","presentPrev","presentNext"].includes(u)&&(0,c.wE)(e,!1):(0,c.wE)(e,!0)},[n,u,e]),[u,t.current]}},54765:(e,t,n)=>{"use strict";n.d(t,{u:()=>nk});var i=n(6029),a=n(26420),r=n(21938),s=n(33170),l=n(58495),o=n(55729),c=n(82328),d=n(27002),u=n(25778),p=n(63902),h=n(43607),g=n(73326),m=n(43634),x=n(30892),f=n(29608),b=n(11403),C=n(50764);let y=e=>{let{editor:t,decorations:n}=e,i=n.filter(e=>!!e.spec.isMobileAnnotation),[a,r]=(0,o.useState)(null),s=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(0===i.length){null!==s.current&&(document.removeEventListener("touchstart",s.current),s.current=null,r(null));return}s.current||(r({left:i[0].spec.offsetX,top:i[0].spec.offsetY}),s.current=e=>{e.target.closest(".mobile-add-comment-widget")||t.commands.setMobileAddBlockComment(null)},document.addEventListener("touchstart",s.current))},[t,i]),a};var v=n(46898),w=n(74158),A=n(17928),k=n(92397),L=n(6181),j=n(77650),E=n(37243),S=n(13731),M=n.n(S),I=n(26194),_=n.n(I),D=n(35342),R=n.n(D),T=n(83817),z=n.n(T),H=n(88586),N=n(58809),B=n(73014),P=n(33201),F=n(56603),V=n(19275),O=n(831),Z=n.n(O);let W=(e,t)=>{for(let n of e){if(n.id===t)return t;for(let e of n.replies||[])if(e.id===t)return n.id}return null},U=e=>{let{reactions:t,emoji:n,user:i}=e,a=t.find(e=>e.emoji===n);return a&&a.reactions.find(e=>{var t;return e.emoji===n&&(null==(t=e.users)?void 0:t.find(e=>e.id===(null==i?void 0:i.id)))})||null},G=e=>{let{reactions:t,emoji:n,user:i}=e;return!!U({reactions:t,emoji:n,user:i})},K=e=>{let{reactions:t,emoji:n}=e,i=t.find(e=>e.emoji===n);return i&&i.reactions.find(e=>e.emoji===n)||null},Q=e=>Z()(e.reactions.flatMap(e=>e.users),"id"),q=(0,f.Xb)()?"bottom":"top";function J(e){return e?e.reduce((e,t)=>(t.targetId&&(e[t.targetId]?e[t.targetId].push(t):e[t.targetId]=[t]),e),{}):null}let $=e=>e.filter(e=>!!e.spec.isAnnotation),Y=e=>(0,u.GV)(t=>{let n=(0,N.Jo)(t),i=J(((null==n?void 0:n.comments)||[]).filter(e=>e.status===H.EB6.Open));if(!i)return[];let a=$(e);return R()(a,e=>{let{spec:t}=e;return i[t.id]}).filter(Boolean)},z()),X=e=>e.filter(e=>!!e.spec.isDraftComment).map(e=>e.spec.comment),ee=e=>{let{draftComment:t,clearDraftComment:n,editor:i}=e,[a]=(0,H.eRM)(),r=(0,v.d)(),s=i.gammaDocId,{user:l}=(0,L.ur)();return e=>{var o;if(!t)return;let{relativePos:c,targetId:d}=t,u=(0,F.d_)(i.state,c);if(!u)throw Error("Could not save comment, null pos from relativePos");let p=(0,E.eL)(i.state.doc.resolve(u),P.jg),h=i.view.state.doc.nodeAt(u),g=t.targetHtml||(0,B.Lo)(h,["footnote","footnoteLabel","cardNotes"]),m=t.targetHtml||(0,B.V6)(h,["footnote","footnoteLabel","cardNotes"]);i.commands.addAnnotation({id:d,pos:u});let x={targetId:d,docId:s,cardId:null==p||null==(o=p.node)?void 0:o.attrs.id,content:e,targetHtml:g,targetText:m};a({variables:{input:x},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(s),fragment:V.Mi,fragmentName:"DocCommentsCreate",data:{comments:[null==n?void 0:n.createComment]}})},optimisticResponse:{createComment:{id:"temp-id",commentId:"",__typename:"Comment",...x,content:JSON.parse(JSON.stringify(e)),user:l,archived:!1,reactions:[],replies:[],status:H.EB6.Open,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),r({title:j.Ru._({id:"4kSebh"}),status:"success",duration:5e3,isClosable:!1,position:q}),n()}},et=(e,t)=>{(0,o.useEffect)(()=>{let n=!0,i=i=>{let{selectionPos:a,parentPos:r,text:s}=i;n&&e()===r&&t({targetHtml:s,getPos:()=>a})};return A.LF.on(A.DN.CREATE_COMMENT_FROM_SELECTION,i),()=>{A.LF.on(A.DN.CREATE_COMMENT_FROM_SELECTION,i),n=!1}},[e,t])},en=e=>{let{showComment:t,comments:n,blockAllowsCommenting:i,highlightDuration:a=4e3}=e,[r,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=!0,r=r=>{let{commentId:l,highlightComment:o=!1}=r;if(!e||!i)return;let c=W(n,l);c&&(t(c),o&&(s(l),setTimeout(()=>{e&&s(null)},a)))};return A.LF.on(A.DN.OPEN_POPUP_COMMENT,r),()=>{A.LF.off(A.DN.OPEN_POPUP_COMMENT,r),e=!1}},[n,i,a,t]),r},ei=e=>{let t=(0,w.wA)(),n=(0,u.GV)((0,m.iZ)(e)),i=(0,o.useRef)(null),[a,r]=(0,o.useState)(!1),s=(0,o.useCallback)(e=>{i.current=e,r(!!e)},[]),l=(0,o.useCallback)(()=>{i.current=n,r(!!n)},[n]),c=(0,o.useCallback)(()=>{var n;if(!i.current||!(null==(n=i.current.text)?void 0:n.length))return void t((0,m.zq)({id:e}));t((0,m.rR)({id:e,reply:i.current}))},[e,t]),d=(0,o.useRef)(c);return(0,o.useEffect)(()=>{d.current=c},[c]),(0,o.useEffect)(()=>(l(),()=>{d.current()}),[]),{hasLocalDraftReply:a,initialDraftReply:i.current,updateLocalDraftReply:s}},ea=e=>(0,u.GV)(t=>{let n=(0,N.Jo)(t),i=J((null==n?void 0:n.reactions)||[]);if(!i)return[];let a=$(e),r=R()(a,e=>{let{spec:t}=e;return i[t.id]}).filter(Boolean),s=M()(r,"emoji"),l=[];for(let[e,t]of Object.entries(s)){let n=t.reduce((e,t)=>e+t.count,0);l.push({emoji:e,count:n,reactions:t})}return _()(l.filter(e=>e.count>0),"count").reverse()},z());var er=n(58959),es=n(55597),el=n(40452),eo=n(26385),ec=n(17496),ed=n(99492),eu=n(19564),ep=n(4014),eh=n(5061),eg=n(80180),em=n(49611),ex=n(74676),ef=n(48621);let eb=(0,o.memo)(e=>{let{isMobile:t,icon:n,badgeCount:a,tooltip:r,children:l,...o}=e;t&&delete o._hover;let c=(0,i.jsx)(er.z,{className:"block-comment-button-wrapper",children:(0,i.jsxs)(em.$,{variant:"custom",borderRadius:"full",size:"sm",bgGradient:"none",color:"yellow.600",boxSize:t?10:8,border:t?"":"1px solid white",transitionProperty:"common",transitionDuration:"normal",_hover:t?{}:{bgGradient:"linear(to-b, yellow.300, yellow.400)",color:"yellow.700"},...o,children:[n&&(0,i.jsx)(ef.g,{size:t?"lg":"sm",icon:n}),l&&l,void 0!==a&&(0,i.jsx)(ex.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,right:-1,shadow:"base","data-testid":"badge-count",children:a})]})});return r?(0,i.jsx)(s.Tz,{placement:"left",label:r,children:c}):c});eb.displayName="GenericBlockCommentButton";var eC=n(89122);let ey="350px",ev="temp-id";var ew=n(65978);let eA=e=>{let{comments:t,reactions:n,draftComment:i}=e;if(i&&i.text.trim().length>0)return"draft";if(0===t.length)return 0===n.length?"fresh":"reactions-only";if(1===t.length)return"single-thread";if(t.length>1)return"multiple-threads";throw Error("Invalid button state")},ek=e=>{let{comments:t,reactions:n}=e,i={};return t.forEach(e=>{i[e.id]=[e.user],e.replies.forEach(t=>{i[e.id].push(t.user)})}),Object.entries(i).forEach(e=>{let[t,n]=e;i[t]=Z()(n,"id")}),i},eL=e=>{let{reactions:t}=e,n={};return t.forEach(e=>{n[e.emoji]=Z()(e.reactions.flatMap(e=>e.users),"id")}),n},ej=e=>{let{comments:t,reactions:n,draftComment:i}=e,a=eA({comments:t,reactions:n,draftComment:i});return{state:a,allCount:t.reduce((e,t)=>{var n;return e+((null==(n=t.replies)?void 0:n.length)||0)},0)+n.reduce((e,t)=>e+t.count,0)+t.length,overflowReactionCount:Math.max(0,n.length-7)}},eE=e=>{let{comments:t,reactions:n}=e,i=n.flatMap(e=>e.reactions.map(e=>e.users)).flat(),a=t.map(e=>e.user).concat(t.map(e=>e.replies.map(e=>e.user)).flat()).filter(Boolean),r=ek({comments:t,reactions:n}),s=Z()([...a,...i],"id"),l=[],o=eL({reactions:n});return t.forEach(e=>{l.push(r[e.id])}),{allAvatars:s,reactionAvatars:o,commentAvatars:l}},eS=e=>{let{popup:t,isMobile:n,isHovered:i,comments:a,reactions:r,draftComment:s,enableReactions:l}=e,{state:c}=ej({comments:a,reactions:r,draftComment:s}),d=n||l&&i||!l&&i&&"fresh"!==c||null!==t;return(0,o.useEffect)(()=>{n||(d?document.body.classList.add("is-taking-action"):document.body.classList.remove("is-taking-action"))},[d,n]),{isExpanded:d}},eM=e=>{let{isOpen:t,popupRef:n,onClose:i}=e;(0,eC.j)({ref:n,handler:e=>{var n,a,r,s,l,o,c;(0,f.mG)()&&!(null==e||null==(n=e.target)?void 0:n.closest(".".concat(ew.V," [data-controls-toggle-button]")))||!t||(null==e||null==(a=e.target)?void 0:a.closest("[data-controls-toggle-button]"))||(null==e||null==(r=e.target)?void 0:r.closest('[data-target-name="emoji-list"]'))||(null==e||null==(s=e.target)?void 0:s.closest('[data-target-name="mention-list"]'))||(null==e||null==(l=e.target)?void 0:l.closest('[data-target-name="reaction-emoji-picker"]'))||(null==e||null==(o=e.target)?void 0:o.closest(".chakra-menu__menu-list"))||(null==e||null==(c=e.target)?void 0:c.closest('[data-target-name="doc-mention-popup"]'))||i()}})},eI=e=>{let{editor:t,getPos:n}=e,i=n(),a="number"==typeof i?t.view.nodeDOM(i):null,[r,s]=(0,o.useState)(null);return((0,o.useLayoutEffect)(()=>{s(a instanceof HTMLElement?a.offsetHeight:100)},[]),null===r)?null:Math.min(r,128)};var e_=n(48810),eD=n(3276),eR=n(77850);let eT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.length?1===e.length?e[0]:2===e.length?e.join(" and "):e.length<=t?"".concat([e.slice(0,e.length-1).join(", "),e[e.length-1]].join(", and ")):"".concat([e.slice(0,t).join(", "),"".concat(e.length-t," ").concat(e.length-t>1?"others":"other")].join(", and ")):null},ez=e=>{let{users:t,selfUserId:n}=e;return eT(t?[...t].sort(e=>(null==e?void 0:e.id)===n?-1:1).map(e=>(null==e?void 0:e.id)===n?"You":(null==e?void 0:e.displayName)||""):[])},eH=(0,eR.P)(a.a),eN=(0,o.memo)(e=>{let{emojis:t,rtlEnabled:n}=e;return(0,i.jsx)(i.Fragment,{children:null==t?void 0:t.map((e,a)=>0===a?(0,i.jsx)(eH,{initial:{x:n?"-6px":"6px",y:"5px"},textShadow:(null==t?void 0:t.length)>1?"0px 1px 3px rgba(0,0,0,.4)":"none",fontSize:"20px",position:"absolute",zIndex:1,children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):1===a?(0,i.jsx)(eH,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"10deg",x:n?"-18px":"18px",y:"-3px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):2===a?(0,i.jsx)(eH,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"16px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):3===a?(0,i.jsx)(eH,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"-3px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):null)})});eN.displayName="EmojiCluster";let eB=(0,eR.P)(a.a),eP=(0,o.memo)(e=>{let{emoji:t,emojiCluster:n,isMobile:r,user:l,canReact:c,reaction:d,badgeCount:u,onClick:p,...h}=e,g=(0,eh.fW)(),m=Q(d),x=!!m.find(e=>e.id===(null==l?void 0:l.id)),f=ez({users:m,selfUserId:(null==l?void 0:l.id)||""}),b=(0,i.jsxs)(a.a,{alignContent:"center",children:[(0,i.jsx)(eu.x6,{id:"mRnNF/",values:{usersLabel:f,emoji:t},components:{0:(0,i.jsx)(e_.E,{as:"span",color:"gray.300"})}}),c&&(0,i.jsx)(e_.E,{display:"block",color:"gray.500",children:x?(0,i.jsx)(eu.x6,{id:"fb/FjL"}):(0,i.jsx)(eu.x6,{id:"AG3H1y"})})]}),C=(0,i.jsx)(er.z,{className:"block-comment-button-wrapper",children:(0,i.jsxs)(em.$,{variant:"ghost",borderRadius:"full",size:"sm",boxSize:r?10:8,transitionProperty:"common",transitionDuration:"normal",...x?{bg:"gray.50",borderColor:r?"blackAlpha.200":"gray.200"}:{},...h,onClick:e=>{c&&p&&p(e)},pos:"relative",children:[(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(eD.y,{size:"sm"}),children:(0,i.jsxs)(e_.E,{pos:"absolute",inset:0,as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"},":hover::before":r?{}:{backgroundColor:"transparent"}}},fontSize:r?"1.5em":"1.25em",children:[!n&&(0,i.jsx)(eB,{initial:{x:g?"-6px":"6px",y:"5px"},fontSize:"20px",position:"absolute",zIndex:1,children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:t})}),(0,i.jsx)(ep.N,{children:(0,i.jsx)(eN,{emojis:n,rtlEnabled:g})})]})}),void 0!==u&&(0,i.jsx)(ex.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,insetEnd:-1,shadow:"base",zIndex:1,children:u})]})});return b?(0,i.jsx)(s.Tz,{placement:"left",label:b,children:C}):C});eP.displayName="ReactionButton";let eF={bg:"yellow.600",color:"yellow.100",_hover:{bg:"yellow.600",color:"yellow.100"}},eV={bg:"yellow.100",color:"yellow.800"},eO="linear(to-b, yellow.200, yellow.300)",eZ=e=>{e.stopPropagation()},eW=(0,o.memo)(e=>{let{user:t,userCanComment:n,isExpanded:r,isMobile:s,comments:l,reactions:o,draftComment:c,onClickThread:d,onClickAddComment:u,onClickAddReaction:p,onClickReactionsOverflow:h,onClickExistingReaction:g,onClosePopup:m,hideAddCommentButton:x=!1,viewingCommentId:f,enableReactions:b,blockAllowsCommenting:C,...y}=e,v=(0,eh.fW)(),{state:w,allCount:A,overflowReactionCount:k}=ej({comments:l,reactions:o,draftComment:c}),L=[];if(!r)switch(w){case"draft":L.push((0,i.jsx)(eb,{isMobile:s,icon:ed.I$7,onClick:u,bg:r?"gray.50":"white",_hover:eV,color:"gray.600"},"draft"));break;case"fresh":L.push((0,i.jsx)(eb,{isMobile:s,icon:es.vdI,bg:r?"gray.50":"white",_hover:eV,color:"gray.600",bgGradient:eO,tooltip:(0,i.jsx)(eu.x6,{id:"oFsfkI"}),"data-testid":"create-comment-button",onClick:u},"fresh"));break;case"reactions-only":if(o.length>0){let e=o[0],a=o.reduce((e,t)=>(e.push(t.emoji),e),[]);L.push((0,i.jsx)(eP,{isMobile:s,onClick:t=>{g(e),t.stopPropagation()},reaction:e,user:t,badgeCount:A,emoji:e.emoji,"data-testid":"reaction-".concat(e.emoji),emojiCluster:a,canReact:n&&C},e.emoji))}break;case"single-thread":L.push((0,i.jsx)(eb,{isMobile:s,icon:es.DN2,bgGradient:eO,badgeCount:A,"data-testid":"single-thread"},"first-thread"));break;case"multiple-threads":L.push((0,i.jsx)(eb,{isMobile:s,bgGradient:eO,icon:es.q9p,badgeCount:A,"data-testid":"multiple-threads"},"first-thread"))}return(r&&(l.forEach((e,t)=>{let n=null!==f&&e.id===f,a=n?()=>m():()=>d(e);L.push((0,i.jsx)(eb,{isMobile:s,icon:es.DN2,badgeCount:e.replies.length+1,bgGradient:eO,onClick:a,"data-testid":"thread-".concat(t),...n?eF:{}},0===t?"first-thread":"thread-".concat(t)))}),b&&(o.slice(0,7).forEach(e=>{L.push((0,i.jsx)(eP,{isMobile:s,onClick:t=>{g(e),t.stopPropagation()},"data-testid":"reaction-".concat(e.emoji),reaction:e,user:t,badgeCount:e.count,emoji:e.emoji,canReact:n&&C},e.emoji))}),k>0&&L.push((0,i.jsxs)(eb,{isMobile:s,onClick:()=>{h()},bg:"gray.50",color:"yellow.800",_hover:eV,children:["+",k]},"reactions-overflow"))),"draft"===w?L.push((0,i.jsx)(eb,{isMobile:s,icon:ed.I$7,tooltip:(0,i.jsx)(eu.x6,{id:"x8Zuns"}),onClick:u,bg:r?"gray.50":"white",_hover:eV,"data-testid":"create-comment-button-draft",color:"gray.600"},"draft")):x||s||L.push((0,i.jsx)(eb,{isMobile:s,icon:es.vdI,transform:v?"scaleX(-1)":"",bgGradient:eO,tooltip:(0,i.jsx)(eu.x6,{id:"oFsfkI"}),onClick:u,bg:r?"gray.50":"white",_hover:eV,"data-testid":"create-comment-button",color:"gray.600"},"fresh")),b&&n&&!x&&!s&&L.push((0,i.jsx)(eb,{isMobile:s,icon:es.Q3O,transform:v?"scaleX(-1)":"",bgGradient:eO,onClick:()=>{p()},tooltip:(0,i.jsx)(eu.x6,{id:"9OEgyT"}),"data-testid":"add-reaction-button",bg:"gray.50",_hover:eV,color:"gray.600"},"add-reaction"))),s)?(0,i.jsx)(el.s,{className:"block-comments-inner-stack",userSelect:"none",transitionProperty:"all",transitionDuration:"fast",flexDir:"row",flexWrap:"wrap",onClick:eZ,children:L}):(0,i.jsxs)(eo.B,{className:"block-comments-inner-stack",userSelect:"none",spacing:0,width:"34px",transitionProperty:"all",transitionDuration:"fast",onClick:eZ,borderRadius:"full",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white",border:"1px solid transparent",onMouseDown:eg.Fw,"data-testid":"block-comments-buttons",...y,children:[(0,i.jsx)(a.a,{children:L[0]}),(0,i.jsx)(ec.S,{in:r,startingHeight:0,transitionEnd:{enter:{overflow:"initial"}},children:(0,i.jsx)(ep.N,{children:L.length>1&&(0,i.jsx)(eo.B,{spacing:1,children:L.slice(1)})})})]})});eW.displayName="BlockCommentsButtons";let eU=(0,o.memo)(e=>{let{onClickAddComment:t,onClickAddReaction:n,...r}=e;return(0,i.jsx)(a.a,{className:"mobile-add-comment-widget",pos:"absolute",transform:"translate(-50%,-50%) scale(1)",mt:-6,background:"white",p:"4px",borderRadius:"full",shadow:"lg",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1);",zIndex:9,...r,children:(0,i.jsxs)(er.z,{spacing:1,children:[(0,i.jsx)(eb,{isMobile:!0,icon:es.vdI,bg:"white",_hover:eV,color:"gray.600",bgGradient:eO,onClick:()=>{t()}},"fresh"),(0,i.jsx)(eb,{isMobile:!0,icon:es.Q3O,bgGradient:eO,onClick:()=>{n()},bg:"white",_hover:eV,color:"gray.600"},"add-reaction")]})})});eU.displayName="MobileAddCommentWidget";var eG=n(16842),eK=n(96990);let eQ=(0,o.memo)(e=>{let{comments:t,reactions:n,isExpanded:a,avatarMax:r=4}=e,{allAvatars:s,reactionAvatars:l,commentAvatars:o}=eE({comments:t,reactions:n});return(0,i.jsxs)(eo.B,{className:"avatar-group-popup",spacing:1,transitionProperty:"common",transitionDuration:"fast",onClick:e=>{e.stopPropagation()},p:"1px",ps:3,userSelect:"none",children:[!a&&(0,i.jsx)(eG.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:s.map((e,t)=>(0,i.jsx)(eK.e,{zIndex:s.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"unexpanded-".concat(null==e?void 0:e.id)))}),a&&(0,i.jsxs)(i.Fragment,{children:[o.map((e,t)=>(0,i.jsx)(eG.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:e.map((e,t)=>(0,i.jsx)(eK.e,{zIndex:s.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"comment-".concat(null==e?void 0:e.id)))},"comment-".concat(t))),n.slice(0,7).map((e,t)=>(0,i.jsx)(eG.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:l[e.emoji].map((e,t)=>(0,i.jsx)(eK.e,{zIndex:s.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"reaction-".concat(null==e?void 0:e.id)))},"reaction-".concat(t)))]})]})});eQ.displayName="AvatarGroupPopup";let eq=e=>{let{isMobile:t,emoji:n}=e,a=j.Ru._({id:"r2ONxg"});return(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(eD.y,{size:"sm"}),children:(0,i.jsxs)(e_.E,{as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"}}},children:[(0,i.jsx)("em-emoji",{size:0,native:!0,id:n})," ",a,"."]})})};var eJ=n(57405),e$=n(23293),eY=n(80314),eX=n(58297),e0=n(81107),e1=n(37219),e2=n(91938),e3=n(82169),e5=n(8205);let e4=null,e6=null,e9=e=>{var t,n,i,a,r,s;let{event:l,errorCallback:o,redirectTo:c,doneCallback:d}=e,{data:u}=l;if("loginComplete"===u.type&&(0,e3.v)({data:null==u||null==(t=u.payload)?void 0:t.data,redirectTo:c,doneCallback:d,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"signupComplete"===u.type&&(0,e3.W)({data:null==u||null==(n=u.payload)?void 0:n.data,redirectTo:c,doneCallback:d,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"loginFailure"===u.type){let e=null==l||null==(a=l.data)||null==(i=a.payload)?void 0:i.code,t=null==l||null==(s=l.data)||null==(r=s.payload)?void 0:r.emailDomain;if(!o)return void console.error("No error callback defined");if(!e)return void console.error("No code defined");o(e,t)}};var e7=function(e){return e.ACCEPT_DOC_INVITATION="accept-doc-invitation",e.ACCEPT_WORKSPACE_INVITATION="accept-workspace-invitation",e.DOC_ACCESS_LINK="doc-access-link",e.JOIN_WITH_CODE="join-with-code",e.DEFAULT_LOGIN="login",e.SIGNUP="signup",e}({});let e8=(e,t)=>{switch(e){case"join-with-code":{let{workspaceId:e,inviteCode:n,referredByUserId:i}=t,a=new URL("".concat(e2.$.API_HOST||"https://gamma.app","/organizations/").concat(e,"/join/").concat(n));return i&&a.searchParams.set("referredByUserId",i),a.toString()}case"accept-doc-invitation":{let{docId:e,email:n,inviteCode:i}=t;return"".concat(e2.$.API_HOST,"/invitations/docs/").concat(e,"/?inviteCode=").concat(i,"&email=").concat(n)}case"accept-workspace-invitation":{let{workspaceId:e,email:n,inviteCode:i}=t;return"".concat(e2.$.API_HOST,"/invitations/workspaces/").concat(e,"?inviteCode=").concat(i,"&email=").concat(n)}case"doc-access-link":{let{docId:e,shareToken:n}=t;return"".concat(e2.$.API_HOST,"/access-links/docs/").concat(e,"/?token=").concat(n)}case"signup":{let{inviteCode:e,referredByUserId:n,partnerStackClickId:i,partnerStackPartnerId:a}=t,r=new URL("".concat(e2.$.API_HOST||"https://gamma.app","/signup"));return e&&r.searchParams.set("inviteCode",e),n&&r.searchParams.set("referredByUserId",n),i&&r.searchParams.set("partnerStackClickId",i),a&&r.searchParams.set("partnerStackPartnerId",a),r.toString()}default:return"".concat(e2.$.API_HOST,"/login")}},te=e=>{let{type:t,params:n,errorCallback:i,redirectTo:a,doneCallback:r}=e,s=e8(t,n),l="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===e4||e4.closed?e4=window.open(s,t,l):e6!==s?null!==(e4=window.open(s,t,l))&&e4.focus():e4.focus(),(0,e5.EM)().addEventListener("message",e=>{e9({event:e,errorCallback:i,redirectTo:a,doneCallback:r})}),e6=s};var tt=n(81278),tn=n(99038);let ti={invalid_signup_code:{title:(0,i.jsx)(eu.x6,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:tn.On}}),description:(0,i.jsx)(eu.x6,{id:"hVNvhu"})},invalid_reset_code:{title:(0,i.jsx)(eu.x6,{id:"SvShcH"}),description:(0,i.jsx)(eu.x6,{id:"Vm3y4h"})},invalid_user:{title:(0,i.jsx)(eu.x6,{id:"a2AYF6"}),description:(0,i.jsx)(eu.x6,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:tn.On}})},other_workspace_member:{title:(0,i.jsx)(eu.x6,{id:"J5F9Vo"}),description:(0,i.jsx)(eu.x6,{id:"PX8jn2",values:{GAMMA_PROPER_NOUN:tn.On,GAMMA_SUPPORT_EMAIL_ADDRESS:tn.uz}})},sso_required:{title:(0,i.jsx)(eu.x6,{id:"g4GJrR"}),description:(0,i.jsx)(()=>{let e=(0,tt.useRouter)(),t=(0,v.d)();return(0,i.jsx)(eu.x6,{id:"ujLUuZ",components:{0:(0,i.jsx)(eY.N,{textDecoration:"underline",onClick:()=>{e.push("/sso"),t.closeAll()},cursor:"pointer"})}})},{})},sso_required_redirect:{title:"",description:""}};var ta=n(44637);let tr=e=>{var t,n,a;let{accessLink:r,doc:s,refetchFn:l,...o}=e,c=!(0,f._y)(),d=(0,v.d)(),{refetch:u}=(0,L.ur)(),p=l||u,h=e=>{let{title:t,description:n}=ti[e]||{title:(0,i.jsx)(eu.x6,{id:"U7nnQt"}),description:e};d.isActive(e)||d({title:t,description:n,position:"top",id:e,status:"error",isClosable:!0,duration:null})},g=null!=(n=null==r?void 0:r.permission)?n:"view",m={manage:(0,i.jsx)(eu.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP}}),edit:(0,i.jsx)(eu.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP}}),comment:(0,i.jsx)(eu.x6,{id:"gu6c+c",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP}}),view:(0,i.jsx)(eu.x6,{id:"LoR9yH",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP}})}[g],x={manage:(0,i.jsx)(eu.x6,{id:"MEeXaP"}),edit:(0,i.jsx)(eu.x6,{id:"MEeXaP"}),comment:(0,i.jsx)(eu.x6,{id:"dx3Kfr"}),view:(0,i.jsx)(eu.x6,{id:"R2ZEYO"})}[g],b={manage:{icon:es.zLW,colorScheme:"sky"},edit:{icon:es.zLW,colorScheme:"sky"},comment:{icon:es.DN2,colorScheme:"yellow"},view:{icon:es.ao0,colorScheme:"green"}},C=null!=(a=null==s||null==(t=s.editors)?void 0:t.map(e=>e.user.displayName))?a:[],y=(()=>{switch(g){case"manage":case"edit":switch(C.length){case 0:return(0,i.jsx)(eu.x6,{id:"bspMVx",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP},components:{0:(0,i.jsx)("span",{role:"img","aria-label":j.Ru._({id:"JGFG6q"})}),1:(0,i.jsx)("strong",{})}});case 1:return(0,i.jsx)(eu.x6,{id:"w49thS",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP,0:C[0]},components:{0:(0,i.jsx)("span",{role:"img","aria-label":j.Ru._({id:"JGFG6q"})}),1:(0,i.jsx)("strong",{})}});case 2:return(0,i.jsx)(eu.x6,{id:"Tz4Wi7",values:{0:C[0],1:C[1]},components:{0:(0,i.jsx)("span",{role:"img","aria-label":j.Ru._({id:"7Lrnj6"})}),1:(0,i.jsx)("strong",{}),2:(0,i.jsx)("strong",{})}});default:return(0,i.jsx)(eu.x6,{id:"VhIJ/j",values:{0:C[0],1:C.length-1},components:{0:(0,i.jsx)("span",{role:"img","aria-label":j.Ru._({id:"7Lrnj6"})}),1:(0,i.jsx)("strong",{})}})}case"comment":return(0,i.jsx)(eu.x6,{id:"vIOI7i",components:{0:(0,i.jsx)("span",{role:"img","aria-label":j.Ru._({id:"OoNfwA"})}),1:(0,i.jsx)("strong",{}),2:(0,i.jsx)("strong",{})}});default:return(0,i.jsx)(eu.x6,{id:"k/HcwJ",values:{GAMMA_ARTIFACT_PROPER_NOUN:tn.TP},components:{0:(0,i.jsx)("strong",{})}})}})(),w=async()=>{p&&(await p(),(0,ta.Us)()),d.isActive("login-complete")||d({title:(0,i.jsx)(eu.x6,{id:"yFvQAN"}),description:m,position:"top",id:"login-complete",status:"success",isClosable:!0,duration:5e3})};return(0,i.jsxs)(eJ.T,{align:"stretch",...o,children:[(0,i.jsxs)(er.z,{spacing:4,me:6,children:[(0,i.jsx)(ts,{icon:(0,i.jsx)(ef.g,{icon:b[g].icon}),colorScheme:b[g].colorScheme}),(0,i.jsx)(e$.D,{as:"p",size:"sm",children:x})]}),(0,i.jsx)(e_.E,{fontSize:"sm",children:y}),(0,i.jsxs)(eo.B,{children:[c&&(0,i.jsx)(em.$,{variant:"solid",leftIcon:(0,i.jsx)(ef.g,{icon:e0.FjH}),size:"md",onClick:()=>{te({type:e7.DOC_ACCESS_LINK,params:{docId:null==s?void 0:s.id,shareToken:r.token},errorCallback:h,doneCallback:w})},children:(0,i.jsx)(eu.x6,{id:"oZyG4C"})}),(0,i.jsx)(em.$,{variant:"plain",as:eY.N,target:"_blank",leftIcon:(0,i.jsx)(ef.g,{icon:ed.y_8}),href:"/signup",children:(0,i.jsx)(eu.x6,{id:"yrlCvg"})}),(0,i.jsx)(e_.E,{fontSize:"xs",color:"gray.600",children:(0,i.jsx)(eu.x6,{id:"oXChp6",values:{GAMMA_PROPER_NOUN:tn.On},components:{0:(0,i.jsx)(eY.N,{href:e1.er,isExternal:!0,fontWeight:"bold"}),1:(0,i.jsx)(eY.N,{href:e1.WO,isExternal:!0,fontWeight:"bold"})}})})]})]})},ts=e=>{let{icon:t,colorScheme:n}=e;return(0,i.jsxs)(eX.j,{size:10,bg:"linear-gradient(to bottom, var(--chakra-colors-".concat(n,"-200), var(--chakra-colors-").concat(n,"-300))"),position:"relative",children:[(0,i.jsx)(a.a,{color:"".concat(n,".600"),display:"block",mt:"0.5",textAlign:"center",children:t}),(0,i.jsx)(eX.j,{size:5,position:"absolute",bottom:-1,right:-1,color:"".concat(n,".800"),bg:"".concat(n,".100"),boxShadow:"base",fontSize:"xs",children:(0,i.jsx)(ef.g,{icon:es.QLR})})]})};var tl=n(96500);let to=e=>{let{accessLink:t,doc:n,className:a,showDivider:r=!0}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tr,{accessLink:t,doc:n,p:6,spacing:4,className:a}),r&&(0,i.jsx)(tl.c,{})]})};var tc=n(24302),td=n(29810),tu=n(70315),tp=n(15607),th=n(55153),tg=n(11037),tm=n(87140),tx=n(32973),tf=n(1739),tb=n(58617),tC=n(45574),ty=n(12665),tv=n(2320),tw=n(25600);let tA=n(83902).A.extend({parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,E.KV)(t,{dir:"auto"}),0]}}),tk=()=>[tg.A.configure({horizontalRule:!1,codeBlock:!1,paragraph:!1}),tA,tv.c,th.Ay.configure({openOnClick:!1}),tx.N,tb.c,ty.M9,ty.lw,ty.BF,tf.Hf,tm.a,tf.mk,tC.Q8,tw.bU],tL=(0,tu.v_)("mod+Enter"),tj=(0,tu.v_)("mod+a"),tE=o.memo(e=>{let{clearContentOnSave:t=!1,editable:n=!0,saveButtonText:r=(0,i.jsx)(eu.x6,{id:"tfDRzk"}),saveButtonIcon:l=(0,i.jsx)(ef.g,{icon:ed.isI}),initialContent:c="",placeholder:d="Reply",showBorder:u=!0,onCancelEditingClick:p,onCommentSave:h,onCreate:x=()=>{},onUpdate:f=()=>{},shouldFocus:C=!0,alwaysShowButtons:y=!1,...v}=e,A=(0,o.useMemo)(()=>tk(),[]),k=(0,w.d4)(m.sX),L=(0,w.d4)(m.aQ),j=(0,g.hG)({extensions:A,content:c,onCreate:e=>{let{editor:t}=e;x({editor:t}),t.gammaDocId=k,t.gammaOrgId=L},onUpdate:e=>{let{editor:t,transaction:n}=e;f({editor:t,transaction:n})},editable:n,immediatelyRender:!0});(0,b.Vg)(()=>{C&&j.isEditable&&j.commands.focus("end")},[j,C],[j]),(0,o.useEffect)(()=>{n||j.commands.setContent(c)},[j,c,n]);let{colorMode:E}=(0,tc.G6)(),S="light"===E,M=e=>{tj(e)&&(e.preventDefault(),j.commands.selectAll()),tL(e)&&(e.preventDefault(),e.stopPropagation(),I())},I=()=>{!(!h||!j||(0,tp.mf)(j.state.doc)||(0,tp.nC)(j.state.doc))&&(h(j.getJSON()),t&&j.commands.clearContent(!0))};return n?(0,i.jsxs)(el.s,{"data-gamma-child-tiptap-editor":"comment-editor",direction:"column",...v,children:[(0,i.jsx)(a.a,{tabIndex:0,w:"100%",onKeyDownCapture:M,onKeyPressCapture:M,className:"comment-editor",color:S?"gray.700":"gray.200",bg:S?"white":"gray.700",...u?{border:"1px solid",borderColor:S?"gray.200":"gray.600",borderRadius:"md"}:{},sx:{"p:first-of-type::before":j.isEmpty?{content:'"'.concat(d,'"'),float:"left",color:S?"gray.400":"gray.500",pointerEvents:"none",height:"0"}:""},fontSize:"sm",children:(0,i.jsx)(g.$Z,{editor:j,className:"comment-editor",style:{wordBreak:"break-word",width:"100%"}})}),(0,i.jsxs)(ec.S,{in:!!(y||!j.isEmpty),children:[(0,i.jsx)(a.a,{h:3,children:(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(er.z,{children:[(0,i.jsx)(td.h,{}),!!p&&(0,i.jsx)(s.Tz,{label:(0,i.jsx)(eu.x6,{id:"zeQdHz"}),placement:"top",children:(0,i.jsx)(em.$,{size:"sm",variant:"hazardous",onClick:()=>{p&&p(),j.commands.clearContent(!0)},children:(0,i.jsx)(eu.x6,{id:"dEgA5A"})})}),(0,i.jsx)(em.$,{size:"sm",variant:"solid",leftIcon:l,isDisabled:j.isEmpty||(0,tp.nC)(j.state.doc),onClick:I,"data-testid":"post-comment",children:r})]})]})]}):(0,i.jsx)(a.a,{fontSize:"sm",children:(0,i.jsx)(g.$Z,{editor:j})})});tE.displayName="CommentEditor";var tS=n(16936),tM=n(97139),tI=n.n(tM),t_=n(56288);let tD=e=>{let{targetHtml:t,onTargetClick:n,isSourceContentAvailable:r,instanceType:l}=e,[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!1),h=(0,o.useRef)(null),g=(0,t_.EC)(),m=c?ed.AeV:ed.DqM,x=c?j.Ru._({id:"vLyv1R"}):j.Ru._({id:"fMPkxb"});return(0,o.useEffect)(()=>{var e;h.current&&p(!(!c&&h.current.scrollHeight<=(null==(e=h.current)?void 0:e.clientHeight)))},[c]),(0,i.jsxs)(el.s,{className:"block-target-html",ps:3,mb:2,borderInlineStartWidth:"4px",borderInlineStartStyle:"solid",borderInlineStartColor:"yellow.200",direction:"row",alignItems:"flex-end",cursor:r&&"feed"===l?"pointer":"auto",onClick:n,children:[(0,i.jsx)(s.Tz,{label:(0,i.jsx)(eu.x6,{id:"/oHV5h"}),isDisabled:!("feed"===l&&!r),portalProps:{containerRef:g},children:(0,i.jsx)(a.a,{flex:1,ms:-3,ps:3,w:"100%",fontSize:"sm",noOfLines:c?void 0:3,dangerouslySetInnerHTML:{__html:t?tI().sanitize(t):""},ref:h,_hover:{bgColor:"feed"===l?r?"yellow.100":"gray.50":void 0}})}),u&&(0,i.jsx)(s.Tz,{label:x,portalProps:{containerRef:g},children:(0,i.jsx)(tS.K,{variant:"ghost",size:"xs","aria-label":x,icon:(0,i.jsx)(ef.g,{icon:m}),onClick:()=>{d(e=>!e)},"data-target-name":"comment-target-expand-button",isRound:!0})})]})},tR=e=>{let{draftComment:t,showUser:n=!0,showBorder:a=!0,user:r,onCommentDraftUpdate:s,onCommentSave:l,commentIdToHighlight:o,alwaysShowButtons:c=!1,...d}=e;return(0,i.jsxs)(el.s,{direction:"column",...d,children:[n&&(0,i.jsxs)(er.z,{mb:3,pt:3,children:[(0,i.jsx)(eK.e,{src:null==r?void 0:r.profileImageUrl,size:"sm"}),(0,i.jsx)(eo.B,{children:(0,i.jsx)(e_.E,{fontWeight:"bold",fontSize:"sm",children:(0,i.jsx)(eu.x6,{id:"866PMb",values:{0:null==r?void 0:r.displayName}})})})]}),t&&(null==t?void 0:t.targetHtml)&&(0,i.jsx)(tD,{targetHtml:t.targetHtml}),(0,i.jsx)(tE,{onUpdate:s,initialContent:(null==t?void 0:t.json)||null,clearContentOnSave:!0,editable:!0,saveButtonText:(0,i.jsx)(eu.x6,{id:"26iNma"}),placeholder:j.Ru._({id:"UkDQUD"}),onCommentSave:l,showBorder:a,shouldFocus:!!(!(0,f.mG)()&&!o),alwaysShowButtons:c})]})};var tT=n(21290),tz=n(84431);let tH="block-comments-container",tN=e=>{let{offsetFromTop:t,children:n}=e,a=(0,eh.fW)();return(0,i.jsx)(el.s,{contentEditable:!1,suppressContentEditableWarning:!0,color:"gray.800",className:tH,direction:"column",bg:"white",borderRadius:"xl",shadow:"xl",overflowY:"auto",transitionProperty:"common",transitionDuration:"normal",zIndex:tz.$.commentsPopup,bottom:{top:"0px","2xl":"auto"},top:{top:"0px","2xl":"auto"},insetEnd:{base:"44px","2xl":0},width:{base:ey,"2xl":ey},maxW:{base:"90vw",md:"80vw","2xl":ey},transform:{base:"translate(0, ".concat(t,"px)"),"2xl":"translate(calc(".concat(a?"-100% - 10px":"100% + 10px","), 0)")},wordBreak:"break-word",height:"fit-content",maxHeight:"calc(".concat(tT.bc," - 8em)"),position:"absolute",children:n})},tB=e=>{let{onCancel:t,editor:n,commentIdToHighlight:a,userCanComment:r,blockAllowsCommenting:s,getPos:l,draftComment:o,onCommentDraftUpdate:c,onCommentSave:d,isMobile:p}=e,{user:h}=(0,L.ur)(),g=(0,u.GV)(N.Jo),m=(0,ta.h6)(g,h),x=eI({editor:n,getPos:l}),f=m&&!h&&s;if(null===x)return null;let b=(0,i.jsxs)(el.s,{overflowY:"auto",direction:"column",className:"comments-list",p:p||f?0:4,children:[f&&g&&(0,i.jsx)(to,{accessLink:m,doc:g,className:"comments-sign-up",showDivider:!1}),r&&(0,i.jsx)(tR,{draftComment:o,user:h,showUser:p,showBorder:p,onCommentDraftUpdate:c,onCommentSave:d,commentIdToHighlight:a,alwaysShowButtons:p})]});return p?b:(0,i.jsx)(tN,{offsetFromTop:x,children:b})};var tP=n(47317);let tF=e=>{let{isMobile:t,editor:n,onReactionClick:a,getPos:r}=e,s=eI({editor:n,getPos:r});if(null===s)return null;let l=(0,i.jsx)(el.s,{bg:"white",p:"0",zIndex:"tooltip","data-testid":"add-reaction-popup","data-target-name":"reaction-emoji-picker",boxShadow:"none",sx:{".emoji-mart":{border:"none"}},overflow:"hidden",justify:"center",children:(0,i.jsx)(tP.pP,{perLine:9,handlePick:a,shouldFocusSearch:!t})});return t?l:(0,i.jsx)(tN,{offsetFromTop:s,children:l})};var tV=n(68068),tO=n(36071),tZ=n(60628),tW=n(40691),tU=n(3674);let tG=(0,o.forwardRef)(function(e,t){let{isMobile:n,children:r,closePopup:s,drawerMinHeight:l}=e;if(n){let e=l||"calc(calc(100vh - calc(100vh - 100%)) - 1rem)";return(0,i.jsxs)(tV._s,{placement:"bottom",isOpen:!0,onClose:s,children:[(0,i.jsx)(tO.m,{}),(0,i.jsxs)(tZ.z,{minH:e,maxH:e,borderTopRadius:"xl",className:"comments-wrapper","data-block-comments-popup":!0,children:[(0,i.jsx)(tW.c,{p:6,pb:2,className:tH,children:r}),(0,i.jsx)(tU.s,{})]})]})}return(0,i.jsx)(a.a,{ref:t,children:r})}),tK=e=>{let{onCancel:t,reactions:n,onClickExistingReaction:a,editor:r,getPos:s,user:l,userCanComment:c,blockAllowsCommenting:d,isMobile:u}=e,p=eI({editor:r,getPos:s}),h=n.slice(7*!u),g=h.map(e=>(0,i.jsx)(eP,{isMobile:!0,onClick:t=>{a(e),t.stopPropagation()},mr:2,mb:4,reaction:e,user:l,canReact:c&&d,badgeCount:e.count,emoji:e.emoji},e.emoji));if((0,o.useEffect)(()=>{0===h.length&&t()},[t,h]),null===p)return null;let m=(0,i.jsxs)(eo.B,{spacing:4,children:[(0,i.jsx)(e$.D,{size:"md",children:(0,i.jsx)(eu.x6,{id:"7ZMg79"})}),(0,i.jsx)(el.s,{flexWrap:"wrap",children:g})]});return u?m:(0,i.jsx)(tN,{offsetFromTop:p,children:(0,i.jsx)(el.s,{p:4,px:2,pb:0,flexWrap:"wrap",children:g})})};var tQ=n(85011),tq=n(61385),tJ=n(47665),t$=n(75570),tY=n(70006),tX=n(85235),t0=n(53885),t1=n(40162);let t2=e=>{let{docId:t,cardId:n,commentId:i,parentCommentId:a,targetType:r}=e,[s]=(0,H.nkJ)(),[l]=(0,H.eaJ)();function o(e,s,l,o){let c={targetId:r===H.yKx.Comment?i:n,docId:t,emoji:s,cardId:n};return("addReaction"===e&&(c={...c,targetType:r}),r===H.yKx.Comment)?{variables:{reactionInput:c},update:(n,r)=>{let{data:s}=r;n.writeFragment({id:"Doc:".concat(t),fragment:H.U$g,fragmentName:"DocCommentsUpdate",data:{comments:[a?{id:a,replies:[{id:i,reactions:[s[e]],__typename:"Comment"}],reactions:[],__typename:"Comment"}:{id:i,replies:[],reactions:[s[e]],__typename:"Comment"}]}})},optimisticResponse:{[e]:{commentId:i,count:l,emoji:s,users:o,cardId:n,__typename:"Reaction"}}}:void console.error("[useReactionUpdate] Invalid targetType: ".concat(r))}return{addReactionFn:(e,t,n)=>{s(o("addReaction",e,t,n))},removeReactionFn:(e,t,n)=>{l(o("removeReaction",e,t,n))}}};var t3=n(12514),t5=n(26886),t4=n(27229),t6=n(72316);let t9=(e,t)=>e===t||null!=e.parentElement&&t9(e.parentElement,t),t7=e=>{let{setPopperElement:t,onPopoverClose:n,handleReactionClick:r,popperElement:s,openerElement:l,usePortal:o,isMobile:c,placement:d,...u}=e;(0,eC.j)({ref:{current:s},handler(e){l&&t9(e.target,l)||n()}});let p=(0,i.jsx)(a.a,{mx:3*!c,mt:c?0:"-110px",shadow:"lg",bg:"white",p:"0",w:"auto",minW:"0px",zIndex:"tooltip","data-target-name":"reaction-emoji-picker",ref:t,...u,children:(0,i.jsx)(tP.pP,{perLine:c?9:12,handlePick:e=>{r(e.id),n()},shouldFocusSearch:!(0,f.Xb)()})});return o?(0,i.jsx)(t3.Z,{children:p}):p},t8=e=>{let{size:t,colorScheme:n,handleReactionClick:r,placement:l,usePortal:c=!0}=e,[d]=(0,t5.U)(["(max-width: 840px)","(min-width: 841px)"]),{isOpen:u,onToggle:p,onClose:h}=(0,t4.j)(),[g,m]=(0,o.useState)(!1),[x,f]=(0,o.useState)(null),[b,C]=(0,o.useState)(null),{styles:y,attributes:v,forceUpdate:w}=(0,t6.E)(x,b,{placement:d?"auto":"".concat(l,"-start"),strategy:"fixed"});return(0,o.useEffect)(()=>{w&&setTimeout(()=>{w()},0)},[w]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Tz,{placement:nt,label:(0,i.jsx)(eu.x6,{id:"9OEgyT"}),isOpen:g,children:(0,i.jsx)(a.a,{display:"flex",onMouseEnter:()=>{m(!0)},onMouseLeave:()=>m(!1),children:(0,i.jsx)(tS.K,{colorScheme:n,float:"inline-start","aria-label":j.Ru._({id:"9OEgyT"}),variant:"ghost",onClick:e=>{p(),e.stopPropagation()},size:t||"sm",ref:f,isRound:!0,icon:(0,i.jsx)(ef.g,{icon:ed.Q3O})})})}),u&&(0,i.jsx)(t7,{usePortal:c,setPopperElement:C,onPopoverClose:h,handleReactionClick:r,popperElement:b,isPopoverOpen:u,openerElement:x,style:y.popper,isMobile:d,placement:l,...v.popper})]})},ne=e=>{let{colorScheme:t,size:n,emoji:r,label:l,count:c,hasSelfReacted:d,handleReactionClick:u,readOnly:p}=e,{colorMode:h}=(0,tc.G6)(),g="light"===h,m=(0,o.useCallback)(e=>{p||u(r,e)},[r,u,p]);return(0,i.jsx)(s.Tz,{placement:nt,label:(0,i.jsxs)(a.a,{alignContent:"center",children:[l,!p&&(0,i.jsx)(e_.E,{display:"block",color:g?"gray.500":"gray.600",children:d?(0,i.jsx)(eu.x6,{id:"fb/FjL"}):(0,i.jsx)(eu.x6,{id:"AG3H1y"})})]}),children:(0,i.jsxs)(em.$,{cursor:p?"default":"cursor","data-testid":"reaction-button-".concat(r),size:n||"sm",color:g?"gray.500":"gray.300",bg:d?g?"gray.50":"gray.600":"none",borderWidth:"1px",borderStyle:"solid",colorScheme:t,borderColor:d?g?"gray.200":"gray.500":"transparent",_hover:{bg:g?"gray.200":"gray.600"},variant:"ghost",borderRadius:"full",px:2,onClick:m,children:[(0,i.jsx)(tP.mY,{emojiId:r,fontSize:"sm"===n?"lg":"sm"}),(0,i.jsx)(e_.E,{as:"span",fontSize:n,ms:1.5,children:c})]})})},nt="bottom",nn=e=>{let{size:t,colorScheme:n,placement:a="right",usePortal:r,reactions:l,docId:o,cardId:c,commentId:d,parentCommentId:u,targetType:p,readOnly:h,innerPaddingY:g,...m}=e,{addReactionFn:x,removeReactionFn:f}=t2({docId:o,commentId:d,parentCommentId:u,cardId:c,targetType:p}),{user:b}=(0,L.ur)(),C=(null==l?void 0:l.reduce((e,t)=>(t.count&&(e[t.emoji]=t),e),{}))||{},y=!h&&p===H.yKx.Card&&!C.heart,v=Object.keys(C).length>0,w=(e,t)=>{var n,i,a,r,s,l;if(!(p===H.yKx.Comment&&d||p===H.yKx.Card&&c))throw Error("[Reactions.handleReactionClick] Invalid targetType. Args: targetType: ".concat(p,", commentId: ").concat(d,", cardId: ").concat(c));if(null==(i=C[e])||null==(n=i.users.find(e=>e.id===(null==b?void 0:b.id)))?void 0:n.id){let t=(null==C||null==(a=C[e])?void 0:a.count)-1,n=(null==C||null==(r=C[e])?void 0:r.users)?C[e].users.filter(e=>e.id!==(null==b?void 0:b.id)):[];f(e,t,n)}else{let t=(null==C||null==(s=C[e])?void 0:s.count)?C[e].count+1:1,n=(null==C||null==(l=C[e])?void 0:l.users)?C[e].users.concat(b):[b];x(e,t,n)}null==t||t.stopPropagation()};return(0,i.jsxs)(el.s,{direction:"row",cursor:"default",contentEditable:!1,onMouseDown:eg.Fw,mb:g?"-".concat(g/1.5,"rem"):void 0,...m,children:[y&&(0,i.jsx)(s.Tz,{label:(0,i.jsx)(eu.x6,{id:"W9FRBT"}),placement:nt,children:(0,i.jsx)(tS.K,{colorScheme:n,float:"inline-start","aria-label":"",variant:"ghost",onClick:e=>{w("heart",e)},size:t,isRound:!0,mr:2,icon:(0,i.jsx)(ef.g,{icon:ed.qcK})})}),!h&&(0,i.jsx)(t8,{size:t,colorScheme:n,handleReactionClick:w,usePortal:r,placement:a}),v&&(0,i.jsx)(t1.B,{spacing:"sm"===t?2:1,mr:2,className:"reactions-row",children:v&&Object.entries(C).map(e=>{let[a,r]=e,s=null==r?void 0:r.users,l=!!(null==s?void 0:s.find(e=>(null==e?void 0:e.id)===(null==b?void 0:b.id))),o=ez({users:s,selfUserId:null==b?void 0:b.id});return(0,i.jsx)(ne,{colorScheme:n,size:t,emoji:a,readOnly:h,label:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eu.x6,{id:"mRnNF/",values:{usersLabel:o,emoji:a},components:{0:(0,i.jsx)(e_.E,{as:"span",color:"gray.300"})}})}),count:null==s?void 0:s.length,hasSelfReacted:l,handleReactionClick:w},a)})})]})},ni=o.memo(e=>{let{docId:t,reactions:n,cardId:a,commentId:r,size:s,parentCommentId:l,placement:o="right",usePortal:c=!0,userCanComment:d,...u}=e;return(0,i.jsx)(nn,{size:s,cardId:a,usePortal:c,placement:o,reactions:n,parentCommentId:l,docId:t,commentId:r,targetType:H.yKx.Comment,readOnly:!d,...u})});var na=n(68013),nr=n(78140),ns=n(36999),nl=n(41283),no=n(85595),nc=n(6760),nd=n(21157),nu=n.n(nd),np=n(23201);let nh=()=>({[H.EB6.Open]:{label:j.Ru._({id:"9ggh96"}),icon:ed.SGM,successMessage:j.Ru._({id:"1INZuT"})},[H.EB6.Closed]:{label:j.Ru._({id:"pL38RI"}),icon:ed.RVf,successMessage:j.Ru._({id:"gieGvY"})}}),ng=e=>{let{status:t,handleCommentStatusUpdate:n}=e;return(0,i.jsx)(s.Tz,{label:nh()[t].label,"aria-label":nh()[t].label,children:(0,i.jsx)(tS.K,{variant:"ghost",size:"sm",borderRadius:"full",isDisabled:!1,"aria-label":nh()[t].label,icon:(0,i.jsx)(ef.g,{icon:nh()[t].icon}),onClick:()=>n(t)})})},nm=e=>{let{comment:t,selfUser:n,isInPanel:r,isSourceContentAvailable:l,showCopyCommentLink:o,showLinkToTargetContent:c,hasCommentBeenUpdated:d,onTargetClick:u,commentUrl:p,isReply:h,userCanComment:g,handleCommentStatusUpdate:m,toastPosition:x,isEditing:f,handleEditCommentClick:b,handleDeleteCommentClick:C}=e,{user:y,createdTime:w,updatedTime:A,status:k=H.EB6.Open}=t,{email:L,displayName:E,profileImageUrl:S}=y,M=(null==n?void 0:n.id)===(null==y?void 0:y.id),{onCopy:I}=(0,na.i)(p),_=(0,tc.dU)("red.500","red.300"),D=(0,v.d)();return(0,i.jsxs)(er.z,{spacing:2,align:"top",mb:3,_before:r?{content:"''",position:"absolute",w:"9px",h:"9px",mt:"15px",insetStart:h?"12px":"36px",bg:"gray.50",borderRadius:"full"}:{},children:[(0,i.jsx)(s.Tz,{label:L,"aria-label":L,children:(0,i.jsx)(eK.e,{mt:1,size:"sm",name:E,src:S,ignoreFallback:!0})}),(0,i.jsxs)(eo.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:[(0,i.jsxs)(e_.E,{fontWeight:"600",mb:0,fontSize:"sm",children:[E," ",M?(0,i.jsx)(eu.x6,{id:"dDUgzP"}):null]}),(0,i.jsx)(el.s,{direction:"row",w:"100%",alignItems:"flex-start",children:(0,i.jsx)(a.a,{flex:"1",children:(0,i.jsx)(s.Tz,{isDisabled:!d,label:"Updated ".concat((0,np.OG)(A)),placement:"top",children:(0,i.jsxs)(er.z,{children:[(0,i.jsx)(e_.E,{my:"0 !important",className:"comment-date",fontSize:"xs",color:"gray.500",children:nu()((0,np.OG)(w))}),d&&(0,i.jsx)(a.a,{color:"gray.500",children:(0,i.jsx)(ef.g,{size:"xs",icon:ed.ml2})})]})})})})]}),(0,i.jsx)(td.h,{}),(0,i.jsxs)(er.z,{spacing:1,children:[c&&(0,i.jsx)(s.Tz,{label:l?(0,i.jsx)(eu.x6,{id:"LmLruJ"}):(0,i.jsx)(eu.x6,{id:"/oHV5h"}),shouldWrapChildren:!0,children:(0,i.jsx)(tS.K,{size:"sm",borderRadius:"full",variant:"ghost",isDisabled:!l,"aria-label":l?j.Ru._({id:"LmLruJ"}):j.Ru._({id:"/oHV5h"}),onClick:u,icon:(0,i.jsx)(ef.g,{icon:ed.vh1})})}),!h&&g&&(0,i.jsx)(ng,{status:k,handleCommentStatusUpdate:()=>m(t.status)}),(0,i.jsxs)(nr.W,{isLazy:!0,children:[(0,i.jsx)(ns.I,{as:tS.K,size:"sm",variant:"ghost",borderRadius:"full","data-testid":"comment-header-menu",icon:(0,i.jsx)(ef.g,{fixedWidth:!0,icon:ed.vHW}),children:(0,i.jsx)(eu.x6,{id:"7L01XJ"})}),(0,i.jsx)(t3.Z,{children:(0,i.jsxs)(nl.c,{zIndex:"modal","data-testid":"comment-header-menulist",children:[o&&(0,i.jsx)(no.D,{icon:(0,i.jsx)(ef.g,{icon:ed.CQO}),onClick:()=>{I(),D({title:j.Ru._({id:"h5GS+N"}),status:"success",duration:3e3,position:x})},children:(0,i.jsx)(eu.x6,{id:"qhJCCi"})}),g&&!f&&M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nc.N,{}),(0,i.jsx)(no.D,{icon:(0,i.jsx)(ef.g,{icon:ed.MT7}),onClick:b,children:(0,i.jsx)(eu.x6,{id:"ePK91l"})}),(0,i.jsx)(no.D,{icon:(0,i.jsx)(ef.g,{icon:ed.yLS}),color:_,onClick:()=>{C()},"data-testid":"delete-thread",children:h?(0,i.jsx)(eu.x6,{id:"FjzXBu"}):(0,i.jsx)(eu.x6,{id:"xOviNB"})})]})]})})]})]})]})},nx=(0,o.memo)(e=>{let{comment:t,editor:n,selfUser:r,docId:s,commentIdToHighlight:l,userCanComment:c,instanceType:d,editorMode:u,isRootComment:p=!1,onClose:h,closePopup:g,...x}=e,b="feed"===d,C="drawer"===d,y=(0,f.Xb)()?"bottom":"top",{content:L,targetHtml:E,targetId:S,createdTime:M,updatedTime:I,id:_,replies:D,reactions:R}=t,T=(0,w.wA)(),{initialDraftReply:z,updateLocalDraftReply:N,hasLocalDraftReply:B}=ei(_),P=(0,o.useRef)(new t$.c),F=l===_,O=(0,tY.yO)({docId:s,id:_}),Z=(0,o.useRef)(null),[W,U]=(0,o.useState)(!1),[G,K]=(0,o.useState)(p);(0,o.useEffect)(()=>{B&&!G&&K(!0)},[B,G]);let[Q]=(0,H.eRM)(),[q]=(0,H.DNM)(),[J]=(0,H.roT)(),[$]=(0,H.Ekg)(),Y=(0,v.d)(),X=(0,tQ.O2)("editor"),ee=(0,o.useCallback)(()=>{U(!0)},[]),et=(0,o.useCallback)(()=>{N(null)},[N]),en=[.25,.1,.25,1];(0,o.useLayoutEffect)(()=>{F&&Z.current&&X.scrollElementIntoView({element:Z.current})},[X,F]);let ea=e=>{let t=e===H.EB6.Open?H.EB6.Closed:H.EB6.Open,n={id:_,docId:s,status:t};J({variables:{input:n},update:(e,t)=>{let{data:n}=t,i={id:"Doc:".concat(s),fragment:V.Mi,fragmentName:"DocCommentsUpdate",data:{comments:[null==n?void 0:n.updateCommentStatus]}};e.writeFragment(i)},optimisticResponse:{updateCommentStatus:{...n,__typename:"Comment",updatedTime:new Date().toISOString()}}}).then(()=>{Y({title:(0,i.jsxs)(e_.E,{children:[nh()[e].successMessage,"."," ",(0,i.jsx)(eY.N,{textDecoration:"underline",onClick:()=>ea(t),children:j.Ru._({id:"9uI/rE"})})]}),status:"success",duration:5e3,isClosable:!1,position:y})}).catch(e=>{console.error("[CommentComponent]: Error changing comment status",e),Y({title:j.Ru._({id:"+Q5eww",values:{0:e.message}}),status:"error",isClosable:!0,position:y})}).finally(()=>{"popup"===d&&g&&g(!0)})},es=(0,tc.dU)("yellow.100","yellow.800"),ep=t0.q.getState(n.state),eh=(0,o.useMemo)(()=>null==ep?void 0:ep.annotations.find(e=>e.id===S),[null==ep?void 0:ep.annotations,S]),{pos:eg}=eh||{},em=!!(null==eh?void 0:eh.pos),ex="notification"!==d&&t.id!==ev,eb=("notification"===d||"feed"===d)&&1!==eg,eC=(0,o.useCallback)(e=>{var t;if(!(!S||!eh||!eg||(null==e||null==(t=e.target)?void 0:t.closest('[data-target-name="comment-target-expand-button"]')))){if("notification"===d)A.LF.emit(A.DN.OPEN_POPUP_COMMENT,{commentId:_,highlightComment:!0});else if("feed"===d){let e=tq.M2,t=(0,tp.jB)(n,eg);if(u===tX.w.DOC_VIEW)(0,k.Ib)({pos:eg,editor:n});else if(u===tX.w.SLIDE_VIEW){let[t]=(0,tp.TK)(n.state.doc.resolve(eg),tJ.jg);n.commands.spotlightCardById(t.node.attrs.id),T((0,m.mF)({attached:!1})),e=tq.y0}(0,f.Xb)()&&h&&setTimeout(h,300),X.scrollElementIntoView({element:t,delay:e})}}},[n,X,S,d,_,eh,eg,u,T,h]),ey=(0,o.useMemo)(()=>new Date(I).getTime()-new Date(M).getTime()>100,[I,M]),ew=!!t.commentId,eA=!!D&&D.length>0;return(0,i.jsxs)(el.s,{flexDir:"column",ref:Z,id:"comment-".concat(_),className:"comment highlight-mask","data-target-id":"comment-".concat(_),borderRadius:F?"md":"0px",position:"relative",borderBottomWidth:p?"1px":"0px",borderBottomColor:"gray.200",_after:b&&eA?{content:"''",position:"absolute",w:"9px",h:"9px",insetStart:"36px",bottom:9,bg:"gray.50",borderRadius:"full",transitionProperty:"common",transitionDuration:"normal"}:{},_before:eA&&b?{content:"''",position:"absolute",w:"3px",top:7,bottom:9,insetStart:"39px",bg:"gray.50",borderRadius:"full"}:{},...x,overflowY:"hidden",children:[(0,i.jsxs)(eo.B,{backgroundColor:F?es:"auto",transitionProperty:"border, background",transitionDuration:"normal",transitionTimingFunction:"ease",role:"group",spacing:8,children:[(0,i.jsxs)(a.a,{ps:ew&&b?10:0,children:[(0,i.jsx)(nm,{isInPanel:b,comment:t,selfUser:r,isSourceContentAvailable:em,showCopyCommentLink:ex,showLinkToTargetContent:eb,hasCommentBeenUpdated:ey,onTargetClick:eC,commentUrl:O,isReply:ew,userCanComment:c,handleCommentStatusUpdate:ea,toastPosition:y,isEditing:W,handleEditCommentClick:ee,handleDeleteCommentClick:()=>{let e=!!t.commentId;$({variables:{id:_},update:(n,i)=>{let{data:a}=i;n.writeFragment({id:"Doc:".concat(s),fragment:V.Mi,fragmentName:e?"DocRepliesRemove":"DocCommentsRemove",data:{comments:[e?{id:t.commentId,replies:[null==a?void 0:a.archiveComment],__typename:"Comment"}:null==a?void 0:a.archiveComment]}})},optimisticResponse:{archiveComment:{id:_,__typename:"Comment",archived:!0}}}),!e&&t.targetId&&n.commands.deleteAnnotation(t.targetId),"popup"===d&&g&&g(!0),Y({title:j.Ru._({id:"Ho/Jvc"}),status:"success",duration:5e3,isClosable:!1,position:y})}}),(0,i.jsxs)(a.a,{ps:eA&&b?10:0,overflowY:"hidden",children:[E&&E.length&&(0,i.jsx)(tD,{targetHtml:E,onTargetClick:eC,isSourceContentAvailable:em,instanceType:d}),(0,i.jsx)(tE,{initialContent:L,editable:W,onCancelEditingClick:()=>U(!1),saveButtonText:(0,i.jsx)(eu.x6,{id:"yY7Bil"}),saveButtonIcon:(0,i.jsx)(ef.g,{icon:ed.e68}),onCommentSave:e=>{let n=!!t.commentId,i={id:_,docId:s,content:e};q({variables:{input:i},update:(e,i)=>{let{data:a}=i,r={id:"Doc:".concat(s),fragment:V.Mi,fragmentName:n?"DocRepliesUpdate":"DocCommentsUpdate",data:{comments:[n?{id:t.commentId,replies:[null==a?void 0:a.updateComment],__typename:"Comment"}:null==a?void 0:a.updateComment]}};e.writeFragment(r)},optimisticResponse:{updateComment:{...i,__typename:"Comment",updatedTime:new Date().toISOString()}}}),Y({title:j.Ru._({id:"kibWwZ"}),status:"success",duration:5e3,isClosable:!1,position:y}),U(!1)}}),!W&&(0,i.jsx)(ni,{mt:2,docId:s,cardId:t.cardId,commentId:t.id,parentCommentId:t.commentId,reactions:R,size:"sm",placement:"right",usePortal:!0,userCanComment:c})]})]}),D&&D.length>0&&D.map(e=>(0,i.jsx)(nx,{instanceType:d,userCanComment:c,commentIdToHighlight:l,comment:e,docId:s,selfUser:r,editor:n,editorMode:u,ps:0,p:0,pb:0},null==e?void 0:e.id))]}),c&&(0,i.jsxs)(ec.S,{in:G&&!W,unmountOnExit:!0,transition:{enter:{when:"afterChildren",height:{duration:.3,ease:en},opacity:{duration:.4,ease:en}},exit:{when:"beforeChildren",height:{duration:.2,ease:en},opacity:{duration:.3,ease:en}}},children:[C&&(0,i.jsxs)(er.z,{align:"center",mb:3,pt:6,children:[(0,i.jsx)(eK.e,{mt:1,size:"sm",name:null==r?void 0:r.displayName,src:null==r?void 0:r.profileImageUrl,ignoreFallback:!0}),(0,i.jsx)(eo.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:(0,i.jsx)(e_.E,{fontWeight:"600",mb:0,fontSize:"sm",children:(0,i.jsx)(eu.x6,{id:"866PMb",values:{0:null==r?void 0:r.displayName}})})})]}),(0,i.jsx)(tE,{ps:b&&eA?8:0,pt:6*!C,initialContent:(null==z?void 0:z.json)||"",clearContentOnSave:!0,editable:!0,saveButtonText:(0,i.jsx)(eu.x6,{id:"ImOQa9"}),saveButtonIcon:(0,i.jsx)(ef.g,{icon:ed.Eze}),placeholder:j.Ru._({id:"ImOQa9"}),onCommentSave:e=>{let n={targetId:t.targetId,commentId:_,docId:s,content:e,cardId:t.cardId};Q({variables:{input:n},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(s),fragment:V.Mi,fragmentName:"DocRepliesCreate",data:{comments:[{id:_,replies:[null==n?void 0:n.createComment],__typename:"Comment"}]}})},optimisticResponse:{createComment:{id:ev,__typename:"Comment",...n,user:r,archived:!1,reactions:[],createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),K(!1),N(null),T((0,m.zq)({id:_})),Y({title:j.Ru._({id:"yPok8v"}),status:"success",duration:5e3,isClosable:!1,position:y})},onCancelEditingClick:et,onUpdate:e=>{let{editor:t}=e;N({commentId:_,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent})},onCreate:e=>{P.current.resolve(e)},alwaysShowButtons:C,shouldFocus:"popup"===d&&!(0,f.Xb)()})]})]})}),nf=e=>{let{comment:t,editor:n,commentIdToHighlight:a,userCanComment:r,blockAllowsCommenting:s,getPos:l,isMobile:o,closePopup:c}=e,d=n.gammaDocId,{user:p}=(0,L.ur)(),h=(0,w.d4)(m.wC),g=(0,u.GV)(N.Jo),x=(0,ta.h6)(g,p),f=eI({editor:n,getPos:l});if(null===f||!t)return null;let b=(0,i.jsxs)(el.s,{direction:"column",className:"comments-list","data-testid":"thread-view-popup",children:[x&&!p&&g&&s&&(0,i.jsx)(to,{accessLink:x,doc:g,className:"comments-sign-up"}),(0,i.jsx)(nx,{instanceType:o?"drawer":"popup",userCanComment:r,commentIdToHighlight:a,editor:n,comment:t,selfUser:p,docId:d,editorMode:h,isRootComment:!0,borderBottomWidth:"none",closePopup:c,p:4*!o,pb:4},t.id)]});return o?b:(0,i.jsx)(tN,{offsetFromTop:f,children:b})},nb={generate:(0,l.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},nC=e=>{let{getPos:t,editor:n,reactions:i}=e,{user:a}=(0,L.ur)(),[r]=(0,H.nkJ)(),[s]=(0,H.eaJ)(),l=(0,o.useCallback)(e=>{let{reaction:t}=e;if(!a)return;let i=t.docId;1===t.count&&n.commands.deleteAnnotation(t.targetId);let r=t.count-1,l=t.users.filter(e=>(null==e?void 0:e.id)!==(null==a?void 0:a.id));s({variables:{reactionInput:{docId:i,targetId:t.targetId,emoji:t.emoji}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(i),fragment:H.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.removeReaction]}})},optimisticResponse:{removeReaction:{docId:i,targetId:t.targetId,targetType:H.yKx.Decoration,count:r,emoji:t.emoji,users:l,__typename:"Reaction"}}})},[n,s,a]);return{addReactionFn:(0,o.useCallback)(e=>{let{emoji:s}=e,l=t();if("number"!=typeof l||G({emoji:s,user:a,reactions:i})||!a)return;let o=n.gammaDocId,c=K({reactions:i,emoji:s}),d=nb.generate(),u=((null==c?void 0:c.count)||0)+1,p=[];c?(d=c.targetId,p=[...c.users]):n.commands.addAnnotation({id:d,pos:l}),p.unshift(a),p.sort((e,t)=>e.id>t.id?1:-1),r({variables:{reactionInput:{docId:o,targetId:d,targetType:H.yKx.Decoration,emoji:s}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(o),fragment:H.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.addReaction]}})},optimisticResponse:{addReaction:{docId:o,targetId:d,targetType:H.yKx.Decoration,count:u,emoji:s,users:p,__typename:"Reaction"}}})},[r,n,t,i,a]),removeReactionFn:l}},ny={"add-comment":"350px","add-reaction":"350px","reactions-overflow":"350px"},nv=e=>{let{nodeName:t,isVisible:n,editor:a,getPos:s,comments:l,reactions:c,createDraftComment:d,cleanupDraftComment:p,onCommentDraftUpdate:h,draftComment:g,onCommentSave:x,userCanComment:C,blockAllowsCommenting:y,blockCommentId:j,enableReactions:E,mobileAddCommentPos:S,setIsButtonStackHovered:M}=e,I=(0,v.d)(),_=(0,f.Xb)(),D=(0,w.wA)(),{user:R,isUserLoading:T}=(0,L.ur)(),{isHovering:z,delayedClose:H,...N}=(0,b.ou)({enterDelay:30,leaveDelay:100}),B=!!z,P=(0,o.useRef)(null),F=(0,o.useRef)(void 0),V=(0,w.d4)((0,m.tT)(j)),O=(0,o.useRef)(null),[Z,W]=(0,o.useState)(null),U=null!==Z,G=(0,u.GV)(m.Ml),K=l.find(e=>e.id===G)||null,Q=(0,o.useCallback)(e=>{W("thread"),D((0,m.fw)({isOpen:!0,blockCommentId:j,viewingCommentId:e.id}))},[j,D]),q=(0,o.useCallback)(e=>{W("add-comment"),D((0,m.fw)({isOpen:!0,blockCommentId:j,viewingCommentId:null})),d(e)},[j,D,d]),J=(0,o.useCallback)(()=>{W("add-reaction"),D((0,m.fw)({isOpen:!0,blockCommentId:j,viewingCommentId:null}))},[j,D]),$=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];W(null),p(),D((0,m.fw)({isOpen:!1,blockCommentId:j,viewingCommentId:null})),e&&H(1e3)},[j,p,H,D]),{addReactionFn:Y,removeReactionFn:X}=nC({editor:a,getPos:s,reactions:c}),ee=(0,o.useCallback)(e=>{C&&(Y({emoji:e.id}),I({title:(0,i.jsx)(eq,{emoji:e.id,isMobile:_}),status:"success",duration:5e3,isClosable:!1,position:_?"bottom":"top"}),$(!0))},[Y,$,_,I,C]),ei=(0,o.useCallback)(e=>{x(e),$(!0)},[x,$]),ea=(0,o.useCallback)(e=>{if(!C)return;let t=e.reactions.find(e=>{var t;return null==(t=e.users)?void 0:t.find(e=>e.id===(null==R?void 0:R.id))});t?X({reaction:t}):Y({emoji:e.emoji})},[Y,X,R,C]),er=(0,o.useCallback)(()=>{W("reactions-overflow"),D((0,m.fw)({isOpen:!0,blockCommentId:j,viewingCommentId:null}))},[j,D]);eM({isOpen:U,popupRef:O,onClose:$});let{isExpanded:es}=eS({popup:Z,isMobile:_,isHovered:B,comments:l,reactions:c,draftComment:g,enableReactions:E});(0,o.useEffect)(()=>{_||M(B)},[B,_,M]),et(s,q);let el=en({comments:l,blockAllowsCommenting:y,showComment:(0,o.useCallback)(e=>{let t=s();"number"==typeof t&&((0,k.Ib)({pos:t,editor:a}),Q({id:e}))},[a,s,Q])});(0,o.useEffect)(()=>{A.LF.emit(A.DN.POPUP_COMMENT_TOGGLED,{open:U})},[U]);let eo=(0,o.useCallback)(e=>{"Escape"===e.key&&$()},[$]);if(!n||T)return null;let ec=!!R&&!C,ed=0===l.length&&0===c.length;if((ec||!y)&&ed)return null;let eu=ec||!y;return(0,i.jsxs)(i.Fragment,{children:[_&&S&&(0,i.jsx)(eU,{onClickAddComment:q,onClickAddReaction:J,top:S.top,left:S.left}),(0,i.jsxs)(ew.p,{nodeName:t,className:(0,r.cx)("block-comments-stack",es&&"is-expanded",es&&"is-taking-action",ed&&"is-empty",!_&&V&&"other-comment-open"),isMobile:_,isEmpty:ed,isPopupOpen:U,...N,buttonRef:P,onKeyDown:eo,hasCommentsOrReactions:!ed,children:[(0,i.jsx)(eW,{isExpanded:es,isMobile:_,user:R,userCanComment:C,blockAllowsCommenting:y,draftComment:g,reactions:c,comments:l,onClickThread:Q,onClickAddComment:q,onClickAddReaction:J,onClickExistingReaction:ea,onClickReactionsOverflow:er,hideAddCommentButton:eu,onClosePopup:$,viewingCommentId:G,enableReactions:E}),!U&&!_&&(0,i.jsx)(eQ,{isExpanded:es,comments:l,reactions:c}),U&&(0,i.jsxs)(tG,{isMobile:_,ref:O,closePopup:$,drawerMinHeight:ny[Z],children:["thread"===Z&&(0,i.jsx)(nf,{isMobile:_,comment:K,closePopup:$,editor:a,getPos:s,commentIdToHighlight:el,commentsPanelRef:F,userCanComment:C,blockAllowsCommenting:y}),"add-comment"===Z&&(0,i.jsx)(tB,{isMobile:_,onCancel:()=>{$()},editor:a,getPos:s,commentIdToHighlight:el,userCanComment:C,blockAllowsCommenting:y,onCommentSave:ei,draftComment:g,onCommentDraftUpdate:h}),"add-reaction"===Z&&(0,i.jsx)(tF,{isMobile:_,onReactionClick:ee,editor:a,getPos:s}),"reactions-overflow"===Z&&(0,i.jsx)(tK,{isMobile:_,onCancel:()=>{$()},onClickExistingReaction:ea,editor:a,getPos:s,user:R,userCanComment:C,blockAllowsCommenting:y,reactions:c})]})]})]})};new(n(63867)).hs("draftComments");let nw=(e,t,n)=>({targetId:nb.generate(),targetHtml:n,json:null,text:"",relativePos:(0,F.JO)(t.state,e)}),nA=(e,t,n,i)=>({...e,targetHtml:n,relativePos:(0,F.JO)(i.state,t)}),nk=e=>{let{children:t,as:n,className:a,dir:r,style:s,hideComments:l=!1,readOnly:o=!1,...c}=e,{decorations:d,editor:u}=c,h=(0,p.oR)();return!d.some(e=>e.spec.isAnnotatable)||u.isThumbnail||h||"ai-card-editor"===u.editorId?(0,i.jsx)(g.VR,{as:n,className:a,dir:r,style:s,children:t}):(0,i.jsx)(nL,{as:n,className:a,dir:r,style:s,hideComments:l,readOnly:o,...c,children:t})},nL=e=>{var t;let{children:n,decorations:p,editor:v,getPos:w,as:A,className:k,dir:L,style:j,hideComments:E,readOnly:S,node:M}=e,{isConnected:I}=(0,c.u)(),_=(0,C.pl)(p),D=y({editor:v,decorations:p}),R=(0,d.u)("blockReactions"),T=(0,h.UT)("comment"),z=(0,u.GV)(m.mi),H=(0,o.useMemo)(()=>(0,l.Ak)(5),[]),N=(0,u.GV)((0,m.ng)(H)),[B,P]=(0,o.useState)(!1),F=(0,d.u)("debugComments"),V=X(p),O=V[0]||null,[Z,W]=(0,o.useState)(null),U=(0,u.jL)(),G=(0,o.useCallback)(e=>{let t=((null==e?void 0:e.getPos)||w)();if("number"!=typeof t)return;let n=null==e?void 0:e.targetHtml,i=O;if(i)e&&(i=nA(i,t,n,v));else{var a,r;i=nw(t,v,n),null==(a=(r=v.commands).createDraftComment)||a.call(r,i)}W(i),U((0,m.mF)({attached:!1}))},[U,v,w,O]),K=(0,o.useCallback)(()=>{var e,t,n,i,a,r;Z&&(null==Z||null==(t=Z.text)||null==(e=t.trim())?void 0:e.length)>0?null==(n=(i=v.commands).createDraftComment)||n.call(i,Z):null==(a=(r=v.commands).removeDraftComments)||a.call(r,V),W(null)},[V,v,Z]),Q=(0,o.useRef)(N);Q.current=N,(0,o.useEffect)(()=>()=>{Q.current&&U((0,m.fw)({isOpen:!1,blockCommentId:H,viewingCommentId:null}))},[H,U]);let q=ee({draftComment:Z,clearDraftComment(){var e,t,n,i;let a=w();if("number"!=typeof a)return;Z&&(null==(n=(i=v.commands).removeDraftComments)||n.call(i,[Z,...V]));let r=nw(a,v);null==(e=(t=v.commands).createDraftComment)||e.call(t,r),W(r)},editor:v}),J=Y(p),$=J.length>0&&!E,et=Z||O,en=(null==et||null==(t=et.text)?void 0:t.length)>0,[ei,er]=(0,b.Mk)(),es=ea(p);R||(es=[]);let el=es.length>0,eo=z&&!E&&T,ec=(0,f.Xb)()&&(N||$||el||!!D)||!(0,f.Xb)()&&(er||_||N||$||el||en),ed=T&&I,eu=N||D||B?(0,x.$3)(s.t1.colors.yellow[200],.25):void 0;return(0,i.jsxs)(g.VR,{as:A,style:{...j,position:"relative",backgroundColor:(0,f.Xb)()?void 0:eu},className:(0,r.cx)(k,"annotatable-node-view-wrapper",(0,f.Xb)()&&"is-mobile",F?"debug-comments":""),dir:L,ref:ei,children:[eo&&(0,i.jsx)(nv,{nodeName:M.type.name,isVisible:ec,reactions:es,blockCommentId:H,userCanComment:ed,blockAllowsCommenting:!E&&!S,onCommentDraftUpdate:e=>{let{editor:t}=e;W(e=>e?{...e,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent}:e)},cleanupDraftComment:K,createDraftComment:G,editor:v,getPos:w,comments:J,draftComment:et,onCommentSave:q,enableReactions:R,mobileAddCommentPos:D,setIsButtonStackHovered:P}),(0,f.Xb)()&&eu?(0,i.jsx)(a.a,{bgColor:eu,children:n}):n]})}},54958:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var i=n(60449),a=n.n(i),r=n(94289),s=n(63867);class l extends s.LN{parseKeyPath(e){let t=e.split(".");if(t.length>=2&&("step"===t[0]||"general"===t[0])){let n,i=t[0],a=parseInt(t[1]),r=t[2];if(isNaN(a))return{keyPath:e,selectionType:"property",propertyName:e};switch(r){case"text":n="text";break;case"image":n="image";break;case"icon":n="icon";break;default:n="step"}return{keyPath:e,selectionType:n,..."step"===i?{stepIndex:a}:{generalIndex:a},elementType:r||"selection"}}return{keyPath:e,selectionType:"property",propertyName:e}}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?s.LN.near(a):new l(a,this.keyPath)}content(){let e=this.getItemData();switch(this.context.selectionType){case"text":case"property":if("string"==typeof e){let t=this.node.type.schema.text(e);return new r.Ji(r.FK.from(t),0,0)}break;case"icon":case"image":case"step":if(e&&"object"==typeof e)return new r.Ji(r.FK.empty,0,0)}return new r.Ji(r.FK.from(this.node),0,0)}getItemData(){var e,t,n,i,r,s,l,o,c,d,u,p,h,g,m,x,f,b;if(!this.node.attrs.data)return null;let C=this.node.attrs.data;switch(this.context.selectionType){case"step":if(void 0!==this.context.stepIndex)return null==(e=C.step)?void 0:e[this.context.stepIndex];if(void 0!==this.context.generalIndex)return null==(t=C.general)?void 0:t[this.context.generalIndex];break;case"text":if(void 0!==this.context.stepIndex)return null==(i=C.step)||null==(n=i[this.context.stepIndex])?void 0:n.text;if(void 0!==this.context.generalIndex)return null==(s=C.general)||null==(r=s[this.context.generalIndex])?void 0:r.text;break;case"image":if(void 0!==this.context.stepIndex)return null==(o=C.step)||null==(l=o[this.context.stepIndex])?void 0:l.image;if(void 0!==this.context.generalIndex)return null==(d=C.general)||null==(c=d[this.context.generalIndex])?void 0:c.image;break;case"icon":if(void 0!==this.context.stepIndex)return(null==(p=C.step)||null==(u=p[this.context.stepIndex])?void 0:u.icon)||(null==(g=C.step)||null==(h=g[this.context.stepIndex])?void 0:h.image);if(void 0!==this.context.generalIndex)return(null==(x=C.general)||null==(m=x[this.context.generalIndex])?void 0:m.icon)||(null==(b=C.general)||null==(f=b[this.context.generalIndex])?void 0:f.image)}return a()(C,this.keyPath)}getSelectionBounds(){return{type:this.context.selectionType,keyPath:this.keyPath,isTextSelection:"text"===this.context.selectionType,isImageSelection:"image"===this.context.selectionType,isIconSelection:"icon"===this.context.selectionType,isStepSelection:"step"===this.context.selectionType,isPropertySelection:"property"===this.context.selectionType}}isInlineEditable(){return"text"===this.context.selectionType||"property"===this.context.selectionType}getSelectionDescription(){switch(this.context.selectionType){case"text":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," text");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," text");return"Text element";case"image":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," image");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," image");return"Image element";case"icon":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," icon");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," icon");return"Icon element";case"step":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1);if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1);return"Step element";case"property":return"Property: ".concat(this.context.propertyName||this.keyPath);default:return"Selection: ".concat(this.keyPath)}}eq(e){return e instanceof l&&e.anchor==this.anchor&&e.keyPath==this.keyPath}toJSON(){return{type:"diagramItem",anchor:this.anchor,key:this.keyPath,selectionType:this.context.selectionType}}static fromJSON(e,t){if("number"!=typeof t.anchor||"string"!=typeof t.key)throw RangeError("Invalid input for DiagramItemSelection.fromJSON");return new l(e.resolve(t.anchor),t.key)}static create(e,t,n){return new this(e.resolve(t),n)}static isSelectable(e){return"smartDiagram"===e.type.name&&e.attrs.data}static createStepSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".selection"))}static createTextSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".text"))}static createImageSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".image"))}static createIconSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".icon"))}static createPropertySelection(e,t,n){return new this(e.resolve(t),n)}constructor(e,t){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.keyPath=t,this.node=n,this.context=this.parseKeyPath(t)}}if(l.prototype.visible=!1,!l.prototype.jsonID)try{s.LN.jsonID("diagramItem",l)}catch(e){}},55424:(e,t,n)=>{"use strict";n.d(t,{M:()=>a,q:()=>i});let i=e=>"smartLayoutCell"===e.type.name,a=e=>"smartLayout"===e.type.name},55504:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var i=n(98968);let a=function(e,t,n){var a;let r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"insert";if("replace"!==s)return null;let l=e.posAtCoords({left:t.clientX,top:t.clientY});if(!l)return null;let{doc:o}=e.state,{pos:c}=l,d=o.resolve(c);if((0,i.G_)(d))return null;c=l.inside;try{r=o.resolve(c).nodeAfter}catch(e){return null}if(!r||r==(null==n?void 0:n.content.firstChild)||"image"!==r.type.name)return null;let u=e.nodeDOM(c),p=null==u||null==(a=u.querySelector("[data-node-image-testid]"))?void 0:a.getBoundingClientRect();return p?{pos:c,rect:p,node:r}:null}},55616:(e,t,n)=>{"use strict";n.d(t,{S:()=>g});var i=n(68247),a=n(17006),r=n(62452);let s=e=>{let t="linear-gradient"===(0,r.Lz)(e).type?i.XA:i.N5;return{".card-code-item":{h1:(0,a.bh)("h1",e),h2:(0,a.bh)("h2",e),h3:(0,a.bh)("h3",e),h4:(0,a.bh)("h4",e),"h1, h2, h3, h4, h5, h6":{...t,width:"100%"},"img:not([src])":{width:"100%",backgroundColor:"gray.200",borderRadius:"var(--box-border-radius)",aspectRatio:"16/9"},"> *":{borderRadius:"var(--card-border-radius)"}}}};var l=n(61385),o=n(28615);let c=e=>{if(o.rS)return{};let{accentCut:t}=e.config;if(!t)return{};let{maskStyles:n,fgStyles:i}=d[t]||{};return{"[data-layout-cut=left]":n.left,"[data-layout-cut=right]":n.right,"video[data-layout-cut=right]":{width:"100%",marginLeft:0,marginRight:0},"[data-layout-cut=top]":n.top,"[data-layout-cut-fg=left]":i.left,"[data-layout-cut-fg=right]":i.right,"[data-layout-cut-fg=top]":i.top}},d={default:{name:()=>"Default",maskStyles:{left:void 0,right:void 0,top:void 0},fgStyles:{left:void 0,right:void 0,top:void 0}},fade:{name:()=>"Fade",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gradient-left.5e1ae259.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gradient-right.81936f6b.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gradient-top.9cbcc51e.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"110%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:void 0}},diagonal:{name:()=>"Diagonal",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/diagonal-left.c66da52d.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/diagonal-right.c56ea47c.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/diagonal-top.f5cfbd00.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:{maxHeight:"85%",marginBottom:"auto"}}},round:{name:()=>"Round",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-left.b2ca2ce2.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-right.9a77e2f4.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-top.49150ee5.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:void 0}},roundInverse:{name:()=>"Round Inverse",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-inverted-left.dbc8a93f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-inverted-right.de2dd517.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle-inverted-top.07d69c71.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"112%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:{maxHeight:"90%",marginBottom:"auto"}}},wiggle:{name:()=>"Wiggle",maskStyles:{left:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/wiggle-left.578c81e9.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/wiggle-right.8ee6fc0f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/wiggle-top.41b099b7.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"94%",marginRight:"6%"},right:{maxWidth:"94%",marginLeft:"6%"},top:{maxHeight:"95%",marginBottom:"auto"}}}};var u=n(23746),p=n(45214),h=n(58251);let g=(e,t)=>({...(0,i.dd)(e),...(0,u.EB)(e,t),...(0,a.tX)(e),...c(e),...(0,p.py)(),...(0,p.L$)(),...(0,h.zz)(),...s(e),[".".concat(l.QJ," .").concat(l._P)]:e.config.contentStyles})},55786:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,f:()=>r});var i=n(94289),a=n(95889);let r=e=>{let{editor:t,content:n,operation:a="insert"}=e,r=Array.isArray(n)?n:[n],s=i.Ji.fromJSON(t.schema,{content:r});t.view.dragging={slice:s,move:!0,operation:a},t.commands.setTextSelection(t.state.selection.from)},s=(e,t)=>{a.zS.track(a.VV.NODE_INSERTED,{node_name:e.nodeName,command:e.key,method:t}),"card"===e.nodeName&&a.zS.track(a.VV.CARD_CREATED,{method:t,command:e.key})}},55847:(e,t,n)=>{"use strict";n.d(t,{J7:()=>C,Rv:()=>f,fw:()=>b,r$:()=>x});var i=n(38867),a=n.n(i),r=n(63867),s=n(97255),l=n(41427),o=n(5061),c=n(15607),d=n(29828),u=n(43501),p=n(66082),h=n(55424),g=n(1636),m=n(79018);let x=e=>{let{doc:t}=e,n=[];return t.descendants((i,x,f)=>{if(i.type.name===g.o.name){let h,g=a()((0,c.F2)(i.content).map(e=>(0,m.x9)(e.attrs.label))),f=(0,d.J)(t.resolve(x)),b=(0,p.er)(e,x,x+i.nodeSize),C=(0,l.KQ)(i)||b||(0,o.C)(),y=e.selection instanceof r.nh&&e.selection.node===i||e.selection.from>x&&e.selection.to<x+i.nodeSize;i.forEach((e,t,n)=>{e.attrs.options.isEmphasized&&(h=n)});let v=(0,u.i4)(t,"scaleContentToFit"),w={isSmartLayoutDecoration:!0,direction:C,numCells:i.childCount,containerSize:f,scaleContentToFit:!!v};n.push(s.NZ.node(x,x+i.nodeSize,{},w)),i.forEach((e,t,a)=>{let r=x+1+t,l={isSmartLayoutCellDecoration:!0,direction:C,index:a,numCells:i.childCount,maxLabelValue:g,smartLayoutAttrs:i.attrs,layoutContainerSize:f,isContentEmpty:(0,c.mf)(e),isLayoutFocused:y,emphasizedIndex:h,scaleContentToFit:!!v};n.push(s.NZ.node(r,r+e.nodeSize,{},l))})}if(("image"===i.type.name||"smartDiagram"===i.type.name)&&(0,h.q)(f)){let e=f.attrs.options.fullBleedContent,t=s.NZ.node(x,x+i.nodeSize,{},{isFullBleed:e});n.push(t)}}),s.zF.create(t,n)},f=e=>{let t=e.find(e=>e.spec.isSmartLayoutDecoration);return t?t.spec:(console.error("[SmartLayout] Decoration not found. This should never happen!",e),{isSmartLayoutDecoration:!0,direction:"ltr",numCells:0,containerSize:1})},b=e=>{let t=e.find(e=>e.spec.isSmartLayoutCellDecoration);return t?t.spec:(console.error("[SmartLayoutCell] Decoration not found. This should never happen!",e),{isSmartLayoutCellDecoration:!0,direction:"ltr",numCells:0,index:0,smartLayoutAttrs:{options:{},fullWidthBlock:!1},layoutContainerSize:1,isContentEmpty:!1,isLayoutFocused:!1})},C=e=>{let t=e.find(e=>e.spec.isFullBleed);return(null==t?void 0:t.spec)||{}}},55860:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,n:()=>l});var i=n(58495),a=n(63867),r=n(67200),s=n(50709);let l=()=>(0,i.Ak)(5),o=s.S.extend({name:"UniqueToggleId"}).configure({attributeName:"id",types:["toggle"],initialValue:l,filterTransaction:r.kz,pluginKey:new a.hs("UniqueToggleId")})},55978:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return{default:null,parseHTML:n=>{let i=n.getAttribute("data-".concat(t));if(i)return i;let a=e();return console.debug("[configureIdAttribute] generating id in parseHTML",a),a}}}},56124:(e,t,n)=>{"use strict";n.d(t,{VM:()=>s,dM:()=>r,hj:()=>a});var i=n(61964);let a=e=>"table"===e.type.name,r=500,s=e=>{let t=i.J3.get(e);return t.height*t.width>r}},56706:(e,t,n)=>{"use strict";n.d(t,{L:()=>k,v:()=>j});var i=n(6029),a=n(24302),r=n(26385),s=n(96500),l=n(58959),o=n(48810),c=n(27229),d=n(94740),u=n(66199),p=n(49611),h=n(12514),g=n(18078),m=n(25311),x=n(99492),f=n(55597),b=n(48621),C=n(19564),y=n(77650),v=n(55729),w=n(83916),A=n(36333);let k=()=>[{key:"research",icon:x.MjD,title:(0,i.jsx)(C.x6,{id:"EjSFZQ"}),description:(0,i.jsx)(C.x6,{id:"JSQfiS"}),operations:[{key:"add-evidence",label:()=>y.Ru._({id:"B+T9Iu"}),onQuickAction:e=>{e({message:y.Ru._({id:"11uZc0"})})}},{key:"find-opposing-data",label:()=>y.Ru._({id:"aDOMCy"}),onQuickAction:e=>{e({message:y.Ru._({id:"ti8fJS"})})}},{key:"find-related-case-studies",label:()=>y.Ru._({id:"SZDtf5"}),onQuickAction:e=>{e({message:y.Ru._({id:"WWwmK1"})})}}]},{key:"refine",icon:x.xXs,title:(0,i.jsx)(C.x6,{id:"OVxbCx"}),description:(0,i.jsx)(C.x6,{id:"j6aXEY"}),operations:[{key:"spot-weak-arguments",label:()=>y.Ru._({id:"F/ErIP"}),onQuickAction:e=>{e({message:y.Ru._({id:"zATYnM"})})}},{key:"add-executive-summary",label:()=>y.Ru._({id:"UhEWCe"}),onQuickAction:e=>{e({message:y.Ru._({id:"F7Lf+a"})})}},{key:"find-fix-typos",label:()=>y.Ru._({id:"tUnhM5"}),onQuickAction:e=>{e({message:y.Ru._({id:"6W2bAf"})})}}]},{key:"restyle",icon:x.fyG,title:(0,i.jsx)(C.x6,{id:"06QchB"}),description:(0,i.jsx)(C.x6,{id:"L1+Y4n"}),operations:[{key:"recommend-theme",label:()=>y.Ru._({id:"n1G/3U"}),onQuickAction:e=>{e({message:y.Ru._({id:"VupN4Y"})})}},{key:"move-accent-images-to-left",label:()=>y.Ru._({id:"gP7jlg"}),onQuickAction:e=>{e({message:y.Ru._({id:"eqyQ8K"})})}},{key:"visualize-text-heavy-cards",label:()=>y.Ru._({id:"iq/+ac"}),onQuickAction:e=>{e({message:y.Ru._({id:"X1e29T"})})}}]}],L=e=>{let{onSuggestionSelect:t}=e,n=(0,w.u)(),c=(0,v.useCallback)(e=>{e.onQuickAction(n,e),t()},[t,n]),d=(0,a.dU)("gray.200","gray.600"),u=(0,a.dU)("gray.900","gray.300"),p=(0,a.dU)("gray.600","gray.500"),h=(0,v.useMemo)(()=>k(),[]);return(0,i.jsx)(r.B,{spacing:2,divider:(0,i.jsx)(s.c,{borderColor:d}),children:h.map(e=>{let{key:t,icon:n,title:a,description:s,operations:d}=e;return(0,i.jsxs)(r.B,{p:2,spacing:3,children:[(0,i.jsxs)(r.B,{spacing:1,children:[(0,i.jsxs)(l.z,{color:u,spacing:1,alignItems:"center",children:[(0,i.jsx)(b.g,{icon:n,fixedWidth:!0,size:"sm"}),(0,i.jsx)(o.E,{fontSize:"xs",fontWeight:"bold",children:a})]}),(0,i.jsx)(o.E,{fontSize:"xs",color:p,children:s})]}),(0,i.jsx)(A.O,{actionGroups:[{key:t,operations:d}],onQuickAction:c})]},t)})})},j=e=>{let{isDisabled:t}=e,{isOpen:n,onOpen:r,onClose:s}=(0,c.j)(),l=(0,a.dU)(void 0,"gray.600");return(0,i.jsxs)(d.A,{placement:"bottom-end",strategy:"fixed",isOpen:n,onOpen:r,onClose:s,children:[(0,i.jsx)(u.W,{children:(0,i.jsx)(p.$,{size:"xs",variant:"plain",leftIcon:(0,i.jsx)(b.g,{icon:f.p7g}),isDisabled:t,children:(0,i.jsx)(C.x6,{id:"o+CsiR"})})}),(0,i.jsx)(h.Z,{children:(0,i.jsx)(g.h,{minW:"min(380px, 100vw)",p:0,borderColor:l,children:(0,i.jsx)(m.e,{p:2,children:(0,i.jsx)(L,{onSuggestionSelect:s})})})})]})}},56829:(e,t,n)=>{"use strict";n.d(t,{mi:()=>i.m}),n(6029),n(81278),n(55729),n(88586),n(44637),n(25778),n(6181),n(12562),n(66863),n(58809),n(69768),n(34379),n(85057),n(6807),n(70006),n(65148),n(19275),n(59025);var i=n(39162);n(53907),n(2018),n(99552)},56939:(e,t,n)=>{"use strict";n.d(t,{Nl:()=>i0,cy:()=>iX,HF:()=>i3,FV:()=>i2,aK:()=>i5});var i=n(6029),a=n(99492),r=n(77650),s=n(55729);let l=(e,t)=>{let n,{stepNumber:i,generalNumber:a}=e;if(null!==i&&t.step?n=t.step[i]:null!==a&&t.general&&(n=t.general[a]),n)return function(e,t){return e.image&&!e.icon&&"icon"===t?{...e,icon:e.image,image:void 0}:e}(n,e.type)},o=e=>{var t,n;let i=(null==(t=e.step)?void 0:t.some(e=>null==e?void 0:e.isEmphasized))||!1,a=(null==(n=e.general)?void 0:n.some(e=>null==e?void 0:e.isEmphasized))||!1;return i||a},c=(e,t)=>{let n=l(e,t);return(null==n?void 0:n.isEmphasized)||!1},d=(e,t)=>{let n=l(e,t);if(!n)return;let{type:i}=e;switch(i){case"text":return n.text;case"icon":return n.icon||n.image;case"image":return n.image;default:return""}},u=e=>{let{stepNumber:t,generalNumber:n,type:i}=e;return"number"!=typeof t||isNaN(t)?"number"!=typeof n||isNaN(n)?"":"general.".concat(n,".").concat(i):"step.".concat(t,".").concat(i)},p=(e,t)=>{let{stepNumber:n}=e;return!("number"!=typeof n||isNaN(n))&&t.startsWith("step.".concat(n))},h={text:void 0,icon:void 0,image:void 0},g=(e,t,n)=>{let{stepNumber:i,generalNumber:a,type:r}=e,s={...t};if(null!==i){for(s.step||(s.step=[]);s.step.length<=i;)s.step.push(void 0);s.step[i]||(s.step[i]=h),m(s.step[i],r,n)}if(null!==a){for(s.general||(s.general=[]);s.general.length<=a;)s.general.push(void 0);s.general[a]||(s.general[a]=h),m(s.general[a],r,n)}return s};function m(e,t,n){switch(t){case"text":e.text=n;break;case"icon":e.icon={source:"image.icon",src:n},e.image&&(e.image=void 0);break;case"image":e.image={source:"image",src:n}}}let x=e=>{let t=Array.from(e).find(e=>e.startsWith("step-")),n=Array.from(e).find(e=>e.startsWith("general-"));return{stepNumber:t?parseInt(t.split("-")[1])-1:null,generalNumber:n?parseInt(n.split("-")[1])-1:null}},f=(e,t)=>{let n=i2(e);if(!n||!k(n))return!1;let{stepSvgData:i}=n;return!!i&&!!t.step&&t.step.length<A(i).max},b=(e,t)=>{if("quadrants"===e)return!1;let n=i2(e);if(!n||!k(n))return!1;let{stepSvgData:i}=n;return!!i&&!!t.step&&t.step.length>A(i).min},C=e=>{let t=i2(e);return!!t&&!!k(t)&&t.canToggleIcons},y=(e,t)=>{let n={...e};if(e.step){let i=[...e.step],a=i.some(e=>null==e?void 0:e.text),r=i.some(e=>(null==e?void 0:e.icon)||(null==e?void 0:e.image));i.splice(t,0,{text:a?"<p>Item</p>":void 0,icon:r?{source:"image.icon",src:""}:void 0,color:void 0,isEmphasized:!1}),n.step=i}return n},v=(e,t)=>{let n={...e};if(e.step){let i=[...e.step];i.splice(t,1),n.step=i}return n},w=e=>{let t=Math.min(...e.keys()),n=Math.max(...e.keys());return{step:Array.from({length:t===n?t:Math.floor((t+n)*3/4)},()=>h),general:[]}},A=e=>({min:Math.min(...e.keys()),max:Math.max(...e.keys())}),k=e=>"stepSvgData"in e&&void 0!==e.stepSvgData;var L=n(33750),j=n.n(L),E=n(58959),S=n(49611),M=n(48621),I=n(19564),_=n(95889),D=n(92685),R=n(61204),T=n(70615),z=n(74471),H=n(66082),N=n(68917),B=n(36999),P=n(12180),F=n(25778),V=n(62452),O=n(99195),Z=n(43634);let W=e=>{var t;let{selected:n,onChange:s,steps:l,templateKey:o}=e,{defaultColorScheme:c}=i2(o),d=(0,F.GV)(Z.SJ),u=(0,V.Ik)((0,V.VH)(d)),p=r.Ru._({id:"ovBPCi"});return(0,i.jsx)(O.M,{accentColor:u,selected:n,onChange:e=>{s(void 0===e?c:e)},steps:l,menuButton:(0,i.jsx)(B.I,{as:S.$,variant:"toolbar",size:"sm",boxShadow:"none",leftIcon:(0,i.jsx)(M.g,{icon:a.fyG}),rightIcon:(0,i.jsx)(N.D,{}),sx:{textTransform:"capitalize"},children:n?(null==(t=P.fA[n])?void 0:t.label())||n.replace("-"," "):p})})},U=e=>{let{editor:t,selection:n,children:a}=e,r=n.node.type.name,{fullWidthBlock:s}=t.getAttributes(r),{templateKey:l,data:o}=n.node.attrs;return(0,i.jsxs)(R.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[H.gj.map(e=>{let{name:n,icon:a,checkActive:o,apply:c}=e;if(o&&c)return(0,i.jsx)(z.I,{label:n(),icon:a,onClick:()=>{c(t),s&&t.commands.updateAttributes(r,{fullWidthBlock:!1}),_.zS.track(_.VV.SMART_DIAGRAM_ALIGNMENT_CHANGED,{templateKey:l,alignmentType:n(),previousFullWidth:s})},isActive:!s&&o(t)},n())}),(0,i.jsx)(D.q,{}),(0,i.jsx)(W,{selected:o.colorScheme,onChange:e=>{t.commands.updateAttributes(r,{data:{...o,colorScheme:e}}),_.zS.track(_.VV.SMART_DIAGRAM_COLOR_SCHEME_CHANGED,{templateKey:l,previousColorScheme:o.colorScheme,newColorScheme:e})},steps:5,templateKey:l}),(0,i.jsx)(D.q,{}),a,(0,i.jsx)(T.G,{editor:t})]})},G=e=>{let{editor:t,decorations:n,selection:r}=e,{data:l,templateKey:o,showIcons:c}=r.node.attrs,d=(0,s.useCallback)(e=>{try{let n=e({...l});t.commands.updateAttributesAtPos(r.from,{data:n})}catch(e){console.error("Error updating smart diagram data",e)}},[l,t.commands,r.from]),u=e=>{var t;d(t=>y(t,e)),_.zS.track(_.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:o,action:"add",stepIndex:e,totalSteps:(null==(t=l.steps)?void 0:t.length)||0})},p=e=>{var t;d(t=>v(t,e)),_.zS.track(_.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:o,action:"remove",stepIndex:e,totalSteps:(null==(t=l.steps)?void 0:t.length)||0})},h=(0,s.useCallback)(()=>{t.commands.updateAttributesAtPos(r.from,{showIcons:!c}),_.zS.track(_.VV.SMART_DIAGRAM_ICONS_TOGGLED,{templateKey:o,showIcons:!c})},[t.commands,r.from,c,o]),g=f(o,l),m=b(o,l),x=C(o);return(0,i.jsxs)(U,{editor:t,selection:r,decorations:n,children:[x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.z,{ps:2,children:(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:()=>h(),leftIcon:(0,i.jsx)(M.g,{icon:a.cCs}),children:c?(0,i.jsx)(I.x6,{id:"dBrmK7"}):(0,i.jsx)(I.x6,{id:"TMFk/9"})})}),(0,i.jsx)(D.q,{})]}),(g||m)&&(0,i.jsxs)(E.z,{ps:2,children:[(0,i.jsx)(S.$,{size:"sm",disabled:!m,variant:"toolbar",onClick:()=>{var e;return p((null==(e=l.step)?void 0:e.length)-1||0)},leftIcon:(0,i.jsx)(M.g,{icon:a.mGv}),children:(0,i.jsx)(I.x6,{id:"pUON+Q"})}),(0,i.jsx)(S.$,{size:"sm",disabled:!g,variant:"toolbar",onClick:()=>{var e;return u((null==(e=l.step)?void 0:e.length)-1||0)},leftIcon:(0,i.jsx)(M.g,{icon:a.q_k}),children:(0,i.jsx)(I.x6,{id:"xK4Xoz"})}),(0,i.jsx)(D.q,{})]})]})};var K=n(40452),Q=n(27002),q=n(41427),J=n(5061),$=n(43607);let Y=()=>(0,i.jsx)("text",{x:0,y:0,fontSize:"0",fill:"transparent",style:{opacity:0},"aria-hidden":"true",tabIndex:-1,children:"​ "},"focus-absorber");var X=n(26420),ee=n(21938),et=n(5872),en=n(45002),ei=n(8266),ea=n(29608),er=n(7915);let es=(e,t)=>({color:"var(--body-color)",".pptx-exporting-image":{".smart-diagram-textbox":{visibility:"hidden"}},".smart-diagram-wrapper":{"foreignObject *":(0,ea.nr)()?{position:"static !important"}:void 0,".smart-diagram-textbox":{position:"relative",height:"100%",paddingX:"0.25em",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",cursor:"text","> div:not(.drag-handle)":{display:"contents"},".ProseMirror":{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"0.5rem","--flex-align":"var(--horizontal-align)",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)","--line-height-body":"1.25",".block":{my:"0rem",width:"100%"}}},".block-heading, .block-title":{...(0,ei.hQ)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},".block-paragraph":{...(0,ei.xC)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},["&.is-focused, &:hover, &[".concat(er.y,"]")]:t?{".smart-diagram-textbox, .smart-diagram-selection-box":{outlineStyle:"solid"}}:void 0}}),el=e=>{let{children:t,svgWidthPercent:n=100,...a}=e,{isNodeSelected:r,editor:s,selectNode:l,updateResizeAttrs:o,attrs:c,alignDirection:d,isEditable:u,layoutContainerSize:p,isFullBleed:h}=a,g=(0,$.FX)(),m=n?j()(n/100/Math.min(p,1),0,1):1,{ref:x,setIsResizing:f,resizeableSx:b}=(0,en.Y3)(s),C=es(g,u),y=(0,H.yp)(c.horizontalAlign);return(0,i.jsx)(K.s,{dir:d,w:"100%",className:et.S,css:y,sx:{...b,...C},direction:"column",onMouseDown:l,children:(0,i.jsxs)(X.a,{ref:x,className:(0,ee.cx)("smart-diagram-wrapper",r?"is-focused":""),"data-drag-handle":!0,"data-content-reference":!0,"data-selection-ring":!0,w:c.width?"calc((".concat(c.width," * var(--font-size) / 16) * ").concat(m,")"):h?"100%":"calc(".concat(100*m,"% * var(--media-scale))"),maxW:"100%",position:"relative",children:[u&&r&&!h&&(0,i.jsx)(en.u4,{imageWrapperRef:x,setIsResizing:f,updateResizeAttrs:e=>{var t;let n=null!=(t=e.width)?t:c.width;n&&o({...c,...e,width:n/m})},refreshDeps:[c]}),t]})})};var eo=n(45214);let ec={SUBTLE_IMAGE:".subtle.icon",SUBTLE_TEXT:".subtle.textbox",ACCENT_TEXT:".accent.textbox",ACCENT_IMAGE:".accent.icon",BODY_TEXT:".card.textbox",LINE:".line",ACCENT_NO_BORDER:".accent.no-border",ACCENT_DIM:".accent.dim",ACCENT_LIGHT:".accent.light",ACCENT:".accent",SUBTLE_LIGHT:".subtle.light",SUBTLE_DIM:".subtle.dim",SUBTLE:".subtle",NEUTRAL:".neutral"},ed={[ec.SUBTLE_IMAGE]:eo.lR,[ec.SUBTLE_TEXT]:eo.lR,[ec.ACCENT_NO_BORDER]:(0,ee.cx)(eo._B),[ec.ACCENT_DIM]:(0,ee.cx)(eo.lX,eo.D6),[ec.ACCENT_LIGHT]:(0,ee.cx)(eo.to,eo.D6),[ec.ACCENT]:(0,ee.cx)(eo._B,eo.D6),[ec.SUBTLE]:eo.D6,[ec.SUBTLE_DIM]:eo.iZ,[ec.SUBTLE_LIGHT]:eo.Eb,[ec.LINE]:eo.fu,[ec.ACCENT_TEXT]:eo.ok,[ec.ACCENT_IMAGE]:eo.ok,[ec.BODY_TEXT]:eo.VN,[ec.NEUTRAL]:eo.Xj},eu={...ed,[ec.ACCENT_NO_BORDER]:(0,ee.cx)(eo.bo),[ec.ACCENT_DIM]:(0,ee.cx)(eo.Kh,eo._Z),[ec.ACCENT_LIGHT]:(0,ee.cx)(eo.Ax,eo._Z),[ec.ACCENT]:(0,ee.cx)(eo.bo,eo._Z),[ec.SUBTLE]:eo._Z},ep=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";for(let n of Object.values(ec))if(e.matches(n)){let i=ed[n];if("rtl"===t&&eh(e))return eu[n];return i}return""},eh=e=>["path","circle","ellipse","rect","polygon","polyline"].includes(e.tagName.toLowerCase());var eg=n(69837);let em=e=>{let{x:t,y:n,width:a,height:r,image:s,iconSize:l=2,isEditable:o,selectItem:c,className:d,style:u}=e;return(0,i.jsx)("g",{style:u,children:(0,i.jsx)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:(0,i.jsx)(X.a,{width:"100%",height:"100%",className:d,css:{fill:"var(--body-color)"},children:(0,i.jsx)(eg.R,{image:s||null,selectCell:o?c:void 0,iconSize:l,boxProps:{w:"100%",h:"100%"}})})})})},ex=e=>{let{element:t,id:n,data:a,isEditable:r,selectItem:s,dataLookupInfo:l,isNodeSelected:p,selectedKeyPath:h}=e,g=parseFloat(t.getAttribute("x")||"0"),m=parseFloat(t.getAttribute("y")||"0"),x=parseFloat(t.getAttribute("width")||"0"),f=parseFloat(t.getAttribute("height")||"0"),b=x<50?x:50,C=f<50?f:50;if("icon"!==l.type)return{component:null};let y=d(l,a),v=u(l),w=p&&h===v,A=o(a),k=1;A&&(c(l,a)||(k=.5));let L=ep(t);return{component:(0,i.jsx)(em,{id:n,x:g+(x-b)/2,y:m+(f-C)/2,width:b,height:C,image:y,isEditable:r,selectItem:()=>{s(v)},isItemSelected:w,style:1!==k?{opacity:k}:void 0,className:L},v)}};var ef=n(58495),eb=n(89703),eC=n(22216),ey=n(67097),ev=n(70021);let ew=e=>{let t=e.tagName.toLowerCase();return"circle"===t?"circle":"rect"===t?"rect":"path"===t?"path":"unknown"},eA=e=>{switch(ew(e)){case"circle":{let t=parseFloat(e.getAttribute("cx")||"0"),n=parseFloat(e.getAttribute("cy")||"0"),i=parseFloat(e.getAttribute("r")||"0");return{type:"circle",x:t-i,y:n-i,width:2*i,height:2*i,clipPath:'<circle cx="'.concat(t,'" cy="').concat(n,'" r="').concat(i,'" />')}}case"path":{let t=e.getAttribute("d")||"",n=function(e){let[t,n,i,a]=(0,ev.J)(e);return{x:t,y:n,width:i-t,height:a-n}}(t);return{type:"path",x:n.x,y:n.y,width:n.width,height:n.height,clipPath:'<path d="'.concat(t,'" />')}}default:return{type:"rect",x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0"),clipPath:void 0}}},ek=e=>{let t,{colors:n,element:r,id:s,data:l,isEditable:o,selectItem:c,dataLookupInfo:p,isNodeSelected:h,selectedKeyPath:g}=e,m=u(p),x=e=>{null==e||e.stopPropagation(),c(m),setTimeout(()=>{(0,eb.G)(!1)},30)},f=eA(r),{x:b,y:C,width:y,height:v,clipPath:w}=f,A=d(p,l),k=(null==A?void 0:A.src)?(0,ey.pO)(A.src,n):null==A?void 0:A.src,L=null==A?void 0:A.loadImageStatus,j="queued"===L||"loading"===L,E=null==A?void 0:A.src,S=!E,I=w?"clip-".concat((0,ef.Ak)(8)):void 0;return(w&&I&&(t=(0,i.jsxs)("clipPath",{id:I,children:["circle"===f.type&&(0,i.jsx)("circle",{cx:f.x+f.width/2,cy:f.y+f.height/2,r:f.width/2}),"path"===f.type&&(0,i.jsx)("path",{d:r.getAttribute("d")||""}),"rect"===f.type&&(0,i.jsx)("rect",{x:f.x,y:f.y,width:f.width,height:f.height})]},I)),j||!E&&"error"!==L)?{component:(0,i.jsxs)("g",{children:[(0,i.jsx)("foreignObject",{x:b,y:C,width:y,height:v,style:{overflow:"visible"},clipPath:w?"url(#".concat(I,")"):void 0,children:(0,i.jsx)(eC.Pf,{width:y,height:v,isLoading:j,loadingProvider:"aiGenerated",cursor:o?"pointer":"default"})},"loading-".concat(m)),o&&(0,i.jsx)("foreignObject",{x:b,y:C,width:y,height:v,style:{overflow:"visible"},children:(0,i.jsx)(X.a,{className:(0,ee.cx)("image"),h:"100%",w:"100%",role:"group",pos:"relative",onMouseDown:e=>{o&&x(e)},children:(0,i.jsx)(X.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!S,_groupHover:{opacity:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"1.5em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,i.jsx)(M.g,{icon:a.cCs,fixedWidth:!0})})})})]}),clipPathDef:t}:{component:(0,i.jsxs)("g",{children:[(0,i.jsx)("image",{x:b,y:C,width:y,height:v,href:k||"",preserveAspectRatio:"xMidYMid slice",clipPath:w?"url(#".concat(I,")"):void 0},"image-".concat(s)),o&&(0,i.jsx)("foreignObject",{x:b,y:C,width:y,height:v,style:{overflow:"visible"},children:(0,i.jsx)(X.a,{className:(0,ee.cx)("image"),h:"100%",w:"100%",role:"group",pos:"relative",onMouseDown:e=>{o&&x(e)},children:(0,i.jsx)(X.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!S,_groupHover:{opacity:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"1.5em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,i.jsx)(M.g,{icon:a.cCs,fixedWidth:!0})})})})]}),clipPathDef:t}};var eL=n(94740),ej=n(59272),eE=n(12514),eS=n(18078),eM=n(55597),eI=n(35883),e_=n(61679),eD=n(54958),eR=n(62257),eT=n.n(eR),ez=n(216),eH=n(43216);let eN=(0,s.forwardRef)((e,t)=>{let{handlePlacement:n="outside",onClick:a,isSelected:r}=e,l=(0,F.GV)(Z.nD),o=(0,J.fW)(),c=(0,s.useCallback)(e=>{},[]);return l?(0,i.jsx)(ez.u,{ref:t,isSelected:r,isVisible:!0,onClick:a,onDragStart:c,...(0,eH.T)(o)[n],...eT()}):null});eN.displayName="SelectionHandle";let eB=e=>{let{hasFocus:t,onClickHandle:n,stepAttributes:l,updateStep:o,children:c,editor:d,selectItem:p,dataLookupInfo:h}=e,g=(0,eb.f)(),m=!!d,x=null==l?void 0:l.icon,f=!!(null==x?void 0:x.src),b=(0,s.useMemo)(()=>x?(0,e_.D)(x.source)?"icon":"image":"icon",[x]),C=(0,s.useCallback)(()=>{o&&o({icon:null,image:null})},[o]),y=(0,s.useCallback)(e=>{p&&h?(p(u({...h,type:"icon"})),d&&d.view.focus(),g({isOpen:!0}),e.stopPropagation()):d&&(d.view.focus(),g({isOpen:!0}),e.stopPropagation())},[p,h,d,g]);return(0,i.jsxs)(eL.A,{isOpen:t,autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,placement:"top",children:[(0,i.jsx)(ej.d,{children:(0,i.jsx)(eN,{handlePlacement:"top",onClick:n,isSelected:t})}),(0,i.jsx)(eE.Z,{children:(0,i.jsx)(eS.h,{width:"fit-content",children:(0,i.jsxs)(E.z,{"data-in-editor-focus":!0,children:[d&&(0,i.jsx)(z.I,{onClick:()=>{if(d&&d.state.selection instanceof eD.n){let e=d.state.selection.anchor;d.commands.selectNodeAtPos(e)}},label:r.Ru._({id:"yGxcio"}),children:(0,i.jsx)(M.g,{icon:a.Hmw,flip:"horizontal"})}),(0,i.jsx)(D.q,{}),(0,i.jsx)(eI.a,{color:null==l?void 0:l.color,setColor:e=>{null==o||o({color:e}),_.zS.track(_.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementColor",previousValue:null==l?void 0:l.color,newValue:e})},analyticsSource:"SmartDiagram"}),(0,i.jsx)(z.I,{label:r.Ru._({id:"m1crrt"}),onClick:()=>{let e=!(null==l?void 0:l.isEmphasized);null==o||o({isEmphasized:e}),_.zS.track(_.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementEmphasis",previousValue:null==l?void 0:l.isEmphasized,newValue:e})},icon:(null==l?void 0:l.isEmphasized)?eM.yy:a.yy,isActive:!1,"data-in-editor-focus":!0}),m&&(0,i.jsxs)(i.Fragment,{children:[f?(0,i.jsx)(z.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"JE/4q/"}):(0,i.jsx)(I.x6,{id:"9IrgTy"}),icon:"icon"===b?a.cCs:a.MT7,onClick:y,"data-in-editor-focus":!0}):(0,i.jsx)(z.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"1SYZRR"}):(0,i.jsx)(I.x6,{id:"pVb3uA"}),icon:"icon"===b?a.cCs:a.Cyq,onClick:y,"data-in-editor-focus":!0}),f&&(0,i.jsx)(z.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"+4mjS6"}):(0,i.jsx)(I.x6,{id:"EyVcag"}),icon:a.K3F,color:"red.500",onClick:C,"data-in-editor-focus":!0})]}),c]})})})]})},eP=e=>{let{x:t,y:n,width:a,height:r,isEditable:s,selectItem:l,selectItemWithKeyPath:o,isItemSelected:c,isStepSelected:d,stepAttributes:u,updateStep:p,formattingMenuItems:h,editor:g,shouldShowMenu:m=c,dataLookupInfo:x}=e;return(0,i.jsxs)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:[(0,i.jsx)(X.a,{width:"100%",height:"100%",onMouseDown:e=>{s&&(l(),e.stopPropagation())},borderRadius:"var(--box-border-radius)",css:{outlineStyle:c||d?"solid":"none",outlineColor:c?"var(--chakra-colors-trueblue-300)":"var(--grid-outline-color)",outlineWidth:c?"2px":"1px"},className:"smart-diagram-selection-box"}),m&&(0,i.jsx)(eB,{hasFocus:m,onClickHandle:l,stepAttributes:u,updateStep:p,editor:g,selectItem:o,dataLookupInfo:x,children:h})]})},eF=e=>{let{element:t,id:n,data:a,editor:r,isEditable:s,updateData:o,selectItem:c,dataLookupInfo:d,_isNodeSelected:h,selectedKeyPath:g,modifyingFns:m,isTextMenuVisible:x}=e,f=parseFloat(t.getAttribute("x")||"0"),b=parseFloat(t.getAttribute("y")||"0"),C=parseFloat(t.getAttribute("width")||"0"),y=parseFloat(t.getAttribute("height")||"0");if("selection"!==d.type)return null;let v=u(d),w=g===v,A=!!g&&p(d,g),k=w&&!x,L=l(d,a);return(0,i.jsx)(eP,{id:n,x:f,y:b,width:C,height:y,isEditable:s,selectItem:()=>{c(v)},selectItemWithKeyPath:c,isItemSelected:w,shouldShowMenu:k,isStepSelected:A,stepAttributes:L||void 0,updateStep:e=>{o(t=>{let{stepNumber:n,generalNumber:i}=d;return!0===e.isEmphasized?(t.step&&(t.step=t.step.map((e,t)=>({...e,isEmphasized:t===n}))),t.general&&(t.general=t.general.map((e,t)=>({...e,isEmphasized:t===i})))):(null!==n&&t.step&&(t.step=[...t.step],t.step[n]={...t.step[n],...e}),null!==i&&t.general&&(t.general=[...t.general],t.general[i]={...t.general[i],...e})),t})},editor:r,dataLookupInfo:d,formattingMenuItems:(0,i.jsx)(eV,{canAddStep:m.canAddStep,canRemoveStep:m.canRemoveStep,addStep:m.addStep,removeStep:m.removeStep,dataLookupInfo:d})},v)},eV=e=>{let{canAddStep:t,canRemoveStep:n,addStep:r,removeStep:s,dataLookupInfo:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==l.stepNumber&&r(l.stepNumber),leftIcon:(0,i.jsx)(M.g,{icon:a.q_k}),ms:2,children:(0,i.jsx)(I.x6,{id:"hfkdR8"})}),(0,i.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==l.stepNumber&&r(l.stepNumber+1),leftIcon:(0,i.jsx)(M.g,{icon:a.q_k}),children:(0,i.jsx)(I.x6,{id:"Y1oj5r"})}),(0,i.jsx)(D.q,{}),(0,i.jsx)(z.I,{disabled:!n,label:(0,i.jsx)(I.x6,{id:"cnGeoo"}),onClick:()=>s(l.stepNumber),icon:a.yLS,color:"red.500"})]})};var eO=n(50535),eZ=n(80039),eW=n(33170),eU=n(37243),eG=n(15902),eK=n(63867),eQ=n(36464),eq=n(2426),eJ=n(73326),e$=n(63902),eY=n(15253);let eX=e=>{let{editor:t}=e;return(0,e$.oR)()?(0,i.jsx)(eY.N,{editor:t}):(0,i.jsx)(eJ.$Z,{editor:t})};var e0=n(11403),e1=n(8763);let e2=eU.YY.create({name:"smartDiagramKeyboard",addOptions:()=>({parentEditor:null}),addKeyboardShortcuts(){let{parentEditor:e}=this.options;return{"Mod-z":()=>null==e?void 0:e.commands.undo(),"Mod-y":()=>null==e?void 0:e.commands.redo()}}});function e3(e){var t;let n=eq.dX.getState(e.state);if((null==n?void 0:n.forceHide)===!0)return!1;let i=e.state.selection;return i instanceof eK.U3?!i.empty:(null==n||null==(t=n.tippyInstance)?void 0:t.state.isVisible)===!0||document.body.classList.contains("formatting-menu-open")}let e5=e=>{let{className:t,selectItem:n,onChange:a,editable:r,parentEditor:l,direction:o="ltr",setIsTextMenuVisible:c,isTextMenuVisible:d,...u}=e,p=(0,s.useMemo)(()=>[...(0,e1.D)(),...l?[e2.configure({parentEditor:l})]:[]],[l]),h=(0,e0.lW)(a,500),g=(0,eJ.hG)({extensions:p,...u,onUpdate(e){let{editor:t,transaction:n}=e;n.docChanged&&(n.getMeta("history$")||h({editor:t}))},onSelectionUpdate(e){let{editor:t}=e,n=e3(t);null==c||c(n)},onBlur:e=>{let{event:t}=e;t.relatedTarget instanceof HTMLElement&&t.relatedTarget.closest("[data-active-menu]")||(g.commands.forceHideBubbleMenu(!0),setTimeout(()=>{null==c||c(!1)},0))},onFocus:()=>{g.commands.forceHideBubbleMenu(!1),setTimeout(()=>{l&&l.state.selection instanceof eG.n&&l.view.focus()},100)},immediatelyRender:!0}),m=g.view.hasFocus();g.shouldUseLiteMenus=!0,(0,s.useEffect)(()=>{void 0!==u.content&&g.getHTML()!==u.content&&g.commands.setContent(u.content)},[u.content,g]),(0,s.useEffect)(()=>{g.setEditable(!!r)},[r,g]);let x=eq.dX.getState(g.state);return(0,s.useEffect)(()=>{let e=e3(g);null==c||c(e)},[g.state.selection,x,c,g]),(0,s.useEffect)(()=>{let e=e3(g);!1===d&&e&&g.commands.forceHideBubbleMenu&&g.commands.forceHideBubbleMenu(!0)},[d,g]),(0,i.jsxs)(K.s,{dir:o,direction:"column",w:"100%",h:"100%",className:(0,ee.cx)("smart-diagram-textbox",t),borderRadius:"var(--box-border-radius)",justifyContent:"center",alignItems:"center",onMouseDown:e=>{n(),e.stopPropagation()},style:{outlineColor:m?"var(--chakra-ring-color)":void 0,outlineWidth:m?"2px":void 0},children:[(0,i.jsx)(eX,{editor:g}),(0,i.jsx)(eW.L8,{isDark:!1,children:(0,i.jsx)(eQ.Ht,{editor:g,appendToSelector:".smart-diagram-wrapper:focus-within"})})]})},e4=e=>{let{x:t,y:n,width:a,height:r,style:s,...l}=e;return(0,i.jsx)("g",{style:s,children:(0,i.jsx)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:(0,i.jsx)(e9,{...l})})})},e6=(e,t)=>{if("rtl"===t){if("left"===e)return"right";if("right"===e)return"left"}return e},e9=e=>{let{text:t,isEditable:n,onUpdate:a,horizontalAlignClass:r="center",verticalAlignClass:s="middle",textDirection:l="ltr",selectItem:o,parentEditor:c,isItemSelected:d,fontSize:u="".concat(18,"px"),setIsTextMenuVisible:p,isTextMenuVisible:h,...g}=e,m=(0,eZ.lI)(s),x=e6(r,l),f={...(0,H.yp)(x,l),...(0,H.AS)(x,l),"--vertical-align":m};return(0,i.jsx)(K.s,{direction:"column",w:"100%",h:"100%",css:f,justifyContent:"stretch",...g,className:(0,ee.cx)(n?"is-editable":""),fontSize:u,style:{transform:"rtl"===l?"scaleX(-1)":void 0},children:(0,i.jsx)(e5,{content:t,onChange:e=>{let{editor:t}=e,n=t.state.doc.content;a((0,eO.$R)(n,t.schema))},className:g.className,editable:n,selectItem:o,isItemSelected:d,parentEditor:c,direction:l,setIsTextMenuVisible:p,isTextMenuVisible:h})})},e7=e=>{let t=e.classList;return t.contains("right")?"right":t.contains("left")?"left":"center"},e8=e=>{let t=e.classList;return t.contains("top")?"start":t.contains("bottom")?"end":"middle"},te=e=>{let{element:t,id:n,data:a,isEditable:r,updateData:s,selectItem:l,dataLookupInfo:p,parentEditor:h,isNodeSelected:m,selectedKeyPath:x,direction:f="ltr",setIsTextMenuVisible:b,isTextMenuVisible:C}=e,y=parseFloat(t.getAttribute("x")||"0"),v=parseFloat(t.getAttribute("y")||"0"),w=parseFloat(t.getAttribute("width")||"0"),A=parseFloat(t.getAttribute("height")||"0"),k=ep(t),L=e7(t),j=e8(t);if("text"!==p.type)return null;let E=d(p,a),S=u(p),M=o(a),I=1;return M&&(c(p,a)||(I=.5)),(0,i.jsx)(e4,{id:n,x:y,y:v,width:w,height:A,text:E||"",isEditable:r,onUpdate:e=>{s(t=>g(p,t,e))},className:k,selectItem:()=>{l(u({...p,type:"selection"}))},parentEditor:h,isItemSelected:m&&x===S,horizontalAlignClass:L,verticalAlignClass:j,textDirection:f,style:1!==I?{opacity:I}:void 0,setIsTextMenuVisible:b,isTextMenuVisible:C},S)};var tt=n(94297),tn=n(96177),ti=n(30892);let ta=e=>{if(!e)return{x:void 0,y:void 0,width:void 0,height:void 0};let[t,n,i,a]=e.split(" ").map(parseFloat);return{x:t,y:n,width:i,height:a}},tr=e=>{if(!e)return null;let t=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,n=t.getAttribute("viewBox")||void 0,{width:i,height:a}=ta(n);return{element:t,props:{viewBox:n,width:i,height:a,preserveAspectRatio:"xMidYMid meet",overflow:"visible"}}},ts=e=>{let t={};return Array.from(e.attributes).forEach(e=>{if("fill"===e.name)return;let n="class"===e.name?"className":e.name;["x","y","width","height","cx","cy","r","x1","y1","x2","y2","opacity","fill-opacity","stroke-width"].includes(e.name)?t[n]=parseFloat(e.value):("style"===e.name||"class"===e.name||e.name,t[n]=e.value)}),t},tl=e=>e instanceof SVGElement&&e.className&&"object"==typeof e.className?e.className.baseVal||"":e.className||"",to=(e,t)=>[...new Set(Array.from(e.querySelectorAll('[class*="'.concat(t,'-"]'))).map(e=>{let n=tl(e).match(new RegExp("".concat(t,"-(\\d+)")));return n?parseInt(n[1]):0}).filter(e=>e>0))].sort((e,t)=>e-t),tc=e=>to(e,"step"),td=e=>to(e,"general"),tu=(e,t,n,i,a,r,s,l)=>{let o;t.length&&(r&&(o=(0,tt.M9)(n,t,r,{lightnessRange:s,theme:l})),t.forEach(t=>{let n=".".concat(a,"-").concat(t),r=e.querySelector(n);if(r){let e=r.querySelectorAll(i),n=o?o.get(t):void 0;n?e.forEach(e=>{let t=tl(e),i=n;t.includes("light")?i=(0,ti.Zt)(n,5):t.includes("dim")&&(i=(0,ti.Zt)(n,-5)),e.style.setProperty("--shape-bg-color-override",i)}):e.forEach(e=>{e.style.getPropertyValue("--shape-bg-color-override")&&(e.style.removeProperty("--shape-bg-color-override"),0===e.style.length&&e.removeAttribute("style"))})}}))},tp=(e,t,n,i,a,r,s)=>{tu(e,t,n,i,"step",a,r,s)},th=(e,t,n,i,a,r,s)=>{tu(e,t,n,i,"general",a,r,s)},tg=e=>{let{svgElement:t,theme:n,colorScheme:i,useNewChartingColorSet:a=!1}=e,r=i&&(i in P.fA||(null==i?void 0:i.startsWith("monochrome-")))?i:void 0,s=(0,V.Ik)((0,V.VH)(n)),l=(0,tt.au)(s,i,n,a),o=(0,V.kJ)(n),c=tc(t),d=td(t),u=".accent:not(.textbox):not(.image):not(.selection)",p=".subtle:not(.textbox):not(.image):not(.selection)",h=".background:not(.textbox):not(.image):not(.selection)",g=(null==r?void 0:r.startsWith("monochrome"))?tC(l,n):void 0,m=(null==r?void 0:r.startsWith("monochrome"))?tC(o,n):void 0;tp(t,c,l,u,r,g,n);let x=(0,V.Mw)(n),f=x?-20:30,b=g?{min:Math.max(15,g.min+(x?-10:15)),max:Math.min(85,g.max+(x?-10:15))}:void 0;return tp(t,c,(0,ti.Zt)(l,f),p,r,b,n),th(t,d,l,u,r,g,n),th(t,d,(0,ti.Zt)(l,f),p,r,b,n),tp(t,c,o,h,r,m,n),th(t,d,o,h,r,m,n),t},tm=e=>{if(!e)return{};let t={};return e.split(";").forEach(e=>{let[n,i]=e.split(":");t[n]=i}),t},tx=(e,t,n,i,a)=>{let r,s={...e},l=e.className||"",o=l.includes("accent")&&!l.includes("textbox")&&!l.includes("image")&&!l.includes("selection"),c=l.includes("subtle")&&!l.includes("textbox")&&!l.includes("image")&&!l.includes("selection");if(o||c){var d,u,p,h;null!==n&&(null==(u=t.step)||null==(d=u[n])?void 0:d.color)?r=(0,tn.q9)(t.step[n].color):null!==i&&(null==(h=t.general)||null==(p=h[i])?void 0:p.color)&&(r=(0,tn.q9)(t.general[i].color))}if(r){if(c){let e=(0,V.Mw)(a);r["--shape-bg-color-override"]=(0,ti.Zt)(r["--shape-bg-color-override"],e?-20:30)}l.includes("light")?r["--shape-bg-color-override"]=(0,ti.Zt)(r["--shape-bg-color-override"],5):l.includes("dim")&&(r["--shape-bg-color-override"]=(0,ti.Zt)(r["--shape-bg-color-override"],-5)),s.style={...s.style,...r}}return s},tf=(e,t,n,i)=>{let a,r={...e};if(o(t)&&(null!==n||null!==i)&&!c({stepNumber:n,generalNumber:i,type:"selection"},t)){var s;let t=1;(null==(s=r.style)?void 0:s.opacity)&&(t=parseFloat(r.style.opacity.toString())),void 0!==e.opacity&&(t=parseFloat(e.opacity.toString())),void 0!==e.fillOpacity&&(t=parseFloat(e.fillOpacity.toString())),a=.5*t}return void 0!==a&&(r.style={...r.style,opacity:a},void 0===r.fillOpacity&&(r.fillOpacity=a),void 0===r.strokeOpacity&&(r.strokeOpacity=a)),r},tb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=ta(e);return(null==i?void 0:i.height)&&i.width&&!n?Math.min(i.width/1e3*t*100,100):100},tC=(e,t)=>{let n=(0,ti.VU)(e);if((0,V.Mw)(t)){let e=100*n;return{min:Math.max(20,e-15),max:Math.min(80,e+30)}}{let e=100*n;return{min:Math.max(20,e-30),max:Math.min(80,e+15)}}},ty=e=>{if("rect"!==e.tagName.toLowerCase())return!1;if(e.classList.contains("icon"))return!0;let t=e.getAttribute("width");return!(!t||isNaN(Number(t))||0>=Number(t))&&e.classList.contains("image")&&80>Number(t)},tv=e=>{let{nodes:t,data:n,isEditable:a,updateData:r,defaultFontSize:l,viewBoxWidth:o,viewBoxHeight:c,selectItem:d,editor:u,isNodeSelected:p,selectedKeyPath:h,modifyingFns:g,direction:m="ltr",globalSelectionElements:f,globalInteractiveElements:b,globalImageElements:C,colors:y,globalClipPathDefs:v,isTextMenuVisible:w,setIsTextMenuVisible:A,theme:k}=e,L=[],j=f||[],E=b||[],S=v||[],M=C||[];return(Array.from(t).forEach((e,t)=>{if(e.nodeType!==Node.ELEMENT_NODE)return;let i=e.tagName.toLowerCase(),f=e.id,{stepNumber:b,generalNumber:C}=x(e.classList);if("rect"===i&&e.classList.contains("selection"))return void j.push(eF({element:e,id:f,data:n,isEditable:a,updateData:r,selectItem:d,_isNodeSelected:p,selectedKeyPath:h,dataLookupInfo:{stepNumber:b,generalNumber:C,type:"selection"},modifyingFns:g,editor:u,isTextMenuVisible:w}));if("rect"===i&&e.classList.contains("textbox"))return void E.push(te({element:e,id:f,data:n,isEditable:a,updateData:r,dataLookupInfo:{stepNumber:b,generalNumber:C,type:"text"},selectItem:d,isNodeSelected:p,selectedKeyPath:h,parentEditor:u,direction:m,setIsTextMenuVisible:A,isTextMenuVisible:w}));if("rect"===i&&ty(e))return void E.push(ex({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:b,generalNumber:C,type:"icon"},isNodeSelected:p,selectedKeyPath:h}).component);if(e.classList.contains("image")){let{component:t,clipPathDef:i}=ek({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:b,generalNumber:C,type:"image"},isNodeSelected:p,selectedKeyPath:h,colors:y});M.push(t),i&&S.push(i);return}let v=tv({nodes:e.childNodes,data:n,isEditable:a,updateData:r,defaultFontSize:l,viewBoxWidth:o,viewBoxHeight:c,selectItem:d,isNodeSelected:p,selectedKeyPath:h,editor:u,modifyingFns:g,direction:m,globalSelectionElements:j,globalInteractiveElements:E,globalClipPathDefs:S,globalImageElements:M,colors:y,isTextMenuVisible:w,setIsTextMenuVisible:A,theme:k}),I=ts(e);I.style=tm(I.style),I=tf(I=tx(I,n,b,C,k),n,b,C);let _=ep(e,m);_&&(I.className=_),a&&("circle"===i||"ellipse"===i||"rect"===i||"path"===i)&&("object"==typeof I.style?I.style={...I.style,pointerEvents:"none"}:I.style={pointerEvents:"none"}),L.push(s.createElement(i,{...I,key:"".concat(i,"-").concat(f||t)},v.length>0?v:void 0))}),f||b||C)?L:[...S.length>0?[(0,i.jsx)("defs",{children:S},"clipPathDefs")]:[],...L,...M,...j,...E]},tw=e=>{if(!e||"object"!=typeof e)return"";let t="",n=e=>{if(!e||"string"!=typeof e)return"";try{let t=new DOMParser().parseFromString(e,"text/html");return t.body.textContent||t.body.innerText||""}catch(e){return""}};return e.step&&Array.isArray(e.step)&&e.step.forEach(e=>{if(null==e?void 0:e.text){let i=n(e.text);t+=" "+i}}),e.general&&Array.isArray(e.general)&&e.general.forEach(e=>{if(null==e?void 0:e.text){let i=n(e.text);t+=" "+i}}),t.trim()},tA=e=>{let{svgData:t,isEditable:n=!1,data:a={},updateData:r=()=>{},selectItem:l,editor:o,isNodeSelected:c,selectedKeyPath:d,templateKey:u,svgDirection:p,colors:h,isTextMenuVisible:g=!1,setIsTextMenuVisible:m}=e,x=(0,s.useMemo)(()=>{let e=tw(a);if(e){let t=(0,q.R_)(e);if(t)return t}return p||(0,J.C)()},[a,p]),C=(0,s.useMemo)(()=>({addStep:e=>{r(()=>y(a,e))},removeStep:e=>{r(()=>v(a,e))},canAddStep:f(u,a),canRemoveStep:b(u,a)}),[a,r,u]),w=(0,F.GV)(Z.SJ),A=(0,Q.u)("useNewChartingColorSet"),k=(0,s.useMemo)(()=>t?tr(t):null,[t]),L=(0,s.useMemo)(()=>{if(!k)return null;let e=tv({nodes:tg({svgElement:k.element.cloneNode(!0),theme:w,colorScheme:a.colorScheme,useNewChartingColorSet:A}).childNodes,data:a,isEditable:n,defaultFontSize:18,viewBoxWidth:k.props.width,viewBoxHeight:k.props.height,selectItem:l,updateData:r,editor:o,isNodeSelected:c,selectedKeyPath:d,modifyingFns:C,direction:x,colors:h,globalClipPathDefs:[],isTextMenuVisible:g,setIsTextMenuVisible:m,theme:w});return(0,i.jsxs)("svg",{...k.props,width:"100%",height:"auto",style:{maxWidth:"100%",display:"block",...k.props.style,transform:"rtl"===x?"scaleX(-1)":void 0},children:[n&&(0,i.jsx)(Y,{}),e,n&&(0,i.jsx)(Y,{})]})},[k,w,a,n,l,r,o,c,d,C,x,h,g,m,A]),j=(0,$.FX)(),E=(0,s.useMemo)(()=>(null==k?void 0:k.props.viewBox)?tb(k.props.viewBox,e.svgScalingFactor||1,j):100,[null==k?void 0:k.props.viewBox,e.svgScalingFactor,j]);return(0,i.jsx)(el,{svgWidthPercent:E,...e,children:(0,i.jsx)(K.s,{w:"100%",position:"relative",children:t&&(0,i.jsx)(K.s,{w:"100%",h:"100%",children:L})})})},tk=new Map(Object.entries({arrow_bars_1:'<svg class="arrow_bars" width="730.72064" height="121.63564000000001" viewBox="135.94768 206.94768 730.72064 121.63564000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M852.616 267.766L804.904 314.531V302.766H150V232.766H804.904V221L852.616 267.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="189.1650390625" y="246.5625" width="577" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_2:'<svg class="arrow_bars" width="814.96064" height="223.40664" viewBox="93.32768 156.32768 814.96064 223.40664" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M892.616 317.297L844.904 364.062V352.531H109V282.531H844.904V270.531L892.616 317.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="151.1650390625" y="296.5625" width="565" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M811.616 218.766L763.904 265.531V253.766H109V183.766H763.904V172L811.616 218.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="151.1650390625" y="197.5625" width="565" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_3:'<svg class="arrow_bars" width="898.16064" height="325.13864" viewBox="51.72768 105.72767999999999 898.16064 325.13864" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M932.616 366.828L884.904 413.594V401.766H69V331.766H884.904V320.062L932.616 366.828Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="113.1650390625" y="345.5625" width="563" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M852.616 268.297L804.904 315.062V303.531H69V233.531H804.904V221.531L852.616 268.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="113.1650390625" y="247.5625" width="563" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M771.616 169.766L723.904 216.531V204.766H69V134.766H723.904V123L771.616 169.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="113.1650390625" y="148.5625" width="563" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_4:'<svg class="arrow_bars" width="991.76064" height="427.67564" viewBox="-3.0733200000000007 86.92768 991.76064 427.67564" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M969.615 448.766L921.903 495.531V484H15.999V414H921.903V402L969.615 448.766Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="59.1650390625" y="427.5625" width="554" height="40" class="step-4 accent textbox left step-4 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M879.615 350.062L831.903 396.828V385H15.999V315H831.903V303.297L879.615 350.062Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="59.1650390625" y="328.5625" width="554" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M799.615 251.531L751.903 298.297V286.766H15.999V216.766H751.903V204.766L799.615 251.531Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="59.1650390625" y="230.5625" width="554" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M718.616 152.766L670.904 199.531V187.766H16V117.766H670.904V106L718.616 152.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="59.1650390625" y="131.5625" width="554" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("arrow_bars_","")),n]})),tL="arrow_bars",tj={key:tL,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=tk.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tL,svgScalingFactor:tj.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Yxcx0I"}),icon:a.dmS,defaultColorScheme:"monochrome",stepSvgData:tk,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/arrow_bars.a69a69a4.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,defaultData:()=>w(tk),svgScalingFactor:1},tE=new Map(Object.entries({bubbles_1:'<svg class="bubbles" width="217.00000000000006" height="346" viewBox="391.99999999999994 93.99999999999999 217.00000000000006 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.5 104C554.9 104 599 148.1 599 202.5C599 256.9 554.9 301 500.5 301C446.1 301 402 256.9 402 202.5C402 148.1 446.1 104 500.5 104ZM500.5 116C452.727 116 414 154.727 414 202.5C414 250.273 452.727 289 500.5 289C548.273 289 587 250.273 587 202.5C587 154.727 548.273 116 500.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="472.056640625" y="174.7734375" width="56" height="56" class="step-1 card icon" fill="#666666"/>\n<rect id="step-1-card-textbox" x="423" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="394.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_2:'<svg class="bubbles" width="400.73" height="346" viewBox="300 93.99999999999999 400.73 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M592.23 104C646.631 104 690.73 148.1 690.73 202.5C690.73 256.9 646.631 301 592.23 301C551.3 301 516.201 276.034 501.329 240.5L509.854 228.963C521.034 263.792 553.688 289 592.23 289C640.003 289 678.73 250.273 678.73 202.5C678.73 154.727 640.003 116 592.23 116C553.355 116 520.471 141.645 509.569 176.94L500.986 165.327C515.657 129.354 550.983 104 592.23 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect x="567.056640625" y="174.91015625" width="56" height="56" class="step-2 card icon" fill="#666666"/>\n<rect id="step-2-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="493.5" y="96.5" width="205" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M408.5 104C446.232 104 479.008 125.216 495.551 156.369V156.254L530.205 203.146L495.551 250.037V248.63C479.008 279.783 446.232 301 408.5 301C354.1 301 310 256.9 310 202.5C310 148.1 354.1 104 408.5 104ZM408.5 116C360.727 116 322 154.727 322 202.5C322 250.273 360.727 289 408.5 289C456.273 289 495 250.273 495 202.5C495 154.727 456.273 116 408.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-icon" x="381" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card icon"/>\n<rect id="step-1-card-textbox" x="331" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="302.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_3:'<svg class="bubbles" width="587.33376" height="348.58976" viewBox="206.70512 92.70511999999998 587.33376 348.58976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M684.244 104C738.644 104 782.744 148.1 782.744 202.5C782.744 256.9 738.644 301 684.244 301C643.313 301 608.215 276.034 593.343 240.5L601.868 228.963C613.048 263.792 645.702 289 684.244 289C732.017 289 770.744 250.273 770.744 202.5C770.744 154.727 732.017 116 684.244 116C645.369 116 612.484 141.645 601.583 176.94L593 165.327C607.671 129.354 642.996 104 684.244 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect x="657.056640625" y="174.91015625" width="56" height="56" class="step-3 card icon" fill="#666666"/>\n<rect id="step-3-card-textbox" x="611" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="585.5" y="96.5" width="205" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-icon" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card icon"/>\n<rect id="step-2-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="401.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M316.5 104C354.232 104 387.008 125.216 403.551 156.369V156.254L438.205 203.146L403.551 250.037V248.63C387.008 279.783 354.232 301 316.5 301C262.1 301 218 256.9 218 202.5C218 148.1 262.1 104 316.5 104ZM316.5 116C268.727 116 230 154.727 230 202.5C230 250.273 268.727 289 316.5 289C364.273 289 403 250.273 403 202.5C403 154.727 364.273 116 316.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-icon" x="290" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card icon"/>\n<rect id="step-1-card-textbox" x="240" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="214.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_4:'<svg class="bubbles" width="777.6537600000003" height="355.90976" viewBox="111.04512 89.04511999999998 777.6537600000003 355.90976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M775.244 104C829.644 104 873.744 148.1 873.744 202.5C873.744 256.9 829.644 301 775.244 301C734.313 301 699.215 276.034 684.343 240.5L692.868 228.963C704.048 263.792 736.702 289 775.244 289C823.017 289 861.744 250.273 861.744 202.5C861.744 154.727 823.017 116 775.244 116C736.369 116 703.484 141.645 692.583 176.94L684 165.327C698.671 129.354 733.996 104 775.244 104Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect x="748.056640625" y="174.91015625" width="56" height="56" class="step-4 card icon" fill="#666666"/>\n<rect id="step-4-card-textbox" x="702" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="674.5" y="96.5" width="205" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M591.912 104C629.419 104 661.999 125.09 678.443 156.057V155.942L712.89 202.554L678.443 249.166V247.766C661.999 278.733 629.419 299.824 591.912 299.824C551.191 299.824 516.277 274.965 501.516 239.595L509.996 228.118C521.079 262.79 553.563 287.896 591.912 287.896C639.399 287.895 677.895 249.399 677.896 201.912C677.896 154.425 639.399 115.929 591.912 115.929C553.232 115.929 520.519 141.469 509.714 176.605L501.175 165.052C515.735 129.245 550.876 104 591.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-icon" x="565" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card icon"/>\n<rect id="step-3-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="493.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M408.912 104C446.419 104 478.999 125.09 495.443 156.057V155.942L529.89 202.554L495.443 249.166V247.766C478.999 278.733 446.419 299.824 408.912 299.824C368.191 299.824 333.277 274.965 318.516 239.595L326.996 228.118C338.079 262.79 370.563 287.896 408.912 287.896C456.399 287.895 494.895 249.399 494.896 201.912C494.896 154.425 456.399 115.929 408.912 115.929C370.232 115.929 337.519 141.469 326.714 176.605L318.175 165.052C332.735 129.245 367.876 104 408.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-icon" x="382" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card icon"/>\n<rect id="step-2-card-textbox" x="335" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="310.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M224.5 104C262.232 104 295.008 125.216 311.551 156.369V156.254L346.205 203.146L311.551 250.037V248.63C295.008 279.783 262.232 301 224.5 301C170.1 301 126 256.9 126 202.5C126 148.1 170.1 104 224.5 104ZM224.5 116C176.727 116 138 154.727 138 202.5C138 250.273 176.727 289 224.5 289C272.273 289 311 250.273 311 202.5C311 154.727 272.273 116 224.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-icon" x="198" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card icon"/>\n<rect id="step-1-card-textbox" x="148" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="122.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_5:'<svg class="bubbles" width="967.9737600000003" height="363.22976" viewBox="16.385119999999993 85.38511999999997 967.9737600000003 363.22976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M867.244 104C921.644 104 965.744 148.1 965.744 202.5C965.744 256.9 921.644 301 867.244 301C826.313 301 791.215 276.034 776.343 240.5L784.868 228.963C796.048 263.792 828.702 289 867.244 289C915.017 289 953.744 250.273 953.744 202.5C953.744 154.727 915.017 116 867.244 116C828.369 116 795.484 141.645 784.583 176.94L776 165.327C790.671 129.354 825.996 104 867.244 104Z" fill="#B3B5E1" class="step-5 accent"/>\n<rect x="840.056640625" y="174.91015625" width="56" height="56" class="step-5 card icon" fill="#666666"/>\n<rect id="step-5-card-textbox" x="794" y="319" width="155" height="111" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="766.5" y="96.5" width="205" height="341" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M683.912 104C721.419 104 753.999 125.09 770.443 156.057V155.942L804.89 202.554L770.443 249.166V247.766C753.999 278.733 721.419 299.824 683.912 299.824C643.191 299.824 608.277 274.965 593.516 239.595L601.996 228.118C613.079 262.79 645.563 287.896 683.912 287.896C731.399 287.895 769.895 249.399 769.896 201.912C769.896 154.425 731.399 115.929 683.912 115.929C645.232 115.929 612.519 141.469 601.714 176.605L593.175 165.052C607.735 129.245 642.876 104 683.912 104Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-icon" x="657" y="175" width="56" height="56" fill="#D9D9D9" class="step-4 card icon"/>\n<rect id="step-4-card-textbox" x="610" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="585.5" y="96.5" width="198" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-icon" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card icon"/>\n<rect id="step-3-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="402.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M317.912 104C355.419 104 387.999 125.09 404.443 156.057V155.942L438.89 202.554L404.443 249.166V247.766C387.999 278.733 355.419 299.824 317.912 299.824C277.191 299.824 242.277 274.965 227.516 239.595L235.996 228.118C247.079 262.79 279.563 287.896 317.912 287.896C365.399 287.895 403.895 249.399 403.896 201.912C403.896 154.425 365.399 115.929 317.912 115.929C279.232 115.929 246.519 141.469 235.714 176.605L227.175 165.052C241.735 129.245 276.876 104 317.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-icon" x="291" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card icon"/>\n<rect id="step-2-card-textbox" x="244" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="219.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M133.5 104C171.232 104 204.008 125.216 220.551 156.369V156.254L255.205 203.146L220.551 250.037V248.63C204.008 279.783 171.232 301 133.5 301C79.1 301 35 256.9 35 202.5C35 148.1 79.1 104 133.5 104ZM133.5 116C85.7274 116 47 154.727 47 202.5C47 250.273 85.7274 289 133.5 289C181.273 289 220 250.273 220 202.5C220 154.727 181.273 116 133.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-icon" x="107" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card icon"/>\n<rect id="step-1-card-textbox" x="57" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="31.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bubbles_","")),n]})),tS="bubble_steps",tM={key:tS,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,1,5),s=tE.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tS,svgScalingFactor:tM.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"9v8/rg"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/bubble-steps.2a853dd7.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tE,formattingMenu:G,defaultData:()=>w(tE),svgScalingFactor:1};var tI=n(51684);let t_=new Map(Object.entries({bullseye_4:'<svg class="bullseye-frame" width="966.4048264" height="513.23142811875" viewBox="13.414256799999997 4.4152917999999985 966.4048264 513.23142811875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-no-border" d="M435.453 407.703L437.042 406.489L224.855 225.887L223.266 227.101L435.453 407.703Z" fill="#3371A5" class="step-4 no-border accent"/>\n<circle id="step-4-accent" cx="233.89999999999998" cy="274.5323" r="201.325" fill="#B4D0E8" stroke="white" stroke-width="1.15207" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="508.234375" y="399.06201171875" width="375" height="100" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-4_2" cx="466" cy="422" r="35" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-card-icon" x="451" y="407" width="30" height="30" class="step-4 icon subtle" fill="#666666"/>\n<rect id="step-4-selection" x="438.56600000000003" y="392.5" width="453" height="115" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-no-border" d="M509.629 310.212L510.185 308.291L224.573 225.674L224.018 227.596L509.629 310.212Z" fill="#3371A5" class="step-3 no-border accent"/>\n<circle id="step-3-accent" cx="233.61200000000002" cy="274.82" r="160.138" fill="#8FB9DC" stroke="white" stroke-width="1.15207" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="586.234375" y="290.06201171875" width="375" height="100" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-3_2" cx="544" cy="313" r="35" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-card-icon" x="529" y="298" width="30" height="30" class="step-3 icon subtle" fill="#666666"/>\n<rect id="step-3-selection" x="516.566" y="283.5" width="453" height="115" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-no-border" d="M503.86 189.033L503.165 187.158L225.477 226.858L226.172 228.734L503.86 189.033Z" fill="#3371A5" class="step-2 no-border accent"/>\n<path id="step-2-accent" d="M234.188 158.461C169.605 158.462 117.253 210.688 117.253 275.109C117.253 339.53 169.605 391.756 234.188 391.756C298.77 391.756 351.123 339.53 351.123 275.109C351.123 210.688 298.77 158.461 234.188 158.461Z" fill="#69A1D1" stroke="white" stroke-width="1.15207" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="578.234375" y="156.06201171875" width="375" height="100" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-2_2" cx="536" cy="179" r="35" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-icon" x="521" y="164" width="30" height="30" class="step-2 icon subtle" fill="#666666"/>\n<rect id="step-2-selection" x="508.56600000000003" y="149.5" width="453" height="115" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-no-border" d="M426.384 76.3558L424.861 75.0595L225.954 227.088L227.477 228.384L426.384 76.3558Z" fill="#3371A5" class="step-1 no-border accent"/>\n<circle id="step-1-accent" cx="233.32179999999997" cy="275.1062" r="67.1082" fill="#3371A5" stroke="white" stroke-width="1.15207" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="492.234375" y="35.06201171875" width="375" height="100" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-1_2" cx="453" cy="58" r="35" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-icon" x="438" y="43" width="30" height="30" class="step-1 icon subtle" fill="#666666"/>\n<rect id="step-1-selection" x="422.56600000000003" y="28.5" width="453" height="115" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_1:'<svg class="bullseye-frame" width="821.04894365" height="177.51194599374998" viewBox="91.21116223749999 175.21056223750003 821.04894365 177.51194599374998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="521.470703125" y="236.93310546875" width="375" height="100" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<path id="step-1-no-border" d="M439 257.016L439 259.016L242 259L242 257L439 257.016Z" fill="#3371A5" class="step-1 no-border accent"/>\n<circle id="step-1-accent" cx="174.6848" cy="258.68420000000003" r="67.1082" fill="#3371A5" stroke="white" stroke-width="1.15207" class="step-1 accent"/>\n<circle id="step-1-accent_2" cx="474" cy="259" r="35" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-icon" x="459" y="244" width="30" height="30" class="step-1 icon subtle" fill="#666666"/>\n<rect id="step-1-selection" x="439.5" y="230.5" width="466" height="112" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_2:'<svg class="bullseye-frame" width="1038.95792" height="572.94492" viewBox="-19.483866000000003 -19.413065000000003 1038.95792 572.94492" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye-frame">\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="540.1015625" y="305.06202697753906" width="375" height="100" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-2-accent" cx="492.098" cy="327.129" r="35" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-icon" x="478" y="313" width="30" height="30" class="step-2 icon subtle" fill="#666666"/>\n<rect id="step-2-selection" x="457.59799999999996" y="298.629" width="466" height="112" stroke="#2B3541" class="step-2 selection"/>\n<path id="step-2-no-border" d="M456.993 324.123L286.092 306.254L286.3 304.265L457.201 322.134L456.993 324.123Z" fill="#3371A5" class="step-2 no-border accent"/>\n<path id="step-2-accent_2" d="M193.586 122.705C129.003 122.705 76.6514 174.931 76.6514 239.353C76.6515 303.773 129.003 356 193.586 356C258.169 356 310.521 303.774 310.521 239.353C310.521 174.931 258.169 122.705 193.586 122.705Z" fill="#69A1D1" stroke="white" stroke-width="1.15207" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="540.1015625" y="135.06201171875" width="375" height="100" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<path id="step-1-no-border" d="M456.73 158.163L457.098 160.129L243.098 200.129L242.73 198.163L456.73 158.163Z" fill="#3371A5" class="step-1 no-border accent"/>\n<circle id="step-1-accent" cx="193.4138" cy="241.8132" r="67.1082" fill="#3371A5" stroke="white" stroke-width="1.15207" class="step-1 accent"/>\n<circle id="step-1-accent_2" cx="492.098" cy="157.129" r="35" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-icon" x="478" y="144" width="30" height="30" class="step-1 icon subtle" fill="#666666"/>\n<rect id="step-1-selection" x="457.59799999999996" y="128.629" width="466" height="112" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_3:'<svg class="bullseye-frame" width="924.9929689" height="413.63866436875" viewBox="32.783638675000006 54.211673675 924.9929689 413.63866436875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye-frame">\n<g id="step-3" class="step-3">\n<circle id="step-3_2" cx="521" cy="373" r="35" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-card-icon" x="506" y="358" width="30" height="30" class="step-3 icon subtle" fill="#666666"/>\n<path id="step-3-no-border" d="M486.541 363.075L486 365L203.838 285.709L204.379 283.784L486.541 363.075Z" fill="#3371A5" class="step-3 no-border accent"/>\n<circle id="step-3-accent" cx="211.286" cy="253.714" r="160.138" fill="#8FB9DC" stroke="white" stroke-width="1.15207" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="564.98828125" y="350.06201171875" width="375" height="100" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="494.5" y="343.5" width="453" height="115" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-accent" cx="521" cy="239" r="35" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-icon" x="506" y="224" width="30" height="30" class="step-2 icon subtle" fill="#666666"/>\n<path id="step-2-no-border" d="M485.709 244.021L486 246L210.314 286.49L210.023 284.511L485.709 244.021Z" fill="#3371A5" class="step-2 no-border accent"/>\n<path id="step-2-accent_2" d="M211.488 136.576C146.906 136.576 94.5537 188.803 94.5537 253.224C94.5539 317.645 146.906 369.871 211.488 369.871C276.071 369.871 328.424 317.645 328.424 253.224C328.424 188.802 276.071 136.576 211.488 136.576Z" fill="#69A1D1" stroke="white" stroke-width="1.15207" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="563.98828125" y="216.06201171875" width="375" height="100" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="493.5" y="209.5" width="453" height="115" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-accent" cx="521" cy="107" r="35" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-icon" x="506" y="92" width="30" height="30" class="step-1 icon subtle" fill="#666666"/>\n<path id="step-1-no-border" d="M487.975 118.283L489 120L210.295 286.465L209.27 284.748L487.975 118.283Z" fill="#3371A5" class="step-1 no-border accent"/>\n<circle id="step-1-accent_2" cx="210.68480000000002" cy="253.6842" r="67.1082" fill="#3371A5" stroke="white" stroke-width="1.15207" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="563.98828125" y="84.06201171875" width="375" height="100" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="493.5" y="77.5" width="453" height="115" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tD="bullseye",tR={key:tD,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=t_.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tD,svgScalingFactor:tR.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"EV9YnT"}),icon:tI.pvD,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/bullseye.d2d2476f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:t_,formattingMenu:G,defaultData:()=>w(t_),svgScalingFactor:1},tT=new Map(Object.entries({concentric_circles_2:'<svg class="concentric_circles-frame" width="1017.118984375" height="360.5479609375" viewBox="-8.391035156250002 87.64301953125 1017.118984375 360.5479609375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="concentric_circles-frame">\n<g id="step-2" class="step-2 accent">\n<path id="step-2_2" d="M500.713 107.203C589.473 107.203 661.427 179.157 661.427 267.917C661.427 356.677 589.473 428.631 500.713 428.631C411.953 428.631 339.999 356.677 339.999 267.917C339.999 179.157 411.953 107.203 500.713 107.203ZM499.929 194.203C435.035 194.203 382.429 246.586 382.429 311.203C382.429 375.82 435.035 428.203 499.929 428.203C564.822 428.203 617.429 375.82 617.429 311.203C617.429 246.586 564.822 194.203 499.929 194.203Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="11.1689453125" y="155.265625" width="237" height="160" class="step-2 card textbox right" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="1.5" y="144.703" width="284" height="184" stroke="black" class="step-2 selection"/>\n<path id="step-2_3" d="M267.999 233.203C265.79 233.203 263.999 234.994 263.999 237.203C263.999 239.412 265.79 241.203 267.999 241.203C270.208 241.203 271.999 239.412 271.999 237.203C271.999 234.994 270.208 233.203 267.999 233.203ZM271.999 237.203V238.203H386.999V237.203H271.999Z" fill="#4046B4" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<ellipse id="step-1_2" cx="499.499" cy="311.203" rx="117.5" ry="117" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="732.16796875" y="234.265625" width="257" height="160" class="step-1 card textbox left" fill="#E5E5E5"/>\n<path id="step-1_3" d="M717.999 310.203C720.208 310.203 721.999 311.994 721.999 314.203C721.999 316.412 720.208 318.203 717.999 318.203C715.79 318.203 713.999 316.412 713.999 314.203C713.999 311.994 715.79 310.203 717.999 310.203ZM713.999 314.203H588.999V313.203H713.999V314.203Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="703.5" y="223.703" width="297" height="181" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',concentric_circles_3:'<svg class="concentric_circles-frame" width="1017.12" height="465.4855" viewBox="-8.391054687499999 24.5025 1017.12 465.4855" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="concentric_circles-frame">\n<g id="step-3" class="step-3 accent">\n<path id="step-3_2" d="M500.899 66C612.406 66.0001 702.8 156.394 702.8 267.9C702.8 379.407 612.406 469.801 500.899 469.801C500.009 469.801 499.121 469.796 498.233 469.784C498.921 469.793 499.61 469.797 500.3 469.797C588.941 469.797 660.8 397.939 660.8 309.297C660.8 220.655 588.941 148.797 500.3 148.797C411.658 148.797 339.8 220.655 339.8 309.297C339.8 397.236 410.523 468.656 498.194 469.783C387.934 468.335 298.999 378.504 298.999 267.9C298.999 156.394 389.393 66 500.899 66Z" fill="#D9DAF0" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="732.1689453125" y="44.0625" width="257" height="160" class="step-3 card textbox left" fill="#E5E5E5"/>\n<path id="step-3_3" d="M717.999 121C720.208 121 721.999 122.791 721.999 125C721.999 127.209 720.208 129 717.999 129C715.79 129 713.999 127.209 713.999 125C713.999 122.791 715.79 121 717.999 121ZM713.999 125H584.999V124H713.999V125Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-selection" x="703.5" y="36.5" width="297" height="178" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="11.1689453125" y="197.0625" width="237" height="160" class="step-2 card textbox right" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="1.5" y="186.5" width="284" height="184" stroke="black" class="step-2 selection"/>\n<path id="step-2_2" d="M267.999 275C265.79 275 263.999 276.791 263.999 279C263.999 281.209 265.79 283 267.999 283C270.208 283 271.999 281.209 271.999 279C271.999 276.791 270.208 275 267.999 275ZM271.999 279V280H386.999V279H271.999Z" fill="#4046B4" class="step-2 accent"/>\n<path id="step-2_3" d="M500.713 149C589.473 149 661.427 220.954 661.427 309.714C661.427 398.474 589.473 470.428 500.713 470.428C411.953 470.428 339.999 398.474 339.999 309.714C339.999 220.954 411.953 149 500.713 149ZM499.929 236C435.035 236 382.429 288.383 382.429 353C382.429 417.617 435.035 470 499.929 470C564.822 470 617.429 417.617 617.429 353C617.429 288.383 564.822 236 499.929 236Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="732.16796875" y="276.0625" width="257" height="160" class="step-1 card textbox left" fill="#E5E5E5"/>\n<path id="step-1_2" d="M717.999 352C720.208 352 721.999 353.791 721.999 356C721.999 358.209 720.208 360 717.999 360C715.79 360 713.999 358.209 713.999 356C713.999 353.791 715.79 352 717.999 352ZM713.999 356H588.999V355H713.999V356Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="703.5" y="265.5" width="297" height="181" stroke="black" class="step-1 selection"/>\n<ellipse id="step-1_3" cx="499.499" cy="353" rx="117.5" ry="117" fill="#8C90D2" class="step-1 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tz="concentric_circles",tH={key:tz,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,3),s=tT.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tz,svgScalingFactor:tH.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"FafLHV"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/concentric_circles.e99c3425.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:tT,formattingMenu:G,defaultData:()=>w(tT),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},tN=new Map(Object.entries({funnel_3d_1:'<svg class="funnel_3d-frame" width="339.99940000000004" height="308.90723359375" viewBox="328 120.1372 339.99940000000004 308.90723359375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="funnel_3d-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M622.397 130.711C607.617 134.308 596.303 154.412 596.303 178.673C596.303 202.935 607.617 223.037 622.397 226.634L338 178.674L622.397 130.711Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<ellipse id="step-1-accent" cx="627.151" cy="178.672" rx="30.8484" ry="48.5348" fill="#B9BBE4" class="step-1 subtle dim"/>\n<rect id="step-1-card-textbox" x="399.953125" y="248.04443359375" width="180" height="171" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="330.5" y="122.5" width="339" height="314" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',funnel_3d_2:'<svg class="funnel_3d-frame" width="520.0006240000001" height="370.18117634375" viewBox="239.909988 93.999988 520.0006240000001 370.18117634375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="funnel_3d-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M519.267 137.263C505.267 140.658 494.547 159.696 494.547 182.673C494.547 205.645 505.262 224.679 519.257 228.081L250 182.674L519.267 137.263Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<ellipse id="step-1-accent" cx="522.206" cy="182.95" rx="29.2055" ry="45.9501" fill="#B9BBE4" class="step-1 subtle dim"/>\n<rect id="step-1-card-textbox" x="279.953125" y="248.18115234375" width="180" height="176" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="242.5" y="129.5" width="318" height="310" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<g id="step-2-background" class="step-2 background subtle">\n<path d="M716.419 261.326V261.347L716.265 261.32C716.316 261.322 716.367 261.325 716.419 261.326Z" fill="#D5D6EF"/>\n<path d="M712.592 104.645C696.303 109.569 683.711 142.626 683.711 182.673C683.711 222.725 696.308 255.786 712.6 260.702L566.109 235.998V235.977C548.098 232.61 534.174 210.029 534.174 182.672C534.174 155.315 548.098 132.733 566.109 129.367V129.35L712.592 104.645Z" fill="#D5D6EF"/>\n<path d="M250.284 182.737L249.91 182.676L250.284 182.612V182.737Z" fill="#D5D6EF"/>\n<path d="M716.419 104.018C716.373 104.019 716.327 104.021 716.281 104.022L716.419 104V104.018Z" fill="#D5D6EF"/>\n</g>\n<ellipse id="step-2-accent" cx="716.811" cy="182.672" rx="33.0996" ry="78.6603" fill="#B9BBE4" class="step-2 subtle dim"/>\n<rect id="step-2-card-textbox" x="541.953125" y="280.18115234375" width="180" height="174" class="step-2 card textbox top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="522.5" y="96.5" width="237" height="371" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',funnel_3d_3:'<svg class="funnel_3d-frame" width="671.746816" height="392.01756834375" viewBox="167.081792 70.08179200000001 671.746816 392.01756834375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="funnel_3d-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M429.701 145.057C416.718 148.205 406.777 165.859 406.777 187.167C406.777 208.468 416.712 226.118 429.689 229.274L180 187.167L429.701 145.057Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<ellipse id="step-1-accent" cx="429.771" cy="187" rx="27.0833" ry="42.6111" fill="#B9BBE4" class="step-1 subtle dim"/>\n<rect id="step-1-card-textbox" x="218.04296875" y="248.18115234375" width="180" height="150" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="168.5" y="136.5" width="294" height="291" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<g id="step-2-background" class="step-2 background subtle">\n<path d="M612.61 260.105V260.123L612.479 260.101C612.522 260.102 612.566 260.104 612.61 260.105Z" fill="#D5D6EF"/>\n<path d="M609.069 114.807C593.961 119.365 582.279 150.024 582.279 187.167C582.279 224.303 593.957 254.958 609.062 259.524L473.223 236.617V236.598C456.521 233.475 443.609 212.535 443.609 187.167C443.609 161.799 456.521 140.857 473.223 137.734V137.718L609.069 114.807Z" fill="#D5D6EF"/>\n<path d="M180.347 187.226L180 187.168L180.347 187.109V187.226Z" fill="#D5D6EF"/>\n<path d="M612.61 114.228C612.564 114.229 612.519 114.231 612.473 114.232L612.61 114.21V114.228Z" fill="#D5D6EF"/>\n</g>\n<ellipse id="step-2-accent" cx="608.884" cy="187" rx="30.6944" ry="72.9444" fill="#B9BBE4" class="step-2 subtle dim"/>\n<rect id="step-2-card-textbox" x="441.04296875" y="276.18115234375" width="180" height="139" class="step-2 card textbox top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="432.5" y="106.5" width="215" height="321" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<g id="step-3-background" class="step-3 background subtle">\n<path d="M791.742 84C775.032 90.4933 762.111 134.207 762.111 187.167C762.111 240.108 775.022 283.81 791.724 290.328L655.944 267.431V267.164C639.595 261.347 627.055 227.748 627.055 187.168C627.055 146.588 639.595 112.988 655.944 107.171V106.901L791.742 84Z" fill="#D5D6EF"/>\n<path d="M180.347 187.225L180 187.168L180.347 187.108V187.225Z" fill="#D5D6EF"/>\n<path d="M612.61 114.622H610.164L612.61 114.21V114.622Z" fill="#D5D6EF"/>\n</g>\n<ellipse id="step-3-accent" cx="791.966" cy="187" rx="33.9444" ry="104" fill="#B9BBE4" class="step-3 subtle dim"/>\n<rect id="step-3-card-textbox" x="630.04296875" y="310.18115234375" width="180" height="139" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="615.5" y="75.5" width="218" height="389" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',funnel_3d_4:'<svg class="funnel_3d-frame" width="780.0001040000001" height="434.06115634375" viewBox="110.909998 57.119998 780.0001040000001 434.06115634375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="funnel_3d-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M351.388 155.399C339.667 158.247 330.693 174.186 330.693 193.424C330.693 212.662 339.667 228.601 351.388 231.448L125.91 193.425L351.388 155.399Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<ellipse id="step-1-accent" cx="355.15" cy="193.424" rx="24.4565" ry="38.4782" fill="#B9BBE4" class="step-1 subtle dim"/>\n<rect id="step-1-card-textbox" x="178.04296875" y="247.18115234375" width="160" height="137" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="118.5" y="147.5" width="269" height="245" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M513.353 128.084C499.715 132.211 489.172 159.891 489.172 193.423C489.172 226.966 499.722 254.652 513.367 258.765L390.693 238.077V238.061C375.612 235.24 363.953 216.331 363.953 193.424C363.953 170.517 375.612 151.607 390.693 148.787V148.771L513.353 128.084Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<ellipse id="step-2-accent" cx="516.889" cy="193.423" rx="27.7174" ry="65.8695" fill="#B9BBE4" class="step-2 subtle dim"/>\n<rect id="step-2-card-textbox" x="358.04296875" y="276.18115234375" width="160" height="138" class="step-2 card textbox top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="356.5" y="120.5" width="188" height="302" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M678.317 100.263C663.229 106.129 651.563 145.602 651.562 193.423C651.562 241.23 663.222 280.695 678.304 286.579L555.691 265.901V265.662C540.929 260.407 529.605 230.068 529.605 193.425C529.605 156.782 540.928 126.441 555.691 121.187V120.942L678.317 100.263Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<ellipse id="step-3-accent" cx="682.215" cy="193.423" rx="30.6521" ry="93.9129" fill="#B9BBE4" class="step-3 subtle dim"/>\n<rect id="step-3-card-textbox" x="535.04296875" y="307.18115234375" width="160" height="137" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="522.5" y="92.5" width="199" height="360" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<g id="step-4-background" class="step-4 background subtle">\n<path d="M842.674 72.5459C826.954 77.7388 814.605 129.874 814.605 193.424C814.605 256.96 826.95 309.085 842.664 314.297L725.307 294.506C725.29 294.506 725.274 294.508 725.258 294.508C724.169 294.508 723.094 294.319 722.035 293.954L720.691 293.728V293.393C705.929 286.12 694.605 244.132 694.605 193.421C694.606 142.71 705.929 100.721 720.691 93.4492V93.1172L842.674 72.5459Z" fill="#D5D6EF"/>\n<path d="M725.326 92.335L722.021 92.8926C723.085 92.5245 724.165 92.334 725.258 92.334C725.281 92.334 725.303 92.3348 725.326 92.335Z" fill="#D5D6EF"/>\n</g>\n<ellipse id="step-4-accent" cx="845.258" cy="193.424" rx="30.6521" ry="121.304" fill="#B9BBE4" class="step-4 subtle dim"/>\n<rect id="step-4-card-textbox" x="701.04296875" y="338.18115234375" width="160" height="138" class="step-4 card textbox top" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="686.5" y="64.5" width="197" height="420" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',funnel_3d_5:'<svg class="funnel_3d-frame" width="863.271448" height="437.21740034375" viewBox="69.12322599999999 50.565126 863.271448 437.21740034375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="funnel_3d-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M284.868 167.278C274.521 169.799 266.6 183.875 266.6 200.862C266.6 217.854 274.526 231.933 284.878 234.448L85.7246 200.863L284.868 167.278Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-accent" d="M288.602 167C294.023 167 298.978 170.143 302.771 175.333C298.782 182.256 296.377 191.209 296.377 200.986C296.377 210.763 298.782 219.716 302.771 226.639C298.978 231.829 294.023 234.973 288.602 234.973C276.672 234.973 267 219.756 267 200.986C267 182.216 276.671 167 288.602 167Z" fill="#B9BBE4" class="step-1 subtle dim"/>\n<rect id="step-1-card-textbox" x="129.04296875" y="250.18115234375" width="148" height="117" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="78.5" y="157.5" width="239" height="218" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M427.945 143.148C415.895 146.784 406.578 171.237 406.578 200.862C406.578 230.481 415.892 254.93 427.938 258.573L319.596 240.302V240.288C306.275 237.797 295.977 221.095 295.977 200.862C295.977 180.629 306.275 163.927 319.596 161.436V161.421L427.945 143.148Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-accent" d="M431.06 142.682C437.859 142.682 444.01 149.27 448.446 159.906C444.601 171.046 442.291 185.311 442.291 200.862C442.291 216.412 444.601 230.677 448.446 241.817C444.01 252.453 437.859 259.042 431.06 259.042C417.539 259.041 406.578 232.993 406.578 200.862C406.578 168.73 417.539 142.682 431.06 142.682Z" fill="#B9BBE4" class="step-2 subtle dim"/>\n<rect id="step-2-card-textbox" x="288.04296875" y="272.18115234375" width="148" height="118" class="step-2 card textbox top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="279.5" y="133.5" width="184" height="265" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M573.636 118.578C560.311 123.766 550.01 158.628 550.01 200.862C550.01 243.095 560.311 277.955 573.636 283.144L465.332 264.879V264.667C452.292 260.026 442.291 233.227 442.291 200.862C442.291 168.496 452.292 141.698 465.332 137.057V136.843L573.636 118.578Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-accent" d="M577.083 117.913C584.135 117.913 590.556 126.175 595.374 139.711C590.819 155.688 588.027 177.199 588.027 200.86C588.027 224.521 590.819 246.032 595.375 262.009C590.557 275.547 584.136 283.811 577.083 283.811C562.131 283.81 550.01 246.673 550.01 200.862C550.01 155.051 562.131 117.913 577.083 117.913Z" fill="#B9BBE4" class="step-3 subtle dim"/>\n<rect id="step-3-card-textbox" x="444.04296875" y="299.18115234375" width="148" height="117" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="435.5" y="108.5" width="176" height="316" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M718.817 94.0942C704.93 98.6694 694.02 144.723 694.02 200.862C694.02 256.98 704.922 303.018 718.802 307.624L615.152 290.144C615.135 290.144 615.118 290.146 615.101 290.146C614.136 290.146 613.184 289.978 612.245 289.654L611.069 289.456V289.161C598.03 282.739 588.027 245.652 588.027 200.86C588.027 156.067 598.029 118.979 611.069 112.558V112.265L718.817 94.0942Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-accent" d="M721.093 93.7192C728.069 93.7192 734.428 104.163 739.229 121.315C734.425 141.793 731.461 169.877 731.461 200.863C731.461 231.848 734.426 259.931 739.229 280.409C734.428 297.561 728.069 308.004 721.093 308.004C706.141 308.003 694.02 260.034 694.02 200.862C694.02 141.689 706.141 93.7202 721.093 93.7192Z" fill="#B9BBE4" class="step-4 subtle dim"/>\n<rect id="step-4-card-textbox" x="591.04296875" y="327.18115234375" width="148" height="117" class="step-4 card textbox top" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="580.5" y="83.5" width="175" height="369" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<g id="step-5-background" class="step-5 background subtle">\n<path d="M878.491 334.498V334.556L878.066 334.484C878.208 334.492 878.349 334.496 878.491 334.498Z" fill="#D5D6EF"/>\n<path d="M875.679 67.6401C856.543 73.0658 841.484 130.638 841.484 200.862C841.484 271.084 856.543 328.654 875.678 334.082L758.608 314.338C758.584 314.339 758.559 314.341 758.534 314.341C757.765 314.341 757.003 314.204 756.25 313.94L756.229 313.937V313.933C742.356 309.027 731.461 260.278 731.461 200.863C731.461 141.446 742.356 92.6963 756.229 87.7905V87.7847L875.679 67.6401Z" fill="#D5D6EF"/>\n<path d="M758.598 87.3843L756.265 87.7778C757.013 87.5174 757.77 87.3834 758.534 87.3833C758.555 87.3833 758.577 87.3841 758.598 87.3843Z" fill="#D5D6EF"/>\n<path d="M878.492 67.2241C878.35 67.2261 878.208 67.2301 878.066 67.2378L878.492 67.1665V67.2241Z" fill="#D5D6EF"/>\n</g>\n<ellipse id="step-5-accent" cx="878.639" cy="200.862" rx="37.1543" ry="133.64" fill="#B9BBE4" class="step-5 subtle dim"/>\n<rect id="step-5-card-textbox" x="739.04296875" y="354.18115234375" width="148" height="117" class="step-5 card textbox top" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="724.5" y="57.5" width="199" height="422" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tB="funnel_3d",tP={key:tB,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,1,5),s=tN.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tB,svgScalingFactor:tP.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"D+va93"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/funnel_3d.497bc57f.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.CKr,defaultColorScheme:null,stepSvgData:tN,formattingMenu:G,defaultData:()=>w(tN),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},tF=new Map(Object.entries({gears_2:'<svg class="gears-frame" width="452.3199996948242" height="554.3199920654297" viewBox="273.50797176361084 -10.59749984741211 452.3199996948242 554.3199920654297" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="gears-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-background" d="M424.997 215.736C434.923 217.407 444.185 221.033 452.374 226.205L463.884 214.695L481.225 232.036L470.719 242.541C478.698 252.424 484.212 264.379 486.326 277.472H501.019V301.995H486.245C484.247 313.866 479.453 324.787 472.563 334.059L473.237 333.386L487.109 347.259L469.768 364.6L455.896 350.727L457.06 349.562C447.789 356.452 436.868 361.246 424.997 363.244V379H400.474V363.325C388.101 361.326 376.745 356.292 367.193 349.012L368.909 350.727L355.036 364.6L337.696 347.259L351.568 333.386L352.969 334.788C345.785 325.362 340.788 314.179 338.738 301.995H322V277.472H338.659C340.571 265.63 345.263 254.719 352.045 245.431L351.569 245.907L337.696 232.035L355.037 214.694L368.91 228.566L368.432 229.043C377.721 222.261 388.632 217.569 400.474 215.656V199H424.997V215.736ZM412.492 239.218C384.727 239.218 362.219 261.726 362.219 289.49C362.22 317.255 384.727 339.762 412.492 339.762C440.257 339.762 462.764 317.255 462.764 289.49C462.764 261.726 440.257 239.218 412.492 239.218ZM412.492 251.97C433.214 251.97 450.012 268.769 450.012 289.49C450.012 310.212 433.214 327.01 412.492 327.01C391.77 327.01 374.972 310.212 374.971 289.49C374.971 268.769 391.77 251.97 412.492 251.97Z" fill="#DAE8F3" class="step-1 background accent"/>\n<rect id="step-1-accent-icon" x="397" y="274" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-card-selection" x="275.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-1 card selection"/>\n<path id="step-1-accent" d="M412 179C446.158 179 476.68 194.57 496.855 219H495.554C475.559 195.159 445.55 180 412 180C378.45 180 348.441 195.159 328.446 219H327.145C347.32 194.57 377.842 179 412 179Z" fill="#E282B7" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="284.16797161102295" y="408.0625" width="250" height="124.99999237060547" class="step-1 card textbox top" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M603.997 172.736C613.923 174.407 623.185 178.033 631.374 183.205L642.884 171.695L660.225 189.036L649.719 199.541C657.698 209.424 663.212 221.379 665.326 234.472H680.019V258.995H665.245C663.247 270.866 658.453 281.787 651.563 291.059L652.237 290.386L666.109 304.259L648.768 321.6L634.896 307.727L636.06 306.562C626.789 313.452 615.868 318.246 603.997 320.244V336H579.474V320.325C567.101 318.326 555.745 313.292 546.193 306.012L547.909 307.727L534.036 321.6L516.696 304.259L530.568 290.386L531.969 291.788C524.785 282.362 519.788 271.179 517.738 258.995H501V234.472H517.659C519.571 222.63 524.263 211.719 531.045 202.431L530.569 202.907L516.696 189.035L534.037 171.694L547.91 185.566L547.432 186.043C556.721 179.261 567.632 174.569 579.474 172.656V156H603.997V172.736ZM591.492 196.218C563.727 196.218 541.219 218.726 541.219 246.49C541.22 274.255 563.727 296.762 591.492 296.762C619.257 296.762 641.764 274.255 641.764 246.49C641.764 218.726 619.257 196.218 591.492 196.218ZM591.492 208.97C612.214 208.97 629.012 225.769 629.012 246.49C629.012 267.212 612.214 284.01 591.492 284.01C570.77 284.01 553.972 267.212 553.971 246.49C553.971 225.769 570.77 208.97 591.492 208.97Z" fill="#B4D0E8" class="step-2 accent"/>\n<rect id="step-2-card-selection" x="456.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-2 card selection"/>\n<path id="step-2-accent_2" d="M591 356C625.158 356 655.68 340.43 675.855 316H674.554C654.559 339.841 624.55 355 591 355C557.45 355 527.441 339.841 507.446 316H506.145C526.32 340.43 556.842 356 591 356Z" fill="#E282B7" class="step-2 subtle"/>\n<rect id="step-2-accent-icon" x="576" y="231" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-textbox" x="465.16797161102295" y="0.0625" width="250" height="124.99999237060547" class="step-2 card textbox bottom" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',gears_3:'<svg class="gears-frame" width="632.32" height="557.3199923706055" viewBox="184.00797161102295 -12.0975 632.32 557.3199923706055" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="gears-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-background" d="M336.997 215.736C346.923 217.407 356.185 221.033 364.374 226.205L375.884 214.695L393.225 232.036L382.719 242.541C390.698 252.424 396.212 264.379 398.326 277.472H413.019V301.995H398.245C396.247 313.866 391.453 324.787 384.563 334.059L385.237 333.386L399.109 347.259L381.768 364.6L367.896 350.727L369.06 349.562C359.789 356.452 348.868 361.246 336.997 363.244V379H312.474V363.325C300.101 361.326 288.745 356.292 279.193 349.012L280.909 350.727L267.036 364.6L249.696 347.259L263.568 333.386L264.969 334.788C257.785 325.362 252.788 314.179 250.738 301.995H234V277.472H250.659C252.571 265.63 257.263 254.719 264.045 245.431L263.569 245.907L249.696 232.035L267.037 214.694L280.91 228.566L280.432 229.043C289.721 222.261 300.632 217.569 312.474 215.656V199H336.997V215.736ZM324.492 239.218C296.727 239.218 274.219 261.726 274.219 289.49C274.22 317.255 296.727 339.762 324.492 339.762C352.257 339.762 374.764 317.255 374.764 289.49C374.764 261.726 352.257 239.218 324.492 239.218ZM324.492 251.97C345.214 251.97 362.012 268.769 362.012 289.49C362.012 310.212 345.214 327.01 324.492 327.01C303.77 327.01 286.972 310.212 286.971 289.49C286.971 268.769 303.77 251.97 324.492 251.97Z" fill="#DAE8F3" class="step-1 background accent"/>\n<rect id="step-1-accent-icon" x="309" y="274" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<path id="step-1-accent" d="M324 179C358.158 179 388.68 194.57 408.855 219H407.554C387.559 195.159 357.55 180 324 180C290.45 180 260.441 195.159 240.446 219H239.145C259.32 194.57 289.842 179 324 179Z" fill="#E282B7" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="196.16797161102295" y="408.0625" width="250" height="124.99999237060547" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-card-selection" x="187.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-1 card selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M515.997 172.736C525.923 174.407 535.185 178.033 543.374 183.205L554.884 171.695L572.225 189.036L561.719 199.541C569.698 209.424 575.212 221.379 577.326 234.472H592.019V258.995H577.245C575.247 270.866 570.453 281.787 563.563 291.059L564.237 290.386L578.109 304.259L560.768 321.6L546.896 307.727L548.06 306.562C538.789 313.452 527.868 318.246 515.997 320.244V336H491.474V320.325C479.101 318.326 467.745 313.292 458.193 306.012L459.909 307.727L446.036 321.6L428.696 304.259L442.568 290.386L443.969 291.788C436.785 282.362 431.788 271.179 429.738 258.995H413V234.472H429.659C431.571 222.63 436.263 211.719 443.045 202.431L442.569 202.907L428.696 189.035L446.037 171.694L459.91 185.566L459.432 186.043C468.721 179.261 479.632 174.569 491.474 172.656V156H515.997V172.736ZM503.492 196.218C475.727 196.218 453.219 218.726 453.219 246.49C453.22 274.255 475.727 296.762 503.492 296.762C531.257 296.762 553.764 274.255 553.764 246.49C553.764 218.726 531.257 196.218 503.492 196.218ZM503.492 208.97C524.214 208.97 541.012 225.769 541.012 246.49C541.012 267.212 524.214 284.01 503.492 284.01C482.77 284.01 465.972 267.212 465.971 246.49C465.971 225.769 482.77 208.97 503.492 208.97Z" fill="#B4D0E8" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M503 356C537.158 356 567.68 340.43 587.855 316H586.554C566.559 339.841 536.55 355 503 355C469.45 355 439.441 339.841 419.446 316H418.145C438.32 340.43 468.842 356 503 356Z" fill="#E282B7" class="step-2 subtle"/>\n<rect id="step-2-accent-icon" x="488" y="231" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-selection" x="368.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-2 card selection"/>\n<rect id="step-2-card-textbox" x="377.16797161102295" y="0.0625" width="250" height="124.99999237060547" class="step-2 card textbox bottom" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M694.997 215.736C704.923 217.407 714.185 221.033 722.374 226.205L733.884 214.695L751.225 232.036L740.719 242.541C748.698 252.424 754.212 264.379 756.326 277.472H771.019V301.995H756.245C754.247 313.866 749.453 324.787 742.563 334.059L743.237 333.386L757.109 347.259L739.768 364.6L725.896 350.727L727.06 349.562C717.789 356.452 706.868 361.246 694.997 363.244V379H670.474V363.325C658.101 361.326 646.745 356.292 637.193 349.012L638.909 350.727L625.036 364.6L607.696 347.259L621.568 333.386L622.969 334.788C615.785 325.362 610.788 314.179 608.738 301.995H592V277.472H608.659C610.571 265.63 615.263 254.719 622.045 245.431L621.569 245.907L607.696 232.035L625.037 214.694L638.91 228.566L638.432 229.043C647.721 222.261 658.632 217.569 670.474 215.656V199H694.997V215.736ZM682.492 239.218C654.727 239.218 632.219 261.726 632.219 289.49C632.22 317.255 654.727 339.762 682.492 339.762C710.257 339.762 732.764 317.255 732.764 289.49C732.764 261.726 710.257 239.218 682.492 239.218ZM682.492 251.97C703.214 251.97 720.012 268.769 720.012 289.49C720.012 310.212 703.214 327.01 682.492 327.01C661.77 327.01 644.972 310.212 644.971 289.49C644.971 268.769 661.77 251.97 682.492 251.97Z" fill="#8FB9DC" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M682 179C716.158 179 746.68 194.57 766.855 219H765.554C745.559 195.159 715.55 180 682 180C648.45 180 618.441 195.159 598.446 219H597.145C617.32 194.57 647.842 179 682 179Z" fill="#E282B7" class="step-3 subtle"/>\n<rect id="step-3-accent-icon" x="667" y="274" width="30" height="30" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-card-textbox" x="554.167971611023" y="408.0625" width="250" height="124.99999237060547" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-card-selection" x="545.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-3 card selection"/>\n</g>\n</g>\n</svg>\n',gears_4:'<svg class="gears-frame" width="817.4399990081787" height="564.4399923324585" viewBox="92.44797258377075 -15.657499980926515 817.4399990081787 564.4399923324585" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="gears-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-background" d="M245.997 215.736C255.923 217.407 265.185 221.033 273.374 226.205L284.884 214.695L302.225 232.036L291.719 242.541C299.698 252.424 305.212 264.379 307.326 277.472H322.019V301.995H307.245C305.247 313.866 300.453 324.787 293.563 334.059L294.237 333.386L308.109 347.259L290.768 364.6L276.896 350.727L278.06 349.562C268.789 356.452 257.868 361.246 245.997 363.244V379H221.474V363.325C209.101 361.326 197.745 356.292 188.193 349.012L189.909 350.727L176.036 364.6L158.696 347.259L172.568 333.386L173.969 334.788C166.785 325.362 161.788 314.179 159.738 301.995H143V277.472H159.659C161.571 265.63 166.263 254.719 173.045 245.431L172.569 245.907L158.696 232.035L176.037 214.694L189.91 228.566L189.432 229.043C198.721 222.261 209.632 217.569 221.474 215.656V199H245.997V215.736ZM233.492 239.218C205.727 239.218 183.219 261.726 183.219 289.49C183.22 317.255 205.727 339.762 233.492 339.762C261.257 339.762 283.764 317.255 283.764 289.49C283.764 261.726 261.257 239.218 233.492 239.218ZM233.492 251.97C254.214 251.97 271.012 268.769 271.012 289.49C271.012 310.212 254.214 327.01 233.492 327.01C212.77 327.01 195.972 310.212 195.971 289.49C195.971 268.769 212.77 251.97 233.492 251.97Z" fill="#DAE8F3" class="step-1 background accent"/>\n<rect id="step-1-accent-icon" x="218" y="274" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<path id="step-1-accent" d="M233 179C267.158 179 297.68 194.57 317.855 219H316.554C296.559 195.159 266.55 180 233 180C199.45 180 169.441 195.159 149.446 219H148.145C168.32 194.57 198.842 179 233 179Z" fill="#E282B7" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="108.16797256469727" y="408.0625" width="250" height="124.99999237060547" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-card-selection" x="92.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-1 card selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M424.997 172.736C434.923 174.407 444.185 178.033 452.374 183.205L463.884 171.695L481.225 189.036L470.719 199.541C478.698 209.424 484.212 221.379 486.326 234.472H501.019V258.995H486.245C484.247 270.866 479.453 281.787 472.563 291.059L473.237 290.386L487.109 304.259L469.768 321.6L455.896 307.727L457.06 306.562C447.789 313.452 436.868 318.246 424.997 320.244V336H400.474V320.325C388.101 318.326 376.745 313.292 367.193 306.012L368.909 307.727L355.036 321.6L337.696 304.259L351.568 290.386L352.969 291.788C345.785 282.362 340.788 271.179 338.738 258.995H322V234.472H338.659C340.571 222.63 345.263 211.719 352.045 202.431L351.569 202.907L337.696 189.035L355.037 171.694L368.91 185.566L368.432 186.043C377.721 179.261 388.632 174.569 400.474 172.656V156H424.997V172.736ZM412.492 196.218C384.727 196.218 362.219 218.726 362.219 246.49C362.22 274.255 384.727 296.762 412.492 296.762C440.257 296.762 462.764 274.255 462.764 246.49C462.764 218.726 440.257 196.218 412.492 196.218ZM412.492 208.97C433.214 208.97 450.012 225.769 450.012 246.49C450.012 267.212 433.214 284.01 412.492 284.01C391.77 284.01 374.972 267.212 374.971 246.49C374.971 225.769 391.77 208.97 412.492 208.97Z" fill="#B4D0E8" class="step-2 accent"/>\n<rect id="step-2-card-selection" x="277.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-2 card selection"/>\n<path id="step-2-accent_2" d="M412 356C446.158 356 476.68 340.43 496.855 316H495.554C475.559 339.841 445.55 355 412 355C378.45 355 348.441 339.841 328.446 316H327.145C347.32 340.43 377.842 356 412 356Z" fill="#E282B7" class="step-2 subtle"/>\n<rect id="step-2-accent-icon" x="397" y="231" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-textbox" x="286.16797161102295" y="0.0625" width="250" height="124.99999237060547" class="step-2 card textbox bottom" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M603.997 215.736C613.923 217.407 623.185 221.033 631.374 226.205L642.884 214.695L660.225 232.036L649.719 242.541C657.698 252.424 663.212 264.379 665.326 277.472H680.019V301.995H665.245C663.247 313.866 658.453 324.787 651.563 334.059L652.237 333.386L666.109 347.259L648.768 364.6L634.896 350.727L636.06 349.562C626.789 356.452 615.868 361.246 603.997 363.244V379H579.474V363.325C567.101 361.326 555.745 356.292 546.193 349.012L547.909 350.727L534.036 364.6L516.696 347.259L530.568 333.386L531.969 334.788C524.785 325.362 519.788 314.179 517.738 301.995H501V277.472H517.659C519.571 265.63 524.263 254.719 531.045 245.431L530.569 245.907L516.696 232.035L534.037 214.694L547.91 228.566L547.432 229.043C556.721 222.261 567.632 217.569 579.474 215.656V199H603.997V215.736ZM591.492 239.218C563.727 239.218 541.219 261.726 541.219 289.49C541.22 317.255 563.727 339.762 591.492 339.762C619.257 339.762 641.764 317.255 641.764 289.49C641.764 261.726 619.257 239.218 591.492 239.218ZM591.492 251.97C612.214 251.97 629.012 268.769 629.012 289.49C629.012 310.212 612.214 327.01 591.492 327.01C570.77 327.01 553.972 310.212 553.971 289.49C553.971 268.769 570.77 251.97 591.492 251.97Z" fill="#8FB9DC" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M591 179C625.158 179 655.68 194.57 675.855 219H674.554C654.559 195.159 624.55 180 591 180C557.45 180 527.441 195.159 507.446 219H506.145C526.32 194.57 556.842 179 591 179Z" fill="#E282B7" class="step-3 subtle"/>\n<rect id="step-3-accent-icon" x="576" y="274" width="30" height="30" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-card-textbox" x="465.16797161102295" y="408.0625" width="250" height="124.99999237060547" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-card-selection" x="454.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-3 card selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M782.997 172.736C792.923 174.407 802.185 178.033 810.374 183.205L821.884 171.695L839.225 189.036L828.719 199.541C836.698 209.424 842.212 221.379 844.326 234.472H859.019V258.995H844.245C842.247 270.866 837.453 281.787 830.563 291.059L831.237 290.386L845.109 304.259L827.768 321.6L813.896 307.727L815.06 306.562C805.789 313.452 794.868 318.246 782.997 320.244V336H758.474V320.325C746.101 318.326 734.745 313.292 725.193 306.012L726.909 307.727L713.036 321.6L695.696 304.259L709.568 290.386L710.969 291.788C703.785 282.362 698.788 271.179 696.738 258.995H680V234.472H696.659C698.571 222.63 703.263 211.719 710.045 202.431L709.569 202.907L695.696 189.035L713.037 171.694L726.91 185.566L726.432 186.043C735.721 179.261 746.632 174.569 758.474 172.656V156H782.997V172.736ZM770.492 196.218C742.727 196.218 720.219 218.726 720.219 246.49C720.22 274.255 742.727 296.762 770.492 296.762C798.257 296.762 820.764 274.255 820.764 246.49C820.764 218.726 798.257 196.218 770.492 196.218ZM770.492 208.97C791.214 208.97 808.012 225.769 808.012 246.49C808.012 267.212 791.214 284.01 770.492 284.01C749.77 284.01 732.972 267.212 732.971 246.49C732.971 225.769 749.77 208.97 770.492 208.97Z" fill="#69A1D1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M770 356C804.158 356 834.68 340.43 854.855 316H853.554C833.559 339.841 803.55 355 770 355C736.45 355 706.441 339.841 686.446 316H685.145C705.32 340.43 735.842 356 770 356Z" fill="#E282B7" class="step-4 subtle"/>\n<rect id="step-4-accent-icon" x="755" y="231" width="30" height="30" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-card-textbox" x="644.167971611023" y="0.0625" width="250" height="124.99999237060547" class="step-4 card textbox bottom" fill="#E5E5E5"/>\n<rect id="step-4-card-selection" x="635.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-4 card selection"/>\n</g>\n</g>\n</svg>\n',gears_5:'<svg class="gears-frame" width="1006.72" height="571.7199923706055" viewBox="-3.19202838897705 -19.2975 1006.72 571.7199923706055" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="gears-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-background" d="M156.997 215.736C166.923 217.407 176.185 221.033 184.374 226.205L195.884 214.695L213.225 232.036L202.719 242.541C210.698 252.424 216.212 264.379 218.326 277.472H233.019V301.995H218.245C216.247 313.866 211.453 324.787 204.563 334.059L205.237 333.386L219.109 347.259L201.768 364.6L187.896 350.727L189.06 349.562C179.789 356.452 168.868 361.246 156.997 363.244V379H132.474V363.325C120.101 361.326 108.745 356.292 99.1934 349.012L100.909 350.727L87.0363 364.6L69.6956 347.259L83.568 333.386L84.9692 334.788C77.7849 325.362 72.7884 314.179 70.7377 301.995H54V277.472H70.6585C72.5713 265.63 77.2626 254.719 84.0446 245.431L83.5688 245.907L69.6964 232.035L87.0372 214.694L100.91 228.566L100.432 229.043C109.721 222.261 120.632 217.569 132.474 215.656V199H156.997V215.736ZM144.492 239.218C116.727 239.218 94.2194 261.726 94.2194 289.49C94.2195 317.255 116.727 339.762 144.492 339.762C172.257 339.762 194.764 317.255 194.764 289.49C194.764 261.726 172.257 239.218 144.492 239.218ZM144.492 251.97C165.214 251.97 182.012 268.769 182.012 289.49C182.012 310.212 165.214 327.01 144.492 327.01C123.77 327.01 106.972 310.212 106.971 289.49C106.971 268.769 123.77 251.97 144.492 251.97Z" fill="#DAE8F3" class="step-1 background accent"/>\n<rect id="step-1-accent-icon" x="129" y="274" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<path id="step-1-accent" d="M144 179C178.158 179 208.68 194.57 228.855 219H227.554C207.559 195.159 177.55 180 144 180C110.45 180 80.4411 195.159 60.4463 219H59.1445C79.3204 194.57 109.842 179 144 179Z" fill="#E282B7" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="16.16797161102295" y="408.0625" width="250" height="124.99999237060547" class="step-1 card textbox top" fill="#E5E5E5"/>\n<rect id="step-1-card-selection" x="7.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-1 card selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M335.997 172.736C345.923 174.407 355.185 178.033 363.374 183.205L374.884 171.695L392.225 189.036L381.719 199.541C389.698 209.424 395.212 221.379 397.326 234.472H412.019V258.995H397.245C395.247 270.866 390.453 281.787 383.563 291.059L384.237 290.386L398.109 304.259L380.768 321.6L366.896 307.727L368.06 306.562C358.789 313.452 347.868 318.246 335.997 320.244V336H311.474V320.325C299.101 318.326 287.745 313.292 278.193 306.012L279.909 307.727L266.036 321.6L248.696 304.259L262.568 290.386L263.969 291.788C256.785 282.362 251.788 271.179 249.738 258.995H233V234.472H249.659C251.571 222.63 256.263 211.719 263.045 202.431L262.569 202.907L248.696 189.035L266.037 171.694L279.91 185.566L279.432 186.043C288.721 179.261 299.632 174.569 311.474 172.656V156H335.997V172.736ZM323.492 196.218C295.727 196.218 273.219 218.726 273.219 246.49C273.22 274.255 295.727 296.762 323.492 296.762C351.257 296.762 373.764 274.255 373.764 246.49C373.764 218.726 351.257 196.218 323.492 196.218ZM323.492 208.97C344.214 208.97 361.012 225.769 361.012 246.49C361.012 267.212 344.214 284.01 323.492 284.01C302.77 284.01 285.972 267.212 285.971 246.49C285.971 225.769 302.77 208.97 323.492 208.97Z" fill="#B4D0E8" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M323 356C357.158 356 387.68 340.43 407.855 316H406.554C386.559 339.841 356.55 355 323 355C289.45 355 259.441 339.841 239.446 316H238.145C258.32 340.43 288.842 356 323 356Z" fill="#E282B7" class="step-2 subtle"/>\n<rect id="step-2-accent-icon" x="308" y="231" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-selection" x="188.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-2 card selection"/>\n<rect id="step-2-card-textbox" x="197.16797161102295" y="0.0625" width="250" height="124.99999237060547" class="step-2 card textbox bottom" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M514.997 215.736C524.923 217.407 534.185 221.033 542.374 226.205L553.884 214.695L571.225 232.036L560.719 242.541C568.698 252.424 574.212 264.379 576.326 277.472H591.019V301.995H576.245C574.247 313.866 569.453 324.787 562.563 334.059L563.237 333.386L577.109 347.259L559.768 364.6L545.896 350.727L547.06 349.562C537.789 356.452 526.868 361.246 514.997 363.244V379H490.474V363.325C478.101 361.326 466.745 356.292 457.193 349.012L458.909 350.727L445.036 364.6L427.696 347.259L441.568 333.386L442.969 334.788C435.785 325.362 430.788 314.179 428.738 301.995H412V277.472H428.659C430.571 265.63 435.263 254.719 442.045 245.431L441.569 245.907L427.696 232.035L445.037 214.694L458.91 228.566L458.432 229.043C467.721 222.261 478.632 217.569 490.474 215.656V199H514.997V215.736ZM502.492 239.218C474.727 239.218 452.219 261.726 452.219 289.49C452.22 317.255 474.727 339.762 502.492 339.762C530.257 339.762 552.764 317.255 552.764 289.49C552.764 261.726 530.257 239.218 502.492 239.218ZM502.492 251.97C523.214 251.97 540.012 268.769 540.012 289.49C540.012 310.212 523.214 327.01 502.492 327.01C481.77 327.01 464.972 310.212 464.971 289.49C464.971 268.769 481.77 251.97 502.492 251.97Z" fill="#8FB9DC" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M502 179C536.158 179 566.68 194.57 586.855 219H585.554C565.559 195.159 535.55 180 502 180C468.45 180 438.441 195.159 418.446 219H417.145C437.32 194.57 467.842 179 502 179Z" fill="#E282B7" class="step-3 subtle"/>\n<rect id="step-3-accent-icon" x="487" y="274" width="30" height="30" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-card-textbox" x="374.16797161102295" y="408.0625" width="250" height="124.99999237060547" class="step-3 card textbox top" fill="#E5E5E5"/>\n<rect id="step-3-card-selection" x="365.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-3 card selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M693.997 172.736C703.923 174.407 713.185 178.033 721.374 183.205L732.884 171.695L750.225 189.036L739.719 199.541C747.698 209.424 753.212 221.379 755.326 234.472H770.019V258.995H755.245C753.247 270.866 748.453 281.787 741.563 291.059L742.237 290.386L756.109 304.259L738.768 321.6L724.896 307.727L726.06 306.562C716.789 313.452 705.868 318.246 693.997 320.244V336H669.474V320.325C657.101 318.326 645.745 313.292 636.193 306.012L637.909 307.727L624.036 321.6L606.696 304.259L620.568 290.386L621.969 291.788C614.785 282.362 609.788 271.179 607.738 258.995H591V234.472H607.659C609.571 222.63 614.263 211.719 621.045 202.431L620.569 202.907L606.696 189.035L624.037 171.694L637.91 185.566L637.432 186.043C646.721 179.261 657.632 174.569 669.474 172.656V156H693.997V172.736ZM681.492 196.218C653.727 196.218 631.219 218.726 631.219 246.49C631.22 274.255 653.727 296.762 681.492 296.762C709.257 296.762 731.764 274.255 731.764 246.49C731.764 218.726 709.257 196.218 681.492 196.218ZM681.492 208.97C702.214 208.97 719.012 225.769 719.012 246.49C719.012 267.212 702.214 284.01 681.492 284.01C660.77 284.01 643.972 267.212 643.971 246.49C643.971 225.769 660.77 208.97 681.492 208.97Z" fill="#69A1D1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M681 356C715.158 356 745.68 340.43 765.855 316H764.554C744.559 339.841 714.55 355 681 355C647.45 355 617.441 339.841 597.446 316H596.145C616.32 340.43 646.842 356 681 356Z" fill="#E282B7" class="step-4 subtle"/>\n<rect id="step-4-accent-icon" x="666" y="231" width="30" height="30" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-card-selection" x="546.5" y="1.5" width="265" height="275" stroke="#2B3541" class="step-4 card selection"/>\n<rect id="step-4-card-textbox" x="555.167971611023" y="0.0625" width="250" height="124.99999237060547" class="step-4 card textbox bottom" fill="#E5E5E5"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5-accent" d="M872.997 215.736C882.923 217.407 892.185 221.033 900.374 226.205L911.884 214.695L929.225 232.036L918.719 242.541C926.698 252.424 932.212 264.379 934.326 277.472H949.019V301.995H934.245C932.247 313.866 927.453 324.787 920.563 334.059L921.237 333.386L935.109 347.259L917.768 364.6L903.896 350.727L905.06 349.562C895.789 356.452 884.868 361.246 872.997 363.244V379H848.474V363.325C836.101 361.326 824.745 356.292 815.193 349.012L816.909 350.727L803.036 364.6L785.696 347.259L799.568 333.386L800.969 334.788C793.785 325.362 788.788 314.179 786.738 301.995H770V277.472H786.659C788.571 265.63 793.263 254.719 800.045 245.431L799.569 245.907L785.696 232.035L803.037 214.694L816.91 228.566L816.432 229.043C825.721 222.261 836.632 217.569 848.474 215.656V199H872.997V215.736ZM860.492 239.218C832.727 239.218 810.219 261.726 810.219 289.49C810.22 317.255 832.727 339.762 860.492 339.762C888.257 339.762 910.764 317.255 910.764 289.49C910.764 261.726 888.257 239.218 860.492 239.218ZM860.492 251.97C881.214 251.97 898.012 268.769 898.012 289.49C898.012 310.212 881.214 327.01 860.492 327.01C839.77 327.01 822.972 310.212 822.971 289.49C822.971 268.769 839.77 251.97 860.492 251.97Z" fill="#448AC5" class="step-5 accent"/>\n<path id="step-5-accent_2" d="M860 179C894.158 179 924.68 194.57 944.855 219H943.554C923.559 195.159 893.55 180 860 180C826.45 180 796.441 195.159 776.446 219H775.145C795.32 194.57 825.842 179 860 179Z" fill="#E282B7" class="step-5 subtle"/>\n<rect id="step-5-accent-icon" x="845" y="274" width="30" height="30" class="step-5 icon accent" fill="#666666"/>\n<rect id="step-5-card-textbox" x="734.167971611023" y="408.0625" width="250" height="124.99999237060547" class="step-5 card textbox top" fill="#E5E5E5"/>\n<rect id="step-5-card-selection" x="725.5" y="266.5" width="265" height="267" stroke="#2B3541" class="step-5 card selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tV="gears",tO={key:tV,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,2,5),s=tF.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tV,svgScalingFactor:tO.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"LSGGaF"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gears.37d165b5.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:tF,formattingMenu:G,defaultData:()=>w(tF),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},tZ=new Map(Object.entries({hot_air_balloons_1:'<svg class="hot_air_balloons" width="799.6246960000001" height="442.8915960000001" viewBox="70.78670199999998 56.614802 799.6246960000001 442.8915960000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M748.035 436.992H746.484V395.756H748.035V436.992ZM732.565 72.9727C709.583 85.3485 692.581 127.636 692.228 178.12L692.216 178.123L745.819 398.9L639.533 178.506H639.497C639.497 178.481 639.497 178.456 639.497 178.431L639.164 177.739H639.501C639.883 124.183 680.251 80.0234 732.565 72.9727ZM759.924 72.7188C813.221 78.8861 854.631 123.493 855.018 177.74H855.034L854.909 178.665L748.852 398.581L800.729 178.124H800.744C800.389 127.286 783.151 84.7593 759.924 72.7188ZM748.035 71.9922C750.35 72.0083 752.648 72.0976 754.926 72.2559C765.757 75.9123 775.698 86.5114 783.466 102.315C792.968 121.649 798.954 148.312 799.191 177.894L748.035 395.298V71.9922ZM746.486 395.068L693.781 177.995C694.006 148.373 699.995 121.671 709.508 102.315C717.162 86.7419 726.926 76.219 737.573 72.416C740.512 72.1572 743.485 72.0131 746.486 71.9922V395.068Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M747.164 436.129C760.419 436.129 771.164 446.874 771.164 460.129C771.164 473.384 760.419 484.129 747.164 484.129C733.909 484.129 723.164 473.384 723.164 460.129C723.164 446.874 733.909 436.129 747.164 436.129ZM747.164 439.129C735.566 439.129 726.164 448.531 726.164 460.129C726.164 471.727 735.566 481.129 747.164 481.129C758.762 481.129 768.164 471.727 768.164 460.129C768.164 448.531 758.762 439.129 747.164 439.129ZM747.164 440.129C758.21 440.129 767.164 449.083 767.164 460.129C767.164 471.175 758.21 480.129 747.164 480.129C736.118 480.129 727.164 471.175 727.164 460.129C727.164 449.083 736.118 440.129 747.164 440.129Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M106.164 222.992C117.21 222.992 126.164 231.946 126.164 242.992C126.164 254.038 117.21 262.992 106.164 262.992C95.1184 262.992 86.1641 254.038 86.1641 242.992C86.1641 231.946 95.1184 222.992 106.164 222.992ZM106.164 225.492C96.4991 225.492 88.6641 233.327 88.6641 242.992C88.6641 252.657 96.4991 260.492 106.164 260.492C115.829 260.492 123.664 252.657 123.664 242.992C123.664 233.327 115.829 225.492 106.164 225.492ZM106.164 226.325C115.369 226.325 122.831 233.787 122.831 242.992C122.831 252.197 115.369 259.659 106.164 259.659C96.9593 259.659 89.4971 252.197 89.4971 242.992C89.4971 233.787 96.9593 226.325 106.164 226.325Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="148.164" y="233.992" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-icon" x="97.1641" y="233.992" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="89.6641" y="226.492" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_2:'<svg class="hot_air_balloons" width="836.83704" height="444.18604" viewBox="79.90698 56.906980000000004 836.83704 444.18604" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M793.652 438H792.102V396.764H793.652V438ZM791.434 399.908L729.035 270.52L749.644 227.787L791.434 399.908ZM805.541 73.7266C858.838 79.8939 900.248 124.501 900.635 178.748H900.651L900.526 179.673L794.469 399.589L846.346 179.132H846.361C846.006 128.294 828.768 85.7671 805.541 73.7266ZM793.648 73C795.963 73.0161 798.261 73.1054 800.539 73.2637C811.37 76.9201 821.311 87.5192 829.079 103.323C838.581 122.656 844.567 149.32 844.805 178.901L793.648 396.306V73ZM792.099 396.076L750.703 225.586L778.854 167.215L778.966 166.397H778.951C778.781 142.533 769.621 120.781 754.653 104.285C754.808 103.963 754.964 103.642 755.12 103.323C762.774 87.7498 772.539 77.2268 783.186 73.4238C786.124 73.165 789.097 73.0209 792.099 73V396.076ZM718.503 102.432C726.133 119.444 730.844 141.973 731.017 166.736H731.003L713.944 239.227L713 237.269L729.645 166.534C729.449 142.221 724.857 120.141 717.457 103.432C717.803 103.096 718.152 102.763 718.503 102.432ZM778.182 73.9805C768.695 79.0888 760.23 89.2945 753.531 103.068C748.446 97.6569 742.725 92.8382 736.484 88.7285C748.933 81.1576 763.059 76.0187 778.182 73.9805Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M792.777 437C806.032 437 816.777 447.745 816.777 461C816.777 474.255 806.032 485 792.777 485C779.523 485 768.777 474.255 768.777 461C768.777 447.745 779.523 437 792.777 437ZM792.777 440C781.179 440 771.777 449.402 771.777 461C771.777 472.598 781.179 482 792.777 482C804.375 482 813.777 472.598 813.777 461C813.777 449.402 804.375 440 792.777 440ZM792.777 441C803.823 441 812.777 449.954 812.777 461C812.777 472.046 803.823 481 792.777 481C781.732 481 772.777 472.046 772.777 461C772.777 449.954 781.732 441 792.777 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M116 279C127.046 279 136 287.954 136 299C136 310.046 127.046 319 116 319C104.954 319 96 310.046 96 299C96 287.954 104.954 279 116 279ZM116 281.5C106.335 281.5 98.5 289.335 98.5 299C98.5 308.665 106.335 316.5 116 316.5C125.665 316.5 133.5 308.665 133.5 299C133.5 289.335 125.665 281.5 116 281.5ZM116 282.333C125.205 282.333 132.667 289.795 132.667 299C132.667 308.205 125.205 315.667 116 315.667C106.795 315.667 99.333 308.205 99.333 299C99.333 289.795 106.795 282.333 116 282.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="158" y="290" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-icon" x="107" y="290" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="99.5" y="282.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M684.686 437.768H683.315V358.952H684.686V437.768ZM671.021 73.8662C650.723 84.7967 635.706 122.145 635.395 166.733L635.384 166.736L682.728 361.729L588.854 167.074H588.822C588.822 167.052 588.822 167.031 588.822 167.009L588.527 166.397H588.826C589.163 119.096 624.817 80.0935 671.021 73.8662ZM695.187 73.6416C742.259 79.0887 778.833 118.485 779.175 166.397H779.189L779.078 167.215L685.407 361.447L731.226 166.736H731.239C730.926 121.836 715.701 84.2761 695.187 73.6416ZM684.686 73C686.73 73.0142 688.759 73.0926 690.771 73.2324C700.337 76.4618 709.118 85.8237 715.979 99.7822C724.371 116.858 729.657 140.408 729.867 166.534L684.686 358.548V73ZM683.315 358.346L636.766 166.624C636.964 140.462 642.253 116.877 650.655 99.7822C657.416 86.0272 666.041 76.7328 675.444 73.374C678.04 73.1455 680.665 73.0185 683.315 73V358.346Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M684 437C697.255 437 708 447.745 708 461C708 474.255 697.255 485 684 485C670.745 485 660 474.255 660 461C660 447.745 670.745 437 684 437ZM684 440C672.402 440 663 449.402 663 461C663 472.598 672.402 482 684 482C695.598 482 705 472.598 705 461C705 449.402 695.598 440 684 440ZM684 441C695.046 441 704 449.954 704 461C704 472.046 695.046 481 684 481C672.954 481 664 472.046 664 461C664 449.954 672.954 441 684 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M116 170C127.046 170 136 178.954 136 190C136 201.046 127.046 210 116 210C104.954 210 96 201.046 96 190C96 178.954 104.954 170 116 170ZM116 172.5C106.335 172.5 98.5 180.335 98.5 190C98.5 199.665 106.335 207.5 116 207.5C125.665 207.5 133.5 199.665 133.5 190C133.5 180.335 125.665 172.5 116 172.5ZM116 173.333C125.205 173.333 132.667 180.795 132.667 190C132.667 199.205 125.205 206.667 116 206.667C106.795 206.667 99.333 199.205 99.333 190C99.333 180.795 106.795 173.333 116 173.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="158" y="181" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-icon" x="107" y="181" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="99.5" y="173.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_3:'<svg class="hot_air_balloons" width="925.46896" height="447.59496" viewBox="37.20252 55.20252 925.46896 447.59496" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M837.871 438H836.32V396.764H837.871V438ZM835.656 399.908L773.258 270.52L793.866 227.787L835.656 399.908ZM849.764 73.7266C903.06 79.8939 944.471 124.501 944.857 178.748H944.874L944.749 179.673L838.691 399.589L890.568 179.132H890.584C890.229 128.294 872.991 85.7671 849.764 73.7266ZM837.875 73C840.19 73.0161 842.488 73.1054 844.766 73.2637C855.596 76.9201 865.538 87.5192 873.306 103.323C882.808 122.656 888.794 149.32 889.031 178.901L837.875 396.306V73ZM836.321 396.076L794.926 225.586L823.077 167.215L823.188 166.397H823.174C823.004 142.533 813.844 120.781 798.876 104.285C799.031 103.963 799.186 103.642 799.343 103.323C806.997 87.7498 816.761 77.2268 827.408 73.4238C830.347 73.165 833.32 73.0209 836.321 73V396.076ZM762.726 102.432C770.355 119.444 775.066 141.973 775.239 166.736H775.226L758.167 239.227L757.223 237.269L773.867 166.534C773.672 142.221 769.079 120.141 761.68 103.432C762.026 103.096 762.375 102.763 762.726 102.432ZM822.4 73.9805C812.914 79.0888 804.448 89.2945 797.75 103.068C792.665 97.6569 786.944 92.8382 780.703 88.7285C793.152 81.1576 807.277 76.0187 822.4 73.9805Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M837 437C850.255 437 861 447.745 861 461C861 474.255 850.255 485 837 485C823.745 485 813 474.255 813 461C813 447.745 823.745 437 837 437ZM837 440C825.402 440 816 449.402 816 461C816 472.598 825.402 482 837 482C848.598 482 858 472.598 858 461C858 449.402 848.598 440 837 440ZM837 441C848.046 441 857 449.954 857 461C857 472.046 848.046 481 837 481C825.954 481 817 472.046 817 461C817 449.954 825.954 441 837 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M75 333C86.0457 333 95 341.954 95 353C95 364.046 86.0457 373 75 373C63.9543 373 55 364.046 55 353C55 341.954 63.9543 333 75 333ZM75 335.5C65.335 335.5 57.5 343.335 57.5 353C57.5 362.665 65.335 370.5 75 370.5C84.665 370.5 92.5 362.665 92.5 353C92.5 343.335 84.665 335.5 75 335.5ZM75 336.333C84.2047 336.333 91.667 343.795 91.667 353C91.667 362.205 84.2047 369.667 75 369.667C65.7953 369.667 58.333 362.205 58.333 353C58.333 343.795 65.7953 336.333 75 336.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="117" y="344" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-icon" x="66" y="344" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="58.5" y="336.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M728.685 437.768H727.314V358.952H728.685V437.768ZM726.727 361.729L664.32 232.325L684.931 189.589L726.727 361.729ZM739.186 73.6416C786.258 79.0887 822.832 118.485 823.174 166.397H823.188L823.077 167.215L729.406 361.447L775.225 166.736H775.238C774.925 121.836 759.7 84.2761 739.186 73.6416ZM728.685 73C730.729 73.0142 732.758 73.0926 734.771 73.2324C744.336 76.4618 753.117 85.8237 759.978 99.7822C768.37 116.858 773.656 140.408 773.866 166.534L728.685 358.548V73ZM727.314 358.346L685.868 187.646L701.502 155.229L701.732 153.524C701.5 138.332 697.078 124.143 689.557 112.039C691.089 107.664 692.795 103.564 694.654 99.7822C701.415 86.0272 710.04 76.7328 719.443 73.374C722.039 73.1455 724.664 73.0185 727.314 73V358.346ZM653.161 108.945C657.424 122.034 659.951 137.669 660.068 154.49H660.057L649.146 200.857L648.324 199.154L658.876 154.314C658.745 137.989 656.334 122.822 652.279 110.069C652.57 109.692 652.865 109.318 653.161 108.945ZM715.021 73.8662C704.277 79.6514 695.014 92.8374 688.627 110.58C683.915 103.344 678.08 96.8903 671.365 91.459C683.907 82.2669 698.814 76.0504 715.021 73.8662Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M728 437C741.255 437 752 447.745 752 461C752 474.255 741.255 485 728 485C714.745 485 704 474.255 704 461C704 447.745 714.745 437 728 437ZM728 440C716.402 440 707 449.402 707 461C707 472.598 716.402 482 728 482C739.598 482 749 472.598 749 461C749 449.402 739.598 440 728 440ZM728 441C739.046 441 748 449.954 748 461C748 472.046 739.046 481 728 481C716.954 481 708 472.046 708 461C708 449.954 716.954 441 728 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M75 224C86.0457 224 95 232.954 95 244C95 255.046 86.0457 264 75 264C63.9543 264 55 255.046 55 244C55 232.954 63.9543 224 75 224ZM75 226.5C65.335 226.5 57.5 234.335 57.5 244C57.5 253.665 65.335 261.5 75 261.5C84.665 261.5 92.5 253.665 92.5 244C92.5 234.335 84.665 226.5 75 226.5ZM75 227.333C84.2047 227.333 91.667 234.795 91.667 244C91.667 253.205 84.2047 260.667 75 260.667C65.7953 260.667 58.333 253.205 58.333 244C58.333 234.795 65.7953 227.333 75 227.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="117" y="235" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-icon" x="66" y="235" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="58.5" y="227.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M619.596 437H618.404V321.596H619.596V437ZM607.717 73.7529C590.07 83.2555 577.015 115.725 576.744 154.488L576.735 154.49L617.894 324.01L536.283 154.784H536.256C536.256 154.765 536.256 154.746 536.256 154.727L536 154.196H536.259C536.552 113.074 567.548 79.1667 607.717 73.7529ZM628.725 73.5576C669.427 78.2676 701.1 112.176 701.731 153.524L701.501 155.229L620.223 323.764L660.056 154.49H660.067C659.795 115.455 646.559 82.8028 628.725 73.5576ZM619.596 73C621.373 73.0124 623.138 73.0806 624.887 73.2021C633.203 76.0097 640.837 84.1483 646.801 96.2832C654.097 111.128 658.693 131.601 658.875 154.314L619.596 321.243V73ZM618.404 321.067L577.936 154.393C578.108 131.648 582.707 111.145 590.012 96.2832C595.889 84.3253 603.386 76.2451 611.562 73.3252C613.818 73.1265 616.1 73.0161 618.404 73V321.067Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M619 437C632.255 437 643 447.745 643 461C643 474.255 632.255 485 619 485C605.745 485 595 474.255 595 461C595 447.745 605.745 437 619 437ZM619 440C607.402 440 598 449.402 598 461C598 472.598 607.402 482 619 482C630.598 482 640 472.598 640 461C640 449.402 630.598 440 619 440ZM619 441C630.046 441 639 449.954 639 461C639 472.046 630.046 481 619 481C607.954 481 599 472.046 599 461C599 449.954 607.954 441 619 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M75 115C86.0457 115 95 123.954 95 135C95 146.046 86.0457 155 75 155C63.9543 155 55 146.046 55 135C55 123.954 63.9543 115 75 115ZM75 117.5C65.335 117.5 57.5 125.335 57.5 135C57.5 144.665 65.335 152.5 75 152.5C84.665 152.5 92.5 144.665 92.5 135C92.5 125.335 84.665 117.5 75 117.5ZM75 118.333C84.2047 118.333 91.667 125.795 91.667 135C91.667 144.205 84.2047 151.667 75 151.667C65.7953 151.667 58.333 144.205 58.333 135C58.333 125.795 65.7953 118.333 75 118.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="117" y="126" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-icon" x="66" y="126" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="58.5" y="118.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_4:'<svg class="hot_air_balloons" width="1008.6648" height="456.0409" viewBox="-1.397400000000001 53.3565 1008.6648 456.0409" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-4" class="step-4">\n<path id="step-4-accent-no-border" d="M874.871 438H873.32V396.764H874.871V438ZM872.656 399.908L810.258 270.52L830.866 227.787L872.656 399.908ZM886.76 73.7266C940.057 79.8939 981.467 124.501 981.854 178.748H981.87L981.745 179.673L875.688 399.589L927.564 179.132H927.58C927.225 128.294 909.987 85.7671 886.76 73.7266ZM874.871 73C877.186 73.0161 879.484 73.1054 881.762 73.2637C892.593 76.9201 902.534 87.5192 910.302 103.323C919.804 122.656 925.79 149.32 926.027 178.901L874.871 396.306V73ZM873.321 396.076L831.926 225.586L860.077 167.215L860.188 166.397H860.174C860.004 142.533 850.844 120.781 835.876 104.285C836.031 103.963 836.186 103.642 836.343 103.323C843.997 87.7498 853.761 77.2268 864.408 73.4238C867.347 73.165 870.32 73.0209 873.321 73V396.076ZM799.726 102.432C807.355 119.444 812.066 141.973 812.239 166.736H812.226L795.167 239.227L794.223 237.269L810.867 166.534C810.672 142.221 806.079 120.141 798.68 103.432C799.026 103.096 799.375 102.763 799.726 102.432ZM859.4 73.9805C849.914 79.0888 841.448 89.2945 834.75 103.068C829.665 97.6569 823.944 92.8382 817.703 88.7285C830.152 81.1576 844.277 76.0187 859.4 73.9805Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_2" d="M874 437C887.255 437 898 447.745 898 461C898 474.255 887.255 485 874 485C860.745 485 850 474.255 850 461C850 447.745 860.745 437 874 437ZM874 440C862.402 440 853 449.402 853 461C853 472.598 862.402 482 874 482C885.598 482 895 472.598 895 461C895 449.402 885.598 440 874 440ZM874 441C885.046 441 894 449.954 894 461C894 472.046 885.046 481 874 481C862.954 481 854 472.046 854 461C854 449.954 862.954 441 874 441Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_3" d="M38 400C49.0457 400 58 408.954 58 420C58 431.046 49.0457 440 38 440C26.9543 440 18 431.046 18 420C18 408.954 26.9543 400 38 400ZM38 402.5C28.335 402.5 20.5 410.335 20.5 420C20.5 429.665 28.335 437.5 38 437.5C47.665 437.5 55.5 429.665 55.5 420C55.5 410.335 47.665 402.5 38 402.5ZM38 403.333C47.2047 403.333 54.667 410.795 54.667 420C54.667 429.205 47.2047 436.667 38 436.667C28.7953 436.667 21.333 429.205 21.333 420C21.333 410.795 28.7953 403.333 38 403.333Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left-top" x="79.9102" y="411" width="352" height="79" fill="#D9D9D9" class="step-4 card textbox left top"/>\n<rect id="step-4-accent-icon" x="28.9102" y="411" width="18.33" height="18.33" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="21.4102" y="403.5" width="418" height="94" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M766.36 437.768H764.99V358.952H766.36V437.768ZM764.402 361.729L701.996 232.325L722.606 189.589L764.402 361.729ZM776.861 73.6416C823.934 79.0887 860.508 118.485 860.85 166.397H860.864L860.753 167.215L767.082 361.447L812.9 166.736H812.914C812.601 121.836 797.376 84.2761 776.861 73.6416ZM766.36 73C768.405 73.0142 770.434 73.0926 772.446 73.2324C782.012 76.4618 790.793 85.8237 797.653 99.7822C806.046 116.858 811.332 140.408 811.542 166.534L766.36 358.548V73ZM764.99 358.346L723.544 187.646L739.178 155.229L739.408 153.524C739.176 138.332 734.754 124.143 727.232 112.039C728.765 107.664 730.471 103.564 732.33 99.7822C739.091 86.0272 747.715 76.7328 757.119 73.374C759.714 73.1455 762.339 73.0185 764.99 73V358.346ZM690.837 108.945C695.1 122.034 697.627 137.669 697.744 154.49H697.732L686.821 200.857L686 199.154L696.552 154.314C696.421 137.989 694.01 122.822 689.955 110.069C690.246 109.692 690.54 109.318 690.837 108.945ZM752.696 73.8662C741.953 79.6514 732.69 92.8374 726.303 110.58C721.591 103.344 715.756 96.8903 709.041 91.459C721.582 82.2669 736.49 76.0504 752.696 73.8662Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M771 437C784.255 437 795 447.745 795 461C795 474.255 784.255 485 771 485C757.745 485 747 474.255 747 461C747 447.745 757.745 437 771 437ZM771 440C759.402 440 750 449.402 750 461C750 472.598 759.402 482 771 482C782.598 482 792 472.598 792 461C792 449.402 782.598 440 771 440ZM771 441C782.046 441 791 449.954 791 461C791 472.046 782.046 481 771 481C759.954 481 751 472.046 751 461C751 449.954 759.954 441 771 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M38 291C49.0457 291 58 299.954 58 311C58 322.046 49.0457 331 38 331C26.9543 331 18 322.046 18 311C18 299.954 26.9543 291 38 291ZM38 293.5C28.335 293.5 20.5 301.335 20.5 311C20.5 320.665 28.335 328.5 38 328.5C47.665 328.5 55.5 320.665 55.5 311C55.5 301.335 47.665 293.5 38 293.5ZM38 294.333C47.2047 294.333 54.667 301.795 54.667 311C54.667 320.205 47.2047 327.667 38 327.667C28.7953 327.667 21.333 320.205 21.333 311C21.333 301.795 28.7953 294.333 38 294.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="79.9102" y="302" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-icon" x="28.9102" y="302" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="21.4102" y="294.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M662.598 437H661.406V321.596H662.598V437ZM619.991 146.417C619.849 149.073 619.765 151.765 619.746 154.488L619.737 154.49L660.896 324.01L597.75 193.074L619.991 146.417ZM671.727 73.5576C712.429 78.2676 744.102 112.176 744.733 153.524L744.503 155.229L663.225 323.764L703.058 154.49H703.069C702.797 115.455 689.561 82.8028 671.727 73.5576ZM662.598 73C664.375 73.0124 666.139 73.0806 667.889 73.2021C676.205 76.0097 683.839 84.1483 689.803 96.2832C697.099 111.128 701.694 131.601 701.877 154.314L662.598 321.243V73ZM661.406 321.067L620.938 154.393C620.965 150.711 621.111 147.089 621.363 143.539L621.775 142.676L621.998 141.747C621.989 140.448 621.943 139.157 621.863 137.875C623.568 121.789 627.528 107.445 633.014 96.2832C638.891 84.3253 646.388 76.2451 654.563 73.3252C656.82 73.1265 659.102 73.0161 661.406 73V321.067ZM585.653 123.203C586.484 129.187 586.951 135.489 586.996 142.001H586.986L582.475 161.397L581.781 159.961L585.994 141.852C585.948 136.059 585.566 130.438 584.891 125.065C585.137 124.441 585.392 123.82 585.653 123.203ZM650.719 73.7529C636.535 81.3906 625.32 103.865 621.322 132.52C619.375 118.622 613.319 106.044 604.42 96.0508C616.768 84.2216 632.834 76.1633 650.719 73.7529Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M662 437C675.255 437 686 447.745 686 461C686 474.255 675.255 485 662 485C648.745 485 638 474.255 638 461C638 447.745 648.745 437 662 437ZM662 440C650.402 440 641 449.402 641 461C641 472.598 650.402 482 662 482C673.598 482 683 472.598 683 461C683 449.402 673.598 440 662 440ZM662 441C673.046 441 682 449.954 682 461C682 472.046 673.046 481 662 481C650.954 481 642 472.046 642 461C642 449.954 650.954 441 662 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M38 182C49.0457 182 58 190.954 58 202C58 213.046 49.0457 222 38 222C26.9543 222 18 213.046 18 202C18 190.954 26.9543 182 38 182ZM38 184.5C28.335 184.5 20.5 192.335 20.5 202C20.5 211.665 28.335 219.5 38 219.5C47.665 219.5 55.5 211.665 55.5 202C55.5 192.335 47.665 184.5 38 184.5ZM38 185.333C47.2047 185.333 54.667 192.795 54.667 202C54.667 211.205 47.2047 218.667 38 218.667C28.7953 218.667 21.333 211.205 21.333 202C21.333 192.795 28.7953 185.333 38 185.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="79.9102" y="193" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-icon" x="28.9102" y="193" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="21.4102" y="185.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M553 437H552V284H553V437ZM543.022 73.3936C528.2 81.4684 517.236 109.06 517.008 141.999L517 142.001L551.57 286.052L483.023 142.251H483C483 142.235 483 142.218 483 142.202L482.785 141.751H483.003C483.249 106.807 509.283 77.994 543.022 73.3936ZM560.668 73.2275C595.04 77.2513 621.745 106.354 621.996 141.747L621.773 142.676L553.527 285.843L586.984 142.001H586.994C586.765 108.831 575.648 81.0836 560.668 73.2275ZM553 72.7539C554.493 72.7644 555.975 72.8225 557.444 72.9258C564.429 75.3115 570.841 82.2273 575.851 92.5391C581.979 105.153 585.839 122.551 585.992 141.852L553 283.701V72.7539ZM552 283.552L518.009 141.918C518.154 122.59 522.016 105.168 528.151 92.5391C533.088 82.3776 539.385 75.5115 546.252 73.0303C548.147 72.8614 550.064 72.7675 552 72.7539V283.552Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M552 437C565.255 437 576 447.745 576 461C576 474.255 565.255 485 552 485C538.745 485 528 474.255 528 461C528 447.745 538.745 437 552 437ZM552 440C540.402 440 531 449.402 531 461C531 472.598 540.402 482 552 482C563.598 482 573 472.598 573 461C573 449.402 563.598 440 552 440ZM552 441C563.046 441 572 449.954 572 461C572 472.046 563.046 481 552 481C540.954 481 532 472.046 532 461C532 449.954 540.954 441 552 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M38 73C49.0457 73 58 81.9543 58 93C58 104.046 49.0457 113 38 113C26.9543 113 18 104.046 18 93C18 81.9543 26.9543 73 38 73ZM38 75.5C28.335 75.5 20.5 83.335 20.5 93C20.5 102.665 28.335 110.5 38 110.5C47.665 110.5 55.5 102.665 55.5 93C55.5 83.335 47.665 75.5 38 75.5ZM38 76.333C47.2047 76.333 54.667 83.7953 54.667 93C54.667 102.205 47.2047 109.667 38 109.667C28.7953 109.667 21.333 102.205 21.333 93C21.333 83.7953 28.7953 76.333 38 76.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="79.9102" y="84" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-icon" x="28.9102" y="84" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="21.4102" y="76.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("hot_air_balloons_","")),n]})),tW="hot_air_balloons",tU={key:tW,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=tZ.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:tW,svgScalingFactor:tU.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"5Ds1yY"}),icon:a.yM2,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/hot_air_balloon.6db7640a.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tZ,formattingMenu:G,defaultData:()=>w(tZ),svgScalingFactor:1},tG=new Map(Object.entries({iceberg_icons_1:'<svg class="iceberg_icons" width="814.32" height="435.8203" viewBox="93.34 49.47670000000001 814.32 435.8203" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.137C307.957 397.962 306.072 407.252 303.5 420.637L254.5 469.637L231 417.137V408.637L213.25 387.137H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.137L344.999 350.137L315.999 371.637C314.016 377.406 312.426 382.418 311.069 387.137H213.249L195.499 365.637L174.129 306.137H354.39L353.999 307.137Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.137H174.13L170 294.637C159.36 271.216 136.651 256.643 109 227.137C109.247 226.801 109.495 226.469 109.74 226.137H385.609L354.391 306.137Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 145.637L337.5 172.637L394 204.637L385.609 226.137H109.74C131.313 196.945 144.614 180.826 159 147.137L160.421 144.137H166.846C164.932 146.754 164.424 149.061 164 152.637C159.879 162.321 157.165 167.745 151.5 177.137C141.279 189.176 136.783 196.9 128 210.137L123 218.137V220.637L233.5 212.137L270.5 191.137C269.722 179.753 272.476 173.422 281 162.137C283.168 158.406 283.645 156.396 282.5 152.637L270.847 144.137H321.607L322.5 145.637Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.1367C280.948 93.4269 286.901 97.0982 297.493 103.632L297.501 103.637L321.608 144.137H270.848L240.001 121.637C246.708 101.22 251.58 88.7555 252.001 74.1367C231.212 85.7865 217.838 92.8554 211.001 100.137L199.001 124.137C188.124 132.784 179.864 134.33 169.001 141.637C168.13 142.527 167.425 143.346 166.847 144.137H160.422L163.501 137.637C189.956 125.875 199.846 117.528 205.501 98.6367C217.083 86.4132 232.165 78.6253 255.501 65.1367H257.501L271.001 85.1367Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 85.2734C438.046 85.2734 447 94.2277 447 105.273C447 116.319 438.046 125.273 427 125.273C416.629 125.273 408.103 117.38 407.1 107.273H299.583L298.393 105.273H407C407 94.2277 415.954 85.2734 427 85.2734Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="82.2734" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-icon" x="417" y="95.2734" width="20" height="20" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="409.5" y="74.7734" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_2:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-icon" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-icon" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_3:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-icon" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-icon" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-icon" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_4:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-icon" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-icon" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-icon" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-icon" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_5:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-icon" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-icon" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-icon" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-icon" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M427 407C438.046 407 447 415.954 447 427C447 438.046 438.046 447 427 447C416.629 447 408.103 439.107 407.1 429H296L298 427H407C407 415.954 415.954 407 427 407Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="465" y="404" width="427" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-accent-icon" x="417" y="417" width="20" height="20" fill="#D9D9D9" class="step-5 accent icon"/>\n<rect id="step-5-selection" x="409.5" y="396.5" width="490" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_icons_","")),n]})),tK=new Map(Object.entries({iceberg_1:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_2:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_3:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_4:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_5:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M431 419C436.523 419 441 423.477 441 429C441 434.523 436.523 439 431 439C425.477 439 421 434.523 421 429H306L308 427H421.2C422.127 422.436 426.162 419 431 419Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-left" x="457" y="406" width="411" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-selection" x="449.5" y="398.5" width="426" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_","")),n]})),tQ="iceberg",tq={key:tQ,Component:e=>{var t,n;let{data:a,showIcons:r}=e,s=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,1,5),l=(r?tG:tK).get(s);return l?(0,i.jsx)(tA,{svgData:l,templateKey:tQ,svgScalingFactor:tq.svgScalingFactor,...e}):(console.error("No SVG data found for key",s),null)},label:()=>r.Ru._({id:"bxoNRj"}),icon:a.CcM,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/iceberg.19ae6dcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tG,formattingMenu:G,defaultData:()=>w(tG),svgScalingFactor:1,canToggleIcons:!0},tJ=new Map(Object.entries({ideas_1:'<svg class="ideas" width="407" height="398.217" viewBox="296 4 407 398.217" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="390.597" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="410" y="264" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="500.044" cy="219.406" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="500.044" cy="154.89" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="500.044" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="480.999" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent icon"/>\n</g>\n<rect id="step-1-selection" x="382.5" y="99.5" width="235" height="301" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',ideas_2:'<svg class="ideas" width="540.3684000000001" height="372.78340000000003" viewBox="229.60829999999999 3.6083 540.3684000000001 372.78340000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="240" y="193" width="219" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="259.586" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="349.446" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="395.529" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="421.45" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="330.586" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent icon"/>\n</g>\n<rect id="step-1-selection" x="233.5" y="96.5" width="232" height="277" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="540.585" y="190.328" width="219" height="172.81" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="560.586" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="649.814" cy="190.82" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="601.427" cy="146.469" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="573.777" cy="113.633" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="631.586" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-2 accent icon"/>\n</g>\n<rect id="step-2-selection" x="533.5" y="96.5" width="233" height="277" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ideas_3:'<svg class="ideas" width="759.80944" height="407.44043999999997" viewBox="120.80227999999998 -0.61172 759.80944 407.44043999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="135.414" y="193.484" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="155" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="244.861" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="290.943" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="316.865" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="226" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent icon"/>\n</g>\n<rect id="step-1-selection" x="128.5" y="98.5" width="234" height="275" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="391.598" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="411" y="261.992" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="501.045" cy="219.406" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="501.045" cy="154.89" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="501.045" cy="116.297" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="482" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-2 accent icon"/>\n</g>\n<rect id="step-2-selection" x="383.5" y="99.5" width="235" height="301" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="647" y="190.328" width="219" height="177" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="667" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="756.228" cy="190.82" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="707.842" cy="146.469" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="680.191" cy="113.633" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="738" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-3 accent icon"/>\n</g>\n<rect id="step-3-selection" x="639.5" y="97.5" width="235" height="278" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ideas_4:'<svg class="ideas" width="896.48" height="413.722" viewBox="50.758 -3.240000000000002 896.48 413.722" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="67.998" y="187.992" width="191" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="83.998" y="231.992" width="160" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="163.445" cy="189.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="209.527" cy="145.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="235.449" cy="112.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="144.584" y="169.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent icon"/>\n</g>\n<rect id="step-1-selection" x="60.5" y="95.5" width="206" height="274" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-subtle" x="738.998" y="188.992" width="191" height="177" rx="5.76036" fill="#E3EAF8" class="step-4 subtle"/>\n<rect id="step-4-subtle-textbox" x="753.998" y="234.992" width="160" height="112" fill="#D9D9D9" class="step-4 subtle textbox"/>\n<g id="step-4-accent" class="step-4 accent">\n<circle id="step-4-accent_2" cx="833.812" cy="189.82" r="34.5622" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_3" cx="785.426" cy="145.469" r="17.2811" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_4" cx="757.775" cy="112.633" r="8.64054" fill="#1A378E" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="815.584" y="170.328" width="38" height="38" fill="#D9D9D9" class="step-4 accent icon"/>\n</g>\n<rect id="step-4-selection" x="731.5" y="95.5" width="207" height="279" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="290.584" y="217.242" width="191" height="176" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="306.998" y="263.992" width="160" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="386.629" cy="216.664" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="402.426" cy="151.979" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="413.102" cy="112.81" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="367.998" y="197.992" width="38" height="38" fill="#D9D9D9" class="step-2 accent icon"/>\n</g>\n<rect id="step-2-selection" x="283.5" y="95.5" width="207" height="305" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="514.998" y="215.992" width="191" height="175" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="531.998" y="261.992" width="160" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="610.629" cy="215.664" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="591.577" cy="150.598" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="584.29" cy="112.698" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="590.998" y="195.992" width="38" height="38" fill="#D9D9D9" class="step-3 accent icon"/>\n</g>\n<rect id="step-3-selection" x="507.5" y="95.5" width="207" height="303" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ideas_","")),n]})),t$="ideas",tY={key:t$,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,1,4),s=tJ.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:t$,svgScalingFactor:tY.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"zaDZll"}),icon:tI.rC2,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ideas.f8852ea0.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:tJ,defaultData:()=>w(tJ),formattingMenu:G,svgScalingFactor:1},tX=new Map(Object.entries({infinity_4:'<svg class="infinity-frame" width="955.95677734375" height="374.7676904296875" viewBox="20.6709033203125 75.5268603515625 955.95677734375 374.7676904296875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="infinity-frame">\n<g id="general-2" class="general-2 accent">\n<g id="general-2-accent" class="general-2 accent">\n<g id="general-2-accent_2" class="general-2 accent">\n<path d="M742.095 268.652L742.017 271.88C738.656 329.608 690.791 375.385 632.233 375.385L630.812 375.376C603.725 375.033 578.998 364.893 560.008 348.337L586.302 345.725L588.397 318.999C600.337 328.779 615.601 334.648 632.233 334.648C667.71 334.648 696.967 307.953 700.998 273.532L700.929 273.538L720.315 253.838L742.095 268.652Z" fill="#8C90D2"/>\n<path d="M743.183 269.393L743.077 269.402L743.079 269.322L743.183 269.393Z" fill="#8C90D2"/>\n</g>\n<path id="general-2-accent_3" d="M633.652 153.394C693.735 154.155 742.206 203.108 742.206 263.385C742.206 275.032 740.391 286.255 737.036 296.79C740.071 287.256 741.844 277.159 742.153 266.694L720.312 251.838L701.004 271.459C701.311 268.81 701.47 266.116 701.47 263.385C701.47 225.123 670.462 194.121 632.23 194.121C615.238 194.121 599.55 200.335 587.5 210.5L561.334 207.477L559.586 180.802C578.961 163.738 604.386 153.385 632.23 153.385L633.652 153.394Z" fill="#8C90D2" class="general-2 accent"/>\n<path id="general-2-accent_4" fill-rule="evenodd" clip-rule="evenodd" d="M585.917 212.527L444.5 350.5L444 351L443.5 351.5L416.401 349.132L415 322L558 182.5L559.417 209.146L585.917 212.527Z" fill="#8C90D2" class="general-2 accent"/>\n</g>\n<rect id="general-2-accent-icon" x="603" y="240" width="55" height="55" class="general-2 icon subtle" fill="#666666"/>\n</g>\n<g id="general-1" class="general-1 accent">\n<g id="general-1-accent" class="general-1 accent">\n<path id="general-1-accent_2" d="M278 258L284.906 253.172L287 255L303.919 269.855C303.919 269.842 303.92 269.829 303.92 269.815C304.751 306.871 335.044 336.646 372.281 336.646C388.615 336.646 399.981 333.498 411.742 323.939V324.562L413.211 351.338C413.211 351.338 424.965 352.084 432.5 352.5C436.209 352.705 442 353 442 353L440.5 354.5C421.742 369.722 398.319 377.385 372.281 377.385L370.871 377.376C311.302 376.621 263.237 328.127 263.164 268.388L278 258Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M373.691 159.128C398.043 159.436 420.472 167.724 438.486 181.496L438.494 181.489L439.013 181.902C439.675 182.415 440.333 182.935 440.983 183.463V183.473L444.007 186.434L444.772 187.624L444.783 187.613L444.781 187.638L444.788 187.648L444.779 187.656L442.706 214.101L441.403 214.229L441.402 214.218L421.093 216.282H420.758L417.218 216.634L416.715 216.27L416.718 216.268C404.765 206.037 389.243 199.857 372.28 199.857C334.987 199.858 304.659 229.722 303.915 266.855L285 251L263 266C264.597 207.122 313.024 159.119 372.28 159.119L373.691 159.128Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_4" d="M586.254 316.815L586.191 321.234L586.17 321.259L584.184 343.96L563.289 345.843H563.287L558.286 346.149L558.121 345.999L558.124 345.997L419.695 218.873L444.278 216.824L445.227 216.864L445.3 215.12H445.323L447.16 189.079L586.254 316.815Z" fill="#D9DAF0" class="general-1 accent"/>\n</g>\n<rect id="general-1-accent-icon" x="344" y="240" width="55" height="55" class="general-1 icon subtle" fill="#666666"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-accent-line" d="M371.574 107.945V170.186C374.483 170.476 376.755 172.932 376.755 175.918C376.755 179.099 374.176 181.678 370.995 181.678C367.814 181.678 365.235 179.099 365.234 175.918C365.234 172.93 367.509 170.472 370.422 170.185V109.098H231.598V107.945H371.574Z" fill="#4046B4" class="step-1 line subtle"/>\n<rect id="step-1-textbox" x="39.0546875" y="93.91064453125" width="184" height="90" class="step-1 textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="30.5" y="86.5" width="355" height="106" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-accent-line" d="M770.185 107.945V109.098H631.36V170.186C634.271 170.475 636.544 172.931 636.544 175.918C636.544 179.099 633.964 181.678 630.783 181.678C627.602 181.678 625.024 179.099 625.023 175.918C625.023 172.931 627.297 170.473 630.208 170.185V107.945H770.185Z" fill="#4046B4" class="step-2 line subtle"/>\n<rect id="step-2-textbox" x="774.243896484375" y="93.91064453125" width="184" height="90" class="step-2 textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="615.5" y="86.5" width="355" height="106" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-accent-line" d="M630.779 348.15C633.961 348.15 636.54 350.729 636.54 353.91C636.54 356.897 634.267 359.352 631.356 359.642V420.731H770.181V421.884H630.204V359.643C627.293 359.354 625.02 356.897 625.02 353.91C625.02 350.729 627.598 348.151 630.779 348.15Z" fill="#4046B4" class="step-3 line subtle"/>\n<rect id="step-3-textbox" x="774.243896484375" y="341.9107666015625" width="184" height="90" class="step-3 textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="615.5" y="334.5" width="355" height="106" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-accent-line" d="M370.995 348.15C374.176 348.151 376.755 350.729 376.755 353.91C376.755 356.897 374.481 359.354 371.57 359.643V421.883H231.594V420.73H370.418V359.642C367.507 359.352 365.234 356.897 365.234 353.91C365.235 350.729 367.814 348.15 370.995 348.15Z" fill="#4046B4" class="step-4 line subtle"/>\n<rect id="step-4-textbox" x="39.0546875" y="341.9107666015625" width="184" height="90" class="step-4 textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="30.5" y="334.5" width="355" height="106" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t0="infinity",t1={key:t0,Component:e=>{var t,n;let a=j()(null!=(n=null==(t=e.data.step)?void 0:t.length)?n:4,4,4),r=tX.get(a);return r?(0,i.jsx)(tA,{svgData:r,templateKey:t0,svgScalingFactor:t1.svgScalingFactor,...e}):(console.error("No SVG data found for key",a),null)},label:()=>r.Ru._({id:"5o9DHo"}),icon:tI.C8j,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/infinity.e9530b60.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:G,stepSvgData:tX,defaultData:()=>w(tX),svgScalingFactor:1},t2=new Map(Object.entries({inputs_1:'<svg class="inputs-frame" width="240.00000000000023" height="362" viewBox="381 -1 240.00000000000023 362" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.1640625" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_2:'<svg class="inputs-frame" width="240.72000000000023" height="538.72" viewBox="380.64 -1.3599999999999994 240.72000000000023 538.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.0703125" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M595 527C603.837 527 611 519.837 611 511V403C611 394.163 603.837 387 595 387H517.599L501 364L484.401 387H407C398.163 387 391 394.163 391 403V511C391 519.837 398.163 527 407 527H595Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="401.9765625" y="398.0625" width="196.99996948242188" height="115.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="383.55" y="356.55" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.0703125" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_3:'<svg class="inputs-frame" width="674.44" height="506.94000000000005" viewBox="163.038 -3.9700000000000006 674.44 506.94000000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.9921875" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M620.508 330C619.83 330 619.163 330.042 618.508 330.124V330H591.008L604.508 347.005V474C604.508 482.837 611.671 490 620.508 490H808.508C817.344 490 824.508 482.837 824.508 474V346C824.508 337.163 817.344 330 808.508 330H620.508Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="583.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M380.008 330C380.685 330 381.353 330.042 382.008 330.124V330H409.508L396.008 347.005V474C396.008 482.837 388.844 490 380.008 490H192.008C183.171 490 176.008 482.837 176.008 474V346C176.008 337.163 183.171 330 192.008 330H380.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="188.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="168.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M594 9C602.837 9 610 16.1634 610 25V133C610 141.837 602.837 149 594 149H516.599L500 172L483.401 149H406C397.163 149 390 141.837 390 133V25C390 16.1634 397.163 9 406 9H594Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="400.9921875" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="382.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_4:'<svg class="inputs-frame" width="675.48" height="456.9800000000001" viewBox="164.018 46.01 675.48 456.9800000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M621.336 330C620.659 330 619.991 330.042 619.336 330.124V330H591.836L605.336 347.005V474C605.336 482.837 612.499 490 621.336 490H809.336C818.172 490 825.336 482.837 825.336 474V346C825.336 337.163 818.172 330 809.336 330H621.336Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="584.364" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M381.008 330C381.685 330 382.353 330.042 383.008 330.124V330H410.508L397.008 347.005V474C397.008 482.837 389.844 490 381.008 490H193.008C184.171 490 177.008 482.837 177.008 474V346C177.008 337.163 184.171 330 193.008 330H381.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="189.1640625" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="169.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M381.008 219C381.685 219 382.353 218.958 383.008 218.876V219H410.508L397.008 201.995V75C397.008 66.1635 389.844 59 381.008 59H193.008C184.171 59 177.008 66.1635 177.008 75V203C177.008 211.837 184.171 219 193.008 219H381.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="189.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="169.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M622.508 219C621.83 219 621.163 218.958 620.508 218.876V219H593.008L606.508 201.995V75C606.508 66.1635 613.671 59 622.508 59H810.508C819.344 59 826.508 66.1635 826.508 75V203C826.508 211.837 819.344 219 810.508 219H622.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="619.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="585.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_5:'<svg class="inputs-frame" width="705.2396" height="544.1246" viewBox="148.4377 -2.5623000000000005 705.2396 544.1246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M366 348C374.837 348 382 340.837 382 332V284.878L404.998 267.32L382 251.681V204C382 195.163 374.837 188 366 188H178C169.163 188 162 195.163 162 204V332C162 340.837 169.163 348 178 348H366Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="173.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="152.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M636.115 348C627.279 348 620.115 340.837 620.115 332V284.878L597.117 267.32L620.115 251.681V204C620.115 195.163 627.279 188 636.115 188H824.115C832.952 188 840.115 195.163 840.115 204V332C840.115 340.837 832.952 348 824.115 348H636.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="597.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="631.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M592 11C600.837 11 608 18.1634 608 27V135C608 143.837 600.837 151 592 151H514.599L498 174L481.401 151H404C395.163 151 388 143.837 388 135V27C388 18.1634 395.163 11 404 11H592Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="398.1640625" y="21.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="380.55" y="3.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_6:'<svg class="inputs-frame" width="684.4396000000003" height="543.3246" viewBox="158.83769999999998 -2.1623000000000054 684.4396000000003 543.3246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M558.508 171C557.83 171 557.163 170.958 556.508 170.876V171H529.008L542.508 153.995V27C542.508 18.1635 549.671 11 558.508 11H746.508C755.344 11 762.508 18.1635 762.508 27V155C762.508 163.837 755.344 171 746.508 171H558.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="555.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="521.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6_2" d="M442.008 171C442.685 171 443.353 170.958 444.008 170.876V171H471.508L458.008 153.995V27C458.008 18.1635 450.844 11 442.008 11H254.008C245.171 11 238.008 18.1635 238.008 27V155C238.008 163.837 245.171 171 254.008 171H442.008Z" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-textbox" x="250.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-6 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="230.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-6 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M626.115 348C617.279 348 610.115 340.837 610.115 332V284.878L587.117 267.32L610.115 251.681V204C610.115 195.163 617.279 188 626.115 188H814.115C822.952 188 830.115 195.163 830.115 204V332C830.115 340.837 822.952 348 814.115 348H626.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="587.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="621.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M376 348C384.837 348 392 340.837 392 332V284.878L414.998 267.32L392 251.681V204C392 195.163 384.837 188 376 188H188C179.163 188 172 195.163 172 204V332C172 340.837 179.163 348 188 348H376Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="183.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="162.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t3="inputs",t5={key:t3,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:6,1,6),s=t2.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:t3,svgScalingFactor:t5.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"h8Oe96"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/inputs.835e6090.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:t2,formattingMenu:G,defaultData:()=>w(t2)},t4=new Map(Object.entries({isometric_building_2:'<svg class="isometric_building-frame" width="994.24" height="293.377" viewBox="4.048945312499999 120.017 994.24 293.377" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_building-frame">\n<g id="step-1" class="step-1 accent dim">\n<path id="step-1-accent" d="M644.943 149.819H647.51L646.289 149.92L647.51 150.012H645.185L502.45 161.819L359.717 150.012H357.392L358.611 149.92L357.392 149.819H359.958L502.45 139.137L644.943 149.819Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<path id="step-1-accent_2" d="M502.125 162.006V249.099L357 228.378V149.34L502.125 162.006Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_3" d="M502 161.901V249.137L647 228.301V149.137L502 161.901Z" fill="#F8F8FC" class="step-1 accent light"/>\n<path id="step-1-accent_4" d="M302.671 181.415C302.372 181.044 301.888 181.044 301.588 181.415L296.714 187.465C296.414 187.836 296.414 188.438 296.714 188.809L301.588 194.858C301.888 195.229 302.372 195.23 302.671 194.858C302.971 194.487 302.97 193.886 302.671 193.514L299.104 189.087H332.489V187.186H299.104L302.671 182.759C302.97 182.388 302.971 181.786 302.671 181.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="23.1689453125" y="177.7890625" width="247" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="16.5" y="170.5" width="262" height="99" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent dim">\n<path id="step-2-accent" d="M502.125 249.101V249.098L601.587 234.896L646.244 241.782H646.25L501.125 265.275L356 241.782H356.006L401.615 234.75L502.125 249.101Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_2" d="M647.25 352.934L499.532 394.062V265.198L647.25 241.25V352.934Z" fill="#CFD1EC" class="step-2 accent light"/>\n<path id="step-2-accent_3" d="M357 353.132L499.533 394.274V264.627L357 241.434V353.132Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_4" d="M702.068 264.415C702.367 264.044 702.852 264.044 703.151 264.415L708.026 270.465C708.325 270.836 708.325 271.438 708.026 271.809L703.151 277.858C702.852 278.229 702.367 278.23 702.068 277.858C701.769 277.487 701.769 276.886 702.068 276.514L705.635 272.087H672.25V270.186H705.635L702.068 265.759C701.769 265.388 701.769 264.786 702.068 264.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="732.1689453125" y="259.7890625" width="247" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="725.5" y="252.5" width="262" height="99" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',isometric_building_3:'<svg class="isometric_building-frame" width="996.32" height="377.7543" viewBox="0.9191015624999999 77.97670000000001 996.32 377.7543" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_building-frame">\n<g id="step-3" class="step-3 accent dim">\n<path id="step-3-accent" d="M499.215 291.397V291.395L598.677 277.193L643.334 284.079H643.34L498.215 307.572L353.09 284.079H353.096L398.705 277.047L499.215 291.397Z" fill="#7075C7" class="step-3 accent dim"/>\n<path id="step-3-accent_2" d="M644.34 395.23L496.622 436.359V307.495L644.34 283.547V395.23Z" fill="#ABAEDE" class="step-3 accent light"/>\n<path id="step-3-accent_3" d="M354.09 395.429L496.623 436.571V306.924L354.09 283.73V395.429Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_4" d="M299.272 308.849C298.973 308.477 298.488 308.478 298.189 308.849L293.314 314.898C293.015 315.269 293.015 315.871 293.314 316.242L298.189 322.292C298.488 322.663 298.973 322.663 299.272 322.292C299.571 321.921 299.571 321.319 299.272 320.948L295.705 316.521H329.09V314.62H295.705L299.272 310.193C299.571 309.822 299.571 309.22 299.272 308.849Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="20.0791015625" y="301.92578125" width="247" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="13.5" y="294.5" width="262" height="99" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2 accent dim">\n<path id="step-2-accent" d="M498.567 183.36V183.328L532.537 181.819L644.341 192.046L499.216 204.688L354.09 192.046L466.521 181.762L498.567 183.36Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_2" d="M499.215 204.303V291.396L354.09 270.675V191.637L499.215 204.303Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_3" d="M499.214 204.64V291.394L644.339 270.673V191.945L499.214 204.64Z" fill="#CFD1EC" class="step-2 accent light"/>\n<path id="step-2-accent_4" d="M700.419 225.849C700.718 225.477 701.203 225.478 701.502 225.849L706.377 231.898C706.676 232.269 706.676 232.871 706.377 233.242L701.502 239.292C701.203 239.663 700.718 239.663 700.419 239.292C700.12 238.921 700.12 238.319 700.419 237.948L703.987 233.521H670.602V231.62H703.987L700.419 227.193C700.12 226.822 700.12 226.22 700.419 225.849Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="731.0791015625" y="219.92578125" width="247" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="724.5" y="212.5" width="262" height="99" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M498.567 183.361L354.09 176.158V107.64L498.567 97.1367V183.361Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M498.566 183.329L643.691 176.887V107.639L498.566 97.1367V183.329Z" fill="#F8F8FC" class="step-1 accent light"/>\n<path id="step-1-accent_3" d="M299.272 138.849C298.973 138.477 298.488 138.478 298.189 138.849L293.314 144.898C293.015 145.269 293.015 145.871 293.314 146.242L298.189 152.292C298.488 152.663 298.973 152.663 299.272 152.292C299.571 151.921 299.571 151.319 299.272 150.948L295.705 146.521H329.09V144.62H295.705L299.272 140.193C299.571 139.822 299.571 139.22 299.272 138.849Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="24.0791015625" y="133.92578125" width="247" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="17.5" y="126.5" width="262" height="99" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',isometric_building_4:'<svg class="isometric_building-frame" width="996.32" height="464.4933" viewBox="1.8292578124999999 34.976699999999994 996.32 464.4933" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_building-frame">\n<g id="step-1" class="step-1 accent dim">\n<path id="step-1-accent" d="M645.646 136.685H645.69L645.668 136.688L645.69 136.688H645.647L555.396 144.981L498.657 140.876L444.921 144.782L356.842 136.688H356.798L356.82 136.688L356.798 136.685H356.844L501.244 124.047L645.646 136.685Z" fill="#9598D5" class="step-1 accent dim"/>\n<path id="step-1-accent_2" d="M500.783 124.056L500.564 124.037L359.916 136.288L355.354 135.849L355.354 84.1721L500.69 54.1875L500.783 124.056Z" fill="#B3B5E1" class="step-1 accent"/>\n<path id="step-1-accent_3" d="M500.772 124.009L500.992 123.99L640.457 136.136L643.608 135.834L643.609 83.5865L500.866 54.1367L500.772 124.009Z" fill="#CFD1EC" class="step-1 accent light"/>\n<path id="step-1-accent_4" d="M299.362 104.587C299.063 104.216 298.578 104.216 298.279 104.587L293.404 110.637C293.105 111.008 293.105 111.609 293.404 111.981L298.279 118.03C298.578 118.401 299.063 118.401 299.362 118.03C299.661 117.659 299.661 117.057 299.362 116.686L295.795 112.259L329.18 112.259V110.358L295.795 110.358L299.362 105.931C299.661 105.56 299.661 104.958 299.362 104.587Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="20.9892578125" y="98.92578125" width="247" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="13.5" y="91.5" width="262" height="99" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M498.657 227.1L354.18 219.896V151.378L498.657 140.875V227.1Z" fill="#8C90D2" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M498.656 227.067L643.781 220.625V151.377L498.656 140.875V227.067Z" fill="#ABAEDE" class="step-2 accent light"/>\n<path id="step-2-accent_3" d="M700.508 179.587C700.807 179.216 701.292 179.216 701.591 179.587L706.466 185.637C706.765 186.008 706.765 186.609 706.466 186.981L701.591 193.03C701.292 193.401 700.807 193.401 700.508 193.03C700.209 192.659 700.209 192.057 700.508 191.686L704.075 187.259H670.69V185.358H704.075L700.508 180.931C700.209 180.56 700.209 179.958 700.508 179.587Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="731.9892578125" y="174.92578125" width="247" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="724.5" y="167.5" width="262" height="99" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent dim">\n<path id="step-3-accent" d="M498.657 227.099V227.066L532.627 225.558L644.431 235.784L499.306 248.426L354.18 235.784L466.611 225.5L498.657 227.099Z" fill="#484EB7" class="step-3 accent dim"/>\n<path id="step-3-accent_2" d="M499.305 248.041V335.134L354.18 314.413V235.375L499.305 248.041Z" fill="#666BC3" class="step-3 accent"/>\n<path id="step-3-accent_3" d="M499.304 248.378V335.132L644.429 314.411V235.684L499.304 248.378Z" fill="#8287CE" class="step-3 accent light"/>\n<path id="step-3-accent_4" d="M299.362 258.587C299.063 258.216 298.578 258.216 298.279 258.587L293.404 264.637C293.105 265.008 293.105 265.609 293.404 265.981L298.279 272.03C298.578 272.401 299.063 272.401 299.362 272.03C299.661 271.659 299.661 271.057 299.362 270.686L295.795 266.259H329.18V264.358H295.795L299.362 259.931C299.661 259.56 299.661 258.958 299.362 258.587Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="20.9892578125" y="252.92578125" width="247" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="13.5" y="245.5" width="262" height="99" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent dim">\n<path id="step-4-accent" d="M499.305 335.136V335.133L598.767 320.932L643.424 327.817H643.43L498.305 351.311L353.18 327.817H353.186L398.795 320.785L499.305 335.136Z" fill="#363B96" class="step-4 accent dim"/>\n<path id="step-4-accent_2" d="M644.43 438.969L496.712 480.098V351.233L644.43 327.285V438.969Z" fill="#595FC4" class="step-4 accent light"/>\n<path id="step-4-accent_3" d="M354.18 439.167L496.713 480.31V350.662L354.18 327.469V439.167Z" fill="#4046B4" class="step-4 accent"/>\n<path id="step-4-accent_4" d="M700.509 345.587C700.808 345.216 701.293 345.216 701.592 345.587L706.467 351.637C706.766 352.008 706.766 352.609 706.467 352.981L701.592 359.03C701.293 359.401 700.808 359.401 700.509 359.03C700.21 358.659 700.21 358.057 700.509 357.686L704.076 353.259H670.691V351.358H704.076L700.509 346.931C700.21 346.56 700.21 345.958 700.509 345.587Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="731.9892578125" y="339.92578125" width="247" height="84" class="step-4 card textbox left" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="724.5" y="332.5" width="262" height="99" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',isometric_building_5:'<svg class="isometric_building-frame" width="994.24" height="534.2413" viewBox="2.778437499999999 0.01670000000000016 994.24 534.2413" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_building-frame">\n<g id="step-1" class="step-1 accent dim">\n<path id="step-1-accent" d="M644.161 95.8994L595.608 108.354L501.779 89.1172V89.0156L501.531 89.0664L500.931 88.9434L500.93 89.1904L405.705 108.836L355.27 95.8994L499.716 60.6133L644.161 95.8994Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<path id="step-1-accent_2" d="M499.669 60.5954L355.595 95.9808L355.594 54.5222L499.669 19.1367L499.669 60.5954Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_3" d="M499.646 60.6442L643.396 96.0233L643.398 54.5647L499.648 19.1875L499.646 60.6442Z" fill="#F8F8FC" class="step-1 accent light"/>\n<path id="step-1-accent_4" d="M300.452 63.415C300.153 63.0439 299.668 63.0441 299.369 63.415L294.494 69.4646C294.195 69.8359 294.195 70.4376 294.494 70.8088L299.369 76.8584C299.668 77.2294 300.153 77.2296 300.452 76.8584C300.751 76.4873 300.751 75.8855 300.452 75.5143L296.885 71.0873L330.27 71.0873V69.1862L296.885 69.1862L300.452 64.7592C300.751 64.3879 300.751 63.7861 300.452 63.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="21.8984375" y="57.92578125" width="247" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="14.5" y="50.5" width="262" height="99" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent dim">\n<path id="step-2-accent" d="M646.738 171.513H646.783L646.761 171.516L646.783 171.517H646.74L556.488 179.81L499.75 175.704L446.014 179.61L357.935 171.517H357.891L357.913 171.516L357.891 171.513H357.937L502.337 158.875L646.738 171.513Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_2" d="M501.875 158.884L501.655 158.865L361.008 171.116L356.445 170.677L356.446 119L501.781 89.0156L501.875 158.884Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_3" d="M501.863 158.837L502.083 158.818L641.548 170.965L644.698 170.662L644.7 118.415L501.957 88.9648L501.863 158.837Z" fill="#CFD1EC" class="step-2 accent light"/>\n<path id="step-2-accent_4" d="M701.599 138.415C701.898 138.044 702.383 138.044 702.682 138.415L707.557 144.465C707.856 144.836 707.856 145.438 707.557 145.809L702.682 151.858C702.383 152.229 701.898 152.23 701.599 151.858C701.3 151.487 701.3 150.886 701.599 150.514L705.166 146.087H671.781V144.186H705.166L701.599 139.759C701.3 139.388 701.3 138.786 701.599 138.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="730.8984375" y="133.92578125" width="247" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="723.5" y="126.5" width="262" height="99" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M499.747 261.928L355.27 254.725V186.206L499.747 175.703V261.928Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M499.746 261.896L644.871 255.453V186.205L499.746 175.703V261.896Z" fill="#ABAEDE" class="step-3 accent light"/>\n<path id="step-3-accent_3" d="M300.452 217.415C300.153 217.044 299.668 217.044 299.369 217.415L294.494 223.465C294.195 223.836 294.195 224.438 294.494 224.809L299.369 230.858C299.668 231.229 300.153 231.23 300.452 230.858C300.751 230.487 300.751 229.886 300.452 229.514L296.885 225.087H330.27V223.186H296.885L300.452 218.759C300.751 218.388 300.751 217.786 300.452 217.415Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="21.8984375" y="211.92578125" width="247" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="14.5" y="204.5" width="262" height="99" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent dim">\n<path id="step-4-accent" d="M499.747 261.927V261.895L533.717 260.386L645.521 270.612L500.396 283.254L355.27 270.612L467.701 260.328L499.747 261.927Z" fill="#484EB7" class="step-4 accent dim"/>\n<path id="step-4-accent_2" d="M500.395 282.869V369.962L355.27 349.241V270.203L500.395 282.869Z" fill="#666BC3" class="step-4 accent"/>\n<path id="step-4-accent_3" d="M500.393 283.206V369.96L645.518 349.239V270.512L500.393 283.206Z" fill="#8287CE" class="step-4 accent light"/>\n<path id="step-4-accent_4" d="M701.599 304.415C701.898 304.044 702.383 304.044 702.682 304.415L707.557 310.465C707.856 310.836 707.856 311.438 707.557 311.809L702.682 317.858C702.383 318.229 701.898 318.23 701.599 317.858C701.3 317.487 701.3 316.886 701.599 316.514L705.166 312.087H671.781V310.186H705.166L701.599 305.759C701.3 305.388 701.3 304.786 701.599 304.415Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="730.8984375" y="298.92578125" width="247" height="84" class="step-4 card textbox left" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="723.5" y="291.5" width="262" height="99" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent dim">\n<path id="step-5-accent" d="M500.395 369.964V369.961L599.856 355.76L644.514 362.646H644.52L499.395 386.139L354.27 362.646H354.275L399.885 355.613L500.395 369.964Z" fill="#363B96" class="step-5 accent dim"/>\n<path id="step-5-accent_2" d="M645.521 473.797L497.803 514.926V386.062L645.521 362.113V473.797Z" fill="#595FC4" class="step-5 accent light"/>\n<path id="step-5-accent_3" d="M355.27 473.995L497.803 515.138V385.49L355.27 362.297V473.995Z" fill="#4046B4" class="step-5 accent"/>\n<path id="step-5-accent_4" d="M300.452 387.415C300.153 387.044 299.668 387.044 299.369 387.415L294.494 393.465C294.195 393.836 294.195 394.438 294.494 394.809L299.369 400.858C299.668 401.229 300.153 401.23 300.452 400.858C300.751 400.487 300.751 399.886 300.452 399.514L296.885 395.087H330.27V393.186H296.885L300.452 388.759C300.751 388.388 300.751 387.786 300.452 387.415Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="21.8984375" y="380.92578125" width="247" height="84" class="step-5 card textbox right" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="14.5" y="373.5" width="262" height="99" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t6="isometric_building",t9={key:t6,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,2,5),s=t4.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:t6,svgScalingFactor:t9.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"uYVHtp"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/isometric_building.2a1b22cf.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.Nfw,defaultColorScheme:"monochrome",stepSvgData:t4,formattingMenu:G,defaultData:()=>w(t4),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},t7=new Map(Object.entries({isometric_dashed_squares_2:'<svg class="isometric_dashed_squares-frame" width="1025.4359375" height="255.55784375" viewBox="-9.5509765625 140.280078125 1025.4359375 255.55784375" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_dashed_squares-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1_2" d="M506.082 234.671L631.082 297.171L630.635 298.065L505.858 235.677L381.583 298.065L381.134 297.171L505.634 234.671L505.858 234.559L506.082 234.671Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent" d="M631.695 315.676L515.082 371.566L515.094 371.585L513.605 372.299L506.501 376.118V358.119H506.5V358.11L506.504 358.118L506.595 358.074L506.587 358.058L631.642 298.121L631.695 315.676Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M506.343 358.031L506.34 358.036L506.498 358.112L506.499 358.108L506.5 358.11V376.116L499.523 372.366H499.473L499.471 372.37L381.413 315.788L381.359 298.129L506.343 358.031Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<rect id="step-1-textbox" x="10.1689453125" y="243.62109375" width="285" height="121" class="step-1 textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.5" y="235.617" width="351" height="139.99999999999997" stroke="black" class="step-1 selection"/>\n<g id="step-1_3" class="step-1 accent">\n<path d="M318.999 301.117V300.117H451.999V301.117H318.999Z" fill="#4046B4"/>\n<path d="M310.999 300.117C310.999 302.326 312.79 304.117 314.999 304.117C317.208 304.117 318.999 302.326 318.999 300.117C318.999 297.908 317.208 296.117 314.999 296.117C312.79 296.117 310.999 297.908 310.999 300.117Z" fill="#4046B4"/>\n<path d="M311.999 300.117C311.999 298.46 313.342 297.117 314.999 297.117C316.656 297.117 317.999 298.46 317.999 300.117C317.999 301.774 316.656 303.117 314.999 303.117V304.117C317.208 304.117 318.999 302.326 318.999 300.117C318.999 297.908 317.208 296.117 314.999 296.117C312.79 296.117 310.999 297.908 310.999 300.117C310.999 302.326 312.79 304.117 314.999 304.117V303.117C313.342 303.117 311.999 301.774 311.999 300.117Z" fill="#4046B4"/>\n</g>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2_2" d="M506.995 307.976H505.995L505.995 303.559L506.995 303.559L506.995 307.976ZM506.995 325.642H505.995L505.995 316.809H506.995L506.995 325.642ZM506.995 343.309H505.995L505.995 334.476H506.995L506.995 343.309ZM506.995 356.559H505.995L505.995 352.142H506.995L506.995 356.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_3" d="M630.994 246.976H629.994L629.994 242.559L630.994 242.559L630.994 246.976ZM630.994 264.642H629.994L629.994 255.809H630.994L630.994 264.642ZM630.994 282.309H629.994L629.994 273.476H630.994L630.994 282.309ZM630.994 295.559H629.994L629.994 291.142H630.994L630.994 295.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_4" d="M382.995 246.976H381.995L381.995 242.559L382.995 242.559L382.995 246.976ZM382.995 264.642H381.995L381.995 255.809H382.995L382.995 264.642ZM382.995 282.309H381.995L381.995 273.476H382.995L382.995 282.309ZM382.995 295.559H381.995L381.995 291.142H382.995L382.995 295.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_5" d="M506.086 160.112L631.086 222.612L630.639 223.507L505.862 161.118L381.587 223.507L381.138 222.612L505.638 160.112L505.862 160L506.086 160.112Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent" d="M631.691 241.117L515.078 297.008L515.09 297.026L513.602 297.74L506.497 301.56V283.561H506.496V283.552L506.5 283.56L506.591 283.516L506.583 283.499L631.638 223.562L631.691 241.117Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M506.339 283.473L506.336 283.478L506.494 283.554L506.495 283.55L506.496 283.552V301.558L499.52 297.808H499.469L499.467 297.812L381.409 241.229L381.355 223.57L506.339 283.473Z" fill="#9598D5" class="step-2 accent dim"/>\n<rect id="step-2-textbox" x="718.1650390625" y="170.6220703125" width="278" height="110" class="step-2 textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="649.496" y="161.059" width="351" height="139.99999999999997" stroke="black" class="step-2 selection"/>\n<g id="step-2_6" class="step-2 accent">\n<path d="M695.994 224.559V225.559L566.994 225.559L566.994 224.559L695.994 224.559Z" fill="#4046B4"/>\n<path d="M703.994 225.559C703.994 227.768 702.203 229.559 699.994 229.559C697.785 229.559 695.994 227.768 695.994 225.559C695.994 223.349 697.785 221.559 699.994 221.559C702.203 221.559 703.994 223.349 703.994 225.559Z" fill="#4046B4"/>\n<path d="M702.994 225.559C702.994 223.902 701.651 222.559 699.994 222.559C698.337 222.559 696.994 223.902 696.994 225.559C696.994 227.215 698.337 228.559 699.994 228.559V229.559C697.785 229.559 695.994 227.768 695.994 225.559C695.994 223.349 697.785 221.559 699.994 221.559C702.203 221.559 703.994 223.349 703.994 225.559C703.994 227.768 702.203 229.559 699.994 229.559V228.559C701.651 228.559 702.994 227.215 702.994 225.559Z" fill="#4046B4"/>\n</g>\n<path id="step-2_7" d="M507 169.749H506L506 164L507 164L507 169.749ZM507 192.751H506L506 181.25H507L507 192.751ZM507 215.75H506L506 204.249H507L507 215.75ZM507 233H506L506 227.251H507L507 233Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n</g>\n</svg>\n',isometric_dashed_squares_3:'<svg class="isometric_dashed_squares-frame" width="1025.44" height="331.558" viewBox="-9.551054687499999 102.28 1025.44 331.558" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_dashed_squares-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1_2" d="M506.086 272.671L631.086 335.171L630.639 336.065L505.862 273.677L381.587 336.065L381.138 335.171L505.638 272.671L505.862 272.559L506.086 272.671Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent" d="M631.699 353.676L515.086 409.566L515.098 409.585L513.609 410.299L506.505 414.118V396.119H506.504V396.11L506.508 396.118L506.599 396.074L506.591 396.058L631.646 336.121L631.699 353.676Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M506.347 396.031L506.344 396.036L506.502 396.112L506.503 396.108L506.504 396.11V414.116L499.527 410.366H499.477L499.475 410.37L381.417 353.788L381.363 336.129L506.347 396.031Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<rect id="step-1-textbox" x="10.1728515625" y="281.62109375" width="285" height="121" class="step-1 textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.504000000000019" y="273.617" width="351" height="140" stroke="black" class="step-1 selection"/>\n<g id="step-1_3" class="step-1 accent">\n<path d="M319.003 339.117V338.117H452.003V339.117H319.003Z" fill="#4046B4"/>\n<path d="M311.003 338.117C311.003 340.326 312.794 342.117 315.003 342.117C317.212 342.117 319.003 340.326 319.003 338.117C319.003 335.908 317.212 334.117 315.003 334.117C312.794 334.117 311.003 335.908 311.003 338.117Z" fill="#4046B4"/>\n<path d="M312.003 338.117C312.003 336.46 313.346 335.117 315.003 335.117C316.66 335.117 318.003 336.46 318.003 338.117C318.003 339.774 316.66 341.117 315.003 341.117V342.117C317.212 342.117 319.003 340.326 319.003 338.117C319.003 335.908 317.212 334.117 315.003 334.117C312.794 334.117 311.003 335.908 311.003 338.117C311.003 340.326 312.794 342.117 315.003 342.117V341.117C313.346 341.117 312.003 339.774 312.003 338.117Z" fill="#4046B4"/>\n</g>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2_2" d="M506.999 345.976H505.999L505.999 341.559L506.999 341.559L506.999 345.976ZM506.999 363.642H505.999L505.999 354.809H506.999L506.999 363.642ZM506.999 381.309H505.999L505.999 372.476H506.999L506.999 381.309ZM506.999 394.559H505.999L505.999 390.142H506.999L506.999 394.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_3" d="M630.998 284.976H629.998L629.998 280.559L630.998 280.559L630.998 284.976ZM630.998 302.642H629.998L629.998 293.809H630.998L630.998 302.642ZM630.998 320.309H629.998L629.998 311.476H630.998L630.998 320.309ZM630.998 333.559H629.998L629.998 329.142H630.998L630.998 333.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_4" d="M382.999 284.976H381.999L381.999 280.559L382.999 280.559L382.999 284.976ZM382.999 302.642H381.999L381.999 293.809H382.999L382.999 302.642ZM382.999 320.309H381.999L381.999 311.476H382.999L382.999 320.309ZM382.999 333.559H381.999L381.999 329.142H382.999L382.999 333.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_5" d="M506.999 266.059H505.999L505.999 264.559L506.999 264.559V266.059ZM506.999 270.559H505.999L505.999 269.059H506.999L506.999 270.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_6" d="M506.09 198.112L631.09 260.612L630.643 261.507L505.866 199.118L381.591 261.507L381.142 260.612L505.642 198.112L505.866 198L506.09 198.112Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent" d="M631.695 279.117L515.082 335.008L515.094 335.026L513.605 335.74L506.501 339.56V321.561H506.5V321.552L506.504 321.56L506.595 321.516L506.587 321.499L631.642 261.562L631.695 279.117Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M506.343 321.473L506.34 321.478L506.498 321.554L506.499 321.55L506.5 321.552V339.558L499.523 335.808H499.473L499.471 335.812L381.413 279.229L381.359 261.57L506.343 321.473Z" fill="#9598D5" class="step-2 accent dim"/>\n<rect id="step-2-textbox" x="718.1689453125" y="208.6220703125" width="278" height="110" class="step-2 textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="649.5" y="199.059" width="351" height="139.99999999999997" stroke="black" class="step-2 selection"/>\n<g id="step-2_7" class="step-2 accent">\n<path d="M695.998 262.559V263.559L566.998 263.559L566.998 262.559L695.998 262.559Z" fill="#4046B4"/>\n<path d="M703.998 263.559C703.998 265.768 702.207 267.559 699.998 267.559C697.789 267.559 695.998 265.768 695.998 263.559C695.998 261.349 697.789 259.559 699.998 259.559C702.207 259.559 703.998 261.349 703.998 263.559Z" fill="#4046B4"/>\n<path d="M702.998 263.559C702.998 261.902 701.655 260.559 699.998 260.559C698.341 260.559 696.998 261.902 696.998 263.559C696.998 265.215 698.341 266.559 699.998 266.559V267.559C697.789 267.559 695.998 265.768 695.998 263.559C695.998 261.349 697.789 259.559 699.998 259.559C702.207 259.559 703.998 261.349 703.998 263.559C703.998 265.768 702.207 267.559 699.998 267.559V266.559C701.655 266.559 702.998 265.215 702.998 263.559Z" fill="#4046B4"/>\n</g>\n<path id="step-2_8" d="M506.999 205.142H505.999L505.999 201.559L506.999 201.559L506.999 205.142ZM506.999 219.476H505.999L505.999 212.309H506.999L506.999 219.476ZM506.999 233.809H505.999L505.999 226.642H506.999L506.999 233.809ZM506.999 244.559H505.999L505.999 240.976H506.999L506.999 244.559Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3_2" d="M383 208.976H382L382 204.559L383 204.559L383 208.976ZM383 226.642H382L382 217.809H383L383 226.642ZM383 244.309H382L382 235.476H383L383 244.309ZM383 257.559H382L382 253.142H383L383 257.559Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_3" d="M630.999 208.976H629.999L629.999 204.559L630.999 204.559L630.999 208.976ZM630.999 226.642H629.999L629.999 217.809H630.999L630.999 226.642ZM630.999 244.309H629.999L629.999 235.476H630.999L630.999 244.309ZM630.999 257.559H629.999L629.999 253.142H630.999L630.999 257.559Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_4" d="M506.082 122.112L631.082 184.612L630.635 185.507L505.858 123.118L381.583 185.507L381.134 184.612L505.634 122.112L505.858 122L506.082 122.112Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent" d="M631.695 203.117L515.082 259.008L515.094 259.026L513.605 259.74L506.501 263.56V245.561H506.5V245.552L506.504 245.56L506.595 245.516L506.587 245.499L631.642 185.562L631.695 203.117Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M506.343 245.473L506.34 245.478L506.498 245.554L506.499 245.55L506.5 245.552V263.558L499.523 259.808H499.473L499.471 259.812L381.413 203.229L381.359 185.57L506.343 245.473Z" fill="#7075C7" class="step-3 accent dim"/>\n<rect id="step-3-textbox" x="10.1689453125" y="131.6220703125" width="285" height="121" class="step-3 textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.5" y="123.059" width="351" height="139.99999999999997" stroke="black" class="step-3 selection"/>\n<g id="step-3_5" class="step-3 accent">\n<path d="M318.999 186.559V185.559H451.999V186.559H318.999Z" fill="#4046B4"/>\n<path d="M310.999 185.559C310.999 187.768 312.79 189.559 314.999 189.559C317.208 189.559 318.999 187.768 318.999 185.559C318.999 183.349 317.208 181.559 314.999 181.559C312.79 181.559 310.999 183.349 310.999 185.559Z" fill="#4046B4"/>\n<path d="M311.999 185.559C311.999 183.902 313.342 182.559 314.999 182.559C316.656 182.559 317.999 183.902 317.999 185.559C317.999 187.215 316.656 188.559 314.999 188.559V189.559C317.208 189.559 318.999 187.768 318.999 185.559C318.999 183.349 317.208 181.559 314.999 181.559C312.79 181.559 310.999 183.349 310.999 185.559C310.999 187.768 312.79 189.559 314.999 189.559V188.559C313.342 188.559 311.999 187.215 311.999 185.559Z" fill="#4046B4"/>\n</g>\n<path id="step-3_6" d="M506.999 128.142H505.999L505.999 124.559L506.999 124.559L506.999 128.142ZM506.999 142.476H505.999L505.999 135.309H506.999L506.999 142.476ZM506.999 156.809H505.999L505.999 149.642H506.999L506.999 156.809ZM506.999 167.559H505.999L505.999 163.976H506.999L506.999 167.559Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_7" d="M507 180.167H506L506 173H507L507 180.167ZM507 194.5H506L506 187.333H507L507 194.5Z" fill="#B3B5E1" class="step-3 accent"/>\n</g>\n</g>\n</svg>\n',isometric_dashed_squares_4:'<svg class="isometric_dashed_squares-frame" width="1025.44" height="407.5586" viewBox="-10.551054687499999 70.7214 1025.44 407.5586" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_dashed_squares-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1_2" d="M505.086 317.112L630.086 379.612L629.639 380.507L504.862 318.118L380.587 380.507L380.138 379.612L504.638 317.112L504.862 317L505.086 317.112Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent" d="M630.699 398.117L514.086 454.008L514.098 454.026L512.609 454.74L505.505 458.56V440.561H505.504V440.552L505.508 440.56L505.599 440.516L505.591 440.499L630.646 380.562L630.699 398.117Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M505.347 440.473L505.344 440.478L505.502 440.554L505.503 440.55L505.504 440.552V458.558L498.527 454.808H498.477L498.475 454.812L380.417 398.229L380.363 380.57L505.347 440.473Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<rect id="step-1-textbox" x="9.1728515625" y="326.0625" width="285" height="121" class="step-1 textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="0.5040000000000191" y="318.059" width="351" height="140" stroke="black" class="step-1 selection"/>\n<g id="step-1_3" class="step-1 accent">\n<path d="M318.003 383.559V382.559H451.003V383.559H318.003Z" fill="#4046B4"/>\n<path d="M310.003 382.559C310.003 384.768 311.794 386.559 314.003 386.559C316.212 386.559 318.003 384.768 318.003 382.559C318.003 380.349 316.212 378.559 314.003 378.559C311.794 378.559 310.003 380.349 310.003 382.559Z" fill="#4046B4"/>\n<path d="M311.003 382.559C311.003 380.902 312.346 379.559 314.003 379.559C315.66 379.559 317.003 380.902 317.003 382.559C317.003 384.215 315.66 385.559 314.003 385.559V386.559C316.212 386.559 318.003 384.768 318.003 382.559C318.003 380.349 316.212 378.559 314.003 378.559C311.794 378.559 310.003 380.349 310.003 382.559C310.003 384.768 311.794 386.559 314.003 386.559V385.559C312.346 385.559 311.003 384.215 311.003 382.559Z" fill="#4046B4"/>\n</g>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2_2" d="M506 390.417H505L505 386L506 386L506 390.417ZM506 408.083H505L505 399.25H506L506 408.083ZM506 425.75H505L505 416.917H506L506 425.75ZM506 439H505L505 434.583H506L506 439Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_3" d="M629.998 329.417H628.998L628.998 325L629.998 325L629.998 329.417ZM629.998 347.083H628.998L628.998 338.25H629.998L629.998 347.083ZM629.998 364.75H628.998L628.998 355.917H629.998L629.998 364.75ZM629.998 378H628.998L628.998 373.583H629.998L629.998 378Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_4" d="M381.999 329.417H380.999L380.999 325L381.999 325L381.999 329.417ZM381.999 347.083H380.999L380.999 338.25H381.999L381.999 347.083ZM381.999 364.75H380.999L380.999 355.917H381.999L381.999 364.75ZM381.999 378H380.999L380.999 373.583H381.999L381.999 378Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_5" d="M506 310.5H505L505 309L506 309V310.5ZM506 315H505L505 313.5H506L506 315Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_6" d="M505.09 242.554L630.09 305.054L629.643 305.948L504.866 243.56L380.591 305.948L380.142 305.054L504.642 242.554L504.866 242.441L505.09 242.554Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent" d="M630.695 323.559L514.082 379.449L514.094 379.468L512.605 380.182L505.501 384.001V366.002H505.5V365.993L505.504 366.001L505.595 365.957L505.587 365.94L630.642 306.004L630.695 323.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M505.343 365.914L505.34 365.919L505.498 365.995L505.499 365.991L505.5 365.993V383.999L498.523 380.249H498.473L498.471 380.253L380.413 323.671L380.359 306.012L505.343 365.914Z" fill="#9598D5" class="step-2 accent dim"/>\n<rect id="step-2-textbox" x="717.1689453125" y="253.0634765625" width="278" height="110" class="step-2 textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="648.5" y="243.5" width="351" height="140" stroke="black" class="step-2 selection"/>\n<g id="step-2_7" class="step-2 accent">\n<path d="M694.998 307V308L565.998 308L565.998 307L694.998 307Z" fill="#4046B4"/>\n<path d="M702.998 308C702.998 310.209 701.207 312 698.998 312C696.789 312 694.998 310.209 694.998 308C694.998 305.791 696.789 304 698.998 304C701.207 304 702.998 305.791 702.998 308Z" fill="#4046B4"/>\n<path d="M701.998 308C701.998 306.343 700.655 305 698.998 305C697.341 305 695.998 306.343 695.998 308C695.998 309.657 697.341 311 698.998 311V312C696.789 312 694.998 310.209 694.998 308C694.998 305.791 696.789 304 698.998 304C701.207 304 702.998 305.791 702.998 308C702.998 310.209 701.207 312 698.998 312V311C700.655 311 701.998 309.657 701.998 308Z" fill="#4046B4"/>\n</g>\n<path id="step-2_8" d="M506 249.583H505L505 246L506 246L506 249.583ZM506 263.917H505L505 256.75H506L506 263.917ZM506 278.25H505L505 271.083H506L506 278.25ZM506 289H505L505 285.417H506L506 289Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3_2" d="M382 253.417H381L381 249L382 249L382 253.417ZM382 271.083H381L381 262.25H382L382 271.083ZM382 288.75H381L381 279.917H382L382 288.75ZM382 302H381L381 297.583H382L382 302Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_3" d="M630 253.417H629L629 249L630 249L630 253.417ZM630 271.083H629L629 262.25H630L630 271.083ZM630 288.75H629L629 279.917H630L630 288.75ZM630 302H629L629 297.583H630L630 302Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_4" d="M505.082 166.554L630.082 229.054L629.635 229.948L504.858 167.56L380.583 229.948L380.134 229.054L504.634 166.554L504.858 166.441L505.082 166.554Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent" d="M630.695 247.559L514.082 303.449L514.094 303.468L512.605 304.182L505.501 308.001V290.002H505.5V289.993L505.504 290.001L505.595 289.957L505.587 289.94L630.642 230.004L630.695 247.559Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M505.343 289.914L505.34 289.919L505.498 289.995L505.499 289.991L505.5 289.993V307.999L498.523 304.249H498.473L498.471 304.253L380.413 247.671L380.359 230.012L505.343 289.914Z" fill="#7075C7" class="step-3 accent dim"/>\n<rect id="step-3-textbox" x="9.1689453125" y="176.0634765625" width="285" height="121" class="step-3 textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="0.5" y="167.5" width="351" height="140" stroke="black" class="step-3 selection"/>\n<g id="step-3_5" class="step-3 accent">\n<path d="M317.999 231V230H450.999V231H317.999Z" fill="#4046B4"/>\n<path d="M309.999 230C309.999 232.209 311.79 234 313.999 234C316.208 234 317.999 232.209 317.999 230C317.999 227.791 316.208 226 313.999 226C311.79 226 309.999 227.791 309.999 230Z" fill="#4046B4"/>\n<path d="M310.999 230C310.999 228.343 312.342 227 313.999 227C315.656 227 316.999 228.343 316.999 230C316.999 231.657 315.656 233 313.999 233V234C316.208 234 317.999 232.209 317.999 230C317.999 227.791 316.208 226 313.999 226C311.79 226 309.999 227.791 309.999 230C309.999 232.209 311.79 234 313.999 234V233C312.342 233 310.999 231.657 310.999 230Z" fill="#4046B4"/>\n</g>\n<path id="step-3_6" d="M506 172.583H505L505 169L506 169L506 172.583ZM506 186.917H505L505 179.75H506L506 186.917ZM506 201.25H505L505 194.083H506L506 201.25ZM506 212H505L505 208.417H506L506 212Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_7" d="M506 234.5H505L505 233L506 233V234.5ZM506 239H505L505 237.5H506L506 239Z" fill="#B3B5E1" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4_2" d="M381.999 174.562H380.999L380.999 171L381.999 171L381.999 174.562ZM381.999 188.812H380.999L380.999 181.688H381.999L381.999 188.812ZM381.999 203.062H380.999L380.999 195.938H381.999L381.999 203.062ZM381.999 217.312H380.999L380.999 210.188H381.999L381.999 217.312ZM381.999 228H380.999L380.999 224.438H381.999L381.999 228Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_3" d="M630 177.417H629L629 173L630 173L630 177.417ZM630 195.083H629L629 186.25H630L630 195.083ZM630 212.75H629L629 203.917H630L630 212.75ZM630 226H629L629 221.583H630L630 226Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_4" d="M505.09 90.5537L630.09 153.054L629.643 153.948L504.866 91.5596L380.591 153.948L380.142 153.054L504.642 90.5537L504.866 90.4414L505.09 90.5537Z" fill="#666BC3" class="step-4 accent"/>\n<path id="step-4_5" d="M506 97.583H505L505 94L506 94L506 97.583ZM506 111.917H505L505 104.75H506L506 111.917ZM506 126.25H505L505 119.083H506L506 126.25ZM506 137H505L505 133.417H506L506 137Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_6" d="M506 149.167H505L505 142H506L506 149.167ZM506 163.5H505L505 156.333H506L506 163.5Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent" d="M630.695 171.555L514.082 227.445L514.094 227.464L512.605 228.178L505.501 231.997V213.998H505.5V213.989L505.504 213.997L505.595 213.953L505.587 213.937L630.642 154L630.695 171.555Z" fill="#666BC3" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M505.343 213.914L505.34 213.919L505.498 213.995L505.499 213.991L505.5 213.993V231.999L498.523 228.249H498.473L498.471 228.253L380.413 171.671L380.359 154.012L505.343 213.914Z" fill="#484EB7" class="step-4 accent dim"/>\n<rect id="step-4-textbox" x="717.1689453125" y="97.0625" width="278" height="110" class="step-4 textbox left" fill="#E5E5E5"/>\n<g id="step-4_7" class="step-4 accent">\n<path d="M695.008 152V153L566.008 153L566.008 152L695.008 152Z" fill="#4046B4"/>\n<path d="M703.008 153C703.008 155.209 701.217 157 699.008 157C696.799 157 695.008 155.209 695.008 153C695.008 150.791 696.799 149 699.008 149C701.217 149 703.008 150.791 703.008 153Z" fill="#4046B4"/>\n<path d="M702.008 153C702.008 151.343 700.665 150 699.008 150C697.351 150 696.008 151.343 696.008 153C696.008 154.657 697.351 156 699.008 156V157C696.799 157 695.008 155.209 695.008 153C695.008 150.791 696.799 149 699.008 149C701.217 149 703.008 150.791 703.008 153C703.008 155.209 701.217 157 699.008 157V156C700.665 156 702.008 154.657 702.008 153Z" fill="#4046B4"/>\n</g>\n<rect id="step-4-selection" x="649.5" y="78.5" width="351" height="140" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',isometric_dashed_squares_5:'<svg class="isometric_dashed_squares-frame" width="1025.4399365234376" height="481.55859755859376" viewBox="-9.551968994140626 27.721401220703125 1025.4399365234376 481.55859755859376" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_dashed_squares-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1_2" d="M506.087 348.112L631.087 410.612L630.64 411.507L505.863 349.118L381.588 411.507L381.139 410.612L505.639 348.112L505.863 348L506.087 348.112Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent" d="M631.699 429.117L515.086 485.008L515.098 485.026L513.609 485.74L506.505 489.56V471.561H506.504V471.552L506.508 471.56L506.599 471.516L506.591 471.499L631.646 411.562L631.699 429.117Z" fill="#D9DAF0" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M506.347 471.473L506.344 471.478L506.502 471.554L506.503 471.55L506.504 471.552V489.558L499.527 485.808H499.477L499.475 485.812L381.417 429.229L381.363 411.57L506.347 471.473Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<rect id="step-1-textbox" x="10.171875" y="357.0625" width="285" height="121" class="step-1 textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.504000000000019" y="349.059" width="351" height="140" stroke="black" class="step-1 selection"/>\n<g id="step-1_3" class="step-1 accent">\n<path d="M319.002 414.559V413.559H452.002V414.559H319.002Z" fill="#4046B4"/>\n<path d="M311.002 413.559C311.002 415.768 312.793 417.559 315.002 417.559C317.211 417.559 319.002 415.768 319.002 413.559C319.002 411.349 317.211 409.559 315.002 409.559C312.793 409.559 311.002 411.349 311.002 413.559Z" fill="#4046B4"/>\n<path d="M312.002 413.559C312.002 411.902 313.345 410.559 315.002 410.559C316.659 410.559 318.002 411.902 318.002 413.559C318.002 415.215 316.659 416.559 315.002 416.559V417.559C317.211 417.559 319.002 415.768 319.002 413.559C319.002 411.349 317.211 409.559 315.002 409.559C312.793 409.559 311.002 411.349 311.002 413.559C311.002 415.768 312.793 417.559 315.002 417.559V416.559C313.345 416.559 312.002 415.215 312.002 413.559Z" fill="#4046B4"/>\n</g>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2_2" d="M506.998 421.417H505.998L505.998 417L506.998 417L506.998 421.417ZM506.998 439.083H505.998L505.998 430.25H506.998L506.998 439.083ZM506.998 456.75H505.998L505.998 447.917H506.998L506.998 456.75ZM506.998 470H505.998L505.998 465.583H506.998L506.998 470Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_3" d="M630.998 360.417H629.998L629.998 356L630.998 356L630.998 360.417ZM630.998 378.083H629.998L629.998 369.25H630.998L630.998 378.083ZM630.998 395.75H629.998L629.998 386.917H630.998L630.998 395.75ZM630.998 409H629.998L629.998 404.583H630.998L630.998 409Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_4" d="M382.998 360.417H381.998L381.998 356L382.998 356L382.998 360.417ZM382.998 378.083H381.998L381.998 369.25H382.998L382.998 378.083ZM382.998 395.75H381.998L381.998 386.917H382.998L382.998 395.75ZM382.998 409H381.998L381.998 404.583H382.998L382.998 409Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_5" d="M506.998 341.5H505.998L505.998 340L506.998 340V341.5ZM506.998 346H505.998L505.998 344.5H506.998L506.998 346Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2_6" d="M506.089 273.554L631.089 336.054L630.642 336.948L505.865 274.56L381.59 336.948L381.141 336.054L505.641 273.554L505.865 273.441L506.089 273.554Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent" d="M631.695 354.559L515.082 410.449L515.094 410.468L513.605 411.182L506.501 415.001V397.002H506.5V396.993L506.504 397.001L506.595 396.957L506.587 396.94L631.642 337.004L631.695 354.559Z" fill="#B3B5E1" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M506.343 396.914L506.34 396.919L506.498 396.995L506.499 396.991L506.5 396.993V414.999L499.523 411.249H499.473L499.471 411.253L381.413 354.671L381.359 337.012L506.343 396.914Z" fill="#9598D5" class="step-2 accent dim"/>\n<rect id="step-2-textbox" x="718.16796875" y="284.0625" width="278" height="110" class="step-2 textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="649.5" y="274.5" width="351" height="140" stroke="black" class="step-2 selection"/>\n<g id="step-2_7" class="step-2 accent">\n<path d="M695.998 338V339L566.998 339L566.998 338L695.998 338Z" fill="#4046B4"/>\n<path d="M703.998 339C703.998 341.209 702.207 343 699.998 343C697.789 343 695.998 341.209 695.998 339C695.998 336.791 697.789 335 699.998 335C702.207 335 703.998 336.791 703.998 339Z" fill="#4046B4"/>\n<path d="M702.998 339C702.998 337.343 701.655 336 699.998 336C698.341 336 696.998 337.343 696.998 339C696.998 340.657 698.341 342 699.998 342V343C697.789 343 695.998 341.209 695.998 339C695.998 336.791 697.789 335 699.998 335C702.207 335 703.998 336.791 703.998 339C703.998 341.209 702.207 343 699.998 343V342C701.655 342 702.998 340.657 702.998 339Z" fill="#4046B4"/>\n</g>\n<path id="step-2_8" d="M506.998 280.583H505.998L505.998 277L506.998 277L506.998 280.583ZM506.998 294.917H505.998L505.998 287.75H506.998L506.998 294.917ZM506.998 309.25H505.998L505.998 302.083H506.998L506.998 309.25ZM506.998 320H505.998L505.998 316.417H506.998L506.998 320Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3_2" d="M383 284.417H382L382 280L383 280L383 284.417ZM383 302.083H382L382 293.25H383L383 302.083ZM383 319.75H382L382 310.917H383L383 319.75ZM383 333H382L382 328.583H383L383 333Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_3" d="M631 284.417H630L630 280L631 280L631 284.417ZM631 302.083H630L630 293.25H631L631 302.083ZM631 319.75H630L630 310.917H631L631 319.75ZM631 333H630L630 328.583H631L631 333Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_4" d="M506.083 197.554L631.083 260.054L630.636 260.948L505.859 198.56L381.584 260.948L381.135 260.054L505.635 197.554L505.859 197.441L506.083 197.554Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent" d="M631.695 278.559L515.082 334.449L515.094 334.468L513.605 335.182L506.501 339.001V321.002H506.5V320.993L506.504 321.001L506.595 320.957L506.587 320.94L631.642 261.004L631.695 278.559Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M506.343 320.914L506.34 320.919L506.498 320.995L506.499 320.991L506.5 320.993V338.999L499.523 335.249H499.473L499.471 335.253L381.413 278.671L381.359 261.012L506.343 320.914Z" fill="#7075C7" class="step-3 accent dim"/>\n<rect id="step-3-textbox" x="10.16802978515625" y="207.0625" width="285" height="121" class="step-3 textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.5" y="198.5" width="351" height="140" stroke="black" class="step-3 selection"/>\n<g id="step-3_5" class="step-3 accent">\n<path d="M318.998 262V261H451.998V262H318.998Z" fill="#4046B4"/>\n<path d="M310.998 261C310.998 263.209 312.789 265 314.998 265C317.207 265 318.998 263.209 318.998 261C318.998 258.791 317.207 257 314.998 257C312.789 257 310.998 258.791 310.998 261Z" fill="#4046B4"/>\n<path d="M311.998 261C311.998 259.343 313.341 258 314.998 258C316.655 258 317.998 259.343 317.998 261C317.998 262.657 316.655 264 314.998 264V265C317.207 265 318.998 263.209 318.998 261C318.998 258.791 317.207 257 314.998 257C312.789 257 310.998 258.791 310.998 261C310.998 263.209 312.789 265 314.998 265V264C313.341 264 311.998 262.657 311.998 261Z" fill="#4046B4"/>\n</g>\n<path id="step-3_6" d="M507 203.583H506L506 200L507 200L507 203.583ZM507 217.917H506L506 210.75H507L507 217.917ZM507 232.25H506L506 225.083H507L507 232.25ZM507 243H506L506 239.417H507L507 243Z" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_7" d="M507 265.5H506L506 264L507 264V265.5ZM507 270H506L506 268.5H507L507 270Z" fill="#B3B5E1" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4_2" d="M382.998 205.562H381.998L381.998 202L382.998 202L382.998 205.562ZM382.998 219.812H381.998L381.998 212.688H382.998L382.998 219.812ZM382.998 234.062H381.998L381.998 226.938H382.998L382.998 234.062ZM382.998 248.312H381.998L381.998 241.188H382.998L382.998 248.312ZM382.998 259H381.998L381.998 255.438H382.998L382.998 259Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_3" d="M630.998 208.417H629.998L629.998 204L630.998 204L630.998 208.417ZM630.998 226.083H629.998L629.998 217.25H630.998L630.998 226.083ZM630.998 243.75H629.998L629.998 234.917H630.998L630.998 243.75ZM630.998 257H629.998L629.998 252.583H630.998L630.998 257Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_4" d="M506.089 121.554L631.089 184.054L630.642 184.948L505.865 122.56L381.59 184.948L381.141 184.054L505.641 121.554L505.865 121.441L506.089 121.554Z" fill="#666BC3" class="step-4 accent"/>\n<path id="step-4_5" d="M506.998 190.5H505.998L505.998 189L506.998 189V190.5ZM506.998 195H505.998L505.998 193.5H506.998L506.998 195Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4_6" d="M506.998 128.583H505.998L505.998 125L506.998 125L506.998 128.583ZM506.998 142.917H505.998L505.998 135.75H506.998L506.998 142.917ZM506.998 157.25H505.998L505.998 150.083H506.998L506.998 157.25ZM506.998 168H505.998L505.998 164.417H506.998L506.998 168Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent" d="M631.695 202.555L515.082 258.445L515.094 258.464L513.605 259.178L506.501 262.997V244.998H506.5V244.989L506.504 244.997L506.595 244.953L506.587 244.937L631.642 185L631.695 202.555Z" fill="#666BC3" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M506.343 244.914L506.34 244.919L506.498 244.995L506.499 244.991L506.5 244.993V262.999L499.523 259.249H499.473L499.471 259.253L381.413 202.671L381.359 185.012L506.343 244.914Z" fill="#484EB7" class="step-4 accent dim"/>\n<rect id="step-4-textbox" x="718.16796875" y="128.0625" width="278" height="110" class="step-4 textbox left" fill="#E5E5E5"/>\n<g id="step-4_7" class="step-4 accent">\n<path d="M696.008 183V184L567.008 184L567.008 183L696.008 183Z" fill="#4046B4"/>\n<path d="M704.008 184C704.008 186.209 702.217 188 700.008 188C697.799 188 696.008 186.209 696.008 184C696.008 181.791 697.799 180 700.008 180C702.217 180 704.008 181.791 704.008 184Z" fill="#4046B4"/>\n<path d="M703.008 184C703.008 182.343 701.665 181 700.008 181C698.351 181 697.008 182.343 697.008 184C697.008 185.657 698.351 187 700.008 187V188C697.799 188 696.008 186.209 696.008 184C696.008 181.791 697.799 180 700.008 180C702.217 180 704.008 181.791 704.008 184C704.008 186.209 702.217 188 700.008 188V187C701.665 187 703.008 185.657 703.008 184Z" fill="#4046B4"/>\n</g>\n<rect id="step-4-selection" x="650.5" y="109.5" width="351" height="140" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5_2" d="M631.004 133.417H630.004L630.004 129L631.004 129L631.004 133.417ZM631.004 151.083H630.004L630.004 142.25H631.004L631.004 151.083ZM631.004 168.75H630.004L630.004 159.917H631.004L631.004 168.75ZM631.004 182H630.004L630.004 177.583H631.004L631.004 182Z" fill="#B3B5E1" class="step-5 accent"/>\n<path id="step-5_3" d="M383.004 133.417H382.004L382.004 129L383.004 129L383.004 133.417ZM383.004 151.083H382.004L382.004 142.25H383.004L383.004 151.083ZM383.004 168.75H382.004L382.004 159.917H383.004L383.004 168.75ZM383.004 182H382.004L382.004 177.583H383.004L383.004 182Z" fill="#B3B5E1" class="step-5 accent"/>\n<path id="step-5-accent" d="M631.699 127.555L515.086 183.445L515.098 183.464L513.609 184.178L506.505 187.997V169.998H506.504V169.989L506.508 169.997L506.599 169.953L506.591 169.937L631.646 110L631.699 127.555Z" fill="#4046B4" class="step-5 accent"/>\n<path id="step-5-accent_2" d="M506.347 169.914L506.344 169.919L506.502 169.995L506.503 169.991L506.504 169.993V187.999L499.527 184.249H499.477L499.475 184.253L381.417 127.671L381.363 110.012L506.347 169.914Z" fill="#363B96" class="step-5 accent dim"/>\n<rect id="step-5-textbox" x="10.171875" y="57.0625" width="285" height="121" class="step-5 textbox right" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="1.504000000000019" y="47.5" width="351" height="140" stroke="black" class="step-5 selection"/>\n<path id="step-5_4" d="M506.731 47.5537L631.731 110.054L631.284 110.948L506.508 48.5596L382.232 110.948L381.783 110.054L506.283 47.5537L506.508 47.4414L506.731 47.5537Z" fill="#4046B4" class="step-5 accent"/>\n<g id="step-5-accent_3" class="step-5 accent">\n<path d="M319.004 111V110H452.004V111H319.004Z" fill="#4046B4"/>\n<path d="M311.004 110C311.004 112.209 312.795 114 315.004 114C317.213 114 319.004 112.209 319.004 110C319.004 107.791 317.213 106 315.004 106C312.795 106 311.004 107.791 311.004 110Z" fill="#4046B4"/>\n<path d="M312.004 110C312.004 108.343 313.347 107 315.004 107C316.661 107 318.004 108.343 318.004 110C318.004 111.657 316.661 113 315.004 113V114C317.213 114 319.004 112.209 319.004 110C319.004 107.791 317.213 106 315.004 106C312.795 106 311.004 107.791 311.004 110C311.004 112.209 312.795 114 315.004 114V113C313.347 113 312.004 111.657 312.004 110Z" fill="#4046B4"/>\n</g>\n<path id="step-5_5" d="M507.008 52.6504H506.008V49H507.008V52.6504ZM507.008 67.25H506.008V59.9502H507.008V67.25ZM507.008 81.8496H506.008V74.5498H507.008V81.8496ZM507.008 96.4502H506.008V89.1504H507.008V96.4502ZM507.008 111.05H506.008V103.75H507.008V111.05ZM507.008 122H506.008V118.35H507.008V122Z" fill="#B3B5E1" class="step-5 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t8="isometric_dashed_squares",ne={key:t8,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,2,5),s=t7.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:t8,svgScalingFactor:ne.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"dzV3Pu"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/isometric_dashed_squares.ddbbc378.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.Nfw,defaultColorScheme:"monochrome",stepSvgData:t7,formattingMenu:G,defaultData:()=>w(t7),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nt=new Map(Object.entries({isometric_globe_2:'<svg class="isometric_globe-frame" width="931.0275" height="197.28825000000003" viewBox="34.26359375 172.15812499999998 931.0275 197.28825000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_globe-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M306.452 227.415C306.153 227.044 305.668 227.044 305.369 227.415L300.494 233.465C300.195 233.836 300.195 234.438 300.494 234.809L305.369 240.858C305.668 241.229 306.153 241.23 306.452 240.858C306.751 240.487 306.751 239.886 306.452 239.514L302.885 235.087H336.27V233.186H302.885L306.452 228.759C306.751 228.388 306.751 227.786 306.452 227.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="52.16796875" y="190.0625" width="223" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="45.5" y="184.5" width="239" height="99" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent_2" d="M592.307 229.469C592.34 229.837 592.36 230.207 592.36 230.578C592.359 250.13 546.193 265.98 489.245 265.98C432.297 265.98 386.131 250.13 386.131 230.578C386.131 230.207 386.149 229.837 386.182 229.469C387.892 244.837 433.379 257.149 489.245 257.149C545.111 257.149 590.598 244.837 592.307 229.469Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<ellipse id="step-1-accent_3" cx="489.449" cy="228.632" rx="103.343" ry="28.6319" fill="#D9DAF0" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M700.818 293.415C701.117 293.044 701.602 293.044 701.901 293.415L706.776 299.465C707.075 299.836 707.075 300.438 706.776 300.809L701.901 306.858C701.602 307.229 701.117 307.23 700.818 306.858C700.519 306.487 700.519 305.886 700.818 305.514L704.385 301.087H671V299.186H704.385L700.818 294.759C700.519 294.388 700.519 293.786 700.818 293.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="724.38671875" y="257.0625" width="223" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="717.5" y="250.5" width="239" height="99" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent_2" d="M658.556 302.453C658.595 302.877 658.616 303.303 658.616 303.729C658.616 330.136 582.79 351.542 489.256 351.542C395.721 351.542 319.895 330.136 319.895 303.729C319.895 303.303 319.915 302.877 319.954 302.453C322.352 323.292 397.233 340.018 489.256 340.018C581.278 340.018 656.157 323.292 658.556 302.453Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_3" d="M573.643 267.955C624.429 274.618 658.621 287.113 658.622 301.426C658.622 322.742 582.796 340.023 489.261 340.023C395.726 340.023 319.9 322.742 319.9 301.426C319.901 287.371 352.869 275.072 402.143 268.323C451.417 261.575 451.949 264.871 487.739 265.766C523.528 264.424 542.318 263.845 573.643 267.955Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n</g>\n</svg>\n',isometric_globe_3:'<svg class="isometric_globe-frame" width="988.2275" height="284.17725" viewBox="5.16359375 129.058125 988.2275 284.17725" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_globe-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M333.452 185.415C333.153 185.044 332.668 185.044 332.369 185.415L327.494 191.465C327.195 191.836 327.195 192.438 327.494 192.809L332.369 198.858C332.668 199.229 333.153 199.23 333.452 198.858C333.751 198.487 333.751 197.886 333.452 197.514L329.885 193.087H363.27V191.186H329.885L333.452 186.759C333.751 186.388 333.751 185.786 333.452 185.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79.16796875" y="148.0625" width="223" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="72.5" y="142.5" width="239" height="99" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent_2" d="M619.307 187.469C619.34 187.837 619.36 188.207 619.36 188.578C619.359 208.13 573.193 223.98 516.245 223.98C459.297 223.98 413.131 208.13 413.131 188.578C413.131 188.207 413.149 187.837 413.182 187.469C414.892 202.837 460.379 215.149 516.245 215.149C572.111 215.149 617.598 202.837 619.307 187.469Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<ellipse id="step-1-accent_3" cx="516.449" cy="186.632" rx="103.343" ry="28.6319" fill="#D9DAF0" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M727.818 251.415C728.117 251.044 728.602 251.044 728.901 251.415L733.776 257.465C734.075 257.836 734.075 258.438 733.776 258.809L728.901 264.858C728.602 265.229 728.117 265.23 727.818 264.858C727.519 264.487 727.519 263.886 727.818 263.514L731.385 259.087H698V257.186H731.385L727.818 252.759C727.519 252.388 727.519 251.786 727.818 251.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="751.38671875" y="215.0625" width="223" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="744.5" y="208.5" width="239" height="99" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent_2" d="M685.556 260.453C685.595 260.877 685.616 261.303 685.616 261.729C685.616 288.136 609.79 309.542 516.256 309.542C422.721 309.542 346.895 288.136 346.895 261.729C346.895 261.303 346.915 260.877 346.954 260.453C349.352 281.292 424.233 298.018 516.256 298.018C608.278 298.018 683.157 281.292 685.556 260.453Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_3" d="M600.643 225.955C651.429 232.618 685.621 245.113 685.622 259.426C685.622 280.742 609.796 298.023 516.261 298.023C422.726 298.023 346.9 280.742 346.9 259.426C346.901 245.371 379.869 233.072 429.143 226.323C478.417 219.575 478.949 222.871 514.739 223.766C550.528 222.424 569.318 221.845 600.643 225.955Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M273.452 328.415C273.153 328.044 272.668 328.044 272.369 328.415L267.494 334.465C267.195 334.836 267.195 335.438 267.494 335.809L272.369 341.858C272.668 342.229 273.153 342.23 273.452 341.858C273.751 341.487 273.751 340.886 273.452 340.514L269.885 336.087H303.27V334.186H269.885L273.452 329.759C273.751 329.388 273.751 328.786 273.452 328.415Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="24.16796875" y="292.0625" width="223" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="17.5" y="285.5" width="239" height="99" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent_2" d="M720.927 334.957C720.975 335.469 721 335.982 721 336.498C720.999 368.382 629.442 394.231 516.5 394.231C403.558 394.231 312.001 368.382 312 336.498C312 335.982 312.024 335.469 312.072 334.957C314.962 360.121 405.381 380.319 516.5 380.319C627.619 380.319 718.037 360.121 720.927 334.957Z" fill="#7075C7" class="step-3 accent dim"/>\n<path id="step-3-accent_3" d="M367.145 301.884C394.764 295.157 396.553 295.235 417.58 299.818C452.475 307.424 477.528 308.32 518.239 309.215C565.213 308.32 588.029 305.166 613.977 300.714C635.898 295.345 630.529 293.556 666.767 300.711C700.509 309.022 721 321.503 721 333.718C721 359.457 629.442 380.322 516.5 380.322C403.558 380.322 312 359.457 312 333.718C312 321.409 332.94 310.215 367.145 301.884Z" fill="#8C90D2" class="step-3 accent"/>\n</g>\n</g>\n</svg>\n',isometric_globe_4:'<svg class="isometric_globe-frame" width="988.2275" height="368.64825" viewBox="5.16359375 87.058125 988.2275 368.64825" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_globe-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M333.452 143.415C333.153 143.044 332.668 143.044 332.369 143.415L327.494 149.465C327.195 149.836 327.195 150.438 327.494 150.809L332.369 156.858C332.668 157.229 333.153 157.23 333.452 156.858C333.751 156.487 333.751 155.886 333.452 155.514L329.885 151.087H363.27V149.186H329.885L333.452 144.759C333.751 144.388 333.751 143.786 333.452 143.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79.16796875" y="106.0625" width="223" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="72.5" y="100.5" width="239" height="99" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent_2" d="M619.307 145.469C619.34 145.837 619.36 146.207 619.36 146.578C619.359 166.13 573.193 181.98 516.245 181.98C459.297 181.98 413.131 166.13 413.131 146.578C413.131 146.207 413.149 145.837 413.182 145.469C414.892 160.837 460.379 173.149 516.245 173.149C572.111 173.149 617.598 160.837 619.307 145.469Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<ellipse id="step-1-accent_3" cx="516.449" cy="144.632" rx="103.343" ry="28.6319" fill="#D9DAF0" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M727.818 209.415C728.117 209.044 728.602 209.044 728.901 209.415L733.776 215.465C734.075 215.836 734.075 216.438 733.776 216.809L728.901 222.858C728.602 223.229 728.117 223.23 727.818 222.858C727.519 222.487 727.519 221.886 727.818 221.514L731.385 217.087H698V215.186H731.385L727.818 210.759C727.519 210.388 727.519 209.786 727.818 209.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="751.38671875" y="173.0625" width="223" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="744.5" y="166.5" width="239" height="99" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent_2" d="M685.556 218.453C685.595 218.877 685.616 219.303 685.616 219.729C685.616 246.136 609.79 267.542 516.256 267.542C422.721 267.542 346.895 246.136 346.895 219.729C346.895 219.303 346.915 218.877 346.954 218.453C349.352 239.292 424.233 256.018 516.256 256.018C608.278 256.018 683.157 239.292 685.556 218.453Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_3" d="M600.643 183.955C651.429 190.618 685.621 203.113 685.622 217.426C685.622 238.742 609.796 256.023 516.261 256.023C422.726 256.023 346.9 238.742 346.9 217.426C346.901 203.371 379.869 191.072 429.143 184.323C478.417 177.575 478.949 180.871 514.739 181.766C550.528 180.424 569.318 179.845 600.643 183.955Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M273.452 286.415C273.153 286.044 272.668 286.044 272.369 286.415L267.494 292.465C267.195 292.836 267.195 293.438 267.494 293.809L272.369 299.858C272.668 300.229 273.153 300.23 273.452 299.858C273.751 299.487 273.751 298.886 273.452 298.514L269.885 294.087H303.27V292.186H269.885L273.452 287.759C273.751 287.388 273.751 286.786 273.452 286.415Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="24.16796875" y="250.0625" width="223" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="17.5" y="243.5" width="239" height="99" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent_2" d="M720.927 292.957C720.975 293.469 721 293.982 721 294.498C720.999 326.382 629.442 352.231 516.5 352.231C403.558 352.231 312.001 326.382 312 294.498C312 293.982 312.024 293.469 312.072 292.957C314.962 318.121 405.381 338.319 516.5 338.319C627.619 338.319 718.037 318.121 720.927 292.957Z" fill="#7075C7" class="step-3 accent dim"/>\n<path id="step-3-accent_3" d="M367.145 259.884C394.764 253.157 396.553 253.235 417.58 257.818C452.475 265.424 477.528 266.32 518.239 267.215C565.213 266.32 588.029 263.166 613.977 258.714C635.898 253.345 630.529 251.556 666.767 258.711C700.509 267.022 721 279.503 721 291.718C721 317.457 629.442 338.322 516.5 338.322C403.558 338.322 312 317.457 312 291.718C312 279.409 332.94 268.215 367.145 259.884Z" fill="#8C90D2" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M727.818 379.415C728.117 379.044 728.602 379.044 728.901 379.415L733.776 385.465C734.075 385.836 734.075 386.438 733.776 386.809L728.901 392.858C728.602 393.229 728.117 393.23 727.818 392.858C727.519 392.487 727.519 391.886 727.818 391.514L731.385 387.087H698V385.186H731.385L727.818 380.759C727.519 380.388 727.519 379.786 727.818 379.415Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="751.38671875" y="343.0625" width="223" height="84" class="step-4 card textbox left" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="744.5" y="336.5" width="239" height="99" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent_2" d="M685.555 387.613C685.594 388.037 685.615 388.463 685.615 388.89C685.615 415.296 609.79 436.702 516.255 436.702C422.72 436.702 346.895 415.296 346.895 388.89C346.895 388.463 346.914 388.037 346.953 387.613C349.352 408.452 424.233 425.178 516.255 425.178C608.277 425.177 683.156 408.452 685.555 387.613Z" fill="#484EB7" class="step-4 accent dim"/>\n<path id="step-4-accent_3" d="M378.971 363.981C436.254 345.057 467.57 350.425 516.333 351.768C581.758 353.57 579.86 340.527 654.055 364.144C673.922 370.468 685.616 378.216 685.616 386.586C685.616 407.902 609.79 425.183 516.255 425.183C422.72 425.183 346.895 407.902 346.895 386.586C346.895 378.144 358.882 370.618 378.971 363.981Z" fill="#666BC3" class="step-4 accent"/>\n</g>\n</g>\n</svg>\n',isometric_globe_5:'<svg class="isometric_globe-frame" width="988.2275" height="431.00875" viewBox="5.16359375 50.058125000000004 988.2275 431.00875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="isometric_globe-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M333.452 106.415C333.153 106.044 332.668 106.044 332.369 106.415L327.494 112.465C327.195 112.836 327.195 113.438 327.494 113.809L332.369 119.858C332.668 120.229 333.153 120.23 333.452 119.858C333.751 119.487 333.751 118.886 333.452 118.514L329.885 114.087L363.27 114.087V112.186L329.885 112.186L333.452 107.759C333.751 107.388 333.751 106.786 333.452 106.415Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79.16796875" y="69.0625" width="223" height="84" class="step-1 card textbox right" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="72.5" y="63.5" width="239" height="99" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent_2" d="M619.307 108.469C619.34 108.837 619.36 109.207 619.36 109.578C619.359 129.13 573.193 144.98 516.245 144.98C459.297 144.98 413.131 129.13 413.131 109.578C413.131 109.207 413.149 108.837 413.182 108.469C414.892 123.837 460.379 136.149 516.245 136.149C572.111 136.149 617.598 123.837 619.307 108.469Z" fill="#BDBFE5" class="step-1 accent dim"/>\n<ellipse id="step-1-accent_3" cx="516.449" cy="107.632" rx="103.343" ry="28.6319" fill="#D9DAF0" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M727.818 172.415C728.117 172.044 728.602 172.044 728.901 172.415L733.776 178.465C734.075 178.836 734.075 179.438 733.776 179.809L728.901 185.858C728.602 186.229 728.117 186.23 727.818 185.858C727.519 185.487 727.519 184.886 727.818 184.514L731.385 180.087H698V178.186H731.385L727.818 173.759C727.519 173.388 727.519 172.786 727.818 172.415Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="751.38671875" y="136.0625" width="223" height="84" class="step-2 card textbox left" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="744.5" y="129.5" width="239" height="99" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent_2" d="M685.556 181.453C685.595 181.877 685.616 182.303 685.616 182.729C685.616 209.136 609.79 230.542 516.256 230.542C422.721 230.542 346.895 209.136 346.895 182.729C346.895 182.303 346.915 181.877 346.954 181.453C349.352 202.292 424.233 219.018 516.256 219.018C608.278 219.018 683.157 202.292 685.556 181.453Z" fill="#9598D5" class="step-2 accent dim"/>\n<path id="step-2-accent_3" d="M600.643 146.955C651.429 153.618 685.621 166.113 685.622 180.426C685.622 201.742 609.796 219.023 516.261 219.023C422.726 219.023 346.9 201.742 346.9 180.426C346.901 166.371 379.869 154.072 429.143 147.323C478.417 140.575 478.949 143.871 514.739 144.766C550.528 143.424 569.318 142.845 600.643 146.955Z" fill="#B3B5E1" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M273.452 249.415C273.153 249.044 272.668 249.044 272.369 249.415L267.494 255.465C267.195 255.836 267.195 256.438 267.494 256.809L272.369 262.858C272.668 263.229 273.153 263.23 273.452 262.858C273.751 262.487 273.751 261.886 273.452 261.514L269.885 257.087H303.27V255.186H269.885L273.452 250.759C273.751 250.388 273.751 249.786 273.452 249.415Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="24.16796875" y="213.0625" width="223" height="84" class="step-3 card textbox right" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="17.5" y="206.5" width="239" height="99" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent_2" d="M720.927 255.957C720.975 256.469 721 256.982 721 257.498C720.999 289.382 629.442 315.231 516.5 315.231C403.558 315.231 312.001 289.382 312 257.498C312 256.982 312.024 256.469 312.072 255.957C314.962 281.121 405.381 301.319 516.5 301.319C627.619 301.319 718.037 281.121 720.927 255.957Z" fill="#7075C7" class="step-3 accent dim"/>\n<path id="step-3-accent_3" d="M367.145 222.884C394.764 216.157 396.553 216.234 417.58 220.818C452.475 228.424 477.528 229.32 518.239 230.215C565.213 229.32 588.029 226.166 613.977 221.713C635.898 216.345 630.529 214.556 666.767 221.711C700.509 230.022 721 242.503 721 254.718C721 280.457 629.442 301.322 516.5 301.322C403.558 301.322 312 280.457 312 254.718C312 242.409 332.94 231.215 367.145 222.884Z" fill="#8C90D2" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M727.818 342.415C728.117 342.044 728.602 342.044 728.901 342.415L733.776 348.465C734.075 348.836 734.075 349.438 733.776 349.809L728.901 355.858C728.602 356.229 728.117 356.23 727.818 355.858C727.519 355.487 727.519 354.886 727.818 354.514L731.385 350.087H698V348.186H731.385L727.818 343.759C727.519 343.388 727.519 342.786 727.818 342.415Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="751.38671875" y="306.0625" width="223" height="84" class="step-4 card textbox left" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="744.5" y="299.5" width="239" height="99" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent_2" d="M685.555 350.613C685.594 351.037 685.615 351.463 685.615 351.89C685.615 378.296 609.79 399.702 516.255 399.702C422.72 399.702 346.895 378.296 346.895 351.89C346.895 351.463 346.914 351.037 346.953 350.613C349.352 371.452 424.233 388.178 516.255 388.178C608.277 388.177 683.156 371.452 685.555 350.613Z" fill="#484EB7" class="step-4 accent dim"/>\n<path id="step-4-accent_3" d="M378.971 326.981C436.254 308.057 467.57 313.425 516.333 314.768C581.758 316.57 579.86 303.527 654.055 327.144C673.922 333.468 685.616 341.216 685.616 349.586C685.616 370.902 609.79 388.183 516.255 388.183C422.72 388.183 346.895 370.902 346.895 349.586C346.895 341.144 358.882 333.618 378.971 326.981Z" fill="#666BC3" class="step-4 accent"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5-accent" d="M371.452 415.415C371.153 415.044 370.668 415.044 370.369 415.415L365.494 421.465C365.195 421.836 365.195 422.438 365.494 422.809L370.369 428.858C370.668 429.229 371.153 429.23 371.452 428.858C371.751 428.487 371.751 427.886 371.452 427.514L367.885 423.087H401.27V421.186H367.885L371.452 416.759C371.751 416.388 371.751 415.786 371.452 415.415Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="120.16796875" y="378.0625" width="223" height="84" class="step-5 card textbox right" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="113.5" y="372.5" width="239" height="99" stroke="black" class="step-5 selection"/>\n<path id="step-5-accent_2" d="M619.282 422.441C619.315 422.809 619.334 423.179 619.334 423.549C619.334 443.101 573.168 458.952 516.22 458.952C459.271 458.951 413.105 443.101 413.105 423.549C413.105 423.179 413.124 422.809 413.157 422.441C414.861 437.81 460.351 450.125 516.22 450.125C572.088 450.125 617.577 437.81 619.282 422.441Z" fill="#363B96" class="step-5 accent dim"/>\n<path id="step-5-accent_3" d="M604.219 406.647C613.808 410.985 619.336 416.087 619.336 421.547C619.336 437.327 573.17 450.119 516.222 450.119C459.273 450.119 413.108 437.327 413.107 421.547C413.107 416.148 418.513 411.099 427.905 406.792C456.67 396.318 485.5 398.5 517.5 399.501C549.5 398.5 570.303 395.424 604.219 406.647Z" fill="#4046B4" class="step-5 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nn="isometric_globe",ni={key:nn,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,2,5),s=nt.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nn,svgScalingFactor:ni.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"emdrzk"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/isometric_globe.c842e6b6.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:nt,formattingMenu:G,defaultData:()=>w(nt),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},na=new Map(Object.entries({nested_diamond_4:'<svg class="nested_diamond-frame" width="983.8442510002498" height="483.64857269500965" viewBox="9.07983074975514 26.079943249995196 983.8442510002498 483.64857269500965" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-background-neutral" d="M262.365 50.9297C261.571 50.9297 260.783 50.9565 260.004 51.0098L354.325 144.93H942.654C959.968 144.93 974.004 132.046 974.004 116.154V79.7052C974.004 63.8129 959.968 50.9297 942.654 50.9297H262.365Z" fill="#FAF5EB" class="step-4 background neutral"/>\n<path id="step-4-accent" d="M253.271 46.4644C251.318 44.5119 248.152 44.5119 246.2 46.4644L29.4644 263.2C27.5117 265.152 27.5118 268.318 29.4644 270.271L74.8999 315.706C73.5213 313.754 73.7039 311.037 75.4507 309.291L246.298 138.443C248.251 136.491 251.416 136.491 253.369 138.443L424.216 309.291C425.813 310.888 426.104 313.296 425.088 315.189L470.006 270.271C471.959 268.318 471.959 265.152 470.006 263.2L253.271 46.4644Z" fill="#DAE8F3" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-4 card textbox left" x="486.004" y="75.9297"/>\n<rect id="step-4-accent-icon" width="32.00000000000003" height="32" fill="#2B3541" class="step-4 icon accent" x="234.004" y="81.93"/>\n<rect id="step-4-selection" x="222.50400000000002" y="51.4297" width="741" height="93" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-background-neutral" d="M468.012 257.93H942.165C959.749 257.93 974.004 245.046 974.004 229.154V192.706C974.004 176.814 959.749 163.93 942.165 163.93H373.004L468.012 257.93Z" fill="#FAF5EB" class="step-3 background neutral"/>\n<path id="step-3-accent" d="M253.431 141.425C251.479 139.473 248.314 139.473 246.361 141.425L77.0993 310.687C75.1473 312.639 75.1472 315.805 77.0993 317.757L121.921 362.577C121.016 360.714 121.335 358.405 122.883 356.858L246.303 233.437C248.256 231.484 251.422 231.484 253.375 233.437L376.796 356.858C378.41 358.472 378.689 360.914 377.635 362.816L422.693 317.757C424.645 315.805 424.645 312.639 422.693 310.687L253.431 141.425Z" fill="#B4D0E8" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-3 card textbox left" x="486.004" y="188.93"/>\n<rect id="step-3-accent-icon" width="32.00000000000003" height="32" fill="#2B3541" class="step-3 icon accent" x="234.004" y="179.93"/>\n<rect id="step-3-selection" x="222.50400000000002" y="164.43" width="741" height="93" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-background-neutral" d="M373.004 370.93H942.133C959.735 370.93 974.004 358.046 974.004 342.154V305.705C974.004 289.813 959.735 276.93 942.133 276.93H467.117L373.004 370.93Z" fill="#FAF5EB" class="step-2 background neutral"/>\n<path id="step-2-accent" d="M253.374 236.255C251.422 234.303 248.257 234.303 246.304 236.255L124.292 358.267C122.34 360.22 122.34 363.386 124.292 365.338L246.304 487.35C248.257 489.302 251.422 489.302 253.374 487.35L375.386 365.338C377.339 363.386 377.339 360.22 375.386 358.267L253.374 236.255ZM246.288 330.451C248.241 328.498 251.407 328.498 253.36 330.451L328.231 405.323C330.183 407.275 330.183 410.441 328.231 412.394L253.36 487.265C251.407 489.218 248.241 489.218 246.288 487.265L171.416 412.394C169.464 410.441 169.464 407.275 171.416 405.323L246.288 330.451Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-2 card textbox left" x="486.004" y="301.93"/>\n<rect id="step-2-accent-icon" width="32.00000000000003" height="32" fill="#2B3541" class="step-2 icon accent" x="234.004" y="276.93"/>\n<rect id="step-2-selection" x="222.50400000000002" y="270.43" width="741" height="100" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-background-neutral" d="M260.121 483.67C260.083 483.705 260.042 483.737 260.004 483.771C261.085 483.875 262.183 483.93 263.295 483.93H942.695C959.986 483.93 974.004 471.046 974.004 455.154V418.705C974.004 402.813 959.987 389.93 942.695 389.93H354.112L260.121 483.67Z" fill="#FAF5EB" class="step-1 background neutral"/>\n<path d="M327.17046500000004,406.390465L253.35910080500003,332.579100805Q249.82356580500002,329.04356580499996,249.82356580500002,329.04356580499996L168.94113161,409.926Q168.94113161,409.926,172.47666661,413.46153499999997L246.288030805,487.272899195Q249.82356580500002,490.808434195,249.82356580500002,490.808434195L330.706,409.926Q330.706,409.926,327.17046500000004,406.390465" id="step-1-accent" class="step-1 accent" fill="#448AC5"/>\n<rect id="step-1-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-1 card textbox left" x="487.004" y="414.93"/>\n<rect id="step-1-accent-icon" width="32.00000000000003" height="32" fill="#2B3541" class="step-1 icon accent" x="234.004" y="389.93"/>\n<rect id="step-1-selection" x="222.50400000000002" y="382.43" width="741" height="101" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_2:'<svg class="nested_diamond-frame" width="788.3823999999997" height="284.4681500000022" viewBox="106.83880000000023 125.83880000000012 788.3823999999997 284.4681500000022" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond-frame">\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M279.06 372.018H848.241C865.814 372.018 880.059 359.134 880.06 343.242V306.793C880.06 290.901 865.814 278.018 848.241 278.018H374L279.06 372.018Z" fill="#FAF5EB" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M326.343 319.87C328.295 317.918 328.295 314.752 326.343 312.799L252.531 238.988C250.579 237.035 247.413 237.035 245.46 238.988L171.649 312.799C169.696 314.752 169.696 317.918 171.649 319.87L245.46 393.681C247.413 395.634 250.579 395.634 252.531 393.681L326.343 319.87Z" fill="#448AC5" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="464" height="45" fill="#2B3541" class="step-2 card textbox left" x="389" y="301"/>\n<rect id="step-2-accent-icon" width="32" height="32" fill="#2B3541" class="step-2 icon accent" x="233" y="308"/>\n<rect id="step-2-selection" x="221.5" y="288.5" width="642" height="69" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M374.008 259H848.161C865.745 259 880 246.117 880 230.225V193.776C880 177.884 865.745 165 848.161 165H280L374.008 259Z" fill="#FAF5EB" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M252.546 142.464C250.594 140.512 247.429 140.512 245.476 142.464L123.464 264.476C121.512 266.429 121.512 269.595 123.464 271.547L245.476 393.559C247.428 395.511 250.594 395.511 252.546 393.559L374.558 271.547C376.511 269.595 376.511 266.429 374.558 264.476L252.546 142.464ZM245.46 236.66C247.413 234.707 250.579 234.707 252.532 236.66L327.403 311.532C329.355 313.484 329.355 316.65 327.403 318.603L252.532 393.474C250.579 395.427 247.413 395.427 245.46 393.474L170.588 318.603C168.636 316.65 168.636 313.484 170.588 311.532L245.46 236.66Z" fill="#69A1D1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="464" height="45" fill="#2B3541" class="step-1 card textbox left" x="389" y="186"/>\n<rect id="step-1-accent-icon" width="32" height="32" fill="#2B3541" class="step-1 icon accent" x="233" y="193"/>\n<rect id="step-1-selection" x="221.5" y="176.5" width="642" height="64" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_3:'<svg class="nested_diamond-frame" width="944.3194540000002" height="387.15142569524016" viewBox="56.84053549999996 74.83999799975989 944.3194540000002 387.15142569524016" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond-frame">\n<g id="step-3" class="step-3">\n<path id="step-3-background-neutral" d="M273.354 108C272.563 108 271.777 108.027 271 108.08L366.034 202H951.738C969.004 202 983 189.117 983 173.224V136.776C983 120.883 969.004 108 951.738 108H273.354Z" fill="#FAF5EB" class="step-3 background neutral"/>\n<path id="step-3-accent" d="M252.797 94.4641C250.844 92.512 247.679 92.5119 245.726 94.4641L76.4646 263.726C74.5125 265.678 74.5125 268.844 76.4646 270.796L121.286 315.616C120.381 313.753 120.7 311.444 122.248 309.897L245.669 186.476C247.621 184.523 250.787 184.523 252.74 186.476L376.161 309.897C377.775 311.511 378.054 313.953 377 315.855L422.058 270.796C424.011 268.844 424.01 265.678 422.058 263.726L252.797 94.4641Z" fill="#B4D0E8" class="step-3 accent"/>\n<rect id="step-3-accent-icon" width="32" height="32" fill="#2B3541" class="step-3 icon accent" x="233" y="137"/>\n<rect id="step-3-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-3 card textbox left" x="462" y="133"/>\n<rect id="step-3-selection" x="221.5" y="108.5" width="732" height="87" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-background-neutral" d="M427.027 263.465C428.5 265 429 268.5 427.027 270.535L384 314H951.206C968.765 314 983 301.118 983 285.227V248.773C983 232.882 968.765 220 951.206 220H383L427.027 263.465Z" fill="#FAF5EB" class="step-2 background neutral"/>\n<path id="step-2-accent" d="M252.74 189.294C250.787 187.342 247.622 187.342 245.669 189.294L123.658 311.306C121.705 313.259 121.705 316.425 123.658 318.377L245.669 440.389C247.622 442.341 250.787 442.341 252.74 440.389L374.751 318.377C376.704 316.425 376.704 313.259 374.751 311.306L252.74 189.294ZM245.654 283.49C247.606 281.537 250.772 281.537 252.725 283.49L327.596 358.362C329.549 360.314 329.549 363.48 327.596 365.433L252.725 440.304C250.772 442.257 247.606 442.257 245.654 440.304L170.782 365.433C168.829 363.48 168.829 360.314 170.782 358.362L245.654 283.49Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-2 card textbox left" x="462" y="245"/>\n<rect id="step-2-accent-icon" width="32" height="32" fill="#2B3541" class="step-2 icon accent" x="233" y="230"/>\n<rect id="step-2-selection" x="221.5" y="218.5" width="732" height="95" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-background-neutral" d="M270 427C269.962 427.035 273.038 426.968 273 427.002C274.08 427.106 277.176 427.002 273.286 427.002H951.735C969.002 427.002 983 414.119 983 398.226V361.777C983 345.885 969.002 333.002 951.735 333.002H365.965L270 427Z" fill="#FAF5EB" class="step-1 background neutral"/>\n<path d="M326.53546500000004,359.41346500000003L252.72410080500003,285.602100805Q249.18856580500002,282.066565805,249.18856580500002,282.066565805L168.30613161000002,362.949Q168.30613161000002,362.949,171.84166661,366.484535L245.65303080500001,440.295899195Q249.18856580500002,443.83143419500004,249.18856580500002,443.83143419500004L330.071,362.949Q330.071,362.949,326.53546500000004,359.41346500000003" id="step-1-accent" class="step-1 accent" fill="#448AC5"/>\n<rect id="step-1-card-textbox-left" width="464" height="44" fill="#2B3541" class="step-1 card textbox left" x="462" y="358"/>\n<rect id="step-1-accent-icon" width="32" height="32" fill="#2B3541" class="step-1 icon accent" x="233" y="348"/>\n<rect id="step-1-selection" x="221.5" y="335.5" width="732" height="91" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nr="nested_diamond",ns={key:nr,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,2,4),s=na.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nr,svgScalingFactor:ns.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"C5zvEL"}),icon:a.euE,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/nested_diamonds.fbef844a.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:na,formattingMenu:G,defaultData:()=>w(na),defaultColorScheme:"monochrome",svgScalingFactor:1},nl=new Map(Object.entries({orbit_2:'<svg class="orbit-frame" width="989.04" height="563.04" viewBox="9.98 -11.02 989.04 563.04" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="orbit-frame">\n<g id="general-1" class="general-1 accent">\n<path id="general-1-accent" d="M343 270.5C343 357.485 413.515 428 500.5 428C587.485 428 658 357.485 658 270.5C658 183.515 587.485 113 500.5 113C413.515 113 343 183.515 343 270.5Z" fill="#DAE8F3" class="general-1 accent"/>\n<rect id="general-1-card-textbox" x="388.1689453125" y="216.0625" width="224" height="108" class="general-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<path id="general-5-no-border" d="M312 375.5C312 364.73 320.73 356 331.5 356C342.27 356 351 364.73 351 375.5C351 386.27 342.27 395 331.5 395V397C343.374 397 353 387.374 353 375.5C353 363.626 343.374 354 331.5 354C319.626 354 310 363.626 310 375.5C310 387.374 319.626 397 331.5 397V395C320.73 395 312 386.27 312 375.5Z" fill="#DAE8F3" class="general-5 no-border accent"/>\n<path id="general-4-no-border" d="M660 128.5C660 116.811 650.672 107.301 639.055 107.007L638.5 107C626.626 107 617 116.626 617 128.5C617 140.374 626.626 150 638.5 150V152C625.521 152 615 141.479 615 128.5C615 115.521 625.521 105 638.5 105C651.479 105 662 115.521 662 128.5C662 141.479 651.479 152 638.5 152V150C650.374 150 660 140.374 660 128.5Z" fill="#DAE8F3" class="general-4 no-border accent"/>\n<path id="general-6-no-border" d="M301.999 291C304.337 314.41 310.713 336.629 320.421 356.953C319.839 357.295 319.275 357.663 318.73 358.057C308.832 337.406 302.342 314.811 299.988 291H301.999ZM500.9 69C547.683 69.0001 590.747 84.914 624.98 111.62C624.447 112.042 623.932 112.487 623.441 112.956C589.597 86.6601 547.078 71.0001 500.9 71C426.549 71 361.68 111.593 327.242 171.824C326.884 171.144 326.494 170.484 326.074 169.845C360.999 109.555 426.213 69 500.9 69Z" fill="#DAE8F3" class="general-6 no-border accent"/>\n<path id="general-3-no-border" d="M251.8 291C253.073 307.287 255.847 323.151 259.988 338.455C260.267 339.486 260.553 340.515 260.845 341.541C285.327 427.746 353.254 495.673 439.459 520.155C440.485 520.447 441.514 520.733 442.545 521.012C464.204 526.873 486.987 530 510.5 530C602.313 530 682.99 482.319 729.118 410.368C729.681 409.491 730.238 408.609 730.79 407.725C742.688 388.664 752.181 367.948 758.845 346H761.979C754.916 369.557 744.636 391.722 731.646 411.984C731.076 412.872 730.502 413.756 729.923 414.637C682.992 485.937 602.242 533 510.5 533C458.4 533 409.845 517.822 369.016 491.646C368.128 491.076 367.244 490.502 366.363 489.923C336.435 470.223 310.777 444.565 291.077 414.637C290.498 413.756 289.924 412.872 289.354 411.984C266.645 376.561 252.215 335.323 248.791 291H251.8ZM510.5 8C636.078 8 741.059 96.181 766.903 214H763.829C757.381 184.961 746.07 157.752 730.79 133.275C730.238 132.391 729.681 131.509 729.118 130.632C708.867 99.0437 681.956 72.1333 650.368 51.8818C649.491 51.3193 648.609 50.7622 647.725 50.21C607.916 25.3599 560.885 11 510.5 11C486.987 11 464.204 14.127 442.545 19.9883C441.514 20.2674 440.485 20.5533 439.459 20.8447C415.855 27.5483 393.622 37.5088 373.275 50.21C372.391 50.7622 371.509 51.3193 370.632 51.8818C329.959 77.9576 297.043 115.074 276.11 159H272.791C293.482 114.965 326.047 77.6141 366.363 51.0771C367.244 50.4977 368.128 49.9236 369.016 49.3545C409.845 23.1785 458.4 8 510.5 8Z" fill="#DAE8F3" class="general-3 no-border accent"/>\n<path id="general-2-no-border" d="M688.202 340.896C688.745 341.321 689.307 341.723 689.886 342.102C661.098 418.474 587.344 472.801 500.9 472.801C435.978 472.801 378.217 442.156 341.282 394.545C341.879 394.232 342.459 393.892 343.021 393.525C379.597 440.548 436.714 470.801 500.9 470.801C586.677 470.801 659.833 416.775 688.202 340.896ZM655.639 141.207C673.587 162.599 687.182 187.766 695.06 215.346C694.424 215.568 693.8 215.816 693.19 216.09C685.436 188.837 672.045 163.957 654.356 142.792C654.808 142.285 655.236 141.756 655.639 141.207Z" fill="#DAE8F3" class="general-2 no-border accent"/>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="679" y="214" width="301" height="132" rx="24" fill="#8FB9DC" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="700.1689453125" y="224.0625" width="257" height="110" class="step-2 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<rect id="step-1_2" x="29" y="159" width="301" height="132" rx="24" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="50.1689453125" y="169.0625" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',orbit_3:'<svg class="orbit-frame" width="1018.16" height="564.1600000000001" viewBox="-18.580000000000002 -11.580000000000002 1018.16 564.1600000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="orbit-frame">\n<g id="general-1" class="general-1 accent">\n<path id="general-1-accent" d="M343 270.5C343 357.485 413.515 428 500.5 428C587.485 428 658 357.485 658 270.5C658 183.515 587.485 113 500.5 113C413.515 113 343 183.515 343 270.5Z" fill="#DAE8F3" class="general-1 accent"/>\n<rect id="general-1-card-textbox" x="388.1689453125" y="216.0625" width="224" height="108" class="general-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<path id="general-5-no-border" d="M312 375.5C312 364.73 320.73 356 331.5 356C342.27 356 351 364.73 351 375.5C351 386.27 342.27 395 331.5 395V397C343.374 397 353 387.374 353 375.5C353 363.626 343.374 354 331.5 354C319.626 354 310 363.626 310 375.5C310 387.374 319.626 397 331.5 397V395C320.73 395 312 386.27 312 375.5Z" fill="#DAE8F3" class="general-5 no-border accent"/>\n<path id="general-4-no-border" d="M660 128.5C660 116.811 650.672 107.301 639.055 107.007L638.5 107C626.626 107 617 116.626 617 128.5C617 140.374 626.626 150 638.5 150V152C625.521 152 615 141.479 615 128.5C615 115.521 625.521 105 638.5 105C651.479 105 662 115.521 662 128.5C662 141.479 651.479 152 638.5 152V150C650.374 150 660 140.374 660 128.5Z" fill="#DAE8F3" class="general-4 no-border accent"/>\n<path id="general-6-no-border" d="M299 270.9C299 159.394 389.394 69 500.9 69C547.683 69.0001 590.747 84.914 624.98 111.62C624.447 112.042 623.932 112.487 623.441 112.956C589.597 86.6601 547.078 71.0001 500.9 71C390.498 71 301 160.498 301 270.9C301 301.71 307.972 330.89 320.421 356.953C319.839 357.295 319.275 357.663 318.73 358.057C306.084 331.672 299 302.114 299 270.9Z" fill="#DAE8F3" class="general-6 no-border accent"/>\n<path id="general-2-no-border" d="M689.072 340.896C689.615 341.321 690.177 341.723 690.756 342.102C661.968 418.474 588.214 472.801 501.771 472.801C436.848 472.801 379.087 442.156 342.152 394.545C342.749 394.232 343.33 393.892 343.892 393.525C380.467 440.548 437.585 470.801 501.771 470.801C587.547 470.801 660.703 416.775 689.072 340.896ZM656.509 141.207C674.457 162.599 688.052 187.766 695.93 215.346C695.294 215.568 694.67 215.816 694.061 216.09C686.306 188.837 672.915 163.957 655.227 142.792C655.678 142.285 656.106 141.756 656.509 141.207Z" fill="#DAE8F3" class="general-2 no-border accent"/>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="679" y="214" width="301" height="132" rx="24" fill="#8FB9DC" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="700.1689453125" y="224.0625" width="257" height="110" class="step-2 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<rect id="step-3_2" x="1" y="358" width="301" height="132" rx="24" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="22.1689453125" y="368.0625" width="257" height="110" class="step-3 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<rect id="step-1_2" x="29" y="23" width="301" height="132" rx="24" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="50.1689453125" y="33.0625" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n</g>\n<path id="general-3-no-border" d="M751.979 346C719.703 453.658 620.185 532.247 502.197 532.994L500.5 533C421.21 533 350.132 497.845 302 442.271V437.653C349.602 494.124 420.861 530 500.5 530C617.558 530 716.512 452.494 748.846 346H751.979ZM268.058 155C250.74 189.784 241 229.005 241 270.5C241 301.204 246.333 330.663 256.122 358H252.938C243.444 331.137 238.196 302.267 238.006 272.197L238 270.5C238 229.055 247.606 189.854 264.711 155H268.058ZM500.5 8C626.078 8 731.059 96.181 756.903 214H753.831C728.041 97.8512 624.413 11 500.5 11C435.236 11 375.601 35.0931 330 74.8691V70.9053C375.47 32.0266 434.383 8.41375 498.803 8.00586L500.5 8Z" fill="#DAE8F3" class="general-3 no-border accent"/>\n</g>\n</svg>\n',orbit_4:'<svg class="orbit-frame" width="1038.96" height="566.96" viewBox="-18.98 -11.98 1038.96 566.96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="orbit-frame">\n<g id="general-1" class="general-1 accent">\n<path id="general-1-accent" d="M343 270.5C343 357.485 413.515 428 500.5 428C587.485 428 658 357.485 658 270.5C658 183.515 587.485 113 500.5 113C413.515 113 343 183.515 343 270.5Z" fill="#DAE8F3" class="general-1 accent"/>\n<rect id="general-1-card-textbox" x="388.1689453125" y="216.0625" width="224" height="108" class="general-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<path id="general-5-no-border" d="M312 375.5C312 364.73 320.73 356 331.5 356C342.27 356 351 364.73 351 375.5C351 386.27 342.27 395 331.5 395V397C343.374 397 353 387.374 353 375.5C353 363.626 343.374 354 331.5 354C319.626 354 310 363.626 310 375.5C310 387.374 319.626 397 331.5 397V395C320.73 395 312 386.27 312 375.5Z" fill="#DAE8F3" class="general-5 no-border accent"/>\n<path id="general-4-no-border" d="M660 128.5C660 116.811 650.672 107.301 639.055 107.007L638.5 107C626.626 107 617 116.626 617 128.5C617 140.374 626.626 150 638.5 150V152C625.521 152 615 141.479 615 128.5C615 115.521 625.521 105 638.5 105C651.479 105 662 115.521 662 128.5C662 141.479 651.479 152 638.5 152V150C650.374 150 660 140.374 660 128.5Z" fill="#DAE8F3" class="general-4 no-border accent"/>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="699" y="78" width="301" height="132" rx="24" fill="#8FB9DC" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="720.1689453125" y="88.0625" width="257" height="110" class="step-2 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<rect id="step-3_2" x="1" y="358" width="301" height="132" rx="24" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="22.1689453125" y="368.0625" width="257" height="110" class="step-3 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<rect id="step-1_2" x="29" y="23" width="301" height="132" rx="24" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="50.1689453125" y="33.0625" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<rect id="step-4_2" x="669" y="403" width="301" height="132" rx="24" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="690.1689453125" y="413.0625" width="257" height="110" class="step-4 textbox subtle" fill="#E5E5E5"/>\n</g>\n<path id="general-3-no-border" d="M302 437.653C349.602 494.124 420.861 530 500.5 530C564.814 530 623.662 506.603 669 467.857V471.787C623.809 509.657 565.676 532.592 502.197 532.994L500.5 533C421.21 533 350.132 497.845 302 442.271V437.653ZM755.993 210C760.575 229.423 763 249.678 763 270.5L762.994 272.197C762.692 319.89 749.671 364.564 727.153 403H723.669C746.745 364.216 760 318.906 760 270.5C760 249.669 757.545 229.411 752.909 210H755.993ZM268.058 155C250.74 189.784 241 229.005 241 270.5C241 301.204 246.333 330.663 256.122 358H252.938C243.444 331.137 238.196 302.267 238.006 272.197L238 270.5C238 229.055 247.606 189.854 264.711 155H268.058ZM500.5 8C579.895 8 651.056 43.2478 699.191 98.9482C699.065 99.9476 699 100.966 699 102V103.346C651.398 46.8752 580.139 11 500.5 11C435.236 11 375.601 35.0931 330 74.8691V70.9053C375.47 32.0266 434.383 8.41375 498.803 8.00586L500.5 8Z" fill="#DAE8F3" class="general-3 no-border accent"/>\n<path id="general-6-no-border" d="M299 270.9C299 159.394 389.394 69 500.9 69C547.683 69.0001 590.747 84.914 624.98 111.62C624.447 112.042 623.932 112.487 623.441 112.956C589.597 86.6601 547.078 71.0001 500.9 71C390.498 71 301 160.498 301 270.9C301 301.71 307.972 330.89 320.421 356.953C319.839 357.295 319.275 357.663 318.73 358.057C306.084 331.672 299 302.114 299 270.9Z" fill="#DAE8F3" class="general-6 no-border accent"/>\n<path id="general-2-no-border" d="M702.801 270.9C702.801 382.407 612.407 472.801 500.9 472.801C435.978 472.801 378.217 442.156 341.282 394.545C341.879 394.232 342.459 393.892 343.021 393.525C379.597 440.548 436.714 470.801 500.9 470.801C611.302 470.801 700.801 381.302 700.801 270.9C700.801 222.153 683.349 177.484 654.356 142.792C654.808 142.285 655.236 141.756 655.639 141.207C685.073 176.288 702.801 221.523 702.801 270.9Z" fill="#DAE8F3" class="general-2 no-border accent"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),no="orbit",nc={key:no,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,2,4),s=nl.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:no,svgScalingFactor:nc.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"MUIdbW"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/orbit.d59992d7.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:nl,formattingMenu:G,defaultData:()=>w(nl),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nd=new Map(Object.entries({packed_circles_1:'<svg class="packed_circles-frame" width="320" height="320" viewBox="341 108 320 320" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="501" cy="268" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="376.16796875" y="190.0625" width="247" height="161" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="351.5" y="118.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_2:'<svg class="packed_circles-frame" width="570.96416" height="377.96016" viewBox="215.01992 79.01992 570.96416 377.96016" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="376" cy="240" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="249.16796875" y="161.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="226.5" y="90.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="655.004" cy="326" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="561.16796875" y="264.0625" width="185" height="121" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="535.5" y="206.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_3:'<svg class="packed_circles-frame" width="583.44" height="499.44" viewBox="208.78 17.78 583.44 499.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="370" cy="179" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="237.16796875" y="96.0625" width="263" height="171" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="220.5" y="29.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="661" cy="166" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="557.16796875" y="98.0625" width="205" height="133" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="541.5" y="46.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="551" cy="396" r="110" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="460.16796875" y="333.0625" width="179" height="131" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="441.5" y="286.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_4:'<svg class="packed_circles-frame" width="748.8" height="486.8" viewBox="126.6 50.6 748.8 486.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="129.5" y="170.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="414.5" y="57.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="437.5" y="319.5" width="211" height="211" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_5:'<svg class="packed_circles-frame" width="748.8" height="550.8" viewBox="126.6 -13.4 748.8 550.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="141.5" y="179.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="422.5" y="65.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="444.5" y="323.5" width="199" height="199" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<circle id="step-5-accent" cx="343.5" cy="88.5" r="87.5" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-accent-textbox" x="268.16796875" y="41.0625" width="147" height="96" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="256.5" y="1.5" width="174" height="174" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nu="packed_circles",np={key:nu,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,1,5),s=nd.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nu,svgScalingFactor:np.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"QhL7JY"}),icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:nd,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/packed-circles.50bed684.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,defaultData:()=>w(nd),svgScalingFactor:1},nh=new Map(Object.entries({pillar_3:'<svg class="pillar-frame" width="989.5609838867188" height="412.92943784179687" viewBox="5.9699810791015615 61.03248107910156 989.5609838867188 412.92943784179687" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pillar-frame">\n<g id="general-1" class="general-1 accent">\n<rect id="general-1-accent" x="40.875" y="440.203" width="368.223" height="14.7289" fill="#B4D0E8" class="general-1 accent"/>\n<path id="general-1-accent_2" d="M424.961 154.011H25.0156V136.652H424.961V154.011Z" fill="#DAE8F3" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M424.979 133.907H25L224.99 81L424.979 133.907Z" fill="#DAE8F3" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<rect id="step-1-accent" x="74.3438" y="193.824" width="68.2887" height="208.883" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_2" x="66.3125" y="405.385" width="85.6956" height="14.7289" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_3" x="56.9375" y="422.793" width="103.103" height="14.7289" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_4" width="85.69560000000001" height="14.72890000000001" fill="#448AC5" class="step-1 accent" x="66.3125" y="176.4211"/>\n<rect id="step-1-accent_5" width="103.10300000000001" height="14.72890000000001" fill="#448AC5" class="step-1 accent" x="56.9375" y="159.0151"/>\n<rect id="step-1-icon" x="89" y="278" width="37.03511047363281" height="37.03511047363281" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-accent_6" x="530.789" y="82.0566" width="21.1629" height="98.4076" rx="2.11629" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-textbox-neutral-left" x="581.8046875" y="80.0625" width="394.6884460449219" height="100.52386474609375" class="step-1 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2-accent" x="190.844" y="193.824" width="68.2887" height="208.883" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_2" x="182.812" y="405.383" width="85.6956" height="14.7289" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_3" x="173.438" y="422.795" width="103.103" height="14.7289" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_4" width="85.69560000000001" height="14.72890000000001" fill="#69A1D1" class="step-2 accent" x="182.812" y="176.4191"/>\n<rect id="step-2-accent_5" width="103.10300000000001" height="14.72890000000001" fill="#69A1D1" class="step-2 accent" x="173.438" y="159.01309999999998"/>\n<rect id="step-2-icon" x="206" y="278" width="37.03511047363281" height="37.03511047363281" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-accent_6" x="530.797" y="216.445" width="21.1629" height="98.4076" rx="2.11629" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-textbox-neutral-left" x="581.8125" y="214.44705200195312" width="394.6884460449219" height="100.52386474609375" class="step-2 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<rect id="step-3-accent" width="85.69560000000001" height="14.72890000000001" fill="#8FB9DC" class="step-3 accent" x="299.297" y="176.4191"/>\n<rect id="step-3-accent_2" width="103.10300000000001" height="14.72890000000001" fill="#8FB9DC" class="step-3 accent" x="289.93" y="159.01309999999998"/>\n<rect id="step-3-accent_3" x="307.336" y="193.826" width="68.2887" height="208.883" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_4" x="299.297" y="405.385" width="85.6956" height="14.7289" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_5" x="289.93" y="422.795" width="103.103" height="14.7289" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-icon" x="322" y="278" width="37.03511047363281" height="37.03511047363281" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-accent_6" x="530.789" y="355.061" width="21.1629" height="98.4076" rx="2.11629" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-textbox-neutral-left" x="581.8125" y="353.060546875" width="394.6884460449219" height="100.52386474609375" class="step-3 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',pillar_4:'<svg class="pillar-frame" width="1012.44429" height="495.0032600927734" viewBox="-5.2982075 19.5299175 1012.44429 495.0032600927734" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pillar-frame">\n<g id="general-1" class="general-1 accent">\n<rect id="general-1-accent" x="296" y="451.293" width="411.711" height="16.4684" fill="#B4D0E8" class="general-1 accent"/>\n<path id="general-1-accent_2" d="M707.671 128.558H296.016V110.691H707.671V128.558Z" fill="#DAE8F3" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M707.69 107.866H296L501.845 53.4102L707.69 107.866Z" fill="#DAE8F3" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<rect id="step-1-accent" x="325.133" y="168.549" width="58.6688" height="257.319" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_2" x="318.418" y="428.461" width="73.1566" height="12.5738" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_3" x="310.402" y="443.324" width="88.0165" height="12.5738" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_4" width="73.15660000000003" height="12.573800000000006" fill="#448AC5" class="step-1 accent" x="318.418" y="153.6902"/>\n<rect id="step-1-accent_5" width="88.01650000000001" height="12.573800000000006" fill="#448AC5" class="step-1 accent" x="310.402" y="138.8322"/>\n<rect id="step-1-icon" x="338" y="283" width="31.616085052490234" height="31.616085052490234" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-accent_6" x="15.0039" y="39" width="228.5" height="5.14639" rx="2.17825" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-textbox-neutral-left" x="14.171875" y="58.6484375" width="227.47032165527344" height="176.00645446777344" class="step-1 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2-accent" x="423.828" y="168.551" width="58.6688" height="257.319" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_2" x="416.727" y="428.467" width="73.1566" height="12.5738" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_3" x="408.719" y="443.33" width="88.0165" height="12.5738" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_4" width="73.15660000000003" height="12.573800000000006" fill="#69A1D1" class="step-2 accent" x="416.727" y="153.6962"/>\n<rect id="step-2-accent_5" width="88.01650000000001" height="12.573800000000006" fill="#69A1D1" class="step-2 accent" x="408.719" y="138.8382"/>\n<rect id="step-2-icon" x="436" y="283" width="31.616085052490234" height="31.616085052490234" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-accent_6" x="759.176" y="39" width="228.5" height="5.14639" rx="2.17825" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-textbox-neutral-left" x="759.3671875" y="58.6484375" width="227.47032165527344" height="176.00645446777344" class="step-2 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<rect id="step-3-accent" width="73.15660000000003" height="12.573800000000006" fill="#8FB9DC" class="step-3 accent" x="515.031" y="153.69219999999999"/>\n<rect id="step-3-accent_2" width="88.01650000000001" height="12.573800000000006" fill="#8FB9DC" class="step-3 accent" x="507.035" y="138.8322"/>\n<rect id="step-3-accent_3" x="522.535" y="168.551" width="57.6395" height="257.319" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_4" x="515.031" y="428.467" width="73.1566" height="12.5738" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_5" x="507.035" y="443.326" width="88.0165" height="12.5738" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-icon" x="534" y="283" width="31.616085052490234" height="31.616085052490234" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-accent_6" x="15.0039" y="299.406" width="228.5" height="5.14639" rx="2.17825" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-textbox-neutral-left" x="14.171875" y="319.056640625" width="227.47032165527344" height="176.00645446777344" class="step-3 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<rect id="step-4-accent" width="73.15660000000003" height="12.573800000000006" fill="#8FB9DC" class="step-4 accent" x="613.348" y="153.69219999999999"/>\n<rect id="step-4-accent_2" width="88.01649999999995" height="12.573800000000006" fill="#8FB9DC" class="step-4 accent" x="605.34" y="138.8362"/>\n<rect id="step-4-accent_3" x="621.004" y="168.551" width="57.6395" height="257.319" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-accent_4" x="613.348" y="428.467" width="73.1566" height="12.5738" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-accent_5" x="605.34" y="443.326" width="88.0165" height="12.5738" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-icon" x="633" y="283" width="31.616085052490234" height="31.616085052490234" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-accent_6" x="759.176" y="299.406" width="228.5" height="5.14639" rx="2.17825" fill="#B4D0E8" class="step-4 accent"/>\n<rect id="step-4-textbox-neutral-left" x="758.34375" y="319.056640625" width="227.47032165527344" height="176.00645446777344" class="step-4 textbox neutral left top" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ng="pillar",nm={key:ng,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,3,4),s=nh.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ng,svgScalingFactor:nm.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Vs8/ai"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/pillar.172c4f1c.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.Nfw,defaultColorScheme:"monochrome",stepSvgData:nh,formattingMenu:G,defaultData:()=>w(nh),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nx=new Map(Object.entries({pinwheel_4:'<svg class="pinwheel" width="965.1158399999999" height="471.75724" viewBox="18.44008 32.12168 965.1158399999999 471.75724" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pinwheel" class="pinwheel">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M499.646 257.01C497.493 257.23 495.522 258.062 493.905 259.326L393.133 158.178L499.099 50.6816L499.646 257.01Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M492.525 260.598C490.948 262.323 489.903 264.543 489.651 266.998L392.09 266.321L392.261 159.473L492.525 260.598Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="439" y="143" width="35" height="35" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-card-textbox" x="37" y="169" width="334" height="79" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="27.5" y="135.5" width="455" height="121" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M718.061 266.454L511.945 267.001C511.72 264.795 510.852 262.78 509.535 261.142L610.564 160.488L718.061 266.454Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M609.268 159.62L508.242 259.785C506.483 258.22 504.229 257.201 501.742 256.994L502.419 159.449L609.268 159.62Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="593" y="213" width="35" height="35" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-card-textbox" x="520" y="61" width="334" height="79" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="512.5" y="54.5" width="349" height="202" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M608.346 377.823L502.38 485.319L501.832 279.309C504.078 279.102 506.13 278.233 507.795 276.898L608.346 377.823Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M609.39 269.679L609.219 376.527L509.156 275.606C510.746 273.823 511.773 271.53 511.962 269.002L609.39 269.679Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="526.996" y="360" width="35" height="35" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-card-textbox" x="630.996" y="283" width="334" height="79" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="520.5" y="274.5" width="453" height="127" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M489.62 268.908C489.766 271.116 490.55 273.149 491.792 274.824L390.82 375.422L283.324 269.456L489.62 268.908Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M493.034 276.232C494.787 277.918 497.085 279.04 499.64 279.302L498.966 376.463L392.117 376.292L493.034 276.232Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="373" y="294.002" width="35" height="35" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-card-textbox" x="147" y="393" width="334" height="79" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="139.5" y="286.502" width="349" height="193" stroke="black" class="step-4 selection"/>\n</g>\n<g id="general-1" class="general-1">\n<circle id="general-1-subtle" cx="501" cy="268" r="9" fill="#D9DAF0" class="general-1 subtle"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("pinwheel_","")),n]})),nf="pinwheel",nb={key:nf,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,4,4),s=nx.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nf,svgScalingFactor:nb.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"MVp6kM"}),icon:a.SiZ,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/pinwheel.728e4518.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:nx,formattingMenu:G,defaultData:()=>w(nx),svgScalingFactor:1},nC=new Map([[4,'<svg class="puzzle" width="994.2397920000001" height="493.886492" viewBox="4.789203999999998 14.192504 994.2397920000001 493.886492" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="puzzle" class="puzzle">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M575.792 33.3125C591.699 33.3125 604.594 46.2075 604.594 62.1143V73.6348H669.108V139.879H680.631C696.537 139.879 709.432 152.774 709.433 168.681C709.433 184.587 696.538 197.482 680.631 197.482H669.108V257.967H611.505V252.206C611.505 233.118 596.03 217.645 576.942 217.645C557.854 217.645 542.38 233.118 542.38 252.206V257.967H484.776V199.211H490.537C509.625 199.211 525.099 183.736 525.1 164.648C525.099 145.56 509.625 130.087 490.537 130.087H484.776V73.6348H546.99V62.1143C546.99 46.2075 559.885 33.3125 575.792 33.3125Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" opacity="0.5" x="733.909" y="118.992" width="246" height="97" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-icon" opacity="0.5" x="535.909" y="128.992" width="86" height="74" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="528.5" y="111.5" width="459" height="112" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M575.792 223.406C591.699 223.406 604.594 236.301 604.594 252.208V263.729H669.108V329.973H680.631C696.537 329.973 709.432 342.868 709.433 358.774C709.433 374.681 696.538 387.576 680.631 387.576H669.108V448.061H611.505V442.3C611.505 423.212 596.03 407.738 576.942 407.738C557.854 407.738 542.38 423.212 542.38 442.3V448.061H484.776V389.305H490.537C509.625 389.305 525.099 373.83 525.1 354.742C525.099 335.654 509.625 320.181 490.537 320.181H484.776V263.729H546.99V252.208C546.99 236.301 559.885 223.406 575.792 223.406Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="733.909" y="305" width="246" height="97" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-icon" x="535.909" y="315" width="86" height="74" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="528.5" y="296.5" width="459" height="112" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M351.713 264.305V270.064C351.713 289.153 367.186 304.627 386.274 304.627C405.363 304.627 420.837 289.153 420.837 270.064V264.305H478.44V324.788H489.963C505.869 324.788 518.764 337.683 518.765 353.59C518.765 369.497 505.87 382.391 489.963 382.392H478.44V448.636H413.926V460.157C413.926 476.064 401.031 488.959 385.124 488.959C369.217 488.959 356.322 476.064 356.322 460.157V448.636H294.108V392.185H299.869C318.957 392.185 334.432 376.71 334.432 357.622C334.432 338.534 318.957 323.061 299.869 323.061H294.108V264.305H351.713Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox-right" x="23.9092" y="305" width="246" height="97" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-accent-icon" x="347.909" y="327" width="86" height="74" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="16.5" y="297.5" width="426" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M354.595 79.4004C354.595 98.4884 370.068 113.963 389.156 113.963C408.244 113.963 423.719 98.4885 423.719 79.4004V73.6406H480.17V135.853H491.691C507.598 135.853 520.493 148.748 520.493 164.654C520.493 180.561 507.598 193.456 491.691 193.456H480.17V257.972H413.927V269.493C413.927 285.4 401.031 298.295 385.124 298.295C369.218 298.295 356.323 285.4 356.322 269.493V257.972H295.839V200.368H301.6C320.687 200.368 336.161 184.894 336.161 165.807C336.161 146.719 320.688 131.244 301.6 131.244H295.839V73.6406H354.595V79.4004Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="348" y="141.008" width="86" height="74" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-card-textbox-right" x="25" y="119.008" width="245" height="96" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-selection" x="16.5" y="111.508" width="425" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n']]),ny="puzzle",nv={key:ny,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,4,4),s=nC.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ny,svgScalingFactor:nv.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"nT0180"}),icon:tI.wvb,defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/puzzle.f9b38688.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,stepSvgData:nC,defaultData:()=>w(nC),svgScalingFactor:1},nw=new Map([[1,'<svg class="quadrant" width="1001" height="501" viewBox="0 0 1001 501" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="quadrant" class="quadrant">\n<path id="general-6-accent" d="M510.64 430.569C511.202 431.131 511.202 432.043 510.64 432.605L501.475 441.77C500.913 442.332 500.001 442.332 499.439 441.77L490.274 432.605C489.712 432.043 489.711 431.131 490.274 430.569C490.836 430.006 491.748 430.007 492.31 430.569L499.017 437.275L499.017 69.8051L492.31 76.5117C491.748 77.0739 490.836 77.074 490.274 76.5117C489.711 75.9493 489.712 75.0377 490.274 74.4753L499.439 65.3105C500.001 64.7481 500.913 64.7481 501.475 65.3105L510.64 74.4753C511.202 75.0377 511.202 75.9493 510.64 76.5117C510.077 77.074 509.166 77.0739 508.603 76.5117L501.897 69.8051L501.897 437.275L508.603 430.569C509.166 430.007 510.077 430.006 510.64 430.569Z" fill="#4046B4" class="general-6 accent"/>\n<path id="general-5-accent" d="M778.005 233.851C778.567 233.289 779.479 233.289 780.041 233.851L789.206 243.016C789.768 243.579 789.768 244.49 789.206 245.053L780.041 254.217C779.479 254.78 778.567 254.78 778.005 254.217C777.442 253.655 777.442 252.743 778.005 252.181L784.711 245.474H215.628L222.335 252.181C222.897 252.743 222.897 253.655 222.335 254.217C221.773 254.78 220.861 254.78 220.299 254.217L211.134 245.053C210.571 244.49 210.571 243.579 211.134 243.016L220.299 233.851C220.861 233.289 221.773 233.289 222.335 233.851C222.897 234.414 222.897 235.325 222.335 235.888L215.628 242.594H784.711L778.005 235.888C777.442 235.325 777.442 234.414 778.005 233.851Z" fill="#4046B4" class="general-5 accent"/>\n<rect id="general-4-card-textbox" y="226" width="197" height="35" fill="#D9D9D9" class="general-4 card textbox"/>\n<rect id="general-3-card-textbox" x="310.656" y="455.152" width="380.183" height="34.5621" fill="#D9D9D9" class="general-3 card textbox"/>\n<rect id="general-2-card-textbox" x="803" y="226" width="197" height="35" fill="#D9D9D9" class="general-2 card textbox"/>\n<rect id="general-1-card-textbox" x="310.083" y="17.3652" width="380.183" height="34.5621" fill="#D9D9D9" class="general-1 card textbox"/>\n<g id="step-3" class="step-3">\n<circle id="step-3-accent" cx="371.042" cy="300.042" r="23.0417" fill="#D5D6EF" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="276" y="334" width="202" height="71" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-icon" x="357.14" y="286.418" width="28" height="28" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="262.25" y="269.25" width="218.5" height="144.5" stroke="black" stroke-width="0.5" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<circle id="step-4-accent" cx="641.902" cy="300.747" r="23.0417" fill="#D5D6EF" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="541" y="335" width="202" height="71" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-accent-icon" x="628" y="287" width="28" height="28" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="533.25" y="270.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-accent" cx="641.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="541" y="150" width="202" height="71" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-icon" x="628" y="102" width="28" height="28" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="533.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-accent" cx="370.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="150" width="202" height="71" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-icon" x="357" y="102" width="28" height="28" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="262.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n\n    ']]),nA="quadrants",nk={key:nA,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,1,1),s=nw.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nA,svgScalingFactor:nk.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"o/Eq9R"}),icon:tI.Nfw,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/quadrant.755601ce.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:nw,formattingMenu:G,defaultData:()=>w(nw),svgScalingFactor:1},nL=new Map(Object.entries({ribbon_arrows_2:'<svg class="ribbon_arrows" width="436.64399999999995" height="463.68179999999995" viewBox="283.309 35.2422 436.64399999999995 463.68179999999995" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<g id="step-1-accent" class="step-1 accent">\n<path d="M307.145 191.594H498.764L481.87 206.649L465 222.005V315.155H307.145V191.594Z" fill="#B3B5E1"/>\n</g>\n<rect id="step-1-textbox-card-top" x="293.309" y="368.125" width="220.148" height="120.799" fill="black" class="step-1 textbox card top"/>\n<rect id="step-1-accent-icon" x="374.594" y="224.75" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="284.551" y="184.484" width="235" height="313" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M709.953 285.188L648.453 371.791V345.727H465.168V222.165H648.453V198.586L709.953 285.188Z" fill="#D9DAF0" class="step-2 accent"/>\n<path id="step-2-accent-dim" d="M499 222.008V191.508L465 222.008H499Z" fill="#8C90D2" class="step-2 accent dim"/>\n<rect id="step-2-textbox-card-bottom" x="480.715" y="45.2422" width="220.148" height="120.799" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-icon" x="542.809" y="257.484" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="454.551" y="36.4844" width="264" height="344" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_3:'<svg class="ribbon_arrows" width="584.87" height="525.2318" viewBox="208.1625 4.6587 584.87 525.2318" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M223 191H414.62L397.726 206.055L380.855 221.411V314.562H223V191Z" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="219.41" y="15.9062" width="227" height="121" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-icon" x="288.992" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="211.5" y="7.5" width="244" height="314" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M414 221.5V191L380 221.5H414Z" fill="#666BC3" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M380 221H571.62L554.726 236.055L537.855 251.411V344.562H380V221Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-top" x="365.766" y="397.844" width="220.148" height="120.799" fill="black" class="step-2 card textbox top"/>\n<rect id="step-2-accent-icon" x="447.051" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="356.5" y="212.5" width="238" height="313" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M571 251.5V221L537 251.5H571Z" fill="#8C90D2" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M781.785 314.603L720.285 401.205V375.141H537V251.579H720.285V228L781.785 314.603Z" fill="#D9DAF0" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="553.172" y="74.9609" width="220.148" height="120.799" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-icon" x="615.266" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="529.5" y="66.5" width="261" height="343" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_4:'<svg class="ribbon_arrows" width="772.63472" height="532.45352" viewBox="115.39964 1.047839999999999 772.63472 532.45352" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M157 162H348.62L331.726 177.055L314.855 192.411V285.562H157V162Z" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-card-textbox-top" x="130.258" y="332.367" width="220.148" height="120.799" fill="black" class="step-1 card textbox top"/>\n<rect id="step-1-accent-icon" x="221.703" y="193.508" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="122.5" y="153.5" width="235" height="309" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M348 192.5V162L314 192.5H348Z" fill="#4046B4" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M314 192H505.62L488.726 207.055L471.855 222.411V315.562H314V192Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-textbox-card-bottom" x="310.176" y="15.9062" width="227" height="121" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-icon" x="379.758" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="304.5" y="6.5" width="242" height="314" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M505 222.5V192L471 222.5H505Z" fill="#666BC3" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M471 222H662.62L645.726 237.055L628.855 252.411V345.562H471V222Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-textbox-card-top" x="456.531" y="397.844" width="220.148" height="120.799" fill="black" class="step-3 textbox card top"/>\n<rect id="step-3-accent-icon" x="537.816" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="449.5" y="214.5" width="235" height="312" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent-dim" d="M662 252.5V222L628 252.5H662Z" fill="#8C90D2" class="step-4 accent dim"/>\n<path id="step-4-accent" d="M873.176 314.907L811.676 401.51V375.445H628.391V251.884H811.676V228.305L873.176 314.907Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-textbox-card-bottom" x="643.938" y="74.9609" width="220.148" height="120.799" fill="black" class="step-4 textbox card bottom"/>\n<rect id="step-4-accent-icon" x="706.031" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="620.5" y="68.5" width="260" height="339" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_5:'<svg class="ribbon_arrows" width="926.441048" height="565.119158" viewBox="44.33612599999999 -10.573984 926.441048 565.119158" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M79.0508 148.984H270.67L253.776 164.04L236.906 179.396V272.546H79.0508V148.984Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="62.1523" y="7.24219" width="220.148" height="120.799" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-icon" x="144.566" y="181.102" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="52.5508" y="1.48438" width="240" height="278" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M236.051 178.984H427.67L410.776 194.04L393.906 209.396V302.546H236.051V178.984Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-textbox-card-top" x="210.043" y="350.453" width="220.148" height="120.799" fill="black" class="step-2 textbox card top"/>\n<rect id="step-2-accent-icon" x="301.488" y="211.586" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="200.551" y="168.484" width="237" height="313" stroke="black" class="step-2 selection"/>\n<g id="step-2-accent-dim" class="step-2 accent dim">\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="#4046B4"/>\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="black" fill-opacity="0.2"/>\n</g>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M393.051 208.984H584.67L567.776 224.04L550.906 239.396V332.546H393.051V208.984Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="389.961" y="33.9844" width="227" height="121" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-icon" x="459.543" y="242.07" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="381.551" y="26.4844" width="243" height="316" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent-dim" d="M427.051 209.484V178.984L393.051 209.484H427.051Z" fill="#4046B4" class="step-3 accent dim"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M550.051 238.984H741.67L724.776 254.04L707.906 269.396V362.546H550.051V238.984Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-textbox-card-top" x="536.316" y="415.93" width="220.148" height="120.799" fill="black" class="step-4 textbox card top"/>\n<rect id="step-4-accent-icon" x="617.602" y="272.547" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-selection" x="526.551" y="231.484" width="240" height="313" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent-dim" d="M584.051 239.484V208.984L550.051 239.484H584.051Z" fill="#666BC3" class="step-4 accent dim"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent-dim" d="M742.051 269.484V238.984L708.051 269.484H742.051Z" fill="#8C90D2" class="step-5 accent dim"/>\n<path id="step-5-accent" d="M952.961 332.985L891.461 419.588V393.523H708.176V269.962H891.461V246.383L952.961 332.985Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-bottom" x="723.723" y="93.0469" width="220.148" height="120.799" fill="black" class="step-5 card textbox bottom"/>\n<rect id="step-5-accent-icon" x="785.816" y="305.289" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-5 accent icon"/>\n<rect id="step-5-selection" x="700.551" y="85.4844" width="262" height="342" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ribbon_arrows_","")),n]})),nj="ribbon_arrows",nE={key:nj,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,2,5),s=nL.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nj,svgScalingFactor:nE.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"aBHvyl"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ribbon_arrows.297df46f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:G,stepSvgData:nL,defaultData:()=>w(nL),svgScalingFactor:1},nS=new Map(Object.entries({rings_1:'<svg class="rings" width="237.077" height="232.29580000000004" viewBox="381.996 14.9922 237.077 232.29580000000004" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M583.151 168.645C583.151 145.05 564.025 125.922 540.43 125.922H460.645C437.05 125.922 417.922 145.05 417.922 168.645C417.922 192.239 437.05 211.367 460.645 211.367H540.43C564.024 211.367 583.151 192.239 583.151 168.645ZM609.073 168.645C609.073 206.555 578.341 237.288 540.43 237.288H460.645C422.734 237.288 392 206.555 392 168.645C392 130.733 422.733 100 460.645 100H540.43C578.341 100 609.073 130.734 609.073 168.645Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="391.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="383.5" y="13.5" width="235" height="236" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',rings_2:'<svg class="rings" width="358.851" height="370.9998" viewBox="320.996 14.9922 358.851 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M479.43 100C513.021 100 540.975 124.129 546.909 156H520.248C514.858 138.578 498.622 125.922 479.43 125.922H399.645C376.05 125.922 356.922 145.05 356.922 168.645C356.922 192.239 376.05 211.367 399.645 211.367H454.059C454.039 211.466 454.019 211.566 454 211.665H479.037C479.599 211.665 480.158 211.65 480.714 211.629C480.744 211.533 480.776 211.438 480.808 211.343C499.159 210.761 514.586 198.608 520.039 181.938H546.786C540.595 213.486 512.793 237.288 479.43 237.288H399.645C361.734 237.288 331 206.555 331 168.645C331 130.733 361.733 100 399.645 100H479.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="330.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="318.5" y="15.5" width="241" height="236" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M601.203 156C639.114 156 669.847 186.734 669.847 224.645C669.847 262.555 639.114 293.288 601.203 293.288H521.418C487.938 293.288 460.056 269.319 453.996 237.605H479.033C479.588 237.605 480.141 237.598 480.692 237.585C486.175 254.854 502.334 267.367 521.418 267.367H601.203C624.798 267.367 643.925 248.239 643.925 224.645C643.925 201.05 624.798 181.922 601.203 181.922H553.991C553.993 181.927 553.994 181.932 553.996 181.938H518.978C500.65 182.646 486.047 194.898 480.71 211.629C480.154 211.65 479.595 211.665 479.033 211.665H453.996C459.956 180.476 486.758 156.777 519.496 156H601.203Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="452.996" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="439.5" y="145.5" width="243" height="244" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',rings_3:'<svg class="rings" width="482" height="370.9998" viewBox="260 14.9922 482 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M418.43 100C452.021 100 479.975 124.129 485.909 156H459.248C453.858 138.578 437.622 125.922 418.43 125.922H338.645C315.05 125.922 295.922 145.05 295.922 168.645C295.922 192.239 315.05 211.367 338.645 211.367H393.059C393.039 211.466 393.019 211.566 393 211.665H418.037C418.599 211.665 419.158 211.65 419.714 211.629C419.744 211.533 419.776 211.438 419.808 211.343C438.159 210.761 453.586 198.608 459.039 181.938H485.786C479.595 213.486 451.793 237.288 418.43 237.288H338.645C300.734 237.288 270 206.555 270 168.645C270 130.733 300.733 100 338.645 100H418.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="259.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M608.024 236C601.849 267.568 573.853 293.288 540.477 293.288H484.862C484.865 293.274 484.867 293.26 484.869 293.246H458.326C426.353 292.163 399.926 267.333 393.527 237H417.211C418.299 237 419.432 236.92 420.5 237C426.053 252.561 440.275 266.719 457.455 267.245C463.21 267.421 475.262 267.452 484.392 267.458C484.385 267.428 484.38 267.397 484.374 267.367H515.055C515.038 267.453 515.02 267.54 515.004 267.626H540.041C540.602 267.626 541.162 267.611 541.718 267.59C541.744 267.508 541.771 267.426 541.798 267.345C560.188 266.786 575.836 252.707 581.283 236H608.024ZM540.477 156C574.054 156 602.074 178.648 608.024 210.5H581.358C575.956 193.099 559.655 181.922 540.477 181.922H460.691C441.132 181.922 424.643 194.105 419.574 212.041C418.79 212.014 418.002 212 417.211 212H393.039C398.586 179.654 426.763 156 460.691 156H540.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="392" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="382.5" y="148.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M583.484 236.289C549.893 236.289 521.94 213.16 516.005 181.289H542.666C548.057 198.711 564.292 210.367 583.484 210.367H663.27C686.865 210.367 705.992 191.24 705.992 167.645C705.992 144.05 686.864 124.922 663.27 124.922H608.855C608.875 124.823 608.895 124.723 608.914 124.624H583.877C583.315 124.624 582.757 124.639 582.2 124.66C582.17 124.756 582.138 124.851 582.106 124.946C563.755 125.528 548.205 139.331 542.752 156.001H516.005C522.196 124.452 550.121 99.0012 583.484 99.001H663.27C701.181 99.001 731.914 129.734 731.914 167.645C731.914 205.556 701.181 236.289 663.27 236.289H583.484Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="516" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="505.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',rings_4:'<svg class="rings" width="607.36" height="374.3598" viewBox="197.32 13.3122 607.36 374.3598" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M357.43 100C391.021 100 418.975 124.129 424.909 156H398.248C392.858 138.578 376.622 125.922 357.43 125.922H277.645C254.05 125.922 234.922 145.05 234.922 168.645C234.922 192.239 254.05 211.367 277.645 211.367H332.059C332.039 211.466 332.019 211.566 332 211.665H357.037C357.599 211.665 358.158 211.65 358.714 211.629C358.744 211.533 358.776 211.438 358.808 211.343C377.159 210.761 392.586 198.608 398.039 181.938H424.786C418.595 213.486 390.793 237.288 357.43 237.288H277.645C239.734 237.288 209 206.555 209 168.645C209 130.733 239.733 100 277.645 100H357.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="209" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="198.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M547.024 236C540.849 267.568 512.853 293.288 479.477 293.288H423.862C423.865 293.274 423.867 293.26 423.869 293.246H397.326C365.353 292.163 338.926 267.333 332.527 237H356.211C357.299 237 358.432 236.92 359.5 237C365.053 252.561 379.275 266.719 396.455 267.245C402.21 267.421 414.262 267.452 423.392 267.458C423.385 267.428 423.38 267.397 423.374 267.367H454.055C454.038 267.453 454.02 267.54 454.004 267.626H479.041C479.602 267.626 480.162 267.611 480.718 267.59C480.744 267.508 480.771 267.426 480.798 267.345C499.188 266.786 514.836 252.707 520.283 236H547.024ZM479.477 156C513.054 156 541.074 178.648 547.024 210.5H520.358C514.956 193.099 498.655 181.922 479.477 181.922H399.691C380.132 181.922 363.643 194.105 358.574 212.041C357.79 212.014 357.002 212 356.211 212H332.039C337.586 179.654 365.763 156 399.691 156H479.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="331" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="321.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M685.571 180.898C678.948 212.467 649.123 236.288 613.33 236.288H553.69C553.692 236.274 553.695 236.26 553.697 236.246H525.233C490.944 235.163 462.604 212.216 455.742 181.883H481.141C482.307 181.883 483.464 181.924 484.609 182.004C490.564 197.565 505.875 209.719 524.298 210.245C530.469 210.421 543.395 210.452 553.185 210.458C553.178 210.428 553.173 210.397 553.166 210.367H586.068C586.05 210.453 586.031 210.54 586.014 210.626H612.863C613.465 210.626 614.065 210.611 614.662 210.59C614.69 210.508 614.719 210.426 614.747 210.345C634.469 209.786 651.052 197.606 656.893 180.898H685.571ZM613.33 99C649.339 99.0003 679.307 123.109 685.688 154.961H657.091C651.298 137.559 633.897 124.922 613.33 124.922H527.769C506.794 124.922 489.111 138.065 483.675 156.002C482.834 155.975 481.989 155.961 481.141 155.961H455.219C461.167 123.615 491.385 99 527.769 99H613.33Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="455.219" y="24.9922" width="231.638" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="443.5" y="14.5" width="252" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<g id="step-4-accent" class="step-4 accent">\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="white"/>\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="#8C90D2"/>\n</g>\n<rect id="step-4-card-textbox" x="577" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="567.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',rings_5:'<svg class="rings" width="736.32" height="379.3198" viewBox="132.84 10.8322 736.32 379.3198" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M295.43 100C329.021 100 356.975 124.129 362.909 156H336.248C330.858 138.578 314.622 125.922 295.43 125.922H215.645C192.05 125.922 172.922 145.05 172.922 168.645C172.922 192.239 192.05 211.367 215.645 211.367H270.059C270.039 211.466 270.019 211.566 270 211.665H295.037C295.599 211.665 296.158 211.65 296.714 211.629C296.744 211.533 296.776 211.438 296.808 211.343C315.159 210.761 330.586 198.608 336.039 181.938H362.786C356.595 213.486 328.793 237.288 295.43 237.288H215.645C177.734 237.288 147 206.555 147 168.645C147 130.733 177.733 100 215.645 100H295.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="147" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="136.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M485.024 236C478.849 267.568 450.853 293.288 417.477 293.288H361.862C361.865 293.274 361.867 293.26 361.869 293.246H335.326C303.353 292.163 276.926 267.333 270.527 237H294.211C295.299 237 296.432 236.92 297.5 237C303.053 252.561 317.275 266.719 334.455 267.245C340.21 267.421 352.262 267.452 361.392 267.458C361.385 267.428 361.38 267.397 361.374 267.367H392.055C392.038 267.453 392.02 267.54 392.004 267.626H417.041C417.602 267.626 418.162 267.611 418.718 267.59C418.744 267.508 418.771 267.426 418.798 267.345C437.188 266.786 452.836 252.707 458.283 236H485.024ZM417.477 156C451.054 156 479.074 178.648 485.024 210.5H458.358C452.956 193.099 436.655 181.922 417.477 181.922H337.691C318.132 181.922 301.643 194.105 296.574 212.041C295.79 212.014 295.002 212 294.211 212H270.039C275.586 179.654 303.763 156 337.691 156H417.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="269" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="259.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M607.801 180.898C601.625 212.467 573.814 236.288 540.438 236.288H484.823C484.826 236.274 484.828 236.26 484.83 236.246H458.287C426.313 235.163 399.887 212.216 393.488 181.883H417.172C418.26 181.883 419.339 181.924 420.406 182.004C425.959 197.565 440.236 209.719 457.416 210.245C463.171 210.421 475.223 210.452 484.353 210.458C484.346 210.428 484.341 210.397 484.335 210.367H515.016C514.999 210.453 514.981 210.54 514.965 210.626H540.002C540.563 210.626 541.122 210.611 541.679 210.59C541.705 210.508 541.732 210.426 541.759 210.345C560.149 209.786 575.612 197.606 581.06 180.898H607.801ZM540.438 99C574.015 99.0003 601.96 123.109 607.91 154.961H581.244C575.842 137.559 559.616 124.922 540.438 124.922H460.652C441.093 124.922 424.604 138.065 419.535 156.002C418.751 155.975 417.963 155.961 417.172 155.961H393C398.547 123.615 426.724 99 460.652 99H540.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="393" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="386.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M730.024 235C723.849 266.568 695.853 292.288 662.477 292.288H606.862C606.865 292.274 606.867 292.26 606.869 292.246H580.326C548.353 291.163 521.926 266.333 515.527 236H539.211C540.299 236 541.432 235.92 542.5 236C548.053 251.561 562.275 265.719 579.455 266.245C585.21 266.421 597.262 266.452 606.392 266.458C606.385 266.428 606.38 266.397 606.374 266.367H637.055C637.038 266.453 637.02 266.54 637.004 266.626H662.041C662.602 266.626 663.162 266.611 663.718 266.59C663.744 266.508 663.771 266.426 663.798 266.345C682.188 265.786 697.836 251.707 703.283 235H730.024ZM662.477 155C696.054 155 724.074 177.648 730.024 209.5H703.358C697.956 192.099 681.655 180.922 662.477 180.922H582.691C563.132 180.922 546.643 193.105 541.574 211.041C540.79 211.014 540.002 211 539.211 211H515.039C520.586 178.654 548.763 155 582.691 155H662.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="515" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="505.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M705.484 235.287C671.893 235.287 643.94 212.158 638.005 180.287H664.666C670.057 197.709 686.292 209.365 705.484 209.365H785.27C808.865 209.365 827.992 190.238 827.992 166.643C827.992 143.048 808.864 123.92 785.27 123.92H730.855C730.875 123.821 730.895 123.721 730.914 123.622H705.877C705.315 123.622 704.757 123.637 704.2 123.658C704.17 123.754 704.138 123.849 704.106 123.944C685.755 124.526 670.205 138.329 664.752 154.999H638.005C644.196 123.45 672.121 97.9992 705.484 97.999H785.27C823.181 97.999 853.914 128.732 853.914 166.643C853.914 204.554 823.181 235.287 785.27 235.287H705.484Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="639" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="628.5" y="14.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',rings_6:'<svg class="rings" width="863.2" height="384.1998" viewBox="62.4 8.392199999999999 863.2 384.1998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M227.43 100C261.021 100 288.975 124.129 294.909 156H268.248C262.858 138.578 246.622 125.922 227.43 125.922H147.645C124.05 125.922 104.922 145.05 104.922 168.645C104.922 192.239 124.05 211.367 147.645 211.367H202.059C202.039 211.466 202.019 211.566 202 211.665H227.037C227.599 211.665 228.158 211.65 228.714 211.629C228.744 211.533 228.776 211.438 228.808 211.343C247.159 210.761 262.586 198.608 268.039 181.938H294.786C288.595 213.486 260.793 237.288 227.43 237.288H147.645C109.734 237.288 79.0002 206.555 79 168.645C79 130.733 109.733 100 147.645 100H227.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="68.5" y="18.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M417.024 236C410.849 267.568 382.853 293.288 349.477 293.288H293.862C293.865 293.274 293.867 293.26 293.869 293.246H267.326C235.353 292.163 208.926 267.333 202.527 237H226.211C227.299 237 228.432 236.92 229.5 237C235.053 252.561 249.275 266.719 266.455 267.245C272.21 267.421 284.262 267.452 293.392 267.458C293.385 267.428 293.38 267.397 293.374 267.367H324.055C324.038 267.453 324.02 267.54 324.004 267.626H349.041C349.602 267.626 350.162 267.611 350.718 267.59C350.744 267.508 350.771 267.426 350.798 267.345C369.188 266.786 384.836 252.707 390.283 236H417.024ZM349.477 156C383.054 156 411.074 178.648 417.024 210.5H390.358C384.956 193.099 368.655 181.922 349.477 181.922H269.691C250.132 181.922 233.643 194.105 228.574 212.041C227.79 212.014 227.002 212 226.211 212H202.039C207.586 179.654 235.763 156 269.691 156H349.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="201" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="190.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M539.801 180.898C533.625 212.467 505.814 236.288 472.438 236.288H416.823C416.826 236.274 416.828 236.26 416.83 236.246H390.287C358.313 235.163 331.887 212.216 325.488 181.883H349.172C350.26 181.883 351.339 181.924 352.406 182.004C357.959 197.565 372.236 209.719 389.416 210.245C395.171 210.421 407.223 210.452 416.353 210.458C416.346 210.428 416.341 210.397 416.335 210.367H447.016C446.999 210.453 446.981 210.54 446.965 210.626H472.002C472.563 210.626 473.122 210.611 473.679 210.59C473.705 210.508 473.732 210.426 473.759 210.345C492.149 209.786 507.612 197.606 513.06 180.898H539.801ZM472.438 99C506.015 99.0003 533.96 123.109 539.91 154.961H513.244C507.842 137.559 491.616 124.922 472.438 124.922H392.652C373.093 124.922 356.604 138.065 351.535 156.002C350.751 155.975 349.963 155.961 349.172 155.961H325C330.547 123.615 358.724 99 392.652 99H472.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="325" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="314.5" y="18.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M662.024 235C655.849 266.568 627.853 292.288 594.477 292.288H538.862C538.865 292.274 538.867 292.26 538.869 292.246H512.326C480.353 291.163 453.926 266.333 447.527 236H471.211C472.299 236 473.432 235.92 474.5 236C480.053 251.561 494.275 265.719 511.455 266.245C517.21 266.421 529.262 266.452 538.392 266.458C538.385 266.428 538.38 266.397 538.374 266.367H569.055C569.038 266.453 569.02 266.54 569.004 266.626H594.041C594.602 266.626 595.162 266.611 595.718 266.59C595.744 266.508 595.771 266.426 595.798 266.345C614.188 265.786 629.836 251.707 635.283 235H662.024ZM594.477 155C628.054 155 656.074 177.648 662.024 209.5H635.358C629.956 192.099 613.655 180.922 594.477 180.922H514.691C495.132 180.922 478.643 193.105 473.574 211.041C472.79 211.014 472.002 211 471.211 211H447.039C452.586 178.654 480.763 155 514.691 155H594.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="447" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="436.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M784.801 179.898C778.625 211.467 750.814 235.288 717.438 235.288H661.823C661.826 235.274 661.828 235.26 661.83 235.246H635.287C603.313 234.163 576.887 211.216 570.488 180.883H594.172C595.26 180.883 596.339 180.924 597.406 181.004C602.959 196.565 617.236 208.719 634.416 209.245C640.171 209.421 652.223 209.452 661.353 209.458C661.346 209.428 661.341 209.397 661.335 209.367H692.016C691.999 209.453 692.032 209.281 692.016 209.367H717C717.561 209.367 717.944 209.389 718.5 209.367C718.526 209.285 718.732 209.426 718.759 209.345C737.149 208.786 752.612 196.606 758.06 179.898H784.801ZM717.438 98C751.015 98.0003 778.96 122.109 784.91 153.961H758.244C752.842 136.559 736.616 123.922 717.438 123.922H637.652C618.093 123.922 601.604 137.065 596.535 155.002C595.751 154.975 594.963 154.961 594.172 154.961H570C575.547 122.615 603.724 98 637.652 98H717.438Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="571" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="560.5" y="18.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6">\n<rect id="step-6-card-textbox" x="693" y="313.992" width="216" height="60" fill="#D9D9D9" class="step-6 card textbox"/>\n<path id="step-6-accent" d="M839.363 153.629C877.315 153.629 908.08 184.395 908.08 222.346C908.08 260.298 877.315 291.063 839.363 291.063H759.494C725.978 291.063 698.067 267.069 692 235.321H717.064C717.619 235.321 718.173 235.314 718.725 235.301C724.213 252.588 740.389 265.114 759.494 265.114H839.363C862.983 265.114 882.13 245.966 882.131 222.346C882.131 198.726 862.983 179.579 839.363 179.578H792.101C792.103 179.584 792.105 179.589 792.106 179.594H757.051C738.704 180.303 724.085 192.568 718.742 209.317C718.185 209.338 717.626 209.353 717.064 209.353H692C697.966 178.131 724.797 154.407 757.57 153.629H839.363Z" fill="#8C90D2" class="step-6 accent"/>\n<rect id="step-6-selection" x="678.5" y="146.5" width="236" height="239" stroke="black" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("rings_","")),n]})),nM="rings",nI={key:nM,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,1,6),s=nS.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nM,svgScalingFactor:nI.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ZoIl0W"}),icon:tI.CQO,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/rings.9591dd73.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"alternating",allowedColorSchemes:["alternating"],stepSvgData:nS,formattingMenu:G,defaultData:()=>w(nS),svgScalingFactor:1},n_=new Map(Object.entries({road_2:'<svg class="road-frame" width="1040" height="465" viewBox="-19 34.0625 1040 465" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="road-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="260.16796875" y="54.0625" width="191" height="74" class="step-1 card textbox" fill="#E5E5E5"/>\n<path id="step-1-accent" d="M356.5 153C378.315 153 396 170.685 396 192.5C396 194.366 395.87 196.203 395.619 198H395.613C394.8 203.839 392.712 209.269 389.636 214H389.647L360.748 257.694C358.771 260.683 354.385 260.683 352.408 257.694L325.373 216.819C324.662 215.911 323.992 214.97 323.361 214C323.178 213.717 322.998 213.432 322.821 213.145C322.808 213.123 322.794 213.102 322.781 213.08C321.871 211.592 321.057 210.04 320.347 208.431C320.332 208.398 320.318 208.366 320.304 208.333C318.884 205.093 317.888 201.625 317.383 198C317.132 196.202 317 194.367 317 192.5C317 170.685 334.685 153 356.5 153Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="336" y="178" width="40.31999969482422" height="40.31999969482422" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="252.5" y="47.5" width="207" height="178" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="523.16796875" y="405.0625" width="192" height="74" class="step-2 card textbox" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M619.5 386.936C641.315 386.936 659 369.251 659 347.436C659 345.57 658.87 343.733 658.619 341.936H658.613C657.8 336.097 655.712 330.667 652.636 325.936H652.647L623.748 282.242C621.771 279.253 617.385 279.253 615.408 282.242L588.373 323.117C587.662 324.025 586.992 324.966 586.361 325.936C586.178 326.219 585.998 326.504 585.821 326.792C585.808 326.813 585.794 326.834 585.781 326.856C584.871 328.344 584.057 329.896 583.347 331.505C583.332 331.538 583.318 331.57 583.304 331.603C581.884 334.843 580.888 338.311 580.383 341.936C580.132 343.734 580 345.57 580 347.436C580 369.251 597.685 386.936 619.5 386.936Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="599" y="325" width="40.31999969482422" height="40.31999969482422" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-selection" x="515.5" y="317.5" width="207" height="178" stroke="black" class="step-2 selection"/>\n</g>\n<g id="general-1" class="general-1 subtle">\n<path id="general-1_2" d="M99.7607 199.721C130.69 199.722 182.43 208.76 246.464 255.472C273.558 275.236 300.434 284.997 320.468 289.812C330.472 292.216 338.699 293.368 344.278 293.919C347.064 294.194 349.178 294.317 350.509 294.373C351.174 294.401 351.642 294.412 351.899 294.416C351.989 294.417 352.053 294.418 352.091 294.418L352.471 294.416L362.711 294.731L362.708 294.81L367.598 294.66L367.976 294.662C368.014 294.662 368.08 294.662 368.173 294.66C368.435 294.656 368.909 294.645 369.581 294.617C370.926 294.561 373.06 294.437 375.871 294.161C381.5 293.609 389.795 292.454 399.881 290.047C420.079 285.226 447.165 275.453 474.462 255.673C537.535 209.969 588.726 200.365 620 199.979L620.001 199.965C620.335 199.965 620.672 199.967 621.011 199.969C621.342 199.967 621.672 199.965 621.999 199.965V199.978C653.979 200.348 706.692 209.745 771.854 255.031C800.222 274.747 828.413 284.514 849.49 289.339C860.01 291.747 868.671 292.904 874.565 293.459C877.508 293.736 879.749 293.861 881.172 293.918C881.882 293.946 882.388 293.958 882.673 293.962C882.815 293.964 882.903 293.965 882.934 293.965H1001V315.004H983.344C982.239 315.004 981.344 315.899 981.344 317.004C981.344 318.108 982.239 319.004 983.344 319.004H1001V340.045H882.761C882.554 340.044 882.287 340.041 881.963 340.036C881.314 340.026 880.432 340.005 879.334 339.961C877.138 339.873 874.069 339.695 870.249 339.336C862.617 338.618 851.94 337.172 839.207 334.257C813.779 328.435 779.808 316.676 745.556 292.871C687.73 252.683 643.826 246.234 621.025 246.049C599.368 246.232 557.227 252.605 501.5 292.986C468.292 317.05 435.316 328.964 410.58 334.868C398.199 337.823 387.809 339.292 380.369 340.021C376.646 340.387 373.648 340.568 371.497 340.657C370.421 340.702 369.555 340.724 368.914 340.734C368.661 340.738 368.442 340.739 368.26 340.74L358.706 341.034L358.695 340.709L351.796 340.496C351.616 340.495 351.402 340.494 351.154 340.49C350.515 340.48 349.652 340.458 348.58 340.413C346.438 340.323 343.455 340.141 339.75 339.775C332.348 339.044 322.014 337.574 309.701 334.615C285.1 328.704 252.315 316.778 219.307 292.699C164.013 252.363 122.222 245.995 100.766 245.806L99.7598 245.801H1V224.76H11.2334C12.338 224.76 13.2334 223.864 13.2334 222.76C13.2334 221.655 12.338 220.76 11.2334 220.76H1V199.721H99.7607ZM330.765 314.724C329.672 314.562 328.654 315.317 328.492 316.409C328.331 317.502 329.086 318.519 330.179 318.681C341.177 320.308 351.43 321.024 360.688 321.166L362.526 321.187L362.73 321.178C363.739 321.083 364.533 320.237 364.541 319.202C364.549 318.167 363.767 317.308 362.76 317.198L362.556 317.188L360.749 317.166C351.652 317.027 341.575 316.323 330.765 314.724ZM872.153 314.363C871.054 314.257 870.076 315.063 869.97 316.162C869.864 317.261 870.669 318.239 871.769 318.345C875.327 318.688 878.13 318.854 880.051 318.933C881.011 318.972 881.751 318.99 882.255 318.998C882.506 319.002 882.699 319.003 882.831 319.004H897.357C898.462 319.004 899.357 318.108 899.357 317.004C899.357 315.899 898.462 315.004 897.357 315.004H882.848C882.732 315.003 882.555 315.002 882.319 314.998C881.848 314.991 881.141 314.974 880.215 314.936C878.363 314.86 875.634 314.7 872.153 314.363ZM926.02 315.004C924.915 315.004 924.02 315.899 924.02 317.004C924.02 318.108 924.915 319.004 926.02 319.004H954.682C955.786 319.004 956.682 318.108 956.682 317.004C956.682 315.899 955.786 315.004 954.682 315.004H926.02ZM428.35 307.068C428.014 306.016 426.89 305.436 425.838 305.771C415.433 309.087 405.608 311.401 396.659 313.001L394.882 313.311C393.793 313.496 393.06 314.53 393.246 315.619C393.42 316.64 394.339 317.347 395.351 317.278L395.554 317.255C405.14 315.62 415.761 313.18 427.052 309.582C428.104 309.247 428.685 308.121 428.35 307.068ZM829.05 305.679C827.992 305.361 826.877 305.96 826.559 307.018C826.26 308.009 826.769 309.052 827.705 309.44L827.897 309.51L829.364 309.945C835.69 311.806 841.644 313.285 847.119 314.46L849.612 314.981L849.814 315.012C850.823 315.113 851.764 314.435 851.971 313.42C852.177 312.405 851.576 311.414 850.607 311.112L850.409 311.062L847.959 310.549C842.161 309.305 835.813 307.714 829.05 305.679ZM271.426 294.294C270.438 293.8 269.236 294.202 268.742 295.189C268.249 296.177 268.649 297.378 269.637 297.872C279.582 302.843 289.103 306.717 297.856 309.734L299.596 310.326L299.793 310.381C300.782 310.605 301.799 310.049 302.129 309.067C302.458 308.086 301.984 307.028 301.061 306.609L300.87 306.535L299.159 305.952C290.558 302.987 281.201 299.18 271.426 294.294ZM788.189 289.273C787.205 288.772 786.001 289.163 785.499 290.146C784.997 291.13 785.388 292.335 786.372 292.837C793.333 296.386 800.162 299.454 806.768 302.105C807.793 302.517 808.958 302.02 809.369 300.995C809.755 300.034 809.341 298.95 808.443 298.479L808.258 298.394L805.81 297.396C800.075 295.022 794.182 292.329 788.189 289.273ZM482.641 279.15C482.106 278.184 480.891 277.833 479.924 278.367C476.462 280.28 472.948 282.296 469.385 284.42C464.69 287.218 460.022 289.777 455.403 292.115C454.418 292.614 454.024 293.818 454.522 294.804C455.022 295.788 456.225 296.183 457.21 295.685C461.909 293.306 466.657 290.702 471.433 287.855C474.959 285.754 478.435 283.76 481.858 281.868C482.825 281.334 483.175 280.117 482.641 279.15ZM223.949 265.354C223.058 264.871 221.927 265.132 221.345 265.988C220.762 266.844 220.934 267.991 221.71 268.644L221.873 268.768L224.309 270.439C226.751 272.131 229.218 273.884 231.707 275.7C235.64 278.569 239.57 281.251 243.479 283.756L245.154 284.818L245.332 284.919C246.24 285.369 247.361 285.067 247.912 284.19C248.5 283.255 248.218 282.021 247.283 281.433C242.898 278.674 238.483 275.693 234.063 272.469C231.548 270.634 229.056 268.861 226.586 267.15L224.124 265.46L223.949 265.354ZM749.403 265.296C748.476 264.696 747.238 264.96 746.638 265.887C746.037 266.814 746.302 268.053 747.229 268.653C750.629 270.857 754.074 273.168 757.562 275.593C760.685 277.763 763.806 279.824 766.916 281.782C767.851 282.371 769.086 282.091 769.675 281.156C770.227 280.28 770.014 279.14 769.215 278.516L769.048 278.397L767.899 277.671C765.22 275.963 762.534 274.176 759.846 272.308C756.322 269.859 752.841 267.523 749.403 265.296ZM528.731 249.373C528.231 248.467 527.132 248.101 526.199 248.498L526.015 248.588C519.753 252.04 513.277 255.94 506.605 260.343L505.268 261.229C504.349 261.843 504.101 263.084 504.714 264.003C505.289 264.864 506.417 265.137 507.312 264.662L507.488 264.557C514.099 260.145 520.512 256.236 526.709 252.776L527.945 252.091C528.913 251.558 529.265 250.34 528.731 249.373ZM181.839 241.126C180.883 240.789 179.807 241.224 179.366 242.161C178.925 243.098 179.274 244.204 180.144 244.727L180.324 244.823L181.603 245.429C188.012 248.489 194.667 251.984 201.551 255.969C202.507 256.522 203.73 256.195 204.283 255.239C204.837 254.283 204.511 253.06 203.555 252.507C196.581 248.47 189.833 244.926 183.326 241.819L182.028 241.204L181.839 241.126ZM705.153 241.074C704.191 240.756 703.125 241.212 702.702 242.157C702.279 243.103 702.65 244.202 703.529 244.707L703.712 244.8L705.049 245.402C711.751 248.442 718.711 251.915 725.911 255.878C726.879 256.41 728.095 256.057 728.628 255.09C729.16 254.122 728.807 252.906 727.84 252.373C720.55 248.361 713.499 244.842 706.701 241.759L705.345 241.148L705.153 241.074ZM578.27 226.987C577.893 225.941 576.622 225.382 575.431 225.739C567.929 227.991 559.902 230.799 551.404 234.295L549.699 235.004C548.561 235.481 548.053 236.676 548.566 237.674C549.048 238.609 550.255 239.039 551.343 238.695L551.559 238.616C560.527 234.857 568.96 231.88 576.794 229.528C577.985 229.171 578.646 228.034 578.27 226.987ZM657.396 225.191C656.388 225.079 655.439 225.746 655.221 226.758C654.988 227.837 655.674 228.902 656.754 229.135C664.123 230.724 672.095 232.873 680.623 235.743C681.67 236.095 682.804 235.532 683.156 234.485C683.509 233.438 682.945 232.304 681.898 231.951C673.77 229.216 666.129 227.122 659.014 225.535L657.598 225.225L657.396 225.191ZM135.905 225.032C134.899 224.908 133.943 225.564 133.713 226.573C133.483 227.583 134.062 228.588 135.022 228.912L135.22 228.968L136.556 229.276C142.821 230.751 149.528 232.667 156.647 235.135L158.18 235.672L158.376 235.73C159.361 235.971 160.387 235.432 160.733 234.456C161.08 233.48 160.623 232.414 159.707 231.98L159.518 231.902L157.958 231.355C150.709 228.843 143.87 226.889 137.472 225.383L136.107 225.067L135.905 225.032ZM617.254 221.004C613.006 221.004 608.288 221.158 603.124 221.55C601.85 221.646 600.903 222.665 601.009 223.825C601.115 224.985 602.234 225.847 603.508 225.75C608.097 225.402 612.319 225.247 616.154 225.223C616.416 225.351 616.708 225.436 617.018 225.465L617.254 225.476L618.88 225.482C622.179 225.511 625.746 225.629 629.571 225.868L631.504 225.997L631.741 226.004C632.914 225.98 633.899 225.149 633.993 224.062C634.087 222.974 633.257 222.013 632.103 221.822L631.867 221.795L629.888 221.662C625.755 221.404 621.911 221.286 618.37 221.266C618.039 221.099 617.659 221.004 617.254 221.004ZM87.1133 220.76C86.0088 220.76 85.1133 221.655 85.1133 222.76C85.1133 223.864 86.0088 224.76 87.1133 224.76H99.7598L101.116 224.767C103.866 224.794 106.841 224.907 110.033 225.139L111.646 225.265L111.852 225.271C112.865 225.253 113.72 224.469 113.806 223.438C113.897 222.337 113.079 221.37 111.979 221.278C108.071 220.953 104.459 220.8 101.156 220.767L99.7607 220.76H87.1133ZM36.5264 220.76C35.422 220.76 34.5264 221.655 34.5264 222.76C34.5264 223.864 35.422 224.76 36.5264 224.76H61.8203L62.0244 224.749C63.033 224.647 63.8203 223.795 63.8203 222.76C63.8203 221.724 63.033 220.873 62.0244 220.771L61.8203 220.76H36.5264Z" fill="#D5D6EF" class="general-1 subtle"/>\n<path id="general-1_3" d="M330.765 314.722C341.575 316.321 351.652 317.025 360.749 317.164L362.556 317.186L362.76 317.196C363.767 317.306 364.549 318.165 364.541 319.2C364.533 320.235 363.739 321.081 362.73 321.176L362.526 321.185L360.688 321.164C351.43 321.022 341.177 320.306 330.179 318.679C329.086 318.517 328.331 317.5 328.492 316.407C328.654 315.315 329.672 314.56 330.765 314.722ZM872.153 314.361C875.634 314.698 878.363 314.858 880.215 314.934C881.141 314.972 881.848 314.989 882.319 314.996C882.555 315 882.732 315.001 882.848 315.002H897.357C898.462 315.002 899.357 315.897 899.357 317.002C899.357 318.106 898.462 319.002 897.357 319.002H882.831C882.699 319.001 882.506 319 882.255 318.996C881.751 318.988 881.011 318.97 880.051 318.931C878.13 318.852 875.327 318.687 871.769 318.343C870.669 318.237 869.864 317.259 869.97 316.16C870.076 315.061 871.054 314.255 872.153 314.361ZM954.682 315.002C955.786 315.002 956.682 315.897 956.682 317.002C956.682 318.106 955.786 319.002 954.682 319.002H926.02C924.915 319.002 924.02 318.106 924.02 317.002C924.02 315.897 924.915 315.002 926.02 315.002H954.682ZM1001 319.002H983.344C982.239 319.002 981.344 318.106 981.344 317.002C981.344 315.898 982.239 315.002 983.344 315.002H1001V319.002ZM425.838 305.769C426.89 305.434 428.014 306.014 428.35 307.066C428.685 308.119 428.104 309.245 427.052 309.58C415.761 313.178 405.14 315.618 395.554 317.253L395.351 317.276C394.339 317.345 393.42 316.638 393.246 315.617C393.06 314.528 393.793 313.494 394.882 313.309L396.659 312.999C405.608 311.399 415.433 309.085 425.838 305.769ZM826.559 307.016C826.877 305.958 827.992 305.359 829.05 305.677C835.813 307.712 842.161 309.303 847.959 310.547L850.409 311.06L850.607 311.11C851.576 311.412 852.177 312.403 851.971 313.418C851.764 314.433 850.823 315.111 849.814 315.01L849.612 314.979L847.119 314.458C841.644 313.283 835.69 311.804 829.364 309.943L827.897 309.508L827.705 309.438C826.769 309.05 826.26 308.007 826.559 307.016ZM268.742 295.188C269.236 294.2 270.438 293.798 271.426 294.292C281.201 299.178 290.558 302.985 299.159 305.95L300.87 306.533L301.061 306.607C301.984 307.026 302.458 308.084 302.129 309.065C301.799 310.047 300.782 310.603 299.793 310.379L299.596 310.324L297.856 309.732C289.103 306.715 279.582 302.841 269.637 297.87C268.649 297.376 268.249 296.175 268.742 295.188ZM785.499 290.145C786.001 289.161 787.205 288.77 788.189 289.271C794.182 292.327 800.075 295.02 805.81 297.394L808.258 298.392L808.443 298.478C809.341 298.948 809.755 300.032 809.369 300.993C808.958 302.018 807.793 302.515 806.768 302.104C800.162 299.452 793.333 296.384 786.372 292.835C785.388 292.333 784.997 291.128 785.499 290.145ZM479.924 278.365C480.891 277.831 482.106 278.182 482.641 279.148C483.175 280.115 482.825 281.332 481.858 281.866C478.435 283.758 474.959 285.752 471.433 287.854C466.657 290.7 461.909 293.304 457.21 295.683C456.225 296.181 455.022 295.786 454.522 294.802C454.024 293.816 454.418 292.612 455.403 292.113C460.022 289.775 464.69 287.216 469.385 284.418C472.948 282.294 476.462 280.278 479.924 278.365ZM221.345 265.986C221.927 265.13 223.058 264.869 223.949 265.352L224.124 265.458L226.586 267.148C229.056 268.859 231.548 270.632 234.063 272.467C238.483 275.691 242.898 278.672 247.283 281.431C248.218 282.019 248.5 283.254 247.912 284.188C247.361 285.065 246.24 285.367 245.332 284.917L245.154 284.816L243.479 283.754C239.57 281.249 235.64 278.567 231.707 275.698C229.218 273.882 226.751 272.129 224.309 270.438L221.873 268.766L221.71 268.642C220.934 267.99 220.762 266.842 221.345 265.986ZM746.638 265.885C747.238 264.958 748.476 264.694 749.403 265.294C752.841 267.521 756.322 269.857 759.846 272.306C762.534 274.174 765.22 275.961 767.899 277.669L769.048 278.396L769.215 278.514C770.014 279.138 770.227 280.278 769.675 281.154C769.086 282.089 767.851 282.369 766.916 281.78C763.806 279.822 760.685 277.761 757.562 275.591C754.074 273.166 750.629 270.855 747.229 268.651C746.302 268.051 746.037 266.812 746.638 265.885ZM526.199 248.496C527.132 248.099 528.231 248.465 528.731 249.371C529.265 250.338 528.913 251.556 527.945 252.089L526.709 252.774C520.512 256.234 514.099 260.143 507.488 264.555L507.312 264.66C506.417 265.135 505.289 264.862 504.714 264.001C504.101 263.082 504.349 261.841 505.268 261.228L506.605 260.341C513.277 255.938 519.753 252.038 526.015 248.586L526.199 248.496ZM179.366 242.159C179.807 241.222 180.883 240.787 181.839 241.124L182.028 241.202L183.326 241.817C189.833 244.924 196.581 248.468 203.555 252.505C204.511 253.058 204.837 254.281 204.283 255.237C203.73 256.193 202.507 256.52 201.551 255.967C194.667 251.982 188.012 248.487 181.603 245.427L180.324 244.821L180.144 244.725C179.274 244.202 178.925 243.096 179.366 242.159ZM702.702 242.155C703.125 241.21 704.191 240.754 705.153 241.072L705.345 241.146L706.701 241.757C713.499 244.84 720.55 248.359 727.84 252.371C728.807 252.904 729.16 254.12 728.628 255.088C728.095 256.056 726.879 256.408 725.911 255.876C718.711 251.913 711.751 248.44 705.049 245.4L703.712 244.798L703.529 244.705C702.65 244.2 702.279 243.101 702.702 242.155ZM575.431 225.737C576.622 225.38 577.893 225.939 578.27 226.985C578.646 228.032 577.985 229.169 576.794 229.526C568.96 231.878 560.527 234.855 551.559 238.614L551.343 238.693C550.255 239.037 549.048 238.607 548.566 237.672C548.053 236.675 548.561 235.479 549.699 235.002L551.404 234.293C559.902 230.797 567.929 227.989 575.431 225.737ZM657.396 225.189L657.598 225.223L659.014 225.533C666.129 227.12 673.77 229.214 681.898 231.949C682.945 232.302 683.509 233.437 683.156 234.483C682.804 235.53 681.67 236.093 680.623 235.741C672.095 232.871 664.123 230.722 656.754 229.133C655.674 228.9 654.988 227.835 655.221 226.756C655.439 225.744 656.388 225.077 657.396 225.189ZM135.905 225.03L136.107 225.065L137.472 225.381C143.87 226.887 150.709 228.841 157.958 231.354L159.518 231.9L159.707 231.979C160.623 232.412 161.08 233.478 160.733 234.454C160.387 235.43 159.361 235.969 158.376 235.729L158.18 235.67L156.647 235.133C149.528 232.665 142.821 230.749 136.556 229.274L135.22 228.966L135.022 228.91C134.062 228.587 133.483 227.581 133.713 226.571C133.943 225.562 134.899 224.906 135.905 225.03ZM617.254 221.002C617.659 221.002 618.039 221.097 618.37 221.264C621.911 221.284 625.755 221.402 629.888 221.66L631.867 221.793L632.103 221.82C633.257 222.011 634.087 222.972 633.993 224.06C633.899 225.147 632.914 225.978 631.741 226.002L631.504 225.995L629.571 225.866C625.746 225.627 622.179 225.509 618.88 225.48L617.254 225.474L617.018 225.463C616.708 225.434 616.416 225.35 616.154 225.221C612.319 225.245 608.097 225.4 603.508 225.748C602.234 225.845 601.115 224.983 601.009 223.823C600.903 222.663 601.85 221.644 603.124 221.548C608.288 221.156 613.006 221.002 617.254 221.002ZM101.156 220.765C104.459 220.798 108.071 220.951 111.979 221.276C113.079 221.368 113.897 222.335 113.806 223.436C113.72 224.467 112.865 225.251 111.852 225.27L111.646 225.263L110.033 225.137C106.841 224.905 103.866 224.792 101.116 224.765L99.7598 224.758H87.1133C86.0088 224.758 85.1133 223.862 85.1133 222.758C85.1133 221.653 86.0088 220.758 87.1133 220.758H99.7607L101.156 220.765ZM11.2334 220.758C12.338 220.758 13.2334 221.653 13.2334 222.758C13.2334 223.862 12.338 224.758 11.2334 224.758H1V220.758H11.2334ZM62.0244 220.769C63.033 220.871 63.8203 221.722 63.8203 222.758C63.8203 223.793 63.033 224.645 62.0244 224.747L61.8203 224.758H36.5264C35.422 224.758 34.5264 223.862 34.5264 222.758C34.5264 221.653 35.422 220.758 36.5264 220.758H61.8203L62.0244 220.769Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n</g>\n</svg>\n',road_3:'<svg class="road-frame" width="1040" height="468" viewBox="-19 33.0625 1040 468" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="road-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="175.16796875" y="56.0625" width="191" height="74" class="step-1 card textbox" fill="#E5E5E5"/>\n<path id="step-1-accent" d="M271.5 155C293.315 155 311 172.685 311 194.5C311 196.366 310.87 198.203 310.619 200H310.613C309.8 205.839 307.712 211.269 304.636 216H304.647L275.748 259.694C273.771 262.683 269.385 262.683 267.408 259.694L240.373 218.819C239.662 217.911 238.992 216.97 238.361 216C238.178 215.717 237.998 215.432 237.821 215.145C237.808 215.123 237.794 215.102 237.781 215.08C236.871 213.592 236.057 212.04 235.347 210.431C235.332 210.398 235.318 210.366 235.304 210.333C233.884 207.093 232.888 203.625 232.383 200C232.132 198.202 232 196.367 232 194.5C232 172.685 249.685 155 271.5 155Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="251" y="180" width="40.31999969482422" height="40.31999969482422" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="168.5" y="49.5" width="207" height="178" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="405.16796875" y="407.0625" width="192" height="74" class="step-2 card textbox" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M501.5 388.936C523.315 388.936 541 371.251 541 349.436C541 347.57 540.87 345.733 540.619 343.936H540.613C539.8 338.097 537.712 332.667 534.636 327.936H534.647L505.748 284.242C503.771 281.253 499.385 281.253 497.408 284.242L470.373 325.117C469.662 326.025 468.992 326.966 468.361 327.936C468.178 328.219 467.998 328.504 467.821 328.792C467.808 328.813 467.794 328.834 467.781 328.856C466.871 330.344 466.057 331.896 465.347 333.505C465.332 333.538 465.318 333.57 465.304 333.603C463.884 336.843 462.888 340.311 462.383 343.936C462.132 345.734 462 347.57 462 349.436C462 371.251 479.685 388.936 501.5 388.936Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="481" y="327" width="40.31999969482422" height="40.31999969482422" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-selection" x="397.5" y="319.5" width="207" height="178" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="628.16796875" y="53.0625" width="191" height="73" class="step-3 card textbox" fill="#E5E5E5"/>\n<path id="step-3-accent" d="M727.5 155C749.315 155 767 172.685 767 194.5C767 196.366 766.87 198.203 766.619 200H766.613C765.8 205.839 763.712 211.269 760.636 216H760.647L731.748 259.694C729.771 262.683 725.385 262.683 723.408 259.694L696.373 218.819C695.662 217.911 694.992 216.97 694.361 216C694.178 215.717 693.998 215.432 693.821 215.145C693.808 215.123 693.794 215.102 693.781 215.08C692.871 213.592 692.057 212.04 691.347 210.431C691.332 210.398 691.318 210.366 691.304 210.333C689.884 207.093 688.888 203.625 688.383 200C688.132 198.202 688 196.367 688 194.5C688 172.685 705.685 155 727.5 155Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="707" y="176" width="40.31999969482422" height="40.31999969482422" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-selection" x="622.5" y="45.5" width="207" height="178" stroke="black" class="step-3 selection"/>\n</g>\n<path id="general-2" fill-rule="evenodd" clip-rule="evenodd" d="M66.4033 197.961C93.2141 197.962 135.346 208.134 186.001 255.496C206.569 274.727 226.653 283.961 241.179 288.435C248.474 290.681 254.4 291.736 258.301 292.229C260.249 292.476 261.682 292.582 262.518 292.627C262.935 292.649 263.202 292.656 263.307 292.658H263.309L263.697 292.654L269.165 292.87L275.289 292.655L275.659 292.658C275.679 292.658 275.714 292.658 275.762 292.657C275.937 292.654 276.296 292.644 276.825 292.619C277.886 292.568 279.627 292.453 281.951 292.191C286.607 291.667 293.56 290.561 302.06 288.232C319.039 283.58 342.1 274.08 365.508 254.611C422.119 207.526 468.478 197.962 496.998 197.961C525.59 197.962 572.117 207.506 628.961 254.58C652.482 274.058 675.662 283.567 692.737 288.226C701.284 290.557 708.278 291.665 712.963 292.19C715.302 292.453 717.055 292.568 718.124 292.619C718.658 292.645 719.02 292.654 719.198 292.657C719.247 292.658 719.282 292.658 719.303 292.658L719.673 292.655L727.714 292.937C742.599 292.534 773.425 286.583 815.316 248.09C841.89 223.672 868.576 211.34 889.005 205.156C899.19 202.073 907.799 200.524 914.057 199.745C917.188 199.356 919.741 199.158 921.62 199.059C922.56 199.009 923.333 198.984 923.927 198.972C924.224 198.966 924.476 198.963 924.683 198.962H1001V220.003H975.633C974.528 220.003 973.633 220.898 973.633 222.003C973.633 223.107 974.528 224.003 975.633 224.003H1001V245.042H924.866C924.753 245.044 924.477 245.052 924.049 245.074C923.191 245.12 921.728 245.226 919.745 245.473C915.774 245.967 909.755 247.02 902.354 249.26C887.61 253.723 867.283 262.918 846.494 282.021C795.343 329.023 752.888 339.04 726.001 339.041L726 338.984L718.879 338.735C718.724 338.734 718.548 338.733 718.352 338.729C717.74 338.718 716.93 338.695 715.935 338.647C713.944 338.553 711.207 338.362 707.829 337.983C701.079 337.227 691.722 335.713 680.61 332.682C658.368 326.614 628.993 314.436 599.57 290.07C550.528 249.457 514.273 244.042 496.998 244.041C479.851 244.042 443.789 249.438 394.975 290.039C365.669 314.414 336.404 326.601 314.236 332.675C303.163 335.709 293.836 337.225 287.106 337.982C283.739 338.362 281.01 338.553 279.024 338.647C278.031 338.695 277.222 338.718 276.611 338.729C276.418 338.733 276.245 338.734 276.092 338.735L270.093 338.945L270.09 339.023L269.058 338.982L267.811 339.026L267.807 338.933L262.809 338.734C262.67 338.733 262.517 338.732 262.351 338.729C261.756 338.716 260.984 338.691 260.047 338.641C258.172 338.54 255.63 338.34 252.515 337.945C246.288 337.157 237.732 335.59 227.615 332.474C207.317 326.222 180.854 313.768 154.53 289.155C111.402 248.83 80.2146 244.042 66.4014 244.041H1V223.003H20.2412C21.3458 223.003 22.2412 222.107 22.2412 221.003C22.2412 219.898 21.3458 219.003 20.2412 219.003H1V197.961H66.4033ZM286.659 314.686C286.474 313.588 285.435 312.847 284.337 313.031C280.005 313.76 276.161 314.025 272.842 314.025C269.522 314.025 265.678 313.76 261.347 313.031C260.249 312.847 259.209 313.588 259.024 314.686C258.84 315.783 259.58 316.823 260.678 317.008C265.238 317.775 269.307 318.056 272.842 318.057C276.377 318.056 280.445 317.775 285.006 317.008C286.103 316.823 286.844 315.783 286.659 314.686ZM739.659 314.686C739.474 313.588 738.435 312.847 737.337 313.031C733.005 313.76 729.161 314.025 725.842 314.025C722.522 314.025 718.678 313.76 714.347 313.031C713.249 312.847 712.209 313.588 712.024 314.686C711.84 315.783 712.58 316.823 713.678 317.008C718.238 317.775 722.307 318.056 725.842 318.057C729.377 318.056 733.445 317.775 738.006 317.008C739.103 316.823 739.844 315.783 739.659 314.686ZM203.778 294.852C202.853 294.438 201.747 294.783 201.23 295.681C200.714 296.578 200.971 297.709 201.794 298.301L201.967 298.411L203.349 299.198C209.783 302.819 215.964 305.731 221.751 308.073L222.985 308.567L223.18 308.633C224.155 308.908 225.2 308.404 225.58 307.441C225.96 306.478 225.541 305.396 224.641 304.931L224.454 304.847L223.252 304.366C217.616 302.085 211.59 299.245 205.311 295.712L203.961 294.944L203.778 294.852ZM652.891 294.99C651.906 294.491 650.703 294.885 650.203 295.87C649.735 296.794 650.051 297.91 650.904 298.457L651.082 298.559L652.637 299.337C659.867 302.921 666.805 305.796 673.289 308.103L674.672 308.588L674.868 308.646C675.855 308.879 676.878 308.332 677.217 307.354C677.556 306.375 677.091 305.313 676.172 304.886L675.982 304.809L674.63 304.334C667.832 301.916 660.521 298.858 652.891 294.99ZM346.083 295.854C345.613 294.932 344.525 294.53 343.58 294.896L343.393 294.98C335.29 299.107 327.549 302.312 320.404 304.802C319.361 305.165 318.81 306.306 319.174 307.349C319.537 308.391 320.678 308.943 321.721 308.579C328.569 306.193 335.948 303.165 343.661 299.324L345.208 298.545C346.192 298.044 346.584 296.839 346.083 295.854ZM795.868 292.387C795.282 291.451 794.048 291.167 793.112 291.753C785.478 296.531 778.272 300.325 771.534 303.324L770.193 303.913C769.18 304.352 768.715 305.531 769.154 306.544C769.594 307.557 770.771 308.022 771.784 307.583C779.095 304.413 786.928 300.342 795.234 295.144C796.171 294.558 796.454 293.323 795.868 292.387ZM161.663 261.964C160.83 261.386 159.678 261.522 159.005 262.309C158.332 263.095 158.376 264.254 159.075 264.987L159.225 265.128L160.416 266.153C163.202 268.565 166.029 271.108 168.896 273.788C171.82 276.523 174.744 279.088 177.654 281.493C178.506 282.197 179.766 282.077 180.47 281.226C181.173 280.374 181.053 279.114 180.202 278.41C177.354 276.056 174.493 273.545 171.628 270.866C168.725 268.152 165.859 265.575 163.033 263.129L161.825 262.089L161.663 261.964ZM604.372 261.445C603.507 260.917 602.365 261.119 601.738 261.943C601.112 262.768 601.224 263.923 601.965 264.614L602.122 264.746L603.496 265.795C606.709 268.264 609.969 270.87 613.276 273.621C616.65 276.427 620.022 279.054 623.377 281.513C624.268 282.166 625.52 281.973 626.173 281.082C626.826 280.191 626.632 278.939 625.741 278.286C622.451 275.875 619.144 273.299 615.834 270.546C612.488 267.763 609.187 265.125 605.933 262.624L604.541 261.561L604.372 261.445ZM394.302 261.947C393.632 261.069 392.376 260.9 391.498 261.57C387.814 264.381 384.068 267.371 380.264 270.549C376.971 273.299 373.682 275.873 370.409 278.282C369.52 278.937 369.33 280.189 369.984 281.078C370.639 281.968 371.891 282.158 372.78 281.503C376.118 279.046 379.472 276.422 382.828 273.618C386.588 270.477 390.288 267.525 393.925 264.751C394.803 264.081 394.972 262.825 394.302 261.947ZM841.243 256.199C840.547 255.342 839.287 255.211 838.43 255.907C835.479 258.303 832.514 260.858 829.548 263.584C826.226 266.637 822.956 269.51 819.741 272.213C818.896 272.924 818.786 274.185 819.497 275.03C820.208 275.876 821.47 275.985 822.315 275.274C825.576 272.533 828.891 269.621 832.255 266.529C835.161 263.859 838.063 261.357 840.951 259.013C841.809 258.317 841.939 257.057 841.243 256.199ZM111.68 229.483C110.716 229.169 109.651 229.63 109.232 230.577C108.814 231.524 109.189 232.622 110.07 233.123L110.253 233.215L111.58 233.81C118.247 236.836 125.376 240.662 132.929 245.479C133.86 246.072 135.096 245.799 135.69 244.868C136.284 243.937 136.01 242.7 135.079 242.106C127.374 237.192 120.078 233.274 113.233 230.167L111.871 229.557L111.68 229.483ZM450.471 230.102C450.07 229.072 448.91 228.563 447.881 228.964C439.783 232.118 431.095 236.184 421.873 241.394C420.912 241.937 420.573 243.157 421.116 244.118C421.66 245.08 422.879 245.419 423.841 244.876C432.901 239.758 441.417 235.775 449.333 232.691C450.362 232.29 450.872 231.131 450.471 230.102ZM547.701 228.888C546.724 228.619 545.683 229.128 545.309 230.094C544.934 231.059 545.36 232.138 546.264 232.598L546.45 232.682L547.948 233.27C554.972 236.066 562.454 239.562 570.357 243.917L572.057 244.863L572.24 244.954C573.17 245.359 574.273 245.002 574.78 244.1C575.288 243.197 575.02 242.069 574.19 241.485L574.018 241.376L572.287 240.413C564.241 235.98 556.609 232.413 549.428 229.554L547.896 228.951L547.701 228.888ZM886.855 230.172C886.457 229.142 885.299 228.631 884.269 229.029C877.658 231.589 870.511 234.874 863.042 239.091C862.08 239.634 861.741 240.854 862.284 241.815C862.827 242.777 864.047 243.117 865.009 242.574C872.301 238.457 879.272 235.253 885.713 232.759C886.743 232.36 887.254 231.202 886.855 230.172ZM924.715 220.004C924.572 220.005 924.363 220.007 924.094 220.015C923.555 220.029 922.768 220.061 921.753 220.129C919.723 220.265 916.78 220.547 913.084 221.129C911.993 221.301 911.248 222.325 911.42 223.416C911.592 224.507 912.615 225.252 913.706 225.08C917.275 224.518 920.099 224.249 922.02 224.12C922.98 224.056 923.714 224.027 924.202 224.014C924.446 224.007 924.629 224.005 924.747 224.004C924.806 224.003 924.85 224.003 924.877 224.003H939.258C940.362 224.003 941.258 223.107 941.258 222.003C941.258 220.898 940.362 220.003 939.258 220.003H924.881C924.842 220.003 924.786 220.003 924.715 220.004ZM53.3545 219.003C52.2499 219.003 51.3545 219.898 51.3545 221.003C51.3545 222.107 52.2499 223.003 53.3545 223.003H66.3984L67.8086 223.016C70.9204 223.069 74.4006 223.305 78.2285 223.822L79.1182 223.947L79.3213 223.966C80.3342 224.009 81.2355 223.279 81.3838 222.254C81.532 221.229 80.8749 220.273 79.8916 220.027L79.6904 219.988L78.7637 219.858C74.7764 219.319 71.1405 219.072 67.8779 219.016L66.3984 219.003H53.3545ZM497.797 218.759C493.569 218.759 488.728 219.013 483.317 219.697C482.222 219.836 481.445 220.837 481.584 221.933C481.723 223.028 482.724 223.805 483.819 223.666C489.057 223.004 493.73 222.759 497.797 222.759L499.356 222.771C503.061 222.826 507.227 223.085 511.826 223.664C512.922 223.802 513.923 223.026 514.061 221.93C514.19 220.902 513.515 219.959 512.527 219.731L512.325 219.695L511.314 219.572C506.962 219.06 502.988 218.825 499.417 218.771L497.797 218.759Z" fill="#D5D6EF" class="general-2 subtle"/>\n<g id="general-1" class="general-1 accent">\n<path d="M284.337 313.03C285.435 312.846 286.474 313.587 286.659 314.685C286.844 315.782 286.103 316.822 285.006 317.007C280.445 317.774 276.377 318.056 272.842 318.056C269.307 318.056 265.238 317.774 260.678 317.007C259.58 316.822 258.84 315.782 259.024 314.685C259.209 313.587 260.249 312.846 261.347 313.03C265.678 313.759 269.522 314.024 272.842 314.024C276.161 314.024 280.005 313.759 284.337 313.03Z" fill="#4046B4"/>\n<path d="M737.337 313.03C738.435 312.846 739.474 313.587 739.659 314.685C739.844 315.782 739.103 316.822 738.006 317.007C733.445 317.774 729.377 318.056 725.842 318.056C722.307 318.056 718.238 317.774 713.678 317.007C712.58 316.822 711.84 315.782 712.024 314.685C712.209 313.587 713.249 312.846 714.347 313.03C718.678 313.759 722.522 314.024 725.842 314.024C729.161 314.024 733.005 313.759 737.337 313.03Z" fill="#4046B4"/>\n<path d="M201.23 295.68C201.747 294.782 202.853 294.437 203.778 294.851L203.961 294.943L205.311 295.711C211.59 299.244 217.616 302.084 223.252 304.365L224.454 304.846L224.641 304.93C225.541 305.395 225.96 306.477 225.58 307.44C225.2 308.403 224.155 308.907 223.18 308.632L222.985 308.566L221.751 308.072C215.964 305.73 209.783 302.818 203.349 299.197L201.967 298.41L201.794 298.3C200.971 297.708 200.714 296.577 201.23 295.68Z" fill="#4046B4"/>\n<path d="M650.203 295.869C650.702 294.884 651.905 294.49 652.891 294.989C660.521 298.857 667.832 301.915 674.63 304.333L675.982 304.808L676.172 304.885C677.091 305.312 677.556 306.374 677.217 307.353C676.878 308.331 675.855 308.878 674.868 308.645L674.672 308.587L673.289 308.102C666.805 305.795 659.867 302.92 652.637 299.336L651.082 298.558L650.904 298.456C650.051 297.909 649.735 296.793 650.203 295.869Z" fill="#4046B4"/>\n<path d="M343.58 294.896C344.525 294.529 345.613 294.931 346.083 295.854C346.584 296.838 346.192 298.043 345.208 298.544L343.661 299.323C335.948 303.164 328.569 306.192 321.721 308.578C320.678 308.942 319.537 308.39 319.174 307.348C318.81 306.305 319.361 305.164 320.404 304.801C327.549 302.311 335.29 299.106 343.393 294.979L343.58 294.896Z" fill="#4046B4"/>\n<path d="M793.112 291.752C794.048 291.166 795.282 291.45 795.868 292.386C796.454 293.322 796.171 294.557 795.234 295.143C786.928 300.341 779.095 304.412 771.784 307.582C770.771 308.021 769.594 307.556 769.154 306.543C768.715 305.53 769.18 304.352 770.193 303.912L771.534 303.323C778.272 300.324 785.478 296.53 793.112 291.752Z" fill="#4046B4"/>\n<path d="M159.005 262.308C159.678 261.521 160.83 261.385 161.663 261.963L161.825 262.088L163.033 263.128C165.859 265.574 168.725 268.151 171.628 270.865C174.493 273.544 177.354 276.055 180.202 278.409C181.053 279.113 181.173 280.373 180.47 281.225C179.766 282.076 178.506 282.196 177.654 281.492C174.744 279.087 171.82 276.522 168.896 273.787C166.029 271.107 163.202 268.564 160.416 266.152L159.225 265.127L159.075 264.986C158.376 264.253 158.332 263.094 159.005 262.308Z" fill="#4046B4"/>\n<path d="M601.738 261.942C602.365 261.118 603.507 260.916 604.372 261.444L604.541 261.56L605.933 262.623C609.187 265.124 612.488 267.762 615.834 270.545C619.144 273.298 622.451 275.874 625.741 278.285C626.632 278.938 626.826 280.19 626.173 281.081C625.52 281.972 624.268 282.165 623.377 281.512C620.022 279.053 616.65 276.426 613.276 273.62C609.969 270.869 606.709 268.263 603.496 265.794L602.122 264.745L601.965 264.613C601.224 263.922 601.112 262.767 601.738 261.942Z" fill="#4046B4"/>\n<path d="M391.498 261.569C392.376 260.899 393.632 261.068 394.302 261.946C394.972 262.824 394.803 264.08 393.925 264.75C390.288 267.524 386.588 270.476 382.828 273.617C379.472 276.421 376.118 279.045 372.78 281.502C371.891 282.157 370.639 281.967 369.984 281.077C369.33 280.188 369.52 278.936 370.409 278.281C373.682 275.872 376.971 273.298 380.264 270.548C384.068 267.37 387.814 264.38 391.498 261.569Z" fill="#4046B4"/>\n<path d="M838.43 255.906C839.287 255.21 840.547 255.341 841.243 256.198C841.939 257.056 841.809 258.316 840.951 259.012C838.063 261.356 835.161 263.858 832.255 266.528C828.891 269.62 825.576 272.532 822.315 275.273C821.47 275.984 820.208 275.875 819.497 275.029C818.787 274.184 818.896 272.923 819.741 272.212C822.956 269.509 826.226 266.636 829.548 263.583C832.514 260.857 835.479 258.302 838.43 255.906Z" fill="#4046B4"/>\n<path d="M109.232 230.576C109.651 229.629 110.716 229.168 111.68 229.482L111.871 229.556L113.233 230.166C120.078 233.274 127.374 237.191 135.079 242.105C136.01 242.699 136.284 243.936 135.69 244.867C135.096 245.798 133.86 246.071 132.929 245.478C125.376 240.661 118.247 236.835 111.58 233.809L110.253 233.214L110.07 233.122C109.189 232.621 108.814 231.523 109.232 230.576Z" fill="#4046B4"/>\n<path d="M447.881 228.963C448.91 228.562 450.07 229.071 450.471 230.101C450.872 231.13 450.362 232.289 449.333 232.69C441.417 235.774 432.901 239.757 423.841 244.875C422.879 245.418 421.66 245.079 421.116 244.117C420.573 243.156 420.912 241.936 421.873 241.393C431.095 236.183 439.783 232.117 447.881 228.963Z" fill="#4046B4"/>\n<path d="M545.309 230.093C545.683 229.127 546.724 228.618 547.701 228.887L547.896 228.95L549.428 229.553C556.609 232.412 564.241 235.979 572.287 240.412L574.018 241.375L574.19 241.484C575.02 242.068 575.288 243.196 574.78 244.099C574.273 245.001 573.17 245.358 572.24 244.953L572.057 244.862L570.357 243.916C562.454 239.561 554.972 236.065 547.948 233.269L546.45 232.681L546.264 232.597C545.36 232.137 544.934 231.058 545.309 230.093Z" fill="#4046B4"/>\n<path d="M884.269 229.028C885.298 228.63 886.457 229.141 886.855 230.171C887.254 231.201 886.743 232.359 885.713 232.758C879.272 235.252 872.301 238.457 865.009 242.573C864.047 243.116 862.827 242.776 862.284 241.814C861.741 240.853 862.08 239.633 863.042 239.09C870.511 234.873 877.658 231.588 884.269 229.028Z" fill="#4046B4"/>\n<path d="M939.258 220.002C940.362 220.002 941.258 220.897 941.258 222.002C941.258 223.107 940.362 224.002 939.258 224.002H924.877C924.85 224.002 924.806 224.002 924.747 224.003C924.629 224.004 924.446 224.006 924.202 224.013C923.714 224.026 922.98 224.055 922.02 224.119C920.099 224.248 917.275 224.517 913.706 225.079C912.615 225.251 911.592 224.506 911.42 223.415C911.248 222.324 911.993 221.3 913.084 221.128C916.78 220.546 919.723 220.264 921.753 220.128C922.768 220.06 923.555 220.028 924.094 220.014C924.363 220.006 924.572 220.004 924.715 220.003C924.786 220.002 924.842 220.002 924.881 220.002H939.258Z" fill="#4046B4"/>\n<path d="M1001 224.002H975.633C974.528 224.002 973.633 223.107 973.633 222.002C973.633 220.897 974.528 220.002 975.633 220.002H1001V224.002Z" fill="#4046B4"/>\n<path d="M67.8779 219.015C71.1405 219.071 74.7764 219.318 78.7637 219.857L79.6904 219.987L79.8916 220.026C80.8749 220.272 81.532 221.228 81.3838 222.253C81.2355 223.278 80.3342 224.008 79.3213 223.965L79.1182 223.946L78.2285 223.821C74.4006 223.304 70.9204 223.068 67.8086 223.015L66.3984 223.002H53.3545C52.2499 223.002 51.3545 222.107 51.3545 221.002C51.3545 219.897 52.2499 219.002 53.3545 219.002H66.3984L67.8779 219.015Z" fill="#4046B4"/>\n<path d="M499.417 218.771C502.988 218.824 506.962 219.059 511.314 219.571L512.325 219.694L512.527 219.73C513.515 219.958 514.19 220.901 514.061 221.929C513.923 223.025 512.922 223.801 511.826 223.663C507.227 223.084 503.061 222.825 499.356 222.77L497.797 222.758C493.73 222.758 489.057 223.003 483.819 223.665C482.724 223.804 481.723 223.027 481.584 221.932C481.445 220.836 482.222 219.835 483.317 219.696C488.728 219.012 493.569 218.758 497.797 218.758L499.417 218.771Z" fill="#4046B4"/>\n<path d="M20.2412 219.002C21.3458 219.002 22.2412 219.897 22.2412 221.002C22.2412 222.107 21.3458 223.002 20.2412 223.002H1V219.002H20.2412Z" fill="#4046B4"/>\n</g>\n</g>\n</svg>\n',road_4:'<svg class="road-frame" width="1040" height="468" viewBox="-19 35.0625 1040 468" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="road-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="133.16796875" y="58.0625" width="191" height="74" class="step-1 card textbox" fill="#E5E5E5"/>\n<path id="step-1-accent" d="M229.5 157C251.315 157 269 174.685 269 196.5C269 198.366 268.87 200.203 268.619 202H268.613C267.8 207.839 265.712 213.269 262.636 218H262.647L233.748 261.694C231.771 264.683 227.385 264.683 225.408 261.694L198.373 220.819C197.662 219.911 196.992 218.97 196.361 218C196.178 217.717 195.998 217.432 195.821 217.145C195.808 217.123 195.794 217.102 195.781 217.08C194.871 215.592 194.057 214.04 193.347 212.431C193.332 212.398 193.318 212.366 193.304 212.333C191.884 209.093 190.888 205.625 190.383 202C190.132 200.202 190 198.367 190 196.5C190 174.685 207.685 157 229.5 157Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="209" y="182" width="40.31999969482422" height="40.31999969482422" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="125.5" y="51.5" width="207" height="178" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="313.16796875" y="409.0625" width="192" height="74" class="step-2 card textbox" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M409.5 390.936C431.315 390.936 449 373.251 449 351.436C449 349.57 448.87 347.733 448.619 345.936H448.613C447.8 340.097 445.712 334.667 442.636 329.936H442.647L413.748 286.242C411.771 283.253 407.385 283.253 405.408 286.242L378.373 327.117C377.662 328.025 376.992 328.966 376.361 329.936C376.178 330.219 375.998 330.504 375.821 330.792C375.808 330.813 375.794 330.834 375.781 330.856C374.871 332.344 374.057 333.896 373.347 335.505C373.332 335.538 373.318 335.57 373.304 335.603C371.884 338.843 370.888 342.311 370.383 345.936C370.132 347.734 370 349.57 370 351.436C370 373.251 387.685 390.936 409.5 390.936Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="389" y="329" width="40.31999969482422" height="40.31999969482422" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-selection" x="305.5" y="320.5" width="207" height="178" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="491.16796875" y="55.0625" width="191" height="73" class="step-3 card textbox" fill="#E5E5E5"/>\n<path id="step-3-accent" d="M590.5 157C612.315 157 630 174.685 630 196.5C630 198.366 629.87 200.203 629.619 202H629.613C628.8 207.839 626.712 213.269 623.636 218H623.647L594.748 261.694C592.771 264.683 588.385 264.683 586.408 261.694L559.373 220.819C558.662 219.911 557.992 218.97 557.361 218C557.178 217.717 556.998 217.432 556.821 217.145C556.808 217.123 556.794 217.102 556.781 217.08C555.871 215.592 555.057 214.04 554.347 212.431C554.332 212.398 554.318 212.366 554.304 212.333C552.884 209.093 551.888 205.625 551.383 202C551.132 200.202 551 198.367 551 196.5C551 174.685 568.685 157 590.5 157Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="570" y="178" width="40.31999969482422" height="40.31999969482422" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-selection" x="486.5" y="47.5" width="207" height="178" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-card-textbox" x="671.16796875" y="409.0625" width="191" height="74" class="step-4 card textbox" fill="#E5E5E5"/>\n<path id="step-4-accent" d="M767.5 390.936C789.315 390.936 807 373.251 807 351.436C807 349.57 806.87 347.733 806.619 345.936H806.613C805.8 340.097 803.712 334.667 800.636 329.936H800.647L771.748 286.242C769.771 283.253 765.385 283.253 763.408 286.242L736.373 327.117C735.662 328.025 734.992 328.966 734.361 329.936C734.178 330.219 733.998 330.504 733.821 330.792C733.808 330.813 733.794 330.834 733.781 330.856C732.871 332.344 732.057 333.896 731.347 335.505C731.332 335.538 731.318 335.57 731.304 335.603C729.884 338.843 728.888 342.311 728.383 345.936C728.132 347.734 728 349.57 728 351.436C728 373.251 745.685 390.936 767.5 390.936Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="747" y="329" width="40.31999969482422" height="40.31999969482422" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-selection" x="663.5" y="320.5" width="207" height="178" stroke="black" class="step-4 selection"/>\n</g>\n<path id="general-2" fill-rule="evenodd" clip-rule="evenodd" d="M52.3027 204.002C77.6516 204.003 115.709 214.936 160.527 262.261C178.443 281.179 195.718 290.05 207.864 294.274C213.991 296.405 218.911 297.387 222.063 297.838C223.639 298.063 224.767 298.155 225.374 298.191C225.597 298.205 225.75 298.209 225.827 298.212L226.19 298.208L233.568 298.538L233.564 298.624L236.444 298.496L236.811 298.5C236.889 298.497 237.043 298.493 237.269 298.479C237.882 298.443 239.02 298.351 240.61 298.125C243.793 297.673 248.761 296.688 254.946 294.551C267.208 290.313 284.647 281.414 302.734 262.438C346.841 216.165 384.463 204.58 410.036 204.024L410.037 204.002C410.36 204.002 410.684 204.004 411.011 204.008C411.341 204.004 411.668 204.002 411.994 204.002V204.025C437.325 204.584 474.583 216.138 518.263 262.261C536.179 281.178 553.453 290.05 565.599 294.274C571.726 296.406 576.646 297.387 579.799 297.838C581.374 298.063 582.501 298.155 583.108 298.191C583.333 298.205 583.485 298.209 583.562 298.212L583.925 298.208L588.904 298.431L593.884 298.208L594.246 298.212C594.323 298.209 594.476 298.205 594.7 298.191C595.307 298.155 596.435 298.063 598.01 297.838C601.162 297.387 606.083 296.406 612.21 294.274C624.356 290.05 641.63 281.178 659.546 262.261C703.331 216.027 740.663 204.528 765.997 204.021L765.998 204.002C766.293 204.002 766.589 204.004 766.888 204.007C767.184 204.004 767.479 204.002 767.771 204.002V204.021C793.286 204.524 830.891 215.994 874.996 262.14C893.04 281.018 910.438 289.871 922.67 294.087C928.841 296.214 933.797 297.193 936.972 297.643C938.558 297.867 939.693 297.958 940.305 297.995C940.567 298.011 940.733 298.016 940.794 298.018H1001V319.597H985.462C984.349 319.597 983.446 320.499 983.446 321.612C983.446 322.726 984.349 323.629 985.462 323.629H1001V344.002H940.491C940.278 344.001 940.023 343.997 939.729 343.99C939.14 343.977 938.391 343.948 937.495 343.895C935.703 343.787 933.31 343.576 930.404 343.164C924.593 342.341 916.7 340.716 907.423 337.519C888.759 331.086 864.858 318.408 841.299 293.759C805.216 256.006 779.327 250.498 767.772 250.025L767.773 250.082C757.335 250.082 730.803 254.033 693.004 293.946C669.611 318.647 645.88 331.351 627.349 337.797C618.137 341.001 610.3 342.629 604.53 343.454C601.644 343.867 599.269 344.079 597.489 344.187C596.599 344.24 595.857 344.269 595.272 344.282C595.154 344.285 595.042 344.285 594.937 344.287L589.247 344.541L589.246 344.572L588.904 344.557L588.562 344.572L588.561 344.541L582.872 344.287C582.767 344.285 582.654 344.285 582.536 344.282C581.952 344.269 581.209 344.24 580.319 344.187C578.539 344.079 576.164 343.867 573.278 343.454C567.508 342.629 559.672 341.001 550.46 337.797C531.928 331.351 508.197 318.647 484.805 293.946C449.18 256.329 423.563 250.657 411.995 250.129L411.996 250.223C401.458 250.223 374.672 254.187 336.512 294.222C312.896 318.998 288.938 331.74 270.229 338.206C260.93 341.42 253.017 343.054 247.192 343.881C244.279 344.295 241.881 344.507 240.084 344.615C239.186 344.669 238.437 344.697 237.847 344.711C237.727 344.714 237.614 344.714 237.508 344.716L231.072 345.002L231.052 344.551L225.136 344.287C225.031 344.285 224.919 344.285 224.802 344.282C224.217 344.269 223.474 344.241 222.584 344.187C220.804 344.079 218.429 343.867 215.544 343.454C209.774 342.629 201.937 341.001 192.726 337.797C174.194 331.351 150.463 318.647 127.07 293.946C90.4524 255.28 64.4083 250.365 53.3262 250.095L52.3008 250.082H1V229.016H13.3555L13.5615 229.006C14.5781 228.903 15.3711 228.044 15.3711 227C15.3711 225.956 14.5781 225.097 13.5615 224.994L13.3555 224.984H1V204.002H52.3027ZM573.515 318.464C572.42 318.261 571.369 318.985 571.166 320.08C570.964 321.175 571.687 322.226 572.781 322.429C575.79 322.985 578.253 323.283 580.062 323.443L582.664 323.611L582.667 323.61C582.705 323.612 582.742 323.614 582.777 323.615C583.024 323.623 583.216 323.627 583.349 323.628C583.412 323.629 583.462 323.628 583.499 323.628L584.87 323.689C584.878 323.692 584.885 323.693 584.893 323.695L586.64 323.731L587.062 323.714H587.065C587.103 323.714 587.157 323.714 587.225 323.713C587.361 323.712 587.557 323.709 587.812 323.701C587.866 323.7 587.922 323.695 587.981 323.693C587.985 323.695 587.989 323.696 587.992 323.697L590.304 323.555C591.945 323.423 594.161 323.185 596.865 322.742L598.128 322.527L598.329 322.48C599.312 322.201 599.943 321.218 599.761 320.19C599.579 319.163 598.648 318.455 597.629 318.531L597.424 318.557L596.214 318.763C593.468 319.212 591.267 319.442 589.709 319.56C588.819 319.627 588.139 319.657 587.688 319.671C587.463 319.678 587.295 319.681 587.187 319.682H587.043L586.935 319.684L585.593 319.741C585.444 319.698 585.287 319.672 585.125 319.665L583.637 319.599L583.523 319.597H583.388C583.284 319.596 583.123 319.593 582.906 319.586C582.473 319.572 581.817 319.541 580.959 319.474C579.242 319.339 576.712 319.055 573.515 318.464ZM248.912 320.08C248.71 318.985 247.658 318.261 246.563 318.464C243.366 319.055 240.836 319.339 239.119 319.474C238.261 319.541 237.605 319.572 237.172 319.586C236.955 319.593 236.794 319.596 236.69 319.597H236.555L236.441 319.599L234.953 319.665C234.792 319.672 234.635 319.698 234.486 319.74L233.181 319.684C233.144 319.682 233.107 319.681 233.07 319.682H232.93C232.823 319.681 232.658 319.678 232.436 319.671C231.992 319.657 231.321 319.626 230.443 319.559C228.687 319.424 226.1 319.141 222.831 318.551C221.735 318.353 220.686 319.081 220.488 320.177C220.291 321.272 221.019 322.321 222.114 322.519C225.374 323.107 228.004 323.406 229.874 323.558V323.563L232.08 323.699C232.087 323.696 232.093 323.694 232.1 323.691C232.174 323.694 232.244 323.699 232.311 323.701C232.562 323.709 232.756 323.712 232.891 323.713L233.049 323.714L233.414 323.729L235.482 323.677L236.579 323.628C236.616 323.628 236.666 323.629 236.729 323.628C236.862 323.627 237.054 323.623 237.301 323.615C237.32 323.615 237.339 323.613 237.358 323.612L237.362 323.615L240.325 323.415C242.101 323.249 244.456 322.954 247.297 322.429C248.392 322.226 249.114 321.175 248.912 320.08ZM931.253 318.464C930.158 318.261 929.107 318.985 928.904 320.08C928.702 321.175 929.425 322.226 930.52 322.429C933.865 323.048 936.534 323.348 938.381 323.493C939.304 323.566 940.022 323.6 940.516 323.615C940.763 323.623 940.954 323.627 941.087 323.628C941.153 323.629 941.204 323.629 941.241 323.629H953.829L954.035 323.618C955.052 323.515 955.845 322.656 955.845 321.612C955.845 320.569 955.052 319.711 954.035 319.607L953.829 319.597H941.126C941.022 319.596 940.86 319.593 940.644 319.586C940.21 319.572 939.555 319.541 938.697 319.474C936.98 319.339 934.45 319.055 931.253 318.464ZM644.692 301.301C644.098 300.359 642.853 300.077 641.911 300.672C635.274 304.863 628.924 308.13 623.053 310.676C622.031 311.119 621.563 312.306 622.006 313.327C622.449 314.349 623.636 314.818 624.657 314.375C630.711 311.75 637.244 308.387 644.063 304.081C645.005 303.487 645.286 302.242 644.692 301.301ZM179.033 300.625C178.097 300.023 176.849 300.294 176.247 301.23C175.645 302.167 175.916 303.415 176.853 304.017C183.142 308.059 189.185 311.273 194.825 313.827L195.948 314.329L196.141 314.402C197.112 314.719 198.184 314.254 198.606 313.3C199.056 312.281 198.596 311.09 197.577 310.641C191.802 308.09 185.559 304.819 179.033 300.625ZM292.068 301.154C291.495 300.282 290.36 300.001 289.454 300.473L289.275 300.577L288.088 301.351C282.164 305.16 276.492 308.173 271.219 310.558C270.204 311.016 269.753 312.211 270.212 313.226C270.671 314.24 271.865 314.69 272.88 314.231C278.689 311.604 284.955 308.244 291.491 303.946C292.421 303.335 292.68 302.085 292.068 301.154ZM530.624 300.473C529.718 300.001 528.583 300.282 528.01 301.154C527.398 302.085 527.657 303.335 528.587 303.946C535.123 308.244 541.389 311.604 547.198 314.231C548.213 314.69 549.407 314.24 549.866 313.226C550.325 312.211 549.874 311.016 548.859 310.558C543.587 308.173 537.914 305.16 531.99 301.351L530.803 300.577L530.624 300.473ZM888.362 300.473C887.456 300.001 886.321 300.282 885.748 301.154C885.136 302.085 885.395 303.335 886.325 303.946C892.453 307.976 898.343 311.181 903.842 313.73L904.937 314.231L905.129 314.308C906.098 314.632 907.174 314.177 907.604 313.226C908.063 312.211 907.612 311.016 906.598 310.558C901.325 308.173 895.652 305.16 889.729 301.351L888.541 300.577L888.362 300.473ZM328.355 268.59C327.629 267.84 326.462 267.775 325.66 268.408L325.505 268.544L324.466 269.557C322.036 271.937 319.573 274.441 317.078 277.075C314.929 279.345 312.781 281.493 310.643 283.526L309.727 284.391L309.583 284.539C308.912 285.309 308.919 286.478 309.633 287.24C310.346 288.002 311.513 288.086 312.325 287.467L312.482 287.334L313.421 286.448C315.611 284.366 317.808 282.168 320.006 279.848C322.467 277.249 324.894 274.781 327.287 272.438L328.311 271.44L328.451 271.289C329.109 270.508 329.082 269.34 328.355 268.59ZM494.418 268.408C493.616 267.775 492.449 267.84 491.723 268.59C490.996 269.34 490.969 270.508 491.627 271.289L491.768 271.44L492.791 272.438C495.184 274.781 497.612 277.249 500.072 279.848C502.27 282.168 504.467 284.366 506.657 286.448L507.596 287.334L507.753 287.467C508.566 288.086 509.732 288.002 510.445 287.24C511.159 286.478 511.166 285.309 510.495 284.539L510.352 284.391L509.436 283.526C507.297 281.493 505.149 279.345 503 277.075C500.505 274.441 498.042 271.937 495.612 269.557L494.573 268.544L494.418 268.408ZM852.156 268.408C851.354 267.775 850.187 267.84 849.461 268.59C848.735 269.34 848.707 270.508 849.365 271.289L849.506 271.44L850.529 272.438C852.922 274.781 855.35 277.249 857.811 279.848C860.008 282.168 862.206 284.366 864.396 286.448L865.334 287.334L865.491 287.467C866.304 288.086 867.47 288.002 868.184 287.24C868.897 286.478 868.905 285.309 868.233 284.539L868.09 284.391L867.174 283.526C865.035 281.493 862.888 279.345 860.738 277.075C858.244 274.441 855.781 271.937 853.351 269.557L852.312 268.544L852.156 268.408ZM682.843 268.362C682.131 267.599 680.964 267.512 680.15 268.13L679.993 268.264L678.899 269.289C676.342 271.701 673.751 274.239 671.125 276.911C668.538 279.544 665.953 282.014 663.382 284.332C662.555 285.077 662.489 286.352 663.234 287.179C663.98 288.006 665.255 288.073 666.082 287.327C668.714 284.955 671.356 282.428 674 279.737C676.591 277.101 679.147 274.599 681.666 272.223L682.743 271.212L682.887 271.063C683.56 270.295 683.555 269.126 682.843 268.362ZM141.691 268.308C140.884 267.541 139.608 267.575 138.842 268.383C138.076 269.191 138.109 270.466 138.917 271.232C141.727 273.897 144.583 276.725 147.484 279.726C150.075 282.405 152.665 284.922 155.244 287.286C156.065 288.038 157.34 287.983 158.092 287.162C158.844 286.341 158.789 285.067 157.968 284.314C155.449 282.005 152.917 279.544 150.383 276.923C147.442 273.882 144.544 271.013 141.691 268.308ZM371.744 237.193C371.272 236.263 370.176 235.855 369.223 236.224L369.034 236.309L367.83 236.928C362.189 239.867 356.21 243.507 349.921 247.995L348.568 248.97L348.408 249.1C347.647 249.781 347.511 250.942 348.125 251.786C348.739 252.63 349.886 252.857 350.769 252.343L350.941 252.229L352.264 251.277C358.408 246.892 364.227 243.351 369.693 240.503L370.859 239.903L371.039 239.801C371.899 239.248 372.217 238.124 371.744 237.193ZM450.855 236.224C449.902 235.855 448.807 236.263 448.334 237.193C447.862 238.124 448.18 239.248 449.039 239.801L449.219 239.903L450.385 240.503C455.852 243.351 461.671 246.892 467.814 251.277L469.137 252.229L469.31 252.343C470.192 252.857 471.339 252.63 471.953 251.786C472.567 250.942 472.431 249.781 471.67 249.1L471.51 248.97L470.157 247.995C463.869 243.507 457.889 239.867 452.248 236.928L451.044 236.309L450.855 236.224ZM808.594 236.224C807.641 235.856 806.545 236.263 806.072 237.193C805.6 238.124 805.918 239.248 806.777 239.801L806.957 239.903L808.123 240.503C813.59 243.351 819.409 246.892 825.553 251.277L826.875 252.229L827.048 252.343C827.93 252.857 829.077 252.63 829.691 251.786C830.306 250.942 830.169 249.781 829.408 249.1L829.248 248.97L827.896 247.995C821.607 243.507 815.628 239.867 809.986 236.928L808.782 236.309L808.594 236.224ZM96.7451 235.802C95.7887 235.443 94.6972 235.859 94.2334 236.794C93.7696 237.729 94.0986 238.852 94.9639 239.396L95.1436 239.496L96.3418 240.098C102.359 243.159 108.792 247.021 115.606 251.871C116.513 252.517 117.772 252.305 118.418 251.398C119.023 250.548 118.875 249.388 118.106 248.715L117.945 248.587L116.557 247.607C110.099 243.101 103.96 239.45 98.1699 236.504L96.9346 235.884L96.7451 235.802ZM728.252 236.753C727.795 235.814 726.706 235.389 725.747 235.741L725.557 235.822L724.301 236.441C718.415 239.381 712.172 243.027 705.604 247.529L704.192 248.507L704.029 248.634C703.256 249.301 703.097 250.459 703.695 251.314C704.294 252.17 705.436 252.419 706.328 251.921L706.503 251.812L707.885 250.855C714.307 246.453 720.389 242.901 726.103 240.048L727.321 239.447L727.502 239.348C728.371 238.81 728.708 237.691 728.252 236.753ZM410.039 225.385C406.504 225.385 402.436 225.666 397.875 226.434C396.777 226.618 396.037 227.658 396.222 228.756C396.406 229.854 397.446 230.595 398.544 230.41C402.876 229.681 406.72 229.416 410.039 229.416C413.359 229.416 417.203 229.681 421.534 230.41C422.632 230.595 423.672 229.854 423.856 228.756C424.041 227.658 423.301 226.618 422.203 226.434C417.642 225.666 413.574 225.385 410.039 225.385ZM768 224.984C764.579 224.985 760.677 225.228 756.328 225.882L755.452 226.019L755.251 226.062C754.264 226.325 753.617 227.298 753.782 228.329C753.959 229.428 754.994 230.176 756.093 229.999C760.479 229.294 764.385 229.029 767.777 229.018V229.416C771.097 229.416 774.941 229.681 779.272 230.41C780.37 230.595 781.41 229.854 781.595 228.756C781.779 227.658 781.039 226.618 779.941 226.434C775.476 225.682 771.483 225.398 768 225.387V224.984ZM43.2021 224.984C42.089 224.985 41.1865 225.887 41.1865 227C41.1865 228.113 42.089 229.015 43.2021 229.016H55.0381C58.222 229.016 61.875 229.248 65.9658 229.875L66.7891 230.006L66.9941 230.029C68.0142 230.092 68.9365 229.373 69.1055 228.343C69.2744 227.313 68.6302 226.337 67.6436 226.07L67.4424 226.027L66.5762 225.89C62.8495 225.318 59.4557 225.058 56.416 224.998L55.0391 224.984H43.2021Z" fill="#D5D6EF" class="general-2 subtle"/>\n<g id="general-1" class="general-1 accent">\n<path d="M571.166 320.08C571.369 318.985 572.42 318.261 573.515 318.464C576.712 319.055 579.242 319.339 580.959 319.474C581.817 319.541 582.473 319.572 582.906 319.586C583.123 319.593 583.284 319.596 583.388 319.597H583.523L583.637 319.599L585.125 319.665C585.287 319.672 585.444 319.698 585.593 319.741L586.935 319.684L587.043 319.682H587.187C587.295 319.681 587.463 319.678 587.688 319.671C588.139 319.657 588.819 319.627 589.709 319.56C591.267 319.442 593.468 319.212 596.214 318.763L597.424 318.557L597.629 318.531C598.648 318.455 599.579 319.163 599.761 320.19C599.943 321.218 599.312 322.201 598.329 322.48L598.128 322.527L596.865 322.742C594.161 323.185 591.945 323.423 590.304 323.555L587.992 323.697C587.989 323.696 587.985 323.695 587.981 323.693C587.922 323.695 587.866 323.7 587.812 323.701C587.557 323.709 587.361 323.712 587.225 323.713C587.157 323.714 587.103 323.714 587.065 323.714H587.062L586.64 323.731L584.893 323.695C584.885 323.693 584.878 323.692 584.87 323.689L583.499 323.628C583.462 323.628 583.412 323.629 583.349 323.628C583.216 323.627 583.024 323.623 582.777 323.615C582.742 323.614 582.705 323.612 582.667 323.61L582.664 323.611L580.062 323.443C578.253 323.283 575.79 322.985 572.781 322.429C571.687 322.226 570.964 321.175 571.166 320.08Z" fill="#4046B4"/>\n<path d="M246.563 318.464C247.658 318.261 248.71 318.985 248.912 320.08C249.114 321.175 248.392 322.226 247.297 322.429C244.456 322.954 242.101 323.249 240.325 323.415L237.362 323.615L237.358 323.612C237.339 323.613 237.32 323.615 237.301 323.615C237.054 323.623 236.862 323.627 236.729 323.628C236.666 323.629 236.616 323.628 236.579 323.628L235.482 323.677L233.414 323.729L233.049 323.714L232.891 323.713C232.756 323.712 232.562 323.709 232.311 323.701C232.244 323.699 232.174 323.694 232.1 323.691C232.093 323.694 232.087 323.696 232.08 323.699L229.874 323.563V323.558C228.004 323.406 225.374 323.107 222.114 322.519C221.019 322.321 220.291 321.272 220.488 320.177C220.686 319.081 221.735 318.353 222.831 318.551C226.1 319.141 228.687 319.424 230.443 319.559C231.321 319.626 231.992 319.657 232.436 319.671C232.658 319.678 232.823 319.681 232.93 319.682H233.07C233.107 319.681 233.144 319.682 233.181 319.684L234.486 319.74C234.635 319.698 234.792 319.672 234.953 319.665L236.441 319.599L236.555 319.597H236.69C236.794 319.596 236.955 319.593 237.172 319.586C237.605 319.572 238.261 319.541 239.119 319.474C240.836 319.339 243.366 319.055 246.563 318.464Z" fill="#4046B4"/>\n<path d="M928.904 320.08C929.107 318.985 930.158 318.261 931.253 318.464C934.45 319.055 936.98 319.339 938.697 319.474C939.555 319.541 940.21 319.572 940.644 319.586C940.86 319.593 941.022 319.596 941.126 319.597H953.829L954.035 319.607C955.052 319.711 955.845 320.569 955.845 321.612C955.845 322.656 955.052 323.515 954.035 323.618L953.829 323.629H941.241C941.204 323.629 941.153 323.629 941.087 323.628C940.954 323.627 940.763 323.623 940.516 323.615C940.022 323.6 939.304 323.566 938.381 323.493C936.534 323.348 933.865 323.048 930.52 322.429C929.425 322.226 928.702 321.175 928.904 320.08Z" fill="#4046B4"/>\n<path d="M1001 323.629H985.462C984.349 323.629 983.446 322.726 983.446 321.612C983.446 320.499 984.349 319.597 985.462 319.597H1001V323.629Z" fill="#4046B4"/>\n<path d="M641.911 300.672C642.853 300.077 644.098 300.359 644.692 301.301C645.286 302.242 645.005 303.487 644.063 304.081C637.244 308.387 630.711 311.75 624.657 314.375C623.636 314.818 622.449 314.349 622.006 313.327C621.563 312.306 622.031 311.119 623.053 310.676C628.924 308.13 635.274 304.863 641.911 300.672Z" fill="#4046B4"/>\n<path d="M176.247 301.23C176.849 300.294 178.097 300.023 179.033 300.625C185.559 304.819 191.802 308.09 197.577 310.641C198.596 311.09 199.056 312.281 198.606 313.3C198.184 314.254 197.112 314.719 196.141 314.402L195.948 314.329L194.825 313.827C189.185 311.273 183.142 308.059 176.853 304.017C175.916 303.415 175.645 302.167 176.247 301.23Z" fill="#4046B4"/>\n<path d="M289.454 300.473C290.36 300.001 291.495 300.282 292.068 301.154C292.68 302.085 292.421 303.335 291.491 303.946C284.955 308.244 278.689 311.604 272.88 314.231C271.865 314.69 270.671 314.24 270.212 313.226C269.753 312.211 270.204 311.016 271.219 310.558C276.492 308.173 282.164 305.16 288.088 301.351L289.275 300.577L289.454 300.473Z" fill="#4046B4"/>\n<path d="M528.01 301.154C528.583 300.282 529.718 300.001 530.624 300.473L530.803 300.577L531.99 301.351C537.914 305.16 543.587 308.173 548.859 310.558C549.874 311.016 550.325 312.211 549.866 313.226C549.407 314.24 548.213 314.69 547.198 314.231C541.389 311.604 535.123 308.244 528.587 303.946C527.657 303.335 527.398 302.085 528.01 301.154Z" fill="#4046B4"/>\n<path d="M885.748 301.154C886.321 300.282 887.456 300.001 888.362 300.473L888.541 300.577L889.729 301.351C895.652 305.16 901.325 308.173 906.598 310.558C907.612 311.016 908.063 312.211 907.604 313.226C907.174 314.177 906.098 314.632 905.129 314.308L904.937 314.231L903.842 313.73C898.343 311.181 892.453 307.976 886.325 303.946C885.395 303.335 885.136 302.085 885.748 301.154Z" fill="#4046B4"/>\n<path d="M325.66 268.408C326.462 267.775 327.629 267.84 328.355 268.59C329.082 269.34 329.109 270.508 328.451 271.289L328.311 271.44L327.287 272.438C324.894 274.781 322.467 277.249 320.006 279.848C317.808 282.168 315.611 284.366 313.421 286.448L312.482 287.334L312.325 287.467C311.513 288.086 310.346 288.002 309.633 287.24C308.919 286.478 308.912 285.309 309.583 284.539L309.727 284.391L310.643 283.526C312.781 281.493 314.929 279.345 317.078 277.075C319.573 274.441 322.036 271.937 324.466 269.557L325.505 268.544L325.66 268.408Z" fill="#4046B4"/>\n<path d="M491.723 268.59C492.449 267.84 493.616 267.775 494.418 268.408L494.573 268.544L495.612 269.557C498.042 271.937 500.505 274.441 503 277.075C505.149 279.345 507.297 281.493 509.436 283.526L510.352 284.391L510.495 284.539C511.166 285.309 511.159 286.478 510.445 287.24C509.732 288.002 508.566 288.086 507.753 287.467L507.596 287.334L506.657 286.448C504.467 284.366 502.27 282.168 500.072 279.848C497.612 277.249 495.184 274.781 492.791 272.438L491.768 271.44L491.627 271.289C490.969 270.508 490.996 269.34 491.723 268.59Z" fill="#4046B4"/>\n<path d="M849.461 268.59C850.187 267.84 851.354 267.775 852.156 268.408L852.312 268.544L853.351 269.557C855.781 271.937 858.244 274.441 860.738 277.075C862.888 279.345 865.035 281.493 867.174 283.526L868.09 284.391L868.233 284.539C868.905 285.309 868.897 286.478 868.184 287.24C867.47 288.002 866.304 288.086 865.491 287.467L865.334 287.334L864.396 286.448C862.206 284.366 860.008 282.168 857.811 279.848C855.35 277.249 852.922 274.781 850.529 272.438L849.506 271.44L849.365 271.289C848.707 270.508 848.735 269.34 849.461 268.59Z" fill="#4046B4"/>\n<path d="M680.15 268.13C680.964 267.512 682.131 267.599 682.843 268.362C683.555 269.126 683.56 270.295 682.887 271.063L682.743 271.212L681.666 272.223C679.147 274.599 676.591 277.101 674 279.737C671.356 282.428 668.714 284.955 666.082 287.327C665.255 288.073 663.98 288.006 663.234 287.179C662.489 286.352 662.555 285.077 663.382 284.332C665.953 282.014 668.538 279.544 671.125 276.911C673.751 274.239 676.342 271.701 678.899 269.289L679.993 268.264L680.15 268.13Z" fill="#4046B4"/>\n<path d="M138.842 268.383C139.608 267.575 140.884 267.541 141.691 268.308C144.544 271.013 147.442 273.882 150.383 276.923C152.917 279.544 155.449 282.005 157.968 284.314C158.789 285.067 158.844 286.341 158.092 287.162C157.34 287.983 156.065 288.038 155.244 287.286C152.665 284.922 150.075 282.405 147.484 279.726C144.583 276.725 141.727 273.897 138.917 271.232C138.109 270.466 138.076 269.191 138.842 268.383Z" fill="#4046B4"/>\n<path d="M369.223 236.224C370.176 235.855 371.272 236.263 371.744 237.193C372.217 238.124 371.899 239.248 371.039 239.801L370.859 239.903L369.693 240.503C364.227 243.351 358.408 246.892 352.264 251.277L350.941 252.229L350.769 252.343C349.886 252.857 348.739 252.63 348.125 251.786C347.511 250.942 347.647 249.781 348.408 249.1L348.568 248.97L349.921 247.995C356.21 243.507 362.189 239.867 367.83 236.928L369.034 236.309L369.223 236.224Z" fill="#4046B4"/>\n<path d="M448.334 237.193C448.807 236.263 449.902 235.855 450.855 236.224L451.044 236.309L452.248 236.928C457.889 239.867 463.869 243.507 470.157 247.995L471.51 248.97L471.67 249.1C472.431 249.781 472.567 250.942 471.953 251.786C471.339 252.63 470.192 252.857 469.31 252.343L469.137 252.229L467.814 251.277C461.671 246.892 455.852 243.351 450.385 240.503L449.219 239.903L449.039 239.801C448.18 239.248 447.862 238.124 448.334 237.193Z" fill="#4046B4"/>\n<path d="M806.072 237.193C806.545 236.263 807.641 235.856 808.594 236.224L808.782 236.309L809.986 236.928C815.628 239.867 821.607 243.507 827.896 247.995L829.248 248.97L829.408 249.1C830.169 249.781 830.306 250.942 829.691 251.786C829.077 252.63 827.93 252.857 827.048 252.343L826.875 252.229L825.553 251.277C819.409 246.892 813.59 243.351 808.123 240.503L806.957 239.903L806.777 239.801C805.918 239.248 805.6 238.124 806.072 237.193Z" fill="#4046B4"/>\n<path d="M94.2334 236.794C94.6972 235.859 95.7887 235.443 96.7451 235.802L96.9346 235.884L98.1699 236.504C103.96 239.45 110.099 243.101 116.557 247.607L117.945 248.587L118.106 248.715C118.875 249.388 119.023 250.548 118.418 251.398C117.772 252.305 116.513 252.517 115.606 251.871C108.792 247.021 102.359 243.159 96.3418 240.098L95.1436 239.496L94.9639 239.396C94.0986 238.852 93.7696 237.729 94.2334 236.794Z" fill="#4046B4"/>\n<path d="M725.747 235.741C726.706 235.389 727.795 235.814 728.252 236.753C728.708 237.691 728.371 238.81 727.502 239.348L727.321 239.447L726.103 240.048C720.389 242.901 714.307 246.453 707.885 250.855L706.503 251.812L706.328 251.921C705.436 252.419 704.294 252.17 703.695 251.314C703.097 250.459 703.256 249.301 704.029 248.634L704.192 248.507L705.604 247.529C712.172 243.027 718.415 239.381 724.301 236.441L725.557 235.822L725.747 235.741Z" fill="#4046B4"/>\n<path d="M410.039 225.385C413.574 225.385 417.642 225.666 422.203 226.434C423.301 226.618 424.041 227.658 423.856 228.756C423.672 229.854 422.632 230.595 421.534 230.41C417.203 229.681 413.359 229.416 410.039 229.416C406.72 229.416 402.876 229.681 398.544 230.41C397.446 230.595 396.406 229.854 396.222 228.756C396.037 227.658 396.777 226.618 397.875 226.434C402.436 225.666 406.504 225.385 410.039 225.385Z" fill="#4046B4"/>\n<path d="M768 225.387C771.483 225.398 775.476 225.682 779.941 226.434C781.039 226.618 781.779 227.658 781.595 228.756C781.41 229.854 780.37 230.595 779.272 230.41C774.941 229.681 771.097 229.416 767.777 229.416V229.018C764.385 229.029 760.479 229.294 756.093 229.999C754.994 230.176 753.959 229.428 753.782 228.329C753.617 227.298 754.264 226.325 755.251 226.062L755.452 226.019L756.328 225.882C760.677 225.228 764.579 224.985 768 224.984V225.387Z" fill="#4046B4"/>\n<path d="M56.416 224.998C59.4557 225.058 62.8495 225.318 66.5762 225.89L67.4424 226.027L67.6436 226.07C68.6302 226.337 69.2744 227.313 69.1055 228.343C68.9365 229.373 68.0142 230.092 66.9941 230.029L66.7891 230.006L65.9658 229.875C61.875 229.248 58.222 229.016 55.0381 229.016H43.2021C42.089 229.015 41.1865 228.113 41.1865 227C41.1865 225.887 42.089 224.985 43.2021 224.984H55.0391L56.416 224.998Z" fill="#4046B4"/>\n<path d="M13.5615 224.994C14.5781 225.097 15.3711 225.956 15.3711 227C15.3711 228.044 14.5781 228.903 13.5615 229.006L13.3555 229.016H1V224.984H13.3555L13.5615 224.994Z" fill="#4046B4"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nD="road",nR={key:nD,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,2,4),s=n_.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nD,svgScalingFactor:nR.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"LL9rkd"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/road.8f061a9a.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.dmS,defaultColorScheme:null,stepSvgData:n_,formattingMenu:G,defaultData:()=>w(n_),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nT=new Map(Object.entries({signs_1:'<svg class="signs-frame" width="510.92796875" height="539.76" viewBox="471.62 -2.380000000000001 510.92796875 539.76" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="signs-frame">\n<g id="general-1" class="general-1 subtle">\n<path id="general-1-subtle-no-border" d="M500 8C509.941 8 518 16.0589 518 26V192H500V252H518V527H482V26C482 16.0589 490.059 8 500 8Z" fill="#D5D6EF" class="general-1 no-border subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent-no-border" d="M518 198H575.75V197.751L575.988 198H576V198.012L599 222L576 245.988V246H575.988L575.75 246.249V246H518V252H500V192H518V198Z" fill="#4046B4" class="step-1 no-border accent"/>\n<rect id="step-1-card-textbox" x="618.16796875" y="207.0625" width="354" height="110" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent-icon" x="535" y="207" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="527.5" y="192.5" width="457" height="136" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',signs_2:'<svg class="signs-frame" width="983.84" height="556.84" viewBox="7.247968749999998 -10.920000000000002 983.84 556.84" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="signs-frame">\n<g id="general-1" class="general-1 subtle">\n<path id="general-1-subtle-no-border" d="M500 8C509.941 8 518 16.0589 518 26V136H500V196H518V527H482V306H500V246H482V26C482 16.0589 490.059 8 500 8Z" fill="#D5D6EF" class="general-1 no-border subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent-no-border" d="M518 142H575.75V141.751L575.988 142H576V142.012L599 166L576 189.988V190H575.988L575.75 190.249V190H518V196H500V136H518V142Z" fill="#4046B4" class="step-1 no-border accent"/>\n<rect id="step-1-card-textbox" x="618.16796875" y="151.0625" width="354" height="110" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent-icon" x="535" y="151" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="527.5" y="136.5" width="457" height="136" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent-no-border" d="M482 252H424.25V251.751L424.012 252H424V252.012L401 276L424 299.988V300H424.012L424.25 300.249V300H482V306H500V246H482V252Z" fill="#666BC3" class="step-2 no-border accent"/>\n<rect id="step-2-accent-icon" x="436" y="261" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-textbox" x="26.16796875" y="261.0625" width="354" height="110" class="step-2 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="19.5" y="246.5" width="457" height="136" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',signs_3:'<svg class="signs-frame" width="983.84" height="556.84" viewBox="7.247968749999998 -10.920000000000002 983.84 556.84" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="signs-frame">\n<g id="general-1" class="general-1 subtle">\n<path id="general-1-subtle-no-border" d="M500 8C509.941 8 518 16.0589 518 26V82H500V142H518V302H500V362H518V527H482V252H500V192H482V26C482 16.0589 490.059 8 500 8Z" fill="#D5D6EF" class="general-1 no-border subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent-no-border" d="M518 88H575.75V87.751L575.988 88H576V88.0117L599 112L576 135.988V136H575.988L575.75 136.249V136H518V142H500V82H518V88Z" fill="#4046B4" class="step-1 no-border accent"/>\n<rect id="step-1-card-textbox" x="618.16796875" y="97.0625" width="354" height="110" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent-icon" x="535" y="97" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="527.5" y="82.5" width="457" height="136" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent-no-border" d="M482 198H424.25V197.751L424.012 198H424V198.012L401 222L424 245.988V246H424.012L424.25 246.249V246H482V252H500V192H482V198Z" fill="#666BC3" class="step-2 no-border accent"/>\n<rect id="step-2-accent-icon" x="436" y="207" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-textbox" x="26.16796875" y="207.0625" width="354" height="110" class="step-2 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="19.5" y="192.5" width="457" height="136" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent-no-border" d="M518 308H575.75V307.751L575.988 308H576V308.012L599 332L576 355.988V356H575.988L575.75 356.249V356H518V362H500V302H518V308Z" fill="#8C90D2" class="step-3 no-border accent"/>\n<rect id="step-3-card-textbox" x="618.16796875" y="318.0625" width="354" height="110" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent-icon" x="535" y="317" width="30" height="30" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-selection" x="527.5" y="302.5" width="457" height="136" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',signs_4:'<svg class="signs-frame" width="984.010625" height="556.8466525" viewBox="7.080625000000001 -11.794371249999998 984.010625 556.8466525" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="signs-frame">\n<g id="general-1" class="general-1 subtle">\n<path id="general-1-subtle-no-border" d="M499.164 7.12891C509.105 7.12891 517.164 15.1878 517.164 25.1289V42.1289H499.164V102.129H517.164V262.129H499.164V322.129H517.164V526.129H481.164V432.129H499.164V372.129H481.164V212.129H499.164V152.129H481.164V25.1289C481.164 15.1878 489.223 7.12891 499.164 7.12891Z" fill="#D5D6EF" class="general-1 no-border subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent-no-border" d="M517.164 48.1289H574.914V47.8799L575.152 48.1289H575.164V48.1406L598.164 72.1289L575.164 96.1172V96.1289H575.152L574.914 96.3779V96.1289H517.164V102.129H499.164V42.1289H517.164V48.1289Z" fill="#4046B4" class="step-1 no-border accent"/>\n<rect id="step-1-card-textbox" x="618.16796875" y="58.0625" width="354" height="110" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent-icon" x="535" y="58" width="30" height="30" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-selection" x="526.664" y="42.6289" width="457" height="136" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent-no-border" d="M481.164 158.129H423.414V157.88L423.176 158.129H423.164V158.141L400.164 182.129L423.164 206.117V206.129H423.176L423.414 206.378V206.129H481.164V212.129H499.164V152.129H481.164V158.129Z" fill="#666BC3" class="step-2 no-border accent"/>\n<rect id="step-2-accent-icon" x="436" y="168" width="30" height="30" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-card-textbox" x="26.00390625" y="167.93359375" width="354" height="110" class="step-2 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="15.5" y="152.629" width="457" height="136" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent-no-border" d="M517.164 268.129H574.914V267.88L575.152 268.129H575.164V268.141L598.164 292.129L575.164 316.117V316.129H575.152L574.914 316.378V316.129H517.164V322.129H499.164V262.129H517.164V268.129Z" fill="#8C90D2" class="step-3 no-border accent"/>\n<rect id="step-3-card-textbox" x="618.16796875" y="278.0625" width="354" height="110" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent-icon" x="535" y="278" width="30" height="30" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-selection" x="526.664" y="262.629" width="457" height="136" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent-no-border" d="M481.164 378.129H423.414V377.88L423.176 378.129H423.164V378.141L400.164 402.129L423.164 426.117V426.129H423.176L423.414 426.378V426.129H481.164V432.129H499.164V372.129H481.164V378.129Z" fill="#B3B5E1" class="step-4 no-border accent"/>\n<rect id="step-4-card-textbox" x="26.16796875" y="388.0625" width="354" height="108" class="step-4 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-4-accent-icon" x="436" y="388" width="30" height="30" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-selection" x="15.5" y="372.629" width="457" height="136" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nz="signs",nH={key:nz,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=nT.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nz,svgScalingFactor:nH.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"SOssfV"}),icon:a.dmS,defaultColorScheme:"monochrome",stepSvgData:nT,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/signs.1cd04bee.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,defaultData:()=>w(nT),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nN=new Map(Object.entries({slope_2:'<svg class="slope-frame" width="365.779" height="395.13800000000003" viewBox="318 148 365.779 395.13800000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.944 204.898C458.306 204.898 495.889 242.482 495.889 288.843V533.138H328V288.843C328 242.482 365.583 204.898 411.944 204.898ZM412 222.328C376.101 222.328 347 251.43 347 287.328C347 323.227 376.101 352.328 412 352.328C447.899 352.328 477 323.227 477 287.328C477 251.43 447.899 222.328 412 222.328Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="331.1689453125" y="372.92578125" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="329.5" y="251.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-icon" x="384" y="260" width="55" height="55" class="step-1 icon subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M589.835 158C636.196 158 673.779 195.583 673.779 241.944V533.131H505.891V241.944C505.891 195.583 543.474 158 589.835 158ZM590.002 175.328C554.103 175.328 525.002 204.43 525.002 240.328C525.002 276.227 554.103 305.328 590.002 305.328C625.9 305.328 655.002 276.227 655.002 240.328C655.002 204.43 625.9 175.328 590.002 175.328Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="511.1669921875" y="326.92578125" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="507.5" y="204.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-icon" x="562" y="213" width="55" height="55" class="step-2 icon subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_3:'<svg class="slope-frame" width="545.5278400000002" height="443.00984000000005" viewBox="228.50907999999998 101.50907999999998 545.5278400000002 443.00984000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.944 205.789C369.306 205.789 406.889 243.372 406.889 289.733V534.028H239V289.733C239 243.372 276.583 205.789 322.944 205.789ZM323 223.219C287.101 223.219 258 252.32 258 288.219C258 324.117 287.101 353.219 323 353.219C358.899 353.219 388 324.117 388 288.219C388 252.32 358.899 223.219 323 223.219Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-icon" x="295" y="260" width="55" height="55" class="step-1 icon subtle" fill="#666666"/>\n<rect id="step-1-accent-textbox" x="242.1689453125" y="373.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="240.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.827 158.891C547.188 158.891 584.771 196.474 584.771 242.835V534.021H416.883V242.835C416.883 196.474 454.466 158.891 500.827 158.891ZM500.994 176.219C465.096 176.219 435.994 205.32 435.994 241.219C435.994 277.117 465.096 306.219 500.994 306.219C536.893 306.219 565.994 277.117 565.994 241.219C565.994 205.32 536.893 176.219 500.994 176.219Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-icon" x="473" y="213" width="55" height="55" class="step-2 icon subtle" fill="#666666"/>\n<rect id="step-2-accent-textbox" x="422.1748046875" y="327.0625" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="418.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.159 112C725.764 112 763.546 149.782 763.546 196.387V534.022H594.773V196.387C594.773 149.782 632.554 112 679.159 112ZM678.996 129.219C643.098 129.219 613.996 158.32 613.996 194.219C613.996 230.117 643.098 259.219 678.996 259.219C714.895 259.219 743.996 230.117 743.996 194.219C743.996 158.32 714.895 129.219 678.996 129.219Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="599.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="595.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-icon" x="651" y="166" width="55" height="55" class="step-3 icon subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_4:'<svg class="slope-frame" width="730.53344" height="497.01644" viewBox="135.95127999999997 50.95127999999998 730.53344 497.01644" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M233.944 205.68C280.306 205.68 317.889 243.263 317.889 289.624V533.919H150V289.624C150 243.263 187.583 205.68 233.944 205.68ZM234 223.109C198.101 223.109 169 252.211 169 288.109C169 324.008 198.101 353.109 234 353.109C269.899 353.109 299 324.008 299 288.109C299 252.211 269.899 223.109 234 223.109Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="153.1689453125" y="374.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="151.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-icon" x="206" y="260" width="55" height="55" class="step-1 icon subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.827 158.781C458.188 158.781 495.771 196.364 495.771 242.726V533.912H327.883V242.726C327.883 196.364 365.466 158.781 411.827 158.781ZM411.994 176.109C376.096 176.109 346.994 205.211 346.994 241.109C346.994 277.008 376.096 306.109 411.994 306.109C447.893 306.109 476.994 277.008 476.994 241.109C476.994 205.211 447.893 176.109 411.994 176.109Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="332.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="329.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-icon" x="384" y="213" width="55" height="55" class="step-2 icon subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M590.159 111.891C636.764 111.891 674.546 149.672 674.546 196.277V533.913H505.773V196.277C505.773 149.672 543.554 111.891 590.159 111.891ZM589.996 129.109C554.098 129.109 524.996 158.211 524.996 194.109C524.996 230.008 554.098 259.109 589.996 259.109C625.895 259.109 654.996 230.008 654.996 194.109C654.996 158.211 625.895 129.109 589.996 129.109Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="510.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="506.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-icon" x="562" y="166" width="55" height="55" class="step-3 icon subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M768.491 65C814.852 65 852.436 102.583 852.436 148.944V533.913H684.547V148.944C684.547 102.583 722.13 65 768.491 65ZM767.998 82.1094C732.1 82.1094 702.998 111.211 702.998 147.109C702.998 183.008 732.1 212.109 767.998 212.109C803.897 212.109 832.998 183.008 832.998 147.109C832.998 111.211 803.897 82.1094 767.998 82.1094Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="687.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="685.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-icon" x="740" y="119" width="55" height="55" class="step-4 icon subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_5:'<svg class="slope-frame" width="915.5390400000001" height="551.0230399999999" viewBox="43.39348 0.3934799999999967 915.5390400000001 551.0230399999999" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M144.944 205.57C191.306 205.57 228.889 243.153 228.889 289.515V533.81H61V289.515C61 243.153 98.5832 205.57 144.944 205.57ZM145 223C109.101 223 80 252.101 80 288C80 323.899 109.101 353 145 353C180.899 353 210 323.899 210 288C210 252.101 180.899 223 145 223Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="64.1689453125" y="377.0625" width="160" height="125" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="62.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-icon" x="117" y="260" width="55" height="55" class="step-1 icon subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.827 158.672C369.188 158.672 406.771 196.255 406.771 242.616V533.803H238.883V242.616C238.883 196.255 276.466 158.672 322.827 158.672ZM322.994 176C287.096 176 257.994 205.101 257.994 241C257.994 276.899 287.096 306 322.994 306C358.893 306 387.994 276.899 387.994 241C387.994 205.101 358.893 176 322.994 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="242.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="239.5" y="205.5" width="167" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-icon" x="295" y="213" width="55" height="55" class="step-2 icon subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M501.159 111.781C547.764 111.781 585.546 149.563 585.546 196.168V533.804H416.773V196.168C416.773 149.563 454.554 111.781 501.159 111.781ZM500.996 129C465.098 129 435.996 158.101 435.996 194C435.996 229.899 465.098 259 500.996 259C536.895 259 565.996 229.899 565.996 194C565.996 158.101 536.895 129 500.996 129Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="421.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="417.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-icon" x="473" y="166" width="55" height="55" class="step-3 icon subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.491 64.8906C725.852 64.8906 763.436 102.474 763.436 148.835V533.804H595.547V148.835C595.547 102.474 633.13 64.8907 679.491 64.8906ZM678.998 82C643.1 82 613.998 111.101 613.998 147C613.998 182.899 643.1 212 678.998 212C714.897 212 743.998 182.899 743.998 147C743.998 111.101 714.897 82 678.998 82Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="598.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="596.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-icon" x="651" y="119" width="55" height="55" class="step-4 icon subtle" fill="#666666"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5" fill-rule="evenodd" clip-rule="evenodd" d="M857.382 18C903.743 18 941.326 55.5832 941.326 101.944V533.809H773.438V101.944C773.438 55.5832 811.021 18 857.382 18ZM858 35C822.101 35 793 64.1015 793 100C793 135.899 822.101 165 858 165C893.899 165 923 135.899 923 100C923 64.1015 893.899 35 858 35Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-textbox" x="776.1689453125" y="186.0625" width="160" height="128" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="773.5" y="64.5" width="168" height="258" stroke="black" class="step-5 selection"/>\n<rect id="step-5-card-icon" x="830" y="69" width="55" height="55" class="step-5 icon subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nB="slope",nP={key:nB,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:5,2,5),s=nN.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nB,svgScalingFactor:nP.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ppRU+y"}),icon:a.pyr,defaultColorScheme:"monochrome",stepSvgData:nN,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/slope.09a45f04.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,defaultData:()=>w(nN),svgScalingFactor:1},nF=new Map(Object.entries({solar_system_2:'<svg class="solar_system-frame" width="1012.96" height="525.96" viewBox="-5.31203125 4.52 1012.96 525.96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="solar_system-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-accent" cx="500.5" cy="267.5" r="95.5" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.16796875" y="221.0625" width="134" height="91.6842041015625" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="general-2" class="general-2 subtle">\n<path id="general-2-background" d="M630.928 268.131C630.928 196.798 572.959 138.971 501.451 138.971C429.942 138.971 371.973 196.798 371.973 268.131C371.973 339.464 429.942 397.291 501.451 397.291V398.262C429.405 398.262 371 340 371 268.131C371 196.262 429.405 138 501.451 138C573.496 138 631.901 196.262 631.901 268.131C631.901 340 573.496 398.262 501.451 398.262V397.291C572.959 397.291 630.928 339.464 630.928 268.131Z" fill="#D5D6EF" class="general-2 background subtle"/>\n</g>\n<g id="general-3" class="general-3 subtle">\n<path id="general-3-background" d="M666.803 268C666.803 176.553 592.671 102.421 501.224 102.421C409.778 102.421 335.646 176.553 335.646 268C335.646 359.447 409.778 433.579 501.224 433.579V434.488C409.276 434.488 334.736 359.949 334.736 268C334.736 176.051 409.276 101.512 501.224 101.512C593.173 101.512 667.712 176.051 667.712 268C667.712 359.949 593.173 434.488 501.224 434.488V433.579C592.671 433.579 666.803 359.447 666.803 268Z" fill="#D5D6EF" class="general-3 background subtle"/>\n</g>\n<g id="general-4" class="general-4 subtle">\n<path id="general-4-background" d="M705.1 268.125C705.1 155.471 613.776 64.147 501.123 64.147C388.469 64.147 297.145 155.471 297.145 268.125C297.145 380.778 388.469 472.102 501.123 472.102V472.991C387.978 472.991 296.256 381.269 296.256 268.125C296.256 154.98 387.978 63.2578 501.123 63.2578C614.267 63.2578 705.989 154.98 705.989 268.125C705.989 381.269 614.267 472.991 501.123 472.991V472.102C613.776 472.102 705.1 380.778 705.1 268.125Z" fill="#D5D6EF" class="general-4 background subtle"/>\n</g>\n<g id="general-5" class="general-5 subtle">\n<path id="general-5-background" d="M743.115 267.5C743.115 133.507 634.493 24.8852 500.5 24.8852C366.507 24.8852 257.885 133.507 257.885 267.5C257.885 401.493 366.507 510.115 500.5 510.115V511C366.019 511 257 401.981 257 267.5C257 133.019 366.019 24 500.5 24C634.981 24 744 133.019 744 267.5C744 401.981 634.981 511 500.5 511V510.115C634.493 510.115 743.115 401.493 743.115 267.5Z" fill="#D5D6EF" class="general-5 background subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="379" cy="157" r="25" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="366" y="144" width="25.441442489624023" height="25.441442489624023" class="step-1 accent icon" fill="#666666"/>\n<rect id="step-1-card-textbox" x="14.16796875" y="113.0625" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent_2" x="15" y="95" width="35" height="8" rx="2.17825" fill="#666BC3" class="step-1 accent"/>\n<path id="step-1_2" d="M324.5 99V100H51V99H324.5Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="329" width="35" height="8" rx="2.17825" fill="#8C90D2" class="step-2 accent"/>\n<circle id="step-2-accent" cx="655" cy="329" r="25" fill="#8C90D2" class="step-2 accent"/>\n<path id="step-2_3" d="M761 333V335L734 335L734 333L761 333Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.16796875" y="347.0625" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent-icon" x="642" y="316" width="25.441442489624023" height="25.441442489624023" class="step-2 accent icon" fill="#666666"/>\n<rect id="step-2-selection" x="706.5" y="318.5" width="294" height="193" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',solar_system_3:'<svg class="solar_system-frame" width="1012.96" height="525.96" viewBox="-5.31203125 4.52 1012.96 525.96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="solar_system-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-accent" cx="500.5" cy="267.5" r="95.5" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.16796875" y="221.0625" width="134" height="91.6842041015625" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="general-2" class="general-2 subtle">\n<path id="general-2-background" d="M630.928 268.131C630.928 196.798 572.959 138.971 501.451 138.971C429.942 138.971 371.973 196.798 371.973 268.131C371.973 339.464 429.942 397.291 501.451 397.291V398.262C429.405 398.262 371 340 371 268.131C371 196.262 429.405 138 501.451 138C573.496 138 631.901 196.262 631.901 268.131C631.901 340 573.496 398.262 501.451 398.262V397.291C572.959 397.291 630.928 339.464 630.928 268.131Z" fill="#D5D6EF" class="general-2 background subtle"/>\n</g>\n<g id="general-3" class="general-3 subtle">\n<path id="general-3-background" d="M666.803 268C666.803 176.553 592.671 102.421 501.224 102.421C409.778 102.421 335.646 176.553 335.646 268C335.646 359.447 409.778 433.579 501.224 433.579V434.488C409.276 434.488 334.736 359.949 334.736 268C334.736 176.051 409.276 101.512 501.224 101.512C593.173 101.512 667.712 176.051 667.712 268C667.712 359.949 593.173 434.488 501.224 434.488V433.579C592.671 433.579 666.803 359.447 666.803 268Z" fill="#D5D6EF" class="general-3 background subtle"/>\n</g>\n<g id="general-4" class="general-4 subtle">\n<path id="general-4-background" d="M705.1 268.125C705.1 155.471 613.776 64.147 501.123 64.147C388.469 64.147 297.145 155.471 297.145 268.125C297.145 380.778 388.469 472.102 501.123 472.102V472.991C387.978 472.991 296.256 381.269 296.256 268.125C296.256 154.98 387.978 63.2578 501.123 63.2578C614.267 63.2578 705.989 154.98 705.989 268.125C705.989 381.269 614.267 472.991 501.123 472.991V472.102C613.776 472.102 705.1 380.778 705.1 268.125Z" fill="#D5D6EF" class="general-4 background subtle"/>\n</g>\n<g id="general-5" class="general-5 subtle">\n<path id="general-5-background" d="M743.115 267.5C743.115 133.507 634.493 24.8852 500.5 24.8852C366.507 24.8852 257.885 133.507 257.885 267.5C257.885 401.493 366.507 510.115 500.5 510.115V511C366.019 511 257 401.981 257 267.5C257 133.019 366.019 24 500.5 24C634.981 24 744 133.019 744 267.5C744 401.981 634.981 511 500.5 511V510.115C634.493 510.115 743.115 401.493 743.115 267.5Z" fill="#D5D6EF" class="general-5 background subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="379" cy="157" r="25" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="366" y="144" width="25.441442489624023" height="25.441442489624023" class="step-1 accent icon" fill="#666666"/>\n<rect id="step-1-card-textbox" x="14.16796875" y="113.0625" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent_2" x="15" y="95" width="35" height="8" rx="2.17825" fill="#666BC3" class="step-1 accent"/>\n<path id="step-1_2" d="M324.5 99V100H51V99H324.5Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="215" width="35" height="8" rx="2.17825" fill="#8C90D2" class="step-2 accent"/>\n<circle id="step-2-accent" cx="658" cy="215" r="25" fill="#8C90D2" class="step-2 accent"/>\n<path id="step-2_3" d="M761 219V221L739 221L739 219L761 219Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.16796875" y="233.0625" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent-icon" x="645" y="202" width="25.441442489624023" height="25.441442489624023" class="step-2 accent icon" fill="#666666"/>\n<rect id="step-2-selection" x="706.5" y="204.5" width="294" height="193" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="335" cy="373" r="25" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_2" d="M266 331.5V332.5H51V331.5H266Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-accent-icon" x="322" y="360" width="25.441442489624023" height="25.441442489624023" class="step-3 accent icon" fill="#666666"/>\n<rect id="step-3-accent_2" x="15" y="328" width="35" height="8" rx="2.17825" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="14.16796875" y="347.0625" width="228" height="154" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.5" y="319.5" width="294" height="195" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',solar_system_4:'<svg class="solar_system-frame" width="1012.96" height="525.96" viewBox="-5.31203125 4.52 1012.96 525.96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="solar_system-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-accent" cx="500.5" cy="267.5" r="95.5" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.16796875" y="221.0625" width="134" height="91.6842041015625" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="general-2" class="general-2 subtle">\n<path id="general-2-background" d="M630.928 268.131C630.928 196.798 572.959 138.971 501.451 138.971C429.942 138.971 371.973 196.798 371.973 268.131C371.973 339.464 429.942 397.291 501.451 397.291V398.262C429.405 398.262 371 340 371 268.131C371 196.262 429.405 138 501.451 138C573.496 138 631.901 196.262 631.901 268.131C631.901 340 573.496 398.262 501.451 398.262V397.291C572.959 397.291 630.928 339.464 630.928 268.131Z" fill="#D5D6EF" class="general-2 background subtle"/>\n</g>\n<g id="general-3" class="general-3 subtle">\n<path id="general-3-background" d="M666.803 268C666.803 176.553 592.671 102.421 501.224 102.421C409.778 102.421 335.646 176.553 335.646 268C335.646 359.447 409.778 433.579 501.224 433.579V434.488C409.276 434.488 334.736 359.949 334.736 268C334.736 176.051 409.276 101.512 501.224 101.512C593.173 101.512 667.712 176.051 667.712 268C667.712 359.949 593.173 434.488 501.224 434.488V433.579C592.671 433.579 666.803 359.447 666.803 268Z" fill="#D5D6EF" class="general-3 background subtle"/>\n</g>\n<g id="general-4" class="general-4 subtle">\n<path id="general-4-background" d="M705.1 268.125C705.1 155.471 613.776 64.147 501.123 64.147C388.469 64.147 297.145 155.471 297.145 268.125C297.145 380.778 388.469 472.102 501.123 472.102V472.991C387.978 472.991 296.256 381.269 296.256 268.125C296.256 154.98 387.978 63.2578 501.123 63.2578C614.267 63.2578 705.989 154.98 705.989 268.125C705.989 381.269 614.267 472.991 501.123 472.991V472.102C613.776 472.102 705.1 380.778 705.1 268.125Z" fill="#D5D6EF" class="general-4 background subtle"/>\n</g>\n<g id="general-5" class="general-5 subtle">\n<path id="general-5-background" d="M743.115 267.5C743.115 133.507 634.493 24.8852 500.5 24.8852C366.507 24.8852 257.885 133.507 257.885 267.5C257.885 401.493 366.507 510.115 500.5 510.115V511C366.019 511 257 401.981 257 267.5C257 133.019 366.019 24 500.5 24C634.981 24 744 133.019 744 267.5C744 401.981 634.981 511 500.5 511V510.115C634.493 510.115 743.115 401.493 743.115 267.5Z" fill="#D5D6EF" class="general-5 background subtle"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="379" cy="157" r="25" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="366" y="144" width="25.441442489624023" height="25.441442489624023" class="step-1 accent icon" fill="#666666"/>\n<rect id="step-1-card-textbox" x="14.16796875" y="113.0625" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent_2" x="15" y="95" width="35" height="8" rx="2.17825" fill="#666BC3" class="step-1 accent"/>\n<path id="step-1_2" d="M324.5 99V100H51V99H324.5Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="95" width="35" height="8" rx="2.17825" fill="#8C90D2" class="step-2 accent"/>\n<circle id="step-2-accent" cx="621" cy="103" r="25" fill="#8C90D2" class="step-2 accent"/>\n<path id="step-2_3" d="M761 99.5V100.5L677 100.5L677 99.5L761 99.5Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.16796875" y="113.0625" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent-icon" x="608" y="90" width="25.441442489624023" height="25.441442489624023" class="step-2 accent icon" fill="#666666"/>\n<rect id="step-2-selection" x="706.5" y="84.5" width="294" height="193" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="332" cy="375" r="25" fill="#B3B5E1" class="step-3 accent"/>\n<path id="step-3_2" d="M266 331.5V332.5H51V331.5H266Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-accent-icon" x="319" y="362" width="25.441442489624023" height="25.441442489624023" class="step-3 accent icon" fill="#666666"/>\n<rect id="step-3-accent_2" x="15" y="328" width="35" height="8" rx="2.17825" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="14.16796875" y="347.0625" width="228" height="154" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.5" y="319.5" width="294" height="195" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M761 331.5V332.5L735 332.5L735 331.5L761 331.5Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-accent" x="761" y="328" width="35" height="8" rx="2.17825" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="760.16796875" y="347.0625" width="228" height="154" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<circle id="step-4-background" cx="646" cy="459" r="25" fill="#D9DAF0" class="step-4 background accent"/>\n<rect id="step-4-background-icon" x="633" y="445" width="25.441442489624023" height="25.441442489624023" class="step-4 background icon accent" fill="#666666"/>\n<rect id="step-4-selection" x="706.5" y="319.5" width="294" height="193" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nV="solar_system",nO={key:nV,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,2,4),s=nF.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nV,svgScalingFactor:nO.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"y1okDF"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/solar_system.9a2bf323.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:nF,formattingMenu:G,defaultData:()=>w(nF),svgScalingFactor:1,featureFlag:"newDiagramsAug25"},nZ=new Map(Object.entries({square_cycle_4:'<svg class="square_cycle-frame" width="1004.640208" height="416.520508" viewBox="0.7737960000000008 14.160495999999998 1004.640208 416.520508" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="square_cycle-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M353.612 208.309H368.938V227.029H311.333V411.361H495.664V357.993H488.703V373.226C488.703 374.179 487.496 374.592 486.912 373.838L444.927 319.605C444.648 319.245 444.648 318.741 444.927 318.381L486.912 264.148C487.496 263.395 488.703 263.808 488.703 264.761V280.993H495.664V227.029H438.062V208.309H453.385L403.499 169.426L353.612 208.309Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="378" y="294" width="50" height="50" fill="#D9D9D9" class="step-4 accent icon"/>\n<rect id="step-4-card-textbox" x="20.0938" y="271" width="263" height="96" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="11.5938" y="263.5" width="434" height="111" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M504.88 284.631H486.16V269.307L447.277 319.193L486.16 369.079V353.755H504.88V411.359H689.211V227.027H635.453V234.741H651.686C652.639 234.741 653.052 235.949 652.298 236.532L598.065 278.518C597.705 278.797 597.201 278.796 596.841 278.518L542.608 236.532C541.855 235.949 542.267 234.741 543.221 234.741H558.453V227.027H504.88V284.631Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="714.094" y="271" width="263" height="96" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-icon" x="572.094" y="294" width="50" height="50" fill="#D9D9D9" class="step-3 accent icon"/>\n<rect id="step-3-selection" x="555.594" y="263.5" width="430" height="111" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M504.88 88.2266H512.469V71.9941C512.469 71.0411 513.676 70.6283 514.26 71.3818L556.245 125.614C556.524 125.975 556.524 126.478 556.245 126.839L514.26 181.071C513.676 181.825 512.469 181.412 512.469 180.459V165.227H504.88V217.812H562.485V236.533H547.158L597.045 275.416L646.931 236.533H631.609V217.812H689.211V33.4805H504.88V88.2266Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="723.094" y="79" width="263" height="96" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-icon" x="573.094" y="101" width="50" height="50" fill="#D9D9D9" class="step-2 accent icon"/>\n<rect id="step-2-selection" x="553.594" y="72.5" width="439" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M311.322 217.812H364.207V210.978H348.975C348.021 210.978 347.609 209.77 348.362 209.187L402.595 167.201C402.955 166.922 403.459 166.922 403.819 167.201L458.052 209.187C458.805 209.77 458.393 210.977 457.439 210.978H441.207V217.812H495.654V160.208H514.375V175.532L553.258 125.646L514.375 75.7598V91.084H495.654V33.4805H311.322V217.812Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="20.0938" y="80" width="263" height="96" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-icon" x="378.094" y="103" width="50" height="50" fill="#D9D9D9" class="step-1 accent icon"/>\n<rect id="step-1-selection" x="11.5938" y="72.5" width="434" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nW="square_arrows",nU={key:nW,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,4,4),s=nZ.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nW,svgScalingFactor:nU.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Rnzk97"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/square_arrows.b7d5390b.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:G,stepSvgData:nZ,defaultData:()=>w(nZ),svgScalingFactor:1},nG=new Map(Object.entries({swoosh_1:'<svg class="swoosh" width="817.44" height="186.44" viewBox="89.28 95.28 817.44 186.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M433 181.39H236.218C206.003 181.39 181.509 205.974 181.509 236.299V266H105V197.697C105 149.816 143.674 111 191.382 111H433V181.39Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="453" y="115.002" width="438" height="64.1481" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="446.5" y="107.5" width="455" height="80" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_2:'<svg class="swoosh" width="892.32" height="260.32" viewBox="51.83999999999999 58.84 892.32 260.32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox-left" x="489" y="80.9863" width="438" height="63.9035" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="481.5" y="71.5" width="455" height="79" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M469 147.071H227.538C179.862 147.071 141.213 185.869 141.213 233.729V302H69V191.545C69 127.731 120.532 76.0002 184.101 76H469V147.071Z" fill="#666BC3" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M469 217.39H272.218C242.003 217.39 217.509 241.974 217.509 272.299V302H141V233.697C141 185.816 179.674 147 227.382 147H469V217.39Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="489" y="151.002" width="438" height="64.1481" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="481.5" y="145.5" width="455" height="76" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_3:'<svg class="swoosh" width="956.7999618015795" height="329.80003605632817" viewBox="19.600037463835477 23.599963209086837 956.7999618015795 329.80003605632817" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M500 109.071H326.394C326.394 109.071 297.972 109.113 268.476 109.071C224.705 109.071 227.025 109.071 203.926 109.844C184.529 112.185 168.031 117.693 151.532 128.708C137.034 137.721 126.035 149.738 115.036 167.764C109.536 178.279 100.537 195.303 100.112 222.862V335H38.1298L38.1298 192.635C35.0432 122.199 87.0382 38.0805 192.264 42.1415L500 42.1415V109.071Z" fill="#B3B5E1" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="520" y="44.9922" width="438" height="64" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="512.5" y="38.5" width="455" height="75" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="520" y="113.986" width="438" height="63.9035" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="512.5" y="109.5" width="455" height="74" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent" d="M500 180.071H258.538C210.862 180.071 172.213 218.869 172.213 266.729V335H100V224.545C100 160.731 151.532 109 215.101 109H500V180.071Z" fill="#666BC3" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500 250.39H303.218C273.003 250.39 248.509 274.974 248.509 305.299V335H172V266.697C172 218.816 210.674 180 258.382 180H500V250.39Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="520" y="184.002" width="438" height="64.1481" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="512.5" y="178.5" width="455" height="76" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_4:'<svg class="swoosh" width="1019.2" height="398.209" viewBox="-11.600000000000001 -10.600000000000001 1019.2 398.209" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M530 75.4842H334C334 75.4842 301.858 75.5389 268.5 75.4842C219 75.4842 202.406 75.251 195.5 76.4838C132.5 83.9803 86.5 129.462 73 183.441C71.5 188.938 68.5 195.935 68.5 219.925V368.009H8V183.441C9 87.4789 85 10.51 182.312 11.0102H530V75.4842Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="550" y="9" width="438" height="63.9742" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="544.5" y="4.5" width="450" height="73" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M530 142.078H356.394C356.394 142.078 327.972 142.121 298.476 142.078C254.705 142.078 257.025 142.078 233.926 142.852C214.529 145.193 198.031 150.701 181.532 161.716C167.034 170.729 156.035 182.746 145.036 200.771C139.536 211.286 130.537 228.31 130.112 255.87V368.008H68.1298L68.1298 225.643C65.0432 155.207 117.038 71.0883 222.264 75.1494L530 75.1493V142.078Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="550" y="78" width="438" height="64" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="544.5" y="73.5" width="450" height="73" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox-left" x="550" y="146.994" width="438" height="63.9035" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="544.5" y="142.5" width="450" height="74" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent" d="M530 213.079H288.538C240.862 213.079 202.213 251.877 202.213 299.737V368.008H130V257.552C130 193.739 181.532 142.008 245.101 142.008H530V213.079Z" fill="#666BC3" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M530 283.398H333.218C303.003 283.398 278.509 307.981 278.509 338.306V368.008H202V299.705C202 251.824 240.674 213.008 288.382 213.008H530V283.398Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="550" y="217.01" width="438" height="64.1481" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="544.5" y="211.5" width="450" height="75" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("swoosh_","")),n]})),nK="swoosh",nQ={key:nK,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=nG.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nK,svgScalingFactor:nQ.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ba37aB"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/swoosh.2b045b37.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:nG,formattingMenu:G,defaultData:()=>w(nG),svgScalingFactor:1},nq=new Map(Object.entries({text_box_collage_1:'<svg class="text_box_collage-frame" width="248.05600000000004" height="249.846" viewBox="371 137 248.05600000000004 249.846" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M600.112 168.461C605.051 168.461 609.056 172.465 609.056 177.404V324.272C609.056 324.455 609.038 324.635 609.001 324.811L565.627 327.298C561.566 327.531 558.173 330.475 557.371 334.463L548.855 376.787C548.581 376.825 548.303 376.841 548.017 376.841H409.619C404.68 376.841 400.676 372.837 400.676 367.897V199.69C402.954 200.319 405.353 200.657 407.83 200.657C422.648 200.657 434.66 188.645 434.66 173.827C434.66 171.989 434.475 170.195 434.123 168.461H600.112ZM549.652 376.601C549.618 376.613 549.583 376.622 549.548 376.633C549.599 376.616 549.651 376.6 549.702 376.582C549.685 376.588 549.669 376.596 549.652 376.601ZM608.814 325.362C608.808 325.373 608.8 325.384 608.794 325.395C608.808 325.368 608.822 325.341 608.835 325.314C608.828 325.33 608.821 325.347 608.814 325.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M609.053 324.851C609.053 324.856 609.052 324.86 609.05 324.865C608.83 325.355 608.562 325.874 608.25 326.408C607.874 327.053 607.371 327.612 606.808 328.101L555.01 373.052C555.004 373.057 554.995 373.058 554.988 373.053C554.977 373.046 554.963 373.052 554.959 373.064C554.956 373.075 554.952 373.086 554.948 373.097C554.945 373.105 554.94 373.112 554.934 373.118L552.921 374.865C552.434 375.287 551.907 375.665 551.323 375.938C551.15 376.019 550.973 376.098 550.792 376.175C550.128 376.456 549.477 376.68 548.869 376.846L548.864 376.846C548.854 376.846 548.846 376.837 548.848 376.826L557.37 334.469C558.173 330.481 561.565 327.537 565.626 327.304L609.017 324.816C609.037 324.815 609.053 324.831 609.053 324.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="407.83" cy="173.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="395" y="161" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="414.16796875" y="206.92578125" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="390.5" y="157.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_2:'<svg class="text_box_collage-frame" width="504.11000000000007" height="249.846" viewBox="242.16400000000004 136.12900000000002 504.11000000000007 249.846" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M471.276 167.59C476.216 167.59 480.22 171.594 480.22 176.533V323.4C480.22 323.584 480.202 323.764 480.165 323.94L436.791 326.427C432.73 326.66 429.338 329.604 428.535 333.592L420.019 375.915C419.745 375.954 419.467 375.97 419.181 375.97H280.783C275.844 375.97 271.84 371.966 271.84 367.026V198.819C274.118 199.448 276.517 199.786 278.995 199.786C293.812 199.786 305.825 187.774 305.825 172.956C305.825 171.118 305.639 169.324 305.287 167.59H471.276ZM420.816 375.73C420.782 375.742 420.747 375.751 420.712 375.762C420.763 375.745 420.815 375.729 420.866 375.711C420.849 375.717 420.833 375.725 420.816 375.73ZM479.978 324.491C479.972 324.502 479.964 324.513 479.958 324.524C479.972 324.497 479.986 324.47 480 324.443C479.992 324.459 479.986 324.475 479.978 324.491Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M480.217 323.98C480.217 323.984 480.216 323.989 480.214 323.994C479.994 324.484 479.726 325.003 479.414 325.537C479.038 326.182 478.535 326.741 477.972 327.23L426.174 372.181C426.168 372.186 426.159 372.187 426.152 372.182C426.141 372.175 426.127 372.18 426.123 372.193C426.12 372.204 426.116 372.215 426.112 372.226C426.109 372.234 426.104 372.241 426.098 372.246L424.085 373.994C423.598 374.416 423.071 374.794 422.487 375.067C422.314 375.148 422.137 375.227 421.957 375.304C421.292 375.585 420.641 375.809 420.033 375.975L420.028 375.975C420.018 375.975 420.01 375.966 420.012 375.955L428.534 333.597C429.337 329.61 432.729 326.666 436.79 326.433L480.181 323.945C480.201 323.944 480.217 323.96 480.217 323.98Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="278.994" cy="172.959" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="267" y="161" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="286.16796875" y="206.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="261.664" y="156.629" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M727.331 167.59C732.27 167.59 736.274 171.594 736.274 176.533V323.4C736.274 323.584 736.256 323.764 736.22 323.94L692.846 326.427C688.785 326.66 685.392 329.604 684.59 333.592L676.074 375.915C675.799 375.954 675.521 375.97 675.236 375.97H536.838C531.899 375.97 527.895 371.966 527.895 367.026V198.819C530.172 199.448 532.571 199.786 535.049 199.786C549.867 199.786 561.879 187.774 561.879 172.956C561.879 171.118 561.694 169.324 561.342 167.59H727.331ZM676.871 375.73C676.837 375.742 676.802 375.751 676.767 375.762C676.818 375.745 676.869 375.729 676.921 375.711C676.904 375.717 676.888 375.725 676.871 375.73ZM736.032 324.491C736.027 324.502 736.019 324.513 736.013 324.524C736.027 324.497 736.041 324.47 736.054 324.443C736.047 324.459 736.04 324.475 736.032 324.491Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M736.272 323.98C736.272 323.984 736.271 323.989 736.269 323.994C736.049 324.484 735.78 325.003 735.469 325.537C735.093 326.182 734.59 326.741 734.026 327.23L682.229 372.181C682.223 372.186 682.213 372.187 682.206 372.182C682.196 372.175 682.182 372.18 682.178 372.193C682.174 372.204 682.17 372.215 682.166 372.226C682.164 372.234 682.159 372.241 682.153 372.246L680.139 373.994C679.652 374.416 679.125 374.794 678.541 375.067C678.369 375.148 678.192 375.227 678.011 375.304C677.347 375.585 676.696 375.809 676.088 375.975L676.083 375.975C676.073 375.975 676.065 375.966 676.067 375.955L684.589 333.597C685.391 329.61 688.784 326.666 692.845 326.433L736.236 323.945C736.256 323.944 736.272 323.96 736.272 323.98Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="535.049" cy="172.959" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="523" y="161" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="542.22265625" y="206.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="517.719" y="156.629" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_3:'<svg class="text_box_collage-frame" width="769.7716000004393" height="259.4526000000169" viewBox="110.19669999999157 132.19669999999155 769.7716000004393 259.4526000000169" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M344.112 168.461C349.051 168.461 353.056 172.465 353.056 177.404V324.272C353.056 324.455 353.038 324.635 353.001 324.811L309.627 327.298C305.566 327.531 302.173 330.475 301.371 334.463L292.855 376.787C292.581 376.825 292.303 376.841 292.017 376.841H153.619C148.68 376.841 144.676 372.837 144.676 367.897V199.69C146.954 200.319 149.353 200.657 151.83 200.657C166.648 200.657 178.66 188.645 178.66 173.827C178.66 171.989 178.475 170.195 178.123 168.461H344.112ZM293.652 376.601C293.618 376.613 293.583 376.622 293.548 376.633C293.599 376.616 293.651 376.6 293.702 376.582C293.685 376.588 293.669 376.596 293.652 376.601ZM352.814 325.362C352.808 325.373 352.8 325.384 352.794 325.395C352.808 325.368 352.822 325.341 352.835 325.314C352.828 325.33 352.821 325.347 352.814 325.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M353.053 324.851C353.053 324.856 353.052 324.86 353.05 324.865C352.83 325.355 352.562 325.874 352.25 326.408C351.874 327.053 351.371 327.612 350.808 328.101L299.01 373.052C299.004 373.057 298.995 373.058 298.988 373.053C298.977 373.046 298.963 373.052 298.959 373.064C298.956 373.075 298.952 373.086 298.948 373.097C298.945 373.105 298.94 373.112 298.934 373.118L296.921 374.865C296.434 375.287 295.907 375.665 295.323 375.938C295.15 376.019 294.973 376.098 294.792 376.175C294.128 376.456 293.477 376.68 292.869 376.846L292.864 376.846C292.854 376.846 292.846 376.837 292.848 376.826L301.37 334.469C302.173 330.481 305.565 327.537 309.626 327.304L353.017 324.816C353.037 324.815 353.053 324.831 353.053 324.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="151.83" cy="173.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="139" y="161" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="158.16796875" y="206.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="134.5" y="157.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M600.167 168.461C605.106 168.461 609.11 172.465 609.11 177.404V324.272C609.11 324.455 609.092 324.635 609.056 324.811L565.682 327.298C561.621 327.531 558.228 330.475 557.426 334.463L548.91 376.787C548.635 376.825 548.357 376.841 548.072 376.841H409.674C404.735 376.841 400.73 372.837 400.73 367.897V199.69C403.008 200.319 405.407 200.657 407.885 200.657C422.703 200.657 434.715 188.645 434.715 173.827C434.715 171.989 434.53 170.195 434.178 168.461H600.167ZM549.707 376.601C549.672 376.613 549.637 376.622 549.603 376.633C549.654 376.616 549.705 376.6 549.757 376.582C549.74 376.588 549.724 376.596 549.707 376.601ZM608.868 325.362C608.863 325.373 608.855 325.384 608.849 325.395C608.863 325.368 608.877 325.341 608.89 325.314C608.883 325.33 608.876 325.347 608.868 325.362Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M609.108 324.851C609.108 324.856 609.107 324.86 609.105 324.865C608.885 325.355 608.616 325.874 608.305 326.408C607.929 327.053 607.426 327.612 606.862 328.101L555.065 373.052C555.059 373.057 555.049 373.058 555.042 373.053C555.032 373.046 555.018 373.052 555.014 373.064C555.01 373.075 555.006 373.086 555.002 373.097C555 373.105 554.995 373.112 554.989 373.118L552.975 374.865C552.488 375.287 551.961 375.665 551.377 375.938C551.205 376.019 551.028 376.098 550.847 376.175C550.183 376.456 549.532 376.68 548.924 376.846L548.919 376.846C548.909 376.846 548.901 376.837 548.903 376.826L557.425 334.469C558.227 330.481 561.62 327.537 565.681 327.304L609.072 324.816C609.092 324.815 609.108 324.831 609.108 324.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="407.885" cy="173.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="395" y="161" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="414.22265625" y="206.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="390.555" y="157.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M856.222 168.461C861.161 168.461 865.165 172.465 865.165 177.404V324.272C865.165 324.455 865.147 324.635 865.111 324.811L821.736 327.298C817.675 327.531 814.283 330.475 813.48 334.463L804.964 376.787C804.69 376.825 804.412 376.841 804.127 376.841H665.728C660.789 376.841 656.785 372.837 656.785 367.897V199.69C659.063 200.319 661.462 200.657 663.94 200.657C678.758 200.657 690.77 188.645 690.77 173.827C690.77 171.989 690.585 170.195 690.233 168.461H856.222ZM805.762 376.601C805.727 376.613 805.692 376.622 805.658 376.633C805.709 376.616 805.76 376.6 805.811 376.582C805.795 376.588 805.778 376.596 805.762 376.601ZM864.923 325.362C864.918 325.373 864.91 325.384 864.904 325.395C864.917 325.368 864.932 325.341 864.945 325.314C864.937 325.33 864.931 325.347 864.923 325.362Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M865.163 324.851C865.163 324.856 865.162 324.86 865.16 324.865C864.939 325.355 864.671 325.874 864.36 326.408C863.984 327.053 863.48 327.612 862.917 328.101L811.12 373.052C811.113 373.057 811.104 373.058 811.097 373.053C811.086 373.046 811.072 373.052 811.069 373.064C811.065 373.075 811.061 373.086 811.057 373.097C811.054 373.105 811.05 373.112 811.043 373.118L809.03 374.865C808.543 375.287 808.016 375.665 807.432 375.938C807.259 376.019 807.083 376.098 806.902 376.175C806.238 376.456 805.586 376.68 804.978 376.846L804.974 376.846C804.963 376.846 804.955 376.837 804.957 376.826L813.48 334.469C814.282 330.481 817.674 327.537 821.735 327.304L865.127 324.816C865.146 324.815 865.163 324.831 865.163 324.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="663.939" cy="173.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="651" y="161" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="670.27734375" y="206.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="646.609" y="157.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_4:'<svg class="text_box_collage-frame" width="1026.53824" height="269.32824" viewBox="-17.741120000000002 127.25888 1026.53824 269.32824" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M221.112 168.461C226.051 168.461 230.056 172.465 230.056 177.404V324.272C230.056 324.455 230.038 324.635 230.001 324.811L186.627 327.298C182.566 327.531 179.173 330.475 178.371 334.463L169.855 376.787C169.581 376.825 169.303 376.841 169.017 376.841H30.6191C25.6799 376.841 21.6758 372.837 21.6758 367.897V199.69C23.9537 200.319 26.3526 200.657 28.8305 200.657C43.6483 200.657 55.6605 188.645 55.6605 173.827C55.6605 171.989 55.4753 170.195 55.1233 168.461H221.112ZM170.652 376.601C170.618 376.613 170.583 376.622 170.548 376.633C170.599 376.616 170.651 376.6 170.702 376.582C170.685 376.588 170.669 376.596 170.652 376.601ZM229.814 325.362C229.808 325.373 229.8 325.384 229.794 325.395C229.808 325.368 229.822 325.341 229.835 325.314C229.828 325.33 229.821 325.347 229.814 325.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M230.053 324.851C230.053 324.856 230.052 324.86 230.05 324.865C229.83 325.355 229.562 325.874 229.25 326.408C228.874 327.053 228.371 327.612 227.808 328.101L176.01 373.052C176.004 373.057 175.995 373.058 175.988 373.053C175.977 373.046 175.963 373.052 175.959 373.064C175.956 373.075 175.952 373.086 175.948 373.097C175.945 373.105 175.94 373.112 175.934 373.118L173.921 374.865C173.434 375.287 172.907 375.665 172.323 375.938C172.15 376.019 171.973 376.098 171.792 376.175C171.128 376.456 170.477 376.68 169.869 376.846L169.864 376.846C169.854 376.846 169.846 376.837 169.848 376.826L178.37 334.469C179.173 330.481 182.565 327.537 186.626 327.304L230.017 324.816C230.037 324.815 230.053 324.831 230.053 324.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="28.83" cy="173.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="16" y="161" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="35.16796875" y="206.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="11.5" y="157.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M474.112 168.461C479.051 168.461 483.056 172.465 483.056 177.404V324.272C483.056 324.455 483.038 324.635 483.001 324.811L439.627 327.298C435.566 327.531 432.173 330.475 431.371 334.463L422.855 376.787C422.581 376.825 422.303 376.841 422.017 376.841H283.619C278.68 376.841 274.676 372.837 274.676 367.897V199.69C276.954 200.319 279.353 200.657 281.83 200.657C296.648 200.657 308.66 188.645 308.66 173.827C308.66 171.989 308.475 170.195 308.123 168.461H474.112ZM423.652 376.601C423.618 376.613 423.583 376.622 423.548 376.633C423.599 376.616 423.651 376.6 423.702 376.582C423.685 376.588 423.669 376.596 423.652 376.601ZM482.814 325.362C482.808 325.373 482.8 325.384 482.794 325.395C482.808 325.368 482.822 325.341 482.835 325.314C482.828 325.33 482.821 325.347 482.814 325.362Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M483.053 324.851C483.053 324.856 483.052 324.86 483.05 324.865C482.83 325.355 482.562 325.874 482.25 326.408C481.874 327.053 481.371 327.612 480.808 328.101L429.01 373.052C429.004 373.057 428.995 373.058 428.988 373.053C428.977 373.046 428.963 373.052 428.959 373.064C428.956 373.075 428.952 373.086 428.948 373.097C428.945 373.105 428.94 373.112 428.934 373.118L426.921 374.865C426.434 375.287 425.907 375.665 425.323 375.938C425.15 376.019 424.973 376.098 424.792 376.175C424.128 376.456 423.477 376.68 422.869 376.846L422.864 376.846C422.854 376.846 422.846 376.837 422.848 376.826L431.37 334.469C432.173 330.481 435.565 327.537 439.626 327.304L483.017 324.816C483.037 324.815 483.053 324.831 483.053 324.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="281.83" cy="173.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="269" y="161" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="288.16796875" y="206.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="264.5" y="157.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M727.112 168.461C732.051 168.461 736.056 172.465 736.056 177.404V324.272C736.056 324.455 736.038 324.635 736.001 324.811L692.627 327.298C688.566 327.531 685.173 330.475 684.371 334.463L675.855 376.787C675.581 376.825 675.303 376.841 675.017 376.841H536.619C531.68 376.841 527.676 372.837 527.676 367.897V199.69C529.954 200.319 532.353 200.657 534.83 200.657C549.648 200.657 561.66 188.645 561.66 173.827C561.66 171.989 561.475 170.195 561.123 168.461H727.112ZM676.652 376.601C676.618 376.613 676.583 376.622 676.548 376.633C676.599 376.616 676.651 376.6 676.702 376.582C676.685 376.588 676.669 376.596 676.652 376.601ZM735.814 325.362C735.808 325.373 735.8 325.384 735.794 325.395C735.808 325.368 735.822 325.341 735.835 325.314C735.828 325.33 735.821 325.347 735.814 325.362Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M736.053 324.851C736.053 324.856 736.052 324.86 736.05 324.865C735.83 325.355 735.562 325.874 735.25 326.408C734.874 327.053 734.371 327.612 733.808 328.101L682.01 373.052C682.004 373.057 681.995 373.058 681.988 373.053C681.977 373.046 681.963 373.052 681.959 373.064C681.956 373.075 681.952 373.086 681.948 373.097C681.945 373.105 681.94 373.112 681.934 373.118L679.921 374.865C679.434 375.287 678.907 375.665 678.323 375.938C678.15 376.019 677.973 376.098 677.792 376.175C677.128 376.456 676.477 376.68 675.869 376.846L675.864 376.846C675.854 376.846 675.846 376.837 675.848 376.826L684.37 334.469C685.173 330.481 688.565 327.537 692.626 327.304L736.017 324.816C736.037 324.815 736.053 324.831 736.053 324.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="534.83" cy="173.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="522" y="161" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="541.16796875" y="206.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="517.5" y="157.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M980.112 168.461C985.051 168.461 989.056 172.465 989.056 177.404V324.272C989.056 324.455 989.038 324.635 989.001 324.811L945.627 327.298C941.566 327.531 938.173 330.475 937.371 334.463L928.855 376.787C928.581 376.825 928.303 376.841 928.017 376.841H789.619C784.68 376.841 780.676 372.837 780.676 367.897V199.69C782.954 200.319 785.353 200.657 787.83 200.657C802.648 200.657 814.66 188.645 814.66 173.827C814.66 171.989 814.475 170.195 814.123 168.461H980.112ZM929.652 376.601C929.618 376.613 929.583 376.622 929.548 376.633C929.599 376.616 929.651 376.6 929.702 376.582C929.685 376.588 929.669 376.596 929.652 376.601ZM988.814 325.362C988.808 325.373 988.8 325.384 988.794 325.395C988.808 325.368 988.822 325.341 988.835 325.314C988.828 325.33 988.821 325.347 988.814 325.362Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M989.053 324.851C989.053 324.856 989.052 324.86 989.05 324.865C988.83 325.355 988.562 325.874 988.25 326.408C987.874 327.053 987.371 327.612 986.808 328.101L935.01 373.052C935.004 373.057 934.995 373.058 934.988 373.053C934.977 373.046 934.963 373.052 934.959 373.064C934.956 373.075 934.952 373.086 934.948 373.097C934.945 373.105 934.94 373.112 934.934 373.118L932.921 374.865C932.434 375.287 931.907 375.665 931.323 375.938C931.15 376.019 930.973 376.098 930.792 376.175C930.128 376.456 929.477 376.68 928.869 376.846L928.864 376.846C928.854 376.846 928.846 376.837 928.848 376.826L937.37 334.469C938.173 330.481 941.565 327.537 945.626 327.304L989.017 324.816C989.037 324.815 989.053 324.831 989.053 324.851Z" fill="#B9BBE4" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="787.83" cy="173.83" r="26.83" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="775" y="161" width="25" height="25" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="794.16796875" y="206.0625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="770.5" y="157.5" width="229" height="230" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_5:'<svg class="text_box_collage-frame" width="771.74136" height="513.5283600000001" viewBox="109.15882000000002 5.15882 771.74136 513.5283600000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M343.112 41.4609C348.051 41.4609 352.056 45.465 352.056 50.4043V197.272C352.056 197.455 352.038 197.635 352.001 197.811L308.627 200.298C304.566 200.531 301.173 203.475 300.371 207.463L291.855 249.787C291.581 249.825 291.303 249.841 291.017 249.841H152.619C147.68 249.841 143.676 245.837 143.676 240.897V72.6901C145.954 73.3189 148.353 73.657 150.83 73.657C165.648 73.657 177.66 61.6447 177.66 46.8269C177.66 44.9892 177.475 43.1948 177.123 41.4609H343.112ZM292.652 249.601C292.618 249.613 292.583 249.622 292.548 249.633C292.599 249.616 292.651 249.6 292.702 249.582C292.685 249.588 292.669 249.596 292.652 249.601ZM351.814 198.362C351.808 198.373 351.8 198.384 351.794 198.395C351.808 198.368 351.822 198.341 351.835 198.314C351.828 198.33 351.821 198.347 351.814 198.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M352.053 197.851C352.053 197.856 352.052 197.86 352.05 197.865C351.83 198.355 351.562 198.874 351.25 199.408C350.874 200.053 350.371 200.612 349.808 201.101L298.01 246.052C298.004 246.057 297.995 246.058 297.988 246.053C297.977 246.046 297.963 246.052 297.959 246.064C297.956 246.075 297.952 246.086 297.948 246.097C297.945 246.105 297.94 246.112 297.934 246.118L295.921 247.865C295.434 248.287 294.907 248.665 294.323 248.938C294.15 249.019 293.973 249.098 293.792 249.175C293.128 249.456 292.477 249.68 291.869 249.846L291.864 249.846C291.854 249.846 291.846 249.837 291.848 249.826L300.37 207.469C301.173 203.481 304.565 200.537 308.626 200.304L352.017 197.816C352.037 197.815 352.053 197.831 352.053 197.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="150.83" cy="46.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="138" y="34" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="157.16796875" y="79.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="133.5" y="30.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M600.112 41.4609C605.051 41.4609 609.056 45.465 609.056 50.4043V197.272C609.056 197.455 609.038 197.635 609.001 197.811L565.627 200.298C561.566 200.531 558.173 203.475 557.371 207.463L548.855 249.787C548.581 249.825 548.303 249.841 548.017 249.841H409.619C404.68 249.841 400.676 245.837 400.676 240.897V72.6901C402.954 73.3189 405.353 73.657 407.83 73.657C422.648 73.657 434.66 61.6447 434.66 46.8269C434.66 44.9892 434.475 43.1948 434.123 41.4609H600.112ZM549.652 249.601C549.618 249.613 549.583 249.622 549.548 249.633C549.599 249.616 549.651 249.6 549.702 249.582C549.685 249.588 549.669 249.596 549.652 249.601ZM608.814 198.362C608.808 198.373 608.8 198.384 608.794 198.395C608.808 198.368 608.822 198.341 608.835 198.314C608.828 198.33 608.821 198.347 608.814 198.362Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M609.053 197.851C609.053 197.856 609.052 197.86 609.05 197.865C608.83 198.355 608.562 198.874 608.25 199.408C607.874 200.053 607.371 200.612 606.808 201.101L555.01 246.052C555.004 246.057 554.995 246.058 554.988 246.053C554.977 246.046 554.963 246.052 554.959 246.064C554.956 246.075 554.952 246.086 554.948 246.097C554.945 246.105 554.94 246.112 554.934 246.118L552.921 247.865C552.434 248.287 551.907 248.665 551.323 248.938C551.15 249.019 550.973 249.098 550.792 249.175C550.128 249.456 549.477 249.68 548.869 249.846L548.864 249.846C548.854 249.846 548.846 249.837 548.848 249.826L557.37 207.469C558.173 203.481 561.565 200.537 565.626 200.304L609.017 197.816C609.037 197.815 609.053 197.831 609.053 197.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="407.83" cy="46.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="395" y="34" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="414.16796875" y="79.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="390.5" y="30.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M857.116 41.4609C862.055 41.4609 866.059 45.465 866.059 50.4043V197.272C866.059 197.455 866.042 197.635 866.005 197.811L822.631 200.298C818.57 200.531 815.177 203.475 814.375 207.463L805.859 249.787C805.584 249.825 805.307 249.841 805.021 249.841H666.623C661.684 249.841 657.68 245.837 657.68 240.897V72.6901C659.958 73.3189 662.356 73.657 664.834 73.657C679.652 73.657 691.664 61.6447 691.664 46.8269C691.664 44.9892 691.479 43.1948 691.127 41.4609H857.116ZM806.656 249.601C806.622 249.613 806.587 249.622 806.552 249.633C806.603 249.616 806.655 249.6 806.706 249.582C806.689 249.588 806.673 249.596 806.656 249.601ZM865.818 198.362C865.812 198.373 865.804 198.384 865.798 198.395C865.812 198.368 865.826 198.341 865.839 198.314C865.832 198.33 865.825 198.347 865.818 198.362Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M866.057 197.851C866.057 197.856 866.056 197.86 866.054 197.865C865.834 198.355 865.566 198.874 865.254 199.408C864.878 200.053 864.375 200.612 863.811 201.101L812.014 246.052C812.008 246.057 811.999 246.058 811.992 246.053C811.981 246.046 811.967 246.052 811.963 246.064C811.959 246.075 811.956 246.086 811.952 246.097C811.949 246.105 811.944 246.112 811.938 246.118L809.925 247.865C809.438 248.287 808.911 248.665 808.327 248.938C808.154 249.019 807.977 249.098 807.796 249.175C807.132 249.456 806.481 249.68 805.873 249.846L805.868 249.846C805.858 249.846 805.85 249.837 805.852 249.826L814.374 207.469C815.177 203.481 818.569 200.537 822.63 200.304L866.021 197.816C866.041 197.815 866.057 197.831 866.057 197.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="664.834" cy="46.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="652" y="34" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="671.171875" y="79.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="647.504" y="30.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M465.112 295.461C470.051 295.461 474.056 299.465 474.056 304.404V451.272C474.056 451.455 474.038 451.635 474.001 451.811L430.627 454.298C426.566 454.531 423.173 457.475 422.371 461.463L413.855 503.787C413.581 503.825 413.303 503.841 413.017 503.841H274.619C269.68 503.841 265.676 499.837 265.676 494.897V326.69C267.954 327.319 270.353 327.657 272.83 327.657C287.648 327.657 299.66 315.645 299.66 300.827C299.66 298.989 299.475 297.195 299.123 295.461H465.112ZM414.652 503.601C414.618 503.613 414.583 503.622 414.548 503.633C414.599 503.616 414.651 503.6 414.702 503.582C414.685 503.588 414.669 503.596 414.652 503.601ZM473.814 452.362C473.808 452.373 473.8 452.384 473.794 452.395C473.808 452.368 473.822 452.341 473.835 452.314C473.828 452.33 473.821 452.347 473.814 452.362Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M474.053 451.851C474.053 451.856 474.052 451.86 474.05 451.865C473.83 452.355 473.562 452.874 473.25 453.408C472.874 454.053 472.371 454.612 471.808 455.101L420.01 500.052C420.004 500.057 419.995 500.058 419.988 500.053C419.977 500.046 419.963 500.052 419.959 500.064C419.956 500.075 419.952 500.086 419.948 500.097C419.945 500.105 419.94 500.112 419.934 500.118L417.921 501.865C417.434 502.287 416.907 502.665 416.323 502.938C416.15 503.019 415.973 503.098 415.792 503.175C415.128 503.456 414.477 503.68 413.869 503.846L413.864 503.846C413.854 503.846 413.846 503.837 413.848 503.826L422.37 461.469C423.173 457.481 426.565 454.537 430.626 454.304L474.017 451.816C474.037 451.815 474.053 451.831 474.053 451.851Z" fill="#B9BBE4" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="272.83" cy="300.83" r="26.83" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="260" y="288" width="25" height="25" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="279.16796875" y="333.0625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="255.5" y="284.5" width="229" height="230" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-background" d="M731.112 295.461C736.051 295.461 740.056 299.465 740.056 304.404V451.272C740.056 451.455 740.038 451.635 740.001 451.811L696.627 454.298C692.566 454.531 689.173 457.475 688.371 461.463L679.855 503.787C679.581 503.825 679.303 503.841 679.017 503.841H540.619C535.68 503.841 531.676 499.837 531.676 494.897V326.69C533.954 327.319 536.353 327.657 538.83 327.657C553.648 327.657 565.66 315.645 565.66 300.827C565.66 298.989 565.475 297.195 565.123 295.461H731.112ZM680.652 503.601C680.618 503.613 680.583 503.622 680.548 503.633C680.599 503.616 680.651 503.6 680.702 503.582C680.685 503.588 680.669 503.596 680.652 503.601ZM739.814 452.362C739.808 452.373 739.8 452.384 739.794 452.395C739.808 452.368 739.822 452.341 739.835 452.314C739.828 452.33 739.821 452.347 739.814 452.362Z" fill="#D5D6EF" class="step-5 background subtle"/>\n<path id="step-5-background_2" d="M740.053 451.851C740.053 451.856 740.052 451.86 740.05 451.865C739.83 452.355 739.562 452.874 739.25 453.408C738.874 454.053 738.371 454.612 737.808 455.101L686.01 500.052C686.004 500.057 685.995 500.058 685.988 500.053C685.977 500.046 685.963 500.052 685.959 500.064C685.956 500.075 685.952 500.086 685.948 500.097C685.945 500.105 685.94 500.112 685.934 500.118L683.921 501.865C683.434 502.287 682.907 502.665 682.323 502.938C682.15 503.019 681.973 503.098 681.792 503.175C681.128 503.456 680.477 503.68 679.869 503.846L679.864 503.846C679.854 503.846 679.846 503.837 679.848 503.826L688.37 461.469C689.173 457.481 692.565 454.537 696.626 454.304L740.017 451.816C740.037 451.815 740.053 451.831 740.053 451.851Z" fill="#B9BBE4" class="step-5 background subtle dim"/>\n<circle id="step-5-accent" cx="538.83" cy="300.83" r="26.83" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-accent-icon" x="526" y="288" width="25" height="25" class="step-5 icon accent" fill="#666666"/>\n<rect id="step-5-background-textbox" x="545.16796875" y="333.0625" width="181" height="111" class="step-5 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="521.5" y="284.5" width="229" height="230" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_6:'<svg class="text_box_collage-frame" width="772.0793600008128" height="514.0753600000313" viewBox="109.15231999998439 5.152319999984369 772.0793600008128 514.0753600000313" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M343.436 42C348.376 42 352.38 46.0041 352.38 50.9433V197.811C352.38 197.994 352.362 198.174 352.326 198.35L308.951 200.837C304.89 201.07 301.498 204.014 300.695 208.002L292.179 250.326C291.905 250.364 291.627 250.38 291.342 250.38H152.943C148.004 250.38 144 246.376 144 241.436V73.2292C146.278 73.858 148.677 74.196 151.155 74.196C165.972 74.196 177.985 62.1838 177.985 47.366C177.985 45.5283 177.8 43.7338 177.448 42H343.436ZM292.976 250.14C292.942 250.152 292.907 250.161 292.873 250.172C292.924 250.155 292.975 250.139 293.026 250.121C293.01 250.127 292.993 250.135 292.976 250.14ZM352.138 198.901C352.132 198.913 352.124 198.923 352.119 198.934C352.132 198.907 352.146 198.88 352.16 198.853C352.152 198.869 352.146 198.886 352.138 198.901Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M352.053 197.851C352.053 197.856 352.052 197.86 352.05 197.865C351.83 198.355 351.562 198.874 351.25 199.408C350.874 200.053 350.371 200.612 349.808 201.101L298.01 246.052C298.004 246.057 297.995 246.058 297.988 246.053C297.977 246.046 297.963 246.052 297.959 246.064C297.956 246.075 297.952 246.086 297.948 246.097C297.945 246.105 297.94 246.112 297.934 246.118L295.921 247.865C295.434 248.287 294.907 248.665 294.323 248.938C294.15 249.019 293.973 249.098 293.792 249.175C293.128 249.456 292.477 249.68 291.869 249.846L291.864 249.846C291.854 249.846 291.846 249.837 291.848 249.826L300.37 207.469C301.173 203.481 304.565 200.537 308.626 200.304L352.017 197.816C352.037 197.815 352.053 197.831 352.053 197.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="150.83" cy="46.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="138" y="34" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="157.16796875" y="79.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="133.5" y="30.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M600.436 42C605.376 42 609.38 46.0041 609.38 50.9433V197.811C609.38 197.994 609.362 198.174 609.326 198.35L565.951 200.837C561.89 201.07 558.498 204.014 557.695 208.002L549.179 250.326C548.905 250.364 548.627 250.38 548.342 250.38H409.943C405.004 250.38 401 246.376 401 241.436V73.2292C403.278 73.858 405.677 74.196 408.155 74.196C422.972 74.196 434.985 62.1838 434.985 47.366C434.985 45.5283 434.8 43.7338 434.448 42H600.436ZM549.976 250.14C549.942 250.152 549.907 250.161 549.873 250.172C549.924 250.155 549.975 250.139 550.026 250.121C550.01 250.127 549.993 250.135 549.976 250.14ZM609.138 198.901C609.132 198.913 609.124 198.923 609.119 198.934C609.132 198.907 609.146 198.88 609.16 198.853C609.152 198.869 609.146 198.886 609.138 198.901Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M609.053 197.851C609.053 197.856 609.052 197.86 609.05 197.865C608.83 198.355 608.562 198.874 608.25 199.408C607.874 200.053 607.371 200.612 606.808 201.101L555.01 246.052C555.004 246.057 554.995 246.058 554.988 246.053C554.977 246.046 554.963 246.052 554.959 246.064C554.956 246.075 554.952 246.086 554.948 246.097C554.945 246.105 554.94 246.112 554.934 246.118L552.921 247.865C552.434 248.287 551.907 248.665 551.323 248.938C551.15 249.019 550.973 249.098 550.792 249.175C550.128 249.456 549.477 249.68 548.869 249.846L548.864 249.846C548.854 249.846 548.846 249.837 548.848 249.826L557.37 207.469C558.173 203.481 561.565 200.537 565.626 200.304L609.017 197.816C609.037 197.815 609.053 197.831 609.053 197.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="407.83" cy="46.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="395" y="34" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="414.16796875" y="79.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="390.5" y="30.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M857.44 42C862.38 42 866.384 46.0041 866.384 50.9433V197.811C866.384 197.994 866.366 198.174 866.33 198.35L822.955 200.837C818.894 201.07 815.502 204.014 814.699 208.002L806.183 250.326C805.909 250.364 805.631 250.38 805.345 250.38H666.947C662.008 250.38 658.004 246.376 658.004 241.436V73.2292C660.282 73.858 662.681 74.196 665.159 74.196C679.976 74.196 691.989 62.1838 691.989 47.366C691.989 45.5283 691.803 43.7338 691.451 42H857.44ZM806.98 250.14C806.946 250.152 806.911 250.161 806.876 250.172C806.927 250.155 806.979 250.139 807.03 250.121C807.014 250.127 806.997 250.135 806.98 250.14ZM866.142 198.901C866.136 198.913 866.128 198.923 866.123 198.934C866.136 198.907 866.15 198.88 866.164 198.853C866.156 198.869 866.15 198.886 866.142 198.901Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M866.057 197.851C866.057 197.856 866.056 197.86 866.054 197.865C865.834 198.355 865.566 198.874 865.254 199.408C864.878 200.053 864.375 200.612 863.811 201.101L812.014 246.052C812.008 246.057 811.999 246.058 811.992 246.053C811.981 246.046 811.967 246.052 811.963 246.064C811.959 246.075 811.956 246.086 811.952 246.097C811.949 246.105 811.944 246.112 811.938 246.118L809.925 247.865C809.438 248.287 808.911 248.665 808.327 248.938C808.154 249.019 807.977 249.098 807.796 249.175C807.132 249.456 806.481 249.68 805.873 249.846L805.868 249.846C805.858 249.846 805.85 249.837 805.852 249.826L814.374 207.469C815.177 203.481 818.569 200.537 822.63 200.304L866.021 197.816C866.041 197.815 866.057 197.831 866.057 197.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="664.834" cy="46.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="652" y="34" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="671.171875" y="79.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="647.504" y="30.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M343.436 296C348.376 296 352.38 300.004 352.38 304.943V451.811C352.38 451.994 352.362 452.174 352.326 452.35L308.951 454.837C304.89 455.07 301.498 458.014 300.695 462.002L292.179 504.326C291.905 504.364 291.627 504.38 291.342 504.38H152.943C148.004 504.38 144 500.376 144 495.436V327.229C146.278 327.858 148.677 328.196 151.155 328.196C165.972 328.196 177.985 316.184 177.985 301.366C177.985 299.528 177.8 297.734 177.448 296H343.436ZM292.976 504.14C292.942 504.152 292.907 504.161 292.873 504.172C292.924 504.155 292.975 504.139 293.026 504.121C293.01 504.127 292.993 504.135 292.976 504.14ZM352.138 452.901C352.132 452.913 352.124 452.923 352.119 452.934C352.132 452.907 352.146 452.88 352.16 452.853C352.152 452.869 352.146 452.886 352.138 452.901Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M352.053 451.851C352.053 451.856 352.052 451.86 352.05 451.865C351.83 452.355 351.562 452.874 351.25 453.408C350.874 454.053 350.371 454.612 349.808 455.101L298.01 500.052C298.004 500.057 297.995 500.058 297.988 500.053C297.977 500.046 297.963 500.052 297.959 500.064C297.956 500.075 297.952 500.086 297.948 500.097C297.945 500.105 297.94 500.112 297.934 500.118L295.921 501.865C295.434 502.287 294.907 502.665 294.323 502.938C294.15 503.019 293.973 503.098 293.792 503.175C293.128 503.456 292.477 503.68 291.869 503.846L291.864 503.846C291.854 503.846 291.846 503.837 291.848 503.826L300.37 461.469C301.173 457.481 304.565 454.537 308.626 454.304L352.017 451.816C352.037 451.815 352.053 451.831 352.053 451.851Z" fill="#B9BBE4" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="150.83" cy="300.83" r="26.83" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="138" y="288" width="25" height="25" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="157.16796875" y="333.0625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="133.5" y="284.5" width="229" height="230" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-background" d="M600.436 296C605.376 296 609.38 300.004 609.38 304.943V451.811C609.38 451.994 609.362 452.174 609.326 452.35L565.951 454.837C561.89 455.07 558.498 458.014 557.695 462.002L549.179 504.326C548.905 504.364 548.627 504.38 548.342 504.38H409.943C405.004 504.38 401 500.376 401 495.436V327.229C403.278 327.858 405.677 328.196 408.155 328.196C422.972 328.196 434.985 316.184 434.985 301.366C434.985 299.528 434.8 297.734 434.448 296H600.436ZM549.976 504.14C549.942 504.152 549.907 504.161 549.873 504.172C549.924 504.155 549.975 504.139 550.026 504.121C550.01 504.127 549.993 504.135 549.976 504.14ZM609.138 452.901C609.132 452.913 609.124 452.923 609.119 452.934C609.132 452.907 609.146 452.88 609.16 452.853C609.152 452.869 609.146 452.886 609.138 452.901Z" fill="#D5D6EF" class="step-5 background subtle"/>\n<path id="step-5-background_2" d="M609.053 451.851C609.053 451.856 609.052 451.86 609.05 451.865C608.83 452.355 608.562 452.874 608.25 453.408C607.874 454.053 607.371 454.612 606.808 455.101L555.01 500.052C555.004 500.057 554.995 500.058 554.988 500.053C554.977 500.046 554.963 500.052 554.959 500.064C554.956 500.075 554.952 500.086 554.948 500.097C554.945 500.105 554.94 500.112 554.934 500.118L552.921 501.865C552.434 502.287 551.907 502.665 551.323 502.938C551.15 503.019 550.973 503.098 550.792 503.175C550.128 503.456 549.477 503.68 548.869 503.846L548.864 503.846C548.854 503.846 548.846 503.837 548.848 503.826L557.37 461.469C558.173 457.481 561.565 454.537 565.626 454.304L609.017 451.816C609.037 451.815 609.053 451.831 609.053 451.851Z" fill="#B9BBE4" class="step-5 background subtle dim"/>\n<circle id="step-5-accent" cx="407.83" cy="300.83" r="26.83" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-accent-icon" x="395" y="288" width="25" height="25" class="step-5 icon accent" fill="#666666"/>\n<rect id="step-5-background-textbox" x="414.16796875" y="333.0625" width="181" height="111" class="step-5 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="390.5" y="284.5" width="229" height="230" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6-background" d="M857.44 296C862.38 296 866.384 300.004 866.384 304.943V451.811C866.384 451.994 866.366 452.174 866.33 452.35L822.955 454.837C818.894 455.07 815.502 458.014 814.699 462.002L806.183 504.326C805.909 504.364 805.631 504.38 805.345 504.38H666.947C662.008 504.38 658.004 500.376 658.004 495.436V327.229C660.282 327.858 662.681 328.196 665.159 328.196C679.976 328.196 691.989 316.184 691.989 301.366C691.989 299.528 691.803 297.734 691.451 296H857.44ZM806.98 504.14C806.946 504.152 806.911 504.161 806.876 504.172C806.927 504.155 806.979 504.139 807.03 504.121C807.014 504.127 806.997 504.135 806.98 504.14ZM866.142 452.901C866.136 452.913 866.128 452.923 866.123 452.934C866.136 452.907 866.15 452.88 866.164 452.853C866.156 452.869 866.15 452.886 866.142 452.901Z" fill="#D5D6EF" class="step-6 background subtle"/>\n<path id="step-6-background_2" d="M866.057 451.851C866.057 451.856 866.056 451.86 866.054 451.865C865.834 452.355 865.566 452.874 865.254 453.408C864.878 454.053 864.375 454.612 863.811 455.101L812.014 500.052C812.008 500.057 811.999 500.058 811.992 500.053C811.981 500.046 811.967 500.052 811.963 500.064C811.959 500.075 811.956 500.086 811.952 500.097C811.949 500.105 811.944 500.112 811.938 500.118L809.925 501.865C809.438 502.287 808.911 502.665 808.327 502.938C808.154 503.019 807.977 503.098 807.796 503.175C807.132 503.456 806.481 503.68 805.873 503.846L805.868 503.846C805.858 503.846 805.85 503.837 805.852 503.826L814.374 461.469C815.177 457.481 818.569 454.537 822.63 454.304L866.021 451.816C866.041 451.815 866.057 451.831 866.057 451.851Z" fill="#B9BBE4" class="step-6 background subtle dim"/>\n<circle id="step-6-accent" cx="664.834" cy="300.83" r="26.83" fill="#4046B4" class="step-6 accent"/>\n<rect id="step-6-accent-icon" x="652" y="288" width="25" height="25" class="step-6 icon accent" fill="#666666"/>\n<rect id="step-6-background-textbox" x="671.171875" y="333.0625" width="181" height="111" class="step-6 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="647.504" y="284.5" width="229" height="230" stroke="black" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_7:'<svg class="text_box_collage-frame" width="1026.53824" height="523.3282400000002" viewBox="-17.741120000000002 0.2588799999999978 1026.53824 523.3282400000002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M221.112 41.4609C226.051 41.4609 230.056 45.465 230.056 50.4043V197.272C230.056 197.455 230.038 197.635 230.001 197.811L186.627 200.298C182.566 200.531 179.173 203.475 178.371 207.463L169.855 249.787C169.581 249.825 169.303 249.841 169.017 249.841H30.6191C25.6799 249.841 21.6758 245.837 21.6758 240.897V72.6901C23.9537 73.3189 26.3526 73.657 28.8305 73.657C43.6483 73.657 55.6605 61.6447 55.6605 46.8269C55.6605 44.9892 55.4753 43.1948 55.1233 41.4609H221.112ZM170.652 249.601C170.618 249.613 170.583 249.622 170.548 249.633C170.599 249.616 170.651 249.6 170.702 249.582C170.685 249.588 170.669 249.596 170.652 249.601ZM229.814 198.362C229.808 198.373 229.8 198.384 229.794 198.395C229.808 198.368 229.822 198.341 229.835 198.314C229.828 198.33 229.821 198.347 229.814 198.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M230.053 197.851C230.053 197.856 230.052 197.86 230.05 197.865C229.83 198.355 229.562 198.874 229.25 199.408C228.874 200.053 228.371 200.612 227.808 201.101L176.01 246.052C176.004 246.057 175.995 246.058 175.988 246.053C175.977 246.046 175.963 246.052 175.959 246.064C175.956 246.075 175.952 246.086 175.948 246.097C175.945 246.105 175.94 246.112 175.934 246.118L173.921 247.865C173.434 248.287 172.907 248.665 172.323 248.938C172.15 249.019 171.973 249.098 171.792 249.175C171.128 249.456 170.477 249.68 169.869 249.846L169.864 249.846C169.854 249.846 169.846 249.837 169.848 249.826L178.37 207.469C179.173 203.481 182.565 200.537 186.626 200.304L230.017 197.816C230.037 197.815 230.053 197.831 230.053 197.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="28.83" cy="46.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="16" y="34" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="35.16796875" y="79.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="11.5" y="30.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M474.112 41.4609C479.051 41.4609 483.056 45.465 483.056 50.4043V197.272C483.056 197.455 483.038 197.635 483.001 197.811L439.627 200.298C435.566 200.531 432.173 203.475 431.371 207.463L422.855 249.787C422.581 249.825 422.303 249.841 422.017 249.841H283.619C278.68 249.841 274.676 245.837 274.676 240.897V72.6901C276.954 73.3189 279.353 73.657 281.83 73.657C296.648 73.657 308.66 61.6447 308.66 46.8269C308.66 44.9892 308.475 43.1948 308.123 41.4609H474.112ZM423.652 249.601C423.618 249.613 423.583 249.622 423.548 249.633C423.599 249.616 423.651 249.6 423.702 249.582C423.685 249.588 423.669 249.596 423.652 249.601ZM482.814 198.362C482.808 198.373 482.8 198.384 482.794 198.395C482.808 198.368 482.822 198.341 482.835 198.314C482.828 198.33 482.821 198.347 482.814 198.362Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M483.053 197.851C483.053 197.856 483.052 197.86 483.05 197.865C482.83 198.355 482.562 198.874 482.25 199.408C481.874 200.053 481.371 200.612 480.808 201.101L429.01 246.052C429.004 246.057 428.995 246.058 428.988 246.053C428.977 246.046 428.963 246.052 428.959 246.064C428.956 246.075 428.952 246.086 428.948 246.097C428.945 246.105 428.94 246.112 428.934 246.118L426.921 247.865C426.434 248.287 425.907 248.665 425.323 248.938C425.15 249.019 424.973 249.098 424.792 249.175C424.128 249.456 423.477 249.68 422.869 249.846L422.864 249.846C422.854 249.846 422.846 249.837 422.848 249.826L431.37 207.469C432.173 203.481 435.565 200.537 439.626 200.304L483.017 197.816C483.037 197.815 483.053 197.831 483.053 197.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="281.83" cy="46.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="269" y="34" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="288.16796875" y="79.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="264.5" y="30.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M727.112 41.4609C732.051 41.4609 736.056 45.465 736.056 50.4043V197.272C736.056 197.455 736.038 197.635 736.001 197.811L692.627 200.298C688.566 200.531 685.173 203.475 684.371 207.463L675.855 249.787C675.581 249.825 675.303 249.841 675.017 249.841H536.619C531.68 249.841 527.676 245.837 527.676 240.897V72.6901C529.954 73.3189 532.353 73.657 534.83 73.657C549.648 73.657 561.66 61.6447 561.66 46.8269C561.66 44.9892 561.475 43.1948 561.123 41.4609H727.112ZM676.652 249.601C676.618 249.613 676.583 249.622 676.548 249.633C676.599 249.616 676.651 249.6 676.702 249.582C676.685 249.588 676.669 249.596 676.652 249.601ZM735.814 198.362C735.808 198.373 735.8 198.384 735.794 198.395C735.808 198.368 735.822 198.341 735.835 198.314C735.828 198.33 735.821 198.347 735.814 198.362Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M736.053 197.851C736.053 197.856 736.052 197.86 736.05 197.865C735.83 198.355 735.562 198.874 735.25 199.408C734.874 200.053 734.371 200.612 733.808 201.101L682.01 246.052C682.004 246.057 681.995 246.058 681.988 246.053C681.977 246.046 681.963 246.052 681.959 246.064C681.956 246.075 681.952 246.086 681.948 246.097C681.945 246.105 681.94 246.112 681.934 246.118L679.921 247.865C679.434 248.287 678.907 248.665 678.323 248.938C678.15 249.019 677.973 249.098 677.792 249.175C677.128 249.456 676.477 249.68 675.869 249.846L675.864 249.846C675.854 249.846 675.846 249.837 675.848 249.826L684.37 207.469C685.173 203.481 688.565 200.537 692.626 200.304L736.017 197.816C736.037 197.815 736.053 197.831 736.053 197.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="534.83" cy="46.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="522" y="34" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="541.16796875" y="79.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="517.5" y="30.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M980.112 41.4609C985.051 41.4609 989.056 45.465 989.056 50.4043V197.272C989.056 197.455 989.038 197.635 989.001 197.811L945.627 200.298C941.566 200.531 938.173 203.475 937.371 207.463L928.855 249.787C928.581 249.825 928.303 249.841 928.017 249.841H789.619C784.68 249.841 780.676 245.837 780.676 240.897V72.6901C782.954 73.3189 785.353 73.657 787.83 73.657C802.648 73.657 814.66 61.6447 814.66 46.8269C814.66 44.9892 814.475 43.1948 814.123 41.4609H980.112ZM929.652 249.601C929.618 249.613 929.583 249.622 929.548 249.633C929.599 249.616 929.651 249.6 929.702 249.582C929.685 249.588 929.669 249.596 929.652 249.601ZM988.814 198.362C988.808 198.373 988.8 198.384 988.794 198.395C988.808 198.368 988.822 198.341 988.835 198.314C988.828 198.33 988.821 198.347 988.814 198.362Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M989.053 197.851C989.053 197.856 989.052 197.86 989.05 197.865C988.83 198.355 988.562 198.874 988.25 199.408C987.874 200.053 987.371 200.612 986.808 201.101L935.01 246.052C935.004 246.057 934.995 246.058 934.988 246.053C934.977 246.046 934.963 246.052 934.959 246.064C934.956 246.075 934.952 246.086 934.948 246.097C934.945 246.105 934.94 246.112 934.934 246.118L932.921 247.865C932.434 248.287 931.907 248.665 931.323 248.938C931.15 249.019 930.973 249.098 930.792 249.175C930.128 249.456 929.477 249.68 928.869 249.846L928.864 249.846C928.854 249.846 928.846 249.837 928.848 249.826L937.37 207.469C938.173 203.481 941.565 200.537 945.626 200.304L989.017 197.816C989.037 197.815 989.053 197.831 989.053 197.851Z" fill="#B9BBE4" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="787.83" cy="46.83" r="26.83" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="775" y="34" width="25" height="25" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="794.16796875" y="79.0625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="770.5" y="30.5" width="229" height="230" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-background" d="M343.112 295.461C348.051 295.461 352.056 299.465 352.056 304.404V451.272C352.056 451.455 352.038 451.635 352.001 451.811L308.627 454.298C304.566 454.531 301.173 457.475 300.371 461.463L291.855 503.787C291.581 503.825 291.303 503.841 291.017 503.841H152.619C147.68 503.841 143.676 499.837 143.676 494.897V326.69C145.954 327.319 148.353 327.657 150.83 327.657C165.648 327.657 177.66 315.645 177.66 300.827C177.66 298.989 177.475 297.195 177.123 295.461H343.112ZM292.652 503.601C292.618 503.613 292.583 503.622 292.548 503.633C292.599 503.616 292.651 503.6 292.702 503.582C292.685 503.588 292.669 503.596 292.652 503.601ZM351.814 452.362C351.808 452.373 351.8 452.384 351.794 452.395C351.808 452.368 351.822 452.341 351.835 452.314C351.828 452.33 351.821 452.347 351.814 452.362Z" fill="#D5D6EF" class="step-5 background subtle"/>\n<path id="step-5-background_2" d="M352.053 451.851C352.053 451.856 352.052 451.86 352.05 451.865C351.83 452.355 351.562 452.874 351.25 453.408C350.874 454.053 350.371 454.612 349.808 455.101L298.01 500.052C298.004 500.057 297.995 500.058 297.988 500.053C297.977 500.046 297.963 500.052 297.959 500.064C297.956 500.075 297.952 500.086 297.948 500.097C297.945 500.105 297.94 500.112 297.934 500.118L295.921 501.865C295.434 502.287 294.907 502.665 294.323 502.938C294.15 503.019 293.973 503.098 293.792 503.175C293.128 503.456 292.477 503.68 291.869 503.846L291.864 503.846C291.854 503.846 291.846 503.837 291.848 503.826L300.37 461.469C301.173 457.481 304.565 454.537 308.626 454.304L352.017 451.816C352.037 451.815 352.053 451.831 352.053 451.851Z" fill="#B9BBE4" class="step-5 background subtle dim"/>\n<circle id="step-5-accent" cx="150.83" cy="300.83" r="26.83" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-accent-icon" x="138" y="288" width="25" height="25" class="step-5 icon accent" fill="#666666"/>\n<rect id="step-5-background-textbox" x="157.16796875" y="333.0625" width="181" height="111" class="step-5 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="133.5" y="284.5" width="229" height="230" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6-background" d="M600.112 295.461C605.051 295.461 609.056 299.465 609.056 304.404V451.272C609.056 451.455 609.038 451.635 609.001 451.811L565.627 454.298C561.566 454.531 558.173 457.475 557.371 461.463L548.855 503.787C548.581 503.825 548.303 503.841 548.017 503.841H409.619C404.68 503.841 400.676 499.837 400.676 494.897V326.69C402.954 327.319 405.353 327.657 407.83 327.657C422.648 327.657 434.66 315.645 434.66 300.827C434.66 298.989 434.475 297.195 434.123 295.461H600.112ZM549.652 503.601C549.618 503.613 549.583 503.622 549.548 503.633C549.599 503.616 549.651 503.6 549.702 503.582C549.685 503.588 549.669 503.596 549.652 503.601ZM608.814 452.362C608.808 452.373 608.8 452.384 608.794 452.395C608.808 452.368 608.822 452.341 608.835 452.314C608.828 452.33 608.821 452.347 608.814 452.362Z" fill="#D5D6EF" class="step-6 background subtle"/>\n<path id="step-6-background_2" d="M609.053 451.851C609.053 451.856 609.052 451.86 609.05 451.865C608.83 452.355 608.562 452.874 608.25 453.408C607.874 454.053 607.371 454.612 606.808 455.101L555.01 500.052C555.004 500.057 554.995 500.058 554.988 500.053C554.977 500.046 554.963 500.052 554.959 500.064C554.956 500.075 554.952 500.086 554.948 500.097C554.945 500.105 554.94 500.112 554.934 500.118L552.921 501.865C552.434 502.287 551.907 502.665 551.323 502.938C551.15 503.019 550.973 503.098 550.792 503.175C550.128 503.456 549.477 503.68 548.869 503.846L548.864 503.846C548.854 503.846 548.846 503.837 548.848 503.826L557.37 461.469C558.173 457.481 561.565 454.537 565.626 454.304L609.017 451.816C609.037 451.815 609.053 451.831 609.053 451.851Z" fill="#B9BBE4" class="step-6 background subtle dim"/>\n<circle id="step-6-accent" cx="407.83" cy="300.83" r="26.83" fill="#4046B4" class="step-6 accent"/>\n<rect id="step-6-accent-icon" x="395" y="288" width="25" height="25" class="step-6 icon accent" fill="#666666"/>\n<rect id="step-6-background-textbox" x="414.16796875" y="333.0625" width="181" height="111" class="step-6 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="390.5" y="284.5" width="229" height="230" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-7" class="step-7 subtle">\n<path id="step-7-background" d="M857.112 295.461C862.051 295.461 866.056 299.465 866.056 304.404V451.272C866.056 451.455 866.038 451.635 866.001 451.811L822.627 454.298C818.566 454.531 815.173 457.475 814.371 461.463L805.855 503.787C805.581 503.825 805.303 503.841 805.017 503.841H666.619C661.68 503.841 657.676 499.837 657.676 494.897V326.69C659.954 327.319 662.353 327.657 664.83 327.657C679.648 327.657 691.66 315.645 691.66 300.827C691.66 298.989 691.475 297.195 691.123 295.461H857.112ZM806.652 503.601C806.618 503.613 806.583 503.622 806.548 503.633C806.599 503.616 806.651 503.6 806.702 503.582C806.685 503.588 806.669 503.596 806.652 503.601ZM865.814 452.362C865.808 452.373 865.8 452.384 865.794 452.395C865.808 452.368 865.822 452.341 865.835 452.314C865.828 452.33 865.821 452.347 865.814 452.362Z" fill="#D5D6EF" class="step-7 background subtle"/>\n<path id="step-7-background_2" d="M866.053 451.851C866.053 451.856 866.052 451.86 866.05 451.865C865.83 452.355 865.562 452.874 865.25 453.408C864.874 454.053 864.371 454.612 863.808 455.101L812.01 500.052C812.004 500.057 811.995 500.058 811.988 500.053C811.977 500.046 811.963 500.052 811.959 500.064C811.956 500.075 811.952 500.086 811.948 500.097C811.945 500.105 811.94 500.112 811.934 500.118L809.921 501.865C809.434 502.287 808.907 502.665 808.323 502.938C808.15 503.019 807.973 503.098 807.792 503.175C807.128 503.456 806.477 503.68 805.869 503.846L805.864 503.846C805.854 503.846 805.846 503.837 805.848 503.826L814.37 461.469C815.173 457.481 818.565 454.537 822.626 454.304L866.017 451.816C866.037 451.815 866.053 451.831 866.053 451.851Z" fill="#B9BBE4" class="step-7 background subtle dim"/>\n<circle id="step-7-accent" cx="664.83" cy="300.83" r="26.83" fill="#4046B4" class="step-7 accent"/>\n<rect id="step-7-accent-icon" x="652" y="288" width="25" height="25" class="step-7 icon accent" fill="#666666"/>\n<rect id="step-7-background-textbox" x="671.16796875" y="333.0625" width="181" height="111" class="step-7 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-7-selection" x="647.5" y="284.5" width="229" height="230" stroke="black" class="step-7 selection"/>\n</g>\n</g>\n</svg>\n',text_box_collage_8:'<svg class="text_box_collage-frame" width="1026.53824" height="523.3282400000002" viewBox="-17.741120000000002 0.2588799999999978 1026.53824 523.3282400000002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="text_box_collage-frame">\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M221.112 41.4609C226.051 41.4609 230.056 45.465 230.056 50.4043V197.272C230.056 197.455 230.038 197.635 230.001 197.811L186.627 200.298C182.566 200.531 179.173 203.475 178.371 207.463L169.855 249.787C169.581 249.825 169.303 249.841 169.017 249.841H30.6191C25.6799 249.841 21.6758 245.837 21.6758 240.897V72.6901C23.9537 73.3189 26.3526 73.657 28.8305 73.657C43.6483 73.657 55.6605 61.6447 55.6605 46.8269C55.6605 44.9892 55.4753 43.1948 55.1233 41.4609H221.112ZM170.652 249.601C170.618 249.613 170.583 249.622 170.548 249.633C170.599 249.616 170.651 249.6 170.702 249.582C170.685 249.588 170.669 249.596 170.652 249.601ZM229.814 198.362C229.808 198.373 229.8 198.384 229.794 198.395C229.808 198.368 229.822 198.341 229.835 198.314C229.828 198.33 229.821 198.347 229.814 198.362Z" fill="#D5D6EF" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M230.053 197.851C230.053 197.856 230.052 197.86 230.05 197.865C229.83 198.355 229.562 198.874 229.25 199.408C228.874 200.053 228.371 200.612 227.808 201.101L176.01 246.052C176.004 246.057 175.995 246.058 175.988 246.053C175.977 246.046 175.963 246.052 175.959 246.064C175.956 246.075 175.952 246.086 175.948 246.097C175.945 246.105 175.94 246.112 175.934 246.118L173.921 247.865C173.434 248.287 172.907 248.665 172.323 248.938C172.15 249.019 171.973 249.098 171.792 249.175C171.128 249.456 170.477 249.68 169.869 249.846L169.864 249.846C169.854 249.846 169.846 249.837 169.848 249.826L178.37 207.469C179.173 203.481 182.565 200.537 186.626 200.304L230.017 197.816C230.037 197.815 230.053 197.831 230.053 197.851Z" fill="#B9BBE4" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="28.83" cy="46.83" r="26.83" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-icon" x="16" y="34" width="25" height="25" class="step-1 icon accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="35.16796875" y="79.0625" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="11.5" y="30.5" width="229" height="230" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M474.112 41.4609C479.051 41.4609 483.056 45.465 483.056 50.4043V197.272C483.056 197.455 483.038 197.635 483.001 197.811L439.627 200.298C435.566 200.531 432.173 203.475 431.371 207.463L422.855 249.787C422.581 249.825 422.303 249.841 422.017 249.841H283.619C278.68 249.841 274.676 245.837 274.676 240.897V72.6901C276.954 73.3189 279.353 73.657 281.83 73.657C296.648 73.657 308.66 61.6447 308.66 46.8269C308.66 44.9892 308.475 43.1948 308.123 41.4609H474.112ZM423.652 249.601C423.618 249.613 423.583 249.622 423.548 249.633C423.599 249.616 423.651 249.6 423.702 249.582C423.685 249.588 423.669 249.596 423.652 249.601ZM482.814 198.362C482.808 198.373 482.8 198.384 482.794 198.395C482.808 198.368 482.822 198.341 482.835 198.314C482.828 198.33 482.821 198.347 482.814 198.362Z" fill="#D5D6EF" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M483.053 197.851C483.053 197.856 483.052 197.86 483.05 197.865C482.83 198.355 482.562 198.874 482.25 199.408C481.874 200.053 481.371 200.612 480.808 201.101L429.01 246.052C429.004 246.057 428.995 246.058 428.988 246.053C428.977 246.046 428.963 246.052 428.959 246.064C428.956 246.075 428.952 246.086 428.948 246.097C428.945 246.105 428.94 246.112 428.934 246.118L426.921 247.865C426.434 248.287 425.907 248.665 425.323 248.938C425.15 249.019 424.973 249.098 424.792 249.175C424.128 249.456 423.477 249.68 422.869 249.846L422.864 249.846C422.854 249.846 422.846 249.837 422.848 249.826L431.37 207.469C432.173 203.481 435.565 200.537 439.626 200.304L483.017 197.816C483.037 197.815 483.053 197.831 483.053 197.851Z" fill="#B9BBE4" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="281.83" cy="46.83" r="26.83" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-accent-icon" x="269" y="34" width="25" height="25" class="step-2 icon accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="288.16796875" y="79.0625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="264.5" y="30.5" width="229" height="230" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M727.112 41.4609C732.051 41.4609 736.056 45.465 736.056 50.4043V197.272C736.056 197.455 736.038 197.635 736.001 197.811L692.627 200.298C688.566 200.531 685.173 203.475 684.371 207.463L675.855 249.787C675.581 249.825 675.303 249.841 675.017 249.841H536.619C531.68 249.841 527.676 245.837 527.676 240.897V72.6901C529.954 73.3189 532.353 73.657 534.83 73.657C549.648 73.657 561.66 61.6447 561.66 46.8269C561.66 44.9892 561.475 43.1948 561.123 41.4609H727.112ZM676.652 249.601C676.618 249.613 676.583 249.622 676.548 249.633C676.599 249.616 676.651 249.6 676.702 249.582C676.685 249.588 676.669 249.596 676.652 249.601ZM735.814 198.362C735.808 198.373 735.8 198.384 735.794 198.395C735.808 198.368 735.822 198.341 735.835 198.314C735.828 198.33 735.821 198.347 735.814 198.362Z" fill="#D5D6EF" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M736.053 197.851C736.053 197.856 736.052 197.86 736.05 197.865C735.83 198.355 735.562 198.874 735.25 199.408C734.874 200.053 734.371 200.612 733.808 201.101L682.01 246.052C682.004 246.057 681.995 246.058 681.988 246.053C681.977 246.046 681.963 246.052 681.959 246.064C681.956 246.075 681.952 246.086 681.948 246.097C681.945 246.105 681.94 246.112 681.934 246.118L679.921 247.865C679.434 248.287 678.907 248.665 678.323 248.938C678.15 249.019 677.973 249.098 677.792 249.175C677.128 249.456 676.477 249.68 675.869 249.846L675.864 249.846C675.854 249.846 675.846 249.837 675.848 249.826L684.37 207.469C685.173 203.481 688.565 200.537 692.626 200.304L736.017 197.816C736.037 197.815 736.053 197.831 736.053 197.851Z" fill="#B9BBE4" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="534.83" cy="46.83" r="26.83" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-accent-icon" x="522" y="34" width="25" height="25" class="step-3 icon accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="541.16796875" y="79.0625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="517.5" y="30.5" width="229" height="230" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M980.112 41.4609C985.051 41.4609 989.056 45.465 989.056 50.4043V197.272C989.056 197.455 989.038 197.635 989.001 197.811L945.627 200.298C941.566 200.531 938.173 203.475 937.371 207.463L928.855 249.787C928.581 249.825 928.303 249.841 928.017 249.841H789.619C784.68 249.841 780.676 245.837 780.676 240.897V72.6901C782.954 73.3189 785.353 73.657 787.83 73.657C802.648 73.657 814.66 61.6447 814.66 46.8269C814.66 44.9892 814.475 43.1948 814.123 41.4609H980.112ZM929.652 249.601C929.618 249.613 929.583 249.622 929.548 249.633C929.599 249.616 929.651 249.6 929.702 249.582C929.685 249.588 929.669 249.596 929.652 249.601ZM988.814 198.362C988.808 198.373 988.8 198.384 988.794 198.395C988.808 198.368 988.822 198.341 988.835 198.314C988.828 198.33 988.821 198.347 988.814 198.362Z" fill="#D5D6EF" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M989.053 197.851C989.053 197.856 989.052 197.86 989.05 197.865C988.83 198.355 988.562 198.874 988.25 199.408C987.874 200.053 987.371 200.612 986.808 201.101L935.01 246.052C935.004 246.057 934.995 246.058 934.988 246.053C934.977 246.046 934.963 246.052 934.959 246.064C934.956 246.075 934.952 246.086 934.948 246.097C934.945 246.105 934.94 246.112 934.934 246.118L932.921 247.865C932.434 248.287 931.907 248.665 931.323 248.938C931.15 249.019 930.973 249.098 930.792 249.175C930.128 249.456 929.477 249.68 928.869 249.846L928.864 249.846C928.854 249.846 928.846 249.837 928.848 249.826L937.37 207.469C938.173 203.481 941.565 200.537 945.626 200.304L989.017 197.816C989.037 197.815 989.053 197.831 989.053 197.851Z" fill="#B9BBE4" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="787.83" cy="46.83" r="26.83" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-accent-icon" x="775" y="34" width="25" height="25" class="step-4 icon accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="794.16796875" y="79.0625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="770.5" y="30.5" width="229" height="230" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-background" d="M221.112 295.461C226.051 295.461 230.056 299.465 230.056 304.404V451.272C230.056 451.455 230.038 451.635 230.001 451.811L186.627 454.298C182.566 454.531 179.173 457.475 178.371 461.463L169.855 503.787C169.581 503.825 169.303 503.841 169.017 503.841H30.6191C25.6799 503.841 21.6758 499.837 21.6758 494.897V326.69C23.9537 327.319 26.3526 327.657 28.8305 327.657C43.6483 327.657 55.6605 315.645 55.6605 300.827C55.6605 298.989 55.4753 297.195 55.1233 295.461H221.112ZM170.652 503.601C170.618 503.613 170.583 503.622 170.548 503.633C170.599 503.616 170.651 503.6 170.702 503.582C170.685 503.588 170.669 503.596 170.652 503.601ZM229.814 452.362C229.808 452.373 229.8 452.384 229.794 452.395C229.808 452.368 229.822 452.341 229.835 452.314C229.828 452.33 229.821 452.347 229.814 452.362Z" fill="#D5D6EF" class="step-5 background subtle"/>\n<path id="step-5-background_2" d="M230.053 451.851C230.053 451.856 230.052 451.86 230.05 451.865C229.83 452.355 229.562 452.874 229.25 453.408C228.874 454.053 228.371 454.612 227.808 455.101L176.01 500.052C176.004 500.057 175.995 500.058 175.988 500.053C175.977 500.046 175.963 500.052 175.959 500.064C175.956 500.075 175.952 500.086 175.948 500.097C175.945 500.105 175.94 500.112 175.934 500.118L173.921 501.865C173.434 502.287 172.907 502.665 172.323 502.938C172.15 503.019 171.973 503.098 171.792 503.175C171.128 503.456 170.477 503.68 169.869 503.846L169.864 503.846C169.854 503.846 169.846 503.837 169.848 503.826L178.37 461.469C179.173 457.481 182.565 454.537 186.626 454.304L230.017 451.816C230.037 451.815 230.053 451.831 230.053 451.851Z" fill="#B9BBE4" class="step-5 background subtle dim"/>\n<circle id="step-5-accent" cx="28.83" cy="300.83" r="26.83" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-accent-icon" x="16" y="288" width="25" height="25" class="step-5 icon accent" fill="#666666"/>\n<rect id="step-5-background-textbox" x="35.16796875" y="333.0625" width="181" height="111" class="step-5 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="11.5" y="284.5" width="229" height="230" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6-background" d="M474.112 295.461C479.051 295.461 483.056 299.465 483.056 304.404V451.272C483.056 451.455 483.038 451.635 483.001 451.811L439.627 454.298C435.566 454.531 432.173 457.475 431.371 461.463L422.855 503.787C422.581 503.825 422.303 503.841 422.017 503.841H283.619C278.68 503.841 274.676 499.837 274.676 494.897V326.69C276.954 327.319 279.353 327.657 281.83 327.657C296.648 327.657 308.66 315.645 308.66 300.827C308.66 298.989 308.475 297.195 308.123 295.461H474.112ZM423.652 503.601C423.618 503.613 423.583 503.622 423.548 503.633C423.599 503.616 423.651 503.6 423.702 503.582C423.685 503.588 423.669 503.596 423.652 503.601ZM482.814 452.362C482.808 452.373 482.8 452.384 482.794 452.395C482.808 452.368 482.822 452.341 482.835 452.314C482.828 452.33 482.821 452.347 482.814 452.362Z" fill="#D5D6EF" class="step-6 background subtle"/>\n<path id="step-6-background_2" d="M483.053 451.851C483.053 451.856 483.052 451.86 483.05 451.865C482.83 452.355 482.562 452.874 482.25 453.408C481.874 454.053 481.371 454.612 480.808 455.101L429.01 500.052C429.004 500.057 428.995 500.058 428.988 500.053C428.977 500.046 428.963 500.052 428.959 500.064C428.956 500.075 428.952 500.086 428.948 500.097C428.945 500.105 428.94 500.112 428.934 500.118L426.921 501.865C426.434 502.287 425.907 502.665 425.323 502.938C425.15 503.019 424.973 503.098 424.792 503.175C424.128 503.456 423.477 503.68 422.869 503.846L422.864 503.846C422.854 503.846 422.846 503.837 422.848 503.826L431.37 461.469C432.173 457.481 435.565 454.537 439.626 454.304L483.017 451.816C483.037 451.815 483.053 451.831 483.053 451.851Z" fill="#B9BBE4" class="step-6 background subtle dim"/>\n<circle id="step-6-accent" cx="281.83" cy="300.83" r="26.83" fill="#4046B4" class="step-6 accent"/>\n<rect id="step-6-accent-icon" x="269" y="288" width="25" height="25" class="step-6 icon accent" fill="#666666"/>\n<rect id="step-6-background-textbox" x="288.16796875" y="333.0625" width="181" height="111" class="step-6 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="264.5" y="284.5" width="229" height="230" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-7" class="step-7 subtle">\n<path id="step-7-background" d="M727.112 295.461C732.051 295.461 736.056 299.465 736.056 304.404V451.272C736.056 451.455 736.038 451.635 736.001 451.811L692.627 454.298C688.566 454.531 685.173 457.475 684.371 461.463L675.855 503.787C675.581 503.825 675.303 503.841 675.017 503.841H536.619C531.68 503.841 527.676 499.837 527.676 494.897V326.69C529.954 327.319 532.353 327.657 534.83 327.657C549.648 327.657 561.66 315.645 561.66 300.827C561.66 298.989 561.475 297.195 561.123 295.461H727.112ZM676.652 503.601C676.618 503.613 676.583 503.622 676.548 503.633C676.599 503.616 676.651 503.6 676.702 503.582C676.685 503.588 676.669 503.596 676.652 503.601ZM735.814 452.362C735.808 452.373 735.8 452.384 735.794 452.395C735.808 452.368 735.822 452.341 735.835 452.314C735.828 452.33 735.821 452.347 735.814 452.362Z" fill="#D5D6EF" class="step-7 background subtle"/>\n<path id="step-7-background_2" d="M736.053 451.851C736.053 451.856 736.052 451.86 736.05 451.865C735.83 452.355 735.562 452.874 735.25 453.408C734.874 454.053 734.371 454.612 733.808 455.101L682.01 500.052C682.004 500.057 681.995 500.058 681.988 500.053C681.977 500.046 681.963 500.052 681.959 500.064C681.956 500.075 681.952 500.086 681.948 500.097C681.945 500.105 681.94 500.112 681.934 500.118L679.921 501.865C679.434 502.287 678.907 502.665 678.323 502.938C678.15 503.019 677.973 503.098 677.792 503.175C677.128 503.456 676.477 503.68 675.869 503.846L675.864 503.846C675.854 503.846 675.846 503.837 675.848 503.826L684.37 461.469C685.173 457.481 688.565 454.537 692.626 454.304L736.017 451.816C736.037 451.815 736.053 451.831 736.053 451.851Z" fill="#B9BBE4" class="step-7 background subtle dim"/>\n<circle id="step-7-accent" cx="534.83" cy="300.83" r="26.83" fill="#4046B4" class="step-7 accent"/>\n<rect id="step-7-accent-icon" x="522" y="288" width="25" height="25" class="step-7 icon accent" fill="#666666"/>\n<rect id="step-7-background-textbox" x="541.16796875" y="333.0625" width="181" height="111" class="step-7 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-7-selection" x="517.5" y="284.5" width="229" height="230" stroke="black" class="step-7 selection"/>\n</g>\n<g id="step-8" class="step-8 subtle">\n<path id="step-8-background" d="M980.112 295.461C985.051 295.461 989.056 299.465 989.056 304.404V451.272C989.056 451.455 989.038 451.635 989.001 451.811L945.627 454.298C941.566 454.531 938.173 457.475 937.371 461.463L928.855 503.787C928.581 503.825 928.303 503.841 928.017 503.841H789.619C784.68 503.841 780.676 499.837 780.676 494.897V326.69C782.954 327.319 785.353 327.657 787.83 327.657C802.648 327.657 814.66 315.645 814.66 300.827C814.66 298.989 814.475 297.195 814.123 295.461H980.112ZM929.652 503.601C929.618 503.613 929.583 503.622 929.548 503.633C929.599 503.616 929.651 503.6 929.702 503.582C929.685 503.588 929.669 503.596 929.652 503.601ZM988.814 452.362C988.808 452.373 988.8 452.384 988.794 452.395C988.808 452.368 988.822 452.341 988.835 452.314C988.828 452.33 988.821 452.347 988.814 452.362Z" fill="#D5D6EF" class="step-8 background subtle"/>\n<path id="step-8-background_2" d="M989.053 451.851C989.053 451.856 989.052 451.86 989.05 451.865C988.83 452.355 988.562 452.874 988.25 453.408C987.874 454.053 987.371 454.612 986.808 455.101L935.01 500.052C935.004 500.057 934.995 500.058 934.988 500.053C934.977 500.046 934.963 500.052 934.959 500.064C934.956 500.075 934.952 500.086 934.948 500.097C934.945 500.105 934.94 500.112 934.934 500.118L932.921 501.865C932.434 502.287 931.907 502.665 931.323 502.938C931.15 503.019 930.973 503.098 930.792 503.175C930.128 503.456 929.477 503.68 928.869 503.846L928.864 503.846C928.854 503.846 928.846 503.837 928.848 503.826L937.37 461.469C938.173 457.481 941.565 454.537 945.626 454.304L989.017 451.816C989.037 451.815 989.053 451.831 989.053 451.851Z" fill="#B9BBE4" class="step-8 background subtle dim"/>\n<circle id="step-8-accent" cx="787.83" cy="300.83" r="26.83" fill="#4046B4" class="step-8 accent"/>\n<rect id="step-8-accent-icon" x="775" y="288" width="25" height="25" class="step-8 icon accent" fill="#666666"/>\n<rect id="step-8-background-textbox" x="794.16796875" y="333.0625" width="181" height="111" class="step-8 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-8-selection" x="770.5" y="284.5" width="229" height="230" stroke="black" class="step-8 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nJ="text_box_collage",n$={key:nJ,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:8,1,8),s=nq.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nJ,svgScalingFactor:n$.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"xGS01X"}),previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/text_box_collage.f3de9a3d.svg",height:96,width:253,blurWidth:0,blurHeight:0},icon:a.Nfw,defaultColorScheme:null,stepSvgData:nq,formattingMenu:G,defaultData:()=>w(nq),svgScalingFactor:1,featureFlag:"newDiagramsAug25",disabled:!0},nY=new Map(Object.entries({versus_2:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-2 subtle icon" fill="#666666"/>\n<rect id="step-2-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-subtle" cx="236.242" cy="227.052" r="20.2416" fill="#D5D6EF" class="step-1 subtle"/>\n<path id="step-1-accent" d="M293 224L293 226L256 226L256 224L293 224Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="10" y="163" width="199" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-icon" x="224" y="215.531" width="20.8939" height="26.4977" fill="#D9D9D9" class="step-1 subtle icon"/>\n<rect id="step-1-selection" x="2.5" y="156.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_3:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-3 subtle icon" fill="#666666"/>\n<rect id="step-3-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.287 331.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M295.043 339.92L293.376 338.291L334.647 297.969L336.314 299.598L295.043 339.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="295" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-icon" x="262.235" y="341.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle icon"/>\n<rect id="step-2-selection" x="1.5" y="285.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M292.046 102.681L293.713 101.052L336.164 142.527L334.497 144.156L292.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="8" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-icon" x="262.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle icon"/>\n<rect id="step-1-selection" x="0.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_4:'<svg class="versus" width="1031.68" height="451.68" viewBox="-19.84 -19.84 1031.68 451.68" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128.006)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.623 339.662L703.955 341.291L663.273 301.545L664.94 299.916L705.623 339.662Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="720.354" cy="357.42" r="23.3111" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="762" y="300" width="229" height="112" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect x="706.749626159668" y="342.78515625" width="27.711048126220703" height="26.497655868530273" class="step-4 subtle icon" fill="#666666"/>\n<rect id="step-4-selection" x="656.5" y="290.5" width="343" height="129" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M702.472 99.4219L704.16 101.051L660.592 143.102L658.904 141.473L702.472 99.4219Z" fill="#4046B4" class="step-3 accent"/>\n<circle id="step-3-subtle" cx="721.106" cy="85.4984" r="23.4535" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-card-textbox" x="758" y="31" width="234" height="113" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-subtle-icon" x="707.381" y="72.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-3 subtle icon"/>\n<rect id="step-3-selection" x="651.5" y="23.5" width="348" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 305.287 334.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M300.043 342.92L298.376 341.291L339.647 300.969L341.314 302.598L300.043 342.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="14" y="298" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-icon" x="267.235" y="344.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle icon"/>\n<rect id="step-2-selection" x="6.5" y="288.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M293.046 102.681L294.713 101.052L337.164 142.527L335.497 144.156L293.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 301.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="9" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-icon" x="263.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle icon"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_5:'<svg class="versus" width="1034.8" height="453.8" viewBox="-19.900000000000002 -19.900000000000002 1034.8 453.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M703.623 340.662L701.955 342.291L661.273 302.545L662.94 300.916L703.623 340.662Z" fill="#4046B4" class="step-5 accent"/>\n<circle id="step-5-subtle" cx="718.354" cy="358.42" r="23.3111" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-card-textbox" opacity="0.5" x="760" y="301" width="229" height="112" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect x="704.266227722168" y="344.537109375" width="27.711048126220703" height="26.497655868530273" class="step-5 subtle icon" fill="#666666"/>\n<rect id="step-5-selection" x="654.5" y="291.5" width="343" height="129" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.472 98.4219L707.16 100.051L663.592 142.102L661.904 140.473L705.472 98.4219Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="724.106" cy="84.4984" r="23.4535" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="761" y="30" width="234" height="113" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-icon" x="710.381" y="71.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-4 subtle icon"/>\n<rect id="step-4-selection" x="654.5" y="22.5" width="348" height="128" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 321.012 337.225)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M315.196 344.92L313.684 343.291L351.101 302.969L352.612 304.598L315.196 344.92Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="57" y="309" width="206" height="105" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-icon" x="285.453" y="346.748" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle icon"/>\n<rect id="step-3-selection" x="49.1396" y="301.5" width="303.362" height="120" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="11" y="165" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-icon" x="226" y="218" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-2 subtle icon"/>\n<rect id="step-2-selection" x="5.5" y="158.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n<circle id="step-2-subtle" cx="20.2416" cy="20.2416" r="20.2416" transform="matrix(-1 0 0 1 256.881 208.811)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M257 226L257 228L294 228L294 226L257 226Z" fill="#4046B4" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="58" y="20" width="188" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-icon" x="275" y="67" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-1 subtle icon"/>\n<rect id="step-1-selection" x="54.5" y="12.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M305.087 94.377L303.399 96.0059L346.968 138.057L348.655 136.428L305.087 94.377Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.4535" cy="23.4535" r="23.4535" transform="matrix(-1 0 0 1 309.907 57)" fill="#D5D6EF" class="step-1 subtle"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_6:'<svg class="versus" width="1032.72" height="451.72" viewBox="-19.86 -19.86 1032.72 451.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-6" class="step-6">\n<path id="step-6-accent" d="M700.948 339.911L699.423 341.539L662.225 301.793L663.75 300.164L700.948 339.911Z" fill="#4046B4" class="step-6 accent"/>\n<circle id="step-6-subtle" cx="714.418" cy="357.667" r="22.2905" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-card-textbox" x="753" y="308" width="208" height="104" fill="#D9D9D9" class="step-6 card textbox left"/>\n<rect x="701.4912185668945" y="343.78515625" width="25.337772369384766" height="26.497655868530273" class="step-6 subtle icon" fill="#666666"/>\n<rect id="step-6-selection" x="655.5" y="291.5" width="314" height="128" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<circle id="step-5-subtle" cx="775.877" cy="222.298" r="22.2905" fill="#D5D6EF" class="step-5 subtle"/>\n<path id="step-5-accent" d="M755.391 218.844L755.391 221.147L705.794 221.147L705.794 218.844L755.391 218.844Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="808" y="167" width="185" height="104" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-subtle-icon" x="764.018" y="210.779" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-5 subtle icon"/>\n<rect id="step-5-selection" x="702.5" y="158.5" width="298" height="120" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M697.587 94.6699L699.111 96.2989L659.757 138.35L658.232 136.721L697.587 94.6699Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="714.419" cy="80.7456" r="22.2905" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="748" y="26" width="209" height="104" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-icon" x="702.021" y="67.498" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-4 subtle icon"/>\n<rect id="step-4-selection" x="650.5" y="18.5" width="314" height="127" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 311.493 336.473)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M305.677 344.168L304.166 342.539L341.582 302.217L343.094 303.846L305.677 344.168Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="47" y="309" width="206" height="103" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-icon" x="275.935" y="345.996" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle icon"/>\n<rect id="step-3-selection" x="39.5" y="292.5" width="311" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 242.463 199.258)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M242.463 223.451V221.147H293.73V223.451H242.463Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="166" width="183" height="104" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-icon" x="205.021" y="207.898" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-2 subtle icon"/>\n<rect id="step-2-selection" x="1.5" y="158.5" width="302" height="120" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M299.817 98.9275L301.446 97.2985L342.921 138.773L341.292 140.402L299.817 98.9275Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 308.131 58.7051)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="47" y="26" width="206" height="105" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-icon" x="271.265" y="68.498" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-1 subtle icon"/>\n<rect id="step-1-selection" x="39.5" y="18.5" width="310" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("versus_","")),n]})),nX="versus",n0={key:nX,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:6,2,6),s=nY.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:nX,svgScalingFactor:n0.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"HHQOYx"}),icon:tI.fGk,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/versus.25a7f3a8.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:G,stepSvgData:nY,defaultData:()=>w(nY),svgScalingFactor:1},n1=new Map(Object.entries({abstract_shape_image_1_2:'<svg class="abstract_shape_image_1-frame" width="1014" height="442.0625" viewBox="-5.331298828125 39.5 1014 442.0625" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="abstract_shape_image_1-frame">\n<path id="general-1-image" d="M528.382 121H780L779.729 455L474 413.011V273.686L528.382 121Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M617 59V120.293H529.162L474.399 274.752V398.7L414.485 454L222 252.959V198.203L541.633 59H617Z" fill="#FAF5EB" class="general-2 subtle"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="84.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="66" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<rect id="step-1-selection" x="1.49997" y="55.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="264.0625" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M852 248.178C852 246.975 851.025 246 849.822 246H819.178C817.975 246 817 246.975 817 248.178V251.822C817 253.025 817.975 254 819.178 254H849.822C851.025 254 852 253.025 852 251.822V248.178Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-selection" x="803.5" y="235.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),n2="abstract_shape_image_1",n3={key:n2,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=n1.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:n2,svgScalingFactor:n3.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"2noVTL"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:n1,formattingMenu:G,defaultData:()=>w(n1),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},n5=new Map(Object.entries({abstract_shape_image_2_2:'<svg class="abstract_shape_image_2-frame" width="1014" height="470" viewBox="-5.331298828125 32.5 1014 470" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="abstract_shape_image_2-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="84.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="66" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<rect id="step-1-selection" x="1.49997" y="55.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="264.0625" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M852 248.178C852 246.975 851.025 246 849.822 246H819.178C817.975 246 817 246.975 817 248.178V251.822C817 253.025 817.975 254 819.178 254H849.822C851.025 254 852 253.025 852 251.822V248.178Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-selection" x="803.5" y="235.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<path id="general-1-image" d="M517.329 52L682 267.691L602.276 402L224 327.962L355.682 52H517.329Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M777 81H540.1L681.8 267.435L602.558 401.435L446 370.771V433.325L777 483V81Z" fill="#3371A5" class="general-2 accent"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),n4="abstract_shape_image_2",n6={key:n4,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=n5.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:n4,svgScalingFactor:n6.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"fVyY9L"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:n5,formattingMenu:G,defaultData:()=>w(n5),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},n9=new Map(Object.entries({abstract_shape_image_3_2:'<svg class="abstract_shape_image_3-frame" width="1014" height="435.0625" viewBox="-5.331298828125 46.5 1014 435.0625" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="abstract_shape_image_3-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="84.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="66" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<rect id="step-1-selection" x="1.49997" y="55.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="264.0625" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M852 248.178C852 246.975 851.025 246 849.822 246H819.178C817.975 246 817 246.975 817 248.178V251.822C817 253.025 817.975 254 819.178 254H849.822C851.025 254 852 253.025 852 251.822V248.178Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-selection" x="803.5" y="235.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<path id="general-1-image" d="M710.227 105L430 238.671L484.181 430H776V105H710.227Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M430 77H226V267L430 239.044V77Z" fill="#3371A5" class="general-2 accent"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),n7="abstract_shape_image_3",n8={key:n7,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=n9.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:n7,svgScalingFactor:n8.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"a6DL+y"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:n9,formattingMenu:G,defaultData:()=>w(n9),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},ie=new Map(Object.entries({accent_circle_1:'<svg class="accent_circle-frame" width="669.76" height="469.7605" viewBox="90.11999999999999 38.119499999999995 669.76 469.7605" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="accent_circle-frame">\n<path id="general-1-image" d="M500.5 50.9995C620.07 50.9996 717 147.931 717 267.5C717 285.615 714.774 303.209 710.583 320.026C693.641 306.255 672.035 298.001 648.5 298C594.1 298 550 342.1 550 396.5C550 424.889 562.011 450.473 581.227 468.448C556.28 478.479 529.035 484 500.5 484C385.465 484 291.385 394.281 284.415 281H380C393.255 281 404 270.255 404 257V173C404 159.746 393.255 149.001 380 149H319.28C357.951 89.9827 424.673 50.9995 500.5 50.9995Z" class="general-1 image" fill="#666666"/>\n<path id="general-1" d="M747 396.5C747 450.9 702.9 495 648.5 495C594.1 495 550 450.9 550 396.5C550 342.1 594.1 298 648.5 298C702.9 298 747 342.1 747 396.5Z" fill="#3371A5" class="general-1 accent"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M103 173C103 159.745 113.745 149 127 149H380C393.255 149 404 159.745 404 173V257C404 270.255 393.255 281 380 281H127C113.745 281 103 270.255 103 257V173Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="124.16873168945312" y="159.06201171875" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="98.5" y="143.5" width="312" height="145" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',accent_circle_2:'<svg class="accent_circle-frame" width="881.92" height="477.92" viewBox="85.03999999999999 34.03999999999999 881.92 477.92" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="accent_circle-frame">\n<path id="general-1-image" d="M500.5 51C620.07 51.0001 717 147.931 717 267.501C717 285.615 714.774 303.21 710.583 320.026C693.641 306.255 672.035 298.001 648.5 298.001C594.1 298.001 550 342.101 550 396.501C550 424.89 562.01 450.473 581.227 468.448C556.28 478.479 529.035 484.001 500.5 484.001C385.464 484.001 291.384 394.281 284.415 281H380C393.255 281 404 270.255 404 257V173C404 159.745 393.255 149 380 149H319.281C357.951 89.9826 424.673 51 500.5 51Z" class="general-1 image" fill="#666666"/>\n<path id="general-1" d="M648.5 298C677.753 298 704.026 310.753 722.067 331H673C659.745 331 649 341.746 649 355V439C649.001 452.255 659.746 463 673 463H721.161C703.153 482.667 677.267 495 648.5 495C594.1 495 550.001 450.9 550 396.5C550 342.1 594.1 298 648.5 298Z" fill="#3371A5" class="general-1 accent"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M102 172C102 158.745 112.745 148 126 148H379C392.255 148 403 158.745 403 172V256C403 269.255 392.255 280 379 280H126C112.745 280 102 269.255 102 256V172Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="124.168701171875" y="159.06201171875" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="97.5" y="142.5" width="312" height="145" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M649 355C649 341.745 659.745 331 673 331H926C939.255 331 950 341.745 950 355V439C950 452.255 939.255 463 926 463H673C659.745 463 649 452.255 649 439V355Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="670.168701171875" y="341.06201171875" width="257" height="110" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="643.5" y="324.5" width="312" height="145" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',accent_circle_3:'<svg class="accent_circle-frame" width="880.88" height="482.8801" viewBox="85.22399999999999 28.1889 880.88 482.8801" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="accent_circle-frame">\n<path id="general-1" d="M647.664 297.128C676.917 297.128 703.19 309.881 721.231 330.129H672.164C658.909 330.129 648.164 340.875 648.164 354.129V438.129C648.165 451.384 658.91 462.129 672.164 462.129H720.325C702.317 481.795 676.432 494.129 647.664 494.129C593.264 494.129 549.165 450.029 549.164 395.629C549.164 341.229 593.264 297.128 647.664 297.128Z" fill="#3371A5" class="general-1 accent"/>\n<path id="general-1-image" d="M499.664 50.1284C524.052 50.1285 547.498 54.1617 569.371 61.5962C568.589 63.9654 568.164 66.498 568.164 69.1294V153.129C568.165 166.384 578.91 177.129 592.164 177.129H696.856C709.256 204.408 716.164 234.712 716.164 266.629C716.164 284.744 713.938 302.338 709.747 319.155C692.805 305.384 671.199 297.13 647.664 297.129C593.264 297.129 549.164 341.229 549.164 395.629C549.164 424.018 561.175 449.602 580.391 467.577C555.444 477.608 528.199 483.129 499.664 483.129C384.629 483.129 290.549 393.41 283.579 280.129H379.164C392.419 280.129 403.164 269.384 403.164 256.129V172.129C403.164 158.875 392.419 148.13 379.164 148.129H318.445C357.115 89.1116 423.837 50.1284 499.664 50.1284Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M102.164 172.129C102.164 158.874 112.909 148.129 126.164 148.129H379.164C392.419 148.129 403.164 158.874 403.164 172.129V256.129C403.164 269.384 392.419 280.129 379.164 280.129H126.164C112.909 280.129 102.164 269.384 102.164 256.129V172.129Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="124.168701171875" y="159.06201171875" width="257" height="110" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="95.6641" y="141.629" width="312" height="145" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M648.164 354.129C648.164 340.874 658.909 330.129 672.164 330.129H925.164C938.419 330.129 949.164 340.874 949.164 354.129V438.129C949.164 451.384 938.419 462.129 925.164 462.129H672.164C658.909 462.129 648.164 451.384 648.164 438.129V354.129Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="670.168701171875" y="341.06201171875" width="257" height="110" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="641.664" y="323.629" width="312" height="145" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M568.164 69.1289C568.164 55.8741 578.909 45.1289 592.164 45.1289H845.164C858.419 45.1289 869.164 55.8741 869.164 69.1289V153.129C869.164 166.384 858.419 177.129 845.164 177.129H592.164C578.909 177.129 568.164 166.384 568.164 153.129V69.1289Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-card-textbox" x="590.168701171875" y="56.06201171875" width="257" height="110" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="562.664" y="38.6289" width="312" height="145" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),it="accent_circle",ii={key:it,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,1,3),s=ie.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:it,svgScalingFactor:ii.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"8TjL5n"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:ie,formattingMenu:G,defaultData:()=>w(ie),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/accent_circle.9c99dc29.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},ia=new Map(Object.entries({number_go_up_2:'<svg class="number_go_up-frame" width="1003.6" height="436.6" viewBox="-8.3 51.7 1003.6 436.6" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="number_go_up-frame">\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="768.5" y="86.5" width="220" height="189" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-textbox" x="779.171875" y="101.0625" width="196" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2_2" d="M747 103.867L747 71.3672L868.5 71.3672C869.328 71.3672 870 72.0388 870 72.8672C870 73.6956 869.328 74.3672 868.5 74.3672L750 74.3672L750 103.867C749 103.867 749.328 103.867 748.5 103.867C747.672 103.867 748 103.867 747 103.867Z" fill="#D5D6EF" class="step-2 subtle"/>\n<path d="M976,79L779,79.00000000000003L779,71.00000000000003L976,71" id="step-2_3" class="step-2 accent" fill="#8C90D2"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M240 436.133V468.633H118.5C117.672 468.633 117 467.961 117 467.133C117 466.304 117.672 465.633 118.5 465.633H237V436.133C238 436.133 237.672 436.133 238.5 436.133C239.328 436.133 239 436.133 240 436.133Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1_3" x="11" y="461" width="197" height="8" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="22.171875" y="249.0625" width="196" height="191" class="step-1 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="11.5" y="241.5" width="216" height="214" stroke="black" class="step-1 selection"/>\n</g>\n<path id="general-1-image" d="M312 456H235V378H312V456Z M401 456H324V321H401V456Z M490 456H413V266H490V456Z M579 456H502V212H579V456Z M668 456H591V161H668V456Z M759 456H680V103H759V456Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n',bar_chart_image_2:'<svg class="bar_chart_image-frame" width="1017.12" height="441.12002" viewBox="-8.559999999999999 49.43997999999999 1017.12 441.12002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bar_chart_image-frame">\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="768.503" y="86.5004" width="220" height="189" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-textbox" x="779.171875" y="101.0625" width="196" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2_2" d="M747.003 103.868L747.003 71.3676L868.503 71.3675C869.332 71.3675 870.003 72.0391 870.003 72.8675C870.003 73.696 869.332 74.3675 868.503 74.3675L750.003 74.3676L750.003 103.868C749.003 103.868 749.332 103.868 748.503 103.868C747.675 103.868 748.003 103.868 747.003 103.868Z" fill="#D5D6EF" class="step-2 subtle"/>\n<path d="M989,77L779,77.00000000000003L779,68.99998000000002L989,68.99998" id="step-2_3" class="step-2 accent" fill="#8C90D2"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M240.003 436.133V468.633H118.503C117.675 468.633 117.003 467.962 117.003 467.133C117.003 466.305 117.675 465.633 118.503 465.633H237.003V436.133C238.003 436.133 237.675 436.133 238.503 436.133C239.332 436.133 239.003 436.133 240.003 436.133Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1_3" x="11" y="463" width="197" height="8" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="11.171875" y="249.0625" width="196" height="191" class="step-1 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="3.5" y="241.5" width="220" height="214" stroke="black" class="step-1 selection"/>\n</g>\n<path id="general-1-image" d="M312.006 456.001H235.006V378.001H312.006V456.001Z M401.006 456.001H324.006V321.001H401.006V456.001Z M490.006 456.001H413.006V266.001H490.006V456.001Z M579.006 456.001H502.006V212.001H579.006V456.001Z M668.006 456.001H591.006V161.001H668.006V456.001Z M759.006 456.001H680.006V103.001H759.006V456.001Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ir="bar_chart_image",is={key:ir,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=ia.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ir,svgScalingFactor:is.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"jIQAYy"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:ia,formattingMenu:G,defaultData:()=>w(ia),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},il=new Map(Object.entries({blobby_image_2:'<svg class="blobby_image-frame" width="1014.8645190429687" height="402.0332507324219" viewBox="-5.347893676757813 66.48337463378905 1014.8645190429687 402.0332507324219" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="blobby_image-frame">\n<path id="general-1-image" d="M284.342 86C302.015 86 316.342 100.326 316.342 117.999C316.342 100.326 330.669 86.0002 348.342 86H376.685C394.358 86.0002 408.685 100.327 408.685 118C408.685 100.327 423.011 86 440.685 86H562.688C580.361 86 594.688 100.327 594.688 118C594.688 100.327 609.014 86 626.688 86H746.053C763.726 86 778.053 100.327 778.053 118V417C778.053 434.673 763.726 449 746.053 449H626.688C609.29 449 595.136 435.118 594.698 417.826L594.688 417C594.688 434.673 580.361 449 562.688 449H440.685C423.011 449 408.685 434.673 408.685 417C408.685 434.673 394.358 448.999 376.685 448.999H256C238.327 448.999 224 434.672 224 416.999V117.999C224 100.326 238.327 86 256 86H284.342ZM408.685 362.22C408.685 344.823 422.567 330.669 439.858 330.23L440.685 330.22L439.858 330.21C422.567 329.772 408.685 315.617 408.685 298.22V362.22ZM316.342 261.587C316.342 279.232 302.06 293.541 284.425 293.586H348.26C330.625 293.542 316.342 279.233 316.342 261.587ZM594.688 176.11C594.687 193.771 580.381 208.089 562.725 208.109C580.381 208.129 594.687 222.449 594.688 240.109V176.11Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168731689453125" y="174.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="156" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M245 160V161H51V160H245Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="174.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="156"/>\n<path id="step-2_2" d="M760 160V161H954V160H760Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),io="blobby_image",ic={key:io,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=il.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:io,svgScalingFactor:ic.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"WwSOs0"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:il,formattingMenu:G,defaultData:()=>w(il),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},id=new Map(Object.entries({circle_hero_pic_4:'<svg class="circle_hero_pic-frame" width="1015.0400317382813" height="572.0402712207032" viewBox="-9.351268920898438 -18.519270610351562 1015.0400317382813 572.0402712207032" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_hero_pic-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="10.168731689453125" y="31.0621337890625" width="197" height="191" class="step-1 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="240" height="212" stroke="#2B3541" class="step-1 selection"/>\n<path id="step-1_2" d="M349.506 74.5V42H228.006C227.178 42 226.506 42.6716 226.506 43.5C226.506 44.3284 227.178 45 228.006 45H346.506L346.5 77.4993C346.5 78.3277 347.172 76.4993 348 76.4993C348.828 76.4993 349.506 75.3284 349.506 74.5Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path d="M228.003,31.17824999999999L228.003,58.82175000000001Q228.003,61,228.003,61L220.003,61Q220.003,61,220.003,58.82175000000001L220.003,31.17824999999999Q220.003,29,220.003,29L228.003,29Q228.003,29,228.003,31.17824999999999" id="step-1_3" class="step-1 accent" fill="#8FB9DC"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="760.5" y="23.5" width="240" height="212" stroke="#2B3541" class="step-2 selection"/>\n<path id="step-2_2" d="M653.003 76.3406L653 42H774.5C775.328 42 776 42.6602 776 43.4745C776 44.2889 775.328 44.9491 774.5 44.9491H656V78C656 78.8144 655.328 77.3232 654.5 77.3232C653.672 77.3232 653.003 77.1549 653.003 76.3406Z" fill="#FAF5EB" class="step-2 subtle"/>\n<path d="M779,31.178250000000048L779,58.82174999999995Q779,61,779,61L771,61Q771,61,771,58.82174999999995L771,31.178250000000048Q771,29,771,29L779,29Q779,29,779,31.178250000000048" id="step-2_3" class="step-2 accent" fill="#8FB9DC"/>\n<rect id="step-2-card-textbox" x="790.1687622070312" y="31.0621337890625" width="196" height="191" class="step-2 card textbox left top" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="17.171875" y="311.0621337890625" width="190" height="191" class="step-3 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.50317" y="304.5" width="240" height="214" stroke="#2B3541" class="step-3 selection"/>\n<path id="step-3_2" d="M349 462.5V495H227.5C226.672 495 226 494.328 226 493.5C226 492.672 226.672 492 227.5 492H346V460.339C346 459.511 346.672 461 347.5 461C348.328 461 349 461.672 349 462.5Z" fill="#FAF5EB" class="step-3 subtle"/>\n<path d="M228.003,479.17825L228.003,506.82175Q228.003,509,228.003,509L220.003,509Q220.003,509,220.003,506.82175L220.003,479.17825Q220.003,477,220.003,477L228.003,477Q228.003,477,228.003,479.17825" id="step-3_3" class="step-3 accent" fill="#8FB9DC"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-selection" x="765.5" y="306.5" width="240" height="212" stroke="#2B3541" class="step-4 selection"/>\n<path id="step-4_2" d="M649.503 462.5V495H771.003C771.832 495 772.503 494.328 772.503 493.5C772.503 492.672 771.832 492 771.003 492H652.503V460.339C652.503 459.511 651.832 461 651.003 461C650.175 461 649.503 461.672 649.503 462.5Z" fill="#FAF5EB" class="step-4 subtle"/>\n<path d="M779,479.17825000000005L779,506.82174999999995Q779,509,779,509L771,509Q771,509,771,506.82174999999995L771,479.17825000000005Q771,477,771,477L779,477Q779,477,779,479.17825000000005" id="step-4_3" class="step-4 accent" fill="#8FB9DC"/>\n<rect id="step-4-card-textbox" x="784.168701171875" y="311.0621337890625" width="202" height="191" class="step-4 card textbox left bottom" fill="#E5E5E5"/>\n</g>\n<path id="general-2" d="M496.48 532.97C497.82 532.99 499.162 533.001 500.506 533.001V534.001C499.157 534.001 497.809 533.99 496.464 533.969L496.48 532.97ZM504.547 533.969C503.203 533.989 501.856 534.001 500.506 534.001V533.001C501.851 533.001 503.193 532.99 504.533 532.97L504.547 533.969ZM480.454 532.255C483.115 532.453 485.787 532.613 488.469 532.733L488.447 533.231L488.448 533.232L488.434 533.528L488.425 533.731C485.733 533.611 483.051 533.45 480.379 533.251L480.454 532.255ZM520.632 533.251C517.961 533.45 515.279 533.611 512.586 533.731L512.579 533.528L512.565 533.232L512.543 532.733C515.226 532.613 517.898 532.453 520.559 532.255L520.632 533.251ZM464.504 530.581C467.15 530.939 469.808 531.259 472.478 531.539L472.374 532.532C469.694 532.251 467.026 531.93 464.371 531.57L464.504 530.581ZM536.508 530.581L536.641 531.57C533.986 531.93 531.318 532.251 528.638 532.532L528.535 531.539C531.204 531.259 533.863 530.939 536.508 530.581ZM448.69 527.947C451.305 528.464 453.934 528.944 456.577 529.384L456.413 530.369C453.76 529.927 451.121 529.447 448.496 528.927L448.69 527.947ZM552.516 528.927C549.891 529.447 547.252 529.927 544.599 530.369L544.436 529.384C547.078 528.944 549.708 528.464 552.323 527.947L552.516 528.927ZM433.059 524.358C435.638 525.033 438.232 525.671 440.84 526.27L440.728 526.757L440.617 527.244C437.998 526.643 435.395 526.002 432.806 525.324L432.84 525.195L433.059 524.358ZM568.172 525.195L568.206 525.324C565.617 526.002 563.014 526.643 560.395 527.244L560.293 526.8L560.284 526.758L560.172 526.27C562.781 525.671 565.375 525.033 567.954 524.358L568.172 525.195ZM417.67 519.823C420.206 520.655 422.759 521.45 425.328 522.207L425.044 523.165C422.466 522.405 419.903 521.606 417.358 520.771L417.67 519.823ZM583.654 520.771C581.108 521.606 578.546 522.405 575.967 523.165L575.685 522.207C578.254 521.45 580.807 520.655 583.342 519.823L583.654 520.771ZM402.589 514.361C405.072 515.347 407.573 516.297 410.092 517.209L409.752 518.147C407.224 517.231 404.713 516.279 402.22 515.29L402.589 514.361ZM598.792 515.29C596.299 516.279 593.788 517.231 591.259 518.147L590.919 517.209C593.439 516.296 595.94 515.347 598.423 514.361L598.792 515.29ZM387.871 507.994C390.288 509.128 392.727 510.228 395.184 511.291L394.787 512.207C392.32 511.14 389.873 510.037 387.446 508.898L387.871 507.994ZM613.566 508.898C611.139 510.037 608.692 511.14 606.225 512.207L605.829 511.291C608.286 510.228 610.724 509.128 613.142 507.994L613.566 508.898ZM373.566 500.746C375.91 502.024 378.276 503.268 380.662 504.477L380.209 505.368C377.814 504.154 375.44 502.906 373.087 501.623L373.566 500.746ZM627.924 501.623C625.572 502.906 623.197 504.154 620.802 505.368L620.351 504.477C622.737 503.268 625.103 502.024 627.447 500.746L627.924 501.623ZM359.721 492.642C361.985 494.061 364.272 495.446 366.581 496.798L366.328 497.228L366.172 497.496L366.076 497.66C363.758 496.303 361.462 494.912 359.19 493.488L359.456 493.066L359.721 492.642ZM641.822 493.488C639.549 494.912 637.254 496.303 634.936 497.66L634.684 497.229L634.432 496.798C636.741 495.446 639.028 494.061 641.292 492.642L641.822 493.488ZM346.393 483.719C348.568 485.272 350.767 486.793 352.991 488.282L352.435 489.112C350.203 487.618 347.995 486.091 345.812 484.532L346.393 483.719ZM654.91 484.126L655.2 484.532C653.016 486.091 650.808 487.618 648.577 489.112L648.022 488.282C650.245 486.793 652.444 485.272 654.62 483.719L654.91 484.126ZM333.626 474.01C335.704 475.691 337.808 477.342 339.937 478.961L339.332 479.756C337.195 478.13 335.083 476.473 332.998 474.786L333.312 474.398L333.626 474.01ZM668.013 474.786C665.928 476.473 663.817 478.131 661.68 479.756L661.076 478.961C663.205 477.342 665.308 475.691 667.386 474.01L668.013 474.786ZM321.466 463.551C323.44 465.354 325.44 467.128 327.467 468.872L326.815 469.628C324.78 467.878 322.772 466.098 320.792 464.288L321.466 463.551ZM679.883 463.921L680.219 464.288C678.239 466.097 676.231 467.878 674.197 469.628L673.545 468.872C675.573 467.128 677.573 465.355 679.546 463.552L679.883 463.921ZM309.955 452.381C311.816 454.299 313.708 456.19 315.626 458.052L314.93 458.768C313.004 456.899 311.107 455.002 309.238 453.076L309.955 452.381ZM691.774 453.076C689.905 455.002 688.007 456.899 686.082 458.768L685.386 458.052C687.305 456.191 689.195 454.299 691.057 452.381L691.774 453.076ZM702.633 441.191C700.883 443.226 699.103 445.234 697.293 447.215L696.925 446.879L696.556 446.541C698.359 444.567 700.134 442.567 701.877 440.54L702.633 441.191ZM299.135 440.54C300.879 442.567 302.653 444.568 304.456 446.541L304.085 446.878L304.086 446.879L303.718 447.214C301.909 445.233 300.128 443.226 298.378 441.191L299.135 440.54ZM712.364 428.373L712.761 428.675C711.136 430.811 709.479 432.923 707.792 435.009L707.015 434.381C708.696 432.303 710.347 430.199 711.966 428.07L712.364 428.373ZM289.046 428.07C290.665 430.199 292.316 432.303 293.998 434.381L293.22 435.008C291.533 432.922 289.875 430.811 288.25 428.675L289.046 428.07ZM279.725 415.016C281.214 417.24 282.735 419.439 284.289 421.614L283.88 421.904L283.474 422.194C281.915 420.011 280.388 417.803 278.894 415.571L279.725 415.016ZM722.118 415.571C720.624 417.803 719.097 420.011 717.538 422.194L717.131 421.905L716.724 421.614C718.277 419.439 719.799 417.24 721.288 415.016L722.118 415.571ZM271.209 401.427C272.561 403.735 273.946 406.022 275.365 408.286L274.518 408.816C273.094 406.544 271.703 404.248 270.346 401.93L271.209 401.427ZM730.666 401.93C729.309 404.248 727.918 406.544 726.494 408.816L725.648 408.286C727.066 406.022 728.452 403.735 729.803 401.427L730.666 401.93ZM263.53 387.345C264.739 389.731 265.983 392.097 267.261 394.441L266.383 394.919C265.1 392.566 263.852 390.192 262.638 387.797L263.53 387.345ZM738.374 387.797C737.16 390.192 735.912 392.566 734.628 394.919L733.751 394.441C735.03 392.097 736.274 389.731 737.483 387.345L738.374 387.797ZM256.716 372.823C257.779 375.28 258.879 377.719 260.013 380.136L259.108 380.56C257.969 378.133 256.866 375.686 255.799 373.219L256.716 372.823ZM745.212 373.219C744.145 375.686 743.043 378.133 741.904 380.56L741 380.136C742.134 377.719 743.233 375.28 744.296 372.823L745.212 373.219ZM250.798 357.914C251.711 360.433 252.66 362.935 253.646 365.418L252.716 365.786C251.727 363.293 250.775 360.782 249.859 358.254L250.798 357.914ZM750.684 358.085L751.153 358.254C750.237 360.782 749.285 363.293 748.295 365.786L747.367 365.418C748.352 362.935 749.302 360.434 750.214 357.915L750.684 358.085ZM245.8 342.679C246.557 345.248 247.352 347.801 248.184 350.337L247.235 350.648C246.4 348.103 245.601 345.54 244.841 342.962L245.8 342.679ZM756.17 342.962C755.41 345.54 754.612 348.103 753.777 350.648L752.829 350.337C753.661 347.801 754.455 345.248 755.212 342.679L756.17 342.962ZM241.737 327.167C242.336 329.775 242.974 332.369 243.649 334.948L242.682 335.2C242.004 332.612 241.363 330.008 240.762 327.389L241.737 327.167ZM760.25 327.389C759.648 330.008 759.007 332.611 758.33 335.2L757.364 334.948C758.039 332.369 758.677 329.775 759.276 327.167L760.25 327.389ZM238.624 311.43C239.063 314.073 239.543 316.702 240.06 319.317L239.079 319.51C238.559 316.885 238.079 314.246 237.637 311.594L238.624 311.43ZM763.375 311.594C762.933 314.246 762.452 316.885 761.933 319.51L761.443 319.415L760.953 319.317C761.47 316.702 761.949 314.073 762.389 311.43L763.375 311.594ZM236.468 295.529C236.748 298.199 237.068 300.857 237.426 303.503L236.436 303.635C236.076 300.98 235.755 298.312 235.474 295.633L236.468 295.529ZM765.538 295.633C765.256 298.312 764.936 300.98 764.576 303.635L764.082 303.57L763.586 303.503C763.945 300.857 764.264 298.199 764.544 295.529L765.538 295.633ZM235.274 279.538C235.394 282.22 235.554 284.892 235.752 287.553L234.755 287.627C234.556 284.956 234.395 282.273 234.275 279.581L235.274 279.538ZM766.237 279.559L766.737 279.581C766.617 282.273 766.456 284.956 766.256 287.627L765.26 287.553C765.459 284.892 765.619 282.22 765.739 279.538L766.237 279.559ZM234.006 267.501C234.006 266.151 234.017 264.804 234.037 263.459L235.037 263.474C235.017 264.814 235.006 266.156 235.006 267.501C235.006 268.845 235.017 270.187 235.037 271.527L234.037 271.542C234.017 270.197 234.006 268.85 234.006 267.501ZM767.006 267.501C767.006 268.85 766.995 270.197 766.975 271.542L765.976 271.527C765.996 270.187 766.006 268.845 766.006 267.501C766.006 266.156 765.996 264.814 765.976 263.474L766.975 263.459C766.995 264.804 767.006 266.151 767.006 267.501ZM235.752 247.448C235.554 250.109 235.394 252.781 235.274 255.464L234.775 255.441L234.275 255.42C234.395 252.727 234.556 250.045 234.755 247.374L235.752 247.448ZM766.256 247.374C766.456 250.045 766.617 252.727 766.737 255.42L766.238 255.442L766.237 255.441L765.739 255.464C765.619 252.781 765.459 250.109 765.26 247.448L766.256 247.374ZM236.931 231.431L237.426 231.499C237.068 234.144 236.748 236.803 236.468 239.472L235.474 239.368C235.755 236.688 236.076 234.02 236.436 231.365L236.931 231.431ZM764.576 231.365C764.936 234.02 765.256 236.688 765.538 239.368L764.544 239.472C764.264 236.803 763.945 234.144 763.586 231.499L764.082 231.431L764.576 231.365ZM239.57 215.587L240.06 215.684C239.543 218.3 239.063 220.929 238.624 223.571L237.637 223.407C238.079 220.755 238.559 218.115 239.079 215.49L239.57 215.587ZM761.933 215.49C762.452 218.115 762.933 220.755 763.375 223.407L762.389 223.571C761.949 220.929 761.47 218.3 760.953 215.684L761.443 215.587L761.933 215.49ZM243.649 200.053C242.974 202.632 242.336 205.226 241.737 207.835L241.25 207.722L240.762 207.611C241.364 204.993 242.004 202.389 242.682 199.801L243.649 200.053ZM758.33 199.801C759.007 202.389 759.648 204.993 760.25 207.611L759.763 207.723L759.762 207.722L759.276 207.835C758.677 205.226 758.039 202.632 757.364 200.053L758.33 199.801ZM248.184 184.665C247.352 187.201 246.557 189.753 245.8 192.322L244.841 192.039C245.601 189.46 246.4 186.898 247.235 184.352L248.184 184.665ZM753.777 184.352C754.612 186.898 755.41 189.46 756.17 192.039L755.212 192.322C754.455 189.753 753.661 187.201 752.829 184.665L753.777 184.352ZM748.295 169.215C749.285 171.707 750.237 174.218 751.153 176.747L750.214 177.088C749.302 174.568 748.352 172.067 747.367 169.584L748.295 169.215ZM253.646 169.584C252.66 172.067 251.711 174.568 250.798 177.087L249.859 176.747C250.775 174.218 251.727 171.707 252.716 169.215L253.646 169.584ZM260.013 154.865C258.879 157.283 257.779 159.721 256.716 162.178L255.799 161.781C256.866 159.315 257.969 156.867 259.108 154.44L260.013 154.865ZM741.904 154.44C743.043 156.867 744.145 159.315 745.212 161.781L744.296 162.178C743.233 159.721 742.134 157.283 741 154.865L741.904 154.44ZM266.823 140.321L267.261 140.56C265.983 142.904 264.739 145.27 263.53 147.656L262.638 147.204C263.852 144.809 265.1 142.434 266.383 140.082L266.823 140.321ZM734.628 140.082C735.912 142.434 737.16 144.809 738.374 147.204L737.483 147.656C736.274 145.27 735.03 142.904 733.751 140.56L734.628 140.082ZM275.365 126.716C273.946 128.979 272.561 131.266 271.209 133.575L270.778 133.322L270.346 133.07C271.703 130.752 273.094 128.457 274.518 126.184L275.365 126.716ZM726.494 126.184C727.918 128.457 729.309 130.752 730.666 133.07L730.235 133.323L730.234 133.322L729.803 133.575C728.452 131.266 727.066 128.979 725.648 126.716L726.494 126.184ZM283.881 113.096L284.289 113.387C282.735 115.563 281.214 117.762 279.725 119.985L278.894 119.429C280.388 117.198 281.915 114.99 283.474 112.806L283.881 113.096ZM717.538 112.806C719.097 114.99 720.624 117.198 722.118 119.429L721.288 119.985C719.799 117.762 718.277 115.563 716.724 113.387L717.538 112.806ZM293.998 100.621C292.316 102.699 290.665 104.802 289.046 106.931L288.25 106.326C289.876 104.189 291.533 102.078 293.22 99.9919L293.998 100.621ZM707.792 99.9929C709.479 102.078 711.136 104.189 712.761 106.326L711.966 106.931C710.347 104.802 708.696 102.699 707.015 100.621L707.792 99.9929ZM304.087 88.1228L304.457 88.4607C302.653 90.434 300.879 92.4344 299.135 94.4617L298.378 93.8093C300.128 91.7746 301.909 89.7665 303.718 87.7859L304.087 88.1228ZM697.293 87.7869C699.103 89.7673 700.883 91.7748 702.633 93.8093L701.877 94.4617C700.134 92.4345 698.36 90.4339 696.557 88.4607L697.293 87.7869ZM315.626 76.949C313.708 78.8109 311.817 80.7022 309.956 82.6208L309.238 81.9246C311.107 79.9987 313.004 78.101 314.93 76.2322L315.626 76.949ZM686.082 76.2322C688.007 78.101 689.905 79.9988 691.774 81.9246L691.058 82.6208C689.196 80.7022 687.305 78.8119 685.386 76.95L686.082 76.2322ZM674.197 65.3728C676.231 67.1228 678.24 68.9029 680.22 70.7126L679.885 71.0808L679.546 71.4509C677.573 69.6478 675.573 67.8733 673.545 66.1296L674.197 65.3728ZM327.467 66.1296C325.44 67.8732 323.44 69.6469 321.466 71.45L320.792 70.7126C322.773 68.9031 324.78 67.1227 326.815 65.3728L327.467 66.1296ZM339.937 56.0408C337.808 57.6599 335.704 59.3107 333.626 60.9919L332.999 60.2146C335.084 58.5272 337.195 56.8699 339.332 55.2449L339.937 56.0408ZM661.68 55.2449C663.817 56.87 665.928 58.5271 668.014 60.2146L667.386 60.9919C665.308 59.3107 663.205 57.6599 661.076 56.0408L661.68 55.2449ZM352.991 46.7195C350.767 48.208 348.568 49.7298 346.393 51.283L345.812 50.4685C347.995 48.9095 350.203 47.3825 352.435 45.8884L352.991 46.7195ZM648.577 45.8884C650.808 47.3825 653.016 48.9095 655.2 50.4685L654.62 51.283C652.444 49.7298 650.245 48.208 648.022 46.7195L648.577 45.8884ZM366.581 38.2039C364.272 39.5553 361.985 40.9406 359.721 42.3591L359.19 41.5125C361.462 40.0884 363.758 38.6973 366.076 37.3406L366.581 38.2039ZM634.936 37.3406C637.254 38.6973 639.549 40.0884 641.822 41.5125L641.292 42.3591C639.028 40.9406 636.741 39.5553 634.432 38.2039L634.936 37.3406ZM380.662 30.5242C378.276 31.7332 375.91 32.9773 373.566 34.2556L373.087 33.3777C375.44 32.0945 377.814 30.8462 380.209 29.6326L380.662 30.5242ZM620.802 29.6326C623.197 30.8462 625.572 32.0945 627.924 33.3777L627.447 34.2556C625.103 32.9773 622.737 31.7332 620.351 30.5242L620.802 29.6326ZM395.184 23.7107C392.727 24.7736 390.288 25.8732 387.871 27.0076L387.446 26.1023C389.873 24.9636 392.32 23.8607 394.787 22.7937L395.184 23.7107ZM606.225 22.7937C608.692 23.8607 611.139 24.9636 613.566 26.1023L613.142 27.0076C610.724 25.8732 608.286 24.7736 605.829 23.7107L606.225 22.7937ZM410.093 17.7927C407.574 18.705 405.072 19.6546 402.589 20.6404L402.22 19.7107C404.713 18.7212 407.224 17.769 409.752 16.8533L410.093 17.7927ZM591.259 16.8533C593.788 17.769 596.299 18.7212 598.792 19.7107L598.423 20.6404C595.94 19.6547 593.439 18.705 590.92 17.7927L591.259 16.8533ZM425.328 12.7947C422.759 13.5517 420.206 14.3465 417.67 15.1785L417.358 14.2292C419.903 13.3941 422.466 12.5956 425.044 11.8357L425.328 12.7947ZM575.967 11.8357C578.546 12.5956 581.108 13.3941 583.654 14.2292L583.342 15.1785C580.807 14.3465 578.254 13.5517 575.685 12.7947L575.967 11.8357ZM440.719 8.20483L440.84 8.7312C438.232 9.3302 435.638 9.96808 433.059 10.6433L432.806 9.67651C435.395 8.99869 437.998 8.35789 440.617 7.75659L440.719 8.20483ZM560.395 7.75659C563.014 8.35788 565.617 8.9987 568.206 9.67651L567.954 10.6433C565.375 9.96808 562.781 9.33021 560.172 8.7312L560.395 7.75659ZM456.577 5.61792C453.934 6.05786 451.305 6.53708 448.69 7.05444L448.592 6.56323L448.496 6.073C451.121 5.55363 453.76 5.07322 456.413 4.63159L456.577 5.61792ZM544.599 4.63159C547.252 5.07322 549.891 5.55364 552.516 6.073L552.42 6.56421L552.419 6.56323L552.323 7.05444C549.708 6.53708 547.078 6.05786 544.436 5.61792L544.599 4.63159ZM472.478 3.46265C469.808 3.74275 467.15 4.06203 464.504 4.42065L464.437 3.92456L464.371 3.43042C467.026 3.07045 469.694 2.74965 472.374 2.46851L472.478 3.46265ZM528.638 2.46851C531.318 2.74964 533.986 3.07046 536.641 3.43042L536.576 3.92554L536.575 3.92456L536.508 4.42065C533.863 4.06203 531.204 3.74275 528.535 3.46265L528.638 2.46851ZM488.442 1.65405L488.469 2.26831C485.787 2.38799 483.115 2.54812 480.454 2.74683L480.379 1.74976C483.051 1.5503 485.733 1.38942 488.425 1.26929L488.442 1.65405ZM512.586 1.26929C515.279 1.38941 517.961 1.55031 520.632 1.74976L520.559 2.74683C517.898 2.54812 515.226 2.38799 512.543 2.26831L512.571 1.65405L512.586 1.26929ZM500.506 1.00073C501.856 1.00073 503.203 1.01102 504.547 1.03101L504.533 2.03101C503.193 2.01109 501.851 2.00073 500.506 2.00073C499.162 2.00073 497.82 2.01109 496.48 2.03101L496.464 1.03101C497.809 1.01101 499.157 1.00073 500.506 1.00073Z" fill="#FAF5EB" class="general-2 subtle"/>\n<path id="general-1" d="M746.006 269.001C746.006 133.691 636.316 24.0007 501.006 24.0007C365.697 24.0007 256.006 133.691 256.006 269.001C256.006 404.31 365.697 514.001 501.006 514.001V515.001C365.144 515.001 255.006 404.863 255.006 269.001C255.006 133.139 365.144 23.0007 501.006 23.0007C636.868 23.0007 747.006 133.139 747.006 269.001C747.006 404.863 636.868 515.001 501.006 515.001V514.001C636.316 514.001 746.006 404.31 746.006 269.001Z" fill="#3371A5" class="general-1 accent"/>\n<path id="general-1-image" d="M501.003 23.5004C636.589 23.5004 746.503 133.414 746.503 269C746.503 404.586 636.589 514.5 501.003 514.5C365.417 514.5 255.503 404.586 255.503 269C255.503 133.414 365.417 23.5004 501.003 23.5004Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n',circle_hero_pic_2:'<svg class="circle_hero_pic-frame" width="1015.0399682617187" height="572.0402687792969" viewBox="-9.351267700195312 -18.519269389648436 1015.0399682617187 572.0402687792969" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_hero_pic-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="10.168731689453125" y="31.0621337890625" width="197" height="191" class="step-1 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="240" height="212" stroke="#2B3541" class="step-1 selection"/>\n<path id="step-1_2" d="M349.506 74.5V42H228.006C227.178 42 226.506 42.6716 226.506 43.5C226.506 44.3284 227.178 45 228.006 45H346.506L346.5 77.4993C346.5 78.3277 347.172 76.4993 348 76.4993C348.828 76.4993 349.506 75.3284 349.506 74.5Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path d="M228.003,31.17824999999999L228.003,58.82175000000001Q228.003,61,228.003,61L220.003,61Q220.003,61,220.003,58.82175000000001L220.003,31.17824999999999Q220.003,29,220.003,29L228.003,29Q228.003,29,228.003,31.17824999999999" id="step-1_3" class="step-1 accent" fill="#8FB9DC"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="760.5" y="302.5" width="240" height="212" stroke="#2B3541" class="step-2 selection"/>\n<path id="step-2_2" d="M653.003 458.903L653 493.243H774.5C775.328 493.243 776 492.583 776 491.769C776 490.954 775.328 490.294 774.5 490.294H656V457.243C656 456.429 655.328 457.92 654.5 457.92C653.671 457.92 653.003 458.088 653.003 458.903Z" fill="#FAF5EB" class="step-2 subtle"/>\n<path d="M778.9999999047857,504.06475L778.9999986964496,476.42125Q778.9999986012352,474.243,778.9999986012352,474.243L770.9999986012352,474.2430003496912Q770.9999986012352,474.2430003496912,770.9999986964496,476.4212503496912L770.9999999047857,504.06475034969117Q771,506.2430003496912,771,506.2430003496912L779,506.243Q779,506.243,778.9999999047857,504.06475" id="step-2_3" class="step-2 accent" fill="#8FB9DC"/>\n<rect id="step-2-card-textbox" x="790.168701171875" y="310.0621337890625" width="196" height="191" class="step-2 card textbox left bottom" fill="#E5E5E5"/>\n</g>\n<path id="general-2" d="M496.48 532.97C497.82 532.99 499.162 533.001 500.506 533.001V534.001C499.157 534.001 497.809 533.99 496.464 533.969L496.48 532.97ZM504.547 533.969C503.203 533.989 501.856 534.001 500.506 534.001V533.001C501.851 533.001 503.193 532.99 504.533 532.97L504.547 533.969ZM480.454 532.255C483.115 532.453 485.787 532.613 488.469 532.733L488.447 533.231L488.448 533.232L488.434 533.528L488.425 533.731C485.733 533.611 483.051 533.45 480.379 533.251L480.454 532.255ZM520.632 533.251C517.961 533.45 515.279 533.611 512.586 533.731L512.579 533.528L512.565 533.232L512.543 532.733C515.226 532.613 517.898 532.453 520.559 532.255L520.632 533.251ZM464.504 530.581C467.15 530.939 469.808 531.259 472.478 531.539L472.373 532.532C469.694 532.251 467.026 531.93 464.371 531.57L464.504 530.581ZM536.508 530.581L536.641 531.57C533.986 531.93 531.318 532.251 528.638 532.532L528.535 531.539C531.204 531.259 533.863 530.939 536.508 530.581ZM448.69 527.947C451.305 528.464 453.934 528.944 456.577 529.384L456.413 530.369C453.76 529.927 451.121 529.447 448.496 528.927L448.69 527.947ZM552.516 528.927C549.891 529.447 547.251 529.927 544.599 530.369L544.436 529.384C547.078 528.944 549.707 528.464 552.323 527.947L552.516 528.927ZM433.059 524.358C435.638 525.033 438.232 525.671 440.84 526.27L440.728 526.757L440.617 527.244C437.998 526.643 435.395 526.002 432.806 525.324L432.84 525.195L433.059 524.358ZM568.172 525.195L568.206 525.324C565.617 526.002 563.013 526.643 560.395 527.244L560.293 526.8L560.284 526.758L560.172 526.27C562.781 525.671 565.375 525.033 567.954 524.358L568.172 525.195ZM417.67 519.823C420.206 520.655 422.759 521.45 425.328 522.207L425.044 523.165C422.466 522.405 419.903 521.606 417.358 520.771L417.67 519.823ZM583.654 520.771C581.108 521.606 578.546 522.405 575.967 523.165L575.685 522.207C578.254 521.45 580.807 520.655 583.342 519.823L583.654 520.771ZM402.589 514.361C405.072 515.347 407.573 516.297 410.092 517.209L409.752 518.147C407.224 517.231 404.713 516.279 402.22 515.29L402.589 514.361ZM598.791 515.29C596.299 516.279 593.788 517.231 591.259 518.147L590.919 517.209C593.439 516.296 595.94 515.347 598.423 514.361L598.791 515.29ZM387.871 507.994C390.288 509.128 392.727 510.228 395.184 511.291L394.787 512.207C392.32 511.14 389.873 510.037 387.446 508.898L387.871 507.994ZM613.566 508.898C611.139 510.037 608.691 511.14 606.225 512.207L605.829 511.291C608.286 510.228 610.724 509.128 613.142 507.994L613.566 508.898ZM373.566 500.746C375.91 502.024 378.276 503.268 380.662 504.477L380.209 505.368C377.814 504.154 375.44 502.906 373.087 501.623L373.566 500.746ZM627.924 501.623C625.572 502.906 623.197 504.154 620.802 505.368L620.351 504.477C622.737 503.268 625.103 502.024 627.447 500.746L627.924 501.623ZM359.721 492.642C361.985 494.061 364.272 495.446 366.581 496.798L366.328 497.228L366.172 497.496L366.076 497.66C363.758 496.303 361.462 494.912 359.19 493.488L359.456 493.066L359.721 492.642ZM641.822 493.488C639.549 494.912 637.254 496.303 634.936 497.66L634.684 497.229L634.432 496.798C636.741 495.446 639.028 494.061 641.291 492.642L641.822 493.488ZM346.393 483.719C348.568 485.272 350.767 486.793 352.991 488.282L352.435 489.112C350.203 487.618 347.995 486.091 345.812 484.532L346.393 483.719ZM654.91 484.126L655.2 484.532C653.016 486.091 650.808 487.618 648.577 489.112L648.022 488.282C650.245 486.793 652.444 485.272 654.62 483.719L654.91 484.126ZM333.626 474.01C335.704 475.691 337.808 477.342 339.937 478.961L339.331 479.756C337.195 478.13 335.083 476.473 332.997 474.786L333.312 474.398L333.626 474.01ZM668.013 474.786C665.928 476.473 663.817 478.131 661.68 479.756L661.076 478.961C663.205 477.342 665.308 475.691 667.386 474.01L668.013 474.786ZM321.466 463.551C323.44 465.354 325.44 467.128 327.467 468.872L326.815 469.628C324.78 467.878 322.772 466.098 320.791 464.288L321.466 463.551ZM679.883 463.921L680.219 464.288C678.239 466.097 676.231 467.878 674.197 469.628L673.545 468.872C675.573 467.128 677.573 465.355 679.546 463.552L679.883 463.921ZM309.955 452.381C311.816 454.299 313.708 456.19 315.626 458.052L314.93 458.768C313.004 456.899 311.107 455.002 309.238 453.076L309.955 452.381ZM691.774 453.076C689.905 455.002 688.007 456.899 686.081 458.768L685.386 458.052C687.305 456.191 689.195 454.299 691.057 452.381L691.774 453.076ZM702.633 441.191C700.883 443.226 699.103 445.234 697.293 447.215L696.925 446.879L696.556 446.541C698.359 444.567 700.134 442.567 701.877 440.54L702.633 441.191ZM299.135 440.54C300.879 442.567 302.652 444.568 304.456 446.541L304.085 446.878L304.086 446.879L303.718 447.214C301.909 445.233 300.128 443.226 298.378 441.191L299.135 440.54ZM712.364 428.373L712.761 428.675C711.136 430.811 709.479 432.923 707.791 435.009L707.015 434.381C708.696 432.303 710.347 430.199 711.966 428.07L712.364 428.373ZM289.046 428.07C290.665 430.199 292.316 432.303 293.997 434.381L293.22 435.008C291.533 432.922 289.875 430.811 288.25 428.675L289.046 428.07ZM279.725 415.016C281.214 417.24 282.735 419.439 284.289 421.614L283.88 421.904L283.474 422.194C281.915 420.011 280.388 417.803 278.894 415.571L279.725 415.016ZM722.118 415.571C720.624 417.803 719.097 420.011 717.538 422.194L717.131 421.905L716.724 421.614C718.277 419.439 719.799 417.24 721.288 415.016L722.118 415.571ZM271.209 401.427C272.561 403.735 273.946 406.022 275.365 408.286L274.518 408.816C273.094 406.544 271.703 404.248 270.346 401.93L271.209 401.427ZM730.665 401.93C729.309 404.248 727.918 406.544 726.494 408.816L725.648 408.286C727.066 406.022 728.452 403.735 729.803 401.427L730.665 401.93ZM263.53 387.345C264.739 389.731 265.983 392.097 267.261 394.441L266.383 394.919C265.1 392.566 263.852 390.192 262.638 387.797L263.53 387.345ZM738.373 387.797C737.16 390.192 735.911 392.566 734.628 394.919L733.751 394.441C735.03 392.097 736.274 389.731 737.483 387.345L738.373 387.797ZM256.716 372.823C257.779 375.28 258.879 377.719 260.013 380.136L259.108 380.56C257.969 378.133 256.866 375.686 255.799 373.219L256.716 372.823ZM745.212 373.219C744.145 375.686 743.042 378.133 741.904 380.56L740.999 380.136C742.134 377.719 743.233 375.28 744.296 372.823L745.212 373.219ZM250.798 357.914C251.711 360.433 252.66 362.935 253.646 365.418L252.716 365.786C251.727 363.293 250.775 360.782 249.859 358.254L250.798 357.914ZM750.684 358.085L751.153 358.254C750.237 360.782 749.285 363.293 748.295 365.786L747.367 365.418C748.352 362.935 749.302 360.434 750.214 357.915L750.684 358.085ZM245.8 342.679C246.557 345.248 247.352 347.801 248.184 350.337L247.235 350.648C246.4 348.103 245.601 345.54 244.841 342.962L245.8 342.679ZM756.17 342.962C755.41 345.54 754.612 348.103 753.777 350.648L752.829 350.337C753.661 347.801 754.455 345.248 755.212 342.679L756.17 342.962ZM241.737 327.167C242.336 329.775 242.974 332.369 243.649 334.948L242.682 335.2C242.004 332.612 241.363 330.008 240.762 327.389L241.737 327.167ZM760.249 327.389C759.648 330.008 759.007 332.611 758.33 335.2L757.364 334.948C758.039 332.369 758.677 329.775 759.276 327.167L760.249 327.389ZM238.623 311.43C239.063 314.073 239.543 316.702 240.06 319.317L239.079 319.51C238.559 316.885 238.079 314.246 237.637 311.594L238.623 311.43ZM763.374 311.594C762.933 314.246 762.452 316.885 761.933 319.51L761.443 319.415L760.953 319.317C761.47 316.702 761.949 314.073 762.389 311.43L763.374 311.594ZM236.468 295.529C236.748 298.199 237.068 300.857 237.426 303.503L236.436 303.635C236.076 300.98 235.755 298.312 235.474 295.633L236.468 295.529ZM765.538 295.633C765.256 298.312 764.936 300.98 764.576 303.635L764.081 303.57L763.586 303.503C763.945 300.857 764.264 298.199 764.544 295.529L765.538 295.633ZM235.274 279.538C235.394 282.22 235.554 284.892 235.752 287.553L234.755 287.627C234.556 284.956 234.395 282.273 234.275 279.581L235.274 279.538ZM766.237 279.559L766.737 279.581C766.617 282.273 766.456 284.956 766.256 287.627L765.26 287.553C765.459 284.892 765.619 282.22 765.739 279.538L766.237 279.559ZM234.006 267.501C234.006 266.151 234.017 264.804 234.037 263.459L235.037 263.474C235.017 264.814 235.006 266.156 235.006 267.501C235.006 268.845 235.017 270.187 235.037 271.527L234.037 271.542C234.017 270.197 234.006 268.85 234.006 267.501ZM767.006 267.501C767.006 268.85 766.995 270.197 766.975 271.542L765.976 271.527C765.996 270.187 766.006 268.845 766.006 267.501C766.006 266.156 765.996 264.814 765.976 263.474L766.975 263.459C766.995 264.804 767.006 266.151 767.006 267.501ZM235.752 247.448C235.554 250.109 235.394 252.781 235.274 255.464L234.775 255.441L234.275 255.42C234.395 252.727 234.556 250.045 234.755 247.374L235.752 247.448ZM766.256 247.374C766.456 250.045 766.617 252.727 766.737 255.42L766.238 255.442L766.237 255.441L765.739 255.464C765.619 252.781 765.459 250.109 765.26 247.448L766.256 247.374ZM236.931 231.431L237.426 231.499C237.068 234.144 236.748 236.803 236.468 239.472L235.474 239.368C235.755 236.688 236.076 234.02 236.436 231.365L236.931 231.431ZM764.576 231.365C764.936 234.02 765.256 236.688 765.538 239.368L764.544 239.472C764.264 236.803 763.945 234.144 763.586 231.499L764.081 231.431L764.576 231.365ZM239.57 215.587L240.06 215.684C239.543 218.3 239.063 220.929 238.623 223.571L237.637 223.407C238.079 220.755 238.559 218.115 239.079 215.49L239.57 215.587ZM761.933 215.49C762.452 218.115 762.933 220.755 763.374 223.407L762.389 223.571C761.949 220.929 761.47 218.3 760.953 215.684L761.443 215.587L761.933 215.49ZM243.649 200.053C242.974 202.632 242.336 205.226 241.737 207.835L241.249 207.722L240.762 207.611C241.363 204.993 242.004 202.389 242.682 199.801L243.649 200.053ZM758.33 199.801C759.007 202.389 759.648 204.993 760.249 207.611L759.763 207.723L759.762 207.722L759.276 207.835C758.677 205.226 758.039 202.632 757.364 200.053L758.33 199.801ZM248.184 184.665C247.352 187.201 246.557 189.753 245.8 192.322L244.841 192.039C245.601 189.46 246.4 186.898 247.235 184.352L248.184 184.665ZM753.777 184.352C754.612 186.898 755.41 189.46 756.17 192.039L755.212 192.322C754.455 189.753 753.661 187.201 752.829 184.665L753.777 184.352ZM748.295 169.215C749.285 171.707 750.237 174.218 751.153 176.747L750.214 177.088C749.302 174.568 748.352 172.067 747.367 169.584L748.295 169.215ZM253.646 169.584C252.66 172.067 251.711 174.568 250.798 177.087L249.859 176.747C250.775 174.218 251.727 171.707 252.716 169.215L253.646 169.584ZM260.013 154.865C258.879 157.283 257.779 159.721 256.716 162.178L255.799 161.781C256.866 159.315 257.969 156.867 259.108 154.44L260.013 154.865ZM741.904 154.44C743.042 156.867 744.145 159.315 745.212 161.781L744.296 162.178C743.233 159.721 742.134 157.283 740.999 154.865L741.904 154.44ZM266.823 140.321L267.261 140.56C265.983 142.904 264.739 145.27 263.53 147.656L262.638 147.204C263.852 144.809 265.1 142.434 266.383 140.082L266.823 140.321ZM734.628 140.082C735.912 142.434 737.16 144.809 738.373 147.204L737.483 147.656C736.274 145.27 735.03 142.904 733.751 140.56L734.628 140.082ZM275.365 126.716C273.946 128.979 272.561 131.266 271.209 133.575L270.778 133.322L270.346 133.07C271.703 130.752 273.094 128.457 274.518 126.184L275.365 126.716ZM726.494 126.184C727.918 128.457 729.309 130.752 730.665 133.07L730.235 133.323L730.234 133.322L729.803 133.575C728.452 131.266 727.066 128.979 725.648 126.716L726.494 126.184ZM283.881 113.096L284.289 113.387C282.735 115.563 281.214 117.762 279.725 119.985L278.894 119.429C280.388 117.198 281.915 114.99 283.474 112.806L283.881 113.096ZM717.538 112.806C719.097 114.99 720.624 117.198 722.118 119.429L721.288 119.985C719.799 117.762 718.277 115.563 716.724 113.387L717.538 112.806ZM293.997 100.621C292.316 102.699 290.665 104.802 289.046 106.931L288.25 106.326C289.876 104.189 291.533 102.078 293.22 99.9919L293.997 100.621ZM707.791 99.9929C709.479 102.078 711.136 104.189 712.761 106.326L711.966 106.931C710.347 104.802 708.696 102.699 707.015 100.621L707.791 99.9929ZM304.087 88.1228L304.456 88.4607C302.653 90.434 300.879 92.4344 299.135 94.4617L298.378 93.8093C300.128 91.7746 301.908 89.7665 303.718 87.7859L304.087 88.1228ZM697.293 87.7869C699.103 89.7673 700.883 91.7748 702.633 93.8093L701.877 94.4617C700.134 92.4345 698.36 90.4339 696.557 88.4607L697.293 87.7869ZM315.626 76.949C313.708 78.8109 311.817 80.7022 309.956 82.6208L309.238 81.9246C311.107 79.9987 313.004 78.101 314.93 76.2322L315.626 76.949ZM686.081 76.2322C688.007 78.101 689.905 79.9988 691.774 81.9246L691.058 82.6208C689.196 80.7022 687.305 78.8119 685.386 76.95L686.081 76.2322ZM674.197 65.3728C676.231 67.1228 678.24 68.9029 680.22 70.7126L679.885 71.0808L679.546 71.4509C677.573 69.6478 675.573 67.8733 673.545 66.1296L674.197 65.3728ZM327.467 66.1296C325.44 67.8732 323.439 69.6469 321.466 71.45L320.792 70.7126C322.773 68.9031 324.78 67.1227 326.815 65.3728L327.467 66.1296ZM339.937 56.0408C337.808 57.6599 335.704 59.3107 333.626 60.9919L332.998 60.2146C335.084 58.5272 337.195 56.8699 339.331 55.2449L339.937 56.0408ZM661.68 55.2449C663.817 56.87 665.928 58.5271 668.014 60.2146L667.386 60.9919C665.308 59.3107 663.205 57.6599 661.076 56.0408L661.68 55.2449ZM352.991 46.7195C350.767 48.208 348.568 49.7298 346.393 51.283L345.812 50.4685C347.995 48.9095 350.203 47.3825 352.435 45.8884L352.991 46.7195ZM648.577 45.8884C650.808 47.3825 653.016 48.9095 655.2 50.4685L654.62 51.283C652.444 49.7298 650.245 48.208 648.022 46.7195L648.577 45.8884ZM366.581 38.2039C364.272 39.5553 361.985 40.9406 359.721 42.3591L359.19 41.5125C361.462 40.0884 363.758 38.6973 366.076 37.3406L366.581 38.2039ZM634.936 37.3406C637.254 38.6973 639.549 40.0884 641.822 41.5125L641.291 42.3591C639.028 40.9406 636.741 39.5553 634.432 38.2039L634.936 37.3406ZM380.662 30.5242C378.276 31.7332 375.91 32.9773 373.566 34.2556L373.087 33.3777C375.44 32.0945 377.814 30.8462 380.209 29.6326L380.662 30.5242ZM620.802 29.6326C623.197 30.8462 625.572 32.0945 627.924 33.3777L627.447 34.2556C625.103 32.9773 622.737 31.7332 620.351 30.5242L620.802 29.6326ZM395.184 23.7107C392.727 24.7736 390.288 25.8732 387.871 27.0076L387.446 26.1023C389.873 24.9636 392.32 23.8607 394.787 22.7937L395.184 23.7107ZM606.225 22.7937C608.691 23.8607 611.139 24.9636 613.566 26.1023L613.142 27.0076C610.724 25.8732 608.286 24.7736 605.829 23.7107L606.225 22.7937ZM410.093 17.7927C407.574 18.705 405.072 19.6546 402.589 20.6404L402.22 19.7107C404.713 18.7212 407.224 17.769 409.752 16.8533L410.093 17.7927ZM591.259 16.8533C593.788 17.769 596.299 18.7212 598.791 19.7107L598.423 20.6404C595.94 19.6547 593.439 18.705 590.92 17.7927L591.259 16.8533ZM425.328 12.7947C422.759 13.5517 420.206 14.3465 417.67 15.1785L417.358 14.2292C419.903 13.3941 422.466 12.5956 425.044 11.8357L425.328 12.7947ZM575.967 11.8357C578.546 12.5956 581.108 13.3941 583.654 14.2292L583.342 15.1785C580.807 14.3465 578.254 13.5517 575.685 12.7947L575.967 11.8357ZM440.719 8.20483L440.84 8.7312C438.232 9.3302 435.638 9.96808 433.059 10.6433L432.806 9.67651C435.395 8.99869 437.998 8.35789 440.617 7.75659L440.719 8.20483ZM560.395 7.75659C563.013 8.35788 565.617 8.9987 568.206 9.67651L567.954 10.6433C565.375 9.96808 562.781 9.33021 560.172 8.7312L560.395 7.75659ZM456.577 5.61792C453.934 6.05786 451.305 6.53708 448.69 7.05444L448.592 6.56323L448.496 6.073C451.121 5.55363 453.76 5.07322 456.413 4.63159L456.577 5.61792ZM544.599 4.63159C547.251 5.07322 549.891 5.55364 552.516 6.073L552.42 6.56421L552.419 6.56323L552.323 7.05444C549.707 6.53708 547.078 6.05786 544.436 5.61792L544.599 4.63159ZM472.478 3.46265C469.808 3.74275 467.15 4.06203 464.504 4.42065L464.437 3.92456L464.371 3.43042C467.026 3.07045 469.694 2.74965 472.373 2.46851L472.478 3.46265ZM528.638 2.46851C531.318 2.74964 533.986 3.07046 536.641 3.43042L536.576 3.92554L536.575 3.92456L536.508 4.42065C533.863 4.06203 531.204 3.74275 528.535 3.46265L528.638 2.46851ZM488.442 1.65405L488.469 2.26831C485.787 2.38799 483.115 2.54812 480.454 2.74683L480.379 1.74976C483.051 1.5503 485.733 1.38942 488.425 1.26929L488.442 1.65405ZM512.586 1.26929C515.279 1.38941 517.961 1.55031 520.632 1.74976L520.559 2.74683C517.898 2.54812 515.226 2.38799 512.543 2.26831L512.571 1.65405L512.586 1.26929ZM500.506 1.00073C501.856 1.00073 503.203 1.01102 504.547 1.03101L504.533 2.03101C503.193 2.01109 501.851 2.00073 500.506 2.00073C499.162 2.00073 497.82 2.01109 496.48 2.03101L496.464 1.03101C497.809 1.01101 499.157 1.00073 500.506 1.00073Z" fill="#FAF5EB" class="general-2 subtle"/>\n<path id="general-1" d="M746.006 269.001C746.006 133.691 636.316 24.0007 501.006 24.0007C365.697 24.0007 256.006 133.691 256.006 269.001C256.006 404.31 365.697 514.001 501.006 514.001V515.001C365.144 515.001 255.006 404.863 255.006 269.001C255.006 133.139 365.144 23.0007 501.006 23.0007C636.868 23.0007 747.006 133.139 747.006 269.001C747.006 404.863 636.868 515.001 501.006 515.001V514.001C636.316 514.001 746.006 404.31 746.006 269.001Z" fill="#3371A5" class="general-1 accent"/>\n<path id="general-1-image" d="M501.003 23.5004C636.589 23.5004 746.503 133.414 746.503 269C746.503 404.586 636.589 514.5 501.003 514.5C365.417 514.5 255.503 404.586 255.503 269C255.503 133.414 365.417 23.5004 501.003 23.5004Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n',circle_hero_pic_3:'<svg class="circle_hero_pic-frame" width="1015.0400952148437" height="572.0402736621094" viewBox="-9.351270141601564 -18.519271831054688 1015.0400952148437 572.0402736621094" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_hero_pic-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="10.168731689453125" y="31.0621337890625" width="197" height="191" class="step-1 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="240" height="212" stroke="#2B3541" class="step-1 selection"/>\n<path id="step-1_2" d="M349.506 74.5V42H228.006C227.178 42 226.506 42.6716 226.506 43.5C226.506 44.3284 227.178 45 228.006 45H346.506L346.5 77.4993C346.5 78.3277 347.172 76.4993 348 76.4993C348.828 76.4993 349.506 75.3284 349.506 74.5Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path d="M228.003,31.17824999999999L228.003,58.82175000000001Q228.003,61,228.003,61L220.003,61Q220.003,61,220.003,58.82175000000001L220.003,31.17824999999999Q220.003,29,220.003,29L228.003,29Q228.003,29,228.003,31.17824999999999" id="step-1_3" class="step-1 accent" fill="#8FB9DC"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="760.5" y="161.5" width="240" height="212" stroke="#2B3541" class="step-2 selection"/>\n<path d="M779,169.17825000000005L779,196.82174999999995Q779,199,779,199L771,199Q771,199,771,196.82174999999995L771,169.17825000000005Q771,167,771,167L779,167Q779,167,779,169.17825000000005" id="step-2_2" class="step-2 accent" fill="#8FB9DC"/>\n<rect id="step-2-card-textbox" x="790.1688232421875" y="169.0621337890625" width="196" height="191" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2_3" d="M731 184V181H771V184H731Z" fill="#FAF5EB" class="step-2 subtle"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="17.171875" y="311.0621337890625" width="190" height="191" class="step-3 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.50317" y="304.5" width="240" height="214" stroke="#2B3541" class="step-3 selection"/>\n<path id="step-3_2" d="M349 462.5V495H227.5C226.672 495 226 494.328 226 493.5C226 492.672 226.672 492 227.5 492H346V460.339C346 459.511 346.672 461 347.5 461C348.328 461 349 461.672 349 462.5Z" fill="#FAF5EB" class="step-3 subtle"/>\n<path d="M228.003,479.17825L228.003,506.82175Q228.003,509,228.003,509L220.003,509Q220.003,509,220.003,506.82175L220.003,479.17825Q220.003,477,220.003,477L228.003,477Q228.003,477,228.003,479.17825" id="step-3_3" class="step-3 accent" fill="#8FB9DC"/>\n</g>\n<path id="general-2" d="M496.48 532.97C497.82 532.99 499.162 533.001 500.506 533.001V534.001C499.157 534.001 497.809 533.99 496.464 533.969L496.48 532.97ZM504.547 533.969C503.203 533.989 501.856 534.001 500.506 534.001V533.001C501.851 533.001 503.193 532.99 504.533 532.97L504.547 533.969ZM480.454 532.255C483.115 532.453 485.787 532.613 488.469 532.733L488.447 533.231L488.448 533.232L488.434 533.528L488.425 533.731C485.733 533.611 483.051 533.45 480.379 533.251L480.454 532.255ZM520.632 533.251C517.961 533.45 515.279 533.611 512.586 533.731L512.579 533.528L512.565 533.232L512.543 532.733C515.226 532.613 517.898 532.453 520.559 532.255L520.632 533.251ZM464.504 530.581C467.15 530.939 469.808 531.259 472.478 531.539L472.374 532.532C469.694 532.251 467.026 531.93 464.371 531.57L464.504 530.581ZM536.508 530.581L536.641 531.57C533.986 531.93 531.318 532.251 528.638 532.532L528.535 531.539C531.204 531.259 533.863 530.939 536.508 530.581ZM448.69 527.947C451.305 528.464 453.934 528.944 456.577 529.384L456.413 530.369C453.76 529.927 451.121 529.447 448.496 528.927L448.69 527.947ZM552.516 528.927C549.891 529.447 547.252 529.927 544.599 530.369L544.436 529.384C547.078 528.944 549.708 528.464 552.323 527.947L552.516 528.927ZM433.059 524.358C435.638 525.033 438.232 525.671 440.84 526.27L440.728 526.757L440.617 527.244C437.998 526.643 435.395 526.002 432.806 525.324L432.84 525.195L433.059 524.358ZM568.172 525.195L568.206 525.324C565.617 526.002 563.014 526.643 560.395 527.244L560.293 526.8L560.284 526.758L560.172 526.27C562.781 525.671 565.375 525.033 567.954 524.358L568.172 525.195ZM417.67 519.823C420.206 520.655 422.759 521.45 425.328 522.207L425.044 523.165C422.466 522.405 419.903 521.606 417.358 520.771L417.67 519.823ZM583.654 520.771C581.108 521.606 578.546 522.405 575.967 523.165L575.685 522.207C578.254 521.45 580.807 520.655 583.342 519.823L583.654 520.771ZM402.589 514.361C405.072 515.347 407.573 516.297 410.092 517.209L409.752 518.147C407.224 517.231 404.713 516.279 402.22 515.29L402.589 514.361ZM598.792 515.29C596.299 516.279 593.788 517.231 591.259 518.147L590.919 517.209C593.439 516.296 595.94 515.347 598.423 514.361L598.792 515.29ZM387.871 507.994C390.288 509.128 392.727 510.228 395.184 511.291L394.787 512.207C392.32 511.14 389.873 510.037 387.446 508.898L387.871 507.994ZM613.566 508.898C611.139 510.037 608.692 511.14 606.225 512.207L605.829 511.291C608.286 510.228 610.724 509.128 613.142 507.994L613.566 508.898ZM373.566 500.746C375.91 502.024 378.276 503.268 380.662 504.477L380.209 505.368C377.814 504.154 375.44 502.906 373.087 501.623L373.566 500.746ZM627.924 501.623C625.572 502.906 623.197 504.154 620.802 505.368L620.351 504.477C622.737 503.268 625.103 502.024 627.447 500.746L627.924 501.623ZM359.721 492.642C361.985 494.061 364.272 495.446 366.581 496.798L366.328 497.228L366.172 497.496L366.076 497.66C363.758 496.303 361.462 494.912 359.19 493.488L359.456 493.066L359.721 492.642ZM641.822 493.488C639.549 494.912 637.254 496.303 634.936 497.66L634.684 497.229L634.432 496.798C636.741 495.446 639.028 494.061 641.292 492.642L641.822 493.488ZM346.393 483.719C348.568 485.272 350.767 486.793 352.991 488.282L352.435 489.112C350.203 487.618 347.995 486.091 345.812 484.532L346.393 483.719ZM654.91 484.126L655.2 484.532C653.016 486.091 650.808 487.618 648.577 489.112L648.022 488.282C650.245 486.793 652.444 485.272 654.62 483.719L654.91 484.126ZM333.626 474.01C335.704 475.691 337.808 477.342 339.937 478.961L339.332 479.756C337.195 478.13 335.083 476.473 332.998 474.786L333.312 474.398L333.626 474.01ZM668.013 474.786C665.928 476.473 663.817 478.131 661.68 479.756L661.076 478.961C663.205 477.342 665.308 475.691 667.386 474.01L668.013 474.786ZM321.466 463.551C323.44 465.354 325.44 467.128 327.467 468.872L326.815 469.628C324.78 467.878 322.772 466.098 320.792 464.288L321.466 463.551ZM679.883 463.921L680.219 464.288C678.239 466.097 676.231 467.878 674.197 469.628L673.545 468.872C675.573 467.128 677.573 465.355 679.546 463.552L679.883 463.921ZM309.955 452.381C311.816 454.299 313.708 456.19 315.626 458.052L314.93 458.768C313.004 456.899 311.107 455.002 309.238 453.076L309.955 452.381ZM691.774 453.076C689.905 455.002 688.007 456.899 686.082 458.768L685.386 458.052C687.305 456.191 689.195 454.299 691.057 452.381L691.774 453.076ZM702.633 441.191C700.883 443.226 699.103 445.234 697.293 447.215L696.925 446.879L696.556 446.541C698.359 444.567 700.134 442.567 701.877 440.54L702.633 441.191ZM299.135 440.54C300.879 442.567 302.653 444.568 304.456 446.541L304.085 446.878L304.086 446.879L303.718 447.214C301.909 445.233 300.128 443.226 298.378 441.191L299.135 440.54ZM712.364 428.373L712.761 428.675C711.136 430.811 709.479 432.923 707.792 435.009L707.015 434.381C708.696 432.303 710.347 430.199 711.966 428.07L712.364 428.373ZM289.046 428.07C290.665 430.199 292.316 432.303 293.998 434.381L293.22 435.008C291.533 432.922 289.875 430.811 288.25 428.675L289.046 428.07ZM279.725 415.016C281.214 417.24 282.735 419.439 284.289 421.614L283.88 421.904L283.474 422.194C281.915 420.011 280.388 417.803 278.894 415.571L279.725 415.016ZM722.118 415.571C720.624 417.803 719.097 420.011 717.538 422.194L717.131 421.905L716.724 421.614C718.277 419.439 719.799 417.24 721.288 415.016L722.118 415.571ZM271.209 401.427C272.561 403.735 273.946 406.022 275.365 408.286L274.518 408.816C273.094 406.544 271.703 404.248 270.346 401.93L271.209 401.427ZM730.666 401.93C729.309 404.248 727.918 406.544 726.494 408.816L725.648 408.286C727.066 406.022 728.452 403.735 729.803 401.427L730.666 401.93ZM263.53 387.345C264.739 389.731 265.983 392.097 267.261 394.441L266.383 394.919C265.1 392.566 263.852 390.192 262.638 387.797L263.53 387.345ZM738.374 387.797C737.16 390.192 735.912 392.566 734.628 394.919L733.751 394.441C735.03 392.097 736.274 389.731 737.483 387.345L738.374 387.797ZM256.716 372.823C257.779 375.28 258.879 377.719 260.013 380.136L259.108 380.56C257.969 378.133 256.866 375.686 255.799 373.219L256.716 372.823ZM745.212 373.219C744.145 375.686 743.043 378.133 741.904 380.56L741 380.136C742.134 377.719 743.233 375.28 744.296 372.823L745.212 373.219ZM250.798 357.914C251.711 360.433 252.66 362.935 253.646 365.418L252.716 365.786C251.727 363.293 250.775 360.782 249.859 358.254L250.798 357.914ZM750.684 358.085L751.153 358.254C750.237 360.782 749.285 363.293 748.295 365.786L747.367 365.418C748.352 362.935 749.302 360.434 750.214 357.915L750.684 358.085ZM245.8 342.679C246.557 345.248 247.352 347.801 248.184 350.337L247.235 350.648C246.4 348.103 245.601 345.54 244.841 342.962L245.8 342.679ZM756.17 342.962C755.41 345.54 754.612 348.103 753.777 350.648L752.829 350.337C753.661 347.801 754.455 345.248 755.212 342.679L756.17 342.962ZM241.737 327.167C242.336 329.775 242.974 332.369 243.649 334.948L242.682 335.2C242.004 332.612 241.363 330.008 240.762 327.389L241.737 327.167ZM760.25 327.389C759.648 330.008 759.007 332.611 758.33 335.2L757.364 334.948C758.039 332.369 758.677 329.775 759.276 327.167L760.25 327.389ZM238.624 311.43C239.063 314.073 239.543 316.702 240.06 319.317L239.079 319.51C238.559 316.885 238.079 314.246 237.637 311.594L238.624 311.43ZM763.375 311.594C762.933 314.246 762.452 316.885 761.933 319.51L761.443 319.415L760.953 319.317C761.47 316.702 761.949 314.073 762.389 311.43L763.375 311.594ZM236.468 295.529C236.748 298.199 237.068 300.857 237.426 303.503L236.436 303.635C236.076 300.98 235.755 298.312 235.474 295.633L236.468 295.529ZM765.538 295.633C765.256 298.312 764.936 300.98 764.576 303.635L764.082 303.57L763.586 303.503C763.945 300.857 764.264 298.199 764.544 295.529L765.538 295.633ZM235.274 279.538C235.394 282.22 235.554 284.892 235.752 287.553L234.755 287.627C234.556 284.956 234.395 282.273 234.275 279.581L235.274 279.538ZM766.237 279.559L766.737 279.581C766.617 282.273 766.456 284.956 766.256 287.627L765.26 287.553C765.459 284.892 765.619 282.22 765.739 279.538L766.237 279.559ZM234.006 267.501C234.006 266.151 234.017 264.804 234.037 263.459L235.037 263.474C235.017 264.814 235.006 266.156 235.006 267.501C235.006 268.845 235.017 270.187 235.037 271.527L234.037 271.542C234.017 270.197 234.006 268.85 234.006 267.501ZM767.006 267.501C767.006 268.85 766.995 270.197 766.975 271.542L765.976 271.527C765.996 270.187 766.006 268.845 766.006 267.501C766.006 266.156 765.996 264.814 765.976 263.474L766.975 263.459C766.995 264.804 767.006 266.151 767.006 267.501ZM235.752 247.448C235.554 250.109 235.394 252.781 235.274 255.464L234.775 255.441L234.275 255.42C234.395 252.727 234.556 250.045 234.755 247.374L235.752 247.448ZM766.256 247.374C766.456 250.045 766.617 252.727 766.737 255.42L766.238 255.442L766.237 255.441L765.739 255.464C765.619 252.781 765.459 250.109 765.26 247.448L766.256 247.374ZM236.931 231.431L237.426 231.499C237.068 234.144 236.748 236.803 236.468 239.472L235.474 239.368C235.755 236.688 236.076 234.02 236.436 231.365L236.931 231.431ZM764.576 231.365C764.936 234.02 765.256 236.688 765.538 239.368L764.544 239.472C764.264 236.803 763.945 234.144 763.586 231.499L764.082 231.431L764.576 231.365ZM239.57 215.587L240.06 215.684C239.543 218.3 239.063 220.929 238.624 223.571L237.637 223.407C238.079 220.755 238.559 218.115 239.079 215.49L239.57 215.587ZM761.933 215.49C762.452 218.115 762.933 220.755 763.375 223.407L762.389 223.571C761.949 220.929 761.47 218.3 760.953 215.684L761.443 215.587L761.933 215.49ZM243.649 200.053C242.974 202.632 242.336 205.226 241.737 207.835L241.25 207.722L240.762 207.611C241.364 204.993 242.004 202.389 242.682 199.801L243.649 200.053ZM758.33 199.801C759.007 202.389 759.648 204.993 760.25 207.611L759.763 207.723L759.762 207.722L759.276 207.835C758.677 205.226 758.039 202.632 757.364 200.053L758.33 199.801ZM248.184 184.665C247.352 187.201 246.557 189.753 245.8 192.322L244.841 192.039C245.601 189.46 246.4 186.898 247.235 184.352L248.184 184.665ZM753.777 184.352C754.612 186.898 755.41 189.46 756.17 192.039L755.212 192.322C754.455 189.753 753.661 187.201 752.829 184.665L753.777 184.352ZM748.295 169.215C749.285 171.707 750.237 174.218 751.153 176.747L750.214 177.088C749.302 174.568 748.352 172.067 747.367 169.584L748.295 169.215ZM253.646 169.584C252.66 172.067 251.711 174.568 250.798 177.087L249.859 176.747C250.775 174.218 251.727 171.707 252.716 169.215L253.646 169.584ZM260.013 154.865C258.879 157.283 257.779 159.721 256.716 162.178L255.799 161.781C256.866 159.315 257.969 156.867 259.108 154.44L260.013 154.865ZM741.904 154.44C743.043 156.867 744.145 159.315 745.212 161.781L744.296 162.178C743.233 159.721 742.134 157.283 741 154.865L741.904 154.44ZM266.823 140.321L267.261 140.56C265.983 142.904 264.739 145.27 263.53 147.656L262.638 147.204C263.852 144.809 265.1 142.434 266.383 140.082L266.823 140.321ZM734.628 140.082C735.912 142.434 737.16 144.809 738.374 147.204L737.483 147.656C736.274 145.27 735.03 142.904 733.751 140.56L734.628 140.082ZM275.365 126.716C273.946 128.979 272.561 131.266 271.209 133.575L270.778 133.322L270.346 133.07C271.703 130.752 273.094 128.457 274.518 126.184L275.365 126.716ZM726.494 126.184C727.918 128.457 729.309 130.752 730.666 133.07L730.235 133.323L730.234 133.322L729.803 133.575C728.452 131.266 727.066 128.979 725.648 126.716L726.494 126.184ZM283.881 113.096L284.289 113.387C282.735 115.563 281.214 117.762 279.725 119.985L278.894 119.429C280.388 117.198 281.915 114.99 283.474 112.806L283.881 113.096ZM717.538 112.806C719.097 114.99 720.624 117.198 722.118 119.429L721.288 119.985C719.799 117.762 718.277 115.563 716.724 113.387L717.538 112.806ZM293.998 100.621C292.316 102.699 290.665 104.802 289.046 106.931L288.25 106.326C289.876 104.189 291.533 102.078 293.22 99.9919L293.998 100.621ZM707.792 99.9929C709.479 102.078 711.136 104.189 712.761 106.326L711.966 106.931C710.347 104.802 708.696 102.699 707.015 100.621L707.792 99.9929ZM304.087 88.1228L304.457 88.4607C302.653 90.434 300.879 92.4344 299.135 94.4617L298.378 93.8093C300.128 91.7746 301.909 89.7665 303.718 87.7859L304.087 88.1228ZM697.293 87.7869C699.103 89.7673 700.883 91.7748 702.633 93.8093L701.877 94.4617C700.134 92.4345 698.36 90.4339 696.557 88.4607L697.293 87.7869ZM315.626 76.949C313.708 78.8109 311.817 80.7022 309.956 82.6208L309.238 81.9246C311.107 79.9987 313.004 78.101 314.93 76.2322L315.626 76.949ZM686.082 76.2322C688.007 78.101 689.905 79.9988 691.774 81.9246L691.058 82.6208C689.196 80.7022 687.305 78.8119 685.386 76.95L686.082 76.2322ZM674.197 65.3728C676.231 67.1228 678.24 68.9029 680.22 70.7126L679.885 71.0808L679.546 71.4509C677.573 69.6478 675.573 67.8733 673.545 66.1296L674.197 65.3728ZM327.467 66.1296C325.44 67.8732 323.44 69.6469 321.466 71.45L320.792 70.7126C322.773 68.9031 324.78 67.1227 326.815 65.3728L327.467 66.1296ZM339.937 56.0408C337.808 57.6599 335.704 59.3107 333.626 60.9919L332.999 60.2146C335.084 58.5272 337.195 56.8699 339.332 55.2449L339.937 56.0408ZM661.68 55.2449C663.817 56.87 665.928 58.5271 668.014 60.2146L667.386 60.9919C665.308 59.3107 663.205 57.6599 661.076 56.0408L661.68 55.2449ZM352.991 46.7195C350.767 48.208 348.568 49.7298 346.393 51.283L345.812 50.4685C347.995 48.9095 350.203 47.3825 352.435 45.8884L352.991 46.7195ZM648.577 45.8884C650.808 47.3825 653.016 48.9095 655.2 50.4685L654.62 51.283C652.444 49.7298 650.245 48.208 648.022 46.7195L648.577 45.8884ZM366.581 38.2039C364.272 39.5553 361.985 40.9406 359.721 42.3591L359.19 41.5125C361.462 40.0884 363.758 38.6973 366.076 37.3406L366.581 38.2039ZM634.936 37.3406C637.254 38.6973 639.549 40.0884 641.822 41.5125L641.292 42.3591C639.028 40.9406 636.741 39.5553 634.432 38.2039L634.936 37.3406ZM380.662 30.5242C378.276 31.7332 375.91 32.9773 373.566 34.2556L373.087 33.3777C375.44 32.0945 377.814 30.8462 380.209 29.6326L380.662 30.5242ZM620.802 29.6326C623.197 30.8462 625.572 32.0945 627.924 33.3777L627.447 34.2556C625.103 32.9773 622.737 31.7332 620.351 30.5242L620.802 29.6326ZM395.184 23.7107C392.727 24.7736 390.288 25.8732 387.871 27.0076L387.446 26.1023C389.873 24.9636 392.32 23.8607 394.787 22.7937L395.184 23.7107ZM606.225 22.7937C608.692 23.8607 611.139 24.9636 613.566 26.1023L613.142 27.0076C610.724 25.8732 608.286 24.7736 605.829 23.7107L606.225 22.7937ZM410.093 17.7927C407.574 18.705 405.072 19.6546 402.589 20.6404L402.22 19.7107C404.713 18.7212 407.224 17.769 409.752 16.8533L410.093 17.7927ZM591.259 16.8533C593.788 17.769 596.299 18.7212 598.792 19.7107L598.423 20.6404C595.94 19.6547 593.439 18.705 590.92 17.7927L591.259 16.8533ZM425.328 12.7947C422.759 13.5517 420.206 14.3465 417.67 15.1785L417.358 14.2292C419.903 13.3941 422.466 12.5956 425.044 11.8357L425.328 12.7947ZM575.967 11.8357C578.546 12.5956 581.108 13.3941 583.654 14.2292L583.342 15.1785C580.807 14.3465 578.254 13.5517 575.685 12.7947L575.967 11.8357ZM440.719 8.20483L440.84 8.7312C438.232 9.3302 435.638 9.96808 433.059 10.6433L432.806 9.67651C435.395 8.99869 437.998 8.35789 440.617 7.75659L440.719 8.20483ZM560.395 7.75659C563.014 8.35788 565.617 8.9987 568.206 9.67651L567.954 10.6433C565.375 9.96808 562.781 9.33021 560.172 8.7312L560.395 7.75659ZM456.577 5.61792C453.934 6.05786 451.305 6.53708 448.69 7.05444L448.592 6.56323L448.496 6.073C451.121 5.55363 453.76 5.07322 456.413 4.63159L456.577 5.61792ZM544.599 4.63159C547.252 5.07322 549.891 5.55364 552.516 6.073L552.42 6.56421L552.419 6.56323L552.323 7.05444C549.708 6.53708 547.078 6.05786 544.436 5.61792L544.599 4.63159ZM472.478 3.46265C469.808 3.74275 467.15 4.06203 464.504 4.42065L464.437 3.92456L464.371 3.43042C467.026 3.07045 469.694 2.74965 472.374 2.46851L472.478 3.46265ZM528.638 2.46851C531.318 2.74964 533.986 3.07046 536.641 3.43042L536.576 3.92554L536.575 3.92456L536.508 4.42065C533.863 4.06203 531.204 3.74275 528.535 3.46265L528.638 2.46851ZM488.442 1.65405L488.469 2.26831C485.787 2.38799 483.115 2.54812 480.454 2.74683L480.379 1.74976C483.051 1.5503 485.733 1.38942 488.425 1.26929L488.442 1.65405ZM512.586 1.26929C515.279 1.38941 517.961 1.55031 520.632 1.74976L520.559 2.74683C517.898 2.54812 515.226 2.38799 512.543 2.26831L512.571 1.65405L512.586 1.26929ZM500.506 1.00073C501.856 1.00073 503.203 1.01102 504.547 1.03101L504.533 2.03101C503.193 2.01109 501.851 2.00073 500.506 2.00073C499.162 2.00073 497.82 2.01109 496.48 2.03101L496.464 1.03101C497.809 1.01101 499.157 1.00073 500.506 1.00073Z" fill="#FAF5EB" class="general-2 subtle"/>\n<path id="general-1" d="M746.006 269.001C746.006 133.691 636.316 24.0007 501.006 24.0007C365.697 24.0007 256.006 133.691 256.006 269.001C256.006 404.31 365.697 514.001 501.006 514.001V515.001C365.144 515.001 255.006 404.863 255.006 269.001C255.006 133.139 365.144 23.0007 501.006 23.0007C636.868 23.0007 747.006 133.139 747.006 269.001C747.006 404.863 636.868 515.001 501.006 515.001V514.001C636.316 514.001 746.006 404.31 746.006 269.001Z" fill="#3371A5" class="general-1 accent"/>\n<path id="general-1-image" d="M501.003 23.5004C636.589 23.5004 746.503 133.414 746.503 269C746.503 404.586 636.589 514.5 501.003 514.5C365.417 514.5 255.503 404.586 255.503 269C255.503 133.414 365.417 23.5004 501.003 23.5004Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iu="circle_hero_pic",ip={key:iu,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,1,4),s=id.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iu,svgScalingFactor:ip.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"VqSfhV"}),icon:a.EvL,defaultColorScheme:null,stepSvgData:id,formattingMenu:G,defaultData:()=>w(id),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/circle_hero.5bb15861.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},ih=new Map(Object.entries({circle_post_it_2:'<svg class="circle_post_it-frame" width="871.915512" height="565.535212" viewBox="49.908094000000006 -14.767606 871.915512 565.535212" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_post_it-frame">\n<path id="general-2-no-border" d="M497.478 466.727C498.484 466.742 499.491 466.75 500.5 466.75V467.5C499.487 467.5 498.476 467.492 497.467 467.477L497.478 466.727ZM503.533 467.477C502.524 467.492 501.513 467.5 500.5 467.5V466.75C501.509 466.75 502.516 466.742 503.522 466.727L503.533 467.477ZM485.451 466.19C487.448 466.339 489.453 466.459 491.467 466.549L491.45 466.922L491.45 466.923L491.44 467.145L491.434 467.298C489.413 467.208 487.4 467.087 485.395 466.937L485.451 466.19ZM515.604 466.937C513.599 467.087 511.586 467.208 509.566 467.298L509.56 467.145L509.55 466.923L509.533 466.549C511.547 466.459 513.552 466.339 515.549 466.19L515.604 466.937ZM473.482 464.933C475.467 465.203 477.462 465.442 479.466 465.652L479.387 466.398C477.376 466.187 475.374 465.946 473.381 465.676L473.482 464.933ZM527.518 464.933L527.618 465.676C525.625 465.946 523.623 466.187 521.612 466.398L521.534 465.652C523.538 465.442 525.533 465.203 527.518 464.933ZM461.613 462.957C463.576 463.345 465.549 463.705 467.532 464.035L467.409 464.774C465.418 464.443 463.438 464.082 461.468 463.693L461.613 462.957ZM539.532 463.693C537.561 464.082 535.581 464.443 533.59 464.774L533.468 464.035C535.451 463.705 537.424 463.345 539.387 462.957L539.532 463.693ZM449.883 460.264C451.818 460.77 453.765 461.249 455.722 461.699L455.638 462.063L455.555 462.429C453.59 461.978 451.636 461.497 449.693 460.988L449.719 460.892L449.883 460.264ZM551.281 460.892L551.306 460.988C549.364 461.497 547.41 461.978 545.445 462.429L545.368 462.096L545.361 462.064L545.277 461.699C547.235 461.249 549.182 460.77 551.117 460.264L551.281 460.892ZM438.334 456.86C440.237 457.484 442.153 458.081 444.081 458.649L443.868 459.368C441.933 458.798 440.01 458.198 438.1 457.572L438.334 456.86ZM562.9 457.572C560.989 458.198 559.066 458.798 557.131 459.368L556.919 458.649C558.847 458.081 560.763 457.484 562.666 456.86L562.9 457.572ZM427.016 452.761C428.88 453.501 430.757 454.214 432.647 454.898L432.392 455.602C430.494 454.915 428.61 454.201 426.739 453.458L427.016 452.761ZM574.26 453.458C572.389 454.201 570.505 454.915 568.607 455.602L568.352 454.898C570.243 454.213 572.12 453.501 573.984 452.761L574.26 453.458ZM415.97 447.983C417.785 448.834 419.615 449.659 421.459 450.457L421.161 451.144C419.31 450.344 417.473 449.516 415.652 448.661L415.97 447.983ZM585.348 448.661C583.526 449.516 581.69 450.344 579.839 451.144L579.541 450.457C581.385 449.659 583.215 448.834 585.03 447.983L585.348 448.661ZM405.235 442.543C406.994 443.503 408.77 444.436 410.56 445.344L410.221 446.012C408.424 445.101 406.642 444.164 404.876 443.201L405.235 442.543ZM596.123 443.201C594.358 444.164 592.576 445.101 590.778 446.012L590.44 445.344C592.23 444.436 594.006 443.503 595.765 442.543L596.123 443.201ZM394.845 436.462C396.544 437.526 398.26 438.566 399.993 439.58L399.803 439.903L399.687 440.104L399.614 440.227C397.874 439.209 396.152 438.165 394.446 437.096L394.646 436.78L394.845 436.462ZM606.553 437.096C604.847 438.165 603.125 439.209 601.385 440.227L601.196 439.904L601.007 439.58C602.74 438.566 604.456 437.526 606.155 436.462L606.553 437.096ZM384.843 429.765C386.475 430.93 388.126 432.072 389.794 433.189L389.377 433.812C387.702 432.691 386.045 431.545 384.407 430.375L384.843 429.765ZM616.375 430.07L616.593 430.375C614.954 431.545 613.297 432.691 611.622 433.812L611.206 433.189C612.874 432.072 614.525 430.93 616.157 429.765L616.375 430.07ZM375.262 422.478C376.821 423.74 378.4 424.979 379.998 426.194L379.543 426.791C377.94 425.571 376.355 424.328 374.79 423.061L375.026 422.77L375.262 422.478ZM626.209 423.061C624.644 424.327 623.06 425.571 621.456 426.791L621.002 426.194C622.6 424.979 624.179 423.74 625.738 422.478L626.209 423.061ZM366.136 414.629C367.617 415.982 369.118 417.314 370.64 418.623L370.15 419.19C368.623 417.877 367.116 416.541 365.63 415.183L366.136 414.629ZM635.117 414.907L635.369 415.183C633.883 416.541 632.376 417.877 630.849 419.19L630.36 418.623C631.882 417.314 633.383 415.983 634.864 414.63L635.117 414.907ZM357.497 406.247C358.894 407.687 360.313 409.105 361.753 410.502L361.231 411.04C359.786 409.638 358.361 408.214 356.959 406.768L357.497 406.247ZM644.04 406.768C642.638 408.214 641.214 409.638 639.768 411.04L639.247 410.503C640.687 409.106 642.105 407.687 643.502 406.247L644.04 406.768ZM652.19 397.849C650.877 399.376 649.541 400.883 648.183 402.37L647.906 402.118L647.629 401.864C648.982 400.383 650.314 398.882 651.623 397.36L652.19 397.849ZM349.377 397.36C350.686 398.882 352.017 400.383 353.37 401.864L353.092 402.117L353.093 402.118L352.817 402.369C351.459 400.883 350.122 399.376 348.809 397.849L349.377 397.36ZM659.492 388.23L659.791 388.456C658.571 390.06 657.328 391.644 656.061 393.209L655.478 392.738C656.74 391.179 657.979 389.6 659.194 388.002L659.492 388.23ZM341.806 388.002C343.021 389.6 344.26 391.179 345.522 392.738L344.938 393.209C343.672 391.644 342.428 390.06 341.209 388.456L341.806 388.002ZM334.811 378.206C335.928 379.874 337.07 381.525 338.235 383.157L337.929 383.375L337.624 383.593C336.454 381.954 335.308 380.297 334.187 378.622L334.811 378.206ZM666.812 378.622C665.691 380.297 664.545 381.954 663.375 383.593L663.07 383.376L662.765 383.157C663.93 381.525 665.072 379.874 666.189 378.206L666.812 378.622ZM328.42 368.007C329.434 369.74 330.474 371.456 331.538 373.155L330.903 373.553C329.834 371.847 328.79 370.125 327.772 368.385L328.42 368.007ZM673.227 368.385C672.209 370.125 671.165 371.847 670.096 373.553L669.462 373.155C670.526 371.456 671.566 369.74 672.58 368.007L673.227 368.385ZM322.656 357.44C323.564 359.23 324.497 361.006 325.457 362.765L324.798 363.123C323.835 361.358 322.898 359.576 321.987 357.778L322.656 357.44ZM679.012 357.778C678.101 359.576 677.164 361.358 676.201 363.123L675.543 362.765C676.503 361.006 677.436 359.23 678.344 357.44L679.012 357.778ZM317.543 346.541C318.341 348.385 319.166 350.215 320.017 352.03L319.338 352.348C318.483 350.526 317.656 348.69 316.855 346.839L317.543 346.541ZM684.144 346.839C683.344 348.69 682.516 350.526 681.661 352.348L680.983 352.03C681.834 350.215 682.659 348.385 683.457 346.541L684.144 346.839ZM313.102 335.352C313.787 337.243 314.499 339.12 315.239 340.984L314.541 341.26C313.799 339.389 313.084 337.505 312.397 335.607L313.102 335.352ZM688.251 335.48L688.602 335.607C687.915 337.505 687.201 339.389 686.458 341.26L685.761 340.984C686.501 339.12 687.214 337.243 687.898 335.353L688.251 335.48ZM309.351 323.919C309.919 325.847 310.516 327.763 311.14 329.666L310.428 329.9C309.801 327.989 309.202 326.066 308.631 324.131L309.351 323.919ZM692.368 324.131C691.798 326.066 691.198 327.989 690.572 329.9L689.86 329.666C690.484 327.763 691.081 325.847 691.649 323.919L692.368 324.131ZM306.301 312.277C306.751 314.235 307.23 316.182 307.736 318.117L307.011 318.306C306.502 316.364 306.021 314.41 305.57 312.445L306.301 312.277ZM695.429 312.445C694.978 314.41 694.497 316.364 693.988 318.306L693.264 318.117C693.77 316.182 694.249 314.235 694.699 312.277L695.429 312.445ZM303.965 300.468C304.295 302.451 304.655 304.424 305.043 306.387L304.307 306.532C303.917 304.562 303.556 302.581 303.225 300.59L303.965 300.468ZM697.774 300.59C697.443 302.581 697.082 304.561 696.693 306.532L696.325 306.46L695.957 306.387C696.345 304.424 696.705 302.451 697.035 300.468L697.774 300.59ZM302.348 288.534C302.558 290.538 302.797 292.533 303.067 294.518L302.323 294.618C302.053 292.625 301.813 290.623 301.602 288.612L302.348 288.534ZM699.398 288.612C699.187 290.623 698.946 292.625 698.676 294.618L698.305 294.569L697.933 294.518C698.203 292.533 698.442 290.538 698.652 288.534L699.398 288.612ZM301.451 276.533C301.541 278.547 301.661 280.552 301.81 282.549L301.062 282.604C300.912 280.599 300.792 278.586 300.702 276.566L301.451 276.533ZM699.922 276.55L700.298 276.566C700.208 278.586 700.087 280.599 699.937 282.604L699.19 282.549C699.339 280.552 699.459 278.547 699.549 276.533L699.922 276.55ZM300.5 267.5C300.5 266.487 300.508 265.476 300.523 264.467L301.273 264.478C301.258 265.484 301.25 266.491 301.25 267.5C301.25 268.509 301.258 269.516 301.273 270.522L300.523 270.533C300.508 269.524 300.5 268.513 300.5 267.5ZM700.5 267.5C700.5 268.513 700.492 269.524 700.477 270.533L699.727 270.522C699.742 269.516 699.75 268.509 699.75 267.5C699.75 266.491 699.742 265.484 699.727 264.478L700.477 264.467C700.492 265.476 700.5 266.487 700.5 267.5ZM301.81 252.451C301.661 254.448 301.541 256.453 301.451 258.467L301.077 258.45L300.702 258.434C300.792 256.413 300.912 254.4 301.062 252.395L301.81 252.451ZM699.937 252.395C700.087 254.4 700.208 256.413 700.298 258.434L699.923 258.45L699.922 258.45L699.549 258.467C699.459 256.453 699.339 254.448 699.19 252.451L699.937 252.395ZM302.695 240.431L303.067 240.482C302.797 242.467 302.558 244.462 302.348 246.466L301.602 246.387C301.813 244.376 302.053 242.374 302.323 240.381L302.695 240.431ZM698.676 240.381C698.946 242.374 699.187 244.376 699.398 246.387L698.652 246.466C698.442 244.462 698.203 242.467 697.933 240.482L698.305 240.431L698.676 240.381ZM304.675 228.54L305.043 228.613C304.655 230.576 304.295 232.549 303.965 234.532L303.225 234.409C303.556 232.418 303.917 230.438 304.307 228.468L304.675 228.54ZM696.693 228.468C697.082 230.438 697.443 232.418 697.774 234.409L697.035 234.532C696.705 232.549 696.345 230.576 695.957 228.613L696.325 228.54L696.693 228.468ZM307.736 216.883C307.23 218.818 306.751 220.765 306.301 222.722L305.936 222.638L305.57 222.555C306.021 220.59 306.502 218.636 307.011 216.693L307.736 216.883ZM693.988 216.693C694.497 218.636 694.978 220.59 695.429 222.555L695.064 222.639L695.063 222.638L694.699 222.722C694.249 220.765 693.77 218.818 693.264 216.883L693.988 216.693ZM311.14 205.334C310.516 207.237 309.919 209.153 309.351 211.081L308.631 210.868C309.202 208.933 309.801 207.01 310.428 205.1L311.14 205.334ZM690.572 205.1C691.198 207.01 691.798 208.933 692.368 210.868L691.649 211.081C691.081 209.153 690.484 207.237 689.86 205.334L690.572 205.1ZM686.458 193.739C687.201 195.61 687.915 197.494 688.602 199.392L687.898 199.648C687.213 197.757 686.501 195.88 685.761 194.016L686.458 193.739ZM315.239 194.016C314.499 195.88 313.786 197.757 313.102 199.647L312.397 199.392C313.084 197.494 313.799 195.61 314.541 193.739L315.239 194.016ZM320.017 182.97C319.166 184.785 318.341 186.615 317.543 188.459L316.855 188.161C317.656 186.31 318.483 184.473 319.338 182.652L320.017 182.97ZM681.661 182.652C682.516 184.473 683.344 186.31 684.144 188.161L683.457 188.459C682.659 186.615 681.834 184.785 680.983 182.97L681.661 182.652ZM325.128 172.056L325.457 172.235C324.497 173.994 323.564 175.77 322.656 177.56L321.987 177.221C322.898 175.424 323.835 173.642 324.798 171.876L325.128 172.056ZM676.201 171.876C677.164 173.642 678.101 175.424 679.012 177.221L678.344 177.56C677.436 175.77 676.503 173.994 675.543 172.235L676.201 171.876ZM331.538 161.845C330.474 163.544 329.434 165.26 328.42 166.993L328.096 166.803L327.772 166.614C328.79 164.874 329.834 163.152 330.903 161.446L331.538 161.845ZM670.096 161.446C671.165 163.152 672.209 164.874 673.227 166.614L672.904 166.804L672.903 166.803L672.58 166.993C671.566 165.26 670.526 163.544 669.462 161.845L670.096 161.446ZM337.93 151.624L338.235 151.843C337.07 153.475 335.928 155.126 334.811 156.794L334.187 156.377C335.308 154.702 336.454 153.045 337.624 151.407L337.93 151.624ZM663.375 151.407C664.545 153.045 665.691 154.702 666.812 156.377L666.189 156.794C665.072 155.126 663.93 153.475 662.765 151.843L663.375 151.407ZM345.522 142.262C344.26 143.821 343.021 145.4 341.806 146.998L341.209 146.543C342.428 144.94 343.672 143.355 344.938 141.79L345.522 142.262ZM656.061 141.791C657.327 143.356 658.571 144.94 659.791 146.543L659.194 146.998C657.979 145.4 656.74 143.821 655.478 142.262L656.061 141.791ZM353.094 132.882L353.371 133.136C352.017 134.617 350.686 136.118 349.377 137.64L348.809 137.15C350.123 135.623 351.458 134.116 352.817 132.63L353.094 132.882ZM648.183 132.63C649.541 134.117 650.877 135.623 652.19 137.15L651.623 137.64C650.314 136.118 648.983 134.617 647.63 133.136L648.183 132.63ZM361.753 124.497C360.313 125.894 358.895 127.313 357.498 128.753L356.959 128.231C358.361 126.786 359.786 125.361 361.231 123.959L361.753 124.497ZM639.768 123.959C641.214 125.361 642.638 126.786 644.04 128.231L643.503 128.753C642.106 127.313 640.687 125.895 639.247 124.498L639.768 123.959ZM630.849 115.809C632.376 117.123 633.883 118.458 635.37 119.817L635.118 120.093L634.864 120.371C633.383 119.017 631.882 117.686 630.36 116.377L630.849 115.809ZM370.64 116.377C369.118 117.686 367.617 119.017 366.136 120.37L365.63 119.817C367.117 118.459 368.623 117.122 370.15 115.809L370.64 116.377ZM379.998 108.806C378.4 110.021 376.821 111.26 375.262 112.522L374.791 111.938C376.356 110.672 377.94 109.428 379.543 108.209L379.998 108.806ZM621.456 108.209C623.06 109.428 624.644 110.672 626.209 111.938L625.738 112.522C624.179 111.26 622.6 110.021 621.002 108.806L621.456 108.209ZM389.794 101.811C388.126 102.928 386.475 104.07 384.843 105.235L384.407 104.624C386.045 103.454 387.702 102.308 389.377 101.187L389.794 101.811ZM611.622 101.187C613.297 102.308 614.954 103.454 616.593 104.624L616.157 105.235C614.525 104.07 612.874 102.928 611.206 101.811L611.622 101.187ZM399.993 95.4198C398.26 96.434 396.544 97.4736 394.845 98.5382L394.446 97.9028C396.152 96.8341 397.874 95.7901 399.614 94.7719L399.993 95.4198ZM601.385 94.7719C603.125 95.7901 604.847 96.8341 606.553 97.9028L606.155 98.5382C604.456 97.4736 602.74 96.434 601.007 95.4198L601.385 94.7719ZM410.56 89.6564C408.77 90.5638 406.994 91.4974 405.235 92.4568L404.876 91.7979C406.642 90.8349 408.424 89.8981 410.221 88.9873L410.56 89.6564ZM590.778 88.9873C592.576 89.8981 594.358 90.8349 596.123 91.7979L595.765 92.4568C594.006 91.4974 592.23 90.5638 590.44 89.6564L590.778 88.9873ZM421.459 84.5431C419.615 85.3408 417.785 86.166 415.97 87.0173L415.652 86.3379C417.473 85.4834 419.31 84.6557 421.161 83.8549L421.459 84.5431ZM579.839 83.8549C581.69 84.6557 583.526 85.4834 585.348 86.3379L585.03 87.0173C583.215 86.166 581.385 85.3408 579.541 84.5431L579.839 83.8549ZM432.648 80.1019C430.757 80.7865 428.88 81.4992 427.016 82.2389L426.739 81.5412C428.61 80.7987 430.494 80.0841 432.392 79.3968L432.648 80.1019ZM568.607 79.3968C570.505 80.0841 572.389 80.7987 574.26 81.5412L573.984 82.2389C572.12 81.4992 570.243 80.7865 568.353 80.1019L568.607 79.3968ZM444.081 76.351C442.153 76.9191 440.237 77.5156 438.334 78.14L438.1 77.4276C440.01 76.8008 441.933 76.2016 443.868 75.6313L444.081 76.351ZM557.131 75.6313C559.066 76.2016 560.989 76.8008 562.9 77.4276L562.666 78.14C560.763 77.5156 558.847 76.9191 556.919 76.351L557.131 75.6313ZM455.632 72.9065L455.722 73.3015C453.765 73.751 451.818 74.2297 449.883 74.7365L449.693 74.0109C451.636 73.5022 453.59 73.0213 455.555 72.5701L455.632 72.9065ZM545.445 72.5701C547.41 73.0213 549.364 73.5022 551.306 74.0109L551.117 74.7365C549.182 74.2297 547.235 73.751 545.277 73.3015L545.445 72.5701ZM467.532 70.9651C465.549 71.2952 463.576 71.6549 461.613 72.0431L461.54 71.6745L461.468 71.3066C463.438 70.9168 465.418 70.5563 467.409 70.2248L467.532 70.9651ZM533.59 70.2248C535.581 70.5563 537.561 70.9168 539.532 71.3066L539.46 71.6752L539.459 71.6745L539.387 72.0431C537.424 71.6549 535.451 71.2952 533.468 70.9651L533.59 70.2248ZM479.466 69.3476C477.462 69.5578 475.467 69.7974 473.482 70.0665L473.431 69.6942L473.381 69.3234C475.374 69.0533 477.376 68.8125 479.387 68.6015L479.466 69.3476ZM521.612 68.6015C523.623 68.8125 525.625 69.0533 527.618 69.3234L527.569 69.695L527.568 69.6942L527.518 70.0665C525.533 69.7974 523.538 69.5578 521.534 69.3476L521.612 68.6015ZM491.446 67.9903L491.467 68.4513C489.453 68.5411 487.448 68.6613 485.451 68.8104L485.395 68.0621C487.4 67.9124 489.413 67.7917 491.434 67.7015L491.446 67.9903ZM509.566 67.7015C511.586 67.7917 513.599 67.9124 515.604 68.0621L515.549 68.8104C513.552 68.6613 511.547 68.5411 509.533 68.4513L509.554 67.9903L509.566 67.7015ZM500.5 67.5C501.513 67.5 502.524 67.5077 503.533 67.5227L503.522 68.2732C502.516 68.2582 501.509 68.2505 500.5 68.2505C499.491 68.2505 498.484 68.2582 497.478 68.2732L497.467 67.5227C498.476 67.5077 499.487 67.5 500.5 67.5Z" fill="#3371A5" class="general-2 no-border accent"/>\n<path id="general-1-no-border" d="M765.919 268C765.919 121.689 647.311 3.0813 501 3.0813C354.689 3.0813 236.081 121.689 236.081 268C236.081 414.311 354.689 532.919 501 532.919V534C354.092 534 235 414.908 235 268C235 121.092 354.092 2 501 2C647.908 2 767 121.092 767 268C767 414.908 647.908 534 501 534V532.919C647.311 532.919 765.919 414.311 765.919 268Z" fill="#3371A5" class="general-1 no-border accent"/>\n<circle id="general-1-image" cx="500.3118591308594" cy="267.2052001953125" r="170" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M266.112 37.4609C271.051 37.4609 275.055 41.465 275.055 46.4043V193.272C275.055 193.592 274.779 193.824 274.459 193.842L231.627 196.298C227.566 196.531 224.173 199.475 223.371 203.463L215.02 244.963C214.921 245.456 214.52 245.841 214.017 245.841H75.619C70.6798 245.841 66.6757 241.837 66.6757 236.897V68.6901C66.6757 56 66.6757 64 66.6757 55C66.6757 44.1648 66.6757 42.3144 68.2167 39.9273C69.2541 38.3204 71.1378 37.4609 73.0504 37.4609C84.3124 37.4609 86.6367 37.4609 100.123 37.4609H266.112ZM215.652 245.601C215.618 245.613 215.583 245.622 215.548 245.633C215.599 245.616 215.651 245.6 215.702 245.582C215.685 245.588 215.669 245.596 215.652 245.601ZM274.814 194.362C274.808 194.373 274.8 194.384 274.794 194.395C274.808 194.368 274.822 194.341 274.835 194.314C274.828 194.33 274.821 194.347 274.814 194.362Z" fill="#FAF5EB" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M275.053 193.851C275.053 193.856 275.052 193.86 275.05 193.865C274.83 194.355 274.562 194.874 274.25 195.408C273.874 196.053 273.371 196.612 272.807 197.101L221.01 242.052C221.004 242.057 220.995 242.058 220.988 242.053C220.977 242.046 220.963 242.052 220.959 242.064C220.955 242.075 220.952 242.086 220.948 242.097C220.945 242.105 220.94 242.112 220.934 242.118L218.921 243.865C218.434 244.287 217.907 244.665 217.323 244.938C217.15 245.019 216.973 245.098 216.792 245.175C216.128 245.456 215.477 245.68 214.869 245.846L214.864 245.846C214.854 245.846 214.846 245.837 214.848 245.826L223.37 203.469C224.173 199.481 227.565 196.537 231.626 196.304L275.017 193.816C275.037 193.815 275.053 193.831 275.053 193.851Z" fill="#FCF9F3" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="171.83" cy="37.83" r="26.83" fill="#3371A5" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="159" y="25" width="25" height="25" class="step-1 image accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="80.16863864660263" y="75.06212991476059" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="56.4999" y="26.5" width="229" height="230" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M896.112 303.461C901.052 303.461 905.056 307.465 905.056 312.404V459.272C905.056 459.592 904.779 459.824 904.459 459.842L861.627 462.298C857.566 462.531 854.174 465.475 853.371 469.463L845.021 510.963C844.921 511.456 844.521 511.841 844.017 511.841H705.619C700.68 511.841 696.676 507.837 696.676 502.897V334.69C696.676 322 696.676 330 696.676 321C696.676 310.165 696.676 308.314 698.217 305.927C699.254 304.32 701.138 303.461 703.051 303.461C714.313 303.461 716.637 303.461 730.123 303.461H896.112ZM845.652 511.601C845.618 511.613 845.583 511.622 845.548 511.633C845.599 511.616 845.651 511.6 845.702 511.582C845.685 511.588 845.669 511.596 845.652 511.601ZM904.814 460.362C904.808 460.373 904.8 460.384 904.795 460.395C904.808 460.368 904.822 460.341 904.836 460.314C904.828 460.33 904.822 460.347 904.814 460.362Z" fill="#FAF5EB" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M905.054 459.851C905.054 459.856 905.053 459.86 905.051 459.865C904.83 460.355 904.562 460.874 904.25 461.408C903.874 462.053 903.371 462.612 902.808 463.101L851.01 508.052C851.004 508.057 850.995 508.058 850.988 508.053C850.977 508.046 850.963 508.052 850.959 508.064C850.956 508.075 850.952 508.086 850.948 508.097C850.945 508.105 850.94 508.112 850.934 508.118L848.921 509.865C848.434 510.287 847.907 510.665 847.323 510.938C847.15 511.019 846.973 511.098 846.793 511.175C846.128 511.456 845.477 511.68 844.869 511.846L844.865 511.846C844.854 511.846 844.846 511.837 844.848 511.826L853.37 469.469C854.173 465.481 857.565 462.537 861.626 462.304L905.017 459.816C905.037 459.815 905.054 459.831 905.054 459.851Z" fill="#FCF9F3" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="801.83" cy="303.83" r="26.83" fill="#3371A5" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="789" y="291" width="25" height="25" class="step-2 image accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="710.1688232421875" y="341.0621337890625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="686.5" y="292.5" width="229" height="230" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',circle_post_it_3:'<svg class="circle_post_it-frame" width="871.9154080000001" height="565.535208" viewBox="49.90819599999999 -14.767604000000002 871.9154080000001 565.535208" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_post_it-frame">\n<path id="general-1-no-border" d="M765.919 268C765.919 121.689 647.311 3.0813 501 3.0813C354.689 3.0813 236.081 121.689 236.081 268C236.081 414.311 354.689 532.919 501 532.919V534C354.092 534 235 414.908 235 268C235 121.092 354.092 2 501 2C647.908 2 767 121.092 767 268C767 414.908 647.908 534 501 534V532.919C647.311 532.919 765.919 414.311 765.919 268Z" fill="#3371A5" class="general-1 no-border accent"/>\n<path id="general-2-no-border" d="M497.978 467.227C498.984 467.242 499.991 467.25 501 467.25V468C499.987 468 498.976 467.992 497.967 467.977L497.978 467.227ZM504.033 467.977C503.024 467.992 502.013 468 501 468V467.25C502.009 467.25 503.016 467.242 504.022 467.227L504.033 467.977ZM485.951 466.69C487.948 466.839 489.953 466.959 491.967 467.049L491.95 467.422L491.95 467.423L491.94 467.645L491.934 467.798C489.913 467.708 487.9 467.587 485.895 467.437L485.951 466.69ZM516.104 467.437C514.099 467.587 512.086 467.708 510.066 467.798L510.06 467.645L510.05 467.423L510.033 467.049C512.047 466.959 514.052 466.839 516.049 466.69L516.104 467.437ZM473.982 465.433C475.967 465.703 477.962 465.942 479.966 466.152L479.887 466.898C477.876 466.687 475.874 466.446 473.881 466.176L473.982 465.433ZM528.018 465.433L528.118 466.176C526.125 466.446 524.123 466.687 522.112 466.898L522.034 466.152C524.038 465.942 526.033 465.703 528.018 465.433ZM462.113 463.457C464.076 463.845 466.049 464.205 468.032 464.535L467.909 465.274C465.918 464.943 463.938 464.582 461.968 464.193L462.113 463.457ZM540.032 464.193C538.061 464.582 536.081 464.943 534.09 465.274L533.968 464.535C535.951 464.205 537.924 463.845 539.887 463.457L540.032 464.193ZM450.383 460.764C452.318 461.27 454.265 461.749 456.223 462.199L456.138 462.563L456.055 462.929C454.09 462.478 452.136 461.997 450.193 461.488L450.219 461.392L450.383 460.764ZM551.781 461.392L551.806 461.488C549.864 461.997 547.91 462.478 545.945 462.929L545.868 462.596L545.861 462.564L545.777 462.199C547.735 461.749 549.682 461.27 551.617 460.764L551.781 461.392ZM438.834 457.36C440.737 457.984 442.653 458.581 444.581 459.149L444.368 459.868C442.433 459.298 440.51 458.698 438.6 458.072L438.834 457.36ZM563.4 458.072C561.489 458.698 559.566 459.298 557.631 459.868L557.419 459.149C559.347 458.581 561.263 457.984 563.166 457.36L563.4 458.072ZM427.516 453.261C429.38 454.001 431.257 454.714 433.147 455.398L432.892 456.102C430.994 455.415 429.11 454.701 427.239 453.958L427.516 453.261ZM574.76 453.958C572.889 454.701 571.005 455.415 569.107 456.102L568.852 455.398C570.743 454.713 572.62 454.001 574.484 453.261L574.76 453.958ZM416.47 448.483C418.285 449.334 420.115 450.159 421.959 450.957L421.661 451.644C419.81 450.844 417.973 450.016 416.152 449.161L416.47 448.483ZM585.848 449.161C584.026 450.016 582.19 450.844 580.339 451.644L580.041 450.957C581.885 450.159 583.715 449.334 585.53 448.483L585.848 449.161ZM405.735 443.043C407.494 444.003 409.27 444.936 411.06 445.844L410.721 446.512C408.924 445.601 407.142 444.664 405.376 443.701L405.735 443.043ZM596.623 443.701C594.858 444.664 593.076 445.601 591.278 446.512L590.94 445.844C592.73 444.936 594.506 444.003 596.265 443.043L596.623 443.701ZM395.345 436.962C397.044 438.026 398.76 439.066 400.493 440.08L400.303 440.403L400.187 440.604L400.114 440.727C398.374 439.709 396.652 438.665 394.946 437.596L395.146 437.28L395.345 436.962ZM607.053 437.596C605.347 438.665 603.625 439.709 601.885 440.727L601.696 440.404L601.507 440.08C603.24 439.066 604.956 438.026 606.655 436.962L607.053 437.596ZM385.343 430.265C386.975 431.43 388.626 432.572 390.294 433.689L389.877 434.312C388.202 433.191 386.545 432.045 384.907 430.875L385.343 430.265ZM616.875 430.57L617.093 430.875C615.454 432.045 613.797 433.191 612.122 434.312L611.706 433.689C613.374 432.572 615.025 431.43 616.657 430.265L616.875 430.57ZM375.762 422.978C377.321 424.24 378.9 425.479 380.498 426.694L380.043 427.291C378.44 426.071 376.855 424.828 375.29 423.561L375.526 423.27L375.762 422.978ZM626.709 423.561C625.144 424.827 623.56 426.071 621.956 427.291L621.502 426.694C623.1 425.479 624.679 424.24 626.238 422.978L626.709 423.561ZM366.636 415.129C368.117 416.482 369.618 417.814 371.14 419.123L370.65 419.69C369.123 418.377 367.616 417.041 366.13 415.683L366.636 415.129ZM635.617 415.407L635.869 415.683C634.383 417.041 632.876 418.377 631.349 419.69L630.86 419.123C632.382 417.814 633.883 416.483 635.364 415.13L635.617 415.407ZM357.997 406.747C359.394 408.187 360.813 409.605 362.253 411.002L361.731 411.54C360.286 410.138 358.861 408.714 357.459 407.268L357.997 406.747ZM644.54 407.268C643.138 408.714 641.714 410.138 640.268 411.54L639.747 411.003C641.187 409.606 642.605 408.187 644.002 406.747L644.54 407.268ZM652.69 398.349C651.377 399.876 650.041 401.383 648.683 402.87L648.406 402.618L648.129 402.364C649.482 400.883 650.814 399.382 652.123 397.86L652.69 398.349ZM349.877 397.86C351.186 399.382 352.517 400.883 353.87 402.364L353.592 402.617L353.593 402.618L353.317 402.869C351.959 401.383 350.622 399.876 349.309 398.349L349.877 397.86ZM659.992 388.729L660.291 388.956C659.071 390.56 657.828 392.144 656.561 393.709L655.978 393.238C657.24 391.679 658.479 390.1 659.694 388.502L659.992 388.729ZM342.306 388.502C343.521 390.1 344.76 391.679 346.022 393.238L345.438 393.709C344.172 392.144 342.928 390.56 341.709 388.956L342.306 388.502ZM335.311 378.706C336.428 380.374 337.57 382.025 338.735 383.657L338.429 383.875L338.124 384.093C336.954 382.454 335.808 380.797 334.687 379.122L335.311 378.706ZM667.312 379.122C666.191 380.797 665.045 382.454 663.875 384.093L663.57 383.876L663.265 383.657C664.43 382.025 665.572 380.374 666.689 378.706L667.312 379.122ZM328.92 368.507C329.934 370.24 330.974 371.956 332.038 373.655L331.403 374.053C330.334 372.347 329.29 370.625 328.272 368.885L328.92 368.507ZM673.727 368.885C672.709 370.625 671.665 372.347 670.596 374.053L669.962 373.655C671.026 371.956 672.066 370.24 673.08 368.507L673.727 368.885ZM323.156 357.94C324.064 359.73 324.997 361.506 325.957 363.265L325.298 363.623C324.335 361.858 323.398 360.076 322.487 358.278L323.156 357.94ZM679.512 358.278C678.601 360.076 677.664 361.858 676.701 363.623L676.043 363.265C677.003 361.506 677.936 359.73 678.844 357.94L679.512 358.278ZM318.043 347.041C318.841 348.885 319.666 350.715 320.517 352.53L319.838 352.848C318.983 351.026 318.156 349.19 317.355 347.339L318.043 347.041ZM684.644 347.339C683.844 349.19 683.016 351.026 682.161 352.848L681.483 352.53C682.334 350.715 683.159 348.885 683.957 347.041L684.644 347.339ZM313.602 335.852C314.287 337.743 314.999 339.62 315.739 341.484L315.041 341.76C314.299 339.889 313.584 338.005 312.897 336.107L313.602 335.852ZM688.751 335.98L689.102 336.107C688.415 338.005 687.701 339.889 686.958 341.76L686.261 341.484C687.001 339.62 687.714 337.743 688.398 335.853L688.751 335.98ZM309.851 324.419C310.419 326.347 311.016 328.263 311.64 330.166L310.928 330.4C310.301 328.489 309.702 326.566 309.131 324.631L309.851 324.419ZM692.868 324.631C692.298 326.566 691.698 328.489 691.072 330.4L690.36 330.166C690.984 328.263 691.581 326.347 692.149 324.419L692.868 324.631ZM306.801 312.777C307.251 314.735 307.73 316.682 308.236 318.617L307.511 318.806C307.002 316.864 306.521 314.91 306.07 312.945L306.801 312.777ZM695.929 312.945C695.478 314.91 694.997 316.864 694.488 318.806L693.764 318.617C694.27 316.682 694.749 314.735 695.199 312.777L695.929 312.945ZM304.465 300.968C304.795 302.951 305.155 304.924 305.543 306.887L304.807 307.032C304.417 305.062 304.056 303.081 303.725 301.09L304.465 300.968ZM698.274 301.09C697.943 303.081 697.582 305.061 697.193 307.032L696.825 306.96L696.457 306.887C696.845 304.924 697.205 302.951 697.535 300.968L698.274 301.09ZM302.848 289.034C303.058 291.038 303.297 293.033 303.567 295.018L302.823 295.118C302.553 293.125 302.313 291.123 302.102 289.112L302.848 289.034ZM699.898 289.112C699.687 291.123 699.446 293.125 699.176 295.118L698.805 295.069L698.433 295.018C698.703 293.033 698.942 291.038 699.152 289.034L699.898 289.112ZM301.951 277.033C302.041 279.047 302.161 281.052 302.31 283.049L301.562 283.104C301.412 281.099 301.292 279.086 301.202 277.066L301.951 277.033ZM700.422 277.05L700.798 277.066C700.708 279.086 700.587 281.099 700.437 283.104L699.69 283.049C699.839 281.052 699.959 279.047 700.049 277.033L700.422 277.05ZM301 268C301 266.987 301.008 265.976 301.023 264.967L301.773 264.978C301.758 265.984 301.75 266.991 301.75 268C301.75 269.009 301.758 270.016 301.773 271.022L301.023 271.033C301.008 270.024 301 269.013 301 268ZM701 268C701 269.013 700.992 270.024 700.977 271.033L700.227 271.022C700.242 270.016 700.25 269.009 700.25 268C700.25 266.991 700.242 265.984 700.227 264.978L700.977 264.967C700.992 265.976 701 266.987 701 268ZM302.31 252.951C302.161 254.948 302.041 256.953 301.951 258.967L301.577 258.95L301.202 258.934C301.292 256.913 301.412 254.9 301.562 252.895L302.31 252.951ZM700.437 252.895C700.587 254.9 700.708 256.913 700.798 258.934L700.423 258.95L700.422 258.95L700.049 258.967C699.959 256.953 699.839 254.948 699.69 252.951L700.437 252.895ZM303.195 240.931L303.567 240.982C303.297 242.967 303.058 244.962 302.848 246.966L302.102 246.887C302.313 244.876 302.553 242.874 302.823 240.881L303.195 240.931ZM699.176 240.881C699.446 242.874 699.687 244.876 699.898 246.887L699.152 246.966C698.942 244.962 698.703 242.967 698.433 240.982L698.805 240.931L699.176 240.881ZM305.175 229.04L305.543 229.113C305.155 231.076 304.795 233.049 304.465 235.032L303.725 234.909C304.056 232.918 304.417 230.938 304.807 228.968L305.175 229.04ZM697.193 228.968C697.582 230.938 697.943 232.918 698.274 234.909L697.535 235.032C697.205 233.049 696.845 231.076 696.457 229.113L696.825 229.04L697.193 228.968ZM308.236 217.383C307.73 219.318 307.251 221.265 306.801 223.223L306.436 223.138L306.07 223.055C306.521 221.09 307.002 219.136 307.511 217.193L308.236 217.383ZM694.488 217.193C694.997 219.136 695.478 221.09 695.929 223.055L695.564 223.139L695.563 223.138L695.199 223.223C694.749 221.265 694.27 219.318 693.764 217.383L694.488 217.193ZM311.64 205.834C311.016 207.737 310.419 209.653 309.851 211.581L309.131 211.368C309.702 209.433 310.301 207.51 310.928 205.6L311.64 205.834ZM691.072 205.6C691.698 207.51 692.298 209.433 692.868 211.368L692.149 211.581C691.581 209.653 690.984 207.737 690.36 205.834L691.072 205.6ZM686.958 194.239C687.701 196.11 688.415 197.994 689.102 199.892L688.398 200.148C687.713 198.257 687.001 196.38 686.261 194.516L686.958 194.239ZM315.739 194.516C314.999 196.38 314.286 198.257 313.602 200.147L312.897 199.892C313.584 197.994 314.299 196.11 315.041 194.239L315.739 194.516ZM320.517 183.47C319.666 185.285 318.841 187.115 318.043 188.959L317.355 188.661C318.156 186.81 318.983 184.973 319.838 183.152L320.517 183.47ZM682.161 183.152C683.016 184.973 683.844 186.81 684.644 188.661L683.957 188.959C683.159 187.115 682.334 185.285 681.483 183.47L682.161 183.152ZM325.628 172.556L325.957 172.735C324.997 174.494 324.064 176.27 323.156 178.06L322.487 177.721C323.398 175.924 324.335 174.142 325.298 172.376L325.628 172.556ZM676.701 172.376C677.664 174.142 678.601 175.924 679.512 177.721L678.844 178.06C677.936 176.27 677.003 174.494 676.043 172.735L676.701 172.376ZM332.038 162.345C330.974 164.044 329.934 165.76 328.92 167.493L328.596 167.303L328.272 167.114C329.29 165.374 330.334 163.652 331.403 161.946L332.038 162.345ZM670.596 161.946C671.665 163.652 672.709 165.374 673.727 167.114L673.404 167.304L673.403 167.303L673.08 167.493C672.066 165.76 671.026 164.044 669.962 162.345L670.596 161.946ZM338.43 152.124L338.735 152.343C337.57 153.975 336.428 155.626 335.311 157.294L334.687 156.877C335.808 155.202 336.954 153.545 338.124 151.907L338.43 152.124ZM663.875 151.907C665.045 153.545 666.191 155.202 667.312 156.877L666.689 157.294C665.572 155.626 664.43 153.975 663.265 152.343L663.875 151.907ZM346.022 142.762C344.76 144.321 343.521 145.9 342.306 147.498L341.709 147.043C342.928 145.44 344.172 143.855 345.438 142.29L346.022 142.762ZM656.561 142.291C657.827 143.856 659.071 145.44 660.291 147.043L659.694 147.498C658.479 145.9 657.24 144.321 655.978 142.762L656.561 142.291ZM353.594 133.382L353.871 133.636C352.517 135.117 351.186 136.618 349.877 138.14L349.309 137.65C350.623 136.123 351.958 134.616 353.317 133.13L353.594 133.382ZM648.683 133.13C650.041 134.617 651.377 136.123 652.69 137.65L652.123 138.14C650.814 136.618 649.483 135.117 648.13 133.636L648.683 133.13ZM362.253 124.997C360.813 126.394 359.395 127.813 357.998 129.253L357.459 128.731C358.861 127.286 360.286 125.861 361.731 124.459L362.253 124.997ZM640.268 124.459C641.714 125.861 643.138 127.286 644.54 128.731L644.003 129.253C642.606 127.813 641.187 126.395 639.747 124.998L640.268 124.459ZM631.349 116.309C632.876 117.623 634.383 118.958 635.87 120.317L635.618 120.593L635.364 120.871C633.883 119.517 632.382 118.186 630.86 116.877L631.349 116.309ZM371.14 116.877C369.618 118.186 368.117 119.517 366.636 120.87L366.13 120.317C367.617 118.959 369.123 117.622 370.65 116.309L371.14 116.877ZM380.498 109.306C378.9 110.521 377.321 111.76 375.762 113.022L375.291 112.438C376.856 111.172 378.44 109.928 380.043 108.709L380.498 109.306ZM621.956 108.709C623.56 109.928 625.144 111.172 626.709 112.438L626.238 113.022C624.679 111.76 623.1 110.521 621.502 109.306L621.956 108.709ZM390.294 102.311C388.626 103.428 386.975 104.57 385.343 105.735L384.907 105.124C386.545 103.954 388.202 102.808 389.877 101.687L390.294 102.311ZM612.122 101.687C613.797 102.808 615.454 103.954 617.093 105.124L616.657 105.735C615.025 104.57 613.374 103.428 611.706 102.311L612.122 101.687ZM400.493 95.9198C398.76 96.934 397.044 97.9736 395.345 99.0382L394.946 98.4028C396.652 97.3341 398.374 96.2901 400.114 95.2719L400.493 95.9198ZM601.885 95.2719C603.625 96.2901 605.347 97.3341 607.053 98.4028L606.655 99.0382C604.956 97.9736 603.24 96.934 601.507 95.9198L601.885 95.2719ZM411.06 90.1564C409.27 91.0638 407.494 91.9974 405.735 92.9568L405.376 92.2979C407.142 91.3349 408.924 90.3981 410.721 89.4873L411.06 90.1564ZM591.278 89.4873C593.076 90.3981 594.858 91.3349 596.623 92.2979L596.265 92.9568C594.506 91.9974 592.73 91.0638 590.94 90.1564L591.278 89.4873ZM421.959 85.0431C420.115 85.8408 418.285 86.666 416.47 87.5173L416.152 86.8379C417.973 85.9834 419.81 85.1557 421.661 84.3549L421.959 85.0431ZM580.339 84.3549C582.19 85.1557 584.026 85.9834 585.848 86.8379L585.53 87.5173C583.715 86.666 581.885 85.8408 580.041 85.0431L580.339 84.3549ZM433.148 80.6019C431.257 81.2865 429.38 81.9992 427.516 82.7389L427.239 82.0412C429.11 81.2987 430.994 80.5841 432.892 79.8968L433.148 80.6019ZM569.107 79.8968C571.005 80.5841 572.889 81.2987 574.76 82.0412L574.484 82.7389C572.62 81.9992 570.743 81.2865 568.853 80.6019L569.107 79.8968ZM444.581 76.851C442.653 77.4191 440.737 78.0156 438.834 78.64L438.6 77.9276C440.51 77.3008 442.433 76.7016 444.368 76.1313L444.581 76.851ZM557.631 76.1313C559.566 76.7016 561.489 77.3008 563.4 77.9276L563.166 78.64C561.263 78.0156 559.347 77.4191 557.419 76.851L557.631 76.1313ZM456.132 73.4065L456.223 73.8015C454.265 74.251 452.318 74.7297 450.383 75.2365L450.193 74.5109C452.136 74.0022 454.09 73.5213 456.055 73.0701L456.132 73.4065ZM545.945 73.0701C547.91 73.5213 549.864 74.0022 551.806 74.5109L551.617 75.2365C549.682 74.7297 547.735 74.251 545.777 73.8015L545.945 73.0701ZM468.032 71.4651C466.049 71.7952 464.076 72.1549 462.113 72.5431L462.04 72.1745L461.968 71.8066C463.938 71.4168 465.918 71.0563 467.909 70.7248L468.032 71.4651ZM534.09 70.7248C536.081 71.0563 538.061 71.4168 540.032 71.8066L539.96 72.1752L539.959 72.1745L539.887 72.5431C537.924 72.1549 535.951 71.7952 533.968 71.4651L534.09 70.7248ZM479.966 69.8476C477.962 70.0578 475.967 70.2974 473.982 70.5665L473.931 70.1942L473.881 69.8234C475.874 69.5533 477.876 69.3125 479.887 69.1015L479.966 69.8476ZM522.112 69.1015C524.123 69.3125 526.125 69.5533 528.118 69.8234L528.069 70.195L528.068 70.1942L528.018 70.5665C526.033 70.2974 524.038 70.0578 522.034 69.8476L522.112 69.1015ZM491.946 68.4903L491.967 68.9513C489.953 69.0411 487.948 69.1613 485.951 69.3104L485.895 68.5621C487.9 68.4124 489.913 68.2917 491.934 68.2015L491.946 68.4903ZM510.066 68.2015C512.086 68.2917 514.099 68.4124 516.104 68.5621L516.049 69.3104C514.052 69.1613 512.047 69.0411 510.033 68.9513L510.054 68.4903L510.066 68.2015ZM501 68C502.013 68 503.024 68.0077 504.033 68.0227L504.022 68.7732C503.016 68.7582 502.009 68.7505 501 68.7505C499.991 68.7505 498.984 68.7582 497.978 68.7732L497.967 68.0227C498.976 68.0077 499.987 68 501 68Z" fill="#3371A5" class="general-2 no-border accent"/>\n<circle id="general-1-image" cx="500.81182861328125" cy="267.7052001953125" r="170" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M266.112 37.4609C271.051 37.4609 275.056 41.465 275.056 46.4043V193.272C275.056 193.592 274.779 193.824 274.459 193.842L231.627 196.298C227.566 196.531 224.173 199.475 223.371 203.463L215.021 244.963C214.921 245.456 214.52 245.841 214.017 245.841H75.6191C70.6799 245.841 66.6758 241.837 66.6758 236.897V68.6901C66.6758 56 66.6758 64 66.6758 55C66.6758 44.1648 66.6758 42.3144 68.2168 39.9273C69.2542 38.3204 71.1379 37.4609 73.0505 37.4609C84.3125 37.4609 86.6368 37.4609 100.123 37.4609H266.112ZM215.652 245.601C215.618 245.613 215.583 245.622 215.548 245.633C215.599 245.616 215.651 245.6 215.702 245.582C215.685 245.588 215.669 245.596 215.652 245.601ZM274.814 194.362C274.808 194.373 274.8 194.384 274.794 194.395C274.808 194.368 274.822 194.341 274.835 194.314C274.828 194.33 274.821 194.347 274.814 194.362Z" fill="#FAF5EB" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M275.053 193.851C275.053 193.856 275.052 193.86 275.05 193.865C274.83 194.355 274.562 194.874 274.25 195.408C273.874 196.053 273.371 196.612 272.808 197.101L221.01 242.052C221.004 242.057 220.995 242.058 220.988 242.053C220.977 242.046 220.963 242.052 220.959 242.064C220.956 242.075 220.952 242.086 220.948 242.097C220.945 242.105 220.94 242.112 220.934 242.118L218.921 243.865C218.434 244.287 217.907 244.665 217.323 244.938C217.15 245.019 216.973 245.098 216.792 245.175C216.128 245.456 215.477 245.68 214.869 245.846L214.864 245.846C214.854 245.846 214.846 245.837 214.848 245.826L223.37 203.469C224.173 199.481 227.565 196.537 231.626 196.304L275.017 193.816C275.037 193.815 275.053 193.831 275.053 193.851Z" fill="#FCF9F3" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="171.83" cy="37.83" r="26.83" fill="#3371A5" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="159" y="25" width="25" height="25" class="step-1 image accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="80.16869968175888" y="75.06212991476059" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="56.5" y="26.5" width="229" height="230" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M306.112 304.461C311.051 304.461 315.055 308.465 315.055 313.404V460.272C315.055 460.592 314.779 460.824 314.459 460.842L271.627 463.298C267.566 463.531 264.173 466.475 263.371 470.463L255.02 511.963C254.921 512.456 254.52 512.841 254.017 512.841H115.619C110.68 512.841 106.676 508.837 106.676 503.897V335.69C106.676 323 106.676 331 106.676 322C106.676 311.165 106.676 309.314 108.217 306.927C109.254 305.32 111.138 304.461 113.05 304.461C124.312 304.461 126.637 304.461 140.123 304.461H306.112ZM255.652 512.601C255.618 512.613 255.583 512.622 255.548 512.633C255.599 512.616 255.65 512.6 255.702 512.582C255.685 512.588 255.669 512.596 255.652 512.601ZM314.814 461.362C314.808 461.373 314.8 461.384 314.794 461.395C314.808 461.368 314.822 461.341 314.835 461.314C314.828 461.33 314.821 461.347 314.814 461.362Z" fill="#FAF5EB" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M315.053 460.851C315.053 460.856 315.052 460.86 315.05 460.865C314.83 461.355 314.562 461.874 314.25 462.408C313.874 463.053 313.371 463.612 312.807 464.101L261.01 509.052C261.004 509.057 260.995 509.058 260.987 509.053C260.977 509.046 260.963 509.052 260.959 509.064C260.955 509.075 260.951 509.086 260.948 509.097C260.945 509.105 260.94 509.112 260.934 509.118L258.921 510.865C258.434 511.287 257.907 511.665 257.323 511.938C257.15 512.019 256.973 512.098 256.792 512.175C256.128 512.456 255.477 512.68 254.869 512.846L254.864 512.846C254.854 512.846 254.846 512.837 254.848 512.826L263.37 470.469C264.173 466.481 267.565 463.537 271.626 463.304L315.017 460.816C315.037 460.815 315.053 460.831 315.053 460.851Z" fill="#FCF9F3" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="211.83" cy="304.83" r="26.83" fill="#3371A5" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="199" y="292" width="25" height="25" class="step-3 image accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="120.1685791015625" y="342.0621337890625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="96.4999" y="293.5" width="229" height="230" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M896.112 157.461C901.051 157.461 905.056 161.465 905.056 166.404V313.272C905.056 313.592 904.779 313.824 904.459 313.842L861.627 316.298C857.566 316.531 854.173 319.475 853.371 323.463L845.021 364.963C844.921 365.456 844.52 365.841 844.017 365.841H705.619C700.68 365.841 696.676 361.837 696.676 356.897V188.69C696.676 176 696.676 184 696.676 175C696.676 164.165 696.676 162.314 698.217 159.927C699.254 158.32 701.138 157.461 703.051 157.461C714.313 157.461 716.637 157.461 730.123 157.461H896.112ZM845.652 365.601C845.618 365.613 845.583 365.622 845.548 365.633C845.599 365.616 845.651 365.6 845.702 365.582C845.685 365.588 845.669 365.596 845.652 365.601ZM904.814 314.362C904.808 314.373 904.8 314.384 904.794 314.395C904.808 314.368 904.822 314.341 904.835 314.314C904.828 314.33 904.821 314.347 904.814 314.362Z" fill="#FAF5EB" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M905.053 313.851C905.053 313.856 905.052 313.86 905.05 313.865C904.83 314.355 904.562 314.874 904.25 315.408C903.874 316.053 903.371 316.612 902.808 317.101L851.01 362.052C851.004 362.057 850.995 362.058 850.988 362.053C850.977 362.046 850.963 362.052 850.959 362.064C850.956 362.075 850.952 362.086 850.948 362.097C850.945 362.105 850.94 362.112 850.934 362.118L848.921 363.865C848.434 364.287 847.907 364.665 847.323 364.938C847.15 365.019 846.973 365.098 846.792 365.175C846.128 365.456 845.477 365.68 844.869 365.846L844.864 365.846C844.854 365.846 844.846 365.837 844.848 365.826L853.37 323.469C854.173 319.481 857.565 316.537 861.626 316.304L905.017 313.816C905.037 313.815 905.053 313.831 905.053 313.851Z" fill="#FCF9F3" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="801.83" cy="157.83" r="26.83" fill="#3371A5" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="789" y="145" width="25" height="25" class="step-2 image accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="710.1687622070312" y="195.0621337890625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="686.5" y="146.5" width="229" height="230" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',circle_post_it_4:'<svg class="circle_post_it-frame" width="903.1154080000002" height="566.7352080000001" viewBox="49.308195999999995 -15.367604000000004 903.1154080000002 566.7352080000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_post_it-frame">\n<path id="general-1-no-border" d="M765.919 268C765.919 121.689 647.311 3.0813 501 3.0813C354.689 3.0813 236.081 121.689 236.081 268C236.081 414.311 354.689 532.919 501 532.919V534C354.092 534 235 414.908 235 268C235 121.092 354.092 2 501 2C647.908 2 767 121.092 767 268C767 414.908 647.908 534 501 534V532.919C647.311 532.919 765.919 414.311 765.919 268Z" fill="#3371A5" class="general-1 no-border accent"/>\n<path id="general-2-no-border" d="M497.978 467.227C498.984 467.242 499.991 467.25 501 467.25V468C499.987 468 498.976 467.992 497.967 467.977L497.978 467.227ZM504.033 467.977C503.024 467.992 502.013 468 501 468V467.25C502.009 467.25 503.016 467.242 504.022 467.227L504.033 467.977ZM485.951 466.69C487.948 466.839 489.953 466.959 491.967 467.049L491.95 467.422L491.95 467.423L491.94 467.645L491.934 467.798C489.913 467.708 487.9 467.587 485.895 467.437L485.951 466.69ZM516.104 467.437C514.099 467.587 512.086 467.708 510.066 467.798L510.06 467.645L510.05 467.423L510.033 467.049C512.047 466.959 514.052 466.839 516.049 466.69L516.104 467.437ZM473.982 465.433C475.967 465.703 477.962 465.942 479.966 466.152L479.887 466.898C477.876 466.687 475.874 466.446 473.881 466.176L473.982 465.433ZM528.018 465.433L528.118 466.176C526.125 466.446 524.123 466.687 522.112 466.898L522.034 466.152C524.038 465.942 526.033 465.703 528.018 465.433ZM462.113 463.457C464.076 463.845 466.049 464.205 468.032 464.535L467.909 465.274C465.918 464.943 463.938 464.582 461.968 464.193L462.113 463.457ZM540.032 464.193C538.061 464.582 536.081 464.943 534.09 465.274L533.968 464.535C535.951 464.205 537.924 463.845 539.887 463.457L540.032 464.193ZM450.383 460.764C452.318 461.27 454.265 461.749 456.223 462.199L456.138 462.563L456.055 462.929C454.09 462.478 452.136 461.997 450.193 461.488L450.219 461.392L450.383 460.764ZM551.781 461.392L551.806 461.488C549.864 461.997 547.91 462.478 545.945 462.929L545.868 462.596L545.861 462.564L545.777 462.199C547.735 461.749 549.682 461.27 551.617 460.764L551.781 461.392ZM438.834 457.36C440.737 457.984 442.653 458.581 444.581 459.149L444.368 459.868C442.433 459.298 440.51 458.698 438.6 458.072L438.834 457.36ZM563.4 458.072C561.489 458.698 559.566 459.298 557.631 459.868L557.419 459.149C559.347 458.581 561.263 457.984 563.166 457.36L563.4 458.072ZM427.516 453.261C429.38 454.001 431.257 454.714 433.147 455.398L432.892 456.102C430.994 455.415 429.11 454.701 427.239 453.958L427.516 453.261ZM574.76 453.958C572.889 454.701 571.005 455.415 569.107 456.102L568.852 455.398C570.743 454.713 572.62 454.001 574.484 453.261L574.76 453.958ZM416.47 448.483C418.285 449.334 420.115 450.159 421.959 450.957L421.661 451.644C419.81 450.844 417.973 450.016 416.152 449.161L416.47 448.483ZM585.848 449.161C584.026 450.016 582.19 450.844 580.339 451.644L580.041 450.957C581.885 450.159 583.715 449.334 585.53 448.483L585.848 449.161ZM405.735 443.043C407.494 444.003 409.27 444.936 411.06 445.844L410.721 446.512C408.924 445.601 407.142 444.664 405.376 443.701L405.735 443.043ZM596.623 443.701C594.858 444.664 593.076 445.601 591.278 446.512L590.94 445.844C592.73 444.936 594.506 444.003 596.265 443.043L596.623 443.701ZM395.345 436.962C397.044 438.026 398.76 439.066 400.493 440.08L400.303 440.403L400.187 440.604L400.114 440.727C398.374 439.709 396.652 438.665 394.946 437.596L395.146 437.28L395.345 436.962ZM607.053 437.596C605.347 438.665 603.625 439.709 601.885 440.727L601.696 440.404L601.507 440.08C603.24 439.066 604.956 438.026 606.655 436.962L607.053 437.596ZM385.343 430.265C386.975 431.43 388.626 432.572 390.294 433.689L389.877 434.312C388.202 433.191 386.545 432.045 384.907 430.875L385.343 430.265ZM616.875 430.57L617.093 430.875C615.454 432.045 613.797 433.191 612.122 434.312L611.706 433.689C613.374 432.572 615.025 431.43 616.657 430.265L616.875 430.57ZM375.762 422.978C377.321 424.24 378.9 425.479 380.498 426.694L380.043 427.291C378.44 426.071 376.855 424.828 375.29 423.561L375.526 423.27L375.762 422.978ZM626.709 423.561C625.144 424.827 623.56 426.071 621.956 427.291L621.502 426.694C623.1 425.479 624.679 424.24 626.238 422.978L626.709 423.561ZM366.636 415.129C368.117 416.482 369.618 417.814 371.14 419.123L370.65 419.69C369.123 418.377 367.616 417.041 366.13 415.683L366.636 415.129ZM635.617 415.407L635.869 415.683C634.383 417.041 632.876 418.377 631.349 419.69L630.86 419.123C632.382 417.814 633.883 416.483 635.364 415.13L635.617 415.407ZM357.997 406.747C359.394 408.187 360.813 409.605 362.253 411.002L361.731 411.54C360.286 410.138 358.861 408.714 357.459 407.268L357.997 406.747ZM644.54 407.268C643.138 408.714 641.714 410.138 640.268 411.54L639.747 411.003C641.187 409.606 642.605 408.187 644.002 406.747L644.54 407.268ZM652.69 398.349C651.377 399.876 650.041 401.383 648.683 402.87L648.406 402.618L648.129 402.364C649.482 400.883 650.814 399.382 652.123 397.86L652.69 398.349ZM349.877 397.86C351.186 399.382 352.517 400.883 353.87 402.364L353.592 402.617L353.593 402.618L353.317 402.869C351.959 401.383 350.622 399.876 349.309 398.349L349.877 397.86ZM659.992 388.729L660.291 388.956C659.071 390.56 657.828 392.144 656.561 393.709L655.978 393.238C657.24 391.679 658.479 390.1 659.694 388.502L659.992 388.729ZM342.306 388.502C343.521 390.1 344.76 391.679 346.022 393.238L345.438 393.709C344.172 392.144 342.928 390.56 341.709 388.956L342.306 388.502ZM335.311 378.706C336.428 380.374 337.57 382.025 338.735 383.657L338.429 383.875L338.124 384.093C336.954 382.454 335.808 380.797 334.687 379.122L335.311 378.706ZM667.312 379.122C666.191 380.797 665.045 382.454 663.875 384.093L663.57 383.876L663.265 383.657C664.43 382.025 665.572 380.374 666.689 378.706L667.312 379.122ZM328.92 368.507C329.934 370.24 330.974 371.956 332.038 373.655L331.403 374.053C330.334 372.347 329.29 370.625 328.272 368.885L328.92 368.507ZM673.727 368.885C672.709 370.625 671.665 372.347 670.596 374.053L669.962 373.655C671.026 371.956 672.066 370.24 673.08 368.507L673.727 368.885ZM323.156 357.94C324.064 359.73 324.997 361.506 325.957 363.265L325.298 363.623C324.335 361.858 323.398 360.076 322.487 358.278L323.156 357.94ZM679.512 358.278C678.601 360.076 677.664 361.858 676.701 363.623L676.043 363.265C677.003 361.506 677.936 359.73 678.844 357.94L679.512 358.278ZM318.043 347.041C318.841 348.885 319.666 350.715 320.517 352.53L319.838 352.848C318.983 351.026 318.156 349.19 317.355 347.339L318.043 347.041ZM684.644 347.339C683.844 349.19 683.016 351.026 682.161 352.848L681.483 352.53C682.334 350.715 683.159 348.885 683.957 347.041L684.644 347.339ZM313.602 335.852C314.287 337.743 314.999 339.62 315.739 341.484L315.041 341.76C314.299 339.889 313.584 338.005 312.897 336.107L313.602 335.852ZM688.751 335.98L689.102 336.107C688.415 338.005 687.701 339.889 686.958 341.76L686.261 341.484C687.001 339.62 687.714 337.743 688.398 335.853L688.751 335.98ZM309.851 324.419C310.419 326.347 311.016 328.263 311.64 330.166L310.928 330.4C310.301 328.489 309.702 326.566 309.131 324.631L309.851 324.419ZM692.868 324.631C692.298 326.566 691.698 328.489 691.072 330.4L690.36 330.166C690.984 328.263 691.581 326.347 692.149 324.419L692.868 324.631ZM306.801 312.777C307.251 314.735 307.73 316.682 308.236 318.617L307.511 318.806C307.002 316.864 306.521 314.91 306.07 312.945L306.801 312.777ZM695.929 312.945C695.478 314.91 694.997 316.864 694.488 318.806L693.764 318.617C694.27 316.682 694.749 314.735 695.199 312.777L695.929 312.945ZM304.465 300.968C304.795 302.951 305.155 304.924 305.543 306.887L304.807 307.032C304.417 305.062 304.056 303.081 303.725 301.09L304.465 300.968ZM698.274 301.09C697.943 303.081 697.582 305.061 697.193 307.032L696.825 306.96L696.457 306.887C696.845 304.924 697.205 302.951 697.535 300.968L698.274 301.09ZM302.848 289.034C303.058 291.038 303.297 293.033 303.567 295.018L302.823 295.118C302.553 293.125 302.313 291.123 302.102 289.112L302.848 289.034ZM699.898 289.112C699.687 291.123 699.446 293.125 699.176 295.118L698.805 295.069L698.433 295.018C698.703 293.033 698.942 291.038 699.152 289.034L699.898 289.112ZM301.951 277.033C302.041 279.047 302.161 281.052 302.31 283.049L301.562 283.104C301.412 281.099 301.292 279.086 301.202 277.066L301.951 277.033ZM700.422 277.05L700.798 277.066C700.708 279.086 700.587 281.099 700.437 283.104L699.69 283.049C699.839 281.052 699.959 279.047 700.049 277.033L700.422 277.05ZM301 268C301 266.987 301.008 265.976 301.023 264.967L301.773 264.978C301.758 265.984 301.75 266.991 301.75 268C301.75 269.009 301.758 270.016 301.773 271.022L301.023 271.033C301.008 270.024 301 269.013 301 268ZM701 268C701 269.013 700.992 270.024 700.977 271.033L700.227 271.022C700.242 270.016 700.25 269.009 700.25 268C700.25 266.991 700.242 265.984 700.227 264.978L700.977 264.967C700.992 265.976 701 266.987 701 268ZM302.31 252.951C302.161 254.948 302.041 256.953 301.951 258.967L301.577 258.95L301.202 258.934C301.292 256.913 301.412 254.9 301.562 252.895L302.31 252.951ZM700.437 252.895C700.587 254.9 700.708 256.913 700.798 258.934L700.423 258.95L700.422 258.95L700.049 258.967C699.959 256.953 699.839 254.948 699.69 252.951L700.437 252.895ZM303.195 240.931L303.567 240.982C303.297 242.967 303.058 244.962 302.848 246.966L302.102 246.887C302.313 244.876 302.553 242.874 302.823 240.881L303.195 240.931ZM699.176 240.881C699.446 242.874 699.687 244.876 699.898 246.887L699.152 246.966C698.942 244.962 698.703 242.967 698.433 240.982L698.805 240.931L699.176 240.881ZM305.175 229.04L305.543 229.113C305.155 231.076 304.795 233.049 304.465 235.032L303.725 234.909C304.056 232.918 304.417 230.938 304.807 228.968L305.175 229.04ZM697.193 228.968C697.582 230.938 697.943 232.918 698.274 234.909L697.535 235.032C697.205 233.049 696.845 231.076 696.457 229.113L696.825 229.04L697.193 228.968ZM308.236 217.383C307.73 219.318 307.251 221.265 306.801 223.223L306.436 223.138L306.07 223.055C306.521 221.09 307.002 219.136 307.511 217.193L308.236 217.383ZM694.488 217.193C694.997 219.136 695.478 221.09 695.929 223.055L695.564 223.139L695.563 223.138L695.199 223.223C694.749 221.265 694.27 219.318 693.764 217.383L694.488 217.193ZM311.64 205.834C311.016 207.737 310.419 209.653 309.851 211.581L309.131 211.368C309.702 209.433 310.301 207.51 310.928 205.6L311.64 205.834ZM691.072 205.6C691.698 207.51 692.298 209.433 692.868 211.368L692.149 211.581C691.581 209.653 690.984 207.737 690.36 205.834L691.072 205.6ZM686.958 194.239C687.701 196.11 688.415 197.994 689.102 199.892L688.398 200.148C687.713 198.257 687.001 196.38 686.261 194.516L686.958 194.239ZM315.739 194.516C314.999 196.38 314.286 198.257 313.602 200.147L312.897 199.892C313.584 197.994 314.299 196.11 315.041 194.239L315.739 194.516ZM320.517 183.47C319.666 185.285 318.841 187.115 318.043 188.959L317.355 188.661C318.156 186.81 318.983 184.973 319.838 183.152L320.517 183.47ZM682.161 183.152C683.016 184.973 683.844 186.81 684.644 188.661L683.957 188.959C683.159 187.115 682.334 185.285 681.483 183.47L682.161 183.152ZM325.628 172.556L325.957 172.735C324.997 174.494 324.064 176.27 323.156 178.06L322.487 177.721C323.398 175.924 324.335 174.142 325.298 172.376L325.628 172.556ZM676.701 172.376C677.664 174.142 678.601 175.924 679.512 177.721L678.844 178.06C677.936 176.27 677.003 174.494 676.043 172.735L676.701 172.376ZM332.038 162.345C330.974 164.044 329.934 165.76 328.92 167.493L328.596 167.303L328.272 167.114C329.29 165.374 330.334 163.652 331.403 161.946L332.038 162.345ZM670.596 161.946C671.665 163.652 672.709 165.374 673.727 167.114L673.404 167.304L673.403 167.303L673.08 167.493C672.066 165.76 671.026 164.044 669.962 162.345L670.596 161.946ZM338.43 152.124L338.735 152.343C337.57 153.975 336.428 155.626 335.311 157.294L334.687 156.877C335.808 155.202 336.954 153.545 338.124 151.907L338.43 152.124ZM663.875 151.907C665.045 153.545 666.191 155.202 667.312 156.877L666.689 157.294C665.572 155.626 664.43 153.975 663.265 152.343L663.875 151.907ZM346.022 142.762C344.76 144.321 343.521 145.9 342.306 147.498L341.709 147.043C342.928 145.44 344.172 143.855 345.438 142.29L346.022 142.762ZM656.561 142.291C657.827 143.856 659.071 145.44 660.291 147.043L659.694 147.498C658.479 145.9 657.24 144.321 655.978 142.762L656.561 142.291ZM353.594 133.382L353.871 133.636C352.517 135.117 351.186 136.618 349.877 138.14L349.309 137.65C350.623 136.123 351.958 134.616 353.317 133.13L353.594 133.382ZM648.683 133.13C650.041 134.617 651.377 136.123 652.69 137.65L652.123 138.14C650.814 136.618 649.483 135.117 648.13 133.636L648.683 133.13ZM362.253 124.997C360.813 126.394 359.395 127.813 357.998 129.253L357.459 128.731C358.861 127.286 360.286 125.861 361.731 124.459L362.253 124.997ZM640.268 124.459C641.714 125.861 643.138 127.286 644.54 128.731L644.003 129.253C642.606 127.813 641.187 126.395 639.747 124.998L640.268 124.459ZM631.349 116.309C632.876 117.623 634.383 118.958 635.87 120.317L635.618 120.593L635.364 120.871C633.883 119.517 632.382 118.186 630.86 116.877L631.349 116.309ZM371.14 116.877C369.618 118.186 368.117 119.517 366.636 120.87L366.13 120.317C367.617 118.959 369.123 117.622 370.65 116.309L371.14 116.877ZM380.498 109.306C378.9 110.521 377.321 111.76 375.762 113.022L375.291 112.438C376.856 111.172 378.44 109.928 380.043 108.709L380.498 109.306ZM621.956 108.709C623.56 109.928 625.144 111.172 626.709 112.438L626.238 113.022C624.679 111.76 623.1 110.521 621.502 109.306L621.956 108.709ZM390.294 102.311C388.626 103.428 386.975 104.57 385.343 105.735L384.907 105.124C386.545 103.954 388.202 102.808 389.877 101.687L390.294 102.311ZM612.122 101.687C613.797 102.808 615.454 103.954 617.093 105.124L616.657 105.735C615.025 104.57 613.374 103.428 611.706 102.311L612.122 101.687ZM400.493 95.9198C398.76 96.934 397.044 97.9736 395.345 99.0382L394.946 98.4028C396.652 97.3341 398.374 96.2901 400.114 95.2719L400.493 95.9198ZM601.885 95.2719C603.625 96.2901 605.347 97.3341 607.053 98.4028L606.655 99.0382C604.956 97.9736 603.24 96.934 601.507 95.9198L601.885 95.2719ZM411.06 90.1564C409.27 91.0638 407.494 91.9974 405.735 92.9568L405.376 92.2979C407.142 91.3349 408.924 90.3981 410.721 89.4873L411.06 90.1564ZM591.278 89.4873C593.076 90.3981 594.858 91.3349 596.623 92.2979L596.265 92.9568C594.506 91.9974 592.73 91.0638 590.94 90.1564L591.278 89.4873ZM421.959 85.0431C420.115 85.8408 418.285 86.666 416.47 87.5173L416.152 86.8379C417.973 85.9834 419.81 85.1557 421.661 84.3549L421.959 85.0431ZM580.339 84.3549C582.19 85.1557 584.026 85.9834 585.848 86.8379L585.53 87.5173C583.715 86.666 581.885 85.8408 580.041 85.0431L580.339 84.3549ZM433.148 80.6019C431.257 81.2865 429.38 81.9992 427.516 82.7389L427.239 82.0412C429.11 81.2987 430.994 80.5841 432.892 79.8968L433.148 80.6019ZM569.107 79.8968C571.005 80.5841 572.889 81.2987 574.76 82.0412L574.484 82.7389C572.62 81.9992 570.743 81.2865 568.853 80.6019L569.107 79.8968ZM444.581 76.851C442.653 77.4191 440.737 78.0156 438.834 78.64L438.6 77.9276C440.51 77.3008 442.433 76.7016 444.368 76.1313L444.581 76.851ZM557.631 76.1313C559.566 76.7016 561.489 77.3008 563.4 77.9276L563.166 78.64C561.263 78.0156 559.347 77.4191 557.419 76.851L557.631 76.1313ZM456.132 73.4065L456.223 73.8015C454.265 74.251 452.318 74.7297 450.383 75.2365L450.193 74.5109C452.136 74.0022 454.09 73.5213 456.055 73.0701L456.132 73.4065ZM545.945 73.0701C547.91 73.5213 549.864 74.0022 551.806 74.5109L551.617 75.2365C549.682 74.7297 547.735 74.251 545.777 73.8015L545.945 73.0701ZM468.032 71.4651C466.049 71.7952 464.076 72.1549 462.113 72.5431L462.04 72.1745L461.968 71.8066C463.938 71.4168 465.918 71.0563 467.909 70.7248L468.032 71.4651ZM534.09 70.7248C536.081 71.0563 538.061 71.4168 540.032 71.8066L539.96 72.1752L539.959 72.1745L539.887 72.5431C537.924 72.1549 535.951 71.7952 533.968 71.4651L534.09 70.7248ZM479.966 69.8476C477.962 70.0578 475.967 70.2974 473.982 70.5665L473.931 70.1942L473.881 69.8234C475.874 69.5533 477.876 69.3125 479.887 69.1015L479.966 69.8476ZM522.112 69.1015C524.123 69.3125 526.125 69.5533 528.118 69.8234L528.069 70.195L528.068 70.1942L528.018 70.5665C526.033 70.2974 524.038 70.0578 522.034 69.8476L522.112 69.1015ZM491.946 68.4903L491.967 68.9513C489.953 69.0411 487.948 69.1613 485.951 69.3104L485.895 68.5621C487.9 68.4124 489.913 68.2917 491.934 68.2015L491.946 68.4903ZM510.066 68.2015C512.086 68.2917 514.099 68.4124 516.104 68.5621L516.049 69.3104C514.052 69.1613 512.047 69.0411 510.033 68.9513L510.054 68.4903L510.066 68.2015ZM501 68C502.013 68 503.024 68.0077 504.033 68.0227L504.022 68.7732C503.016 68.7582 502.009 68.7505 501 68.7505C499.991 68.7505 498.984 68.7582 497.978 68.7732L497.967 68.0227C498.976 68.0077 499.987 68 501 68Z" fill="#3371A5" class="general-2 no-border accent"/>\n<circle id="general-1-image" cx="500.81182861328125" cy="267.7052001953125" r="170" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-background" d="M266.112 37.4609C271.051 37.4609 275.056 41.465 275.056 46.4043V193.272C275.056 193.592 274.779 193.824 274.459 193.842L231.627 196.298C227.566 196.531 224.173 199.475 223.371 203.463L215.021 244.963C214.921 245.456 214.52 245.841 214.017 245.841H75.6191C70.6799 245.841 66.6758 241.837 66.6758 236.897V68.6901C66.6758 56 66.6758 64 66.6758 55C66.6758 44.1648 66.6758 42.3144 68.2168 39.9273C69.2542 38.3204 71.1379 37.4609 73.0505 37.4609C84.3125 37.4609 86.6368 37.4609 100.123 37.4609H266.112ZM215.652 245.601C215.618 245.613 215.583 245.622 215.548 245.633C215.599 245.616 215.651 245.6 215.702 245.582C215.685 245.588 215.669 245.596 215.652 245.601ZM274.814 194.362C274.808 194.373 274.8 194.384 274.794 194.395C274.808 194.368 274.822 194.341 274.835 194.314C274.828 194.33 274.821 194.347 274.814 194.362Z" fill="#FAF5EB" class="step-1 background subtle"/>\n<path id="step-1-background_2" d="M275.053 193.851C275.053 193.856 275.052 193.86 275.05 193.865C274.83 194.355 274.562 194.874 274.25 195.408C273.874 196.053 273.371 196.612 272.808 197.101L221.01 242.052C221.004 242.057 220.995 242.058 220.988 242.053C220.977 242.046 220.963 242.052 220.959 242.064C220.956 242.075 220.952 242.086 220.948 242.097C220.945 242.105 220.94 242.112 220.934 242.118L218.921 243.865C218.434 244.287 217.907 244.665 217.323 244.938C217.15 245.019 216.973 245.098 216.792 245.175C216.128 245.456 215.477 245.68 214.869 245.846L214.864 245.846C214.854 245.846 214.846 245.837 214.848 245.826L223.37 203.469C224.173 199.481 227.565 196.537 231.626 196.304L275.017 193.816C275.037 193.815 275.053 193.831 275.053 193.851Z" fill="#FCF9F3" class="step-1 background subtle dim"/>\n<circle id="step-1-accent" cx="171.83" cy="37.83" r="26.83" fill="#3371A5" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="159" y="25" width="25" height="25" class="step-1 image accent" fill="#666666"/>\n<rect id="step-1-background-textbox" x="80.16869968175888" y="75.06212991476059" width="181" height="111" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="56.5" y="26.5" width="229" height="230" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-background" d="M306.112 305.461C311.051 305.461 315.055 309.465 315.055 314.404V461.272C315.055 461.592 314.779 461.824 314.459 461.842L271.627 464.298C267.566 464.531 264.173 467.475 263.371 471.463L255.02 512.963C254.921 513.456 254.52 513.841 254.017 513.841H115.619C110.68 513.841 106.676 509.837 106.676 504.897V336.69C106.676 324 106.676 332 106.676 323C106.676 312.165 106.676 310.314 108.217 307.927C109.254 306.32 111.138 305.461 113.05 305.461C124.312 305.461 126.637 305.461 140.123 305.461H306.112ZM255.652 513.601C255.618 513.613 255.583 513.622 255.548 513.633C255.599 513.616 255.65 513.6 255.702 513.582C255.685 513.588 255.669 513.596 255.652 513.601ZM314.813 462.362C314.808 462.373 314.8 462.384 314.794 462.395C314.808 462.368 314.822 462.341 314.835 462.314C314.828 462.33 314.821 462.347 314.813 462.362Z" fill="#FAF5EB" class="step-3 background subtle"/>\n<path id="step-3-background_2" d="M315.053 461.851C315.053 461.856 315.052 461.86 315.05 461.865C314.83 462.355 314.561 462.874 314.25 463.408C313.874 464.053 313.371 464.612 312.807 465.101L261.01 510.052C261.004 510.057 260.994 510.058 260.987 510.053C260.977 510.046 260.963 510.052 260.959 510.064C260.955 510.075 260.951 510.086 260.947 510.097C260.945 510.105 260.94 510.112 260.934 510.118L258.921 511.865C258.434 512.287 257.906 512.665 257.322 512.938C257.15 513.019 256.973 513.098 256.792 513.175C256.128 513.456 255.477 513.68 254.869 513.846L254.864 513.846C254.854 513.846 254.846 513.837 254.848 513.826L263.37 471.469C264.172 467.481 267.565 464.537 271.626 464.304L315.017 461.816C315.037 461.815 315.053 461.831 315.053 461.851Z" fill="#FCF9F3" class="step-3 background subtle dim"/>\n<circle id="step-3-accent" cx="211.83" cy="305.83" r="26.83" fill="#3371A5" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="199" y="293" width="25" height="25" class="step-3 image accent" fill="#666666"/>\n<rect id="step-3-background-textbox" x="120.16845703125" y="343.0621337890625" width="181" height="111" class="step-3 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="96.4998" y="294.5" width="229" height="230" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-background" d="M886.112 305.461C891.051 305.461 895.056 309.465 895.056 314.404V461.272C895.056 461.592 894.779 461.824 894.459 461.842L851.627 464.298C847.566 464.531 844.173 467.475 843.371 471.463L835.021 512.963C834.921 513.456 834.52 513.841 834.017 513.841H695.619C690.68 513.841 686.676 509.837 686.676 504.897V336.69C686.676 324 686.676 332 686.676 323C686.676 312.165 686.676 310.314 688.217 307.927C689.254 306.32 691.138 305.461 693.051 305.461C704.313 305.461 706.637 305.461 720.123 305.461H886.112ZM835.652 513.601C835.618 513.613 835.583 513.622 835.548 513.633C835.599 513.616 835.651 513.6 835.702 513.582C835.685 513.588 835.669 513.596 835.652 513.601ZM894.814 462.362C894.808 462.373 894.8 462.384 894.794 462.395C894.808 462.368 894.822 462.341 894.835 462.314C894.828 462.33 894.821 462.347 894.814 462.362Z" fill="#FAF5EB" class="step-4 background subtle"/>\n<path id="step-4-background_2" d="M895.053 461.851C895.053 461.856 895.052 461.86 895.05 461.865C894.83 462.355 894.562 462.874 894.25 463.408C893.874 464.053 893.371 464.612 892.808 465.101L841.01 510.052C841.004 510.057 840.995 510.058 840.988 510.053C840.977 510.046 840.963 510.052 840.959 510.064C840.956 510.075 840.952 510.086 840.948 510.097C840.945 510.105 840.94 510.112 840.934 510.118L838.921 511.865C838.434 512.287 837.907 512.665 837.323 512.938C837.15 513.019 836.973 513.098 836.792 513.175C836.128 513.456 835.477 513.68 834.869 513.846L834.864 513.846C834.854 513.846 834.846 513.837 834.848 513.826L843.37 471.469C844.173 467.481 847.565 464.537 851.626 464.304L895.017 461.816C895.037 461.815 895.053 461.831 895.053 461.851Z" fill="#FCF9F3" class="step-4 background subtle dim"/>\n<circle id="step-4-accent" cx="791.83" cy="305.83" r="26.83" fill="#3371A5" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="779" y="293" width="25" height="25" class="step-4 image accent" fill="#666666"/>\n<rect id="step-4-background-textbox" x="700.168701171875" y="343.0621337890625" width="181" height="111" class="step-4 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="676.5" y="294.5" width="229" height="230" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-background" d="M926.112 37.4609C931.051 37.4609 935.056 41.465 935.056 46.4043V193.272C935.056 193.592 934.779 193.824 934.459 193.842L891.627 196.298C887.566 196.531 884.173 199.475 883.371 203.463L875.021 244.963C874.921 245.456 874.52 245.841 874.017 245.841H735.619C730.68 245.841 726.676 241.837 726.676 236.897V68.6901C726.676 56 726.676 64 726.676 55C726.676 44.1648 726.676 42.3144 728.217 39.9273C729.254 38.3204 731.138 37.4609 733.051 37.4609C744.313 37.4609 746.637 37.4609 760.123 37.4609H926.112ZM875.652 245.601C875.618 245.613 875.583 245.622 875.548 245.633C875.599 245.616 875.651 245.6 875.702 245.582C875.685 245.588 875.669 245.596 875.652 245.601ZM934.814 194.362C934.808 194.373 934.8 194.384 934.794 194.395C934.808 194.368 934.822 194.341 934.835 194.314C934.828 194.33 934.821 194.347 934.814 194.362Z" fill="#FAF5EB" class="step-2 background subtle"/>\n<path id="step-2-background_2" d="M935.053 193.851C935.053 193.856 935.052 193.86 935.05 193.865C934.83 194.355 934.562 194.874 934.25 195.408C933.874 196.053 933.371 196.612 932.808 197.101L881.01 242.052C881.004 242.057 880.995 242.058 880.988 242.053C880.977 242.046 880.963 242.052 880.959 242.064C880.956 242.075 880.952 242.086 880.948 242.097C880.945 242.105 880.94 242.112 880.934 242.118L878.921 243.865C878.434 244.287 877.907 244.665 877.323 244.938C877.15 245.019 876.973 245.098 876.792 245.175C876.128 245.456 875.477 245.68 874.869 245.846L874.864 245.846C874.854 245.846 874.846 245.837 874.848 245.826L883.37 203.469C884.173 199.481 887.565 196.537 891.626 196.304L935.017 193.816C935.037 193.815 935.053 193.831 935.053 193.851Z" fill="#FCF9F3" class="step-2 background subtle dim"/>\n<circle id="step-2-accent" cx="831.83" cy="37.83" r="26.83" fill="#3371A5" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="819" y="25" width="25" height="25" class="step-2 image accent" fill="#666666"/>\n<rect id="step-2-background-textbox" x="740.168701171875" y="75.0621337890625" width="181" height="111" class="step-2 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="716.5" y="26.5" width="229" height="230" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ig="circle_post_it",im={key:ig,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:3,2,4),s=ih.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ig,svgScalingFactor:im.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"cnAxpj"}),icon:a.EvL,defaultColorScheme:null,stepSvgData:ih,formattingMenu:G,defaultData:()=>w(ih),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/postit_collage.a3ef579a.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},ix=new Map(Object.entries({image_arc_1:'<svg class="image_arc-frame" width="925.6" height="483.6625" viewBox="38.2 33.2 925.6 483.6625" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="image_arc-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="288.1687316894531" y="281.0625" width="423" height="218" class="step-1 card textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="275.5" y="268.5" width="452" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<path id="general-1-image" d="M56 381C56 372.163 63.1634 365 72 365H160C168.837 365 176 372.163 176 381V469C176 477.837 168.837 485 160 485H72C63.1634 485 56 477.837 56 469V381Z" class="general-1 image" fill="#666666"/>\n<path id="general-2-image" d="M127 234C127 225.163 134.163 218 143 218H231C239.837 218 247 225.163 247 234V322C247 330.837 239.837 338 231 338H143C134.163 338 127 330.837 127 322V234Z" class="general-2 image" fill="#666666"/>\n<path id="general-3-image" d="M275 108C275 99.1634 282.163 92 291 92H379C387.837 92 395 99.1634 395 108V196C395 204.837 387.837 212 379 212H291C282.163 212 275 204.837 275 196V108Z" class="general-3 image" fill="#666666"/>\n<path id="general-4-image" d="M441 67C441 58.1634 448.163 51 457 51H545C553.837 51 561 58.1634 561 67V155C561 163.837 553.837 171 545 171H457C448.163 171 441 163.837 441 155V67Z" class="general-4 image" fill="#666666"/>\n<path id="general-5-image" d="M608 108C608 99.1634 615.163 92 624 92H712C720.837 92 728 99.1634 728 108V196C728 204.837 720.837 212 712 212H624C615.163 212 608 204.837 608 196V108Z" class="general-5 image" fill="#666666"/>\n<path id="general-6-image" d="M754 234C754 225.163 761.163 218 770 218H858C866.837 218 874 225.163 874 234V322C874 330.837 866.837 338 858 338H770C761.163 338 754 330.837 754 322V234Z" class="general-6 image" fill="#666666"/>\n<path id="general-7-image" d="M826 381C826 372.163 833.163 365 842 365H930C938.837 365 946 372.163 946 381V469C946 477.837 938.837 485 930 485H842C833.163 485 826 477.837 826 469V381Z" class="general-7 image" fill="#666666"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ib="image_arc",iC={key:ib,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,1,1),s=ix.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ib,svgScalingFactor:iC.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"vH25CK"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:ix,formattingMenu:G,defaultData:()=>w(ix),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/image_arc.392f7cc1.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},iy=new Map(Object.entries({leaf_image_2:'<svg class="leaf_image-frame" width="868.22455078125" height="478.393251953125" viewBox="67.4720751953125 19.3033740234375 868.22455078125 478.393251953125" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="leaf_image-frame">\n<path id="general-1-image" d="M457 36C567.457 36 657 125.543 657 236V481H545C434.543 481 345 391.457 345 281V36H457Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="84.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="66" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M361 70V71H121V70H361Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="55.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.168701171875" y="224.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="206"/>\n<path id="step-2_2" d="M643 210V211H883V210H643Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="732.5" y="195.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',leaf_image_3:'<svg class="leaf_image-frame" width="868.22455078125" height="537.455263671875" viewBox="67.4720751953125 -4.696625976562501 868.22455078125 537.455263671875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="leaf_image-frame">\n<path id="general-1-image" d="M457 34C567.457 34 657 123.543 657 234V479H545C434.543 479 345 389.457 345 279V34H457Z" class="general-1 image" fill="#666666"/>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="84.168701171875" y="318.06201171875" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="85" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M367 304V305H121V304H367Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="71.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="30.061996415257454" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M367 16V17H121V16H367Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M366 16L367 16L367 56L366 56L366 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.168701171875" y="224.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="206"/>\n<path id="step-2_2" d="M643 210V211H883V210H643Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="732.5" y="195.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',leaf_image_4:'<svg class="leaf_image-frame" width="868.22455078125" height="537.455263671875" viewBox="67.4720751953125 -4.696625976562501 868.22455078125 537.455263671875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="leaf_image-frame">\n<path id="general-1-image" d="M457 34C567.457 34 657 123.543 657 234V479H545C434.543 479 345 389.457 345 279V34H457Z" class="general-1 image" fill="#666666"/>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="84.168701171875" y="318.06201171875" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="85" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M367 304V305H121V304H367Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="71.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-card-textbox" x="745.168701171875" y="318.06201171875" width="173" height="198" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-4-accent" x="884" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-4 accent"/>\n<path id="step-4_2" d="M889 304V305H643V304H889Z" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-selection" x="734.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="30.061996415257454" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M367 16V17H121V16H367Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M366 16L367 16L367 56L366 56L366 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.1687164306641" y="30.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="12"/>\n<path id="step-2_2" d="M614 16V17H883V16H614Z" fill="#FAF5EB" class="step-2 subtle"/>\n<path id="step-2_3" d="M613 16L614 16L614 126L613 126L613 16Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="734.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iv="leaf_image",iw={key:iv,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,2,4),s=iy.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iv,svgScalingFactor:iw.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"oLKWsK"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iy,formattingMenu:G,defaultData:()=>w(iy),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/leaf.e9a7efff.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},iA=new Map(Object.entries({left_rounded_edge_rect_image_2:'<svg class="left_rounded_edge_rect_image-frame" width="868.22455078125" height="478.393251953125" viewBox="67.4720751953125 17.3033740234375 868.22455078125 478.393251953125" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="left_rounded_edge_rect_image-frame">\n<path id="general-1-image" d="M657 479H345V234C345 123.543 434.543 34 545 34H657V479Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="84.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="66" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M435 70V71H121V70H435Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="55.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.168701171875" y="224.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="206"/>\n<path id="step-2_2" d="M643 210V211H883V210H643Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="732.5" y="195.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',left_rounded_edge_rect_image_3:'<svg class="left_rounded_edge_rect_image-frame" width="868.22455078125" height="537.455263671875" viewBox="67.4720751953125 -4.696625976562501 868.22455078125 537.455263671875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="left_rounded_edge_rect_image-frame">\n<path id="general-1-image" d="M657 479H345V234C345 123.543 434.543 34 545 34H657V479Z" class="general-1 image" fill="#666666"/>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="84.168701171875" y="318.06201171875" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="85" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M367 304V305H121V304H367Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="71.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="30.061996415257454" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M367 16V17H121V16H367Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M366 16L367 16L367 167L366 167L366 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.168701171875" y="224.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="206"/>\n<path id="step-2_2" d="M643 210V211H883V210H643Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="732.5" y="195.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',left_rounded_edge_rect_image_4:'<svg class="left_rounded_edge_rect_image-frame" width="868.22455078125" height="537.455263671875" viewBox="67.4720751953125 -4.696625976562501 868.22455078125 537.455263671875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="left_rounded_edge_rect_image-frame">\n<path id="general-1-image" d="M657 479H345V234C345 123.543 434.543 34 545 34H657V479Z" class="general-1 image" fill="#666666"/>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="84.168701171875" y="318.06201171875" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="85" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M367 304V305H121V304H367Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="71.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-card-textbox" x="745.168701171875" y="318.06201171875" width="173" height="198" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-4-accent" x="884" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-4 accent"/>\n<path id="step-4_2" d="M889 304V305H643V304H889Z" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-selection" x="734.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="84.168701171875" y="30.061996415257454" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="85" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M367 16V17H121V16H367Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M366 16L367 16L367 167L366 167L366 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="71.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="745.1687164306641" y="30.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="884" y="12"/>\n<path id="step-2_2" d="M614 16V17H883V16H614Z" fill="#FAF5EB" class="step-2 subtle"/>\n<path id="step-2_3" d="M613 16L614 16L614 44L613 44L613 16Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="734.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ik="left_rounded_edge_rect_image",iL={key:ik,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,2,4),s=iA.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:ik,svgScalingFactor:iL.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"4EqxuM"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iA,formattingMenu:G,defaultData:()=>w(iA),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/arch.6191753e.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},ij=new Map(Object.entries({oval_stroke_image_2:'<svg class="oval_stroke_image-frame" width="1014.8645190429687" height="544.0332507324218" viewBox="-5.347893676757813 -8.454125366210938 1014.8645190429687 544.0332507324218" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="oval_stroke_image-frame">\n<path id="general-2-no-border" d="M639.5 429V430H361.5V429H639.5ZM801 267.5C801 178.306 728.694 106 639.5 106H361.5C272.306 106 200 178.306 200 267.5C200 356.694 272.306 429 361.5 429V430L359.399 429.986C270.621 428.862 199 356.545 199 267.5C199 178.455 270.621 106.138 359.399 105.014L361.5 105H639.5C729.246 105 802 177.754 802 267.5C802 357.246 729.246 430 639.5 430V429C728.694 429 801 356.694 801 267.5Z" fill="#3371A5" class="general-2 no-border accent"/>\n<path id="general-1-image" d="M225 268C225 190.68 291.593 128 373.739 128H627.261C709.407 128 776 190.68 776 268C776 345.32 709.407 408 627.261 408H373.739C291.593 408 225 345.32 225 268Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168731689453125" y="318.0625" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M231 304V305H51V304H231Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="11.0625" width="173" height="198" class="step-2 card textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="221"/>\n<path id="step-2_2" d="M765 225V226H954V225H765Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',oval_stroke_image_3:'<svg class="oval_stroke_image-frame" width="1014.86455078125" height="544.033251953125" viewBox="-5.347924804687501 -8.454125976562501 1014.86455078125 544.033251953125" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="oval_stroke_image-frame">\n<path id="general-2-no-border" d="M639.5 429V430H361.5V429H639.5ZM801 267.5C801 178.306 728.694 106 639.5 106H361.5C272.306 106 200 178.306 200 267.5C200 356.694 272.306 429 361.5 429V430L359.399 429.986C270.621 428.862 199 356.545 199 267.5C199 178.455 270.621 106.138 359.399 105.014L361.5 105H639.5C729.246 105 802 177.754 802 267.5C802 357.246 729.246 430 639.5 430V429C728.694 429 801 356.694 801 267.5Z" fill="#3371A5" class="general-2 no-border accent"/>\n<path id="general-1-image" d="M225 268C225 190.68 291.593 128 373.739 128H627.261C709.407 128 776 190.68 776 268C776 345.32 709.407 408 627.261 408H373.739C291.593 408 225 345.32 225 268Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="11.0625" width="173" height="198" class="step-1 card textbox left bottom" fill="#E5E5E5"/>\n<path id="step-1_2" d="M48 225V226H234V225H48Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n<rect id="step-1-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent" x="15" y="221"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="14.168701171875" y="318.0625" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="15" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M233 304V305H53V304H233Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="1.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="155.0625" width="173" height="198" class="step-2 card textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="365"/>\n<path id="step-2_2" d="M766 369V370H955V369H766Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',oval_stroke_image_4:'<svg class="oval_stroke_image-frame" width="1014.86455078125" height="544.033251953125" viewBox="-5.347924804687501 -8.454125976562501 1014.86455078125 544.033251953125" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="oval_stroke_image-frame">\n<path id="general-2-no-border" d="M639.5 429V430H361.5V429H639.5ZM801 267.5C801 178.306 728.694 106 639.5 106H361.5C272.306 106 200 178.306 200 267.5C200 356.694 272.306 429 361.5 429V430L359.399 429.986C270.621 428.862 199 356.545 199 267.5C199 178.455 270.621 106.138 359.399 105.014L361.5 105H639.5C729.246 105 802 177.754 802 267.5C802 357.246 729.246 430 639.5 430V429C728.694 429 801 356.694 801 267.5Z" fill="#3371A5" class="general-2 no-border accent"/>\n<path id="general-1-image" d="M225 268C225 190.68 291.593 128 373.739 128H627.261C709.407 128 776 190.68 776 268C776 345.32 709.407 408 627.261 408H373.739C291.593 408 225 345.32 225 268Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="11.0625" width="173" height="198" class="step-1 card textbox left bottom" fill="#E5E5E5"/>\n<path id="step-1_2" d="M48 225V226H234V225H48Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n<rect id="step-1-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent" x="15" y="221"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="14.168701171875" y="318.0625" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="15" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M233 304V305H53V304H233Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="1.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-card-textbox" x="816.168701171875" y="318.0625" width="173" height="198" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-4-accent" x="955" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-4 accent"/>\n<path id="step-4_2" d="M946 304V305H766V304H946Z" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-selection" x="803.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="11.0625" width="173" height="198" class="step-2 card textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="221"/>\n<path id="step-2_2" d="M766 225V226H955V225H766Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iE="oval_stroke_image",iS={key:iE,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,2,4),s=ij.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iE,svgScalingFactor:iS.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"zq+ouO"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:ij,formattingMenu:G,defaultData:()=>w(ij),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/oval.5625262e.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},iM=new Map(Object.entries({round_rect_and_square_image_2:'<svg class="round_rect_and_square_image-frame" width="1014.8645190429687" height="420.0332507324219" viewBox="-5.347893676757813 57.48337463378905 1014.8645190429687 420.0332507324219" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="round_rect_and_square_image-frame">\n<path id="general-1-image" d="M593 77C610.673 77 625 91.3269 625 109C625 91.3269 639.327 77 657 77H711C728.673 77 743 91.3269 743 109V426C743 443.673 728.673 458 711 458H657C639.327 458 625 443.673 625 426C625 443.673 610.673 458 593 458H291C273.327 458 259 443.673 259 426V109C259 91.3269 273.327 77 291 77H593Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168731689453125" y="174.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="156" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M291 160V161H51V160H291Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="174.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="156"/>\n<path id="step-2_2" d="M714 160V161H954V160H714Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',round_rect_and_square_image_3:'<svg class="round_rect_and_square_image-frame" width="1014.86455078125" height="543.095118713379" viewBox="-5.347924804687501 -7.516625976562501 1014.86455078125 543.095118713379" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="round_rect_and_square_image-frame">\n<path id="general-1-image" d="M593 77C610.673 77 625 91.3269 625 109C625 91.3269 639.327 77 657 77H711C728.673 77 743 91.3269 743 109V426C743 443.673 728.673 458 711 458H657C639.327 458 625 443.673 625 426C625 443.673 610.673 458 593 458H291C273.327 458 259 443.673 259 426V109C259 91.3269 273.327 77 291 77H593Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="30.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M294 16L295 16L295 128L294 128L294 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M294 16V17H51V16H294Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="14.168701171875" y="318.0618667602539" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="15" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M294 304V305H51V304H294Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="1.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="174.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="156"/>\n<path id="step-2_2" d="M711 160V161H954V160H711Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="145.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',round_rect_and_square_image_4:'<svg class="round_rect_and_square_image-frame" width="1014.86455078125" height="543.095263671875" viewBox="-5.347924804687501 -7.516625976562501 1014.86455078125 543.095263671875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="round_rect_and_square_image-frame">\n<path id="general-1-image" d="M593 77C610.673 77 625 91.3269 625 109C625 91.3269 639.327 77 657 77H711C728.673 77 743 91.3269 743 109V426C743 443.673 728.673 458 711 458H657C639.327 458 625 443.673 625 426C625 443.673 610.673 458 593 458H291C273.327 458 259 443.673 259 426V109C259 91.3269 273.327 77 291 77H593Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="30.06201171875" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="12" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M293 16L294 16L294 128L293 128L293 16Z" fill="#FAF5EB" class="step-1 subtle"/>\n<path id="step-1_3" d="M294 16V17H51V16H294Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="14.168701171875" y="318.0618667602539" width="173" height="198" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-accent" x="15" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-3 accent"/>\n<path id="step-3_2" d="M294 304V305H51V304H294Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-selection" x="1.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-card-textbox" x="816.168701171875" y="318.06201171875" width="173" height="198" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-4-accent" x="955" y="300" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-4 accent"/>\n<rect id="step-4-selection" x="803.5" y="289.5" width="197" height="245" stroke="#2B3541" class="step-4 selection"/>\n<path id="step-4_2" d="M955 304V305H712V304H955Z" fill="#FAF5EB" class="step-4 subtle"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="30.06201171875" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-accent" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-2 accent" x="955" y="12"/>\n<path id="step-2_2" d="M711 16V17H954V16H711Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-selection" x="803.5" y="1.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n<path id="step-2_3" d="M711 16L712 16L712 128L711 128L711 16Z" fill="#FAF5EB" class="step-2 subtle"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iI="round_rect_and_square_image",i_={key:iI,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:1,2,4),s=iM.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iI,svgScalingFactor:i_.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"oeHMAR"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iM,formattingMenu:G,defaultData:()=>w(iM),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/impact.c985f4b1.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},iD=new Map(Object.entries({semi_circle_1:'<svg class="semi_circle-frame" width="739.2645190429688" height="492.43325073242187" viewBox="-0.04789367675781264 21.783374633789062 739.2645190429688 492.43325073242187" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="semi_circle-frame">\n<path id="general-1-image" d="M507.856 36C589.973 36.0001 662.075 79.7586 703 145.673L450.932 500C350.962 474.127 277 381.683 277 271.609C277 141.486 380.358 36 507.856 36Z" class="general-1 image" fill="#666666"/>\n<circle id="general-3" cx="714.5" cy="189.5" r="10.5" fill="#3371A5" class="general-3 accent"/>\n<path id="general-2" d="M679.748 189C699.431 217.327 711 251.921 711 289.268C711 340.18 689.503 385.977 655.254 417.753C650.097 409.011 640.699 403.161 629.959 403.161C613.67 403.161 600.465 416.614 600.465 433.209C600.466 439.401 602.305 445.156 605.456 449.937C585.429 458.354 563.485 463 540.476 463C522.903 463 505.951 460.292 490 455.263L679.748 189Z" fill="#FAF5EB" class="general-2 subtle"/>\n<circle id="general-1-no-border" cx="630" cy="433" r="27" fill="#3371A5" class="general-1 no-border accent"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168731689453125" y="113.06201171875" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="95" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M426 99V100H51V99H426Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="#2B3541" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',semi_circle_2:'<svg class="semi_circle-frame" width="1012.96" height="502.96" viewBox="-5.311298828125 16.52 1012.96 502.96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="semi_circle-frame">\n<path id="general-1-image" d="M507.856 36C589.973 36.0001 662.075 79.7586 703 145.673L450.932 500C350.962 474.127 277 381.683 277 271.609C277 141.486 380.358 36 507.856 36Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M679.748 189C699.431 217.327 711 251.921 711 289.268C711 340.18 689.503 385.977 655.254 417.753C650.097 409.011 640.699 403.161 629.959 403.161C613.67 403.161 600.465 416.614 600.465 433.209C600.466 439.401 602.305 445.156 605.456 449.937C585.429 458.354 563.485 463 540.476 463C522.903 463 505.951 460.292 490 455.263L679.748 189Z" fill="#FAF5EB" class="general-2 subtle"/>\n<circle id="general-1-no-border" cx="630" cy="433" r="27" fill="#3371A5" class="general-1 no-border accent"/>\n<circle id="general-3" cx="714.5" cy="189.5" r="10.5" fill="#3371A5" class="general-3 accent"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="113.06201171875" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="95" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M426 99V100H51V99H426Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="310" width="35" height="8" rx="2.17825" fill="#8FB9DC" class="step-2 accent"/>\n<path id="step-2_3" d="M761 314.5V315.5L677 315.5L677 314.5L761 314.5Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.168701171875" y="328.06201171875" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="706.5" y="299.5" width="294" height="193" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',semi_circle_3:'<svg class="semi_circle-frame" width="1012.96" height="503.0225" viewBox="-5.311298828125 16.52 1012.96 503.0225" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="semi_circle-frame">\n<path id="general-1-image" d="M507.856 36C589.973 36.0001 662.075 79.7586 703 145.673L450.932 500C350.962 474.127 277 381.683 277 271.609C277 141.486 380.358 36 507.856 36Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M679.748 189C699.431 217.327 711 251.921 711 289.268C711 340.18 689.503 385.977 655.254 417.753C650.097 409.011 640.699 403.161 629.959 403.161C613.67 403.161 600.465 416.614 600.465 433.209C600.466 439.401 602.305 445.156 605.456 449.937C585.429 458.354 563.485 463 540.476 463C522.903 463 505.951 460.292 490 455.263L679.748 189Z" fill="#FAF5EB" class="general-2 subtle"/>\n<circle id="general-1-no-border" cx="630" cy="433" r="27" fill="#3371A5" class="general-1 no-border accent"/>\n<circle id="general-3" cx="714.5" cy="189.5" r="10.5" fill="#3371A5" class="general-3 accent"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168701171875" y="113.06201171875" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="95" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M426 99V100H51V99H426Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="240" width="35" height="8" rx="2.17825" fill="#8FB9DC" class="step-2 accent"/>\n<path id="step-2_3" d="M761 244.5V245.5L677 245.5L677 244.5L761 244.5Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.168701171875" y="258.06201171875" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="706.5" y="229.5" width="294" height="193" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M336 330.5V331.5H121V330.5H336Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-accent" x="84.9995" y="327" width="35" height="8" rx="2.17825" fill="#B4D0E8" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="84.168212890625" y="346.0625" width="228" height="154" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="71.4995" y="318.5" width="294" height="195" stroke="#2B3541" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',semi_circle_4:'<svg class="semi_circle-frame" width="1012.96" height="504.0225" viewBox="-5.3110546875 16.52 1012.96 504.0225" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="semi_circle-frame">\n<path id="general-1-image" d="M507.856 36C589.973 36.0001 662.075 79.7586 703 145.673L450.932 500C350.962 474.127 277 381.683 277 271.609C277 141.486 380.358 36 507.856 36Z" class="general-1 image" fill="#666666"/>\n<path id="general-2" d="M679.748 189C699.431 217.327 711 251.921 711 289.268C711 340.18 689.503 385.977 655.254 417.753C650.097 409.011 640.699 403.161 629.959 403.161C613.67 403.161 600.465 416.614 600.465 433.209C600.466 439.401 602.305 445.156 605.456 449.937C585.429 458.354 563.485 463 540.476 463C522.903 463 505.951 460.292 490 455.263L679.748 189Z" fill="#FAF5EB" class="general-2 subtle"/>\n<circle id="general-1-no-border" cx="630" cy="433" r="27" fill="#3371A5" class="general-1 no-border accent"/>\n<circle id="general-3" cx="714.5" cy="189.5" r="10.5" fill="#3371A5" class="general-3 accent"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.1689453125" y="113.06201171875" width="228" height="154" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="95" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<path id="step-1_2" d="M426 99V100H51V99H426Z" fill="#FAF5EB" class="step-1 subtle"/>\n<rect id="step-1-selection" x="1.5" y="84.5" width="294" height="193" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2_2" x="761" y="71" width="35" height="8" rx="2.17825" fill="#8FB9DC" class="step-2 accent"/>\n<path id="step-2_3" d="M761 75V76L550 76L550 75L761 75Z" fill="#FAF5EB" class="step-2 subtle"/>\n<rect id="step-2-card-textbox" x="760.1689453125" y="88.06201171875" width="228" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="706.5" y="59.5" width="294" height="193" stroke="#2B3541" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M335.999 330.5V331.5H120.999V330.5H335.999Z" fill="#FAF5EB" class="step-3 subtle"/>\n<rect id="step-3-accent" x="84.999" y="327" width="35" height="8" rx="2.17825" fill="#B4D0E8" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="84.168212890625" y="346.0625" width="228" height="154" class="step-3 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="71.499" y="318.5" width="294" height="195" stroke="#2B3541" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M735 332V333L626 333L626 332L735 332Z" fill="#FAF5EB" class="step-4 subtle"/>\n<rect id="step-4-accent" x="735" y="328" width="35" height="8" rx="2.17825" fill="#DAE8F3" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="734.16845703125" y="347.0625" width="228" height="154" class="step-4 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="680.5" y="319.5" width="294" height="193" stroke="#2B3541" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iR="semi_circle",iT={key:iR,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:4,1,4),s=iD.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iR,svgScalingFactor:iT.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"dwGAFh"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iD,formattingMenu:G,defaultData:()=>w(iD),svgScalingFactor:1,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/semi_circle.06eddec0.svg",height:96,width:253,blurWidth:0,blurHeight:0},featureFlag:"imagesInDiagrams"},iz=new Map(Object.entries({zig_zag_image_2:'<svg class="zig_zag_image-frame" width="1013.9999682617188" height="372.9999987792969" viewBox="-5.331267700195312 96.50000061035156 1013.9999682617188 372.9999987792969" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="zig_zag_image-frame">\n<path id="general-1-image" d="M221 116L221 450L268.702 450L262.32 265.527L265.007 265.527L288.187 450L356.045 450L350.334 265.527L352.686 265.527L375.865 450L443.388 450L437.341 265.527L440.028 265.527L463.208 450L531.402 450L525.355 265.527L528.043 265.527L550.886 450L619.416 450L613.034 265.527L615.721 265.527L638.229 450L706.423 450L700.376 265.527L703.064 265.527L725.235 450L781 450L781 116L733.969 116L739.68 299.465L737.329 299.465L713.813 116L645.955 116L651.33 299.465L648.642 299.465L626.135 116L558.612 116L565.331 299.465L561.972 299.465L538.456 116L471.27 116L477.317 299.465L473.957 299.465L451.114 116L382.92 116L389.302 299.465L385.943 299.465L363.1 116L295.913 116L301.288 297.785L298.265 297.785L276.093 116L221 116Z" class="general-1 image" fill="#666666"/>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="14.168731689453125" y="189.0625" width="173" height="198" class="step-1 card textbox left top" fill="#E5E5E5"/>\n<rect id="step-1-accent" x="15" y="171" width="35" height="8" rx="2.17825" fill="#69A1D1" class="step-1 accent"/>\n<rect id="step-1-selection" x="1.5" y="160.5" width="197" height="245" stroke="#2B3541" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="816.168701171875" y="189.0625" width="173" height="198" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2-accent" d="M852 173.178C852 171.975 851.025 171 849.822 171H819.178C817.975 171 817 171.975 817 173.178V176.822C817 178.025 817.975 179 819.178 179H849.822C851.025 179 852 178.025 852 176.822V173.178Z" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-selection" x="803.5" y="160.5" width="197" height="245" stroke="#2B3541" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iH="zig_zag_image",iN={key:iH,Component:e=>{var t,n;let{data:a}=e,r=j()(null!=(n=null==(t=a.step)?void 0:t.length)?n:2,2,2),s=iz.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iH,svgScalingFactor:iN.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"q8e8F6"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iz,formattingMenu:G,defaultData:()=>w(iz),svgScalingFactor:1,featureFlag:"imagesInDiagramsRelease2"},iB=new Map(Object.entries({pillar_layout_4:'<svg class="pillar_layout-frame" width="431.711" height="434.35119999999995" viewBox="286 43.4102 431.711 434.35119999999995" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pillar_layout-frame">\n<g id="general-1" class="general-1 accent">\n<rect id="general-1-accent" x="296" y="451.293" width="411.711" height="16.4684" fill="#B4D0E8" class="general-1 accent"/>\n<path id="general-1-accent_2" d="M707.671 128.558H296.016V110.691H707.671V128.558Z" fill="#DAE8F3" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M707.69 107.866H296L501.845 53.4102L707.69 107.866Z" fill="#DAE8F3" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<rect id="step-1-accent" x="325.133" y="168.551" width="58.6688" height="257.319" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_2" x="318.418" y="428.461" width="73.1566" height="12.5738" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_3" x="310.402" y="443.324" width="88.0165" height="12.5738" fill="#448AC5" class="step-1 accent"/>\n<rect id="step-1-accent_4" width="73.15660000000003" height="12.573800000000006" fill="#448AC5" class="step-1 accent" x="318.418" y="153.69219999999999"/>\n<rect id="step-1-accent_5" width="88.01650000000001" height="12.573800000000006" fill="#448AC5" class="step-1 accent" x="310.402" y="138.8322"/>\n<rect id="step-1-image" x="338" y="283" width="31.616085052490234" height="31.616085052490234" class="step-1 image" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<rect id="step-2-accent" x="423.828" y="168.551" width="58.6688" height="257.319" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_2" x="416.727" y="428.469" width="73.1566" height="12.5738" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_3" x="408.719" y="443.332" width="88.0165" height="12.5738" fill="#69A1D1" class="step-2 accent"/>\n<rect id="step-2-accent_4" width="73.15660000000003" height="12.573800000000006" fill="#69A1D1" class="step-2 accent" x="416.727" y="153.6962"/>\n<rect id="step-2-accent_5" width="88.01650000000001" height="12.573800000000006" fill="#69A1D1" class="step-2 accent" x="408.719" y="138.8362"/>\n<rect id="step-2-image" x="436" y="283" width="31.616085052490234" height="31.616085052490234" class="step-2 image" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<rect id="step-3-accent" width="73.15660000000003" height="12.573800000000006" fill="#8FB9DC" class="step-3 accent" x="515.031" y="153.6962"/>\n<rect id="step-3-accent_2" width="88.01650000000001" height="12.573800000000006" fill="#8FB9DC" class="step-3 accent" x="507.035" y="138.8362"/>\n<rect id="step-3-accent_3" x="522.535" y="168.555" width="57.6395" height="257.319" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_4" x="515.031" y="428.473" width="73.1566" height="12.5738" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-accent_5" x="507.035" y="443.332" width="88.0165" height="12.5738" fill="#8FB9DC" class="step-3 accent"/>\n<rect id="step-3-image" x="534" y="283" width="31.616085052490234" height="31.616085052490234" class="step-3 image" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<rect id="step-4-accent" width="73.15660000000003" height="12.573800000000006" fill="#8FB9DC" class="step-4 accent" x="613.348" y="153.69219999999999"/>\n<rect id="step-4-accent_2" width="88.01649999999995" height="12.573800000000006" fill="#8FB9DC" class="step-4 accent" x="605.34" y="138.8362"/>\n<rect id="step-4-accent_3" x="621.004" y="168.551" width="57.6395" height="257.319" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-accent_4" x="613.348" y="428.469" width="73.1566" height="12.5738" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-accent_5" x="605.34" y="443.328" width="88.0165" height="12.5738" fill="#8FB9DC" class="step-4 accent"/>\n<rect id="step-4-image" x="633" y="283" width="31.616085052490234" height="31.616085052490234" class="step-4 image" fill="#666666"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),iP="pillar_layout",iF={key:iP,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,s=iB.get(r);return s?(0,i.jsx)(tA,{svgData:s,templateKey:iP,svgScalingFactor:iF.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"h1icb8"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:iB,formattingMenu:G,defaultData:()=>w(iB),svgScalingFactor:1,featureFlag:"heroSmartLayouts"},iV=(e,t,n,i)=>{let a=n/2,r=e*i,s=t*i,l=-a,o=-e,c=-t;return{path:["M ".concat(l,",").concat(o),"L ".concat(a,",").concat(c),"A ".concat(s,",").concat(t," 0 0,0 ").concat(a,",").concat(t),"L ".concat(l,",").concat(e),"A ".concat(r,",").concat(e," 0 0,1 ").concat(l,",").concat(o),"Z"].join(" "),iconCenterX:-r}},iO=e=>{let{index:t,totalSegments:n,label:a,icon:r,color:s,updateLabel:l,selectItem:o,isEditable:c,isNodeSelected:d,selectedKeyPath:u,editor:p,x:h,segmentLength:g}=e,m=100/n,x=40+m*(t+1),{path:f,iconCenterX:b}=iV(40+m*t,x,g,.35),C=(0,tn.q9)(s);return(0,i.jsxs)("g",{style:C,children:[(0,i.jsx)("ellipse",{cx:h+g/2,cy:140,rx:.35*x,ry:x,className:(0,ee.cx)(eo._B,eo.D6),style:{opacity:.5}}),(0,i.jsx)("g",{transform:"translate(".concat(h,", ").concat(140,")"),children:(0,i.jsx)("path",{d:f,className:eo.D6})}),(0,i.jsx)(em,{x:h+b-22.5,y:117.5,width:45,height:45,image:r,isEditable:c,selectItem:()=>o("segments[".concat(t,"].icon")),isItemSelected:d&&u==="segments[".concat(t,"].icon")}),(0,i.jsx)(e4,{x:h,transform:"translateX(-50%)",y:140+x+20,width:g+40,height:550-(140+x+20),fontSize:16.2,text:a,isEditable:c,onUpdate:l,selectItem:()=>o("segments[".concat(t,"].label")),parentEditor:p,isItemSelected:d&&u==="segments[".concat(t,"].label"),verticalAlign:"start"})]})},iZ={key:"funnelDiagram",Component:e=>{let t,{data:n,updateData:a,selectItem:r,isEditable:s,editor:l,isNodeSelected:o,selectedKeyPath:c,...d}=e,{segments:u}=n,p=(0,F.GV)(Z.SJ),h=(0,Q.u)("useNewChartingColorSet"),g=(0,V.Ik)((0,V.VH)(p)),m=(0,tt.au)(g,n.colorScheme,p,h),x=Array.from({length:u.length},(e,t)=>t);n.colorScheme&&(t=(0,tt.M9)(m,x,n.colorScheme,{theme:p}));let f=(937-40*(u.length-1))/u.length,b=f/2+14;return(0,i.jsx)(el,{...d,data:n,updateData:a,selectItem:r,isEditable:s,editor:l,isNodeSelected:o,selectedKeyPath:c,children:(0,i.jsx)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(550),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:u.map((e,n)=>(0,i.jsx)(iO,{index:n,totalSegments:u.length,label:e.label,icon:e.icon,color:e.color||(null==t?void 0:t.get(n)),isEditable:s,selectItem:r,isNodeSelected:o,selectedKeyPath:c,editor:l,x:b+n*(f+40),segmentLength:f,updateLabel:e=>a(t=>(t.segments[n].label=e,t))},n))})})},label:()=>r.Ru._({id:"MWYJBI"}),icon:a.AKc,formattingMenu:U,disabled:!0},iW=425,iU=535,iG=555,iK=287.5,iQ=e=>{let{x:t,color:n,icon:a,label:r,updateLabel:s,selectItem:l,isEditable:o,isNodeSelected:c,selectedKeyPath:d,editor:u,index:p}=e,h=(0,tn.q9)(n);return(0,i.jsxs)("g",{transform:"translate(".concat(t,", 0)"),style:h,children:[(0,i.jsx)("rect",{x:12.5,y:205,width:140,height:330,className:eo.D6}),(0,i.jsx)("rect",{x:0,y:205,width:165,height:20,rx:5,ry:5,className:eo.D6}),(0,i.jsx)("rect",{x:0,y:iU-20,width:165,height:20,rx:5,ry:5,className:eo.D6}),(0,i.jsx)(em,{x:57.5,y:345,width:50,height:50,image:a,isEditable:o,selectItem:()=>l("pillars[".concat(p,"].icon")),isItemSelected:c&&d==="pillars[".concat(p,"].icon")}),(0,i.jsx)(e4,{x:82.5,y:iG,width:214.5,transform:"translateX(-50%)",height:80,fontSize:18,text:r,isEditable:o,onUpdate:s,selectItem:()=>l("pillars[".concat(p,"].label")),parentEditor:u,isItemSelected:c&&d==="pillars[".concat(p,"].label"),verticalAlign:"start"})]})},iq={key:"pillars",Component:e=>{let{data:t,updateData:n,isEditable:a,selectItem:r,editor:s,isNodeSelected:l,selectedKeyPath:o,...c}=e,{title:d,pillars:u}=t,p=(()=>{let e=u.length;if(e<=1)return[417.5];let t=e>1?(850-165*e)/(e-1):0;return u.map((e,n)=>75+n*(165+t))})(),h="".concat(75,",").concat(205," ").concat(925,",").concat(205," ").concat(500+iW/2,",").concat(5," ").concat(500-iW/2,",").concat(5);return(0,i.jsx)(el,{...c,data:t,updateData:n,selectItem:r,isEditable:a,editor:s,isNodeSelected:l,selectedKeyPath:o,children:(0,i.jsxs)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(650),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:[(0,i.jsx)("polygon",{points:h,className:eo.D6}),(0,i.jsx)(e4,{x:iK,y:5,width:iW,height:200,fontSize:18,text:d,isEditable:a,onUpdate:e=>{n(t=>(t.title=e,t))},selectItem:()=>r("title"),parentEditor:s,isItemSelected:l&&"title"===o,verticalAlign:"middle",className:eo.lR}),(0,i.jsx)("rect",{x:75,y:iU,width:850,height:20,className:eo.D6,rx:5,ry:5}),u.map((e,t)=>(0,i.jsx)(iQ,{x:p[t],color:e.color,icon:e.icon,label:e.label,updateLabel:e=>{n(n=>(n.pillars[t].label=e,n))},isEditable:a,selectItem:r,isNodeSelected:l,selectedKeyPath:o,editor:s,index:t},t))]})})},label:()=>r.Ru._({id:"xGL+6k"}),icon:tI.PKn,disabled:!0,formattingMenu:U},iJ=e=>[e.leftCircle,e.rightCircle,e.topCircle,e.leftRightIntersection,e.topLeftIntersection,e.topRightIntersection,e.allIntersection].some(e=>null==e?void 0:e.isEmphasized),i$=(e,t)=>t?(null==e?void 0:e.isEmphasized)?.5:.25:.5,iY=(e,t)=>t?(null==e?void 0:e.isEmphasized)?1:.5:1,iX={pillars:iq,venn:{key:"venn",Component:e=>{var t;let n,{data:r,updateData:l,isEditable:o,selectItem:c,editor:d,isNodeSelected:u,selectedKeyPath:p,isTextMenuVisible:h,setIsTextMenuVisible:g}=e,{topCircle:m,leftCircle:x,rightCircle:f,topLeftIntersection:b,leftRightIntersection:C,topRightIntersection:y,allIntersection:v}=r,w=!!m,A=iJ(r),k=(0,s.useCallback)(()=>{w&&l(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.rightCircle},leftRightIntersection:{...e.leftRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[w,l]),L=(0,s.useCallback)(()=>{w&&l(e=>({leftCircle:{...e.rightCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[w,l]),j=(0,s.useCallback)(()=>{w&&l(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topLeftIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[w,l]),E=w?3:2,S=(0,F.GV)(Z.SJ),M=(0,Q.u)("useNewChartingColorSet"),I=(0,V.Ik)((0,V.VH)(S)),_=(0,tt.au)(I,r.colorScheme,S,M);if(r.colorScheme){let e=Array.from({length:E},(e,t)=>t);n=(0,tt.M9)(_,e,r.colorScheme,{theme:S})}let R=(0,tn.q9)((null==m?void 0:m.color)||(null==n?void 0:n.get(0))||_),T=(0,tn.q9)((null==x?void 0:x.color)||(null==n?void 0:n.get(1))||_),H=(0,tn.q9)((null==f?void 0:f.color)||(null==n?void 0:n.get(2))||_);return(0,i.jsx)(el,{...e,svgWidthPercent:75,children:(0,i.jsxs)("svg",{viewBox:w?"0 0 1000 938":"0 0 1000 625",preserveAspectRatio:"xMidYMid meet",overflow:"visible",style:{"--shape-border-width":"1.25px"},children:[(0,i.jsx)(Y,{}),(0,i.jsx)("g",{style:T,children:(0,i.jsx)("circle",{cx:312.5,cy:w?625:312.5,r:312.5,className:eo._B,fillOpacity:i$(x,A),strokeOpacity:i$(x,A),style:o?{pointerEvents:"none"}:void 0})}),(0,i.jsx)("g",{style:H,children:(0,i.jsx)("circle",{cx:687.5,cy:w?625:312.5,r:312.5,className:eo._B,fillOpacity:i$(f,A),strokeOpacity:i$(f,A),style:o?{pointerEvents:"none"}:void 0})}),w&&(0,i.jsx)("g",{style:R,children:(0,i.jsx)("circle",{cx:500,cy:312.5,r:312.5,className:eo._B,fillOpacity:i$(m,A),strokeOpacity:i$(m,A),style:o?{pointerEvents:"none"}:void 0})}),(0,i.jsx)(eP,{x:0,y:312.5*!!w,width:625,height:625,isEditable:o,selectItem:()=>{c("leftCircle")},updateStep:e=>{l(t=>(t.leftCircle={...t.leftCircle,...e},t))},isItemSelected:!u&&"leftCircle"===p,isStepSelected:!u&&"leftCircle"===p,formattingMenuItems:(0,i.jsx)(i.Fragment,{children:w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(z.I,{size:"sm",variant:"toolbar",onClick:L,icon:a.yLS,color:"red.500"})]})}),stepAttributes:x,editor:d}),(0,i.jsx)(eP,{x:375,y:312.5*!!w,width:625,height:625,isEditable:o,selectItem:()=>{c("rightCircle")},updateStep:e=>{l(t=>(t.rightCircle={...t.rightCircle,...e},t))},isItemSelected:!u&&"rightCircle"===p,isStepSelected:!u&&"rightCircle"===p,formattingMenuItems:(0,i.jsx)(i.Fragment,{children:w&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(z.I,{size:"sm",variant:"toolbar",onClick:j,icon:a.yLS,color:"red.500"})]})}),stepAttributes:f,editor:d}),w&&(0,i.jsx)(eP,{x:187.5,y:0,width:625,height:625,isEditable:o,selectItem:()=>{c("topCircle")},updateStep:e=>{l(t=>(t.topCircle&&(t.topCircle={...t.topCircle,...e}),t))},isItemSelected:!u&&"topCircle"===p,isStepSelected:!u&&"topCircle"===p,formattingMenuItems:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(z.I,{size:"sm",variant:"toolbar",onClick:k,icon:a.yLS,color:"red.500"})]}),stepAttributes:m,editor:d}),w&&m&&(0,i.jsx)(e4,{x:250,y:50,width:500,height:250,fontSize:24,className:eo.ok,text:m.text,isEditable:o,onUpdate:e=>{l(t=>(t.topCircle&&(t.topCircle.text=e),t))},selectItem:()=>c("topCircle.text"),parentEditor:d,isItemSelected:u&&"topCircle.text"===p,style:A?{opacity:iY(m,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),(0,i.jsx)(e4,{x:w?25:50,y:w?550:50,width:w?350:300,height:w?300:525,fontSize:24,className:eo.ok,text:null!=(t=null==x?void 0:x.text)?t:"",isEditable:o,onUpdate:e=>{l(t=>(t.leftCircle||(t.leftCircle={text:""}),t.leftCircle.text=e,t))},selectItem:()=>c("leftCircle.text"),parentEditor:d,isItemSelected:u&&"leftCircle.text"===p,textAlign:"center",style:A?{opacity:iY(x,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),(0,i.jsx)(e4,{x:w?625:675,y:w?550:50,width:w?350:300,height:w?300:525,fontSize:24,className:eo.ok,text:f.text,isEditable:o,onUpdate:e=>{l(t=>(t.rightCircle.text=e,t))},selectItem:()=>c("rightCircle.text"),parentEditor:d,isItemSelected:u&&"rightCircle.text"===p,textAlign:"center",style:A?{opacity:iY(f,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),w&&b&&(0,i.jsx)(e4,{x:212.5,y:300,width:212.5,height:225,fontSize:24,className:eo.ok,text:b.text,isEditable:o,onUpdate:e=>{l(t=>(t.topLeftIntersection&&(t.topLeftIntersection.text=e),t))},selectItem:()=>c("topLeftIntersection.text"),parentEditor:d,isItemSelected:u&&"topLeftIntersection.text"===p,style:A?{opacity:iY(b,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),w&&y&&(0,i.jsx)(e4,{x:575,y:300,width:212.5,height:225,fontSize:24,className:eo.ok,text:y.text,isEditable:o,onUpdate:e=>{l(t=>(t.topRightIntersection&&(t.topRightIntersection.text=e),t))},selectItem:()=>c("topRightIntersection.text"),parentEditor:d,isItemSelected:u&&"topRightIntersection.text"===p,style:A?{opacity:iY(y,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),(0,i.jsx)(e4,{x:w?437.5:400,y:w?650:150,width:w?125:200,height:w?100:325,fontSize:24,className:eo.ok,text:C.text,isEditable:o,onUpdate:e=>{l(t=>(t.leftRightIntersection.text=e,t))},selectItem:()=>c("leftRightIntersection.text"),parentEditor:d,isItemSelected:u&&"leftRightIntersection.text"===p,textAlign:"center",style:A?{opacity:iY(C,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),w&&v&&(0,i.jsx)(e4,{x:425,y:400,width:150,height:225,fontSize:24,className:eo.ok,text:v.text,isEditable:o,onUpdate:e=>{l(t=>(t.allIntersection&&(t.allIntersection.text=e),t))},selectItem:()=>c("allIntersection.text"),parentEditor:d,isItemSelected:u&&"allIntersection.text"===p,style:A?{opacity:iY(v,A)}:void 0,isTextMenuVisible:h,setIsTextMenuVisible:g}),(0,i.jsx)(Y,{})]})})},label:()=>r.Ru._({id:"z5TX2d"}),icon:tI.cvw,previewImage:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/venn.ada3eb84.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultData:()=>({leftCircle:{text:"<h2>A</h2>",color:void 0,isEmphasized:!1},rightCircle:{text:"<h2>B</h2>",color:void 0,isEmphasized:!1},leftRightIntersection:{text:"A & B",color:void 0,isEmphasized:!1}}),formattingMenu:e=>{let{editor:t,selection:n,decorations:r}=e,{data:l}=n.node.attrs,o=(0,s.useCallback)(e=>{try{let i=e({...l});t.commands.updateAttributesAtPos(n.from,{data:i})}catch(e){console.error("Error updating Venn diagram data",e)}},[l,t.commands,n.from]),c=(0,s.useCallback)(()=>{o(e=>({...e,topCircle:{text:"<h3>C</h3>",color:void 0,isEmphasized:!1},topLeftIntersection:{text:"A & C",color:void 0,isEmphasized:!1},topRightIntersection:{text:"B & C",color:void 0,isEmphasized:!1},allIntersection:{text:"A & B & C",color:void 0,isEmphasized:!1}}))},[o]),d=(0,s.useCallback)(()=>{o(e=>({leftCircle:e.leftCircle,rightCircle:e.rightCircle,leftRightIntersection:e.leftRightIntersection,topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[o]),u=!!l.topCircle;return(0,i.jsx)(U,{editor:t,selection:n,decorations:r,children:(0,i.jsxs)(E.z,{children:[!u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:c,leftIcon:(0,i.jsx)(M.g,{icon:a.q_k}),ms:2,children:(0,i.jsx)(I.x6,{id:"Fgzljt"})}),(0,i.jsx)(D.q,{})]}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:d,leftIcon:(0,i.jsx)(M.g,{icon:a.mGv}),ms:2,children:(0,i.jsx)(I.x6,{id:"DUcdY9"})}),(0,i.jsx)(D.q,{})]})]})})}},funnel:iZ,[nM]:nI,[tD]:tR,[nj]:nE,[t$]:tY,[t3]:t5,[nA]:nk,[nK]:nQ,[nX]:n0,[t0]:t1,[nW]:nU,[ny]:nv,[tS]:tM,[nr]:ns,[nu]:np,[tL]:tj,[nf]:nb,[tQ]:tq,[nB]:nP,[tW]:tU,[nV]:nO,[nz]:nH,[nJ]:n$,[tz]:tH,[tB]:tP,[nD]:nR,[t6]:t9,[nn]:ni,[t8]:ne,[tV]:tO,[ng]:nm,[no]:nc,[iP]:iF},i0={[iu]:ip,[ir]:is,[io]:ic,[ig]:im,[iH]:iN,[iI]:i_,[iE]:iS,[ik]:iL,[iv]:iw,[n2]:n3,[n4]:n6,[n7]:n8,[ib]:iC,[it]:ii,[iR]:iT},i1={bullseye_composable:tD,quadrant:nA,"square-arrows":nW,bubbles:tS},i2=e=>(i1[e]&&(e=i1[e]),i0[e])?i0[e]:iX[e],i3=e=>{let t=i2(e);return null==t?void 0:t.formattingMenu},i5=e=>!!iX[e]||!!i0[e]},57860:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(37243),a=n(55729),r=n(88077);n(29143);let s=!!window.next;class l{setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?s?null:this.createEditor():this.options.current.immediatelyRender?this.createEditor():null}createEditor(){var e=this;let t={...this.options.current,onBeforeCreate:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onBeforeCreate)?void 0:t.call(n,...a)},onBlur:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onBlur)?void 0:t.call(n,...a)},onCreate:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onCreate)?void 0:t.call(n,...a)},onDestroy:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onDestroy)?void 0:t.call(n,...a)},onFocus:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onFocus)?void 0:t.call(n,...a)},onSelectionUpdate:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onSelectionUpdate)?void 0:t.call(n,...a)},onTransaction:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onTransaction)?void 0:t.call(n,...a)},onUpdate:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onUpdate)?void 0:t.call(n,...a)},onContentError:function(){for(var t,n,i=arguments.length,a=Array(i),r=0;r<i;r++)a[r]=arguments[r];return null==(t=(n=e.options.current).onContentError)?void 0:t.call(n,...a)}};return new i.KE(t)}getEditor(){return this.editor}getServerSnapshot(){return this.editor}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===e.length?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){let e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,a.useMemo)(()=>{},[]);let n=(0,a.useRef)(e);n.current=e;let[i]=(0,a.useState)(()=>new l(n)),s=(0,a.useSyncExternalStore)(i.subscribe,i.getEditor,i.getServerSnapshot);return(0,a.useDebugValue)(s),(0,a.useEffect)(i.onRender(t)),(0,r.e)({editor:s,selector:t=>{let{transactionNumber:n}=t;return!1===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===n?0:n+1}}),s}},57963:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var i=n(6029),a=n(36218),r=n(55729),s=n(11403);let l=(0,r.forwardRef)((e,t)=>{let{initialHeight:n="1em",bottomSpacing:l=0,onChange:o,resizeOnMount:c=!0,onKeyDown:d,...u}=e,p=(0,r.useRef)(null),h=null!=t?t:p,[g,m]=(0,r.useState)(!1),x=(0,r.useCallback)(()=>{"function"!=typeof h&&(null==h?void 0:h.current)&&(h.current.style.height=n,h.current.style.height="".concat(h.current.scrollHeight+l,"px"))},[n,h,l]),[f,b]=(0,r.useState)(!1);(0,s.Vg)(()=>{if(!f&&!c)return void b(!0);x()},[x,u.value,f,c],[u.value]);let C=(0,s.jm)();return(0,r.useEffect)(()=>{C&&x()},[C,x]),(0,i.jsx)(a.T,{h:n,minH:n,ref:h,resize:"none",overflow:"hidden",...u,onCompositionStart:()=>m(!0),onCompositionEnd:()=>m(!1),onChange:e=>{x(),null==o||o(e)},onKeyDown:e=>{g||null==d||d(e)}})});l.displayName="ResizingTextarea"},58082:(e,t,n)=>{"use strict";n.d(t,{a:()=>c,x:()=>d});var i=n(25778),a=n(95714),r=n(43634),s=n(45214),l=n(90098),o=n(16309);let c=e=>{let t=(0,i.GV)(r.SJ),{cardColorSolid:n,bodyColorSolid:a,primaryColorSolid:o,isCardDark:c}=d(e,t),{accentColorLight:u}=(0,s.o5)({cardColor:{type:"solid",color:n},bodyColor:{type:"solid",color:a},config:(0,l.M)(t),theme:t});return{theme:t,isDark:c,cardColor:n,bodyColor:a,primaryColor:o,primaryColorLight:u}},d=(e,t)=>{let{cardColorOverride:n}=(0,o.tg)(e);return(0,a.Dh)(t,n)}},58240:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var i=n(55729),a=n(91938),r=n(27002),s=n(23460);class l{static observeElement(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"!=typeof IntersectionObserver?()=>{}:l.instance.doObserveElement(...t)}static get instance(){return l._instance||(l._instance=new l),l._instance}doObserveElement(e,t,n){let{rootMargin:i="0px 0px 0px 0px",root:a=null}=n,r=this.getObserverForRoot(a,i);return this.callbacksMap.has(r)||this.callbacksMap.set(r,new Map),this.callbacksMap.get(r).set(e,t),r.observe(e),()=>{this.disconnect(e,i,a)}}disconnect(e,t,n){var i,a;let r=this.getObserverForRoot(n,t,!0);if(!r)return;r.unobserve(e);let s=this.callbacksMap.get(r);s&&s.delete(e),(null==s||!s.size)&&(r.disconnect(),this.callbacksMap.delete(r),null==(i=this.intersectionObserversMap.get(n))||i.delete(t),(null==(a=this.intersectionObserversMap.get(n))?void 0:a.size)||this.intersectionObserversMap.delete(n))}getObserverForRoot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.intersectionObserversMap.has(e)){if(n)return;this.intersectionObserversMap.set(e,new Map)}let i=this.intersectionObserversMap.get(e);if(!i.has(t)){if(n)return;i.set(t,new IntersectionObserver(this.intersectionCallback.bind(this),{root:e,rootMargin:t}))}return i.get(t)}intersectionCallback(e,t){let n=new Map,i=this.callbacksMap.get(t);i&&(e.forEach(e=>{n.has(e.target)||n.set(e.target,[]),n.get(e.target).push(e)}),n.forEach((e,t)=>{try{var n;null==(n=i.get(t))||n(e)}catch(e){console.error(e)}}))}constructor(){this.intersectionObserversMap=new Map,this.callbacksMap=new Map}}l._instance=null;class o{get stats(){let e={};return this.entries.forEach(t=>{var n;let{status:i}=t;e[i]=(null!=(n=e[i])?n:0)+1}),e}static get instance(){return o._instance||(o._instance=new o),o._instance}constructor(){this.entries=new Map,a.$.DEBUG_ENABLED&&"object"==typeof globalThis&&(globalThis.gammaInViewportStats=this)}}o._instance=void 0;let c=function(){var e,t,n;let{intersectionMargin:a="100% 0px 100% 0px",memoGroup:c,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,r.u)("enableVirtualization"),p=(0,i.useId)(),h=(0,i.useRef)(void 0),g=(0,i.useRef)(void 0),m=u?d.dimensions?"HIDDEN":"PENDING":"VISIBLE",[x,f]=(0,i.useState)(m),b=(0,i.useRef)(x),[C,y]=(0,i.useState)(null!=(n=d.dimensions)?n:void 0),v=(0,i.useMemo)(()=>{let e=()=>{if("HIDDEN"===b.current&&h.current){let e=h.current.getBoundingClientRect();y({width:e.width,height:e.height})}f(b.current)},t=null;return function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;b.current=n,t&&(clearTimeout(t),t=null),t=setTimeout(()=>{t=null,e()},i)}},[]),w=null==d?void 0:d.loading,A=(e,t)=>{var n,i;if(!u){v("VISIBLE"),null==(n=g.current)||n.call(g);return}if(!e||w){null==(i=g.current)||i.call(g);return}let r=(0,s.Hc)(e,t);g.current=l.observeElement(e,e=>{var t;let n=null!=(t=b.current)?t:"PENDING",i=e.find(e=>e.isIntersecting);if("VISIBLE"!==n&&i)return void v("VISIBLE");"HIDDEN"===n||i||v("HIDDEN",1500)},{root:r,rootMargin:a})},k=(0,i.useCallback)(()=>{if(!h.current){var e;null==(e=g.current)||e.call(g);return}if(!d.loading){if(A(h.current,c),!d.dimensions&&!C){let e=h.current.getBoundingClientRect();y({width:e.width,height:e.height})}"PENDING"===b.current&&v("HIDDEN")}},[v,d.loading,null==(e=d.dimensions)?void 0:e.width,null==(t=d.dimensions)?void 0:t.height,null==C?void 0:C.width,null==C?void 0:C.height,c]),L=(0,i.useCallback)(e=>{h.current!==e&&(h.current=e,k())},[k]);return(0,i.useEffect)(()=>{var e;return o.instance.entries.set(p,{status:x,el:null!=(e=h.current)?e:null}),()=>{o.instance.entries.delete(p)}},[x,p]),{inViewport:"PENDING"===x?void 0:"VISIBLE"===x,ref:L,dimensions:C}}},58251:(e,t,n)=>{"use strict";n.d(t,{a0:()=>i,zz:()=>a});let i="themed-table",a=()=>({[".".concat(i)]:r}),r={border:"0.0625em solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)","tbody tr":{_even:{backgroundColor:"blackAlpha.50"},_odd:{backgroundColor:"whiteAlpha.50"},_first:{td:{_first:{borderTopLeftRadius:"var(--box-border-radius)"},_last:{borderTopRightRadius:"var(--box-border-radius)"}}}},"tbody tr:last-child":{td:{_first:{borderBottomLeftRadius:"var(--box-border-radius)"},_last:{borderBottomRightRadius:"var(--box-border-radius)"}}},td:{borderInlineStart:"0.0625em solid var(--shape-border-color)",_first:{borderInlineStartWidth:"0"}}}},58450:(e,t,n)=>{"use strict";n.d(t,{C:()=>mb});var i=n(57398),a=n(58497),r=n(91938),s=n(87140),l=n(37243),o=n(51589),c=n(62040),d=n(73326),u=n(46957),p=n(6029),h=n(26420),g=n(54765),m=n(66082);let x=e=>(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{position:"relative","data-selection-ring":"padded",dir:(0,m.fZ)(e.decorations),children:[(0,p.jsx)(d.$p,{as:"blockquote"}),(0,p.jsx)(h.a,{position:"absolute",css:{insetInlineStart:"0"},top:"0",height:"100%",w:"var(--line-thickness)",backgroundColor:"var(--accent-color)",backgroundImage:"var(--accent-gradient)"})]})}),f=o.Ay.extend({group:"cardBlock layoutBlock footnoteBlock tableBlock smartLayoutBlock",content:"(block | calloutBlock)+",addNodeView:()=>(0,d.gu)(x,{update:u.z0}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),unwrapQuoteOnDelete:()=>e=>{let{state:t,tr:n}=e,{selection:i}=t;if(!i.empty)return!1;let a=(0,l.KP)(e=>e.type.name===f.name)(i);if(!a||!(i.from<=a.pos+2))return!1;let r=i.$from.blockRange(i.$to);if(!r)return!1;let s=(0,c.jP)(r);return!!s&&(n.lift(r,s),!0)}}}});var b=n(41885);let C=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,y=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,v=b.Ay.extend({addInputRules(){return[(0,l.OX)({find:C,type:this.type}),(0,l.OX)({find:y,type:this.type})]},renderHTML(e){let{HTMLAttributes:t}=e;return["b",(0,l.KV)(this.options.HTMLAttributes,t),0]}});var w=n(44911),A=n(9343),k=n(9100);let L=l.bP.create({name:"buttonGroup",content:"button{1, ".concat(k.r4,"}"),group:"block",allowGapCursor:!1,addNodeView:()=>(0,d.gu)(A.r,{update:u.R$}),parseHTML:()=>[{tag:"div[class=button-group]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"button-group"}),0]},renderHTMLforAI(e){let{node:t}=e;return["buttons",{},0]}});var j=n(58959),E=n(48810),S=n(21938),M=n(48621),I=n(55729),_=n(68247),D=n(62452),R=n(30892),T=n(58082),z=n(43216),H=n(93770),N=n(17006),B=n(7957);let P=e=>{let{node:t,editor:n,getPos:i,decorations:a}=e,{variant:r,icon:s,color:l}=t.attrs,{firstChildSize:o}=(0,H.P)(a),{theme:c,isDark:u}=(0,T.a)(a),m=(0,N.bh)(o,c),x=(0,D.Ik)((0,D.VH)(c)),{colors:f,icon:b}=(0,B.Tg)(r),{backgroundColor:C,iconColor:y,bodyColor:v}=l?F(l):V(u,f,x),w=(0,I.useCallback)(()=>{if(!n.isEditable)return;let e=i();"number"==typeof e&&n.commands.selectNodeAtPos(e)},[n,i]);return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{backgroundColor:"".concat(C," !important"),pt:"0.25em",pb:"0.5em",px:"1em",className:"calloutBox",borderRadius:"var(--box-border-radius)",css:{"--body-color":v,"--heading-color":v},"data-selection-ring":!0,pos:"relative",children:[(0,p.jsxs)(j.z,{direction:"row",align:o?"baseline":"flex-start",spacing:"1em",children:[s&&(0,p.jsx)(E.E,{sx:m,onClick:w,color:y,mt:o?void 0:"1em",contentEditable:!1,children:(0,p.jsx)(M.g,{icon:b,fixedWidth:!0})}),(0,p.jsx)(d.$p,{style:{flex:"1 1 auto",minWidth:0},className:(0,S.cx)(_.Dv)})]}),(0,p.jsx)(z.A,{handlePlacement:"outside",...e})]})})},F=e=>{let t=(0,R.$p)(e),n=t?(0,R.PE)(e,.7):(0,R.PE)(e,.3);return{backgroundColor:e,bodyColor:t?"white":"black",iconColor:n}},V=(e,t,n)=>{if("accent"===t){let t=e?(0,R.PE)(n,.15):(0,R.PE)(n,.85),i=e?(0,R.PE)(n,.7):(0,R.PE)(n,.3);return{backgroundColor:t,bodyColor:e?"white":"black",iconColor:i}}let i=e?t.dark:t.light;return{backgroundColor:i.backgroundColor,bodyColor:e?"white":"black",iconColor:i.iconColor}},O=l.bP.create({name:"calloutBox",group:"cardBlock layoutBlock footnoteBlock smartLayoutBlock",content:"(block | calloutBlock)+",selectable:!0,isolating:!0,containerHandle:!0,addAttributes:()=>({variant:{default:"note",parseHTML:e=>e.getAttribute("variant"),renderHTML:e=>({variant:e.variant})},icon:{default:!0},color:{renderHTML:e=>({color:e.color}),parseHTML:e=>e.getAttribute("color")}}),addNodeView:()=>(0,d.gu)(P,{update:u.z0}),parseHTML:()=>[{tag:"aside"}],renderHTML(e){let{HTMLAttributes:t}=e;return["aside",(0,l.KV)(t,{class:"calloutBox"}),0]}});var Z=n(87386),W=n(63867),U=n(48993),G=n(8327),K=n(25778),Q=n(47665),q=n(52762),J=n(62171),$=n(8266),Y=n(15607),X=n(38194),ee=n(38934),et=n(50861),en=n(6845),ei=n(94922),ea=n(15902),er=n(59080);let es=!1;var el=n(16309),eo=n(61385),ec=n(43607),ed=n(43634),eu=n(28615),ep=n(57405),eh=n(29810),eg=n(33170),em=n(19564),ex=n(67909),ef=n(36071),eb=n(68728),eC=n(17920),ey=n(26385),ev=n(23293),ew=n(96500),eA=n(3674),ek=n(40691),eL=n(49146),ej=n(23908),eE=n(36693),eS=n(20061),eM=n(3448),eI=n(55597),e_=n(32617),eD=n(11403),eR=n(58809),eT=n(89942);let ez=()=>{let e=(0,K.GV)(eR.Jo);return(0,eT.ez)("card_margin_elements",null==e?void 0:e.organization)};var eH=n(59230);let eN=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e;return Object.values(i).every(e=>!e)},eB=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e;return Object.values(i).some(e=>(null==e?void 0:e.type)==="themeLogo")},eP=e=>{var t,n;return(null==e?void 0:e.type)==="image"&&(null==e||null==(t=e.imageAttrs)?void 0:t.src)&&(null==e||null==(n=e.imageAttrs)?void 0:n.uploadStatus)===eH.A.Done},eF=(e,t)=>!(null==e?void 0:e.type)||"text"===e.type&&!e.content||"image"===e.type&&!eP(e)||"themeLogo"===e.type&&null===t,eV=e=>{var t,n;return(null==e?void 0:e.type)!=="image"?null:null!=(n=null==e||null==(t=e.imageAttrs)?void 0:t.src)?n:null},eO=e=>{let{flex:t,text:n}={Left:{flex:"flex-start",text:"left"},Center:{flex:"center",text:"center"},Right:{flex:"flex-end",text:"right"}}[e.replace(/^(top|bottom)/,"")];return{flex:t,text:n}},eZ={top:/^top/,bottom:/^bottom/,left:/Left$/,right:/Right$/,center:/Center$/},eW=(e,t)=>eZ[e].test(t),eU=(e,t,n)=>{let i=(null!=t?t:1)-1;return e<i?"":((null!=n?n:1)+(e-i)).toString()},eG=(e,t,n)=>{let i=null!=e?e:1,a=null!=t?t:1,r="";2===i?r="—,":i>2&&(r="...,");let s=a+1,l=a+2;return n&&1===i?"".concat(a,", ").concat(s,", ").concat(l,", ").concat(l+1,"..."):"".concat(r," ").concat(a,", ").concat(s,", ").concat(l,"...")},eK=e=>{let t=(0,K.GV)(ed.uF),n=null==e?void 0:e.id,i=!!(n&&t[0]===n),a=t[t.length-1]===n,{cardMarginSettings:r}=(0,K.GV)(ed.Uu),{hideFromFirst:s,hideFromLast:l}=r,o=i&&s,c=a&&l,d=!!(null==e?void 0:e.cardMarginSettings.isHidden);return{isFirstCardAndHidden:o,isLastCardAndHidden:c,isHiddenByCardSettings:d,areElementsCurrentlyHiddenBySettings:!eN(r)&&(o||c||d)}};var eQ=n(46898),eq=n(49611),eJ=n(78140),e$=n(36999),eY=n(16936),eX=n(41283),e0=n(83550),e1=n(85595),e2=n(99492),e3=n(32380),e5=n(77650);let e4=e=>{let{onDelete:t,isDeleteDisabled:n,editor:i}=e,a=(0,eQ.d)(),r=(0,I.useCallback)(()=>{t();let e=a({title:(0,p.jsxs)(j.z,{children:[(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"i+ZZMW"})}),(0,p.jsx)(eq.$,{variant:"link",textDecoration:"underline",as:"span",size:"sm",cursor:"pointer",color:"inherit",onClick:()=>{(0,e3.tN)(i.state),a.close(e)},children:(0,p.jsx)(em.x6,{id:"IiqYd9"})})]}),status:"info",duration:3e3,position:"top"})},[i,t,a]);return(0,p.jsxs)(eJ.W,{children:[(0,p.jsx)(e$.I,{as:eY.K,icon:(0,p.jsx)(M.g,{icon:eI.Dwc}),"aria-label":e5.Ru._({id:"CQDm4Q"}),variant:"plain",size:"sm"}),(0,p.jsx)(eX.c,{children:(0,p.jsx)(e0.r,{title:e5.Ru._({id:"ZYWBTf"}),children:(0,p.jsx)(e1.D,{onClick:r,isDisabled:n,color:"red.500",icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.yLS}),children:(0,p.jsx)(em.x6,{id:"mxPb1C"})})})})]})};var e6=n(40452),e9=n(74003),e7=n(95889),e8=n(99038),te=n(5061);let tt=e=>{let{label:t,children:n,labelProps:i}=e,a=(0,te.fW)();return(0,p.jsxs)(ey.B,{position:"absolute",top:"50%",insetStart:"50%",transform:"translate(".concat(a?"50%":"-50%",",-50%)"),alignItems:"center",w:"100%",px:16,children:[(0,p.jsx)(E.E,{fontSize:"3xl",textAlign:"center",color:"gray.400",...i,children:t}),n]})},tn=(0,I.memo)(e=>{let{onUpsellClick:t}=e;return(0,p.jsxs)(tt,{label:(0,p.jsx)(em.x6,{id:"GRyKgN",values:{PRO_PROPER_NOUN:e8.Kc}}),labelProps:{color:"inherit"},children:[(0,p.jsx)(E.E,{textAlign:"center",mb:"2",children:(0,p.jsx)(em.x6,{id:"RryZ/g",values:{GAMMA_PRO_PROPER_NOUN:e8.Ol}})}),(0,p.jsx)(eq.$,{variant:"solid",onClick:t,children:(0,p.jsx)(em.x6,{id:"cKQRnY",values:{PRO_PROPER_NOUN:e8.Kc}})})]})});tn.displayName="CardMarginElementsUpsell";var ti=n(9329),ta=n(37930),tr=n(48478),ts=n(6760),tl=n(38036),to=n(83004),tc=n(89528),td=n(92124),tu=n(83638),tp=n(25223),th=n(15863),tg=n(72089),tm=n(94740),tx=n(66199),tf=n(18078),tb=n(25311),tC=n(33750),ty=n.n(tC);let tv=e=>{let{value:t,setValue:n,placeholder:i,min:a,max:r,onUpdate:s}=e,l=(0,I.useCallback)(e=>{if(e){let t=parseInt(e);n(ty()(isNaN(t)?a:t,a,r).toString())}else n("")},[a,r,n]),o=(0,I.useCallback)(e=>{"Enter"===e.key&&(l(t),s())},[l,s,t]),c=(0,I.useCallback)(()=>{l(t),s()},[l,s,t]);return(0,p.jsx)(tl.p,{type:"number",value:t,placeholder:i||"",onChange:e=>n(e.target.value),onKeyDown:o,onBlur:c,size:"sm",min:a,max:r,textAlign:"center",maxW:"16"})},tw=e=>{let{startIndex:t,startNumber:n}=e,i={height:9,bg:"gray.100",borderRadius:"sm",alignItems:"flex-end",justifyContent:"flex-end",fontSize:"xs"},a=t>2,r=a?[t-1,t,t+1]:[0,1,2,3],s=e=>{let{cardIndex:a}=e,r=eU(a,t,n);return(0,p.jsx)(e6.s,{...i,minH:9,py:.5,px:1.5,flex:"1",children:r},a)};return(0,p.jsxs)(ey.B,{spacing:2,w:"100%",children:[a&&(0,p.jsx)(e=>{let{startingIndex:t}=e,n=ty()(t-1,2,7);return(0,p.jsxs)(ey.B,{spacing:.5,flex:"1",position:"relative",maxH:9,minH:9,children:[[...Array(n)].map((e,t)=>(0,p.jsx)(e6.s,{...i,h:"100%",flex:"1"},t)),(0,p.jsxs)(E.E,{position:"absolute",insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"xs",bg:"white",borderRadius:"sm",px:1,color:"gray.500",children:["(",t-1,")"]})]})},{startingIndex:t}),r.map(e=>(0,p.jsx)(s,{cardIndex:e},e))]})},tA=e=>{let{element:t,onUpdate:n}=e,[i,a]=(0,I.useState)((()=>{let e=(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0;return 1!==e&&e?2===e?"2":"other":"1"})()),[r,s]=(0,I.useState)((null==t?void 0:t.type)==="cardNumbers"&&t.startIndex&&t.startIndex>2?t.startIndex.toString():""),[l,o]=(0,I.useState)((null==t?void 0:t.type)==="cardNumbers"&&void 0!==t.startNumber&&1!==t.startNumber?t.startNumber.toString():""),c="1"===i?1:"2"===i?2:r?ty()(parseInt(r),1,1e3):void 0,d=""===l?void 0:ty()(parseInt(l),0,1e3),u=(0,I.useCallback)(()=>{n({type:"cardNumbers",startIndex:r?ty()(parseInt(r),1,1e3):void 0,startNumber:d})},[r,d,n]),h=(0,I.useCallback)(()=>{let e=l?ty()(parseInt(l),0,1e3):void 0;n({type:"cardNumbers",startIndex:(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0,startNumber:e})},[l,t,n]),g=(null==t?void 0:t.type)==="cardNumbers"&&(void 0!==t.startIndex||void 0!==t.startNumber);return(0,p.jsxs)(ep.T,{spacing:0,children:[(0,p.jsxs)(j.z,{w:"100%",alignItems:"flex-start",p:3,children:[(0,p.jsxs)(ep.T,{alignItems:"flex-start",flex:"2",spacing:4,children:[(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"EgzmRy"})}),(0,p.jsxs)(ep.T,{spacing:2,alignItems:"flex-start",children:[(0,p.jsx)(th.z,{value:i,defaultValue:i,onChange:e=>{a(e),"other"===e?s(i):s(""),"1"===e?n({type:"cardNumbers",startIndex:1,startNumber:d}):"2"===e&&n({type:"cardNumbers",startIndex:2,startNumber:d})},size:"sm",children:(0,p.jsxs)(ey.B,{spacing:2,children:[(0,p.jsx)(tg.s,{value:"1",children:(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"gidUuU"})})}),(0,p.jsx)(tg.s,{value:"2",children:(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"CfeM0j"})})}),(0,p.jsx)(tg.s,{value:"other",children:(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"m7sNyG"})})})]})}),"other"===i&&(0,p.jsx)(tv,{value:r,setValue:s,min:1,max:1e3,onUpdate:u})]})]}),(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"boZ3aq"})}),(0,p.jsx)(tv,{value:l,setValue:o,placeholder:"1",min:0,max:1e3,onUpdate:h})]})]}),(0,p.jsxs)(ep.T,{spacing:1,w:"100%",alignItems:"flex-start",maxW:"16",children:[(0,p.jsx)(E.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"GswZF3"})}),(0,p.jsx)(tw,{startIndex:c||1,startNumber:null!=d?d:1})]})]}),g&&(0,p.jsx)(j.z,{px:4,py:2,bg:"gray.50",w:"100%",children:(0,p.jsx)(eq.$,{variant:"link",size:"xs",w:"100%",onClick:()=>{a("1"),s(""),o(""),n({type:"cardNumbers",startIndex:void 0,startNumber:void 0})},isDisabled:!g,leftIcon:(0,p.jsx)(M.g,{icon:eI.ub2}),children:(0,p.jsx)(em.x6,{id:"L+rMC9"})})})]})},tk=e=>{let{element:t,position:n,showUpsell:i,onUpdate:a}=e,r=(0,te.fW)(),{flex:s}=eO(n),l=(null==t?void 0:t.type)==="cardNumbers"?t:null,o=null==l?void 0:l.startIndex,c=null==l?void 0:l.startNumber,d={px:3,h:8,w:"100%",borderRadius:"md",fontSize:"sm",cursor:i?"not-allowed":"pointer",bg:i?"blackAlpha.50":"white",color:i?"gray.600":"inherit",justifyContent:s,border:"1px solid",borderColor:i?"transparent":"titanium.300"};return i?(0,p.jsx)(j.z,{...d,children:(0,p.jsx)(E.E,{dir:r?"rtl":void 0,children:eG(o,c)})}):(0,p.jsxs)(tm.A,{children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(j.z,{...d,children:(0,p.jsx)(E.E,{dir:r?"rtl":void 0,children:eG(o,c)})})}),(0,p.jsx)(tf.h,{maxW:"240px",p:0,overflow:"hidden",children:(0,p.jsx)(tb.e,{p:0,children:(0,p.jsx)(tA,{element:t,onUpdate:a})})})]})};var tL=n(33787),tj=n(3276);let tE=e=>{let{imageElement:t,isError:n,isLoading:i,isCompact:a=!1}=e,r=(0,te.fW)();return t&&"image"===t.type?n?(0,p.jsxs)(j.z,{dir:r?"rtl":void 0,spacing:1,children:[(0,p.jsx)(E.E,{color:"red.500",fontSize:"xxs",children:(0,p.jsx)(em.x6,{id:"yabRr8"})}),(0,p.jsx)(eg.qT,{color:"red.500",fontSize:a?"xxs":void 0,display:"block",lineHeight:"0",label:(0,p.jsx)(em.x6,{id:"mjco3+"})})]}):i?(0,p.jsx)(tj.y,{size:"xs"}):null:null};var tS=n(17074),tM=n(29917),tI=n(85443);let t_={sm:6,md:7,lg:8,xl:10},tD={sm:.6,md:.7,lg:.8,xl:.9},tR={sm:{name:()=>e5.Ru._({id:"4Revpc"}),buttonText:()=>e5.Ru._({id:"ZQA8ce"}),height:1.55},md:{name:()=>e5.Ru._({id:"agPptk"}),buttonText:()=>e5.Ru._({id:"Tmu3kA"}),height:2},lg:{name:()=>e5.Ru._({id:"k7rCa/"}),buttonText:()=>e5.Ru._({id:"SMwD6s"}),height:2.65},xl:{name:()=>e5.Ru._({id:"vp6Yr4"}),buttonText:()=>e5.Ru._({id:"ekdhM0"}),height:3.5}};var tT=n(61204);let tz=e=>{let{children:t}=e;return(0,p.jsxs)(j.z,{fontSize:"xs",alignItems:"flex-start",children:[(0,p.jsx)(M.g,{icon:e2.e68,fixedWidth:!0}),(0,p.jsx)(E.E,{fontSize:"xs",children:t})]})},tH=()=>(0,p.jsxs)(ey.B,{spacing:1,children:[(0,p.jsx)(E.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"wCgOyU"})}),(0,p.jsxs)(ey.B,{spacing:.5,children:[(0,p.jsx)(tz,{children:(0,p.jsx)(em.x6,{id:"48UYx4"})}),(0,p.jsx)(tz,{children:(0,p.jsx)(em.x6,{id:"tzmFSd"})}),(0,p.jsx)(tz,{children:(0,p.jsx)(em.x6,{id:"krkjlf"})})]})]}),tN=e=>{let{currentSize:t,onSizeChange:n,onReplaceImage:i,isDisabled:a=!1}=e,r=void 0!==t;return(0,p.jsxs)(tm.A,{children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"XyAh4B"}),icon:(0,p.jsx)(M.g,{icon:e2._$s,fixedWidth:!0}),size:"sm",variant:"ghost",borderRadius:"full",color:"blackAlpha.700"})}),(0,p.jsx)(tf.h,{maxW:"260px",p:0,overflow:"hidden",children:(0,p.jsxs)(tb.e,{p:0,children:[(0,p.jsxs)(ep.T,{p:3,spacing:3,alignItems:"flex-start",children:[(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{fontSize:"xs",fontWeight:"bold",children:(0,p.jsx)(em.x6,{id:"8J92vb"})}),(0,p.jsx)(tT.e,{isAttached:!0,size:"sm",display:"flex",w:"100%",children:Object.entries(tR).map(e=>{let[i,r]=e;return(0,p.jsx)(eg.Tz,{label:r.name(),placement:"top",children:(0,p.jsx)(eq.$,{"aria-label":r.name(),px:"2.5",boxShadow:"none",variant:i===t?"plainSelected":"plain",bg:"md"!==i||t?void 0:"deepocean.50",flex:1,onClick:()=>{n(i)},isDisabled:a,children:r.buttonText()})},i)})})]}),(0,p.jsx)(tH,{})]}),(r||i)&&!a&&(0,p.jsxs)(j.z,{px:4,py:2,bg:"gray.50",w:"100%",justifyContent:r&&i?"space-between":"center",children:[r&&(0,p.jsx)(eq.$,{variant:"link",size:"xs",onClick:()=>{n(void 0)},colorScheme:"gray",leftIcon:(0,p.jsx)(M.g,{icon:e2.ub2,fixedWidth:!0}),children:(0,p.jsx)(em.x6,{id:"cl2Y/T"})}),i&&(0,p.jsx)(eq.$,{variant:"link",size:"xs",onClick:i,leftIcon:(0,p.jsx)(M.g,{icon:e2.VNe,fixedWidth:!0}),colorScheme:"gray",children:(0,p.jsx)(em.x6,{id:"YOzD/a"})})]})]})})]})},tB=e=>{let{result:t,isError:n}=e;if(n)return{uploadStatus:eH.A.Error,src:null,source:"image.custom"};let{name:i,src:a,meta:r}=t;return{uploadStatus:eH.A.Done,source:"image.custom",name:i,src:a,meta:r}},tP=()=>({uploadStatus:eH.A.Uploading,source:"image.custom",src:null}),tF=e=>{let{onUpdate:t,element:n,position:i,isReadonly:a,showUpsell:r}=e,{currentWorkspace:s}=(0,tI.u)(),[l,o]=(0,I.useState)("idle"),c=(0,I.useRef)(!1),d=(0,I.useMemo)(()=>{if(null==s?void 0:s.id)return tM.Fk.createUppyInstance(null==s?void 0:s.id,{onUploadStart:()=>{o("loading"),t({type:"image",imageAttrs:tP()})},onOriginalFileUpload:e=>{c.current||t({type:"image",imageAttrs:tB({result:e,isError:!1})})},onUploadComplete:e=>{c.current||(o("idle"),t({type:"image",imageAttrs:tB({result:e,isError:!1})}),null==d||d.cancelAll())},onUploadFailed:()=>{o("error"),t({type:"image",imageAttrs:tB({result:void 0,isError:!0})}),null==d||d.cancelAll()}},"cardMargins")},[null==s?void 0:s.id,t]),{onClick:u,inputElement:h}=(0,tS.c)({accept:"image/*",multiple:!1,handleFilesCallback:e=>{c.current=!1;let t=e[0];t&&(null==d||d.addFile({name:t.name,type:t.type,data:t}))}}),g=eV(n),m=(null==n?void 0:n.type)==="image"?n.imageAttrs:void 0,x=(null==n?void 0:n.type)==="image"?n.imageSize:void 0,f="loading"===l||(null==m?void 0:m.uploadStatus)===eH.A.Uploading,b=(null==m?void 0:m.uploadStatus)===eH.A.Error||"error"===l,C="idle"===l&&!m,y=(0,te.fW)(),{flex:v}=eO(i),w=(0,I.useCallback)(e=>{t({type:"image",imageAttrs:m,imageSize:e})},[t,m]),A=(0,I.useCallback)(()=>{c.current=!0,o("idle"),u()},[u]);return a?(0,p.jsx)(e6.s,{justifyContent:v,dir:y?"rtl":void 0,gap:2,w:"100%",children:g?(0,p.jsx)(tL._,{h:t_[x||"md"]||7,maxW:"100%",objectFit:"contain",src:g,alt:e5.Ru._({id:"aiyf05"})}):(0,p.jsx)(tE,{imageElement:n,isError:(null==m?void 0:m.uploadStatus)===eH.A.Error,isLoading:(null==m?void 0:m.uploadStatus)===eH.A.Uploading})}):C?(0,p.jsxs)(p.Fragment,{children:[h,(0,p.jsx)(eq.$,{dir:y?"rtl":void 0,leftIcon:(0,p.jsx)(M.g,{icon:e2.MNJ,fixedWidth:!0}),variant:"plain",size:"sm",onClick:u,children:(0,p.jsx)(em.x6,{id:"m3C7sL"})})]}):(0,p.jsxs)(p.Fragment,{children:[h,(0,p.jsx)(j.z,{dir:y?"rtl":void 0,gap:2,w:"100%",justifyContent:v,children:f||b?(0,p.jsx)(tE,{imageElement:n,isError:b,isLoading:f}):g?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tL._,{h:t_[x||"md"]||7,maxW:40,src:g,objectFit:"contain",bg:"blackAlpha.100"}),(0,p.jsx)(tN,{currentSize:x,onSizeChange:w,onReplaceImage:A,isDisabled:r})]}):null})]})},tV=(0,I.memo)(function(e){let{onClick:t,isCompact:n=!1}=e,i=(0,te.fW)(),a=(0,p.jsx)(em.x6,{id:"pQr8gu"}),r=(0,p.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"});return(0,p.jsxs)(j.z,{dir:i?"rtl":void 0,spacing:n?1:2,children:[t?(0,p.jsxs)(j.z,{spacing:n?1:2,children:[r,(0,p.jsx)(eq.$,{variant:"link",colorScheme:"gray",fontSize:"xxs",onClick:t,children:a})]}):(0,p.jsxs)(E.E,{as:"span",display:"inline-flex",gap:2,fontSize:"xxs",children:[!n&&r,a]}),(0,p.jsx)(eg.qT,{fontSize:n?"xxs":void 0,display:"block",lineHeight:"0",label:(0,p.jsx)(em.x6,{id:"ek68m3"})})]})});var tO=n(51737),tZ=n(90098);let tW=()=>{let e=(0,K.GV)(ed.SJ);return{logoSrc:(0,tZ.X)(e),logoImage:e.config.logoImage}},tU=e=>{let{position:t,element:n,onUpdate:i,showUpsell:a,isReadonly:r}=e,s=(0,te.fW)(),{logoSrc:l}=tW(),o=(0,K.GV)(ed.SJ),{flex:c}=eO(t),d=(0,I.useMemo)(()=>(null==n?void 0:n.type)==="themeLogo"&&"imageSize"in n?n.imageSize:void 0,[n]),u=(0,I.useCallback)(e=>{i({type:"themeLogo",imageSize:e})},[i]),h=(0,I.useCallback)(()=>{o.workspaceId?(0,tO.vd)({theme:o}):(0,tO.L6)({theme:o})},[o]);return(0,p.jsx)(e6.s,{justifyContent:c,dir:s?"rtl":void 0,gap:2,w:"100%",children:l?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tL._,{h:t_[d||"md"]||7,maxW:"100%",objectFit:"contain",src:l,alt:e5.Ru._({id:"iG7KNr"}),bg:r?void 0:"blackAlpha.100"}),!r&&(0,p.jsx)(tN,{currentSize:d,onSizeChange:u,isDisabled:a})]}):(0,p.jsx)(tV,{onClick:a||r?void 0:h})})};function tG(){let e=(0,ti._)(["\n      0% { transform: rotate(9deg); background: var(--chakra-colors-trueblue-100); }\n      10% { transform: rotate(-8deg); }\n      20% { transform: rotate(7deg); }\n      30% { transform: rotate(-6deg); }\n      40% { transform: rotate(5deg); }\n      50% { transform: rotate(-4deg); background: var(--chakra-colors-trueblue-100); }\n      60% { transform: rotate(3deg); }\n      70% { transform: rotate(-2deg); }\n      80% { transform: rotate(1deg); }\n      90% { transform: rotate(0deg); }\n      100% { transform: rotate(0deg); background: var(--chakra-colors-blackAlpha-50); }\n   "]);return tG=function(){return e},e}let tK={text:{key:"text",icon:e2.tiU,name:(0,p.jsx)(em.x6,{id:"xeiujy"}),deleteLabel:(0,p.jsx)(em.x6,{id:"JxxCHL"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"AwHPSN"})},cardNumbers:{key:"cardNumbers",icon:e2.qzJ,name:(0,p.jsx)(em.x6,{id:"LMa4Y8"}),deleteLabel:(0,p.jsx)(em.x6,{id:"gVFDdv"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"aTqpEg"})},themeLogo:{key:"themeLogo",name:(0,p.jsx)(em.x6,{id:"zYGAMY"}),icon:e2.fyG,deleteLabel:(0,p.jsx)(em.x6,{id:"cty1ii"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"sa/uRd"})},image:{key:"image",name:(0,p.jsx)(em.x6,{id:"yrBphF"}),icon:e2.Cyq,deleteLabel:(0,p.jsx)(em.x6,{id:"lP18tl"}),deleteToastLabel:(0,p.jsx)(em.x6,{id:"Aty05U"})}},tQ=e=>{let{selectedType:t,onSelect:n,canAdd:i,showUpsell:a,onUpsellClick:r}=e;if(!t&&i)return(0,p.jsx)(e0.r,{title:e5.Ru._({id:"qmt9HO"}),textAlign:"start",children:Object.values(tK).map(e=>{let{key:t,icon:i,name:s}=e;return a?(0,p.jsx)(e1.D,{value:t,onClick:r,icon:(0,p.jsx)(M.g,{icon:i,fixedWidth:!0}),bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},_focus:{bg:"trueblue.50",borderColor:"trueblue.200"},mt:.5,children:(0,p.jsxs)(h.a,{as:"span",display:"inline-flex",gap:3,w:"100%",children:[(0,p.jsx)(h.a,{as:"span",flex:1,children:s}),(0,p.jsx)(tc.Ch,{canUseFeature:!1,productFeature:"card_margin_elements",alignSelf:"center"})]})},t):(0,p.jsx)(e1.D,{value:t,onClick:()=>n(t),icon:(0,p.jsx)(M.g,{icon:i,fixedWidth:!0}),children:s},t)})});if(!t)return null;let s=(0,p.jsx)(e0.r,{children:(0,p.jsx)(e1.D,{onClick:()=>{n(t,!0)},color:"red.500",icon:(0,p.jsx)(M.g,{icon:e2.yLS,fixedWidth:!0,fontSize:"sm"}),children:tK[t].deleteLabel})});return i?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ta.i,{title:e5.Ru._({id:"Nb1WK7"}),textAlign:"start",value:t,type:"radio",children:Object.values(tK).map(e=>{let{key:t,icon:i,name:a}=e;return(0,p.jsxs)(tr.k,{value:t,onClick:()=>{n(t)},children:[(0,p.jsx)(M.g,{icon:i,fixedWidth:!0}),(0,p.jsx)(h.a,{as:"span",ms:2,children:a})]},t)})}),(0,p.jsx)(ts.N,{}),s]}):s},tq=(0,to.i7)(tG()),tJ=(0,I.memo)(e=>{let{selectedType:t,onSelect:n,shouldHighlight:i,canAdd:a,showUpsell:r,onUpsellClick:s}=e;return(0,p.jsxs)(eJ.W,{children:[t?(0,p.jsx)(e$.I,{as:eq.$,variant:"ghost",size:"sm",color:"black",px:"2",rightIcon:(0,p.jsx)(M.g,{icon:e2.Jt$,transform:"shrink-6"}),children:tK[t].name}):(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"qmt9HO"}),isDisabled:!a,placement:"top","aria-label":e5.Ru._({id:"qmt9HO"}),children:(0,p.jsx)(e$.I,{as:eY.K,isDisabled:!a,size:"lg",variant:"ghost",fontSize:"2xl",transitionProperty:"all",transitionDuration:"normal",color:"gray.800",bg:"blackAlpha.50",animation:i?"".concat(tq," 1.5s ease-in-out"):void 0,_hover:{bg:"trueblue.100",color:"trueblue.500"},icon:(0,p.jsx)(M.g,{icon:e2.QLR})})}),(0,p.jsx)(eX.c,{children:(0,p.jsx)(tQ,{selectedType:t,onSelect:n,canAdd:a,showUpsell:r,onUpsellClick:s})})]})});tJ.displayName="CardElementMenu";let t$=(0,I.memo)(e=>{let{position:t,element:n,onUpdate:i,shouldHighlight:a,cardIndex:r,isObscured:s,isReadonly:l,isAddDisabled:o,showUpsell:c,onUpsellClick:d}=e,u=(0,eQ.d)(),g=(0,te.fW)(),m=null==n?void 0:n.type,x="text"===m,f="cardNumbers"===m,b=(0,I.useRef)(null),[C,y]=(0,I.useState)(x&&(null==n?void 0:n.content)||""),v=(0,I.useCallback)(e=>{i({type:"text",content:e})},[i]),w=(0,td.lW)(v,300),A=(0,I.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i({type:e},t),("text"!==e||t)&&y(""),t&&u({title:tK[e].deleteToastLabel,status:"info",duration:2e3,position:"top"})},[i,u]),{flex:k,text:L}=eO(t),j=(0,I.useMemo)(()=>f&&void 0!==r?eU(r,null==n?void 0:n.startIndex,null==n?void 0:n.startNumber):"",[r,n,f]);return(0,p.jsx)(h.a,{flex:1,children:(0,p.jsxs)(ey.B,{spacing:1,alignItems:k,filter:s?"grayscale(1) blur(2px)":void 0,opacity:s?.5:1,pointerEvents:s?"none":void 0,userSelect:s?"none":void 0,children:[!l&&(0,p.jsx)(h.a,{dir:g?"rtl":void 0,children:(0,p.jsx)(tJ,{selectedType:m||null,onSelect:A,shouldHighlight:a,canAdd:!o,showUpsell:c,onUpsellClick:d})}),l&&(x||f)&&(0,p.jsx)(E.E,{dir:g?"rtl":void 0,fontSize:"sm",noOfLines:1,children:x?(null==n?void 0:n.content)||"":j}),!l&&x&&(0,p.jsx)(tl.p,{dir:g?"rtl":void 0,ref:b,size:"sm",borderRadius:"md",bg:"white",fontSize:"sm",placeholder:e5.Ru._({id:"6MDj8K"}),value:C,maxLength:200,isDisabled:c,onKeyUp:e=>{if(!c&&"Enter"===e.key){var t;null==(t=b.current)||t.blur()}},onChange:e=>{if(c)return;let t=e.target.value;y(t),w(t)},textAlign:L}),!l&&f&&(0,p.jsx)(tk,{element:n,position:t,showUpsell:c,onUpdate:i}),"image"===m&&(0,p.jsx)(tF,{onUpdate:i,element:n,position:t,isReadonly:l,showUpsell:c}),"themeLogo"===m&&(0,p.jsx)(tU,{position:t,element:n,onUpdate:i,showUpsell:c,isReadonly:l})]})})});t$.displayName="EditableCardMarginElement";let tY=(0,I.memo)(e=>{let{visibilityLabel:t,isHidden:n,showToggleVisibilityButton:i,onToggleVisibility:a}=e;return(0,p.jsx)(tt,{label:t,children:i&&(0,p.jsx)(eg.Tz,{label:n?(0,p.jsx)(em.x6,{id:"G/jP6i"}):(0,p.jsx)(em.x6,{id:"Tx4/S/"}),placement:"top",children:(0,p.jsx)(eY.K,{variant:"plain",size:"lg",fontSize:"2xl",color:n?"red.600":"gray.600",icon:n?(0,p.jsx)(M.g,{icon:eI.k6j}):(0,p.jsx)(M.g,{icon:eI.pS3}),_hover:{color:"default"},"aria-label":n?e5.Ru._({id:"WY1TVs"}):e5.Ru._({id:"xNpXQs"}),onClick:a})})})});tY.displayName="MarginElementsVisibilityControls";let tX=(0,I.memo)(e=>{let{isSingleCardView:t,isHiddenFirst:n,isHiddenLast:i,hasMarginElements:a,isHiddenOnCard:r}=e;return t?a?n?(0,p.jsx)(em.x6,{id:"9weBGZ"}):i?(0,p.jsx)(em.x6,{id:"Qxmjys"}):r?(0,p.jsx)(em.x6,{id:"+gYV7s"}):(0,p.jsx)(em.x6,{id:"079GgA"}):(0,p.jsx)(em.x6,{id:"tb4e+E"}):(0,p.jsx)(em.x6,{id:"4upC5z"})});tX.displayName="VisibilityLabel";let t0=(e,t)=>{if(!e)return;let n=t.indexOf(e);return -1===n?void 0:n},t1=e=>{let{editor:t,highlightPosition:n,cardNode:i,getPos:a,showUpsell:r}=e,s=(0,e7.st)(),{cardMarginSettings:l}=(0,K.GV)(ed.Uu),o=null==i?void 0:i.attrs,c=!!i,d=!eN(l),{isFirstCardAndHidden:u,isLastCardAndHidden:h,isHiddenByCardSettings:g}=eK(o),m=c&&(u||h||g),x=(0,K.GV)(ed.uF),f=t0(null==o?void 0:o.id,x),b=(0,I.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...l,...e}})},[t,l]),C=(0,I.useCallback)(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=l[e],a=!!((null==i?void 0:i.type)&&t.type&&t.type!==i.type);b({[e]:n?void 0:{...!a&&(i||{}),...t}}),null==s||s.track(e7.VV.CARD_MARGIN_SETTINGS_UPDATED,{elementType:t.type,position:e,action:n?"delete":a?"replace":"add"})},[s,l,b]),y=c&&!u&&!h&&d,v=(0,I.useCallback)(()=>{if(!i||!a)return;let e=a();if("number"==typeof e)try{t.commands.updateNestedAttributesAtPos(e,{cardMarginSettings:{...i.attrs.cardMarginSettings,isHidden:!i.attrs.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[i,t,a]),{openUpsellModal:w}=(0,e9.I)(),A=(0,I.useCallback)(()=>{w({segmentEvent:e7.VV.GAMMA_PRO_UPSELL_CARD_MARGINS})},[w]);return(0,p.jsxs)(e6.s,{p:4,minH:"320px",bg:"gray.50",flexDirection:"column",justifyContent:"space-between",position:"relative",borderRadius:"md",...r&&!c&&{_before:{content:'""',position:"absolute",inset:0,borderRadius:"md",border:"2px solid transparent",background:"var(--chakra-colors-gradient-brand-bg)",mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7,pointerEvents:"none"}},children:[(0,p.jsx)(e6.s,{justifyContent:"space-between",gap:6,alignItems:"flex-start",dir:"ltr",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(t$,{position:e,onUpdate:C(e),element:l[e],shouldHighlight:n===e,isReadonly:c,isObscured:m,cardIndex:f,showUpsell:r,onUpsellClick:A,isAddDisabled:r&&d},e))}),r&&!c?(0,p.jsx)(tn,{onUpsellClick:A}):(0,p.jsx)(tY,{visibilityLabel:(0,p.jsx)(tX,{isSingleCardView:c,isHiddenFirst:u,isHiddenLast:h,hasMarginElements:d,isHiddenOnCard:g}),isHidden:g,showToggleVisibilityButton:y,onToggleVisibility:v}),(0,p.jsx)(e6.s,{justifyContent:"space-between",gap:6,alignItems:"flex-end",dir:"ltr",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(t$,{position:e,onUpdate:C(e),element:l[e],shouldHighlight:n===e,isReadonly:c,isObscured:m,cardIndex:f,showUpsell:r,onUpsellClick:A,isAddDisabled:r&&d},e))})]})};var t2=n(61491);let t3=(0,I.memo)(e=>{let{hideFromFirst:t,hideFromLast:n,onUpdateSettings:i}=e;return(0,p.jsxs)(tm.A,{placement:"bottom-end",children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(eq.$,{leftIcon:(0,p.jsx)(M.g,{icon:t||n?eI.k6j:eI.pS3}),rightIcon:(0,p.jsx)(M.g,{icon:e2.Jt$,transform:"shrink-6"}),size:"sm",variant:"plain",children:t&&n?(0,p.jsx)(em.x6,{id:"80NdhM"}):t?(0,p.jsx)(em.x6,{id:"gidUuU"}):n?(0,p.jsx)(em.x6,{id:"vc1V76"}):(0,p.jsx)(em.x6,{id:"4upC5z"})})}),(0,p.jsx)(tf.h,{w:"fit=content",minW:"200px",children:(0,p.jsx)(tb.e,{p:3,children:(0,p.jsxs)(ey.B,{children:[(0,p.jsx)(eg._x,{mb:1,children:(0,p.jsx)(em.x6,{id:"lLeEP7"})}),(0,p.jsx)(t2.S,{isChecked:t,onChange:e=>{i({hideFromFirst:e.target.checked})},children:(0,p.jsx)(E.E,{fontSize:"sm",children:(0,p.jsx)(em.x6,{id:"1UzO8k"})})}),(0,p.jsx)(t2.S,{isChecked:n,onChange:e=>{i({hideFromLast:e.target.checked})},children:(0,p.jsx)(E.E,{fontSize:"sm",children:(0,p.jsx)(em.x6,{id:"uGWhnt"})})})]})})})]})});t3.displayName="DisplaySettingsPopover";let t5=(0,I.memo)(e=>{let{editor:t,isOpen:n,onClose:i,cardNode:a,getPos:r,highlightPosition:s}=e,[l,o]=(0,I.useState)(0),{areElementsCurrentlyHiddenBySettings:c}=eK(null==a?void 0:a.attrs);(0,eD.Vg)(()=>{n?c&&o(1):o(0)},[c,n],[n]);let d=ez(),u=(0,e_.u)("cardMarginElements"),{cardMarginSettings:g}=(0,K.GV)(ed.Uu),{hideFromFirst:m,hideFromLast:x}=g,f=eN(g),b=!!a,C=b||d,y=(0,I.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...g,...e}})},[t,g]),v=(0,I.useCallback)(()=>{let e={...void 0!==m?{hideFromFirst:m}:void 0,...void 0!==x?{hideFromLast:x}:void 0};t.commands.updateDocumentSettings({cardMarginSettings:e})},[m,x,t]);return u?(0,p.jsx)(eg.L8,{isDark:!1,children:(0,p.jsxs)(ex.aF,{isOpen:!0,onClose:i,size:"3xl",blockScrollOnMount:!1,children:[(0,p.jsx)(ef.m,{}),(0,p.jsxs)(eb.$,{children:[(0,p.jsx)(eC.r,{children:(0,p.jsxs)(ey.B,{spacing:1,children:[(0,p.jsx)(ev.D,{size:"lg",children:(0,p.jsx)(em.x6,{id:"JQFgkZ"})}),(0,p.jsx)(E.E,{fontSize:"md",fontWeight:500,letterSpacing:"normal",color:"gray.600",children:(0,p.jsx)(em.x6,{id:"F1uM5U"})})]})}),(0,p.jsx)(ew.c,{}),(0,p.jsx)(eA.s,{}),(0,p.jsx)(ek.c,{pb:"6",pt:C?4:6,children:(0,p.jsxs)(eL.t,{variant:"soft-rounded",size:"sm",isLazy:!0,index:l,onChange:o,position:"relative",children:[(0,p.jsxs)(ej.w,{position:"relative",sx:C?{minH:8,mb:4}:void 0,children:[b&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eE.o,{children:(0,p.jsx)(em.x6,{id:"4upC5z"})}),(0,p.jsxs)(eE.o,{children:[(0,p.jsx)(E.E,{me:c?2:void 0,as:"span",children:(0,p.jsx)(em.x6,{id:"xkzndo"})}),c&&(0,p.jsx)(h.a,{color:"red.600",as:"span",children:(0,p.jsx)(M.g,{icon:eI.k6j})})]})]}),0===l&&d&&(0,p.jsxs)(j.z,{position:"absolute",justifyContent:"flex-end",insetEnd:"0",top:"0",children:[(0,p.jsx)(t3,{hideFromFirst:m,hideFromLast:x,onUpdateSettings:y}),(0,p.jsx)(e4,{onDelete:v,isDeleteDisabled:f,editor:t})]})]}),(0,p.jsxs)(eS.T,{children:[(0,p.jsx)(eM.K,{p:0,children:(0,p.jsx)(t1,{editor:t,highlightPosition:s,showUpsell:!d})}),(0,p.jsx)(eM.K,{p:0,children:(0,p.jsx)(t1,{editor:t,highlightPosition:s,cardNode:a,getPos:r,showUpsell:!d})})]})]})})]})]})}):null});t5.displayName="CardMarginsModal";var t4=n(22445);let t6=()=>{let{isOpen:e,onClose:t,onOpen:n}=(0,t4.E)({id:"card-margins-elements"}),[i,a]=(0,I.useState)();return{isCardMarginsModalOpen:e,onCloseCardMarginsModal:t,onOpenCardMarginsModal:n,positionToHighlight:i,setPositionToHighlight:a}};var t9=n(27002),t7=n(32395),t8=n(75287);let ne=(0,I.createContext)(void 0);ne.Provider;let nt=()=>(0,I.useContext)(ne);var nn=n(73071);let ni=e=>{let{editorId:t,children:n}=e,i=(0,t8.l)(),a=nt();return(0,nn.b)(t||a)&&i?n:null};var na=n(50764),nr=n(84431),ns=n(25600),nl=n(83747);class no extends nl.b{initialize(){this.on("cardViewed",e=>{let{cardId:t,interval:n}=e;this.viewedCards[t]=this.viewedCards[t]||0,this.viewedCards[t]+=n});let e=()=>{var e;this.cardViewedThreshold=null!=(e=t9.of.get("cardViewedThreshold"))?e:5e3};t9.of.subscribe("cardViewedThreshold",e),e()}flush(){let e={};for(let t in this.viewedCards){let n=this.viewedCards[t];n&&!(n<this.cardViewedThreshold)&&(e[t]=Math.floor(n/1e3))}this.emit("flush",{viewed:e}),this.viewedCards={}}destroy(){this.flush(),this.off("cardViewed"),this.off("flush")}constructor(...e){super(...e),this.viewedCards={},this.cardViewedThreshold=t9.of.get("cardViewedThreshold")}}let nc=new no,nd=e=>{let{cardId:t,...n}=e,[i,a]=(0,I.useState)(0),[r,s]=(0,I.useState)(!1),[l,o]=(0,I.useState)(0);return(0,I.useEffect)(()=>{let e=nc.on("cardViewed",e=>{let{cardId:n,interval:i}=e;t===n&&a(e=>e+i)}),n=nc.on("flush",e=>{let{viewed:n}=e;a(0),n[t]&&(s(!0),o(n[t]),setTimeout(()=>s(!1),2e3))});return()=>{e(),n()}},[t]),(0,p.jsxs)(h.a,{...n,bg:r?"#c3313a":"#f5ae00",children:[!r&&(0,p.jsxs)(h.a,{children:["time on card: ",Math.floor(i/1e3),"s"]}),r&&(0,p.jsxs)(h.a,{children:["Tracked View: ",l,"s"]})]})},nu=e=>{let t=(0,K.GV)(t9.Gm),{getPos:n,node:i}=e,{id:a}=i.attrs;if(!t)return null;let r=n(),s="number"==typeof r?r+i.nodeSize:void 0;return(0,p.jsxs)(e6.s,{left:8,top:2,zIndex:"overlay",position:"absolute",pointerEvents:"none",opacity:.5,contentEditable:!1,children:[(0,p.jsx)(h.a,{bg:"yellow",px:2,mr:2,borderRadius:"md",children:a}),(0,p.jsxs)(h.a,{bg:"trueblue.200",px:2,mr:2,borderRadius:"md",children:["f:",r,"t:",s]}),(0,p.jsx)(nd,{cardId:a,px:2,borderRadius:"md"})]})};var np=n(68917),nh=n(89122),ng=n(12514),nm=n(80314),nx=n(40162),nf=n(40061),nb=n(24813),nC=n(17928),ny=n(80180),nv=n(26053),nw=n(62695);let nA=[{key:"start",name:()=>e5.Ru._({id:"Xl2IZ9"}),icon:e2.jot,description:()=>e5.Ru._({id:"N0rIpR"})},{key:"center",name:()=>e5.Ru._({id:"7FOGnf"}),icon:e2.nr0,description:()=>e5.Ru._({id:"3JV7Yt"})},{key:"end",name:()=>e5.Ru._({id:"H0UcZG"}),icon:e2.yHR,description:()=>e5.Ru._({id:"LcSMtc"})}],nk=e=>{let{defaultAlignment:t,alignment:n,setAlignment:i}=e;return(0,p.jsx)(tT.e,{isAttached:!0,size:"xs",display:"flex",children:nA.map(e=>{let a=n||e.key!==t?e.key===n?"trueblue.100":void 0:"trueblue.50";return(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(eg.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,p.jsx)(eY.K,{"aria-label":e.name(),px:"2.5",boxShadow:"none",icon:(0,p.jsx)(M.g,{icon:e.icon}),variant:"plain",bg:a,onClick:()=>{i(e.key)}})},e.key)})})};var nL=n(82689),nj=n(40268);let nE=e=>{let{icon:t,customIcon:n,label:i,children:a,useSpacer:r=!0,...s}=e;return(0,p.jsxs)(ey.B,{direction:"row",spacing:4,alignItems:"center",...s,children:[t&&(0,p.jsx)(M.g,{fixedWidth:!0,icon:t}),n&&n,(0,p.jsx)(E.E,{children:i}),r&&(0,p.jsx)(eh.h,{}),a]})},nS=e=>{let{editor:t,accentPos:n,cardId:i,hasAccentImage:a,isBehindLayout:r}=e,s=(0,I.useCallback)(()=>{n&&t.commands.updateAttributesAtPos(n,{background:{type:q.h.NONE}})},[t,n]),l=(0,I.useCallback)(()=>{nj.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:i})},[i]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(nE,{label:r?(0,p.jsx)(em.x6,{id:"23c2Uw"}):(0,p.jsx)(em.x6,{id:"e5Sy/T"}),icon:e2.Cyq,children:(0,p.jsx)(j.z,{spacing:1,children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eq.$,{size:"sm",variant:"link",onClick:l,children:a?(0,p.jsx)(em.x6,{id:"ePK91l"}):(0,p.jsx)(em.x6,{id:"PNapeY"})}),a&&(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"sGYCGx"}),placement:"top",children:(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"sGYCGx"}),size:"sm",variant:"link",onClick:s,colorScheme:"red",icon:(0,p.jsx)(M.g,{icon:e2.K3F})})})]})})})})},nM=e=>{let{editor:t,getPos:n,onAddOrEditClick:i,isDisabled:a,hasBackdrop:r}=e,s=(0,I.useCallback)(()=>{let e=n();"number"==typeof e&&t.commands.updateAttributesAtPos(e,{background:{type:q.h.NONE}})},[t,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(nE,{icon:e2.pt,label:(0,p.jsx)(em.x6,{id:"ANn8Qe"}),color:a?"gray.500":void 0,children:[a&&(0,p.jsx)(eg.Tz,{placement:"top",label:(0,p.jsx)(em.x6,{id:"ZnOCf5"}),isDisabled:!a,children:(0,p.jsx)(h.a,{fontSize:"sm",cursor:"help",children:(0,p.jsx)(M.g,{fixedWidth:!0,icon:eI.k6j})})}),(0,p.jsx)(j.z,{spacing:1,children:!a&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eq.$,{size:"sm",variant:"link",onClick:i,children:r?(0,p.jsx)(em.x6,{id:"ePK91l"}):(0,p.jsx)(em.x6,{id:"PNapeY"})}),r&&(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"IfZ6hd"}),placement:"top",children:(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"IfZ6hd"}),size:"sm",variant:"link",onClick:s,colorScheme:"red",icon:(0,p.jsx)(M.g,{icon:e2.K3F})})})]})})]})})};var nI=n(95714),n_=n(11818),nD=n(50933);let nR=e=>{let{value:t,onChange:n,cardColor:i}=e,a=(0,nL.Dz)(i),[r,s]=(0,I.useState)(!1),l=Math.round(100*(t||a));return(0,p.jsx)(nE,{label:(0,p.jsx)(em.x6,{id:"CMsMJp"}),icon:e2.jC5,useSpacer:!1,children:(0,p.jsxs)(j.z,{spacing:.5,w:"140px",children:[(0,p.jsx)(E.E,{fontSize:"xs",color:"gray.500",minW:"25px",children:"5%"}),(0,p.jsxs)(nD.Ap,{value:t||a,min:.1,max:.9,step:.1,onChange:n,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),colorScheme:"trueblue",size:"sm",flex:1,children:[(0,p.jsx)(nD.hB,{children:(0,p.jsx)(nD.hJ,{})}),(0,p.jsx)(eg.Tz,{placement:"top",isOpen:r,label:"".concat(l,"%"),children:(0,p.jsx)(nD.OQ,{})})]}),(0,p.jsx)(E.E,{fontSize:"xs",color:"gray.500",minW:"30px",children:"95%"})]})})};var nT=n(67097);let nz=[{label:()=>e5.Ru._({id:"37VL/A"}),value:"frosted"},{label:()=>e5.Ru._({id:"W4wYdx"}),value:"faded"},{label:()=>e5.Ru._({id:"siC4v8"}),value:"none"}],nH=e=>{var t,n;let{editor:i,accentPos:a,accentBackground:r,effect:s,intensity:l,cardColor:o}=e,c=(0,I.useCallback)(e=>{if(!a||!r)return;let t={background:{mask:{...r.mask,effect:e}}};i.commands.updateNestedAttributesAtPos(a,t)},[i,r,a]),d=(0,I.useCallback)(e=>{var t;if(!a)return;let n={background:{mask:{...null!=(t=null==r?void 0:r.mask)?t:{effect:nL.$.effect},intensity:e}}};i.commands.updateNestedAttributesAtPos(a,n)},[i,r,a]),u=null!=s?s:nL.$.effect,h=null!=(n=null==(t=nz.find(e=>e.value===s))?void 0:t.label())?n:(0,p.jsx)(em.x6,{id:"xg0y9o"});return(0,p.jsxs)(ep.T,{spacing:3,align:"stretch",children:[(0,p.jsx)(nE,{label:(0,p.jsx)(em.x6,{id:"u4YODQ"}),icon:e2.B2J,children:(0,p.jsxs)(eJ.W,{isLazy:!0,children:[(0,p.jsx)(e$.I,{as:eq.$,variant:"plain",size:"sm",minW:"128px",boxShadow:"none",textAlign:"left",rightIcon:(0,p.jsx)(np.D,{}),children:h}),(0,p.jsx)(eX.c,{children:(0,p.jsx)(ta.i,{value:u,type:"radio",onChange:c,children:nz.map(e=>{let{value:t,label:n}=e;return(0,p.jsx)(tr.k,{value:t,children:n()},t)})})})]})}),"none"!==s&&(0,p.jsx)(nR,{value:l,onChange:d,cardColor:o})]})};var nN=n(83650),nB=n(78294);let nP=e=>{var t;let{editor:n,attrs:i,getPos:a}=e,r=(0,K.GV)(ed.SJ),s=(0,J.gK)(null==i||null==(t=i.container)?void 0:t.background);return{currentColor:s,themeCardColor:(0,D.Oq)(r),setCardColor:e=>{let t=a();if("number"!=typeof t||!i)return;let{container:r}=i,s=e?{background:{type:q.h.COLOR,color:{hex:e}}}:{background:void 0};void 0!==r.isDark&&(s.isDark=void 0),n.commands.updateNestedAttributesAtPos(t,{container:{...r,...s}})}}},nF=e=>{let{editor:t,attrs:n,getPos:i}=e,{setCardColor:a,currentColor:r,themeCardColor:s}=nP({editor:t,attrs:n,getPos:i});return(0,p.jsx)(nE,{icon:e2.wIs,label:(null==n?void 0:n.layout)==="behind"?(0,p.jsx)(em.x6,{id:"cA3hQ0"}):(0,p.jsx)(em.x6,{id:"9d2iLQ"}),children:(0,p.jsxs)(eJ.W,{isLazy:!0,children:[(0,p.jsx)(nN.v,{color:null!=r?r:s,isDefaultColor:void 0===r}),(0,p.jsx)(eX.c,{overflow:"hidden",children:(0,p.jsx)(nB.b,{currentColor:null!=r?r:s,setColor:a,source:"CardColor"})})]})})},nV=[{key:"sm",name:()=>e5.Ru._({id:"58+81B"}),buttonText:()=>e5.Ru._({id:"ZQA8ce"}),description:()=>e5.Ru._({id:"LX+k3Q"})},{key:"md",name:()=>e5.Ru._({id:"ovBPCi"}),buttonText:()=>e5.Ru._({id:"Tmu3kA"}),description:()=>e5.Ru._({id:"Of2q2s"})},{key:"lg",name:()=>e5.Ru._({id:"I5S9ZE"}),buttonText:()=>e5.Ru._({id:"SMwD6s"}),description:()=>e5.Ru._({id:"nRirkB"})}],nO=e=>{let{contentWidth:t,defaultContentWidth:n,setWidth:i,allowedWidths:a=["sm","md","lg"]}=e;return(0,p.jsx)(tT.e,{isAttached:!0,size:"xs",display:"flex",children:nV.filter(e=>a.includes(e.key)).map(e=>{let a=t||e.key!==n?e.key===t?"trueblue.100":void 0:"trueblue.50";return(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(eg.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,p.jsx)(eq.$,{"aria-label":e.name(),px:"2.5",boxShadow:"none",variant:"plain",bg:a,onClick:()=>{i(e.key)},children:e.buttonText()})},e.key)})})},nZ=e=>{let{editor:t,getPos:n,contentWidth:i}=e,{defaultContentWidth:a}=(0,K.GV)(ed.Uu),r=(0,I.useCallback)(e=>{let i=n();"number"==typeof i&&t.commands.updateNestedAttributesAtPos(i,{container:{width:e}})},[t,n]);return(0,p.jsx)(nE,{icon:e2.So7,label:(0,p.jsx)(em.x6,{id:"cPp+Ef"}),children:(0,p.jsx)(nO,{setWidth:r,contentWidth:i,defaultContentWidth:a,allowedWidths:["md","lg"]})})};var nW=n(99430);let nU=e=>{let{editor:t,getPos:n,isFullWidth:i}=e,a=(0,I.useCallback)(()=>{let e=n();"number"==typeof e&&t.commands.updateAttributesAtPos(e,{cardSize:i?"contained":"full"})},[t,n,i]);return(0,p.jsx)(nE,{icon:e2.Cpz,label:(0,p.jsx)(em.x6,{id:"BquNv8"}),children:(0,p.jsx)(nW.d,{isChecked:i,onChange:a})})};var nG=n(19842);let nK=()=>(0,p.jsxs)("span",{className:"fa-layers fa-fw fa-sm",children:[(0,p.jsx)(M.g,{icon:e2.adM,style:{top:"-1rem"}}),(0,p.jsx)(M.g,{icon:e2.adM,style:{bottom:"-1rem"}}),(0,p.jsx)(M.g,{icon:e2.Cpz})]}),nQ=e=>{let{hasCardMarginElements:t,onAddOrEditClick:n,isHiddenByVisibilitySettings:i,isHiddenByCardSettings:a,onToggleVisibility:r}=e;return(0,p.jsx)(nE,{customIcon:(0,p.jsx)(nK,{}),label:(0,p.jsx)(em.x6,{id:"JQFgkZ"}),children:(0,p.jsxs)(j.z,{spacing:1,children:[(0,p.jsx)(eq.$,{size:"sm",variant:"link",onClick:n,colorScheme:"trueblue",children:(0,p.jsx)(em.x6,{id:"ePK91l"})}),i&&(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"gB9UFo"}),children:(0,p.jsx)(h.a,{as:"span",color:"red.600",cursor:"help",children:(0,p.jsx)(M.g,{fixedWidth:!0,icon:eI.k6j})})}),!i&&t&&r&&(0,p.jsx)(eg.Tz,{label:a?(0,p.jsx)(em.x6,{id:"+gYV7s"}):(0,p.jsx)(em.x6,{id:"079GgA"}),placement:"top",children:(0,p.jsx)(eY.K,{size:"sm",variant:"ghost","aria-label":a?"Show card margins":"Hide card margins",color:a?"red.600":"gray.600",icon:(0,p.jsx)(M.g,{icon:a?eI.k6j:eI.pS3}),onClick:r,_hover:{bg:a?"red.50":"gray.50"}})})]})})};var nq=n(2095),nJ=n(52842),n$=n(27229),nY=n(68068),nX=n(60628),n0=n(64268),n1=n(51504),n2=n(45318),n3=n(3864),n5=n(53587),n4=n(64234),n6=n(88586),n9=n(82328),n7=n(75748),n8=n(92198);let ie=(e,t)=>{if(!e.source&&e.type===q.h.IMAGE){var n;return null==(n=e.image)?void 0:n.source}return!e.source&&t?n4.dO:e.source},it=(0,I.memo)(e=>{let{editor:t,defaultMessage:n,isDark:i,setCurrentSourceKey:a,currentSourceKey:r,currentSource:s,updateCurrentBackground:l,currentBackground:o,isValidSource:c,editType:d="background",contextualTheme:u,defaultToNoBackgroundSource:h=!1,closeDrawer:g}=e,{isConnected:m}=(0,n9.u)(),x=(0,I.useCallback)(e=>{let t=n4.Fn[e];t.backgroundType&&l({type:t.backgroundType,source:e,[t.backgroundType]:void 0})},[l]),f=(0,I.useCallback)(()=>x(r),[r,x]),b=(0,I.useCallback)(e=>{e===n4.dO&&x(n4.dO),a(e)},[a,x]),C=ie(o,h);(0,I.useEffect)(()=>{C&&n4.Fn[C]&&a(C)},[C,a]);let y=!!(m||(null==s?void 0:s.availableOffline)),v=n4.ez[r],w="themeBackground"===d?n6.rWX.Theme:n6.rWX.Doc;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n7.r,{isConnected:y,description:(0,p.jsx)(em.x6,{id:"nfjtFu"}),mb:3,my:6}),(0,p.jsx)(n8.H,{isValidSource:c,onChange:b,currentSource:s}),s&&(0,p.jsx)(v,{closeDrawer:g,editor:t,updateAttributes:e=>{s.backgroundType&&(s.key===n5.j?l(e):l({type:s.backgroundType,[s.backgroundType]:{...e},source:r}))},currentAttributes:(e=>s.backgroundType?s.key===n5.j?e:e[s.backgroundType]||{}:{})(o),resetToPlaceholder:f,editType:d,isDark:i,contextualTheme:u,savedMediaContext:w}),r===n4.dO&&n]})});it.displayName="BackgroundPanel";let ii=e=>!!e.backgroundType,ia=e=>{let{closeDrawer:t,editor:n,updateNestedAttributes:i,background:a,defaultMessage:r,isDark:s,isValidSource:l,defaultToNoBackgroundSource:o}=e,{currentEditBackgroundDrawerSourceKey:c,setBackgroundDrawerSourceKeyAction:d}=(0,nw.B)(),u=n4.Fn[c],h=(0,I.useCallback)(e=>{u.key===n5.j?i({background:e}):i({background:{...e,accentId:void 0}})},[null==u?void 0:u.key,i]),g=(0,I.useCallback)(e=>l?l(e)&&ii(e):ii(e),[l]);return(0,p.jsx)(it,{closeDrawer:t,editor:n,isDark:s,isValidSource:g,defaultMessage:r,currentBackground:a,updateCurrentBackground:h,currentSourceKey:c,setCurrentSourceKey:d,currentSource:u,defaultToNoBackgroundSource:o})};var ir=n(78481),is=n(9119);let il=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,n$.j)(),[i,a]=(0,I.useState)(0),r=(0,I.useCallback)(e=>{t(),a(e)},[t]),s=(0,K.jL)();return{openBackgroundTab:(0,I.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&s((0,is.lj)()),r(0)},[s,r]),openStylesTab:(0,I.useCallback)(()=>{r(1)},[r]),isOpen:e,onClose:n,tabIndex:i,setTabIndex:a}},io=(0,I.memo)(function(e){let{editor:t,isOpen:n,onClose:i,background:a,updateNestedAttributes:r,tabIndex:s,setTabIndex:l,backFrom:o,isAccentImageDrawer:c=!1}=e,d=(0,ir.N)(t),u=(0,I.useCallback)(()=>{0!==s&&l(0),i()},[i,s,l]),h=(0,n3.o)(),g=c?nJ.lK.accentImage():nJ.lK.cardBackground(),m=(0,I.useCallback)(e=>!c||e.backgroundType!==q.h.NONE,[c]);return(0,p.jsxs)(nY._s,{trapFocus:!1,isOpen:n,placement:"right",onClose:u,size:h,blockScrollOnMount:!1,children:[(0,p.jsx)(ef.m,{background:"none"}),(0,p.jsxs)(nX.z,{onKeyDown:d,"data-in-editor-focus":!0,"data-edit-background-drawer":!0,"data-testid":"card-style-drawer",children:[(0,p.jsx)(eA.s,{}),(0,p.jsx)(eC.r,{fontSize:"x-large",children:(0,p.jsxs)(j.z,{me:7,children:[(0,p.jsx)(em.x6,{id:"xYilR2"}),(0,p.jsx)(eh.h,{}),a.type===q.h.IMAGE&&a.image&&c&&(0,p.jsx)(n2.V,{onClick:u,image:a.image,backFrom:o})]})}),(0,p.jsx)(ek.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:(0,p.jsx)(ia,{closeDrawer:u,editor:t,updateNestedAttributes:r,background:a,defaultMessage:(0,p.jsxs)(n0.F,{children:[(0,p.jsx)(n1._,{}),g]}),isDark:!1,isValidSource:m})})]})]})}),ic=(0,I.memo)(e=>{var t,n;let{editor:i,getPos:a,attrs:r,accentBackgroundMaskEffect:s,accentBackgroundMaskIntensity:l,displayLayout:o,insideSideLayout:c,isNested:d,isFullBleed:u,contentWidth:h,cardDimensionsKey:g,editBackdrop:m,onOpenCardMarginsModal:x,cardColor:f}=e,b=(0,K.jL)(),C=(0,I.useCallback)(()=>{b((0,nq.md)())},[b]),{verticalAlign:y,presentBackdrop:v}=(0,K.GV)(ed.Uu),{setBackgroundDrawerSourceKeyAction:w}=(0,nw.B)(),A={};try{let e=a();"number"==typeof e&&(A=(0,ei.l0)(i.state.doc.resolve(e)))}catch(e){console.error("[CardStylingMenuInner] could not get layout items for card ".concat(r.id,": ").concat(e))}let k=(0,eQ.d)(),L=(null==(t=A.accent)?void 0:t.pos)||null,S=null==(n=A.accent)?void 0:n.node.attrs.background,_=S&&S.type!==q.h.NONE,D="none"!==r.background.type,R="default"!==r.cardSize||D||_||r.container.width||r.container.background||"blank"!==o||r.verticalAlign,T="behind"===o&&_&&(0,nL.dY)(S),z=(0,K.GV)(ed.Jq),H=(0,e_.u)("cardMarginElements")&&"webpage"!==z,{cardMarginSettings:N}=(0,K.GV)(ed.Uu),B=!eN(N),{isFirstCardAndHidden:P,isLastCardAndHidden:F,isHiddenByCardSettings:V}=eK(r),O="fluid"===g||h,Z="fluid"===g||D||v,W=(0,I.useCallback)(()=>{let e=a();if("number"!=typeof e)return;let t={};D&&(t.background={type:q.h.NONE,source:void 0}),t.cardSize=void 0,t.verticalAlign=void 0,t.container={...r.container,width:void 0},r.container.background&&(t.container={...r.container,background:void 0}),"blank"!==o&&(t.layout="blank"),L?i.chain().updateAttributesAtPos(e,t).updateNestedAttributesAtPos(L,{background:{type:q.h.NONE}}).run():i.commands.updateAttributesAtPos(e,t);let n=e5.Ru._({id:"rQHMjX"}),s=e5.Ru._({id:"9uI/rE"}),l=k({title:(0,p.jsxs)(j.z,{children:[(0,p.jsx)(E.E,{children:n}),(0,p.jsx)(nm.N,{textDecoration:"underline",onClick:()=>{(0,e3.tN)(i.state),k.close(l)},children:s})]}),status:"info",duration:3e3,position:"top"})},[D,r.container,o,L,i,a,k]),U=(0,I.useCallback)(()=>{let e=a();if("number"==typeof e)try{i.commands.updateNestedAttributesAtPos(e,{cardMarginSettings:{...r.cardMarginSettings,isHidden:!r.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[i,a,r.cardMarginSettings]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(ey.B,{spacing:4,p:4,children:[(0,p.jsx)(nG.eW,{editor:i,layout:o,getPos:a,edgeLayoutsEnabled:!c}),"blank"!==o&&(0,p.jsx)(nS,{editor:i,accentPos:L,cardId:r.id,hasAccentImage:!!_,isBehindLayout:"behind"===o}),T&&(0,p.jsx)(nH,{editor:i,accentBackground:S,accentPos:L,effect:s,intensity:l,cardColor:f}),(0,p.jsx)(nF,{editor:i,attrs:r,getPos:a}),!d&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ew.c,{my:"1"}),(0,p.jsx)(nU,{editor:i,getPos:a,isFullWidth:u}),(0,p.jsx)(nE,{icon:e2.ecg,label:(0,p.jsx)(em.x6,{id:"vUBA/H"}),children:(0,p.jsx)(nk,{defaultAlignment:y,alignment:r.verticalAlign,setAlignment:e=>{let t=a();"number"==typeof t&&i.commands.updateAttributesAtPos(t,{verticalAlign:e})}})}),O&&(0,p.jsx)(nZ,{editor:i,getPos:a,contentWidth:h}),Z&&(0,p.jsx)(nM,{editor:i,getPos:a,onAddOrEditClick:()=>{w(nf.L),m(!1)},hasBackdrop:D,isDisabled:u}),H&&(0,p.jsx)(nQ,{hasCardMarginElements:B,isHiddenByVisibilitySettings:!!(P||F),isHiddenByCardSettings:V,onAddOrEditClick:()=>{x(),C()},onToggleVisibility:U})]})]}),(0,p.jsxs)(nx.B,{px:5,py:3,bg:"gray.50",mx:-1,mb:-1,justify:R?"space-between":"center",alignItems:"center",borderBottomRadius:"xl",children:[R&&(0,p.jsx)(nx.Q,{children:(0,p.jsx)(eq.$,{onClick:W,variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(M.g,{icon:e2.ub2}),children:(0,p.jsx)(em.x6,{id:"6hU6uw"})})}),(0,p.jsx)(nx.Q,{children:(0,p.jsx)(eq.$,{onClick:()=>{C(),nC.LF.emit(nC.DN.OPEN_PAGE_SETUP,"cards")},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(M.g,{icon:e2.BH7}),children:(0,p.jsx)(em.x6,{id:"fvaOtb"})})})]})]})}),id=(0,I.memo)(e=>{let{attrs:t,editor:n,getPos:i,onOpenCardMarginsModal:a,decorations:r}=e,{cardColor:s}=(0,T.a)(r),{color:l,bg:o,hoverColor:c,hoverBg:d,borderColor:u}=(0,nv.Nb)(),h=(0,I.useRef)(null),g=(0,K.GV)((0,nq.C_)(t.id,"styling")),m=(0,K.jL)(),x=(0,I.useCallback)(()=>{m((0,nq.md)())},[m]),f=(0,I.useCallback)(()=>{m((0,nq.CM)({cardId:t.id,menuType:"styling"}))},[m,null==t?void 0:t.id]),{openBackgroundTab:b,...C}=il(),y=(0,I.useCallback)(e=>{let t=i();"number"==typeof t&&(0,nb.e)(n,t,e)},[n,i]);return(0,nh.j)({ref:h,handler:e=>{if(!g)return;let n=e.target;if(n&&n instanceof Element){var i;let e=n.closest('[data-card-styles-menu-trigger="'.concat(t.id,'"]')),a=!!(null==(i=n.closest(".chakra-modal__content-container"))?void 0:i.querySelector("[data-edit-background-drawer]")),r=!!n.closest("[data-media-drawer-menu]");if(e||a||r)return}x()}}),(0,p.jsxs)(eg.L8,{isDark:!1,children:[(0,p.jsx)(j.z,{spacing:1,onClick:ny.dG,contentEditable:!1,pointerEvents:"auto",children:(0,p.jsxs)(tm.A,{isLazy:!0,returnFocusOnClose:!1,isOpen:g,onClose:x,closeOnBlur:!1,children:[(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"F153E+"}),placement:"top",shouldWrapChildren:!0,children:(0,p.jsx)(tx.W,{children:(0,p.jsxs)(eq.$,{"data-card-styles-menu-trigger":t.id,height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:u,color:l,boxShadow:"sm",cursor:"pointer",fontSize:"sm",bg:o,px:.5,_hover:{color:c,background:d},onClick:f,children:[(0,p.jsx)(M.g,{icon:e2.fyG,fixedWidth:!0}),(0,p.jsx)(np.D,{})]})})}),(0,p.jsx)(ng.Z,{children:(0,p.jsx)(tf.h,{"data-card-styles-menu":!0,ref:h,width:"360px",fontFamily:"body",fontSize:"sm",border:"none",children:(0,p.jsx)(ic,{...e,cardColor:s,editBackdrop:b,onOpenCardMarginsModal:a})})})]})}),(0,p.jsx)(io,{editor:n,updateNestedAttributes:y,background:t.background,container:t.container,...C})]})});var iu=n(24302),ip=n(65230),ih=n(17859);let ig=e=>{let{interactionId:t,operation:n,instructions:i,RatingButtons:a=ip.LW}=e,[r,s]=(0,I.useState)(null),l=(0,I.useCallback)((e,a,r)=>{(0,ih.pS)({feedback:a,tags:r,rating:e,interactionId:t,instructions:i,operation:n})},[t,i,n]),o=(0,I.useCallback)(e=>{s(e),(0,ih.D8)({rating:e,interactionId:t,operation:n,instructions:i})},[t,n,i]);return(0,p.jsx)(ip.f3,{rating:r||void 0,setRating:o,RatingButtons:a,feedbackTags:im,trackFeedback:l})},im=[{key:"wrong-language",label:(0,p.jsx)(em.x6,{id:"R2Ly6h"})},{key:"wrong-layout",label:(0,p.jsx)(em.x6,{id:"moXJSM"})},{key:"wrong-content",label:(0,p.jsx)(em.x6,{id:"AgLuGi"})},{key:"wrong-images",label:(0,p.jsx)(em.x6,{id:"IAt1qK"})},{key:"too-similar",label:(0,p.jsx)(em.x6,{id:"Np7sCV"})},{key:"too-different",label:(0,p.jsx)(em.x6,{id:"/wLn3u"})},{key:"instructions",label:(0,p.jsx)(em.x6,{id:"Tq32Jp"})},{key:"other",label:(0,p.jsx)(em.x6,{id:"/IX/7x"})}];var ix=n(81807),ib=n(80116),iC=n(98701),iy=n(83605),iv=n(21);let iw=new nl.b;var iA=n(13559),ik=n(6018),iL=n(66380),ij=n(11390),iE=n(6181),iS=n(3383),iM=n(13731),iI=n.n(iM);let i_=[{key:"rephrase.better",label:()=>e5.Ru._({id:"WLqWVj"}),instructions:"Improve the writing",instructionsTrans:()=>e5.Ru._({id:"KaTt0J"}),icon:e2.xXs,group:"writing",loadingMessage:()=>e5.Ru._({id:"OxbbYn"}),variationName:()=>e5.Ru._({id:"5j51A1"}),completionMessage:()=>e5.Ru._({id:"EF1nyz"})},{key:"edit.spelling",label:()=>e5.Ru._({id:"kIRRvo"}),instructions:"Fix spelling & grammar",instructionsTrans:()=>e5.Ru._({id:"7Mcbfl"}),icon:e2.e68,group:"writing",loadingMessage:()=>e5.Ru._({id:"vLjsO9"}),variationName:()=>e5.Ru._({id:"MRZxAn"}),completionMessage:()=>e5.Ru._({id:"3G04Qf"})},{key:"edit.translate",label:()=>e5.Ru._({id:"pi8x/S"}),instructions:"",instructionsTrans:()=>e5.Ru._({id:"E6k5Np"}),icon:e2.mh,group:"writing",loadingMessage:()=>e5.Ru._({id:"aKSJTV"}),variationName:()=>e5.Ru._({id:"a/ppJp"}),completionMessage:()=>e5.Ru._({id:"a/ppJp"})},{key:"rephrase.expand",label:()=>e5.Ru._({id:"rRLXT4"}),instructions:"Make this longer - about 2x the current length",instructionsTrans:()=>e5.Ru._({id:"hbj+SR"}),icon:e2.ckx,group:"writing",loadingMessage:()=>e5.Ru._({id:"Q+x/E4"}),variationName:()=>e5.Ru._({id:"pvJgUJ"}),completionMessage:()=>e5.Ru._({id:"jgdqxQ"})},{key:"rephrase.condense",label:()=>e5.Ru._({id:"xTY2A5"}),instructions:"Make this more concise - about half the current length",instructionsTrans:()=>e5.Ru._({id:"zeiJlg"}),icon:e2.Nby,group:"writing",loadingMessage:()=>e5.Ru._({id:"BjuYlr"}),variationName:()=>e5.Ru._({id:"Q7U9iz"}),completionMessage:()=>e5.Ru._({id:"l7sxzR"})},{key:"rephrase.simplify",label:()=>e5.Ru._({id:"Lx/Sd1"}),instructions:"Simplify the language",instructionsTrans:()=>e5.Ru._({id:"BS3Eqe"}),icon:e2.vq5,group:"writing",loadingMessage:()=>e5.Ru._({id:"AAhoH1"}),variationName:()=>e5.Ru._({id:"nvmoB1"}),completionMessage:()=>e5.Ru._({id:"5xpG46"})},{key:"rephrase.specifics",label:()=>e5.Ru._({id:"u6rs0A"}),instructions:"Rewrite this to be more specific. Use the previous text and the outline for context. If you don't have enough details, make them up.",instructionsTrans:()=>e5.Ru._({id:"pbZESM"}),icon:e2.g0Y,group:"writing",loadingMessage:()=>e5.Ru._({id:"HW6L/y"}),variationName:()=>e5.Ru._({id:"PRHEO1"}),completionMessage:()=>e5.Ru._({id:"dib9YI"})},{key:"layout.visual",label:()=>e5.Ru._({id:"gcHjj/"}),instructions:"I want to make this content more visual. Make up new images to illustrate the concepts. You can rephrase the text to fit the new template, but don't alter the original voice or make up new details.",instructionsTrans:()=>e5.Ru._({id:"7AVs0v"}),icon:e2.Si7,group:"layout",loadingMessage:()=>e5.Ru._({id:"hMtOFm"}),variationName:()=>e5.Ru._({id:"p0QPRq"})},{key:"layout.addImage",label:()=>e5.Ru._({id:"LfOSf5"}),instructions:"Add a new image. Keep the rest of my content and formatting the same. Don't change layout blocks or make up new details. Do not remove any of the text!",instructionsTrans:()=>e5.Ru._({id:"ohc2fy"}),icon:e2.Cyq,group:"layout",loadingMessage:()=>e5.Ru._({id:"hMtOFm"}),variationName:()=>e5.Ru._({id:"2ap0Xm"})}],iD=iI()(i_,"group"),iR=[{key:"writing",label:()=>e5.Ru._({id:"4kJRen"})},{key:"layout",label:()=>e5.Ru._({id:"an5hVd"})}],iT=(e,t)=>({...e,...t,id:e.id}),iz=e=>{let{editor:t,getPos:n,cardId:i}=e,a=(0,K.GV)(eR.Jo),r=(0,K.CU)(),s=(0,K.GV)((0,U.wQ)(i)),{imageProvider:l,imageOptions:o}=(0,iL.V)(),c=(0,I.useCallback)(async e=>{let n=e.instructions?e.instructions:e.operation?e.operation.instructions:"",{previous:s,inputHtml:c,operation:d}=e;if(!a||!a.organization)throw Error("Doc or organization not found");let u=(0,ih.$F)(),p=performance.now(),h=(0,iA.h)(t,r),g={interface:"edit-card",interactionId:u,inputContent:c,inputMessage:n,inputData:{custom:!!d,operation:null==d?void 0:d.key,operationGroup:null==d?void 0:d.group,imageProvider:l,...h},product:(0,ij.A4)(a.organization),docId:a.id,cardId:i},m=(0,iE.P9)(a.organization.id);try{(0,ih.rl)(g);let e=(null==d?void 0:d.key)==="edit.translate",t=await (0,iC.K8)({promptKey:"EditCardWithLayout",variables:{inputHtml:c,request:n,previousHtml:s,imageOptions:o,imageProvider:l,...h,model:t9.of.get("editCardModel"),reasoningEffort:t9.of.get("editCardReasoningEffort"),docId:a.id,basePromptKey:e?"TranslateCard":t9.of.get("editCardPrompt")},interactionId:u,workspaceId:(null==m?void 0:m.id)||a.organization.id,opts:{maxRetries:0}}),i=(0,ix.DB)(t),r=(0,iy.dE)(i);return(0,ih.Yh)({...g,outputContent:i,outputMessage:t.replace(i,"[outputContent]"),latency:performance.now()-p}),(0,ik.w)("editCard",m,u),{output:r,interactionId:u}}catch(e){throw(0,ih.tB)({...g,errorMessage:e.message,errorCode:e.code,errorName:e.name,errorStack:e.stack,outputMessage:"Error editing card",latency:performance.now()-p}),e}},[a,r,i,l,o,t]),d=(0,I.useCallback)(async e=>{let{instructions:a,operation:s}=e,l=n();if("number"!=typeof l)return;let o=t.view.state.doc.nodeAt(l);if(!o)return void console.error("[AICard] Cannot append card. Node unknown");try{var d,u;r.dispatch((0,U.Ic)({cardId:i,suggestions:{status:"loading",loadingMessage:null==s||null==(d=s.loadingMessage)?void 0:d.call(s),variants:[]}}));let e=(0,iS.ze)(t,l),n=(0,ib.KC)(t,o),{output:p,interactionId:h}=await c({instructions:a,operation:s,inputHtml:n,previous:e});p.attrs=iT(o.attrs,p.attrs),iH(t,i,p,h),r.dispatch((0,U.Ic)({cardId:i,suggestions:{status:"done",interactionId:h,selected:"v1",operation:s,instructions:a,variants:[{label:e5.Ru._({id:"HxF6Fk"}),isOriginal:!0,id:"original",card:o.toJSON()},{label:(null==s||null==(u=s.variationName)?void 0:u.call(s))||e5.Ru._({id:"YledUl"}),isOriginal:!1,id:"v1",card:p}]}}))}catch(e){console.error("[EditCard] Error regenerating card",e),r.dispatch((0,U.Ic)({cardId:i,suggestions:{status:"error",variants:[]}}))}},[c,t,n,r,i]);return(0,I.useEffect)(()=>iw.on("translate",e=>{let{type:t,cardId:n,language:a}=e,r=i_.find(e=>"edit.translate"===e.key);"card"===t&&n===i&&r&&d({instructions:"".concat(a.englishName," (").concat(a.key,")"),operation:r})}),[i,d]),{editCard:d,status:s}},iH=(e,t,n,i)=>{let a=(0,l.xe)(e.state.doc,e=>(0,Q.jg)(e)&&e.attrs.id===t)[0];if(!a)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");e.chain().setMeta("isEditCardVariant",!0).setMeta("cardNotesHandled",!0).insertContentAt({from:a.pos,to:a.pos+a.node.nodeSize},n).selectInsideCardBody(a.pos).run();let r=(0,ed.SJ)((0,K.KA)().getState());(0,iv.Sg)({editor:e,content:n,theme:r,interactionId:i})},iN=e=>{let{cardId:t}=e,{isOpen:n,onClose:i,onOpen:a}=(0,t4.E)({id:"TranslateCardDisclosure"}),r=(0,I.useCallback)(e=>{iw.emit("translate",{type:"card",cardId:t,language:e}),i()},[t,i]);return{isTranslateCardOpen:n,onTranslateCardOpen:a,onTranslateCardClose:i,startTranslation:r}},iB=e=>{let{suggestions:t,cardId:n,isDark:i,editor:a}=e,{color:r,bg:s}=(0,nv.Nb)(),l=(0,nv.wP)(),{status:o,variants:c,selected:d,loadingMessage:u,interactionId:h,instructions:g,operation:m}=t,x=(0,K.jL)(),f=(0,I.useCallback)((e,t)=>{x((0,U.S6)({cardId:n,variantId:e})),iH(a,n,t,h)},[x,n,a,h]),b=(0,e7.st)(),C=(0,I.useCallback)(()=>{var e;null==b||b.track(e7.VV.AI_CARD_VARIATION_KEPT,{cardId:n,variantId:d,isOriginal:null==(e=c.find(e=>e.id===d))?void 0:e.isOriginal,interactionId:h,source:"button"}),x((0,U.YB)({cardId:n}))},[x,n,d,b,c,h]),y=(0,iu.dU)("trueblue.500","trueblue.100"),v=(0,iu.dU)("trueblue.50","gray.600"),w=(0,iu.dU)("red.100","red.700"),A=(0,iu.dU)("red.500","red.100");return(0,p.jsx)(j.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",spacing:2,children:"loading"===o?(0,p.jsxs)(j.z,{borderWidth:"1px",...l,pointerEvents:"none",children:[(0,p.jsx)(M.g,{icon:eI.p7g}),(0,p.jsxs)(E.E,{children:[u||(0,p.jsx)(em.x6,{id:"RQqcwV"}),"..."]})]}):"error"===o?(0,p.jsxs)(j.z,{borderWidth:"1px",...l,_hover:{},bg:w,color:A,children:[(0,p.jsx)(M.g,{icon:e2.QJT}),(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"nwtY4N"})}),(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"yz7wBu"}),size:"xs",minW:4,minH:4,h:4,isRound:!0,variant:"ghost",onClick:C,icon:(0,p.jsx)(M.g,{icon:e2.GRI}),colorScheme:i?"white":"blackAlpha"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(tT.e,{spacing:"-1px",children:[c.map(e=>(0,p.jsx)(eq.$,{...l,color:d===e.id?y:r,bg:d===e.id?v:s,variant:d===e.id?"plainSelected":"plain",onClick:()=>f(e.id,e.card),position:"relative",children:e.label},e.id)),(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"MuX+Gc"}),placement:"top",children:(0,p.jsx)(eY.K,{...l,icon:(0,p.jsx)(M.g,{icon:eI.e68}),"aria-label":e5.Ru._({id:"MuX+Gc"}),onClick:C})})]}),h&&(0,p.jsx)(ig,{interactionId:h,operation:null==m?void 0:m.key,instructions:g})]})})};var iP=n(65273),iF=n(80382);let iV=e=>{let{attrs:t}=e,{suggestions:n}=(0,iP.s)(t);return(0,I.useMemo)(()=>[{key:"suggested",label:()=>e5.Ru._({id:"nyQWMb"}),operations:n.map(e=>({key:e,label:()=>e,onQuickAction:t=>{t({message:e5.Ru._({id:"ZI5Cdm",values:{s:e}})})}}))}],[n])},iO=e=>{let{attrs:t,editor:n,selectImage:i}=e,{color:a,bg:r,hoverColor:s,hoverBg:l,borderColor:o}=(0,nv.Nb)(),{isOpen:c,onOpen:d,onClose:u}=(0,n$.j)(),h=iV({attrs:t});return(0,p.jsx)(iF.A,{title:e5.Ru._({id:"b0eJco"}),placeholder:e5.Ru._({id:"wm/Yby"}),isOpen:c,onOpen:d,onClose:u,hideSelection:!0,editor:n,selectImage:i,trigger:(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"DDxKHn",values:{AGENT_PROPER_NOUN:e8.qV}}),placement:"top",shouldWrapChildren:!0,children:(0,p.jsx)(eq.$,{height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:o,color:a,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:r,px:.5,_hover:{color:s,background:l},pointerEvents:"auto",children:(0,p.jsxs)(j.z,{spacing:2,children:[(0,p.jsx)(M.g,{icon:eI.p7g,fixedWidth:!0}),(0,p.jsx)(em.x6,{id:"DDxKHn",values:{AGENT_PROPER_NOUN:e8.qV}}),(0,p.jsx)(np.D,{})]})})}),placement:"bottom-start",actionGroups:h})};var iZ=n(76565),iW=n(72470),iU=n(77979),iG=n(51684),iK=n(57963);let iQ=new nl.b;var iq=n(16426),iJ=n(9118),i$=n(6807),iY=n(65148);let iX=()=>{let e=(0,I.useMemo)(()=>{var e;let t=navigator.language.toLowerCase(),n=t.split("-")[0],i=null!=(e=iJ.ZD.find(e=>e.key===t))?e:iJ.ZD.find(e=>e.key===n);return null==i?void 0:i.key},[]),[t,n]=(0,i$.M)(iY.E.generateLanguage,null!=e?e:"en");return[(0,I.useMemo)(()=>{var e;return null!=(e=iJ.ZD.find(e=>e.key===t))?e:iJ.ZD[0]},[t]),n]},i0=(0,I.memo)(e=>{let{locale:t,setLocale:n,buttonProps:i}=e,[a,r]=(0,I.useState)([]);(0,I.useEffect)(()=>{r(e=>{if(iJ.ZD.find(e=>e.key===t.key))return e;let n=[...e];return n.find(e=>e.key===t.key)||n.push(t),n})},[t.key]);let s=(0,I.useMemo)(()=>[...a,...(0,iJ.Mo)()],[a]);return(0,p.jsxs)(eJ.W,{children:[(0,p.jsx)(e$.I,{as:eq.$,size:"sm",boxShadow:"sm",variant:"ghost",rightIcon:(0,p.jsx)(M.g,{size:"xs",icon:e2.Jt$}),leftIcon:(0,p.jsx)(M.g,{size:"xs",icon:eI.mh}),minW:"150px",...i,children:t.displayName}),(0,p.jsx)(ng.Z,{children:(0,p.jsx)(eX.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",zIndex:"tooltip",children:(0,p.jsx)(ta.i,{value:t.key,title:e5.Ru._({id:"vXIe7J"}),type:"radio",onChange:e=>{n(e)},children:s.map(e=>(0,p.jsx)(tr.k,{value:e.key,children:(0,p.jsxs)(ey.B,{spacing:0,children:[(0,p.jsx)(E.E,{children:e.displayName}),(0,p.jsx)(E.E,{as:"span",color:"gray.500",fontSize:"sm",children:e.displayNameLocalized()})]})},e.key))})})})]})});i0.displayName="AILocalePicker";let i1=e=>{let{isAdminView:t=!1,isFullDoc:n,isSite:i,onClose:a,startTranslation:r}=e,[s]=iX(),[l,o]=(0,I.useState)(s);return(0,p.jsx)(eg.L8,{isDark:!1,children:(0,p.jsxs)(ex.aF,{isOpen:!0,onClose:a,children:[(0,p.jsx)(ef.m,{}),(0,p.jsxs)(eb.$,{children:[(0,p.jsx)(eC.r,{children:(0,p.jsx)(e6.s,{alignItems:"center",mr:8,children:i?(0,p.jsx)(em.x6,{id:"56Urwv"}):n?(0,p.jsx)(em.x6,{id:"e2vVXR",values:{GAMMA_ARTIFACT_PROPER_NOUN:e8.TP}}):(0,p.jsx)(em.x6,{id:"DLQ7Yc"})})}),(0,p.jsx)(eA.s,{}),(0,p.jsxs)(ek.c,{children:[(0,p.jsx)(E.E,{mb:4,children:i?(0,p.jsx)(em.x6,{id:"dZwNdR"}):n?(0,p.jsx)(em.x6,{id:"6YnROT",values:{GAMMA_ARTIFACT_PROPER_NOUN:e8.TP}}):(0,p.jsx)(em.x6,{id:"WQFlqR"})}),(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{children:(0,p.jsx)(E.E,{fontSize:"14px",children:(0,p.jsx)(em.x6,{id:"3LIgcv"})})}),(0,p.jsx)(i0,{buttonProps:{variant:"plain",justifyContent:"flex-start",textAlign:"left",width:"100%"},locale:l,setLocale:e=>{o((0,iJ.xt)(e))}})]}),t&&(0,p.jsx)(e6.s,{mt:4,children:(0,p.jsxs)(n0.F,{status:"warning",children:[(0,p.jsx)(n1._,{}),"You're using the translation feature as an admin in the PUBLIC_STATIC editor. Translations made here will not be persisted to the database and are intended for admin review process only."]})})]}),(0,p.jsx)(iq.j,{children:(0,p.jsxs)(tT.e,{children:[(0,p.jsx)(eq.$,{variant:"ghost",colorScheme:"gray",onClick:a,color:t?{color:"orange.500"}:void 0,_hover:t?{bg:"orange.100"}:void 0,children:(0,p.jsx)(em.x6,{id:"dEgA5A"})}),(0,p.jsx)(eq.$,{variant:"solid",bg:t?"orange.500":void 0,_hover:{bg:t?"orange.700":void 0},onClick:()=>r(l),children:(0,p.jsx)(em.x6,{id:"pi8x/S"})})]})})]})]})})};var i2=n(90184),i3=n(26814),i5=n(22249),i4=n(99552),i6=n(33633),i9=n(77364),i7=n(647),i8=n(95563),ae=n(97938),at=n(37605),an=n(71514),ai=n(94920),aa=n(78073),ar=n(43501),as=n(85829);let al=(e,t)=>{let n=e.node.attrs,i=t.content.find(e=>"cardAccentLayoutItem"===e.type);return i&&"none"!==n.background.type&&(i.attrs={...i.attrs,...n}),t},ao=e=>{var t;let{editor:n,start:i,cardId:a,card:r}=e,s=(0,K.GV)(eR.Jo),l=(0,K.GV)(ed.SJ),o=(0,ar.lI)(n),c=(0,ar.zK)(o),d=n.state.doc.resolve(i),[u]=(0,I.useState)(r),p=(0,K.CU)(),h=(0,K.GV)((0,aa.dJ)(a)),g=(0,K.GV)((0,aa.gR)(a)),m=(0,K.GV)((0,aa.rT)(a)),x=(0,K.jL)(),[f,b]=(0,I.useState)(null),C=(0,K.GV)(ed.Uu),y=(null==s?void 0:s.organization)?(0,iE.P9)(s.organization.id):void 0,v=(null==y?void 0:y.id)||(null==s||null==(t=s.organization)?void 0:t.id),{imageProvider:w,imageModel:A,imageStyle:k}=(0,iL.V)(),L=(0,I.useCallback)(async e=>{let{variantsWithHtml:t,docId:i,interactionId:a}=e,s=[...t];for(let e=0;e<t.length;e++){let o=t[e];if(!o||!o.isGenerating||!o.html||!v)continue;let c=(0,iy.dE)(o.html);c.attrs=iT(null==r?void 0:r.attrs,c.attrs);let u=(0,ei.l0)(d).accent;u&&(c=al(u,c)),s[e]={...o,card:c,isGenerating:!1},(0,iv.Sg)({editor:n,content:c,theme:l,interactionId:a,workspaceId:v,docId:i})}return s},[v,l,null==r?void 0:r.attrs,d,n]),j=(0,I.useCallback)(e=>{let{content:t,interactionId:i}=e;if(!s)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");let r=(0,ix.dg)(t),[l,...o]=(0,aa.dJ)(a)(p.getState()),c=[],d=o.map((e,t)=>{let n=r[t]||null,i={...e,html:e.html?e.html:n};return n&&!e.html&&c.push(i),i});x((0,aa.bL)({cardId:a,variants:[l,...d]})),L({variantsWithHtml:c,docId:s.id,interactionId:i}).then(e=>{let t=(0,aa.dJ)(a)(p.getState()).map(t=>{let n=e.find(e=>e.id===t.id);return n?{...t,...n}:t});if(x((0,aa.bL)({cardId:a,variants:t})),1===r.length){x((0,aa.Ye)({cardId:a,selectedVariantId:t[1].id}));try{iH(n,a,{...t[1].card,attrs:{...t[1].card.attrs,id:a}},i)}catch(e){console.error("[GenerateCardLayoutVariants] Error replacing card with variant",e)}}})},[a,x,s,n,L,p]),E=(0,I.useCallback)(async()=>{if(!u||!v)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");x((0,aa.Z_)({card:u,docSettings:C}));try{let e=(0,ib.KC)(n,u),t=(0,ih.$F)();b(t);let i=ac({onContent:e=>{j({content:e,interactionId:t})},inputHtml:e,format:c,imageProvider:w||"none",imageOptions:{model:A,stylePrompt:k},workspaceId:v,aiInteractionId:t});(0,ik.w)("editCard",y,t),await i}catch(e){console.error("[GenerateCardLayoutVariants] Error generating card variants",e)}},[u,v,x,C,n,j,c,w,A,k,y]),S=(0,I.useCallback)(()=>{let e=h.find(e=>"original"===e.id);e&&(x((0,aa.Ye)({cardId:a,selectedVariantId:e.id})),iH(n,a,e.card,f))},[n,a,h,x,f]);return{generateCardLayoutVariants:E,variants:h,selectedVariantId:g,setSelectedVariantId:aa.Ye,revertToOriginalCard:S,interactionId:f,editorContent:m}},ac=e=>{let{onContent:t,inputHtml:n,format:i,imageProvider:a,imageOptions:r,workspaceId:s,aiInteractionId:l}=e,{promise:o}=(0,iC.i4)({promptKey:"GenerateCardLayoutVariants",opts:{onContent:t},variables:{inputHtml:n,request:"I dont like this template. Try a different layout or visualization. You can rephrase the text to fit a new template, but don't alter the original voice or make up new details.",format:i,numberOfVariants:as.M,imageProvider:a,imageOptions:r,blockFlags:(0,ix.fc)()},workspaceId:s,interactionId:l});return o};var ad=n(65950),au=n(58568);let ap=I.memo(e=>{let{item:t,isSelected:n,onClick:i,label:a,interactionId:r}=e,s=t.isGenerating,{ref:l,width:o}=(0,au.Lh)();return(0,p.jsxs)(e6.s,{ref:l,direction:"column",onClick:i,cursor:"pointer",position:"relative",w:"100%",my:2,css:{"--editor-width":"".concat(o&&1!==o?o:365,"px"),"--line-thickness":"1px"},minHeight:"150px",children:[s&&(0,p.jsx)(ah,{}),(0,p.jsxs)(e6.s,{borderRadius:"md",border:"1px solid",borderColor:n?"trueblue.500":"gray.200",outline:n?"1px solid var(--chakra-colors-trueblue-500)":"none",_hover:{borderColor:n?"trueblue.600":"trueblue.300"},boxShadow:"md",overflow:"hidden",role:"group",visibility:s?"hidden":"visible",height:s?"0px":"auto",transitionProperty:"height border",transitionDuration:"0.2s",children:[(0,p.jsx)(e6.s,{position:"absolute",top:4,insetEnd:4,bgColor:"trueblue.50",color:"trueblue.600",borderRadius:"md",px:2,py:1,zIndex:as.Ob,fontSize:"xs",border:"1px solid",borderColor:"trueblue.200",children:a}),"original"!==t.id&&(0,p.jsx)(e6.s,{position:"absolute",insetEnd:4,bottom:4,zIndex:as.Ob,opacity:0,transitionProperty:"opacity",transitionDuration:"0.2s",_groupHover:{opacity:1},children:(0,p.jsx)(ig,{interactionId:r||"",operation:"layout.different",RatingButtons:ip.Ep})}),(0,p.jsx)(ad.N,{cardId:t.id})]})]})});ap.displayName="VariantCard";let ah=()=>(0,p.jsx)(e6.s,{position:"absolute",inset:0,zIndex:1,w:"100%",h:"150px",minHeight:"150px",borderRadius:"md",align:"center",justify:"center",mb:4,children:(0,p.jsxs)(e6.s,{bg:"gradient.secondary-light",h:"100%",borderRadius:"md",mx:4,align:"center",justify:"center",children:[(0,p.jsx)(tL._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"45px",zIndex:1}),(0,p.jsx)(h.a,{bg:"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:"100%",zIndex:0})]})}),ag=Object.assign(e=>{let{selectedCardRange:t,closePanel:n,cardId:i,editor:a}=e;return((0,ec.lC)(a,!0),(0,I.useEffect)(()=>{var e;let i=null==a||null==(e=a.state.selection)?void 0:e.from,{from:r,to:s}=t||{};if(!r||!s||!i)return void n();i===r||i>r&&i<s||n()},[null==a?void 0:a.state.selection,t,n]),a&&i&&t)?(0,p.jsx)(am,{closePanel:n,editor:a,selectedCardPos:t.from,selectedCardId:i}):null},{panelPosition:"right",panelName:"CardLayoutVariants",canCollapse:!1,minWidth:400}),am=I.memo(e=>{let{closePanel:t,editor:n,selectedCardPos:i,selectedCardId:a}=e,r=(0,K.GV)((0,aa.dJ)(a)),s=(0,K.GV)((0,aa.gR)(a)),l=(0,K.GV)((0,aa.rT)(a)),o=(0,K.jL)(),c=(0,i3.tO)(void 0,"editCard",at.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),d=n.view.state.doc.nodeAt(null!=i?i:0),{generateCardLayoutVariants:u,revertToOriginalCard:h,interactionId:g}=ao({editor:n,start:null!=i?i:0,cardId:a,card:d}),m=(0,I.useMemo)(()=>r.some(e=>e.isGenerating),[r]),x=(0,I.useCallback)(async()=>{if(!c())return void t();await u()},[c,u,t]);(0,I.useEffect)(()=>{x()},[]),(0,I.useEffect)(()=>()=>{s&&(null===ae.z||void 0===ae.z||ae.z.track(at.VV.AI_CARD_VARIATION_KEPT,{cardId:a,variantId:s,isOriginal:"original"===s,interactionId:g,source:"layout-panel"}))},[a,s,g,r]);let f={bgColor:(0,iu.dU)("white","gray.800"),textColor:(0,iu.dU)("gray.800","white")},b=(0,I.useCallback)(e=>{let t=r.find(t=>t.id===e);t&&(o((0,aa.Ye)({cardId:a,selectedVariantId:t.id})),iH(n,a,t.card,g))},[a,r,n,o,g]),C={dropdownBgColor:(0,iu.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,iu.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,iu.dU)("gray.800","white")};return(0,p.jsx)(i7.Z,{bgColor:f.bgColor,w:"100%",pt:4,children:(0,p.jsxs)(e6.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,p.jsxs)(e6.s,{position:"relative",pb:1,px:4,children:[(0,p.jsx)(e6.s,{flex:1,children:(0,p.jsx)(i8.N,{children:(0,p.jsx)(em.x6,{id:"jVFRe1"})})}),(0,p.jsxs)(tT.e,{spacing:0,children:["original"!==s&&(0,p.jsx)(eq.$,{size:"sm",onClick:h,variant:"ghost",leftIcon:(0,p.jsx)(M.g,{icon:e2.LxC,size:"sm"}),children:(0,p.jsx)(em.x6,{id:"9uI/rE"})}),(0,p.jsx)(i9.J,{onClick:t})]})]}),!m&&(0,p.jsxs)(e6.s,{px:4,gap:2,pb:2,align:"center",children:[(0,p.jsx)(E.E,{fontSize:"xs",color:"gray.500",children:(0,p.jsx)(em.x6,{id:"GhS4Yn"})}),(0,p.jsxs)(eq.$,{size:"xs",leftIcon:(0,p.jsx)(M.g,{icon:e2.rhK}),textAlign:"start",bgColor:C.dropdownBgColor,color:C.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:C.dropdownBgHoverColor},onClick:()=>{x()},children:[(0,p.jsx)(em.x6,{id:"fMPkxb"}),(0,p.jsx)(i2.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ms:2,px:0})]})]}),(0,p.jsx)(ax,{variants:r,editorContent:l,handleSelectVariant:b,selectedVariantId:s,interactionId:g,anyVariantsGenerating:m})]})})}),ax=I.memo(e=>{let{variants:t,editorContent:n,handleSelectVariant:i,selectedVariantId:a,interactionId:r,anyVariantsGenerating:s}=e;return n?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(e6.s,{overflowY:"auto",direction:"column",h:"100%",flex:1,children:[s&&(0,p.jsxs)(e6.s,{px:4,py:2,borderRadius:"md",align:"center",gap:1,color:"deepocean.900",fontWeight:"bold",alignItems:"center",children:[(0,p.jsx)(E.E,{fontSize:"xs",children:(0,p.jsx)(em.x6,{id:"yARg1X"})}),(0,p.jsx)(tL._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"20px",zIndex:1})]}),(0,p.jsx)(h.a,{h:"100%",overflowY:"auto",children:(0,p.jsx)(an.q,{initialContent:n,children:(0,p.jsx)(af,{variants:t,interactionId:r,selectedVariantId:a,handleSelectVariant:i})})})]})}):null});ax.displayName="CardLayoutVariantsList";let af=I.memo(e=>{let{variants:t,interactionId:n,selectedVariantId:i,handleSelectVariant:a}=e,{editor:r}=(0,ai.U)();return(0,I.useEffect)(()=>{t.forEach(e=>{if(!r||e.isGenerating)return;let t={...e.card,attrs:{...e.card.attrs,id:e.id}};iH(r,e.id,t,n)})},[t,r,n]),(0,p.jsx)(e6.s,{direction:"column",w:"100%",px:4,children:t.map(e=>(0,p.jsx)(ap,{interactionId:n,label:"original"===e.id?(0,p.jsx)(e6.s,{children:(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"HxF6Fk"})})}):(0,p.jsxs)(e6.s,{align:"center",gap:1,children:[(0,p.jsx)(M.g,{icon:e2.p7g,size:"xs"}),(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"isRobC"})})]}),item:e,isSelected:i===e.id,onClick:()=>{a(e.id)}},e.id))})});af.displayName="CardLayoutVariantsPreviewList";let ab=()=>{let{togglePanel:e,isPanelOpen:t}=(0,i6.ww)(ag);return{toggleCardLayoutVariantsPanel:e,isCardLayoutVariantsPanelOpen:t}},aC=(0,I.memo)(e=>{let{editor:t,getPos:n,onClose:i}=e,{toggleCardLayoutVariantsPanel:a,isCardLayoutVariantsPanelOpen:r}=ab(),s=(0,I.useCallback)(()=>{r&&a({override:"closed"});let e=n();if("number"!=typeof e)return;let s=t.state.doc.nodeAt(e);s&&(t.commands.selectNodeAtPos(e),a({override:"open",isResizable:!1,props:{cardId:s.attrs.id,selectedCardRange:{from:e,to:e+s.nodeSize},editor:t}}),i())},[t,n,i,a,r]);return(0,p.jsx)(eq.$,{variant:"plain",size:"xs",onClick:s,children:(0,p.jsxs)(e6.s,{align:"center",gap:1,children:[(0,p.jsx)(M.g,{icon:e2.p7g,fixedWidth:!0}),(0,p.jsx)(em.x6,{id:"3MMiDG"}),(0,p.jsx)(i2.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ps:0,ms:1})]})})});aC.displayName="TryNewLayoutButton";let ay=e=>{let{attrs:t,editor:n,getPos:i}=e,a=t.id,r=!!(0,K.GV)(i4.Gd),{isTranslateCardOpen:s,onTranslateCardOpen:l,onTranslateCardClose:o,startTranslation:c}=iN({cardId:a}),d=(0,K.GV)((0,i5.iZ)("chat")),{color:u,bg:h,hoverColor:g,hoverBg:m,borderColor:x}=(0,nv.Nb)(),f=(0,I.useRef)(null),{status:b,editCard:C}=iz({editor:n,getPos:i,cardId:t.id}),y="loading"===b,v=(0,i3.tO)(void 0,"editCard",e7.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),w=(0,I.useCallback)(e=>{var t;if(v()){if((null==(t=e.operation)?void 0:t.key)==="edit.translate")return void l();C(e)}},[v,C,l]),A=(0,K.jL)(),k=(0,K.GV)((0,nq.C_)(t.id,"editWithAI")),L=(0,I.useCallback)(()=>{A((0,nq.md)())},[A]),j=(0,I.useCallback)(()=>{A((0,nq.CM)({cardId:t.id,menuType:"editWithAI"}))},[A,null==t?void 0:t.id]);(0,nh.j)({ref:f,handler:e=>{if(!k)return;let n=e.target;(null==n?void 0:n.closest('[data-card-ai-edit-menu-trigger="'.concat(t.id,'"]')))||L()}});let E=(0,I.useRef)(null),S=(0,t9.u)("editCard2"),{isInOfflineMode:_}=(0,n9.u)();return S?(0,p.jsxs)(eg.L8,{isDark:!1,children:[(0,p.jsxs)(eJ.W,{isLazy:!0,onClose:L,onOpen:j,isOpen:k,closeOnBlur:!1,initialFocusRef:E,children:[(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"EVnzPs"}),placement:"top",shouldWrapChildren:!0,children:(0,p.jsxs)(e$.I,{as:eq.$,isActive:k,isDisabled:_,"data-guider-highlight":"edit-with-ai-button","data-card-ai-edit-menu-trigger":t.id,height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:x,color:u,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:h,px:.5,_hover:{color:g,background:m},isLoading:y,pointerEvents:"auto",children:[(0,p.jsx)(M.g,{icon:eI.p7g,fixedWidth:!0}),(0,p.jsx)(np.D,{})]})}),(0,p.jsx)(ng.Z,{children:(0,p.jsxs)(eX.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-card-ai-edit-menu-trigger":t.id,maxH:"60vh",display:"flex",flexDirection:"column",children:[(0,p.jsx)(av,{editCardIfAllowed:w,onClose:L,firstItemRef:f,inputRef:E,isDisabled:y,pb:"10%",getPos:i,editor:n,title:e5.Ru._({id:"sdosNK"}),cardId:a}),(0,p.jsx)(nx.B,{px:5,py:3,bg:"gray.50",mx:-2,mb:-2,justify:"center",alignItems:"center",borderBottomRadius:"xl",children:(0,p.jsx)(nx.Q,{children:(0,p.jsx)(eq.$,{onClick:()=>{let e=i();"number"==typeof e&&(n.commands.selectInsideCardBody(e),d||iQ.emit("toggle",{}),L())},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,p.jsx)(M.g,{icon:iG.Y$q}),children:(0,p.jsx)(em.x6,{id:"mw/rmM"})})})})]})})]}),s&&(0,p.jsx)(i1,{isSite:r,isFullDoc:!1,onClose:o,startTranslation:c})]}):null},av=(0,I.memo)(e=>{let{editCardIfAllowed:t,onClose:n,firstItemRef:i,inputRef:a,isDisabled:r,groups:s=["writing","layout"],showCreditCosts:l=!0,opacityFadeUpsell:o=!1,getPos:c,editor:d,title:u,cardId:g,...m}=e,x="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,p.jsxs)(h.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:o?{WebkitMaskImage:x,maskImage:x}:s.length>1?{maskImage:"linear-gradient(to bottom, transparent, black 0%, black 90%, transparent)"}:void 0,...m,children:[(0,p.jsx)(e0.r,{children:(0,p.jsxs)(e6.s,{justify:"space-between",align:"center",mb:2,children:[(0,p.jsx)(E.E,{fontSize:"sm",children:u}),c&&(0,p.jsx)(aC,{editor:d,getPos:c,onClose:n})]})}),(0,p.jsx)(e0.r,{children:(0,p.jsxs)(iW.M,{size:"sm",mb:2,children:[(0,p.jsx)(iU.W,{fontSize:"sm",color:"deepocean.300",children:(0,p.jsx)(M.g,{icon:eI.p7g})}),(0,p.jsx)(iK._,{initialHeight:"32px",ref:a,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:r,onKeyDown:e=>{var s,l;if(!r){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let i=null==(l=a.current)?void 0:l.value;if(!i)return;t({instructions:i}),n()}"ArrowDown"===e.key&&(null==(s=a.current)?void 0:s.value.length)===0&&(e.preventDefault(),e.stopPropagation(),i.current&&i.current.focus())}},placeholder:e5.Ru._({id:"vKZEFh"})})]})}),iR.map((e,a)=>{let r=iD[e.key];return r&&0!==r.length&&s.includes(e.key)?(0,p.jsx)(e0.r,{title:e.label(),children:r.map((e,r)=>e.checkEnabled&&!e.checkEnabled()?null:(0,p.jsx)(e1.D,{icon:(0,p.jsx)(M.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>{t({operation:e}),n()},ref:0===r&&0===a?i:void 0,children:(0,p.jsxs)(j.z,{children:[(0,p.jsx)(E.E,{children:e.label()}),l&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eh.h,{}),(0,p.jsx)(i2.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})]})},e.key))},e.key):null})]})});av.displayName="EditCardAIMenuGroups";var aw=n(8099),aA=n(37537),ak=n(83916);let aL=e=>{let{cardId:t,onTranslateOpen:n,onOpenLayoutVariants:i}=e;return(0,I.useMemo)(()=>[{key:"layout-actions",operations:[{key:"layout.tryNew",label:()=>e5.Ru._({id:"3MMiDG"}),icon:eI.p7g,onQuickAction:()=>{i()}}]},{key:"writing",label:()=>e5.Ru._({id:"4kJRen"}),operations:iD.writing.map(e=>({key:e.key,label:e.label,icon:e.icon,checkEnabled:e.checkEnabled,onQuickAction:i=>{if("edit.translate"===e.key)return void n();let a=e.instructionsTrans();i({message:e5.Ru._({id:"1Boz2S",values:{instruction:a}}),context:{initiatingCardId:t}})}}))},{key:"image",label:()=>e5.Ru._({id:"hG89Ed"}),operations:iD.layout.map(e=>({key:e.key,label:e.label,icon:e.icon,checkEnabled:e.checkEnabled,onQuickAction:n=>{let i=e.instructionsTrans();n({message:e5.Ru._({id:"1Boz2S",values:{instruction:i}}),context:{initiatingCardId:t}})}}))}],[i,t,n])},aj=e=>{let{attrs:t,editor:n,getPos:i}=e,a=(0,K.jL)(),r=(0,K.GV)((0,nq.C_)(t.id,"editWithAI")),s=(0,I.useCallback)(()=>{a((0,nq.md)())},[a]),l=(0,I.useCallback)(()=>{a((0,nq.CM)({cardId:t.id,menuType:"editWithAI"}))},[a,t.id]),{isOpen:o,onOpen:c,onClose:d}=(0,n$.j)(),{color:u,bg:h,hoverColor:g,hoverBg:m,borderColor:x}=(0,nv.Nb)(),{isInOfflineMode:f}=(0,n9.u)(),{toggleBuddyChatPanel:b}=(0,aA.Cy)(),C=t.id,{toggleCardLayoutVariantsPanel:y,isCardLayoutVariantsPanelOpen:v}=ab(),w=(0,ak.u)(),A=aL({cardId:C,onTranslateOpen:c,onOpenLayoutVariants:(0,I.useCallback)(()=>{v&&y({override:"closed"});let e=i();if(void 0===e)return;let t=n.state.doc.nodeAt(e);t&&(n.commands.selectNodeAtPos(e),b({override:"closed",disableTransition:!0}),y({override:"open",isResizable:!1,props:{cardId:t.attrs.id,selectedCardRange:{from:e,to:e+t.nodeSize},editor:n}}))},[n,i,v,b,y])});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(iF.A,{title:e5.Ru._({id:"IkOuqb"}),placeholder:e5.Ru._({id:"0IhjJa"}),editor:n,clearSelectionOnOpen:!0,initiatingCardId:t.id,isOpen:r,onOpen:l,onClose:s,trigger:(0,p.jsx)(aw.m,{label:(0,p.jsx)(em.x6,{id:"EVnzPs"}),placement:"top",hasArrow:!0,children:(0,p.jsxs)(eq.$,{"data-guider-highlight":"edit-with-ai-button","data-card-ai-edit-menu-trigger":t.id,height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",pointerEvents:"auto",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:x,color:u,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:h,px:.5,_hover:{color:g,background:m},isDisabled:f,zIndex:1e3,onMouseDown:e=>{e.stopPropagation()},children:[(0,p.jsx)(M.g,{icon:eI.p7g,fixedWidth:!0}),(0,p.jsx)(np.D,{})]})}),placement:"bottom-start",actionGroups:A}),o&&(0,p.jsx)(i1,{isSite:!1,isFullDoc:!1,onClose:d,startTranslation:e=>{let t=e.displayName;w({message:e5.Ru._({id:"l0kId+",values:{lang:t}}),context:{initiatingCardId:C}}),b({override:"open",disableTransition:!0}),d()}})]})},aE=e=>{let{cardContentType:t,attrs:n,editor:i,getPos:a,node:r}=e,s=(0,t9.u)("buddyEdit"),o=(0,t9.u)("buddyEditGa"),{color:c,bg:d,hoverColor:u,hoverBg:h,borderColor:g}=(0,nv.Nb)();if("image"===t){let e=r.firstChild.attrs.image,t=()=>{let e=a();if("number"!=typeof e)return;let t=(0,l.xe)(r,e=>"cardImageItem"===e.type.name);if(t.length>0){let n=e+1+t[0].pos;i.commands.selectNodeAtPos(n)}};return o?(0,p.jsx)(iO,{attrs:e,editor:i,selectImage:t}):(0,p.jsx)(iZ.a,{attrs:e,editor:i,height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:g,color:c,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:d,px:.5,_hover:{color:u,background:h},pointerEvents:"auto",label:(0,p.jsx)(em.x6,{id:"vKZEFh"}),disableQuickActions:!0,selectImage:t})}return s?(0,p.jsx)(aj,{editor:i,getPos:a,attrs:n}):(0,p.jsx)(ay,{editor:i,getPos:a,attrs:n})};var aS=n(81570);let aM=e=>{let{theme:t,editor:n,getPos:i,updateAttributes:a,input:r}=e,s=(0,nv.wP)(),l=(0,eT.ez)("unlimited_credits"),{toggleCardLayoutVariantsPanel:o,isCardLayoutVariantsPanelOpen:c}=ab(),d=(0,I.useCallback)(()=>{c&&o({override:"closed"});let e=i();if("number"!=typeof e)return;let t=n.state.doc.nodeAt(e);t&&(n.commands.selectNodeAtPos(e),o({override:"open",isResizable:!1,props:{cardId:t.attrs.id,selectedCardRange:{from:n.state.selection.from,to:n.state.selection.from+t.nodeSize},editor:n}}))},[n,i,o,c]);return(0,p.jsx)(j.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",children:(0,p.jsxs)(j.z,{spacing:2,children:[(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"K1Ro+T"}),placement:"top",children:(0,p.jsx)(eq.$,{...s,leftIcon:(0,p.jsx)(M.g,{icon:eI.CeG}),"aria-label":e5.Ru._({id:"K1Ro+T"}),onClick:()=>a({layoutTemplateColumns:null,generatorInput:{...aS.O,prompt:r.prompt}}),children:(0,p.jsx)(em.x6,{id:"550oRP"})})}),(0,p.jsx)(eq.$,{...s,leftIcon:(0,p.jsx)(M.g,{icon:eI.p7g}),onClick:()=>{d(),a({generatorInput:null})},children:(0,p.jsxs)(j.z,{spacing:.5,alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"SiSG+p"})}),!l&&(0,p.jsx)(i2.G,{type:"generateCard",ml:0,color:"gray.500"})]})}),r.interactionId&&(0,p.jsx)(ig,{interactionId:r.interactionId,operation:"generate-card",instructions:r.prompt})]})})};var aI=n(95571);function a_(){let e=(0,ti._)(["\n  0% {\n    margin-inline: 0;\n  }\n  100% {\n    margin-inline: var(--nested-card-margin);\n  }\n"]);return a_=function(){return e},e}let aD=(0,to.i7)(a_()),aR=e=>{let{attrs:t,isFullBleed:n,displayFullBleed:i,isNested:a,isPresentMode:r,isEditable:s,isFocused:l,isDark:o,isLetterboxed:c,showPresentBackdrop:d,isCommentOpenOnCard:u,theme:g,children:m}=e,{id:x,container:f}=t,b=(0,n_.NC)(g,f),C=i?aI.xE:aI.CO,y=r&&!a,v=(0,nI.ZI)(g,f.background?b:void 0),w=n?{width:a||c?"var(--card-width)":"100%"}:{zIndex:a?u?nr.$.nestedCardBodyWithComment:nr.$.nestedCardBody:void 0,width:"var(--card-width)"},A=y?{minW:d||c?"auto":"100%",minH:"var(--card-min-height)",my:"auto"}:{minW:"0%",minH:"var(--card-min-height)"},k=eu.D1?0:eo.M2;return(0,p.jsxs)(e6.s,{className:(0,S.cx)(eo.p$),"data-card-body":x,"data-selection-ring":!0,"data-guider-highlight":"card-body","data-letterboxed":c?"true":void 0,"data-content-reference":!0,"data-testid":"card-body","data-hide-comments":r,fontSize:"var(--font-size)",animation:a?"".concat(aD," ").concat(k,"ms ease-out forwards"):void 0,position:"relative",...w,...A,maxW:"var(--card-max-width)",css:{"--grid-outline-color":o?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-200)",...v,"--card-border-radius":i?0:v["--card-border-radius"]},justify:"center",borderRadius:"var(--card-border-radius)",ps:n&&!a?"var(--doc-padding-left)":void 0,pe:n&&!a?"var(--doc-padding-right)":void 0,_hover:s&&i&&!l?{"> .card-body-background":{outline:"2px solid var(--grid-outline-color)"}}:void 0,outline:c?"max(50vw, 50vh) solid black":void 0,children:[(0,p.jsx)(h.a,{position:"absolute",inset:"0",sx:C,className:"card-body-background",borderRadius:"inherit",contentEditable:!1,zIndex:r?-1:void 0,outline:l?"2px solid var(--chakra-ring-color)":void 0,outlineOffset:n&&!r?"-2px":void 0,border:a&&"0em"===v["--card-border-width"]?"1px solid var(--neutral-border-color)":void 0,"data-export-master":!!i||void 0}),(0,p.jsx)(eg.L8,{isDark:o,children:m})]})};var aT=n(76083),az=n(12364),aH=n.n(az),aN=n(87930);let aB="FLUSH_SYNCED_EDITOR";n(42721);var aP=n(70006);let aF=()=>{var e;let t=(0,K.GV)(eR.Jo),n=null==t||null==(e=t.docGenerateInput)?void 0:e.docGeneration;return null==n?void 0:n.generationType};var aV=n(56570),aO=n(91655),aZ=n(74676),aW=n(50507);let aU=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!t||!t.type)return(0,p.jsx)(I.Fragment,{},r);if("text"===t.type)return(0,p.jsx)(I.Fragment,{},"text-".concat(r));let s=e.nodes[t.type];if(!s)return(0,p.jsx)(I.Fragment,{});let l=null==(n=t.content)?void 0:n.map((n,i)=>aU(e,n,t,a+1,i));return I.createElement(s.component,{key:"".concat(s.type,"-").concat(r),node:t,depth:a,parent:i,index:r},l)};var aG=n(58297);let aK=e=>{let{children:t,orientation:n="vertical",...i}=e,a="vertical"===n?ey.B:j.z;return(0,p.jsx)(a,{spacing:"var(--block-spacing)",...i,children:t})},aQ=e=>(0,p.jsx)(h.a,{bg:"var(--main-color)",h:"var(--paragraph-height)",w:"100%",borderRadius:"var(--text-border-radius)",...e}),aq=e=>{let{style:t="solid",children:n,...i}=e;return(0,p.jsx)(aK,{w:"100%",bg:"solid"===t?"var(--main-color)":"transparent",minH:"2em",borderRadius:"var(--box-border-radius)",border:"outline"===t?"var(--border-width) solid var(--main-color)":"none",...i,children:n&&n})};var aJ=n(53996);let a$=e=>{let{iconSize:t="2x",icon:n,...i}=e;return(0,p.jsx)(aJ.o,{minH:"4em",bg:"var(--box-background-color)",color:"var(--accent-color)",borderRadius:"var(--box-border-radius)",...i,children:n||(0,p.jsx)(M.g,{icon:e2.Cyq,size:t})})},aY={top:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"accent" "body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!1},behind:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto"},items:{accent:{type:"accent",style:{gridArea:"1 / 1"}},body:{type:"body",style:{gridArea:"1 / 1",zIndex:1}}},allowFit:!1},blank:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"body"'},items:{body:{type:"body"}},allowFit:!1},left:{grid:{gridTemplateColumns:"".concat(37.5,"% ").concat(62.5,"%"),gridTemplateRows:"auto ",gridTemplateAreas:'"accent body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0},right:{grid:{gridTemplateColumns:"".concat(62.5,"% ").concat(37.5,"%"),gridTemplateRows:"auto",gridTemplateAreas:'"body accent"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0}},aX=e=>aY[null!=e?e:"blank"]||aY.blank,a0=e=>{var t;let{node:n}=e;return(null==(t=n.attrs)?void 0:t.itemId)==="accent"?(0,p.jsx)(a2,{...e}):(0,p.jsx)(a1,{...e})},a1=e=>{let{node:t,children:n}=e;return(0,p.jsx)(aK,{className:"thumbnail-node-".concat(t.type),spacing:"1em",p:"1em",alignSelf:"center","data-testid":"card-layout-thumbnail",children:n})},a2=e=>{var t;let{node:n,parent:i}=e,a=n.attrs,r=null==i?void 0:i.attrs,s=aX(null!=(t=null==r?void 0:r.layout)?t:"blank");if(!((null==a?void 0:a.itemId)&&s.items[a.itemId]))return null;let l=s.allowFit&&(null==a?void 0:a.fitType)==="fit";return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(n.type),children:l?(0,p.jsx)(e6.s,{flexDirection:"column",justifyContent:"center",alignItems:"center",bg:"var(--box-background-color)",flex:1,h:"100%",children:(0,p.jsx)(a$,{w:"70%",minH:"55%",bg:"var(--main-color)"})}):(0,p.jsx)(a$,{w:"100%",h:"auto",borderRadius:"none"})})},a3=e=>{var t,n,i,a,r;let{node:s,isCollapsed:l=!1,children:o}=e,c=s.attrs,d=aX(null!=(i=null==c?void 0:c.layout)?i:"blank"),u=d.items;return(0,p.jsx)(e6.s,{className:(0,S.cx)("thumbnail-node-".concat(s.type),l&&"collapsed"),"data-testid":"card-thumbnail",minH:l?"2.5em":"var(--card-template-min-height)",w:l?"100%":"var(--card-template-width)",h:"auto",border:"2px solid",borderColor:"var(--main-color)",borderRadius:"base",flexDirection:"column",overflow:"hidden",children:(0,p.jsxs)(e6.s,{flexDirection:"column",fontSize:"".concat(.375,"em"),flex:1,justifyContent:"center",children:[!l&&(0,p.jsx)(h.a,{display:"grid",flex:1,sx:{...d.grid,...u.body?{"> .thumbnail-node-cardLayoutItem":null!=(a=null==(t=u.body)?void 0:t.style)?a:{gridArea:"body"}}:{},...u.accent?{"> .thumbnail-node-cardAccentLayoutItem":null!=(r=null==(n=u.accent)?void 0:n.style)?r:{gridArea:"accent"}}:{}},children:o}),l&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(aQ,{w:"50%",mx:"1em",h:"2em",borderRadius:"calc(var(--text-border-radius) * 2)"})})]})})},a5={bar:e2.s67,pie:e2.W1p,line:e2.gK3,donut:e2.oDg,"horizontal-bar":e2.Mkm};var a4=n(80274),a6=n(46211),a9=n(83743);let a7=e=>({"--flex-align":(0,m.lI)(e)}),a8=e=>({["& .thumbnail-node-paragraph > div:nth-of-type(1n+".concat(e+1,")")]:{display:"none"}});var re=n(79018);let rt=e=>{let{children:t,...n}=e;return(0,p.jsx)(h.a,{boxSize:"var(--bullet-size)",borderRadius:"0.25em",bg:"var(--main-color)",...n,children:t})},rn="0.5em";var ri=n(17485);let ra={xs:"sm",sm:"sm",md:"lg",lg:"xl",xl:"2x",full:"2x"},rr=e=>{var t,n,i,a,r,s,l,o,c;let{node:d,parent:u,children:h}=e,g=a7(null!=(o=null==u||null==(n=u.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?o:"center"),m=null!=(c=null==u||null==(a=u.attrs)||null==(i=a.options)?void 0:i.imageShape)?c:"square",x=ri.zF[m],f=(null==u||null==(r=u.attrs)?void 0:r.variantKey)==="iconsText",b=(null==u||null==(l=u.attrs)||null==(s=l.options)?void 0:s.shapeSize)||"lg",C=a8(2);return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(d.type),gap:"var(--block-spacing)",flexDirection:"column",children:[f?(0,p.jsx)(a$,{minH:"0",icon:(0,p.jsx)(M.g,{icon:eI.yy,size:ra[b]||"lg"}),bg:f?"none":void 0}):(0,p.jsx)(a$,{minH:"2em",minW:"2em",sx:x}),(0,p.jsx)(aK,{css:g,sx:f?void 0:C,children:h})]})},rs=e=>{var t;let{node:n,children:i}=e,a=(null==(t=n.attrs)?void 0:t.variantKey)==="iconsText";return(0,p.jsx)(a9.r,{rowGap:"1.5em",columnGap:"1.5em",columns:a?4:3,children:i})},rl="0.25em",ro=e=>{let{node:t}=e;return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(t.type),bg:"var(--main-color)",h:"1.25em"})},rc=e=>{let{isFunnel:t=!1,children:n}=e;return(0,p.jsx)(a9.r,{columns:1,autoRows:"1fr",gap:rl,pos:"relative",mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),clipPath:t?"polygon(50% 100%, 0 0, 100% 0)":"polygon(50% 0%, 0% 100%, 100% 100%)",children:n})},rd=(e,t)=>Math.floor(33+67/(t-1)*e),ru={bullets:{Cell:e=>{let{node:t,children:n}=e;return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(t.type),pos:"relative",align:"flex-start",gap:"1em",flex:"1 1 auto",w:"calc(".concat(50,"% - ").concat("1em",")"),children:[(0,p.jsx)(rt,{}),(0,p.jsx)(aK,{flex:"1",children:n})]})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(e6.s,{gap:"1em",wrap:"wrap",children:t})}},timeline:{Cell:e=>{var t,n;let{node:i,parent:a,children:r}=e,s=(null==a||null==(n=a.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",l="".concat(2,"em");return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(i.type),pos:"relative",...s?{gridColumn:"span 2",gridRow:3,align:"flex-start",justify:"center",pt:l}:{gridRow:"span 2",gridColumn:3,align:"flex-start",pl:l},orientation:"horizontal",align:"start",children:[(0,p.jsx)(rt,{pos:"absolute",...s?{top:0,transform:"translateY(-50%)"}:{left:0,transform:"translateX(-50%)"},children:(0,p.jsx)(h.a,{position:"absolute",zIndex:"-1",bg:"var(--main-color)",...s?{height:"".concat(1,"em"),width:"var(--border-width)",left:"50%",top:"100%",transform:"translateX(-50%)"}:{width:"".concat(1,"em"),height:"var(--border-width)",top:"50%",transform:"translateY(-50%)",left:"100%"}})}),(0,p.jsx)(aK,{flex:"1",children:r})]})},Wrapper:e=>{var t,n;let{children:i,node:a}=e,r=(null==(n=a.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",s=r?(0,p.jsx)(h.a,{gridRow:2,gridColumn:1,children:(0,p.jsx)(h.a,{position:"absolute",height:"var(--border-width)",width:"100%",left:"0",right:"0",bg:"var(--main-color)"})}):(0,p.jsx)(aJ.o,{gridColumn:2,gridRow:1,children:(0,p.jsx)(h.a,{position:"absolute",width:"var(--border-width)",top:"0",bottom:"0",bg:"var(--main-color)"})});return(0,p.jsxs)(aV.x,{...r?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1em",mt:"var(--bullet-size)"}:{templateColumns:"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"1em",ml:"var(--bullet-size)"},pos:"relative","data-testid":"timeline-thumbnail",children:[s,i]})}},imagesText:{Cell:rr,Wrapper:rs},textBoxes:{Cell:e=>{var t,n;let{node:i,parent:a,children:r}=e,s=a7((null==a||null==(n=a.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,p.jsx)(aq,{className:"thumbnail-node-".concat(i.type),bg:"var(--box-background-color)",p:"var(--box-padding)",css:s,children:r})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(e6.s,{gap:"var(--block-spacing)",children:t})}},stats:{Cell:e=>{var t,n,i;let{children:a,node:r,parent:s}=e,l=a7((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,p.jsxs)(aK,{className:"thumbnail-node-".concat(r.type),align:"center",justify:"start",children:[(0,p.jsx)(E.E,{color:"var(--accent-color)",fontSize:"1.5em",children:(null==(i=r.attrs)?void 0:i.label)||"X%"}),(0,p.jsx)(aK,{w:"100%",css:l,children:a})]})},Wrapper:e=>{let{children:t,parent:n}=e,i=(null==n?void 0:n.type)==="gridCell"?1:3;return(0,p.jsx)(a9.r,{columns:i,columnGap:"1.5em",rowGap:"1.5em",children:t})}},barStats:{Cell:e=>{var t,n,i;let{node:a,parent:r,children:s}=e,l=(0,re.dD)({label:(null==(t=a.attrs)?void 0:t.label)||null}),o=a7((null==r||null==(i=r.attrs)||null==(n=i.options)?void 0:n.horizontalAlign)||"center");return(0,p.jsxs)(aK,{className:"thumbnail-node-".concat(a.type),align:"center",justify:"start",children:[(0,p.jsxs)(aK,{borderRadius:"calc(var(--box-border-radius) / 2)",overflow:"hidden",orientation:"horizontal",flex:1,w:"100%",bg:"var(--main-color)",children:[(0,p.jsx)(h.a,{w:"100%",bg:"var(--accent-color)",pos:"relative",h:"1.25em",children:(0,p.jsx)(h.a,{pos:"absolute",inset:0})}),(0,p.jsx)(h.a,{w:"".concat(100*l,"%"),pos:"relative"})]}),(0,p.jsx)(aK,{w:"100%",css:o,children:s})]})},Wrapper:e=>{let{children:t,parent:n}=e,i=(null==n?void 0:n.type)==="gridCell"?1:2;return(0,p.jsx)(a9.r,{columns:i,columnGap:"1.5em",rowGap:"1em",children:t})}},staircase:{Cell:e=>{var t,n;let{node:i,parent:a,index:r}=e,s=rd(r,null!=(n=null==a||null==(t=a.content)?void 0:t.length)?n:1);return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(i.type),borderRadius:"2px",bg:"var(--main-color)",h:"1.25em",w:"".concat(s,"%")})},Wrapper:e=>{var t,n,i;let{node:a,children:r}=e,s=null!=(i=null==a||null==(n=a.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?i:"center",l=(0,m.lI)(s);return(0,p.jsx)(aK,{align:l,gap:rl,mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),children:r})}},pyramid:{Cell:ro,Wrapper:rc},funnel:{Cell:e=>(0,p.jsx)(ro,{...e}),Wrapper:e=>{let{children:t,...n}=e;return(0,p.jsx)(rc,{isFunnel:!0,...n,children:t})}},circleStats:{Cell:e=>{var t,n,i,a;let{node:r,parent:s,children:l}=e,o=(0,m.lI)((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center"),c=(0,re.dD)({label:null!=(a=null==(i=r.attrs)?void 0:i.label)?a:"50"});return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(r.type),gap:"var(--block-spacing)",flexDirection:"column",children:[(0,p.jsx)(h.a,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",w:"80%",alignSelf:"center",aspectRatio:"1 / 1",_before:{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"50%",background:"conic-gradient(var(--accent-color) ".concat(100*c,"%, var(--main-color) 0 ").concat((100-c)*100,"%)"),zIndex:1},_after:{content:'""',position:"absolute",top:rn,left:rn,right:rn,bottom:rn,background:"var(--card-background)",borderRadius:"50%",zIndex:2},children:(0,p.jsx)(h.a,{zIndex:"100",bg:"var(--main-color)",h:"0.5em",pos:"absolute",borderRadius:"var(--text-border-radius)",w:"40%"})}),(0,p.jsx)(aK,{css:o,children:l})]})},Wrapper:e=>{let{children:t}=e;return(0,p.jsx)(a9.r,{gap:"1.5em",columns:3,children:t})}},arrows:{Cell:e=>{var t,n,i,a;let{node:r,parent:s,children:l}=e,o=a7((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"left"),c=(null==s||null==(a=s.attrs)||null==(i=a.options)?void 0:i.orientation)==="vertical";return(0,p.jsxs)(e6.s,{className:"thumbnail-node-".concat(r.type),gap:"var(--block-spacing)",flexDirection:c?"row":"column",children:[(0,p.jsx)(h.a,{width:c?"1.5em":"100%",height:c?"100%":"1.25em",bg:"var(--accent-color)",clipPath:c?"polygon(50% 10%, 100% 0, 100% 90%, 50% 100%, 0 90%, 0% 0%)":"polygon(90% 0, 100% 50%, 90% 100%, 0% 100%, 10% 50%, 0% 0%)"}),(0,p.jsx)(aK,{flex:1,css:o,p:"0.5em",px:c?0:"0.5em",pt:c?void 0:0,children:l})]})},Wrapper:e=>{var t,n;let{node:i,children:a}=e,r=(null==(n=i.attrs)||null==(t=n.options)?void 0:t.orientation)==="vertical";return(0,p.jsx)(a9.r,{columns:r?1:3,rowGap:r?void 0:"1.5em",children:a})}},iconsText:{Cell:rr,Wrapper:rs}},rp=e=>{let{children:t}=e;return(0,p.jsx)(aq,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},rh=e=>{let{children:t}=e;return(0,p.jsx)(aq,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},rg={nodes:{card:{type:"card",component:e=>{let{depth:t,...n}=e;return t>2?(0,p.jsx)(p.Fragment,{}):t>1?(0,p.jsx)(a3,{...n,isCollapsed:!0}):(0,p.jsx)(a3,{...n})}},cardLayoutItem:{type:"cardLayoutItem",component:a0},cardAccentLayoutItem:{type:"cardAccentLayoutItem",component:a0},title:{type:"title",component:e=>{let{node:t}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(t.type),w:"50%",bg:"var(--main-color)",h:"".concat((0,a4.o)("title").size/2,"em"),borderRadius:"var(--text-border-radius)"})}},paragraph:{type:"paragraph",component:e=>{let{node:t}=e;return(0,p.jsxs)(ey.B,{className:"thumbnail-node-".concat(t.type),"data-testid":"paragraph-thumbnail",spacing:"var(--line-spacing)",align:"var(--flex-align)",children:[(0,p.jsx)(aQ,{}),(0,p.jsx)(aQ,{}),(0,p.jsx)(aQ,{w:"85%"})]})}},heading:{type:"heading",component:e=>{var t;let{node:n}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(n.type),"data-testid":"heading-thumbnail",bg:"var(--main-color)",h:"".concat((0,a4.o)((0,a4.bZ)(null==(t=n.attrs)?void 0:t.level)).size/2,"em"),borderRadius:"var(--text-border-radius)"})}},bullet:{type:"bullet",component:e=>{let{node:t}=e;return(0,p.jsxs)(aK,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",align:"start",pl:"0.5em",color:"var(--main-color)",children:[(0,p.jsx)(aG.j,{size:"var(--block-spacing)",bg:"var(--main-color)"}),(0,p.jsx)(aK,{orientation:"horizontal",flex:"1",children:(0,p.jsx)(aQ,{w:"75%"})})]})}},gridLayout:{type:"gridLayout",component:e=>{var t,n;let{node:i,children:a}=e;return(0,p.jsx)(aV.x,{className:"thumbnail-node-".concat(i.type),templateColumns:"repeat(".concat((null==(n=i.attrs)||null==(t=n.colWidths)?void 0:t.length)||2,", 1fr)"),gap:"var(--block-spacing)",children:a})}},gridCell:{type:"gridCell",component:e=>{var t;let{node:n,children:i}=e,a=null==(t=n.attrs)?void 0:t.verticalAlign;return(0,p.jsx)(aK,{className:"thumbnail-node-".concat(n.type),justifyContent:a,flex:1,children:i})}},image:{type:"image",component:e=>{let{node:t}=e;return(0,p.jsx)(a$,{className:"thumbnail-node-".concat(t.type)})}},mediaPlaceholder:{type:"mediaPlaceholder",component:e=>{var t;let{node:n}=e,i=n.attrs,a=null==i?void 0:i.source,r=a&&(null==(t=a6.Dc[a])?void 0:t.icon)||null;return(0,p.jsx)(a$,{className:"thumbnail-node-".concat(n.type),icon:r?(0,p.jsx)(M.g,{icon:r,size:"2x"}):void 0})}},buttonGroup:{type:"buttonGroup",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(aK,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",children:n})}},button:{type:"button",component:e=>{var t;let{node:n}=e,i=(null==(t=n.attrs)?void 0:t.variant)||"solid";return(0,p.jsx)(aq,{className:"thumbnail-node-".concat(n.type),minH:"1.5em",w:"25%",style:i})}},gallery:{type:"gallery",component:e=>{let{node:t}=e;return(0,p.jsxs)(aq,{className:"thumbnail-node-".concat(t.type),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",bg:"var(--box-background-color)",p:"0.5em",children:[(0,p.jsx)(a$,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,p.jsx)(a$,{flex:1,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,p.jsx)(a$,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"})]})}},toggle:{type:"toggle",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(h.a,{className:"thumbnail-node-".concat(t.type),pl:"0.5em","data-open":"false",sx:{'&[data-open="false"]':{"> :not(:first-of-type)":{display:"none"}}},children:n})}},toggleSummary:{type:"toggleSummary",component:e=>{let{node:t}=e;return(0,p.jsxs)(aK,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",color:"var(--main-color)",maxH:"1em",children:[(0,p.jsx)(M.g,{icon:eI.fU5,size:"xl"}),(0,p.jsx)(aQ,{w:"75%"})]})}},smartLayout:{type:"smartLayout",component:e=>{var t,n;let{node:i,children:a,...r}=e,s=rh;if(null==(t=i.attrs)?void 0:t.variantKey){let e=null==(n=ru[i.attrs.variantKey])?void 0:n.Wrapper;e&&(s=e)}return(0,p.jsx)(aV.x,{className:"thumbnail-node-".concat(i.type),gridTemplateColumns:"100%",children:(0,p.jsx)(s,{node:i,...r,children:a})})}},smartLayoutCell:{type:"smartLayoutCell",component:e=>{var t,n;let{children:i,parent:a,...r}=e,s=rp;if(a&&(null==(t=a.attrs)?void 0:t.variantKey)){let e=null==(n=ru[a.attrs.variantKey])?void 0:n.Cell;e&&(s=e)}return(0,p.jsx)(s,{parent:a,...r,children:i})}},diagram:{type:"diagram",component:e=>{let{node:t}=e;return(0,p.jsx)(a$,{className:"thumbnail-node-".concat(t.type),icon:(0,p.jsx)(M.g,{icon:e2.qTS,size:"2x"})})}},chart:{type:"chart",component:e=>{var t;let{node:n}=e;return(0,p.jsx)(a$,{className:"thumbnail-node-".concat(n.type),icon:(0,p.jsx)(M.g,{icon:a5[(null==(t=n.attrs)?void 0:t.chartType)||"bar"],size:"2x"})})}},table:{type:"table",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(h.a,{flex:1,className:"thumbnail-node-".concat(t.type),bg:"var(--box-background-color)",borderRadius:"var(--text-border-radius)",p:"0.25em",children:(0,p.jsx)(h.a,{border:"1px solid var(--main-color)",borderRadius:"var(--text-border-radius)",children:n})})}},tableRow:{type:"tableRow",component:e=>{let{node:t,children:n}=e;return(0,p.jsx)(e6.s,{className:"thumbnail-node-".concat(t.type),borderBottom:"1px solid var(--main-color)",sx:{"&:last-of-type  ":{borderBottom:"none"}},children:n})}},tableCell:{type:"tableCell",component:e=>{let{node:t}=e;return(0,p.jsx)(h.a,{flex:1,className:"thumbnail-node-".concat(t.type),height:"1em",borderRight:"1px solid var(--main-color)",sx:{"&:last-of-type":{borderRight:"none"}}})}}}},rm={md:"6em",lg:"8em"},rx={md:"4em",lg:"5em"},rf=e=>{let{templateContent:t,isDark:n,size:i="md",...a}=e;return(0,p.jsx)(h.a,{css:{"--box-background-color":n?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-50)","--main-color":n?"var(--chakra-colors-gray-500)":"var(--chakra-colors-gray-200)","--accent-color":n?"var(--chakra-colors-gray-300)":"var(--chakra-colors-gray-400)","--box-border-radius":"0.5em","--box-padding":"0.75em","--text-border-radius":"0.25em","--block-spacing":"0.75em","--bullet-size":"1em","--line-spacing":"calc(1 / 3 * 1em)","--paragraph-height":"0.5em","--border-width":"0.25em","--card-template-width":rm[i],"--card-template-min-height":rx[i],"--card-background":n?"var(--chakra-colors-gray-600)":"white"},bg:"var(--card-background)",h:"auto",...a,children:aU(rg,t)})};var rb=n(85235);let rC=e=>{let{item:t}=e,{name:n,image:i,icon:a,key:r,previewImage:s,shortcut:l,badge:o}=t,c=(0,aW.iT)(),{colorMode:d}=(0,iu.G6)(),u={iconColor:(0,iu.dU)("trueblue.600","trueblue.100"),bgColor:(0,iu.dU)("white","elevation.3"),textColor:(0,iu.dU)("gray.700","gray.50"),borderColor:(0,iu.dU)("gray.200","gray.600"),invertFilter:(0,iu.dU)("invert(0)","invert(.7) brightness(1.4) hue-rotate(180deg)"),iconBgColor:(0,iu.dU)("white","gray.700"),gripDotsColor:(0,iu.dU)("gray.500","gray.500")};return(0,p.jsxs)(ey.B,{h:"100%",bg:u.bgColor,p:2.5,pt:2,spacing:1.5,alignItems:"center",shadow:"sm",borderRadius:"xl",border:"1px",borderColor:u.borderColor,role:"group",children:[(0,p.jsx)(e6.s,{justifyContent:"center",alignItems:"center",minH:"7",w:"100%",children:"cardTemplate"===t.type&&c[r]?(0,p.jsx)(rf,{templateContent:c[r].jsonContent,isDark:"dark"===d}):s?(0,p.jsx)(e6.s,{bg:u.iconBgColor,borderRadius:"md",children:(0,p.jsx)(tL._,{filter:u.invertFilter,src:s.src,w:"100%",maxW:"100%",alt:n(),pointerEvents:"none"})}):i?(0,p.jsx)(tL._,{src:i.src,borderRadius:"sm",h:"1.5em",w:"1.5em",objectFit:"contain",pointerEvents:"none"}):(0,p.jsx)(h.a,{color:u.iconColor,fontSize:"xl",children:a&&(0,p.jsx)(M.g,{icon:a})})}),o&&(0,p.jsx)(aZ.E,{position:"absolute",top:"1",insetEnd:"2",colorScheme:"green",children:o()}),(0,p.jsxs)(ey.B,{spacing:0,whiteSpace:"break-spaces",flex:"1",textAlign:"center",children:[(0,p.jsx)(E.E,{color:u.textColor,fontWeight:"600",fontSize:"xs",lineHeight:1.2,noOfLines:2,children:n()}),l&&(0,p.jsx)(E.E,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:l})]})]})};var ry=n(50171);let rv={blankCard:"/new"},rw=()=>(0,aW.st)().reduce((e,t)=>{let{id:n,name:i,jsonContent:a}=t;return e[n]={type:"cardTemplate",key:n,nodeName:"card",name:i,...rv[n]&&{shortcut:rv[n]},icon:iG.Qyz,execute:e=>{e.commands.insertContentAndSelect(a)}},e},{}),rA=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,ry.g)(e).map(e=>{let{name:t,templateIds:n}=e,i=n.map(e=>rw()[e]);return{subcategory:t(),items:i}})},rk=(0,I.memo)(function(e){let{editor:t,appendCard:n}=e,{isInOfflineMode:i}=(0,n9.u)(),a={bgColor:(0,iu.dU)("gray.50","blackAlpha.900")};return(0,p.jsx)(ey.B,{p:2,bg:a.bgColor,children:rA().map(e=>{let{subcategory:a,items:r}=e,s=r.filter(e=>t&&!(0,aO.gT)(t,e,!1,i));if(0!==s.length)return(0,p.jsxs)(ey.B,{spacing:1,children:[(0,p.jsx)(eg._x,{flex:"1",textAlign:"left",children:a}),(0,p.jsx)(aV.x,{gap:"1.5",gridTemplateColumns:"1fr 1fr 1fr",children:s.map(e=>(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"BPbkIF"}),placement:"top",children:(0,p.jsx)(h.a,{cursor:"pointer",onClick:()=>{n(e.key)},borderRadius:"xl",_hover:{boxShadow:"lg"},transitionProperty:"box-shadow",transitionDuration:"normal",children:(0,p.jsx)(rC,{item:e})})},e.key))})]},a)})})});var rL=n(52055);let rj=e=>{let t=rw(),n=(0,rL.G)().blankCard;return e&&(n=(0,rL.G)()[e]),{cardToAdd:n,command:"aiCardAfter"===e?{key:"aiCardAfter",nodeName:"card"}:e?t[e]:t.blankCard}};var rE=n(43182);let rS=(0,I.memo)(function(e){let{editor:t,getPos:n,display:i,isNested:a}=e,r=(0,te.fW)(),{isInOfflineMode:s}=(0,n9.u)(),l=(0,ec.FX)(),o=(0,I.useCallback)(e=>{let i=n();if("number"!=typeof i)return;let a=t.view.state.doc.nodeAt(i);if(!a)return void console.error("[CardDivider] Cannot append card. Node unknown");let r=i+a.nodeSize,s="aiCardAfter"===e?e7.oU.CARD_DIVIDER_AI:e?e7.oU.CARD_DIVIDER_DROPDOWN:e7.oU.CARD_DIVIDER,{cardToAdd:l,command:o}=rj(e);(0,aT.Jb)(o,s),t.chain().insertContentAt(r,(0,rE.iM)(l)).command(e=>{let{tr:t}=e;return t.setMeta(aB,!0),!0}).focus().selectInsertedNode().run()},[t,n]),c=(0,iu.dU)("gray.50","gray.600"),d=(0,iu.dU)(!1,!0),u=aF()===n6.xbH.Studio,h=!l&&!u;return(0,p.jsx)(eJ.W,{isLazy:!0,children:e=>{let{isOpen:n}=e;return(0,p.jsx)(e6.s,{contentEditable:!1,suppressContentEditableWarning:!0,className:"card-divider","data-is-nested-card":String(a),position:"absolute",zIndex:nr.$.cardDivider,bottom:-4,w:"100%",justify:"center",align:"center",display:i,opacity:+!!n,transitionProperty:"opacity",transitionDuration:"normal","data-print-hidden":!0,"data-id":"card-divider",children:(0,p.jsxs)(tT.e,{size:"sm",isAttached:!0,"data-guider-highlight":"add-card-button",className:"card-divider-button-group",variant:"plain",shadow:"md",borderRadius:"md",opacity:"1",transitionProperty:"opacity",transitionDuration:"normal",dir:r?"rtl":"ltr",children:[(0,p.jsx)(eg.Tz,{label:u?(0,p.jsx)(em.x6,{id:"kLZLXX"}):(0,p.jsx)(em.x6,{id:"7iE+3N"}),children:(0,p.jsx)(eY.K,{className:"insert-card-button",variant:"plain","aria-label":e5.Ru._({id:"g+7nXG"}),icon:(0,p.jsx)(M.g,{icon:eI.QLR}),onClick:()=>o(u?"aiCardAfter":void 0),onMouseDown:ny.JL,size:"sm",shadow:"none",borderRadius:"md",minW:12,transitionProperty:"none",borderColor:c,borderInlineEndRadius:h?void 0:"none"})}),h&&(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"kLZLXX"}),children:(0,p.jsx)(eY.K,{className:"insert-ai-card-button",variant:"plain","aria-label":e5.Ru._({id:"g+7nXG"}),icon:(0,p.jsx)(j.z,{spacing:0,opacity:s?.3:1,children:(0,p.jsx)(M.g,{icon:eI.p7g})}),onClick:()=>{s||o("aiCardAfter")},onMouseDown:ny.JL,size:"sm",shadow:"none",minW:12,transitionProperty:"none",borderColor:c,borderRadius:"md",borderInlineStart:"none",borderInlineEndRadius:"none",tabIndex:s?-1:void 0,pointerEvents:s?"none":"auto"})}),(0,p.jsxs)(tm.A,{placement:"end",isLazy:!0,closeOnBlur:!0,closeOnEsc:!0,children:[(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"UgOs5x"}),shouldWrapChildren:!0,children:(0,p.jsx)(tx.W,{children:(0,p.jsx)(eY.K,{"aria-label":"Add from template",size:"sm",shadow:"none",borderColor:c,icon:(0,p.jsx)(np.D,{}),fontSize:"lg",fontWeight:"500",borderRadius:"md",borderInlineStart:"none",borderInlineStartRadius:"none","data-guider-highlight":"add-card-template-button",transitionProperty:"none",onMouseDown:ny.JL})})}),(0,p.jsx)(ng.Z,{children:(0,p.jsx)(tf.h,{shadow:"xl",maxH:"90vh",overflowY:"scroll",w:"400px",p:"0",borderColor:d?c:void 0,children:(0,p.jsx)(rk,{editor:t,appendCard:o})})})]})]})})}})});var rM=n(59824);let rI=e=>{let{isFocused:t}=e;return(0,p.jsx)(h.a,{position:"absolute",inset:"0",pointerEvents:"none",overflow:"hidden",display:{base:"none",lg:"block"},opacity:+!!t,className:"card-height-guide",children:(0,p.jsxs)(h.a,{position:"absolute",top:"var(--card-min-height)",insetStart:"0",w:"100%",h:"1px",borderBottom:"2px dashed",borderBottomColor:"var(--body-color)",opacity:"0.25",children:[(0,p.jsx)(r_,{insetStart:0}),(0,p.jsx)(r_,{insetEnd:0})]})})},r_=e=>{let{cardDimensions:t}=(0,K.GV)(ed.Uu),{label:n}=(0,rM.iI)(t);return(0,p.jsx)(eg.Tz,{placement:"top",w:"250px",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(E.E,{children:["Your content is too tall to fit the ",n()," size, so it may shrink or overflow when presenting or exporting."]}),(0,p.jsx)(E.E,{color:"gray.500",children:(0,p.jsx)(em.x6,{id:"yrOr7z"})})]}),children:(0,p.jsx)(h.a,{position:"absolute",w:"var(--card-inner-padding-x)",h:"".concat(20,"px"),top:"-".concat(10,"px"),pointerEvents:"auto",cursor:"help",...e})})};var rD=n(41781),rR=n(74709),rT=n(17496),rz=n(4192),rH=n(29608);let rN=(0,I.memo)(e=>{let{children:t,...n}=e,i=(0,eD.En)(),a=(0,K.GV)((0,i5.lp)("right"));return!i||(0,rH.Xb)()?null:(0,p.jsx)(h.a,{position:"fixed",bottom:4,insetInlineEnd:a+4,zIndex:"overlay","data-print-hidden":!0,...n,children:t})});rN.displayName="HelpWidgetWrapper";var rB=n(74158);let rP=new nl.b,rF=(e,t)=>{let n=(0,K.KA)().getState(),i=(0,ed.sX)(n);null===e7.zS||void 0===e7.zS||e7.zS.track(e,{docId:i,...t})};var rV=n(1079),rO=n(99767),rZ=n(41427),rW=n(12718);let rU=e=>{let{selectedLocale:t,onLocaleSelect:n,buttonProps:i,menuListProps:a,matchWidth:r=!0,hideLabel:s=!1}=e,l=(0,t9.u)("i18nEnabled");return(0,em.uB)(),(0,p.jsx)(e6.s,{direction:"column",children:(0,p.jsxs)(eJ.W,{matchWidth:r,children:[(0,p.jsx)(e$.I,{as:eq.$,rightIcon:s?null:(0,p.jsx)(M.g,{size:"xs",icon:e2.Jt$}),textAlign:"start",w:"100%",...i,children:s?null:(null==t?void 0:t.displayName)||"Unknown"}),(0,p.jsx)(eX.c,{minWidth:"240px",maxH:"500px",overflowY:"auto",overflowX:"hidden",...a,children:(0,p.jsx)(ta.i,{value:(null==t?void 0:t.key)||"unknown",type:"radio",onChange:e=>{n(e)},children:(0,rZ.qm)().map(e=>{let t=new Date(rW.z[e.key].launchDate),n=!l&&"private_beta"===rO.AT[e.key],i=l&&"private_beta"===rO.AT[e.key],a="public_beta"===rO.AT[e.key]&&Date.now()-t.getTime()<2592e6;return(0,p.jsx)(tr.k,{value:e.key,isDisabled:n,children:(0,p.jsxs)(e6.s,{flex:1,alignItems:"center",children:[(0,p.jsxs)(ey.B,{spacing:0,children:[(0,p.jsx)(E.E,{fontWeight:"600",children:e.displayName}),(0,p.jsx)(E.E,{fontSize:"xs",color:"gray.500",children:e.displayNameLocalized()})]})," ",(0,p.jsx)(eh.h,{}),n?(0,p.jsx)(aZ.E,{ms:2,fontSize:"0.75em",colorScheme:"teal",children:(0,p.jsx)(em.x6,{id:"VZeG/A"})}):i?(0,p.jsx)(aZ.E,{ms:2,fontSize:"0.75em",colorScheme:"purple",children:(0,p.jsx)(em.x6,{id:"YBt9YP"})}):a?(0,p.jsx)(aZ.E,{ms:2,fontSize:"0.75em",colorScheme:"green",children:(0,p.jsx)(em.x6,{id:"isRobC"})}):null]})},e.key)})})})]})})};var rG=n(73110),rK=n(47880);let rQ=e=>{var t;let{onClose:n}=e,i=(0,eQ.d)(),{user:a}=(0,iE.ur)(),[r,s]=(0,I.useState)(!1),{setSettings:l}=(0,iE.ur)(),o=(0,rG.O)(),c=(0,I.useMemo)(()=>o,[]),[d,u]=(0,I.useState)(c);(0,rK.O)(d);let h=(0,I.useCallback)(async()=>{s(!0);try{await (null==l?void 0:l({set:{locale:d}})),i({title:(0,p.jsx)(em.x6,{id:"RRo9kN"}),position:"top",status:"success",isClosable:!0,duration:3e3}),n()}catch(e){console.error('[StandaloneLocaleModal.onSave] Error updating language for user with id "'.concat(null==a?void 0:a.id,'"'),e.message)}s(!1)},[d,n,l,i,null==a?void 0:a.id]),g=d!==(null==a||null==(t=a.settings)?void 0:t.locale);return(0,p.jsx)(eg.L8,{isDark:!1,children:(0,p.jsxs)(ex.aF,{isOpen:!0,onClose:n,children:[(0,p.jsx)(ef.m,{}),(0,p.jsxs)(eb.$,{children:[(0,p.jsx)(eC.r,{children:(0,p.jsx)(em.x6,{id:"+DEogc"})}),(0,p.jsx)(eA.s,{}),(0,p.jsx)(ek.c,{children:(0,p.jsxs)(tu.MJ,{children:[(0,p.jsx)(tp.l,{children:(0,p.jsx)(em.x6,{id:"M3JKNC"})}),(0,p.jsx)(rU,{selectedLocale:rW.z[d],onLocaleSelect:u})]})}),(0,p.jsx)(iq.j,{children:g?(0,p.jsxs)(tT.e,{children:[(0,p.jsx)(eq.$,{variant:"ghost",onClick:n,children:(0,p.jsx)(em.x6,{id:"dEgA5A"})}),(0,p.jsx)(eq.$,{variant:"solid",onClick:h,isLoading:r,children:(0,p.jsx)(em.x6,{id:"tfDRzk"})})]}):(0,p.jsx)(eq.$,{variant:"plain",onClick:n,children:(0,p.jsx)(em.x6,{id:"yz7wBu"})})})]})]})})};var rq=n(49337),rJ=n(37377),r$=n(46091),rY=n(91792),rX=n(20591);let r0=e=>(0,eD.En)()?(0,p.jsx)(r2,{...e}):null,r1=(0,I.memo)(e=>{var t;let{showShortcuts:n=!0,showOnboardingChecklist:i=!1}=e,a=(0,rB.wA)(),{isConnected:r}=(0,n9.u)(),s=(0,t9.u)("intercom"),l=(0,t9.u)("shareFeedback"),o=(0,rq.k)(),c=(0,rG.O)(),{isOpen:d,onOpen:u,onClose:g}=(0,n$.j)(),{isOpen:m,onOpen:x,onClose:f}=(0,n$.j)({id:"locale-modal"}),{onOpen:b}=(0,n$.j)({id:"help-menu"}),[C,y]=(0,i$.M)("hasUnreadIntercom",!1),v=window.Intercom,w=(0,I.useCallback)(()=>{y(!1),o()},[o,y]),A=(0,rY.rd)();return(0,I.useEffect)(()=>{if(!v)return;v("onHide",()=>{a((0,rJ.YN)({isOpen:!1}))});let e=setInterval(()=>{document.querySelector("iframe.intercom-borderless-frame")&&y(!0)},1e3);return()=>{v("hide"),clearInterval(e)}},[a,v,y]),(0,p.jsxs)(eg.L8,{isDark:A,children:[(0,p.jsxs)(eJ.W,{children:[(0,p.jsx)(e$.I,{"data-guider-highlight":"default-help-widget-activator",as:eY.K,onClick:()=>{b(),rP.emit("toggleOpen",{behavior:"close",skipTracking:!0})},isRound:!0,position:"relative",size:"md","aria-label":e5.Ru._({id:"c3XJ18"}),icon:C?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(aG.j,{position:"absolute",size:2.5,bg:"red.400",top:0,right:0}),(0,p.jsx)(M.g,{icon:e2.z$e,className:"fa-beat-fade"})]}):(0,p.jsx)(M.g,{icon:e2.EvL})}),(0,p.jsxs)(eX.c,{children:[(0,p.jsxs)(e0.r,{children:[n&&(0,p.jsx)(e1.D,{onClick:u,icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.Lhe}),children:(0,p.jsx)(em.x6,{id:"77Emn0"})}),i&&(0,p.jsx)(e1.D,{as:nm.N,_hover:{textDecoration:"none",shadow:"none"},onClick:()=>{rF(e7.VV.ONBOARDING_CHECKLIST_WIDGET_CHECKLIST_MANUAL_OPENED),rP.emit("toggleOpen",{behavior:"open"})},icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.S3S}),"data-guider-highlight":"onboarding-checklist",children:(0,p.jsx)(em.x6,{id:"BOFovM"})}),(0,p.jsx)(e1.D,{as:nm.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/changelog",target:"_blank",icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.kLe}),children:(0,p.jsx)(em.x6,{id:"PbLEFQ",values:{GAMMA_PROPER_NOUN:e8.On}})})]}),(0,p.jsx)(ts.N,{}),(0,p.jsxs)(e0.r,{children:[(0,p.jsx)(e1.D,{as:nm.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://help.gamma.app",target:"_blank",icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.$UM}),children:(0,p.jsx)(em.x6,{id:"CRzGla"})}),s&&r?(0,p.jsx)(e1.D,{icon:C?(0,p.jsxs)(h.a,{position:"relative",children:[(0,p.jsx)(aG.j,{position:"absolute",size:1.5,bg:"red.400",top:0,right:-1}),(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.z$e,className:"fa-beat-fade"})]}):(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.gSF}),onClick:w,children:(0,p.jsx)(em.x6,{id:"mpby9d"})}):(0,p.jsx)(e1.D,{icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.y_8}),as:nm.N,_hover:{textDecoration:"none",shadow:"none"},href:"mailto:".concat(rV.J),children:(0,p.jsx)(em.x6,{id:"A0C9La"})}),l&&(0,p.jsx)(e1.D,{as:nm.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/ideas",target:"_blank",icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.O3E}),children:(0,p.jsx)(em.x6,{id:"u5hSeG"})})]}),(0,p.jsx)(ts.N,{}),(0,p.jsx)(e0.r,{children:(0,p.jsx)(e1.D,{icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.Bwz}),onClick:x,children:(null==(t=rW.z[c])?void 0:t.displayName)||"Unknown"})})]}),(0,p.jsx)(rX.a,{isOpen:d,onClose:g})]}),m&&(0,p.jsx)(rQ,{onClose:f})]})});r1.displayName="DefaultHelpWidgetComponent";let r2=(0,r$.A)(r1);r0.displayName="DefaultHelpWidget";let r3=(0,to.i7)({"0%":{maskPosition:"0% 50%"},"50%":{maskPosition:"100% 50%"},"100%":{maskPosition:"0% 50%"}});(0,I.memo)(e=>{let{children:t,...n}=e,i=(0,eD.En)(),a=(0,I.useMemo)(()=>(0,nv.Vx)(!1),[]);return i?(0,p.jsxs)(e6.s,{pt:4,w:"100%",minH:"100%",bgSize:"cover",bgPosition:"center center",position:"relative",bg:"gradient.sky",className:"ai-page-wrapper",flex:"1",sx:a,...n,children:[(0,p.jsx)(h.a,{zIndex:1,w:"100%",flex:"1",children:t}),(0,p.jsx)(rN,{children:(0,p.jsx)(r0,{showShortcuts:!1})})]}):null}).displayName="AIPageWrapper";var r5=n(44595);let r4={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Stars-2.48f5ca51.svg"},r6=e=>{let{isDark:t,templateIcon:n,tooltip:i,label:a,isSelected:r,onClick:s,...l}=e;return(0,p.jsx)(eg.Tz,{label:i,placement:"top",children:(0,p.jsx)(eY.K,{onClick:s,icon:(0,p.jsxs)(ey.B,{maxW:"100%",alignItems:"center",children:[n,a&&(0,p.jsx)(E.E,{maxW:"100%",w:"100%",fontSize:"xs",overflow:"hidden",textOverflow:"ellipsis",overflowX:"hidden",whiteSpace:"nowrap",textAlign:"left",children:a})]}),h:"auto",textShadow:"none",variant:"plain",p:2,flex:"1",w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"1px solid",bg:t?r?"trueblue.900":"whiteAlpha.50":r?"trueblue.50":"blackAlpha.50",borderRadius:"md",boxShadow:"sm",borderColor:t?r?"trueblue.300":"whiteAlpha.100":r?"trueblue.500":"blackAlpha.100",color:t?r?"trueblue.200":"gray.400":r?"trueblue.500":"gray.500",_hover:{bg:t?r?"whiteAlpha.100":"whiteAlpha.200":r?"trueblue.100":"trueblue.50",borderColor:t?"trueblue.200":r?"trueblue.500":"trueblue.200"},position:"relative","aria-label":i,...l})})};var r9=n(22539);let r7=e=>{let{isDark:t,selectedTemplate:n,setSelectedTemplate:i,isDisabled:a}=e,r=(0,r9.W)(),s=t?"invert(.8) brightness(1.2)":"invert(0)",l=t?"invert(.8) brightness(2)":"invert(0)";return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E.E,{color:t?"titanium.50":"titanium.900",fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(em.x6,{id:"hQDrYd"})}),(0,p.jsxs)(a9.r,{spacing:2,columns:[2,3,5,r.length+1],children:[(0,p.jsx)(r6,{isDark:t,templateIcon:(0,p.jsx)(M.g,{icon:iG.swh,fixedWidth:!0,size:"lg"}),label:(0,p.jsx)(em.x6,{id:"wtGmzA"}),tooltip:e5.Ru._({id:"zopynZ",values:{GAMMA_PROPER_NOUN:e8.On}}),isSelected:null===n,onClick:()=>i(null),isDisabled:a}),r.map(e=>{let{key:r,image:o,name:c}=e,d=r===n;return(0,p.jsx)(r6,{isDark:t,templateIcon:(0,p.jsx)(tL._,{src:o.src,filter:d?l:s,bg:"white"}),tooltip:c,isSelected:d,onClick:()=>i(r),isDisabled:a},r)})]})]})},r8=e=>{let{theme:t,handle:n,editor:i,getPos:a,input:r,displayFullBleed:s,isFocused:l}=e,{isInOfflineMode:o}=(0,n9.u)(),c=aF()===n6.xbH.Studio,{isGenerating:u,getContextAndGenerate:g,updateInput:m,locale:x}=(0,iS.ds)({theme:t,editor:i,getPos:a,input:r,isStudio:c}),f=(0,eD.lW)(m,500),{prompt:b,template:C}=r,[y,v]=(0,I.useState)(b),w=(0,i3.tO)(()=>{m({prompt:y}),g(y)},"generateCard",e7.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),A=(0,iu.dU)(!1,!0),k=(0,I.useRef)(null),{suggestions:L,generateSuggestionsStatus:E}=(0,iS.ay)(i,l);return((0,I.useEffect)(()=>{l&&k.current&&setTimeout(()=>{var e;null==(e=k.current)||e.focus()})},[l]),u)?(0,p.jsxs)(e6.s,{position:"relative",maxW:"100%",w:"var(--card-width)",minH:32,contentEditable:"false",justify:"center",direction:"column",p:"var(--card-inner-padding)",children:[n,(0,p.jsxs)(ey.B,{zIndex:1,w:"100%",children:[(0,p.jsx)(rD.E,{height:"3em",w:"33%",mb:4}),(0,p.jsx)(rD.E,{height:"1.5em"}),(0,p.jsx)(rD.E,{height:"1.5em"}),(0,p.jsx)(rD.E,{height:"1.5em"}),(0,p.jsx)(rD.E,{height:"1.5em",w:"75%"})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.$p,{style:{position:"absolute",opacity:0}}),(0,p.jsxs)(e6.s,{contentEditable:"false",w:"var(--card-width)",maxW:"100%",minH:32,position:"relative",borderRadius:s?"none":"var(--card-border-radius)",p:"var(--card-inner-padding)",direction:"column",justify:"center",m:"-1px",fontFamily:"body",onMouseDown:e=>{!(e.target instanceof HTMLElement&&e.target.closest(".drag-handle"))&&(e.preventDefault(),k.current&&k.current===document.activeElement?k.current.blur():i.view.hasFocus()&&i.commands.blur())},children:[(0,p.jsx)(h.a,{bg:A?"gradient.secondary-dark":"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:s?"var(--editor-width)":void 0,insetStart:s?"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)":void 0,transform:s?"translateX(-50%)":void 0}),n,(0,p.jsx)(h.a,{position:"absolute",zIndex:0,pointerEvents:"none",inset:0,bgImage:"url(".concat(r4.src,")"),bgRepeat:"repeat",bgPosition:"center center",sx:{animation:"".concat(r3," 180s linear infinite"),maskImage:"linear-gradient(to left, rgba(0,0,0,.75), transparent, rgba(0,0,0,.75))",maskRepeat:"repeat",maskSize:"140px"},opacity:A?.2:1}),(0,p.jsx)(eY.K,{position:"absolute",top:2,insetEnd:2,variant:"ghost",colorScheme:A?"whiteAlpha":"blackAlpha",isRound:!0,size:"sm","aria-label":e5.Ru._({id:"DIQZR1"}),icon:(0,p.jsx)(M.g,{fixedWidth:!0,icon:e2.GRI}),onClick:()=>{f.cancel();let e=a();"number"==typeof e&&i.commands.deleteCard(e)}}),(0,p.jsxs)(ey.B,{spacing:4,pos:"relative",zIndex:1,maxWidth:"100%",children:[(0,p.jsxs)(j.z,{justify:"end",flexWrap:"wrap",children:[(0,p.jsx)(ev.D,{fontWeight:700,size:"md",color:A?"white":"deepocean.950",children:(0,p.jsx)(em.x6,{id:"8e1wQN"})}),(0,p.jsx)(eh.h,{}),(0,p.jsx)(r5.f,{modalId:"ai-credits-modal-generate-card",variant:"ghost",isDark:A,justify:"flex-end",segmentEvent:e7.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD}),(0,p.jsx)(i0,{locale:x,setLocale:e=>m({settings:{locale:e}}),buttonProps:{variant:"plain",size:"sm",textAlign:"left",w:["100%","100%","auto"],isDisabled:o}})]}),(0,p.jsxs)(iW.M,{color:A?"white":"gray.700",bg:A?"blackAlpha.900":"white",boxShadow:"sm",border:"none",borderRadius:"md",display:"flex",alignItems:"start",gap:"0",onMouseDown:ny.dG,_focusWithin:{boxShadow:"var(--chakra-shadows-sm), var(--chakra-shadows-outline)"},transitionProperty:"box-shadow",transitionDuration:"normal",children:[(0,p.jsx)(iK._,{ref:k,"data-in-editor-focus":!0,fontWeight:"500",border:"none",fontSize:"lg",initialHeight:"4rem",placeholder:e5.Ru._({id:"BiLwIi"}),value:y,isDisabled:o,onChange:e=>{v(e.target.value),f({prompt:e.target.value})},onKeyDown:e=>{if(!e.shiftKey)if("Enter"===e.key)w();else if("ArrowDown"!==e.key||y){if("ArrowUp"===e.key&&!y){let e=a();if("number"!=typeof e)return;i.chain().focus(e).selectInsideNextCard(!1).run()}}else{let e=a();if("number"!=typeof e)return;i.chain().focus(e).selectInsideNextCard(!0).run()}},_focus:{boxShadow:"none"},_focusVisible:{boxShadow:"none"},p:5}),(0,p.jsx)(rR.r0,{h:"100%",border:"none",color:A?"white":"gray.700",bg:A?"blackAlpha.900":"white",p:3,ps:0,alignItems:"end",display:["none","none","flex"],children:(0,p.jsxs)(eq.$,{px:3,"aria-label":"Generate card",isDisabled:!y||o,onClick:w,onMouseDown:ny.Fw,children:[(0,p.jsx)(i2.G,{type:"generateCard",ms:0,me:2,color:"currentcolor"}),(0,p.jsx)(M.g,{icon:eI.fmP})]})})]}),(0,p.jsxs)(eq.$,{variant:"solid","aria-label":"Generate card",isDisabled:!y,onClick:w,onMouseDown:ny.Fw,display:["flex","flex","none"],leftIcon:(0,p.jsx)(M.g,{icon:eI.fmP}),children:[(0,p.jsx)(em.x6,{id:"ziAjHi"}),(0,p.jsx)(i2.G,{type:"generateCard",ms:0,me:2})]}),(0,p.jsx)(rT.S,{in:!y&&!o&&(L.length>0||"generating"===E),children:(0,p.jsxs)(j.z,{direction:["column","row"],spacing:2,wrap:"wrap",children:[null==L?void 0:L.map((e,t)=>(0,p.jsx)(eq.$,{leftIcon:(0,p.jsx)(M.g,{icon:eI._$C}),onClick:()=>{v(e),m({prompt:e})},borderRadius:"full",variant:"ghost",bg:A?"whiteAlpha.100":"blackAlpha.100",color:A?"whiteAlpha.800":"blackAlpha.800",_hover:{bg:A?"whiteAlpha.300":"blackAlpha.300"},colorScheme:A?"whiteAlpha":"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,children:e},t)),"generating"===E&&(0,p.jsxs)(rz.vw,{variant:"subtle",colorScheme:A?"whiteAlpha":"blackAlpha",color:A?"whiteAlpha.500":"blackAlpha.500",children:[(0,p.jsx)(rz.Vz,{boxSize:"12px",as:tj.y}),(0,p.jsx)(rz.d1,{children:(0,p.jsx)(em.x6,{id:"AUV+TY"})})]})]})}),!c&&(0,p.jsx)(r7,{isDark:A,selectedTemplate:C,setSelectedTemplate:e=>m({template:e}),isDisabled:o})]})]})]})},se=e=>{let{displayLayout:t,children:n,isExpandableSelected:i,isFocused:a,displayFullBleed:r,isEditable:s,isNested:l,attrs:o,hasLayoutItem:c,cardContentType:d,onDoubleClick:u,cardDimensions:g,theme:m,handle:x,editor:f,getPos:b,updateAttributes:C}=e;if(o.generatorInput&&"done"!==o.generatorInput.status&&s)return(0,p.jsx)(r8,{theme:m,handle:x,editor:f,getPos:b,input:o.generatorInput,updateAttributes:C,displayFullBleed:r,isFocused:a});let y=(0,ei.lH)(t),v=(0,ei.tZ)(t),w=o.layoutTemplateColumns,A=o.layoutTemplateRows,k=s&&g.aspectRatio&&!l&&(!o.fontScale||o.fontScale===eo.o5);return(0,p.jsxs)(h.a,{className:(0,S.cx)(nJ.fJ,i&&"expandable-selected"),onDoubleClick:u,w:"var(--card-width)",maxW:"100%",position:"relative",spellCheck:a,cursor:"auto",color:"var(--body-color)",sx:{["> .".concat(eo._P)]:{padding:c||"responsive"!==d?void 0:"var(--card-inner-padding)",counterReset:"footnote",'> [data-node-view-content-inner="card"]':{..."responsive"!==d?{}:c?{display:"grid",alignItems:"stretch",justifyContent:"stretch",minH:"100%",transitionDuration:"".concat(eo.M2,"ms"),transitionProperty:"grid-template-rows, grid-template-columns, min-height",...y.grid,...w&&"top"!==t&&y.allowResizing&&{gridTemplateColumns:w},...A&&"top"===t&&y.allowResizing&&{gridTemplateRows:A},...v}:{display:"block",mx:"auto",maxW:"var(--max-content-width)",width:"100%",boxSizing:"border-box",minW:0},"> .node-cardLayoutItem":{"> [data-node-view-wrapper]":{"> .card-layout-cell-bg":{"> [data-node-view-content]":{"> [data-node-view-content-inner]":{maxWidth:"var(--max-content-width)",margin:"auto"},padding:"var(--card-inner-padding)"}}}}}},_hover:{"> .card-height-guide":{opacity:1}}},children:[x,n,k&&(0,p.jsx)(rI,{isFocused:a})]})},st=new nl.b;var sn=n(75074),si=n(71737);let sa=e=>{let{hasNotes:t,isReadonly:n}=e;return t?n?(0,p.jsx)(em.x6,{id:"nqt+Fj"}):(0,p.jsx)(em.x6,{id:"+kQy/G"}):n?null:(0,p.jsx)(em.x6,{id:"GquPwe"})},sr=e=>{let{cardId:t,decorations:n,editor:i,getPos:a,hasNonEmptyCardNotes:r,isReadonly:s,...l}=e,o=(0,I.useCallback)(()=>{let e=a();if("number"!=typeof e)return;if(!s){let{hasCardNotesNode:t}=(0,el.tg)(n);t||(0,si.ni)(i,e)}let r=(0,K.KA)(),l=(0,sn.Ix)(r.getState());st.emit("toggle",{clickedCardId:t,activeNotesCardId:l}),(0,si.I5)(i,e)||i.commands.selectInsideNodeAtPos(e)},[t,n,s,i,a]),{color:c,bg:d,hoverColor:u,hoverBg:g,borderColor:m}=(0,nv.Nb)();return(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(sa,{hasNotes:r,isReadonly:s}),placement:"top",children:(0,p.jsx)(eq.$,{height:nJ.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:m,color:c,boxShadow:"sm",cursor:"pointer",pointerEvents:"auto",fontSize:"14px",bg:d,minW:"auto",px:2,_hover:{color:u,background:g},onMouseDown:ny.Fw,onClick:o,...l,children:(0,p.jsx)(h.a,{as:"span",display:"inline-flex",children:(0,p.jsx)(M.g,{icon:r?eI.hZM:e2.hZM})})})})};var ss=n(89115),sl=n(50333),so=n.n(sl);let sc=e=>{let t={min:1,max:4.5},n={min:.6,max:1},i=(ty()(e,t.min,t.max)-t.min)/(t.max-t.min);return n.max-i*(n.max-n.min)},sd=e=>{let t;return tR[((null==e?void 0:e.type)==="image"||(null==e?void 0:e.type)==="themeLogo")&&e.imageSize||"md"].height},su=(e,t)=>e?sd(e)*sc(null!=t?t:1):tR.md.height,sp=(e,t)=>{let n=tD[e||"md"];return so()(n+Math.max(0,(t-2)*.2),2)},sh=(e,t,n,i,a)=>{if(!t)return{start:0,end:0};let r=(null==t?void 0:t.type)==="image"||(null==t?void 0:t.type)==="themeLogo",s=(null==t?void 0:t.type)==="text"||(null==t?void 0:t.type)==="cardNumbers",l=sp(n,e),o=r?su(t,i):.7,c=r?sd(t):.7,d=(e-o)*l/2,u=Math.max(0,(1-o/c)*l)+Math.max(0,d);return{start:so()(u+("flex-start"===a&&s?.3:0),2),end:so()(u+("flex-end"===a&&s?.3:0),2)}},sg=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e,a=2;return Object.values(i).forEach(e=>{if(e&&("image"===e.type||"themeLogo"===e.type)&&!eF(e)){let t=sd(e);t>a&&(a=t)}}),a},sm=(e,t)=>{let n=sg(e),i=sp(t,n);return n+2*i};var sx=n(36512),sf=n(33424);let sb=e=>{let t,{isPresentMode:n,isNested:i,isFullBleed:a,displayFullBleed:r,isThumbnail:s,isMobileDevice:l,attrs:o,fontSize:c,nestedDepth:d}=e,{outerPaddingX:u,outerPaddingY:p,outerPaddingLeft:h,outerPaddingRight:g}=(0,sf.ng)({isPresentMode:n,isNested:i,isFullBleed:a,displayFullBleed:r,isThumbnail:s,isMobileDevice:l,attrs:o}),m=(0,sf.Qo)(c||"md"),x=(0,sf.mn)({isMobileDevice:l,numericFontSize:m}),f=x+(0,sf._F)(d),{cardMarginSettings:b}=(0,K.GV)(ed.Uu),C=(0,K.GV)(ed.SJ),y=eN(b)?sx.cK:sm(b,null==C?void 0:C.config.roundness);return t=n||s?y:l?i?sx.rN:sx.HY+(a?sx._0:0):a?Math.max(sx.cK+sx.Ri,y):y,(0,I.useMemo)(()=>({"--card-inner-padding-x":"calc(".concat(x,"em / var(--card-font-scale, 1))"),"--card-inner-padding-y":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-inner-padding":"var(--card-inner-padding-y) var(--card-inner-padding-x)","--card-outer-padding-left":h,"--card-outer-padding-right":g,"--card-outer-padding-x":u,"--card-outer-padding-y":p,"--comment-padding":"".concat(f,"em"),"--nested-card-margin":"calc(-1 * var(--comment-padding))"}),[f,x,t,h,g,u,p])},sC=e=>{let{attrs:t,children:n,presentVariant:i,isPresentMode:a,isDark:r,isNested:s,isThumbnail:l,isFullBleed:o,displayFullBleed:c,isMobileDevice:d,fontSize:u,nestedDepth:h,theme:g,cardDimensions:m,showPresentBackdrop:x,userZoomLevel:f,verticalAlign:b,defaultContentWidth:C,contentWidth:y,docZoomLevel:v}=e,w=sb({isPresentMode:a,isNested:s,isFullBleed:o,displayFullBleed:c,isThumbnail:l,isMobileDevice:d,attrs:t,fontSize:u,nestedDepth:h}),A=(0,sf.X6)(d),k=(0,ss.P)({isPresentMode:a,isNested:s,nestedDepth:h,isFullBleed:o,isThumbnail:l,theme:g,cardDimensions:m,defaultContentWidth:C,contentWidth:y,showPresentBackdrop:x,isMobileDevice:d,fontSize:u,docZoomLevel:v,cardFontScale:t.fontScale}),{background:L,id:j}=t,E=(0,K.GV)(ed.b6),M=s||l?void 0:(0,J.FD)(L,r);return(0,p.jsx)(e6.s,{onDragOver:ny.JO,top:0,left:0,position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",cursor:"default","data-animate-value":i,fontSize:"var(--editor-font-size, 1rem)",py:"var(--card-outer-padding-y)",pl:"var(--card-outer-padding-left)",pr:"var(--card-outer-padding-right)","data-card-id":j,"data-card-scroll-element":!0,overflow:a&&!s?"hidden auto":void 0,sx:{scrollbarGutter:!a||s||eu.D1?void 0:"stable"},margin:"0 auto",className:(0,S.cx)(eo.QJ,"card-expanded",a&&eo.WZ,a&&"card-present-mode card-present-mode--".concat(i)),transitionProperty:"transform, padding",transitionDuration:"".concat(E?eo.y0:0,"ms"),...M,css:{...w,...A,...k,"--zoom-level":f,"--card-vertical-align":b},children:n})};sC.displayName="CardContainer";var sy=n(56288);let sv=(0,p.jsx)(M.g,{icon:e2.rMD}),sw=(0,I.memo)(function(e){let{cardId:t,getPos:n,editor:i,isNested:a,isCollapsed:r,isPresentMode:s,isEditable:o,isDark:c,top:d}=e,u=(0,e7.st)(),h=(0,I.useCallback)(()=>{let e=n();if("number"==typeof e){if(s&&!o)i.commands.spotlightCollapseCard(e);else{(0,en.wE)(t,!0);let{selection:n}=i.state,a=(0,l.KP)(Q.jg)(n);a&&a.node.attrs.id===t&&i.commands.selectNodeAtPos(e)}null==u||u.track(e7.VV.CARD_COLLAPSED,{method:"collapse_button",is_present_mode:!1})}},[i,n,u,t,o,s]),g=(0,sy.EC)(),m=(0,I.useMemo)(()=>(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"kBUgVh"}),placement:"top",portalProps:{containerRef:g},children:(0,p.jsx)(eY.K,{variant:"ghost",size:"sm",paddingInlineStart:6*!!(0,rH.Xb)(),paddingInlineEnd:2*!!(0,rH.Xb)(),onClick:h,onMouseDown:ny.Fw,isRound:!0,"aria-label":e5.Ru._({id:"H86f9p"}),"data-collapse-card-button":!0,icon:sv,color:c?"gray.300":"gray.600"})}),[h,g,c]),x=(0,I.useMemo)(()=>(0,p.jsx)(eq.$,{size:"sm",variant:"ghost",position:"absolute",zIndex:2,bottom:[1,3],right:[2,4],rightIcon:(0,p.jsx)(M.g,{icon:e2.w2A}),"data-collapse-card-button":!0,onMouseDown:ny.Fw,onClick:h,fontWeight:"normal",color:c?"gray.300":"gray.600",children:(0,p.jsx)(em.x6,{id:"H86f9p"})}),[h,c]);return(0,p.jsxs)(e6.s,{contentEditable:!1,onClick:ny.dG,className:"manage-card-controls","data-print-hidden":!0,transitionProperty:"common",transitionDuration:"normal",display:"inherit",fontFamily:"body",sx:{"[data-collapse-card-button]":{visibility:a&&!r?"visible":"hidden"}},children:[(0,p.jsx)(j.z,{spacing:1,position:"absolute",top:d||[1,3],insetInlineEnd:[2,4],zIndex:2,children:m}),a&&!r&&x]})});var sA=n(11235);let sk=()=>{let e=(0,eQ.d)(),[t,n]=(0,i$.M)(iY.E.hasSeenPresentModeDblClickNotification,!1),i=(0,K.GV)(ed.VJ);return{onDoubleClick:(0,I.useCallback)(()=>{if(!i||t)return;let a=new Date,r=new Date("2024-08-15");a.getTime()>r.getTime()||(n(!0),e({title:(0,p.jsx)(em.x6,{id:"xtaPrg"}),status:"info",position:"bottom",duration:3e3,isClosable:!0}))},[i,t,n,e])}},sL=e=>{let{getPos:t,editor:n,decorations:i}=e,a=(0,sA.f)(e),{isPresentMode:r,isNested:s,isFocused:l,isEditable:o,isMobileDevice:c,cardAccentBackgroundMaskEffect:u,cardAccentBackgroundMaskIntensity:h,cardId:m,isFullBleed:x,hasNonEmptyCardNotes:f,cardContentType:b}=a,C=(0,t9.u)("realUserMetrics");(0,t7.XX)(C,m,a.presentVariant,a.prevPresentVariant);let y=(0,na.JL)(i),v=(0,ns.b0)(i),w=(0,K.GV)((0,nq.C_)(m,"styling")),A=(0,K.GV)((0,nq.C_)(m,"editWithAI")),k=y||v||l,L=o&&(k||A||w),M=!s&&!n.isThumbnail&&!n.isStatic&&!c&&!n.shouldUsePublishedVersion&&!r&&(f||o&&k),I=(0,K.GV)((0,U.qw)(m)),{onDoubleClick:_}=sk(),{isCardMarginsModalOpen:R,onCloseCardMarginsModal:T,onOpenCardMarginsModal:H}=t6();return(0,p.jsx)(g.u,{as:"div",style:{minHeight:r&&!s?"100vh":0},hideComments:!0,...e,children:(0,p.jsxs)(sC,{...a,children:[(0,p.jsx)(aR,{...a,children:(0,p.jsxs)(se,{...a,...e,onDoubleClick:_,handle:(0,p.jsx)(z.A,{...e,handlePlacement:"custom","data-testid":"card-drag-handle",zIndex:nr.$.cardButtons,insetInlineStart:2,top:3,width:"18px",height:nJ.PN,label:(0,p.jsxs)(ep.T,{spacing:0,children:[(0,p.jsx)(E.E,{color:"gray.400",children:(0,p.jsx)(em.x6,{id:"63lY3K",components:{0:(0,p.jsx)(E.E,{color:"white",as:"span"})}})}),(0,p.jsx)(E.E,{color:"gray.400",children:(0,p.jsx)(em.x6,{id:"COhrZ5",components:{0:(0,p.jsx)(E.E,{color:"white",as:"span"})}})})]})}),children:[(0,p.jsx)(nu,{...e}),(0,p.jsxs)(j.z,{pos:"absolute",insetInlineStart:8,insetInlineEnd:2.5,zIndex:nr.$.cardButtons,top:3,align:"start",contentEditable:!1,pointerEvents:"none",spacing:1.5,children:[L&&"responsive"===b&&(0,p.jsx)(id,{editor:n,getPos:t,...a,decorations:i,accentBackgroundMaskEffect:u,accentBackgroundMaskIntensity:h,onOpenCardMarginsModal:H}),L&&(0,p.jsx)(aE,{cardContentType:b,attrs:a.attrs,editor:n,getPos:t,node:e.node}),(0,p.jsx)(eh.h,{}),o?I?(0,p.jsx)(iB,{...e,...a,isDark:a.isDark,isInteracting:k,suggestions:I}):a.attrs.generatorInput?(0,p.jsx)(aM,{...e,...a,isDark:a.isDark,input:a.attrs.generatorInput,isInteracting:k}):null:null,(0,p.jsx)(eh.h,{}),M&&(0,p.jsx)(sr,{editor:n,cardId:m,decorations:i,getPos:t,hasNonEmptyCardNotes:f,isReadonly:!o})]}),(0,p.jsx)(d.$p,{dir:"ltr",className:(0,S.cx)(eo._P,l&&"is-focused",s&&"is-nested",(r||x)&&"is-full-width",x&&!s&&!r&&"is-borderless",a.isDark&&"is-dark")}),R&&(0,p.jsx)(t5,{editor:n,cardNode:e.node,getPos:t,isOpen:R,onClose:T}),s&&(0,p.jsx)(sw,{top:[1,3],...a,...e})]})}),(0,p.jsx)(ni,{children:(0,p.jsx)(eg.L8,{isDark:(0,D.Mw)(a.theme),children:(0,p.jsx)(rS,{display:!o||s||r?"none":"flex",editor:n,getPos:t,isNested:s})})})]})})};var sj=n(70259),sE=n(21088),sS=n(23746),sM=n(26189),sI=n(83106),s_=n(86932);let sD=(0,I.memo)(e=>{let{decorations:t,editor:n,getPos:i,node:a}=e,r=(0,sE.st)(),s=(0,K.jL)(),{cardId:l,isPresentMode:o,isEditable:c,isMobileDevice:d}=(0,sA.f)(e),{title:u,text:m}=(0,sj.d)({editor:n,node:a,cardId:l}),{previewContent:x}=e.node.attrs,f=""===x,b=null==u?void 0:u.replaceAll(sM.n,e=>'<span class="emoji">'.concat(e,"</span>")),C=(0,K.GV)(ed.SJ),y=(0,N.bh)("h4",C),v=(0,s_.A3)(t),w=(0,I.useCallback)(e=>{e.stopPropagation(),o&&!c?(s((0,ed.mF)({attached:!1})),n.commands.descendIntoCurrentCard(i(),"push"),null==r||r.track(at.VV.CARD_EXPANDED,{is_present_mode:!0,method:"click"})):((0,en.wE)(l,!1),setTimeout(()=>{if(!c||n.isDestroyed)return;let e=i();"number"==typeof e&&n.commands.selectInsideNodeAtPos(e)},50),null==r||r.track(at.VV.CARD_EXPANDED,{is_present_mode:!1,method:"click"}))},[l,o,c,s,n,i,r]),A=f||!(null==m?void 0:m.trim());return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsx)(z.A,{...e,"data-testid":"card-drag-handle",handlePlacement:"outside"}),(0,p.jsxs)(h.a,{mb:"0.25em",position:"relative",contentEditable:!1,userSelect:"none",role:"group","data-card-id":l,"data-export-as-image":!0,children:[(0,p.jsxs)(tT.e,{position:"absolute",insetInlineEnd:"0.75em",top:"0.75em","data-print-hidden":!0,variant:"unstyled",colorScheme:"gray",fontFamily:"body","data-thumbnail-hidden":!0,children:[c&&(0,p.jsx)(sR,{hidePreview:f,...e}),(0,p.jsx)(sT,{onClick:w})]}),(0,p.jsxs)(h.a,{cursor:"pointer",className:(0,S.cx)(eo.QJ,"card-collapsed",v&&"expandable-selected"),_groupHover:sS.uQ,...sS.zQ,paddingX:d?"1em":"1.5em",paddingY:"1em",onClick:w,"data-collapsed-card":!0,"data-selection-ring":!0,"data-selection-background":!0,"data-content-reference":!0,sx:{backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--card-border-shadow, 0px 0px 0px 1px var(--neutral-border-color)), var(--card-box-shadow, var(--clickable-shadow))",borderRadius:"calc(var(--card-border-radius) / 2)","@media print":{boxShadow:"none",border:"var(--card-border, 1px solid var(--neutral-border-color))"}},children:[(0,p.jsx)(E.E,{sx:y,noOfLines:1,marginInlineEnd:"1.75em",mb:"0.375em",className:(0,S.cx)(_.U6),children:b?(0,p.jsx)(E.E,{as:"span",dangerouslySetInnerHTML:{__html:sI.W.sanitize(b)}}):u||(0,p.jsx)(E.E,{as:"span",color:"gray.400",children:(0,p.jsx)(em.x6,{id:"gLDJuJ"})})}),(0,p.jsxs)(j.z,{color:"var(--body-color-muted)",children:[(0,p.jsx)(E.E,{noOfLines:1,fontFamily:A?"body":void 0,fontSize:"0.9em",children:A?(0,p.jsx)(em.x6,{id:"4m3nxQ"}):m}),f&&(0,p.jsx)(M.g,{icon:e2.Jt$,size:"sm"})]})]})]})]})});sD.displayName="CollapsedCard";let sR=e=>{let{hidePreview:t,updateAttributes:n}=e,i=(0,K.GV)(ed.cS),a=(0,I.useCallback)(e=>{n&&(n({previewContent:t?null:""}),e.stopPropagation())},[n,t]);return(0,p.jsx)(eq.$,{opacity:0,zIndex:+!i,transitionProperty:"opacity",transitionDuration:"normal",_groupHover:{opacity:1},sx:sS.Up,fontSize:"0.7em",onClick:a,className:sS.Gx,children:t?(0,p.jsx)(em.x6,{id:"fsyAH8"}):(0,p.jsx)(em.x6,{id:"Po0vX/"})})},sT=e=>{let{onClick:t}=e,n=(0,K.GV)(ed.cS);return(0,p.jsxs)(eq.$,{"aria-label":e5.Ru._({id:"JjrOSL"}),className:sS.Gx,onClick:t,sx:sS.Up,zIndex:+!n,fontSize:"0.7em","data-testid":"expand-card-button",children:[(0,p.jsx)(M.g,{icon:e2.vQu,fontSize:"0.9em"}),(0,p.jsx)(E.E,{as:"span",_groupHover:{opacity:1,display:"inline"},opacity:"0",display:"none",marginInlineStart:2,children:(0,p.jsx)(em.x6,{id:"1A3EXy"})})]})},sz=e=>{let{editor:t,node:n}=e,{id:i}=n.attrs,a=(0,K.GV)((0,ed.WS)(i)),r=(0,K.GV)(ed.nD),s=(0,ec.UT)("edit"),l=null==t?void 0:t.isThumbnail,{isStatic:o}=t;return!n.attrs.hidden||eu.D1||l||o||r&&s?a?(0,p.jsx)(sD,{...e}):(0,p.jsx)(sL,{...e}):null};(()=>{if(es)return;let e=ea.n.valid;ea.n.valid=t=>{if(!(0,er.e)(t.doc).cardLayoutsEnabled)return e(t);let n=e(t);return!(n&&(t.nodeAfter&&(0,Q.sw)(t.nodeAfter)||t.nodeBefore&&(0,Q.sw)(t.nodeBefore)))&&n},es=!0})();let sH=e=>{if((0,Y.Op)(e)||1===e.childCount&&(0,Y.Op)(e.firstChild))return!0;if("blank"!==e.attrs.layout)return!1;let t=(0,Q.dT)(e);if(0===t.length)return!1;let n=t.find(e=>"body"===e.attrs.itemId);return!!n&&1===n.childCount&&(0,Y.Op)(n.firstChild)},sN=e=>{let{oldNode:t,oldDecorations:n,newNode:i,newDecorations:a,updateProps:r}=e,s=JSON.stringify(i.attrs)!==JSON.stringify(t.attrs),l=(0,u.w_)(n,a),o=sH(i)!==sH(t);return(s||l||o)&&(console.debug("[cardUpdateFn] Card ".concat(i.attrs.id," updateProps will be called:"),{oldDecorations:n,newDecorations:a,decorationsChanged:l}),r()),!0},sB=l.bP.create({name:eo.Qs,content:"(block | cardBlock)+ | (cardLayoutItemGroup{1,2} | cardImageItem | cardCodeItem) cardNotes?",group:"cardBlock",defining:!1,isolating:!0,selectable:!1,draggable:!0,priority:ee.y.Card,containerHandle:!0,imageKeyPath:"background.image",allowGapCursor:!1,expandable:!0,addNodeView(){return(0,d.gu)(sz,{update:sN,ignoreMutation:e=>{let{mutation:t}=e,n=this.editor.state.selection,i=t.target instanceof HTMLElement?t.target:t.target.parentElement,a="selection"!==t.type&&sP(i),r="selection"===t.type&&n instanceof W.nh&&(0,et.Bv)(n.node);return!!a||!!r}})},addProseMirrorPlugins(){return[(0,el.qc)(this.editor)]},addOptions:()=>({isStatic:!1}),addAttributes:()=>({id:{},previewContent:{default:null},background:{default:$.SS,...(0,Y.tb)("background")},container:{default:{},...(0,Y.tb)("container")},cardSize:{default:"default",parseHTML:e=>e.getAttribute("card-size")||"default"},layout:{default:"blank",parseHTML:e=>e.getAttribute("image-layout")||e.getAttribute("layout")||"blank"},layoutTemplateColumns:{default:null,parseHTML:e=>e.getAttribute("layout-template-columns")||null,renderHTML:e=>({"layout-template-columns":e.layoutTemplateColumns})},layoutTemplateRows:{default:null,parseHTML:e=>e.getAttribute("layout-template-rows")||null,renderHTML:e=>({"layout-template-rows":e.layoutTemplateRows})},verticalAlign:{default:null,parseHTML:e=>e.getAttribute("vertical-align"),renderHTML:e=>({"vertical-align":e.verticalAlign})},generatorInput:{default:null,...(0,Y.tb)("generatorInput")},fontScale:{default:null},cardMarginSettings:{default:{},...(0,Y.tb)("cardMarginSettings")},hidden:{default:!1}}),addExtensions(){return[rE.$b.configure({callback:(e,t,n)=>{0!==t.length&&t.forEach(e=>{let{val:t}=e;console.debug("[Card.UniqueCardId] New card id(".concat(t,") created. Will be created in postgres through content service.")),(0,en.wV)(t)})},types:[this.name]})]},addCommands:()=>({}),parseHTML:()=>[{tag:"div[class=gamma-card]"},{tag:"section",getAttrs:sF()},{tag:"section[bookmark]",getAttrs:X.Ll,getContent:X.cn}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gamma-card"}),0]},renderHTMLforAI(e){var t,n,i,a,r;let{node:s,disableBookmarks:l}=e,o=(0,en.Wq)(null==s||null==(t=s.attrs)?void 0:t.id),c=(0,U.hn)((0,K.KA)().getState()),d=s.attrs;if(!1===o||c||l)return["section",{id:l?void 0:d.id,"image-layout":d.layout,"layout-template-columns":null!=(n=d.layoutTemplateColumns)?n:void 0,"layout-template-rows":null!=(i=d.layoutTemplateRows)?i:void 0,"vertical-align":null!=(a=d.verticalAlign)?a:void 0,"background-color":null!=(r=(0,J.gK)(d.container.background))?r:void 0},0];let u=(0,X.vL)(s),p=(0,Z.getCardTitle)(s.toJSON()),h=(0,ei.o_)(s);return["section",{bookmark:u,title:p,accentPosition:s.attrs.layout,accentImage:(null==h?void 0:h.image)?(0,G.ve)(h.image):void 0}]}}),sP=e=>{var t;return(null==e?void 0:e.parentElement)&&(e.classList.contains(eo.QJ)||(null==(t=e.parentElement.closest(".".concat(eo._P,", .").concat(eo.QJ)))?void 0:t.classList.contains(eo.QJ)))},sF=()=>e=>{let t=e.getAttribute("id")||rE.Yv.generate(),n=e.getAttribute("background-color");return{id:t,container:n?{background:{color:{hex:n},type:q.h.COLOR}}:void 0}};var sV=n(50709),sO=n(55978),sZ=n(67200),sW=n(98088),sU=n(97139),sG=n.n(sU);let sK=e=>{let{node:t}=e,n=sG().sanitize(t.attrs.code),i=(0,K.GV)(ed.wC)===rb.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(e6.s,{className:"card-code-item",dangerouslySetInnerHTML:{__html:n},contentEditable:!1,direction:"column",justify:"center",sx:i?sQ:void 0,onMouseDown:ny.Fw})})},sQ={h:"100vh",overflowY:"auto"},sq=l.bP.create({name:"cardCodeItem",atom:!0,selectable:!1,draggable:!1,addAttributes:()=>({id:(0,sO.e)(sW.z),code:{default:""},aiGenerateStatus:{}}),addNodeView:()=>(0,d.gu)(sK,{update:u.z0}),parseHTML:()=>[{tag:"div[class=custom-code]"},{tag:"custom-code",content:"card/",getAttrs:e=>({code:e.innerHTML})}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"custom-code"})]},renderHTMLforAI(e){let{node:t}=e;return["custom-code",{},t.attrs.code]},addExtensions:()=>[sJ]}),sJ=sV.S.extend({name:"UniqueCodeCardId"}).configure({attributeName:"id",types:["codeCard"],initialValue:sW.z,filterTransaction:sZ.kz,pluginKey:new W.hs("UniqueCodeCardId")});var s$=n(9922),sY=n.n(s$),sX=n(83817),s0=n.n(sX),s1=n(80102),s2=n(91242),s3=n(23513),s5=n(33201),s4=n(72492),s6=n(67864);let s9=(e,t,n)=>{let i=t.doc.resolve(e),a=t.doc.nodeAt(e),r=e+i.nodeAfter.nodeSize,s=t.doc.resolve(r),l=t.doc.nodeAt(r);if(!l||!(0,Q.jg)(l))return!1;let o=a&&(0,si.eh)(a),c=(0,si.eh)(l),d=null;c&&(d=o?ln(t.doc,i.pos,!0):a?i.pos+a.nodeSize-1:null);let u=s8(t,r);if(!u)return!1;t.delete(r,r+l.nodeSize);let p=lt(t,e,!0);if(d&&c){let e=(0,si.PD)(s);if(e){let n=o?e.node.content:e.node;t.insert(d,n),t.setMeta("cardNotesHandled",!0)}}t.insert(p,u.node.content);let h={type:"merge-cards",contentPos:u.pos,insertPos:p};if(t.setMeta("annotationEvent",h),n.selection instanceof ea.n){let e=(0,s3.n)(t.doc.resolve(p));e&&t.setSelection(e)}return!0},s7=(e,t)=>{let n=t.doc.resolve(e);if(!n.nodeBefore)return!1;let i=e-n.nodeBefore.nodeSize,a=t.doc.nodeAt(i);if(!a||!(0,Q.jg)(a))return!1;let r=(0,si.eh)(a),s=n.nodeAfter&&(0,si.eh)(n.nodeAfter),l=null;s&&(l=r?ln(t.doc,i,!0):i+a.nodeSize-1);let o=s8(t,e);if(!o)return!1;t.delete(e,e+n.nodeAfter.nodeSize);let c=lt(t,i,!0);if(l&&s){let e=(0,si.PD)(n);if(e){let n=r?e.node.content:e.node;t.insert(l,n),t.setMeta("cardNotesHandled",!0)}}t.insert(c,o.node.content);let d=(0,s3.n)(t.doc.resolve(c));d&&t.setSelection(d);let u={type:"merge-cards",contentPos:o.pos,insertPos:c};return t.setMeta("annotationEvent",u),!0},s8=(e,t)=>{let n=(0,ei.dg)(e,t);return 0===Object.entries(n).length?{node:e.doc.nodeAt(t),pos:t}:n.body||null},le=e=>{let t=(0,Y.IV)(e,e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId||"card"===e.type.name);return 0===t.length?null:t[0]},lt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,ei.dg)(e,t),a=e.doc.resolve(t);if(0===Object.entries(i).length)return n?a.doc.resolve(a.start(a.depth+1)).end():t+1;if(!i.body)throw Error("Could not find card body at cardPos=".concat(t));let r=e.doc.resolve(i.body.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},ln=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.resolve(t),a=(0,si.PD)(i);if(!a)return null;let r=e.resolve(a.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},li=(e,t)=>{if(!e.empty)return!1;let n=e instanceof ea.n;if(!(0,l.eE)(e)&&!n)return!1;let{from:i,$from:a}=e;if(!t&&0!==a.parentOffset||t&&a.parentOffset!==a.parent.content.size)return!1;let r=le(a);if(!r)return!1;if(n)return t?i===r.pos+r.node.nodeSize-1:i===r.pos+1;let s=["paragraph","heading","title"],o=!0;for(let e=a.depth;e>0;e--){let t=a.node(e);if("card"===t.type.name||(0,Q.sw)(t))break;if(!s.includes(t.type.name)){o=!1;break}}return!!o&&(t?i===r.pos+r.node.nodeSize-2:i===r.pos+2)},la=/^(\*\*\*)/,lr=l.YY.create({name:"cardCommands",addCommands:()=>({resetCardSettings:e=>t=>{let{state:n,dispatch:i,chain:a}=t;if(!i)return!0;let r=a();return n.doc.descendants((t,n)=>{(0,s5.jg)(t)&&r.updateNestedAttributesAtPos(n,e)}),!0},splitCardAtSelection:()=>e=>(ls(e),!0),insertNestedCard:()=>e=>{let{state:t,chain:n,dispatch:i,editor:a}=e;if(!i)return!0;let{from:r,$from:s}=t.selection;return n().insertContentAndSelect((0,rL.G)().insertCardInside).command(e=>{let{tr:t}=e,n=(0,s6.ek)({editor:a,pos:r-s.parentOffset-1,tr:t});return n.length&&requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).moveAnnotations)||e.call(t,n)}),!0}).run(),!0},convertToNestedCard:()=>e=>{let{state:t,dispatch:n,commands:i}=e;if(!n)return!0;let a=(0,s1.Im)(t.schema.nodes[sB.name])(t,n);return i.selectInsertedNode(),a},unnestCard:e=>t=>{let{state:n,dispatch:i,chain:a,tr:r}=t,s=n.doc.nodeAt(e);if(!s||!(0,s5.jg)(s))return!1;if(!i)return!0;let o=s8(r,e);if(!o)return!1;let c=r.doc.resolve(e),d=(0,l.eL)(c,s5.jg),u=(0,si.PD)(c),p=null;u&&(p=d?ln(n.doc,d.pos,!0):null);let h=e+s.nodeSize,g=a();if(p&&u&&d){let e=(0,si.eh)(d.node)?u.node.content:u.node;g.insertContentAt(p,e.toJSON()).setMeta("cardNotesHandled",!0)}return g.insertContentAt({from:e,to:h},o.node.toJSON().content).selectInsertedNode().command(t=>{let{tr:n}=t;return n.setMeta("annotationEvent",{type:"merge-cards",contentPos:o.pos,insertPos:e}),!0}).run(),!0},mergeCardsAtPos:e=>t=>{let{tr:n}=t,i=n.doc.nodeAt(e);return!!i&&!!(0,s5.jg)(i)&&s7(e,n)},mergeCardsOnDelete:e=>t=>{let{tr:n,state:i,dispatch:a}=t;if(!a)return!0;let{selection:r}=i,s=(0,l.KP)(s5.jg)(r);if(!s||!r.empty)return!1;try{if(!li(r,e))return!1;return e?s9(s.pos,n,i):s7(s.pos,n)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}},insertCardAfter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,rL.G)().insertCardInside;return t=>{let{state:n,chain:i,dispatch:a}=t;if(!a)return!0;let{selection:r}=n,s=(0,l.KP)(s5.jg)(r);if(!s)return!0;let{pos:o,node:c}=s,d=o+c.nodeSize;return i().insertContentAt(d,e).selectInsertedNode().scrollIntoView().run(),!0}},deleteCardIfEmpty:e=>t=>{let{tr:n,dispatch:i,state:a}=t;if(!i)return!0;let r=!1,{from:s,to:l}=a.selection;return a.doc.nodesBetween(s,l,(t,i)=>{if((0,s5.jg)(t)&&sH(t)&&i>eo.$x){let a=n.doc.resolve(i).depth>1;n.deleteRange(i,i+t.nodeSize);let s=(0,s3.n)(n.doc.resolve(i+(a?0:e?1:-1)),e?1:-1);s&&n.setSelection(s),r=!0}}),r},deleteCard:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!i)return!0;let r=n.doc.resolve(e),s=r.depth>1,l=r.nodeAfter;if(!l||!(0,s5.jg)(l))return console.error("[CardExtension.deleteCard] Cannot delete card. Node unknown"),!1;a.delete(e,e+l.nodeSize);let o=(0,s3.n)(a.doc.resolve(e-!s),-1);return o&&a.setSelection(o),!0},duplicateCard:e=>t=>{let{state:n,chain:i,editor:a}=t,r=n.doc.nodeAt(e);if(!r||!(0,s5.jg)(r))return console.error("[CardExtension.duplicateCard] Cannot duplicate card. Node unknown"),!1;let s=e+r.nodeSize,l=(0,s4.RE)(sY()(r.toJSON()));return i().insertContentAt(s,l,{updateSelection:!1}).command(e=>{let{tr:t}=e;return t.setMeta(sV._,!0),!0}).run(),setTimeout(()=>{a.chain().selectInsideNodeAtPos(s).focus().run()},200),!0},rearrangeCards:e=>{let{from:t,to:n,position:i}=e;return e=>{let a,{view:r,state:s,tr:l}=e,o=s.doc.resolve(n),c=s.doc.resolve(t),d=c.pos+c.nodeAfter.nodeSize,u=new W.nh(c),p=u.content();if((a="below"===i?o.pos+o.nodeAfter.nodeSize:"above"===i?o.pos:o.pos+o.nodeAfter.nodeSize-1)===c.pos)return l.setMeta("preventDispatch",!0),!0;l.delete(u.from,u.to);let h=l.mapping.map(a);l.replaceRangeWith(h,h,p.content.firstChild);let g=l.doc.resolve(h+1);l.setSelection(new W.nh(g));let m={type:"move",insertPos:h,insertPosRaw:a,pos:c.pos,end:d};return l.setMeta("annotationEvent",m).setMeta("rearrangeCards",!0),r.focus(),!0}},rearrangeCardsById:(e,t,n)=>i=>{var a;let{dispatch:r,tr:s,editor:l}=i;if(!r)return!0;let o=(0,Q.aJ)(l.state.doc);if(!o)return!1;let c=o.map(e=>e.node.attrs.id),d=t.filter(e=>c.includes(e)).map(e=>o.find(t=>t.node.attrs.id===e)).filter(e=>!!e),u=d.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:t}=e;return t&&"string"==typeof t}),p=null==(a=d[0])?void 0:a.node.attrs.id;if(!p)return!0;let h=Math.max(e.findIndex(e=>e===p),0),g=e[h-1],m=o.find(e=>e.node.attrs.id===g),x=h>0&&m?m.pos+m.node.nodeSize:o[h].pos;if(void 0===x)return!0;[...d].reverse().forEach(e=>{e&&s.replaceWith(x,x,e.node)}),d.forEach(e=>{if(!e)return;let t=s.mapping.map(e.pos);s.delete(t,t+e.node.nodeSize)});let f=(0,Q.aJ)(s.doc);if(!f)return!0;let b=f.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:n}=e;return t.includes(n)}),C=b.map(e=>{var t;let{id:n,pos:i}=e,a=null==(t=u.find(e=>e.id===n))?void 0:t.pos;return a?{id:n,oldPos:a,newPos:i}:null}).filter(e=>!!e);return s.setMeta("annotationEvent",{type:"rearrange-cards",rearrangedCardPositions:C,insertPos:x}).setMeta("rearrangeCards",!0).setMeta(aB,!0),s0()(b,u)||e7.zS.trackDocEvent(e7.VV.CARDS_REORDERED,{card_count:t.length,method:(null==n?void 0:n.viewPreference)==="film"?"filmstrip":"list-view"}),!0},updateThemeAccentImages:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var i;let{editor:a,commands:r}=n;if((null==(i=(0,ar.lI)(a).aiOptions.imageOptions)?void 0:i.provider)==="placeholder")return!0;let s=!e||0===e.length,l=0;return a.state.doc.descendants((n,i)=>{let a=(0,ei.wL)(n);if(a||(0,s5.jg)(n)){let o=a&&n.attrs.background.type===q.h.NONE;(n.attrs.background.source===n5.j||t&&a||o)&&(s?r.updateAttributesAtPos(i,{background:{type:a?q.h.NONE:void 0}}):(r.updateNestedAttributesAtPos(i,{background:e[l%e.length]}),l++))}}),!0}},deleteCardsById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:i,dispatch:a,tr:r}=n;if(!a)return!0;let s=(0,l.xe)(i.state.doc,t=>(0,s5.jg)(t)&&e.includes(t.attrs.id));if(!s.length)return!1;let o=s.map((e,t)=>({pos:e.pos,cardIndex:t}));s.forEach(e=>{let{node:t,pos:n}=e;r=r.delete(r.mapping.map(n),r.mapping.map(n+t.nodeSize))});let c=s[0].pos,d=(0,s2.s)(r.doc.resolve(c));return d&&(r=r.setSelection(d)),t&&r.setMeta("annotationEvent",{type:"filmstrip-cut",deleted:o}),r.setMeta(aB,!0),!0}},deleteCardsAfter:e=>t=>{let{editor:n,dispatch:i,commands:a}=t;if(!i)return!0;let r=(0,Y.GY)(n.state.doc.firstChild,e=>(0,s5.jg)(e)).map(e=>e.node.attrs.id);if(null===e)return a.deleteCardsById(r);let s=r.indexOf(e),l=s>-1?r.slice(s+1):[];return 0===l.length||a.deleteCardsById(l)},selectInsideNextCard:e=>t=>{let{state:n,dispatch:i,commands:a}=t;if(!i)return!0;let{selection:r}=n,s=(0,Y.IV)(r.$from,s5.jg)[0];if(!s||!r.empty)return!1;let l=n.doc.resolve(s.pos),o=l.index();if(e){if(o===l.parent.childCount-1)return!1;a.selectInsideNodeAtPos(s.pos+s.node.nodeSize)}else{if(0===o)return!1;let e=l.posAtIndex(o-1);a.selectInsideNodeAtPos(e,-1)}return!0}}),addInputRules:()=>[new l.fV({find:la,handler:e=>{let{state:t,range:n}=e,{tr:i}=t;ls({tr:i.deleteRange(n.from,n.to),dispatch:!0})}})]}),ls=e=>{let{tr:t,dispatch:n}=e;if(!n)return;let i=(0,l.KP)(s5.jg)(t.selection);if(!i)return void console.error("Couldn't find parent card while splitting",t.selection);let{accent:a,body:r}=(0,ei.dg)(t,i.pos);a&&r&&a.pos>r.pos&&(t.delete(a.pos,a.pos+a.node.nodeSize),t.insert(r.pos,a.node));let{selection:s}=t,{$from:o}=s,c=s.$from.parentOffset,d=s.from-c-1,u=s.$from.node().content.size-s.$from.parentOffset;t.setMeta(sV._,!0),t.setMeta("annotationEvent",{type:"split-card",splitPos:o.before()});let{node:p,depth:h}=i,{type:g,attrs:m}=p,x=o.depth-h+1,f=(0,si.PD)(t.doc.resolve(i.pos));t.split(o.pos,x,[{type:g,attrs:{...m,layout:"blank"}}]);let b=(0,s2.t)(t,eo.Qs).pos,C=t.doc.nodeAt(b).childCount;if(0===c&&(t.delete(d,d+t.doc.nodeAt(d).nodeSize),b=t.steps[t.steps.length-1].getMap().map(b)),0===u&&C>1){let e=b+1,n=t.doc.nodeAt(e);n&&"cardNotes"!==n.type.name&&"cardLayoutItem"!==n.type.name&&t.delete(e,e+n.nodeSize)}let y=(0,si.PD)(t.doc.resolve(b));y&&t.delete(y.pos,y.pos+y.node.nodeSize);let v=(0,s3.n)(t.doc.resolve(b+1)),w=t.doc.nodeAt(i.pos),A=w&&i.pos+w.nodeSize-1;if(A&&f){let e=f.node;t.insert(A,e),t.setMeta("cardNotesHandled",!0)}v&&t.setSelection(v).scrollIntoView()};var ll=n(72688),lo=n(29614),lc=n(45611),ld=n(34792),lu=n(90047),lp=n(95011),lh=n(3131),lg=n(89703),lm=n(45574),lx=n(78893),lf=n(22529),lb=n(61357),lC=n(61651);let ly=e=>{let{onRetry:t}=e,n=(0,rY.rd)();return(0,p.jsx)(aJ.o,{color:"gray.400",bg:n?lC.N.DARK_BG:lC.N.LIGHT_BG,w:"100%",minH:"var(--card-min-height)",children:(0,p.jsxs)(ep.T,{spacing:3,textAlign:"center",children:[(0,p.jsx)(M.g,{icon:iG.JAe,size:"3x"}),t&&(0,p.jsx)(eq.$,{size:"sm",px:8,onClick:()=>null==t?void 0:t(),children:(0,p.jsx)(em.x6,{id:"6gRgw8"})}),(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"CIIL4F"})})]})})};var lv=n(22216);let lw=e=>{var t,n,i,a;let{node:r,editor:s,getPos:l}=e,{image:o}=r.attrs,{src:c,tempUrl:u,uploadStatus:m,showPlaceholder:x}=o,f=(0,K.GV)(ed.nD),b=m===eH.A.Uploading,C=(0,t9.u)("positionedTextOnImage"),y=(0,K.GV)(ed.wC)===rb.w.SLIDE_VIEW,v=(0,lg.f)(),w=(0,nw.j)(s,l),A=(0,I.useCallback)(()=>{f&&(w(),v({isOpen:!0}))},[f,v,w]),k=(0,K.CU)(),L=(0,ld.K)("card-image-item-retry"),[j,E]=(0,I.useState)(!1),S=(0,I.useCallback)(async()=>{if(!f||j)return;E(!0);let e=L.current.start();try{var t;let n=(0,lb.Z)((0,lm.um)(r),"imageAttrs is undefined"),i=k.getState(),a=(0,lb.Z)((0,ed.sX)(i),"docId is undefined"),o=(0,lb.Z)((0,lf.C9)(i),"current workspaceId is undefined"),{prompt:c="",model:d="",stylePreset:u="",aspectRatio:p="",artStylePreset:h,artStylePrompt:g}=null!=(t=n.aiParams)?t:{};e.setAttributes({input:{prompt:c,model:d,stylePreset:u,aspectRatio:p,artStylePreset:h,artStylePrompt:g}});let m=(0,sW.z)();s.commands.updateNestedAttributesAtPos((0,lb.Z)(l(),"getPos returned undefined"),(0,lm.wH)(r,{uploadStatus:null,loadImageStatus:"queued",loadImageId:m}));let x=await (0,lu.cu)({context:{docId:a,workspaceId:o,interactionId:e.id,traceparent:e.traceparent,imageStore:new lp.t,theme:(0,ed.SJ)(i),cardDimensions:(0,ar.i4)(s.state.doc,"cardDimensions")},imageAttrs:n,loadImageId:m}),f=(0,lb.Z)(l(),"getPos returned undefined"),b=(0,lb.Z)(s.state.doc.nodeAt(f),"editor found no node at position ".concat(f));s.commands.updateAttributesAtPos(f,(0,lm.wH)(b,x)),e.complete({result:{savedMediaId:x.savedMediaId}})}catch(t){e.error(t)}E(!1)},[s.commands,s.state.doc,l,L,f,j,r,k]),M=x||!c&&!u,_=null==(n=o.loadImageParams)||null==(t=n.options)?void 0:t.model,D=_?(0,lh.pE)(_).estimatedTimeSeconds:void 0,R=(0,t9.u)("imageCardsDebug"),T=(0,I.useMemo)(()=>[{label:e5.Ru._({id:"C8CnDZ"}),key:"add-positioned-text",onClick:()=>{s.commands.insertPositionedParagraph({position:{percentX:30,percentY:40},size:{percentWidth:10,percentHeight:5}})}}],[s]),{onOpenContextMenu:z}=(0,lx.$)({editor:s,contextMenuItems:T,getPos:l});return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(aJ.o,{className:"image-card",position:"relative",w:"100%",h:"100%",onClick:w,onDoubleClick:A,"data-selection-ring":!0,"data-selection-background":!0,"data-drag-handle":!0,onMouseDown:ny.Fw,onContextMenu:C?z:void 0,borderRadius:"var(--card-border-radius)",bg:"black",overflow:"hidden",zIndex:0,children:[M?"error"===o.loadImageStatus?(0,p.jsx)(ly,{onRetry:f?S:void 0}):(0,p.jsx)(lv.Pf,{w:"100%",minH:"var(--card-min-height)",isLoading:"queued"===o.loadImageStatus,loadingProvider:null==(i=o.loadImageParams)?void 0:i.provider,promptPreview:R?null==(a=o.loadImageParams)?void 0:a.query:void 0,estimatedTimeSeconds:s.isThumbnail?void 0:D}):(0,p.jsx)(nT.Me,{src:c||u||"",alt:"",h:y?"100vh":void 0,objectFit:"contain",resizeParams:s.isThumbnail?nT.p7:{width:2e3}}),b&&f&&(0,p.jsx)(lv.Td,{}),m===eH.A.Error&&(0,p.jsx)(lv.Hy,{})]}),C&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(aJ.o,{children:(0,p.jsx)(h.a,{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1,children:(0,p.jsx)(d.$p,{style:{position:"relative",width:"100%",height:"100%"}})})})})]})},lA=l.bP.create({name:"cardImageItem",atom:!1,content:"(paragraph | heading | title)*",selectable:!1,draggable:!1,isolating:!0,allowGapCursor:!1,imageKeyPath:"image",accessoryImageKey:"image",addNodeView:()=>(0,d.gu)(lw,{update:u.z0}),parseHTML:()=>[{tag:"img[class=image-card][".concat(lo.A0,"]"),getAttrs:e=>({image:(0,lc.K)(e)}),priority:1e3},{tag:"img[class=image-card]"}],addAttributes:()=>({id:(0,sO.e)(sW.z),image:{...(0,Y.tb)("image"),default:{}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,l.KV)(t,{class:"image-card"})]},renderHTMLforAI(e){let{node:t}=e,{image:n}=t.attrs;return["img",{class:"image-card",prompt:n.query}]}}),lk=e=>{let t=e.type;if("color"===t){var n;return{type:"color",color:null==(n=e.color)?void 0:n.hex}}return"image"===t&&e.image?{type:"image",src:e.image.src||"",source:e.image.source,alt:(0,G.ve)(e.image)}:{type:t}};var lL=n(97481),lj=n.n(lL),lE=n(49249),lS=n(15587),lM=n(831),lI=n.n(lM),l_=n(55786);let lD=(0,I.memo)(e=>{let{editor:t,onClose:n,handleAddCard:i,recentlyUsedTemplates:a}=e,r=(0,eQ.d)(),s=(0,aW.wz)("modal"),l=(0,I.useCallback)(e=>{r({status:"success",title:e5.Ru._({id:"WJGAWS"}),duration:1300,isClosable:!1,position:"top"}),n(),i(e,"modal")},[n,i,r]),o=a.filter(e=>!(0,aW.l2)(t,e)).slice(0,10);return(0,p.jsx)(eg.L8,{isDark:!1,children:(0,p.jsxs)(ex.aF,{isOpen:!0,onClose:n,size:{base:"5xl","2xl":"6xl"},children:[(0,p.jsx)(ef.m,{}),(0,p.jsxs)(eb.$,{children:[(0,p.jsx)(eA.s,{}),(0,p.jsx)(eC.r,{children:(0,p.jsx)(em.x6,{id:"HNcS3K"})}),(0,p.jsx)(ek.c,{pb:6,children:(0,p.jsxs)(ey.B,{spacing:6,children:[!!o.length&&(0,p.jsxs)(ey.B,{children:[(0,p.jsxs)(E.E,{color:"gray.600",children:[(0,p.jsx)(M.g,{icon:e2.a$,fixedWidth:!0})," ",(0,p.jsx)(em.x6,{id:"uabU9X"})]}),(0,p.jsx)(aV.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(rm.lg," + 0.4em), 1fr))"),gap:3,children:o.map(e=>{let{jsonContent:t,id:n,name:i}=e;return(0,p.jsx)(r6,{isDark:!1,isSelected:!1,tooltip:i(),label:i(),onClick:()=>l(n),w:"auto",templateIcon:(0,p.jsx)(rf,{templateContent:t,isDark:!1,borderRadius:"base",size:"lg"})},n)})})]}),s.map(e=>{let{subcategory:n,items:i}=e;return(0,p.jsxs)(ey.B,{children:[(0,p.jsx)(E.E,{color:"gray.600",children:n}),(0,p.jsx)(aV.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(rm.lg," + 0.4em), 1fr))"),gap:3,children:i.filter(e=>!(0,aW.l2)(t,e)).map(e=>{let{id:t,name:n,jsonContent:i}=e,r=!!a.find(e=>{let{id:n}=e;return n===t});return(0,p.jsx)(r6,{isDark:!1,isSelected:!1,tooltip:"".concat(n()," ").concat(r?e5.Ru._({id:"uabU9X"}):""),label:n(),onClick:()=>l(t),w:"auto",templateIcon:(0,p.jsx)(rf,{templateContent:i,isDark:!1,borderRadius:"base",size:"lg"}),boxShadow:"none"},t)})})]},n)})]})})]})]})})});var lR=n(59018),lT=n.n(lR);n(2623);let lz=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return lT()([e,...t]).slice(0,n)},lH=(0,I.memo)(e=>{let{setCardContent:t,editor:n,isFocused:i,edgeLayoutsDisabled:a,isNested:r,isCardDark:s}=e,{isInOfflineMode:l}=(0,n9.u)(),{isOpen:o,onClose:c,onOpen:d}=(0,t4.E)({id:"cardTemplatesModal"}),u=(0,rY.rd)(),h=s||u,[g,m]=(0,i$.M)(iY.E.recentlyUsedCardTemplateIds,[]),x=(0,I.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"placeholder";t(e),"aiCardAfter"!==e&&m(lz(e,g));let i="placeholder"===n?at.oU.CARD_TEMPLATE_PLACEHOLDER:at.oU.CARD_TEMPLATE_MODAL;(0,l_.J)({nodeName:"card",key:e},i)},[t,g,m]),[f,b]=(0,I.useMemo)(()=>{let e=g.map(e=>(0,aW.iT)()[e]).filter(e=>!!e),t=(0,aW.wz)("placeholder").flatMap(e=>{let{items:t}=e;return t});return[lI()([...e,...t],"id").filter(e=>!!e).filter(e=>!(0,aW.l2)(n,e,e=>{var t;let{jsonContent:n}=e;return a&&(0,ei.sP)(null==(t=n.attrs)?void 0:t.layout)})),e]},[a,n,g]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eg.L8,{isDark:h,children:(0,p.jsx)(rT.S,{in:i||o,onAnimationComplete:()=>{var e,t;null==(e=(t=n.commands).refreshBubbleMenu)||e.call(t)},children:(0,p.jsxs)(ey.B,{overflow:"hidden",mx:16,mb:12,contentEditable:!1,onMouseDown:ny.Fw,cursor:"default",fontFamily:"body",color:"var(--body-color-muted)",children:[(0,p.jsx)(E.E,{fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(em.x6,{id:"3h21H3"})}),(0,p.jsxs)(aV.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(rm.md," + var(--chakra-space-1-5)), 1fr))"),fontSize:"1rem",gap:2,children:[f.slice(0,r?2:4).map(e=>{let{id:t,jsonContent:n,name:i}=e;return(0,p.jsx)(r6,{tooltip:i(),isDark:h,templateIcon:(0,p.jsx)(rf,{templateContent:n,isDark:h,borderRadius:"base",maxH:"5em",overflow:"hidden"}),isSelected:!1,onClick:()=>x(t),w:"auto",minW:"auto",fontSize:"1em"},t)}),(0,p.jsx)(r6,{tooltip:e5.Ru._({id:"bHT6mZ"}),label:(0,p.jsx)(em.x6,{id:"iTylMl"}),isDark:h,templateIcon:(0,p.jsx)(M.g,{icon:eI.Qyz,fixedWidth:!0}),isSelected:!1,onClick:d,fontSize:"1em"}),!l&&(0,p.jsx)(r6,{isDark:h,templateIcon:(0,p.jsx)(M.g,{icon:eI.p7g,fixedWidth:!0}),label:(0,p.jsx)(em.x6,{id:"ziAjHi"}),tooltip:e5.Ru._({id:"tkZYgO"}),isSelected:!1,onClick:()=>{x("aiCardAfter")},fontSize:"1em"})]})]})})}),o&&(0,p.jsx)(lD,{editor:n,onClose:c,handleAddCard:x,recentlyUsedTemplates:b})]})});lH.displayName="ChooseCardTemplatePlaceholder";let lN=e=>{let{isNested:t,isMobileDevice:n,cardMarginSettings:i,cardAttrs:a}=e,r=(0,K.GV)(ed.Jq),{areElementsCurrentlyHiddenBySettings:s}=eK(a);return n||t||eN(i)||"webpage"===r||s},lB=(e,t)=>{let n=eW("top",e)?"top":"bottom",i=t["".concat(n,"Center")],a=t["".concat(n,"Left")],r=t["".concat(n,"Right")],s=eW("center",e);return!!i&&(!i||!!a||!!r||s)},lP=e=>{var t;let{element:n,position:i,cardId:a,shouldStretch:r,isWidthConstrained:s,containerHeight:l}=e,o=(0,K.GV)(ed.uF),{flex:c,text:d}=eO(i),u=(null==n?void 0:n.type)==="image"||(null==n?void 0:n.type)==="themeLogo",h=(null==n?void 0:n.type)==="text"||(null==n?void 0:n.type)==="cardNumbers",{logoSrc:g,logoImage:m}=tW(),x=(null==n?void 0:n.type)==="image"?null==(t=n.imageAttrs)?void 0:t.meta:null==m?void 0:m.meta,f=(null==n?void 0:n.type)==="image"?eV(n):g,b=f&&(0,nT.Ub)(f,nT.p7,x)||f,C=(0,I.useMemo)(()=>a&&(null==n?void 0:n.type)==="cardNumbers"?eU(o.indexOf(a),n.startIndex,n.startNumber):"",[n,a,o]),y=null==x?void 0:x.aspect_ratio,v=(0,I.useMemo)(()=>su(n,y),[n,y]),w=(0,K.GV)(ed.SJ),A=null==w?void 0:w.config.roundness,k=(0,I.useMemo)(()=>sh(l,n,A,y,c),[n,A,l,y,c]);return!n&&eW("center",i)?null:(0,p.jsxs)(e6.s,{alignItems:"center",justifyContent:c,flex:r?1:void 0,flexShrink:u?0:void 0,flexBasis:u&&s?"calc(50% - ".concat(.25,"em)"):void 0,children:[h&&(0,p.jsxs)(E.E,{fontSize:"calc(".concat(.7,"em / var(--media-scale))"),ps:"calc(".concat(k.start,"em / var(--media-scale))"),pe:"calc(".concat(k.end,"em / var(--media-scale))"),opacity:.65,noOfLines:1,fontFamily:"var(--body-font)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",textAlign:d,children:["cardNumbers"===n.type&&C,"text"===n.type&&n.content]}),u&&b&&(0,p.jsx)(tL._,{src:b,h:"calc(".concat(v,"em / var(--media-scale))"),ps:"calc(".concat(k.start,"em / var(--media-scale))"),pe:"calc(".concat(k.end,"em / var(--media-scale))"),objectFit:"contain"})]})},lF=(e,t,n,i)=>{let a=eW("top",e);if("top"===t&&a)return null;if(!eW("center",e)||"left"!==t&&"right"!==t)return e;let r=a?"top":"bottom",s="left"===t?"".concat(r,"Left"):"".concat(r,"Right"),l="left"===t?"".concat(r,"Right"):"".concat(r,"Left");return eF(n[s],i)||eF(n[l],i)?eF(n[s],i)?s:eF(n[l],i)?l:e:null},lV=(e,t,n)=>Object.entries(e).reduce((i,a)=>{let[r,s]=a;if(eF(s,n))return i;let l=lF(r,t,e,n);return l?{...i,[l]:s}:i},{}),lO=(e,t,n,i)=>{if("left"!==n&&"right"!==n)return!1;let a=t["".concat(e,"Left")],r=t["".concat(e,"Center")],s=t["".concat(e,"Right")],l=!eF(a,i)&&((null==a?void 0:a.type)==="image"||(null==a?void 0:a.type)==="themeLogo"),o=!eF(s,i)&&((null==s?void 0:s.type)==="image"||(null==s?void 0:s.type)==="themeLogo");return l&&!r&&o},lZ=e=>{let{cardNode:t,isNested:n,isMobileDevice:i,displayLayout:a}=e,r=null==t?void 0:t.attrs,{cardMarginSettings:s}=(0,K.GV)(ed.Uu),{hideFromFirst:l,hideFromLast:o,...c}=s,d=lN({isNested:n,cardMarginSettings:s,isMobileDevice:i,cardAttrs:r}),{logoSrc:u}=tW(),g=lV(c,a,u),m=lO("top",g,a,u),x=lO("bottom",g,a,u),f=(0,K.GV)(ed.SJ),b=null==f?void 0:f.config.roundness,C=sm(s,b),y=(0,I.useMemo)(()=>sg(s),[s]),v=(0,I.useMemo)(()=>sp(b,y),[b,y]);return d?null:(0,p.jsxs)(h.a,{dir:"ltr",css:{"--margin-padding":"calc(".concat(v,"em / var(--media-scale))")},children:[(0,p.jsx)(j.z,{"data-card-margin-elements":"top",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(C,"em / var(--media-scale))"),p:"var(--margin-padding)",top:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(lP,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:lB(e,g),isWidthConstrained:m,containerHeight:y},e))}),(0,p.jsx)(j.z,{"data-card-margin-elements":"bottom",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(C,"em / var(--media-scale))"),p:"var(--margin-padding)",bottom:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(lP,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:lB(e,g),isWidthConstrained:x,containerHeight:y},e))})]})};var lW=n(54604),lU=n(94289),lG=n(65280),lK=n(89884),lQ=n(72725),lq=n(54348),lJ=n.n(lq),l$=n(98308),lY=n(53885),lX=n(83143),l0=n(28700),l1=n(45943),l2=n(53615),l3=n(98807),l5=n(50535);let l4=l.YY.create({name:"clipboard",addProseMirrorPlugins(){let e=this.editor,t=e.state.schema,n=null;return[new W.k_({key:new W.hs("clipboard"),appendTransaction(e,t,n){let i=e.find(e=>"cut"===e.getMeta("uiEvent"));if(!i)return null;let a=(0,s3.i)(i);return a?n.tr.setSelection(a):null},props:{handleDOMEvents:{drop(e){n=e.dragging,requestAnimationFrame(()=>{n=null})}},clipboardSerializer:{serializeFragment:e=>(0,l5.t8)(e,this.editor.schema)},transformPastedHTML:l$.V,transformPasted:i=>{let a=(null==n?void 0:n.slice)?i:(0,l3.ne)(i,t);return l9(e,a)},handlePaste:(t,n,i)=>(0,l1.Mu)(e,n,i)||(0,l2.D1)(e,n)||(0,l0.j)(t,n,i)}})]},addCommands(){return{insertMarkdownAt:(e,t)=>n=>{let{state:i,tr:a}=n;try{let n=(0,l2.os)(t,i.schema);return a.replaceRange(e.from,e.to,n),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}},basicCut:e=>{let{from:t,to:n}=e;return e=>{let{state:i,tr:a}=e;return l6(i.doc.slice(t,n).content,this.editor,!0),a.deleteRange(t,n),!0}},copy:e=>{let{from:t,to:n}=e;return e=>{let{state:i}=e;return l6(i.doc.slice(t,n).content,this.editor,!1),!0}}}}}),l6=(e,t,n)=>{var i,a,r,s;let l=(0,l5.$R)(e,t.schema),o=e.firstChild;if(1===e.childCount&&!n){let e,t=(null==o?void 0:o.type.name)==="image",n=(null==o?void 0:o.type.name)==="cardAccentLayoutItem"&&(null==o||null==(r=o.attrs)||null==(a=r.background)?void 0:a.image),i=(null==o?void 0:o.type.name)==="smartLayoutCell"&&(null==o||null==(s=o.attrs)?void 0:s.image);t?e=o.attrs.src:n?e=null==o?void 0:o.attrs.background.image.src:i&&(e=null==o?void 0:o.attrs.image.src),e&&(0,lX.qp)(e).catch(e=>{console.warn("Image clipboard copy failed, falling back to HTML:",e)})}null==(i=document.getSelection())||i.removeAllRanges(),lJ()(l,{format:"text/html"});let c=lY.q.getState(t.state);return c&&!n&&c.clearCutData(),l},l9=(e,t)=>{var n;let i=(0,er.e)(e.state.doc),a=null==(n=t.toJSON())?void 0:n.content;if(!a||"document"!==a[0].type)return t;let r=(0,er.e)(t.content.firstChild);return i.cardLayoutsEnabled&&!r.cardLayoutsEnabled?((0,Y.Sn)(a,e=>{"card"===e.type&&(e.content=[{type:"cardLayoutItem",content:e.content}])}),lU.Ji.fromJSON(e.schema,{openStart:t.openStart+1,openEnd:t.openEnd+1,content:a})):t};var l7=n(18232),l8=n(98071),oe=n(95465);let ot=e=>{let{editor:t,cardNode:n,cardPos:i,cardId:a,displayLayout:r,hasCardNotesNode:s}=e,l=(0,eQ.d)(),{isInOfflineMode:o}=(0,n9.u)(),c=(0,lG.T)(),d=(0,t9.u)("copyCardsToDeck"),u=(0,K.GV)(ed.nD),h=(0,oe.K)(),{isOpen:g,onOpen:m,onClose:x}=(0,t4.E)({id:"downloadCardAsImageDisclosure"}),f=a===(0,K.GV)(ed.uF)[0],b=(0,l7._)(t,i),C=(0,I.useCallback)(()=>{if(!t||!n)return;let e=t.state.doc.nodeAt(i),a=e&&(0,Z.getCardTitle)(e.toJSON());t.chain().deleteCard(i).focus().run();let r=e5.Ru._({id:"0MWv65",values:{displayTitle:a?'"'.concat(a,'"'):"card"}}),s=e5.Ru._({id:"9uI/rE"}),o=l({title:(0,p.jsxs)(j.z,{children:[(0,p.jsx)(E.E,{noOfLines:1,children:r}),(0,p.jsx)(nm.N,{textDecoration:"underline",onClick:()=>{(0,e3.tN)(t.state),l.close(o)},children:s})]}),status:"info",duration:3e3,position:"top"})},[t,n,i,l]),y=(0,I.useCallback)(()=>{t&&n&&l6(lU.FK.from([n]),t,!1)},[t,n]),v=(0,I.useCallback)(()=>{t&&void 0!==i&&t.chain().mergeCardsAtPos(i).focus().run()},[t,i]),w=(0,I.useCallback)(()=>{if(!t||!n)return;let e=n.attrs,a={background:{type:q.h.NONE,source:void 0},cardSize:void 0,verticalAlign:void 0,container:{...e.container,width:void 0,background:void 0},layout:"blank"};(0,nb.e)(t,i,a)},[t,n,i]),{setCardColor:A,currentColor:k,themeCardColor:L}=nP({editor:t,attrs:null==n?void 0:n.attrs,getPos:()=>i}),S=(0,I.useCallback)(()=>{if(!t||!a||!n)return;u&&!s&&(0,si.ni)(t,i);let e=(0,sn.Ix)((0,K.KA)().getState());st.emit("toggle",{clickedCardId:a,activeNotesCardId:e})},[t,a,n,i,s,u]),{onCopyLinkClick:_}=(0,lK.L)({cardId:null==n?void 0:n.attrs.id}),D=(0,I.useCallback)(()=>{t&&a&&_()},[t,a,_]);return(0,I.useMemo)(()=>!t||t.isThumbnail?{contextMenuItems:[],exportCardModal:null}:{contextMenuItems:[{key:"card-options",title:(0,p.jsx)(em.x6,{id:"kryGs+"})},{divider:!0},{key:"copy-card",label:(0,p.jsx)(em.x6,{id:"Bq0HJ4"}),icon:e2.jPR,onClick:y},...d?[{key:"copy-card-to-deck",label:(0,p.jsx)(em.x6,{id:"IAsTWw"}),icon:(0,p.jsx)(M.g,{icon:e2.Rvk,flip:"horizontal"}),onClick:()=>n&&c([n])}]:[],...f?[]:[{key:"merge-card-with-above",label:(0,p.jsx)(em.x6,{id:"lxx9kE"}),icon:e2.INu,onClick:v}],{divider:!0},{key:"change-card-color",label:(0,p.jsx)(em.x6,{id:"D/jD8b"}),icon:e2.fyG,items:[{key:"color-picker",element:e=>(0,p.jsx)(nB.b,{currentColor:null!=k?k:L,setColor:t=>{A(t),null==e||e()},source:"CardColor"})}]},{key:"reset-styling",label:(0,p.jsx)(em.x6,{id:"6hU6uw"}),icon:e2.ub2,onClick:w},{divider:!0},{key:"card-notes",label:(0,p.jsx)(em.x6,{id:"PFP9+0"}),icon:e2.bLf,onClick:S},{key:"copy-private-link",label:h?(0,p.jsx)(em.x6,{id:"F0YmUY"}):(0,p.jsx)(em.x6,{id:"j7DOt7"}),icon:e2.CQO,onClick:D},{key:"export-card",label:(0,p.jsx)(em.x6,{id:"xRJ+bN"}),icon:e2.a_I,onClick:m,disabled:o},{divider:!0},{key:"layout",label:e5.Ru._({id:"rdU729"}),icon:e2.swh,items:nG.bI.map(e=>({key:e,label:(0,l8.Nu)(e),checked:r===e,icon:(0,p.jsx)(nG.Ed,{layout:e,isSelected:r===e}),onClick:()=>b(e)}))},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e2.yLS,onClick:C,color:"red.500"}],exportCardModal:a?(0,p.jsx)(lQ.D,{onOpen:m,isOpen:g,onClose:x,cardId:a,editor:t}):null},[t,y,d,f,v,w,S,h,D,C,n,c,k,L,A,r,b,m,g,x,a,o])};var on=n(27246);let oi=(e,t,n)=>{if(n)return{};if("behind"===e||"blank"===e)return{borderRadius:"var(--card-border-radius)"};if("left"===e)return"accent"===t?{borderLeftRadius:"var(--card-border-radius)"}:"body"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("right"===e)return"body"===t?{borderLeftRadius:"var(--card-border-radius)"}:"accent"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("top"===e||"mobileLeft"===e)return"body"===t?{borderBottomRadius:"var(--card-border-radius)"}:"accent"===t?{borderTopRadius:"var(--card-border-radius)"}:{};if("mobileRight"===e){if("accent"===t)return{borderBottomRadius:"var(--card-border-radius)"};if("body"===t)return{borderTopRadius:"var(--card-border-radius)"}}return{}},oa=e=>{var t;let n,{node:i,getPos:a,decorations:r,editor:s}=e,o=i.attrs,c=(0,te.fW)(),u=(0,on.Bn)(r);try{let e=a();"number"==typeof e&&(n=(0,l.eL)(null==s?void 0:s.state.doc.resolve(e),Q.jg))}catch(e){console.error(e)}let{isNested:h,insideSideLayout:g,displayLayout:m,hasCardNotesNode:x,isCardDark:f}=(0,el.tg)(r),b=(null==u?void 0:u.layout)==="blank",C=oi(u.layout,o.itemId,"full"===u.cardSize),y={flexDirection:"column",justifyContent:o.verticalAlign||"var(--card-vertical-align)"},v=(0,ei.lH)(null==u?void 0:u.layout),w=v&&!v.items[o.itemId],[A]=(0,lW.E)(u.cardId),k=(0,lS.v)(r),L=(0,K.GV)(ed.nD),j=(0,ns.DM)(r),E=(0,I.useCallback)(e=>{if(!n)return;let t=(0,aT.GO)()[e]||(0,aT.GO)().blankCard,{layoutTemplateColumns:i,...a}=n.node.attrs;t.attrs={...a,...t.attrs};let r=n.pos,l=n.pos+n.node.nodeSize;s.chain().insertContentAt({from:r,to:l},t,{updateSelection:!1}).selectInsertedNode().run()},[s,n]),{contextMenuItems:S,exportCardModal:M}=ot({editor:s,cardNode:null==n?void 0:n.node,cardPos:null!=(t=null==n?void 0:n.pos)?t:0,cardId:null==n?void 0:n.node.attrs.id,displayLayout:m,hasCardNotesNode:x}),{onOpenContextMenu:_}=(0,lx.$)({editor:s,contextMenuItems:S,getPos:a}),D=(0,ec.FX)();return(0,p.jsxs)(d.VR,{dir:c?"rtl":"ltr",as:"div",style:{...w?{display:"none"}:{}},children:[(0,p.jsxs)(e6.s,{"data-content-reference":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",position:"relative","data-selection-ring":!0,"data-selection-background":!0,..."presentCurrent"!==A&&C,...y,children:[(0,p.jsx)(d.$p,{as:"div",style:{width:"100%"},onContextMenu:e=>{e.target===e.currentTarget&&_(e)}}),L&&k&&b&&(0,p.jsx)(lH,{isFocused:j,editor:s,setCardContent:E,edgeLayoutsDisabled:g,isNested:h,isCardDark:!!f}),(0,p.jsx)(lZ,{cardNode:null==n?void 0:n.node,displayLayout:m,isNested:h,isMobileDevice:D})]}),M]})},or=e=>{var t;let{hasImage:n,onEditImage:i,image:a,editor:r,isLoading:s,openEditBackgroundDrawer:l,borderProps:o,accentLayout:c,...d}=e,u=!!i;return n?null:(0,p.jsx)(e6.s,{align:"center",justify:"center",pos:"absolute",inset:0,role:"group",cursor:"default","data-layout-cut":"mobileLeft"===c?"top":c,...n?{}:{bgColor:"gray.200"},...d,children:!r.isThumbnail&&(0,p.jsx)(e6.s,{pos:"absolute",inset:0,justify:"center",align:"center",cursor:u?"default":void 0,onClick:i,children:(0,p.jsx)(h.a,{color:"gray.400",h:"100%",w:"100%",children:(0,p.jsx)(lv.Pf,{icon:n4.Fn[n5.j].icon,isUploading:!1,isLoading:s,loadingProvider:null==a||null==(t=a.loadImageParams)?void 0:t.provider,onSelectAndFocus:i,hasUploadError:!1,isAccentImageDrawer:!0,openEditBackgroundDrawer:l,h:"100%",w:"100%",hasQuickActions:"behind"!==c,...o})})})})};var os=n(81880);let ol=e=>{let{background:t,rounded:n,resizeParams:i,cutLayout:a,isDark:r,colors:s}=e,l=(0,J.FD)(t,r,i,s);return(0,p.jsx)(h.a,{position:"absolute",inset:"0",overflow:"hidden",borderRadius:n?"var(--box-border-radius)":"inherit","data-layout-cut":a,...l})},oo=e=>{var t,n;let{background:i,rounded:a,cutLayout:r}=e,s=i.image&&!(0,nT.SV)(i.image.src)&&!(null==(t=i.image.meta)?void 0:t.has_transparency),l=s?(0,J.FD)(i,!1,{width:400,blur:50,format:"jpg"}):void 0;return(0,p.jsx)(h.a,{position:"absolute",inset:"0","data-image-fit-bg":!0,overflow:"hidden",...l,borderRadius:a?"var(--box-border-radius)":"inherit",marginY:a?"1em":void 0,bgPosition:"center","data-layout-cut":r,children:s&&!(0,nT.md)((null==(n=i.image)?void 0:n.src)||void 0)&&(0,p.jsx)(h.a,{backdropFilter:"blur(6em)",inset:0,position:"absolute",borderRadius:"inherit","data-selection-ring":"inside"})})},oc=e=>{let{image:t,resizeParams:n,cutLayout:i,colors:a}=e,{tempUrl:r,meta:s}=t,l=t.src?(0,nT.pO)(t.src,a):void 0,o=l&&(0,os.D)(t)&&n?(0,nT.Ub)(l,n,s):l;return(0,p.jsx)(nT.Me,{src:o||void 0,fallbackSrc:r||void 0,borderRadius:"var(--box-border-radius)",pos:"relative",flex:"0 1 auto",minH:0,minW:0,width:"auto",maxW:"100%","data-layout-cut-fg":i,className:"reset-max-width-with-margins"})};var od=n(84130),ou=n(35292),op=n(94844),oh=n(5380),og=n(70015);let om=e=>{var t;let n,{editor:i,node:a,decorations:r,getPos:s}=e,o=a.attrs,c=(0,on.Bn)(r),d=(0,l8.jh)(o,null==c?void 0:c.layout),{changeFocalPoint:u,startRemoveBg:h,isRemovingBg:g}=(0,oh.c)({editor:i,getPos:s,backgroundRemovalId:null==c?void 0:c.cardId});try{let e=s();"number"==typeof e&&(n=(0,l.eL)(i.state.doc.resolve(e),s5.jg))}catch(e){console.error(e)}let m=o.background.type===q.h.IMAGE,{displayLayout:x}=(0,el.tg)(r),f=(0,l7._)(i,null==n?void 0:n.pos),b=(0,ou.l)(o.background.image),C=(0,t9.u)("buddyEditGa"),{toggleBuddyChatPanel:y,isBuddyChatPanelOpen:v}=(0,op.n)(),{toggleBuddyChatPanel:w,isBuddyChatPanelOpen:A}=(0,aA.Cy)(),k=(0,og.d)({editor:i,getPos:s,node:a,includeCut:!1,imageSrc:null==(t=o.background.image)?void 0:t.src});return{contextMenuItems:[...m?[...k,{divider:!0},{key:"edit-image",label:m?e5.Ru._({id:"9IrgTy"}):e5.Ru._({id:"pVb3uA"}),icon:e2.MT7,onClick:()=>{let e=null==n?void 0:n.node.attrs.id;e&&nj.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})}},...b?[{key:"ask-ai",label:(0,p.jsx)(em.x6,{id:"DDxKHn",values:{AGENT_PROPER_NOUN:e8.qV}}),icon:eI.p7g,onClick:()=>{C?A||w():(v||y(),setTimeout(()=>{od.W.emit("prefillMessage",{message:""})},200))}}]:[],{key:"remove-background",label:g?e5.Ru._({id:"RdqLb7"}):e5.Ru._({id:"ylbfBl"}),icon:g?e2.z1G:e2.sAw,rightIcon:g?void 0:(0,p.jsx)(i2.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:g,onClick:h},{key:"fit-image",label:"fit"===d?e5.Ru._({id:"2Ivw1n"}):e5.Ru._({id:"VPxUGR"}),icon:e2.GZ1,onClick:()=>{let e=s();"number"==typeof e&&i.commands.updateAttributesAtPos(e,{fitType:"fit"===d?"fill":"fit"})}},{key:"change-focus-point",label:e5.Ru._({id:"BmxaoW"}),icon:e2.xD0,onClick:()=>{let e=s();if("number"!=typeof e)return;let t=(0,lm.um)(a);u((0,lm.Df)(i,a,e,t))},disabled:"fit"===d},{divider:!0}]:[],{key:"layout",label:e5.Ru._({id:"vR68Ol"}),icon:e2.swh,items:nG.bI.map(e=>({key:e,label:(0,l8.Nu)(e),icon:(0,p.jsx)(nG.Ed,{layout:e,isSelected:x===e}),onClick:()=>f(e)}))},{divider:!0},{key:"remove-accent-image",label:m?e5.Ru._({id:"sGYCGx"}):e5.Ru._({id:"6vLq+T"}),icon:m?e2.K3F:e2.yLS,onClick:()=>{let e=s();"number"==typeof e&&(0,l8.kB)(i,e,m)},color:"red.500"}]}},ox={width:1200},of=e=>{var t,n,i;let a=(0,K.GV)(ed.SJ),r=(null==(t=a.config)?void 0:t.accentBackgrounds)&&(null==(n=a.config)?void 0:n.accentBackgrounds.length)>0;return e.source||(null==(i=e.image)?void 0:i.source)||r?n5.j:nf.L},ob=e=>{let{editor:t,node:n,getPos:i}=e;(0,I.useEffect)(()=>{"cardLayoutItem"===n.type.name&&"accent"===n.attrs.itemId&&setTimeout(()=>{t.commands.command(e=>{let{tr:a}=e,r=i();return"number"==typeof r&&((0,ei.OH)(a,r,n,t.schema),!0)})})},[t,i,n])},oC=e=>{var t,n,i,a,r;let{node:s,decorations:l,editor:o,getPos:c}=e,u=s.attrs,{background:h}=u;ob(e);let{openBackgroundTab:g,...m}=il(),x=of(h),f=(0,I.useCallback)(e=>{var t,n;let i=c();if("number"!=typeof i)return;o.commands.updateNestedAttributesAtPos(i,e);let a=null==(t=l.find(e=>e.spec&&"cardId"in e.spec))?void 0:t.spec;(0,ih.Vc)({previous_attrs:(null==h?void 0:h.image)||{},new_attrs:(null==(n=e.background)?void 0:n.image)||{},image_type:"accent_background",replacement_method:"card_accent_drawer",doc_id:o.gammaDocId||"",node_id:null==a?void 0:a.cardId})},[o,c,h,l]),b=(0,I.useCallback)(e=>{let t=c();"number"==typeof t&&o.commands.updateNestedAttributesAtPos(t,{background:lj()({},h,{image:{...e,meta:{has_transparency:!0}}})})},[o,c,h]),{contextMenuItems:C}=om({editor:o,node:s,decorations:l,getPos:c}),{onOpenContextMenu:y}=(0,lx.$)({editor:o,contextMenuItems:C,getPos:c}),{defaultFullBleed:v}=(0,K.GV)(ed.Uu),w=(0,on.Bn)(l),{isDark:A,bodyColor:k,primaryColor:L,cardColor:j,primaryColorLight:E}=(0,T.a)(l),S=(0,K.GV)(ed.wC)!==rb.w.SLIDE_VIEW&&(null==w||!w.isNested)&&((null==w?void 0:w.cardSize)==="default"?"full"===v:(null==w?void 0:w.cardSize)==="full"),M=null==w?void 0:w.cardId,_=null==w?void 0:w.layout,D="behind"===_,R=o.isThumbnail?nT.p7:"right"===_||"left"===_||"top"===_||"mobileLeft"===_||"mobileRight"===_?ox:void 0,{bgRemovalInProgress:z}=(0,lE._)({editor:o,id:M,src:null==(t=h.image)?void 0:t.src,updateAttributes:b}),H=(0,l8.jh)(u,_),N=!!(0,ei.lH)(_).items[u.itemId],B=oi(w.layout,u.itemId,"full"===w.cardSize),P="none"===h.type||h.type===q.h.IMAGE&&!h.image||h.type===q.h.IMAGE&&!(null==(n=h.image)?void 0:n.src)&&!(null==(i=h.image)?void 0:i.tempUrl),F="fit"===H&&h.image&&!P,V=(0,nw.j)(o,c),{setBackgroundDrawerSourceKeyAction:O}=(0,nw.B)(),Z=(null==(a=h.image)?void 0:a.loadImageStatus)==="queued",W=(0,K.GV)(ed.nD);(0,I.useEffect)(()=>nj.R.on("toggleEditBackgroundDrawer",e=>{let{openDrawer:t,cardId:n}=e;t&&n===M&&(O(x),g(!1))}),[x,M,g,O]);let U=null==(r=h.image)?void 0:r.uploadStatus,G=(0,ec.FX)(),Q=!S||"fit"===H||G?void 0:"left"===_||"right"===_?{borderRadius:"var(--box-border-radius)",marginY:"1em",height:"auto"}:"top"===_||"behind"===_?{width:"var(--editor-width)",position:"absolute",transform:"translateX(-50%)",left:"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)"}:void 0,J=(0,I.useCallback)(e=>{(!(e.target instanceof Element)||e.target.closest("[data-card-layout]"))&&(V(),O(x),g(!1))},[x,V,g,O]);if(!N)return null;let $="mobileLeft"===_?"top":_;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(d.VR,{as:"div",style:{display:S?"flex":void 0},children:(0,p.jsxs)(e6.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",onContextMenu:m.isOpen?void 0:y,"data-selection-ring":"inside","data-selection-background":!0,"data-card-layout":null==w?void 0:w.layout,"data-testid":"card-accent-layout-item","data-fit-type":H,position:"relative","data-drag-handle":!0,...B,...{flexDirection:"column",justifyContent:"center"},onClick:V,onDoubleClick:J,...Q,bgSize:"fill"===H||D?"cover":"contain",p:"fill"===H||D?0:S?"1.5em":"1.25em",objectFit:"contain",css:{containerType:"size"},align:"center",justify:"center",children:[!F&&(0,p.jsx)(ol,{background:h,rounded:S&&!G,resizeParams:R,cutLayout:$,isDark:A,colors:{bodyColor:k,accentColor:L,accentColorLight:E}}),F&&(0,p.jsx)(oo,{background:h,rounded:S&&!G,cutLayout:$}),F&&(0,p.jsx)(oc,{image:h.image,resizeParams:R,cutLayout:$,colors:{bodyColor:k,accentColor:L,accentColorLight:E}}),D&&(0,p.jsx)(nL.TH,{background:h,cardColor:j}),W&&(0,p.jsx)(io,{editor:o,updateNestedAttributes:f,background:null==u?void 0:u.background,backFrom:M?{source:"accentBackgroundDrawer",id:M}:void 0,enableMask:D,isAccentImageDrawer:!0,...m}),(0,p.jsx)(or,{isLoading:Z,editor:o,hasImage:!P,image:h.image,onEditImage:W?V:void 0,openEditBackgroundDrawer:g,borderProps:B,accentLayout:null==w?void 0:w.layout,...B}),(U==eH.A.Uploading||z)&&W&&(0,p.jsx)(lv.Td,{removeBackground:z,scootRight:z&&("top"===_||"left"===_)}),U==eH.A.Error&&(0,p.jsx)(lv.Hy,{})]})})})},oy=e=>{let{node:t}=e;return"accent"===t.attrs.itemId?(0,p.jsx)(oC,{...e}):(0,p.jsx)(oa,{...e})},ov=l.bP.create({name:"cardAccentLayoutItem",group:"cardLayoutItemGroup",priority:ee.y.CardAccentLayoutItem,selectable:!1,atom:!0,draggable:!0,imageKeyPath:"background.image",addAttributes:()=>({id:(0,sO.e)(sW.z),itemId:{default:"accent"},fitType:{parseHTML:e=>e.getAttribute("fitType")},background:{default:{type:q.h.NONE},...(0,Y.tb)("background")}}),addNodeView:()=>(0,d.gu)(oy,{update:u.z0}),parseHTML:()=>[{tag:"img[class=accent-image][bookmark]",getAttrs:e=>{let t=(0,X.Ll)(e);return!!t&&{background:t}}},{tag:"img[class=accent-image][".concat(lo.A0,"]"),getAttrs:e=>{let t=(0,lc.K)(e);return{background:{type:q.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][src]",getAttrs:e=>{let t=e.getAttribute("src"),n=e.getAttribute("backgroundPos"),i=e.getAttribute("fitType"),a=null;if(n)try{a=JSON.parse(n)}catch(e){console.warn("Failed to parse backgroundPos:",n)}let r=null;if(e.hasAttribute("mask"))try{r=JSON.parse(e.getAttribute("mask")||"{}")}catch(t){console.warn("Failed to parse mask:",e.getAttribute("mask"))}return{fitType:i,background:{type:q.h.IMAGE,image:{src:t||"",source:"image.custom",backgroundPos:a},mask:r}}}},{tag:"img[class=accent-image][placeholder=true]",priority:70},{tag:"img[class=accent-image]"},{tag:"div[class=card-accent-layout-item]",context:"card/"}],renderHTMLforAI(e){let{node:t,disableBookmarks:n,HTMLAttributes:i}=e;if(n){let e=t.attrs.background;return["img",(0,G.S4)(e,i)]}let a=t.attrs.background,r=a?(0,X.vL)({attrs:a}):void 0,{id:s}=t.attrs,l=a?lk(a):{};return["img",{id:s,bookmark:r,class:"accent-image",fitType:i.fitType,...l}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-accent-layout-item"})]}});var ow=n(17275),oA=n(97255),ok=n(56603);let oL=new W.hs("cardLayoutResizing");class oj{getActiveHandleAbs(e){return this.activeHandle?(0,ok.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.side=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?(this.activeHandle=null,this.side=null):(this.activeHandle=(0,ok.JO)(e,t.setHandle.pos),this.side=t.setHandle.side),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(oL);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(){this.activeHandle=null,this.dragging=null}}var oE=n(39078),oS=n(38537);let oM=e=>oL.getState(e.state),oI=(e,t)=>{e.dispatch(e.state.tr.setMeta(oL,{setHandle:t}))},o_=(e,t)=>{e.dispatch(e.state.tr.setMeta(oL,{setDragging:t}))},oD=e=>{e.dispatch(e.state.tr.setMeta(oL,{reset:!0}))},oR=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=oM(e);if(n.dragging)return;let i=function(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n||-1===n.inside)return null;let i=e.domAtPos(n.inside);if(!i)return null;let a=i.node.childNodes[i.offset];if(!a)return null;let r=e.state.doc.resolve(n.inside);if(!r.nodeAfter||!(0,Q.sw)(r.nodeAfter))return null;let s=(0,Y.TK)(r,Q.jg)[0];if(!s)return null;let l=s.node.attrs.layout;if(!(0,ei.lH)(l).allowResizing)return null;let o="top"===l,{left:c,right:d,bottom:u,top:p}=a.getBoundingClientRect();if(t.clientX-c<=5&&!o){let n=e.posAtCoords({left:t.clientX-10,top:t.clientY});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,Q.sw)(i)?"cardLayoutItem"===i.type.name?{pos:n.inside,side:"right"}:{pos:r.pos,side:"left"}:null}if(d-t.clientX<=5&&!o){let n=e.posAtCoords({left:t.clientX+10,top:t.clientY});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,Q.sw)(i)?"cardLayoutItem"===i.type.name?{pos:n.inside,side:"left"}:{pos:r.pos,side:"right"}:null}if(u-t.clientY<=5&&o){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,Q.sw)(i)&&"cardLayoutItem"===i.type.name?{pos:n.inside,side:"top"}:null}if(t.clientY-p<=5&&o){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);if(!i||!(0,Q.sw)(i)||"cardLayoutItem"!==i.type.name)return null;let a=e.state.doc.resolve(n.inside).parent;return a&&"card"===a.type.name&&"top"===a.attrs.layout?{pos:n.inside,side:"top"}:null}return null}(e,t),a=n.getActiveHandleAbs(e.state),r=n.side;null===a&&null===i||i&&i.side===r&&i.pos===a||oI(e,i)},oT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",i=e.domAtPos(t),a=i.node.childNodes[i.offset];return"x"===n?a.offsetWidth:a.offsetHeight},oz=(e,t)=>{let{node:n,offset:i}=e.domAtPos(t.start()),a=n.childNodes[i];do if(a&&a.classList&&a.classList.contains("node-card"))break;while(a=a.parentNode);return a},oH=(e,t,n)=>{let i=(0,ei.lH)(n),a=t.querySelector('[data-node-view-content-inner="card"]');if("top"===n)return oB(e,a,n);let r=e.attrs,s=(null==a?void 0:a.style.gridTemplateColumns)||r.layoutTemplateColumns||i.grid.gridTemplateColumns;if(!s)return null;let l=s.split(" ");if(!l.length)return null;let o=l[0].includes("fr"),c=[];if(o){let e=l.map(e=>+e.replace("fr","")),t=e.reduce((e,t)=>e+t,0);c=e.map(e=>e/t*100)}else c=l.map(e=>+e.replace("%",""));return c},oN={sm:100,md:200,lg:300},oB=(e,t,n)=>{let i=(0,ei.lH)(n),a=e.attrs,r=(null==t?void 0:t.style.gridTemplateRows)||a.layoutTemplateRows||i.grid.gridTemplateRows;if(!r)return null;let s=r.split(" ");if(!s.length)return null;let l=s[0],o=l.includes("var"),c=[];if(o){var d;let e=null==(d=l.split("-").at(-1))?void 0:d.slice(0,-1);e&&e in oN||(e="md"),c=[oN[e],0]}else c=s.map(e=>"auto"===e?0:Number.parseInt(e));return c},oP=l.bP.create({name:"cardLayoutItem",group:"cardLayoutItemGroup",content:"(block | cardBlock)+",selectable:!1,draggable:!1,isolating:!0,containerHandle:!0,priority:ee.y.CardLayoutItem,addAttributes:()=>({itemId:{default:"body"}}),addNodeView:()=>(0,d.gu)(oy,{update:u.z0}),addCommands:()=>({handleCardAccentDelete:()=>e=>{let{state:t,commands:n}=e;if(!(0,l.BQ)(t.selection))return!1;let{node:i}=t.selection;if(!(0,ei.wL)(i))return!1;let a=(0,l.KP)(Q.jg)(t.selection);return!!a&&n.setCardLayout(a.pos,"blank")},selectInsideCardBody:(e,t)=>n=>{let{state:i,tr:a,commands:r}=n,s=i.doc.nodeAt(e);if(!s||!(0,Q.jg)(s))return!1;let l=(0,ei.dg)(a,e);if(0===Object.entries(l).length)return r.selectInsideNodeAtPos(e,t);let o=l.body;return!!o&&r.selectInsideNodeAtPos(o.pos,t)},setCardLayout:(e,t,n)=>i=>{let{tr:a,editor:r}=i;return(0,ow.c)(r,a,e,t,n)},removeCardLayout:e=>t=>{let{tr:n,editor:i}=t,a=(0,Q.W0)(i,e);return!!a&&(0,ow.c)(i,n,a.pos,"blank")}}),parseHTML:()=>[{tag:"div[class=card-layout-item]"},{tag:"div[class=body]",context:"card/"}],addProseMirrorPlugins(){return[(0,on.OX)(this.editor),new W.k_({key:oL,state:{init:()=>new oj,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==oL.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>(oR(e,t),!1),mouseleave(e){let t=oM(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||oI(e,null),!1},mousedown:(e,t)=>(!function(e,t){if(!e.editable)return;let n=oM(e),i=n.getActiveHandleAbs(e.state);if(null===i||n.dragging)return;let a=e.state.doc.resolve(i),r=a.node(),s=oz(e,a),l=s.querySelector('[data-node-view-content-inner="card"]');if(!l)return;let o=n.side,c=o&&["top","bottom"].includes(o)?"y":"x",d="x"===c?l.offsetWidth:l.offsetHeight,u=oT(e,i),p=oH(r,s,r.attrs.layout);if(!p)return;o_(e,{startX:t.clientX,startY:t.clientY,dragDirection:o&&["top","bottom"].includes(o)?"y":"x",startSize:u,colWidths:p,totalSize:d,colIndex:0});let h=null;function g(){window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",m);let t=oM(e);if(t.dragging){if(null===h)return void o_(e,null);if(t.dragging)try{(function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",a=e.state.doc.resolve(t).before(),r=n.join(" "),s=e.state.tr.setNodeAttribute(a,"x"===i?"layoutTemplateColumns":"layoutTemplateRows",r);e.dispatch(s),function(e,t){let n=e.state.doc.resolve(t),i=oz(e,n).querySelector('[data-node-view-content-inner="card"]');i&&(i.style.gridTemplateColumns="",i.style.gridTemplateRows="")}(e,t)})(e,t.getActiveHandleAbs(e.state),h,t.dragging.dragDirection),o_(e,null)}catch(t){oD(e)}h=null}}function m(t){if(!t.which)return g();let n=oM(e),i=n.getActiveHandleAbs(e.state);if(!n.dragging||null===i)return;let{colWidths:a}=n.dragging,r=a[0],l={left:[10,25,37.5,50,62.5],right:[37.5,50,62.5,75,90],top:Object.values(oN)}[null!=o?o:"left"];if("top"===o){let e=r+(t.clientY-n.dragging.startY),i=l.findIndex((t,n,i)=>n===i.length-1||e<=(i[n+1]+t)/2),a=Object.keys(oN)[i];h=["var(--top-accent-height-".concat(a,")"),"auto"]}else{let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{totalSize:i}=e,a="x"===e.dragDirection?t.clientX-e.startX:t.clientY-e.startY;return so()(100*a/i/n,0)*n}(n.dragging,t,.1),i=r+e<l[0]?l[0]:r+e>l[l.length-1]?l[l.length-1]:l.find(t=>6.25>=Math.abs(t-r-e));h=(0,oE.H0)(a,0,i-r,10).map(e=>"".concat(e,"%"))}(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",i=e.querySelector('[data-node-view-content-inner="card"]');i&&(i.style["y"===n?"gridTemplateRows":"gridTemplateColumns"]=t.join(" "))})(s,h,c),(0,oS.i$)(s)}window.addEventListener("mouseup",g),window.addEventListener("mousemove",m),t.preventDefault()}(e,t),!1)},decorations(e){let t=oL.getState(e),n=t.getActiveHandleAbs(e);if(null!==n){let i=[];try{let a=document.createElement("div");a.className="column-resize-handle ".concat(t.side),i.push(oA.NZ.widget(n+1,a));let r=e.doc.nodeAt(n);return i.push(oA.NZ.node(n,n+r.nodeSize,{class:"has-column-resize-handle"})),oA.zF.create(e.doc,i)}catch(e){return console.error("(caught) cardLayoutResizing error: ".concat(e.message)),oA.zF.empty}}},nodeViews:{}}})]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-layout-item"}),0]},renderHTMLforAI(e){let{node:t}=e;return["div",{class:"body"},0]}});var oF=n(1739),oV=n(2426),oO=n(2320),oZ=n(20887),oW=n(59712);let oU=new W.hs("SlashMenu"),oG=(0,oW.e$)({name:"slashMenu",char:"/",pluginKey:oU,MenuComponent:oZ.a,priority:ee.y.SlashMenu});var oK=n(99923);class oQ extends d.Lz{updateProps(e){this.isDestroyed||this.renderer.updateProps(e)}mountEditor(){let e=this.editor,{nodeName:t,preventNodeOrExtensionTypes:n}=this.editorOptions,i=[...mb({isInnerEditor:!0}),oG,oF.mk,ns.bU,lm.Q8,oJ.configure({outerEditor:e,getPos:this.getPos}),oO.c,oV.bY].filter(e=>!n||!n.includes(e.name)).map(e=>e.name===t?e.extend({topNode:!0}):e);return this.innerEditor=new d.KE({extensions:i,content:{type:t,content:this.node.content.toJSON(),attrs:sY()(this.node.attrs)},onBeforeCreate(i){let{editor:a}=i;a.schema.nodes={...e.schema.nodes},null==n||n.forEach(e=>{a.schema.nodes[e]&&delete a.schema.nodes[e]}),a.schema.marks={...e.schema.marks},a.schema.topNodeType=e.schema.nodes[t],a.extensionManager.schema=a.schema}}),this.innerEditor.gammaOrgId=e.gammaOrgId,this.innerEditor.gammaDocId=e.gammaDocId,this.innerEditor.parentEditor=e,this.innerEditor.view.updateState=function(e){if(!this.docView){this.state=e;return}this.updateStateInner(e,this.state.plugins!=e.plugins)},this.innerEditor.view.update=function(e){this.docView&&oA.Lz.prototype.update.call(this,e)},this.updateProps({innerEditor:this.innerEditor}),this.innerEditor}destroy(){var e;this.isDestroyed=!0,null==(e=this.innerEditor)||e.destroy(),super.destroy()}update(e,t){var n;if(!e.sameMarkup(this.node))return!1;this.node=e;let i=null==(n=this.innerEditor)?void 0:n.view;if(!i)return!0;let a=i.state,r=e.content.findDiffStart(a.doc.content);if(null!=r){let{a:t,b:n}=e.content.findDiffEnd(a.doc.content),s=r-Math.min(t,n);s>0&&(t+=s,n+=s),i.dispatch(a.tr.replace(r,n,e.slice(r,t)).setMeta(oK.k,!0).setMeta("preventAutolink",!0))}return super.update(e,t)}stopEvent(e){return!!this.innerEditor&&this.innerEditor.view.dom.contains(e.target)}ignoreMutation(){return!0}get contentDOM(){return null}constructor(e,t,n){super(e,t,n),this.isDestroyed=!1,this.editorOptions=n,this.updateProps({mountEditor:()=>this.mountEditor(),destroyEditor:()=>{var e,t,n;null==(e=this.innerEditor)||e.destroy(),null==(t=(n=this.editor.commands).forceHideBubbleMenu)||t.call(n,!1),setTimeout(()=>{this.updateProps({innerEditor:void 0})})}})}}function oq(e,t){return n=>new oQ(e,n,t)}let oJ=l.YY.create({name:"innerEditorExtension",addOptions:()=>({outerEditor:null,getPos:null}),addProseMirrorPlugins(){let{outerEditor:e,getPos:t}=this.options;return[new W.k_({appendTransaction:n=>{let i=n[0];if(!i)return null;if(!i.getMeta(oK.k)){let i=t();if("number"!=typeof i)return null;let a=e.state.tr,r=c.Lm.offset(i+1);for(let e=0;e<n.length;e++){let t=n[e].steps;for(let e=0;e<t.length;e++){let n=t[e],i=n.map(r);!i&&n instanceof c.Wg&&0==n.from&&(i=o$(n,r)),i&&a.step(i)}}if(a.setMeta(oK.R,!0).setMeta("preventAutolink",!0),a.docChanged){let t=!e.state.selection.eq(a.selection),n=e.state.selection instanceof W.U3;if(t&&n)try{a.setSelection(W.U3.create(a.doc,a.mapping.map(e.state.selection.from),a.mapping.map(e.state.selection.to)))}catch(e){console.error("[InnerEditorExtension] restore selection error",e)}e.view.dispatch(a)}}return null}})]},addKeyboardShortcuts(){let{outerEditor:e}=this.options;return{"Mod-z":()=>e.commands.undo(),"Mod-y":()=>e.commands.redo()}}}),o$=(e,t)=>{let n=t.mapResult(e.from,1),i=t.mapResult(e.to,-1),a=t.map(e.gapFrom,1),r=t.map(e.gapTo,1);return n.deletedAcross&&i.deletedAcross||a<n.pos||r>i.pos?null:new c.Wg(n.pos,i.pos,a,r,e.slice,e.insert,e.structure)},oY=e=>{let[t,n]=(0,I.useState)(null);return(0,I.useEffect)(()=>{if(!e)return;let t=e=>{let{editor:t}=e;n(t.state.selection)};t({editor:e});let i=aH()(t,200,{leading:!0});return e.on("selectionUpdate",i),()=>{e.off("selectionUpdate",i)}},[e]),{selection:t}},oX=(e,t)=>{try{let n=(0,l.eL)(e.state.doc.resolve(t),Q.jg),i=null==n?void 0:n.node;return null==i?void 0:i.attrs.id}catch(e){return}},o0=e=>{let{decorations:t,editor:n,getPos:i,destroyEditor:a,mountEditor:r}=e,s=(0,K.jL)();oY(n);let{mountEditor:l,activeNoteCardId:o}=(0,K.GV)(sn.rd),c=i(),d="number"==typeof c?oX(n,c):void 0,{isNested:u}=(0,el.tg)(t),p=!u&&"number"==typeof c&&(0,si.I5)(n,c),h=o===d&&"function"==typeof r&&l===r,g=p&&!h&&!!r&&!u&&!n.isThumbnail;(0,I.useEffect)(()=>{g&&requestAnimationFrame(()=>{s((0,sn.Lz)({activeNoteCardId:d,mountEditor:r,destroyEditor:a}))})},[g,a,s,r,d])};var o1=n(24903),o2=n(92397);let o3=new W.hs("cardNotesPlugin"),o5=(e,t)=>new W.k_({key:o3,props:{attributes:()=>{let n=t.getState();return(0,sn.Iw)(n)&&!(0,si.NO)(e)&&(0,ed.nD)(n)&&!e.isStatic?{class:"card-notes-active"}:{class:""}},decorations:n=>{let{doc:i,selection:a}=n,r=t.getState();if(!(0,sn.Iw)(r)||(0,si.NO)(e)||!(0,ed.nD)(r)||e.isStatic)return;let s=(0,o2.hT)(e.state.doc,a.from);if(s)return oA.zF.create(i,[oA.NZ.node(s.pos,s.pos+s.node.nodeSize,{class:"card-notes-active-parent-card"})])}},appendTransaction:(t,n,i)=>{if((0,si.NO)(e)||e.isThumbnail||e.isStatic)return;let a=i.tr;return((0,o1.z)(t,n,i,a,"cardNotes"),o6(t,n,i,a),a.docChanged)?a:null}}),o4=e=>e.map(e=>{let t=0===e.slice.content.size;return e.from!==e.to&&t?{type:"delete",step:e}:e.from!==e.to||t?e.from===e.to||t?null:{type:"replace",step:e}:{type:"insert",step:e}}).filter(e=>!!e),o6=(e,t,n,i)=>{e.forEach(e=>{let a=e.steps.filter(e=>e instanceof c.Ln||e instanceof c.Wg);1!==a.length||(0,sZ.he)(e)||e.getMeta(oK.R)||e.getMeta("appendedTransaction")||e.getMeta("cardNotesHandled")||e.getMeta("rearrangeCards")||o4(a).filter(e=>"delete"===e.type||"replace"===e.type).forEach(e=>{let{step:a}=e,{from:r,to:s}=a;t.doc.nodesBetween(r,s,(e,a)=>{if("cardNotes"===e.type.name){var s;let o=t.doc.resolve(a),c=(0,l.eL)(o,Q.jg),d=(0,l.xe)(n.doc,e=>(0,Q.jg)(e)&&e.attrs.id===(null==c?void 0:c.node.attrs.id));if(!d[0])return;let u=(0,l.xe)(d[0].node,e=>"cardNotes"===e.type.name);if(u.length>0&&(null==(s=u[0])?void 0:s.node.content.eq(e.content))&&d[0].pos===(null==c?void 0:c.pos))return;let p=(0,o2.hT)(n.doc,r);if(!p)return void console.warn("[preventNotesDelete] parentCard not found");let h=n.doc.resolve(p.pos);if((0,si.PD)(h)){let t=ln(n.doc,p.pos,!1);if(null===t)return void console.warn("[preventNotesDelete] insertPos not found");i.insert(t,e.content)}else{let t=p.pos+p.node.nodeSize-1;i.insert(t,e)}}})})})},o9=l.bP.create({name:"cardNotes",content:"cardNotesBlock+",selectable:!1,atom:!0,parseHTML:()=>[{tag:"div[class=card-notes]"},{tag:"notes"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"card-notes"}),0]},renderHTMLforAI:()=>["notes",0],renderText:()=>"",addProseMirrorPlugins(){let e=(0,K.KA)();return[o5(this.editor,e)]},addNodeView(){return this.editor.shouldUsePublishedVersion?(0,d.gu)(()=>null):oq(o0,{nodeName:this.name,preventNodeOrExtensionTypes:["dropCursor","smartLayout","doc","document","card","embed","slashMenu","mediaUpload","GammaMention"]})}});var o7=n(5221),o8=n(99745),ce=n(39247);let ct=e=>(0,p.jsx)(h.a,{bg:"var(--body-color)",opacity:"0.4",borderRadius:"sm",...e});var cn=n(91176),ci=n(8709),ca=n(63902),cr=n(19546),cs=n(63255),cl=n(85732);let co=(0,I.memo)(e=>{let{cardId:t,docId:n,editor:i,cards:a,level:r,showNested:s,isPresentMode:l}=e,o=(0,sj.d)({cardId:t,editor:i}),c=(0,K.GV)(eR.Jo),d=(0,I.useCallback)(e=>{(0,cr.T)(i,e,t)},[i,t]),u=(0,ca.oR)(),g=(0,I.useMemo)(()=>{let e=(0,aP.Io)({cardId:t,docId:n,isPresentMode:l});return u?(0,cl.M7)({url:e,doc:c}):e},[t,n,c,l,u]),{listStyle:m,paddingStart:x,marginStart:f}=(0,cs.WI)(r);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ci.B8,{mb:"0.5em",children:(0,p.jsx)(ci.ck,{listStyleType:m,ps:x,ms:f,children:(0,p.jsx)(h.a,{display:"inline",children:(0,p.jsx)(nm.N,{href:g,className:"link",role:"link",isExternal:!u,noOfLines:1,wordBreak:"break-word",onClick:d,display:"-webkit-inline-box",verticalAlign:"top",children:(null==o?void 0:o.title)||(0,p.jsx)(em.x6,{id:"wja8aL"})})})})}),s&&a.map(e=>(0,p.jsx)(co,{cardId:e.id,cards:e.children,editor:i,level:r+1,showNested:s,docId:n,isPresentMode:l},e.id))]})});co.displayName="CardTOCItem";let cc=e=>{let{node:t,editor:n,getPos:i}=e,{nested:a}=t.attrs,r=i(),s="number"==typeof r?(0,o2.hT)(n.state.doc,r):void 0,l=(0,K.GV)(ce.NG),o=(0,K.GV)((0,ed.xO)({cardId:null==s?void 0:s.node.attrs.id,showAll:eu.LD})).filter(e=>{let{id:t}=e;return!(null==l?void 0:l[t])}),c=(0,K.GV)(eR.Jo),d=(0,K.GV)(ed.wC),u=(0,K.GV)(ed.jO),m=d===rb.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(h.a,{cursor:"default",pointerEvents:u?"none":void 0,borderRadius:"var(--box-border-radius)","data-selection-ring":!0,className:"card-toc",children:[0===o.length&&(0,p.jsxs)(n0.F,{colorScheme:"gray",color:"gray.700",fontFamily:"body",fontSize:"1em",py:"0.75em",px:"1em",children:[(0,p.jsx)(n1._,{w:"1em",h:"1em",alignSelf:"center",me:"0.75em"}),(0,p.jsxs)(h.a,{children:[(0,p.jsx)(o7.X,{fontSize:"1em",lineHeight:"1.5em",children:(0,p.jsx)(em.x6,{id:"519v/x"})}),(0,p.jsx)(o8.T,{fontSize:"0.75em",lineHeight:"1.5em",children:(0,p.jsx)(em.x6,{id:"HmhQ3B"})})]})]}),o.map(e=>(0,p.jsx)(co,{cardId:e.id,cards:e.children,editor:n,level:0,showNested:a,docId:(null==c?void 0:c.id)||"",isPresentMode:m},e.id))]})})},cd=e=>(0,p.jsx)(cn.V,{children:(0,p.jsxs)(ep.T,{spacing:"0.5em",align:"start",children:[(0,p.jsx)(ct,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(ct,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(ct,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(ct,{h:"1em",w:"14em",bg:"var(--link-color)"})]})}),cu=l.bP.create({name:"tableOfContents",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({nested:{default:!1}}),parseHTML:()=>[{tag:"div[class=toc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"toc"})]},addNodeView(){return this.editor.isThumbnail?(0,d.gu)(cd,{update:u.z0}):(0,d.gu)(cc,{update:u.z0})}});var cp=n(58495),ch=n(29421),cg=n(54992),cm=n(85542),cx=n(28620),cf=n(81498),cb=n(44646);let cC={serialize(e){let{omitIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["colgroup",{}],i=["tbody",{}],a=["table",{},n,i];return e.rows.forEach((a,r)=>{let s=["tr",{}];t||(s[1].id=a.id),i.push(s),e.columns.forEach(i=>{if(0===r){let{type:e,label:a,format:r,id:s,fixedType:l}=i,o=["col",{type:e,label:a,format:r,"fixed-type":l}];t||(o[1].id=s),n.push(o)}let l=e.getCell({column:i.id,row:a.id});s.push(["td",{type:l.type},["value",{},l.textValue]])})}),a},parse(e){let t=[],n=[],i=[];for(let a of e.children)switch(a.tagName){case"COLGROUP":t=[...a.children].filter(e=>"COL"===e.nodeName).map(e=>{var t;return new cx.n({id:e.getAttribute("id")||void 0,type:e.getAttribute("type")||"label",label:e.getAttribute("label")||"",format:e.getAttribute("format")||"raw",fixedType:(null==(t=e.getAttribute("fixed-type"))?void 0:t.toLowerCase())==="true"})});break;case"TBODY":if(!t.length)throw Error("No columns defined before tbody");n=[...a.children].filter(e=>"TR"===e.nodeName).map(e=>{let n=new cb.N({id:e.getAttribute("id")||void 0});return!function(e,n){[...e.children].filter(e=>"TD"===e.nodeName).forEach((e,a)=>{let r=e.getElementsByTagName("value").item(0),s=t[a],l={row:n,column:s},o="data"===s.type?new cg.T(l):new cm.l(l);o.textValue=(null==r?void 0:r.textContent)?r.textContent:"",i.push(o)})}(e,n),n})}return new cf.h({columns:t,rows:n,cells:i})}};var cy=n(8995),cv=n(27307),cw=n(26658),cA=n(23275),ck=n(36091);function cL(e){for(let t of e.columns)if(!t.isEmpty(e)&&"data"===t.type)return t;return null}function cj(e){for(let t of e.columns)if(!t.isEmpty(e)&&"label"===t.type)return t;return null}var cE=n(94297),cS=n(12180),cM=n(21959),cI=n(75906);let c_=e=>{let{direction:t="vertical",definition:n,textValue:i,x:a,y:r,width:s,height:l,bounds:o,offset:c={x:0,y:0},onPositionChange:d,invertColorOfInsideText:u}=e,h=(()=>{if(!n)return!1;let e=n.getDimensions(i),d=e.width+c.x,u=e.height+c.y;return"vertical"===t?n.inside?(n.rotate?d:u)+n.margin<l:r-(n.rotate?d:u)-n.margin<=0:n.inside?d+n.margin<s:a+d+n.margin+s>=o.width})(),g=(0,I.useMemo)(()=>({x:"vertical"===t?a+s/2+c.x:a+s+(n.margin+c.x)*(h?-1:1),y:"vertical"===t?r+(c.y+n.margin)*(h?1:-1):r+l/2+c.y}),[a,s,c.x,r,l,c.y,h,t,n.margin]);return((0,I.useEffect)(()=>{null==d||d(g)},[g]),n.hide)?null:(0,p.jsx)(cI.A,{pointerEvents:"none",...g,textAnchor:n.rotate?h?"end":"start":"vertical"===t?"middle":h?"end":"start",verticalAnchor:"vertical"===t?n.rotate?"middle":h?"start":"end":"middle",style:{...n.textStyles,userSelect:"none",filter:h&&u?"invert(1)":void 0},angle:270*!!n.rotate,children:i})};var cD=n(96784),cR=n(19034),cT=n(66490),cz=n(48178),cH=n(75415),cN=n(88678),cB=n(50998),cP=n.n(cB),cF=n(63674);let cV={top:8,bottom:2,right:1,left:4},cO=e=>{let{color:t,labelCells:n,dataCells:i,height:a,children:r,textColor:s,tickColor:l,tiny:o=!1,width:c,fontFamily:d="var(--body-font)",fontSize:u="var(--chakra-fontSizes-sm)",fontWeight:h="var(--body-font-weight)",margin:g=cS.PH,direction:m="vertical",hideLabels:x=!1,padding:f=0,labelPadding:b=.3,pullToZero:C=!0,onMouseMove:y,onMouseLeave:v,onMouseMoveInside:w,onMouseLeaveInside:A}=e,k=o?2:14,L=o?{top:1,right:0,bottom:2,left:0}:cV,j=o?{top:0,right:0,bottom:0,left:0}:g,E=!!o||x;o&&(u="2px",f=0);let S=o?.5:2,M=o?1:6,_=i.map(e=>e.data),D=i.reduce((e,t)=>{if("mixed"===e)return e;let n=t.getFormatter().type;return""===e||e===n?n:"mixed"},""),R=Math.max(..._),T=Math.min(..._),z=n.length?n:i.map(e=>({position:{row:e.position.row},textValue:""})),H=(0,I.useMemo)(()=>{let e="percentage"===D&&R<=100?100:null;return function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!==a&&t>a&&(console.error("`capAt` MUST be larger than `max`",{capAt:a,max:t}),a=null),!i){let n=(0,cz.A)({range:[0,1],domain:[e,Math.max(t,0)]}).ticks();i=n.length<2?1:Math.abs(n[1]-n[0])}let r=(0,cF.yw)(Math.max(t,0),i,1),s=(0,cF.yw)(e,i,-1),l=(0,cF.yw)((r-s)/(n-1),i,1);l&&l!==i&&(s=(0,cF.yw)(s,l,-1));let o=[s];for(;o[o.length-1]<r&&(o.push(s+o.length*l),!(o.length>2*n)););return null!==a&&o[o.length-1]>=a?Array.from({length:n+1}).map((e,t)=>(s+(r-s)/n)*t):o}(C?Math.min(T,0):T,R,4,void 0,e)},[T,R,C,D]),N=i[0].format.bind(i[0]),B="vertical"===m?H.map(e=>i[0].format(e)):z.map(e=>cP()(e.textValue,{length:25,separator:" "})),P=(0,cF.Vr)(B,{fontFamily:d,fontSize:u,fontWeight:h}),F=E?0:P.maxWidth,V={top:j.top+L.top,right:j.right+L.right,bottom:j.bottom+S+(E?0:M+L.bottom),left:j.left+F+S+(E?0:M+L.left)},O=("vertical"===m?z:i).map(e=>{let{textValue:t}=e;return cP()(t,{length:25,separator:" "})}),{bottomTickValues:Z,bottomLabels:W,rotateLabels:U,labelsHeight:G,splitIx:K}=cZ({em:k,textStyles:{fontFamily:d,fontSize:u,fontWeight:h},hideLabels:E,padding:f,height:a,width:c,margin:V,labelCells:z,labelStrings:O}),Q=a-V.top-V.bottom-G,q="horizontal"===m&&Q/B.length<k?(V.left-=F,[]):z.map(e=>{let{position:{row:t}}=e;return t}),J=c-V.left-V.right,$=z.map(e=>"".concat(e.position.row,":").concat(e.textValue)).join(","),{labelScale:Y,labelIndex:X}=(0,I.useMemo)(()=>({labelScale:(0,cv.A)({range:"vertical"===m?[0,J]:[0,Q],domain:z.map(e=>e.position.row),paddingInner:b,paddingOuter:.3}),labelIndex:Object.fromEntries(z.map(e=>[e.position.row,e]))}),[J,m,Q,$,b]),ee=(0,I.useMemo)(()=>{let e=H[0],t=H[H.length-1];return(0,cz.A)({range:"horizontal"===m?[T<0?f:0,J]:[Q-(T<0?f:0),S+f],round:!0,domain:[e,t]})},[H,Q,T,J,m,f,S]),et=(()=>{if(!w&&!A)return null;let e=e=>t=>{e(t,function(e,t){var n;let i=null!=(n=(0,cT.A)(e))?n:{x:e.clientX,y:e.clientY};return{svgCoords:i,axisCoords:{x:i.x-t.left,y:i.y-t.top}}}(t,V))};return{move:w&&e(w),leave:A&&e(A)}})();return(0,p.jsxs)("svg",{width:"100%",viewBox:"0 0 ".concat(c," ").concat(a),height:"100%",preserveAspectRatio:"none",overflow:"visible",onMouseMove:y,onMouseLeave:v,children:[H.map((e,n)=>"vertical"===m?(0,p.jsx)(cH.A,{from:{x:V.left,y:ee(e)+V.top},to:{x:c,y:ee(e)+V.top},stroke:t,opacity:0===e?.5:.2},n):(0,p.jsx)(cH.A,{from:{x:V.left+ee(e),y:V.top},to:{x:V.left+ee(e),y:Q},stroke:t,opacity:0===e?.5:.2},n)),et&&(0,p.jsx)(cw.A,{fill:"transparent",opacity:.2,x:V.left,y:V.top,height:Q,width:J,onMouseMove:et.move,onMouseLeave:et.leave}),r({labelScale:Y,dataScale:ee,yMax:Q,xMax:J,margin:{...V}}),(0,p.jsx)(cy.A,{children:"vertical"===m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(cD.A,{top:V.top,left:V.left,scale:ee,stroke:t,rangePadding:T<0?-1*f:0,strokeWidth:S,tickValues:E?[]:H,tickFormat:N,tickLength:M,tickStroke:l||t,tickLabelProps:()=>({fill:s||t,textAnchor:"end",fontFamily:d,fontSize:u,fontWeight:h,dy:"0.33em",dx:o?0:-4,userSelect:"none"})}),(0,p.jsx)(cR.A,{top:Q+V.top,left:V.left,scale:Y,stroke:t,tickValues:Z,tickFormat:(e,t)=>W[t],tickStroke:l||t,tickLabelProps:(e,n)=>({fill:s||t,fontFamily:d,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!o,i:n}),strokeWidth:S,tickLength:M,tickComponent:e=>{let{x:t,y:n,i,dy:a,formattedValue:r,...s}=e;return(0,p.jsx)("g",{alignmentBaseline:"middle",...s,children:U||!K[i]?(0,p.jsx)("text",{x:t,y:n,dy:a,transform:U?"rotate(-45, ".concat(t,", 0)"):"",textAnchor:U?"end":"middle",children:r}):(r||"").split(" ").map((e,r)=>(0,p.jsx)("text",{x:t,y:n+k*r,dy:a,textAnchor:"middle",children:e},"".concat(i,":").concat(r)))})}})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(cD.A,{top:V.top,left:V.left,scale:Y,stroke:t,strokeWidth:S,tickLength:M,tickValues:E?[]:q,tickFormat:e=>cP()(X[e].textValue,{length:25,separator:" "}),tickStroke:l||t,tickLabelProps:()=>({fill:s||t,textAnchor:"end",fontFamily:d,fontSize:u,fontWeight:h,dy:"0.33em",dx:o?0:-4,userSelect:"none"})}),(0,p.jsx)(cR.A,{top:Q+V.top,left:V.left,scale:ee,stroke:t,rangePadding:T<0?f:0,tickValues:E?[]:H,tickFormat:N,tickLength:M,tickStroke:l||t,tickLabelProps:(e,n)=>({fill:s||t,textAnchor:0===n?"end":"middle",fontFamily:d,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!o}),strokeWidth:S})]})})]})},cZ=e=>{let{em:t,textStyles:n,hideLabels:i,padding:a,height:r,width:s,margin:l,labelStrings:o,labelCells:c}=e,d=o.join(","),u=(s-l.left-l.right)/o.length,{fontFamily:p,fontSize:h,fontWeight:g}=n;return(0,I.useMemo)(()=>{let e=[...o],s={bottomTickValues:[],rotateLabels:!1,labelsHeight:0,splitIx:[],sliceWidth:u,bottomLabels:[]};if(i||u<=t+3)return s;let{widths:d,maxWidth:p}=(0,cF.Vr)(o,n),h=!1,g=t,m=c.map(e=>{let{position:{row:t}}=e;return t}),x=o.map((e,i)=>{if(h||d[i]<u-a)return!1;let{widths:r,maxWidth:s}=(0,cF.Vr)(e.split(" "),n);if(s>u-a)return h=!0,!0;let l=r.length*t;return l>g&&(g=l),!0});if(!h)return{bottomTickValues:m,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u,bottomLabels:e};let f=e=>Math.cos(Math.PI/4)*e-(t+7);g=Math.sin(Math.PI/4)*p;let b=f(p);if(b>.3*r)return s;let C=e=>l.left+u*e+u/2;for(let t=0;t<o.length;t++){let i=C(t);if(i>b)break;if(f(d[t])>i){let a=(0,cF.jp)(o[t],e=>{let t=(0,cN.A)(e,n);if(null===t)return -1;let a=f(t);return a<i-10?1:a>i?-1:0});if(!a)return console.log("could not truncate"),s;e[t]=a}}return{bottomTickValues:m,bottomLabels:e,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u}},[t,r,d,p,h,g,i,a,u])};var cW=n(77850);let cU=e=>{let{data:t,render:n,getColor:i,getOpacity:a,onMouseOver:r,onMouseLeave:s,onClick:l,onDoubleClick:o,textColor:c,position:d="bottom",width:u}=e,g=(0,I.useRef)(null),[m,x]=(0,I.useState)(0),[f,b]=(0,I.useState)(!1),C=["top","bottom"].includes(d),y=t.some(e=>n(e).length>20),v=(0,ec.FX)(),w=y&&C&&v,A=C?{width:"100%",display:"grid",gridTemplateColumns:w?"1fr":"repeat(auto-fit, minmax(".concat(m,"em, 1fr))"),justifyItems:f||w?"flex-start":"center",alignSelf:"stretch","& > div:first-child":{justifySelf:f||w?void 0:"flex-end"},"& > div:last-child":{justifySelf:f||w?void 0:"flex-start"}}:{height:"100%",flexDir:"column"},k=t.map(e=>n(e)).join("|");return(0,I.useEffect)(()=>{let e=0;if(!g.current)return;let t=(0,cF.us)(g.current);for(let t of g.current.querySelectorAll(":scope > div")){var n;t.style.width="min-content";let i=(null==(n=t.getClientRects()[0])?void 0:n.width)||0;t.style.width="",i>e&&(e=i)}x(parseFloat((e/t).toFixed(2)))},[k]),(0,I.useEffect)(()=>{b(!!g.current&&function(e){var t;let n=e.children;if(!n.length)return!1;let i=null==(t=n.item(0))?void 0:t.offsetTop;for(let e of n)if(e.offsetTop!==i)return!0;return!1}(g.current))},[u,m]),(0,p.jsx)(e6.s,{ref:g,sx:A,flexGrow:0,flexShrink:1,flexWrap:"wrap",alignContent:["left","top"].includes(d)?"flex-end":"flex-start",justifyContent:"center",gap:5,children:t.map((e,t)=>(0,p.jsxs)(j.z,{flexGrow:0,flexShrink:1,opacity:a?a(e,t):1,cursor:"pointer",onMouseOver:null==r?void 0:r(e,t),onMouseLeave:null==s?void 0:s(e,t),onClick:null==l?void 0:l(e,t),onDoubleClick:null==o?void 0:o(e,t),transition:"opacity ".concat(cS.UG,"s"),minW:"min-content",gap:2,alignItems:"flex-start",children:[(0,p.jsx)(h.a,{flex:"0 0 auto",as:cW.P.div,width:"1em",height:"1em",flexShrink:0,bg:i(e,t),borderRadius:"sm",animate:{backgroundColor:i(e,t)},children:" "}),(0,p.jsx)(E.E,{flex:"0 1 auto",fontSize:"1em",lineHeight:"1em",color:c,textAlign:"left",children:cP()(n(e),{length:w?60:30})})]},t))})};function cG(){let e=(0,I.useRef)(null);return(0,I.useEffect)(()=>()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{clickHandler:t=>n=>{e.current||(e.current=setTimeout(()=>{e.current=null,t(n)},200))},doubleClickHandler:t=>n=>{e.current&&(clearTimeout(e.current),e.current=null),t(n)}}}let cK=e=>{let{showInlineLabels:t,dataCells:n,scale:i,textStyles:a,direction:r,labelMargin:s=5}=e,l=n.flatMap(e=>e.map(e=>e.textValue)),o=l.join("|"),c=i.bandwidth();return(0,I.useMemo)(()=>{if(!t)return;let e=n[0].length>1?(0,cv.A)({range:[0,c],domain:n[0].map(e=>e.textValue),paddingInner:.2}):i,o=(0,cF.Vr)(l,a),d="vertical"===r&&o.maxWidth+s>=e.bandwidth(),u="vertical"===r?d&&o.maxHeight+s>=e.bandwidth():o.maxHeight+s>=e.bandwidth(),p=Object.fromEntries(l.map((e,t)=>[e,t]));return{margin:s,rotate:d,hide:u,textStyles:a,getDimensions:e=>{let t=p[e];return{width:void 0===t?0:o.widths[t],height:void 0===t?0:o.heights[t]}},inside:!1}},[t,a,o,r,c,s])};var cQ=n(8527),cq=n(2241),cJ=n(25927),c$=n(83622);let cY=e=>{let{TooltipInner:t}=e,{showTooltip:n,tooltipOpen:i,tooltipLeft:a,tooltipTop:r,tooltipData:s,hideTooltip:l}=(0,cJ.A)(),o={minW:"5rem",textAlign:"left",pointerEvents:"none",...(0,cQ.V)("Tooltip")},c=(0,I.useRef)(void 0);return(0,I.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),{mouseMoveHandler:(e,t)=>i=>{c.current&&clearTimeout(c.current);let a=t?t(e,i):(0,cF.OP)(i);n({tooltipData:{...e,position:e.position},tooltipTop:null==a?void 0:a.y,tooltipLeft:null==a?void 0:a.x})},mouseLeaveHandler:e=>e=>{c.current=window.setTimeout(()=>{l()},300)},renderTooltip:function(){return i&&s?(0,p.jsx)(cX,{style:{},top:r,left:a,sx:{...o,top:void 0,left:void 0,userSelect:"none",pointerEvents:"none"},position:"absolute",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(t,{...s})},Math.random()):null}}},cX=(0,cq.B)(c$.A,{shouldForwardProp:e=>["top","left","style","children"].includes(e)});var c0=n(68397);let c1=e=>{let{dispatch:t}=(0,I.useContext)(c0.uR),n=e.filter(e=>e instanceof cx.n).map(e=>e.id),i=n.join(",");(0,I.useEffect)(()=>(t({type:"reportActiveColumnIds",payload:n}),()=>{t({type:"reportActiveColumnIds",payload:void 0})}),[i,t])},c2=function(){let{textColor:e="var(--body-color)",fontFamily:t="var(--body-font)",fontSize:n="var(--chakra-fontSizes-sm)",fontWeight:i="var(--body-font-weight)"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,I.useMemo)(()=>({fontFamily:t,fontSize:n,fontWeight:i,fill:e}),[e,t,n,i])},c3=e=>{let{showZero:t,data:n,dataColumns:i,animationDuration:a,barColors:r,textColor:s,direction:l,selectCell:o,tooltipEnter:c,tooltipLeave:d,dataScale:u,labelScale:h,yMax:g,xMax:m,margin:x,minValueGreaterThanZero:f,onDataClick:b,onDataDoubleClick:C,isThumbnail:y,focusedPosition:v,setFocusedPosition:w,showInlineLabels:A}=e,k=(0,cM.wQ)(i,"id"),L=c2({textColor:s}),j=n.rows.map(e=>e.getCells(n).filter(e=>!!k.get(e.position.column))),E=cK({dataCells:j,textStyles:L,scale:h,direction:l,showInlineLabels:A});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(cy.A,{top:x.top,left:x.left,children:n.rows.map((e,n)=>{let i="group-".concat(e.id);return(0,p.jsx)(c4,{animationDuration:a,barColors:r,data:j[n],showZero:t,yMax:g,xMax:m,dataScale:u,inlineLabels:E,labelScale:h,selectCell:o,direction:l,globalMinValueGreaterThanZero:f,tooltipEnter:c,tooltipLeave:d,onDataClick:b,onDataDoubleClick:C,borderRadius:y?1:5,focusedPosition:v,setFocusedPosition:w},i)})})})},c5=e=>{var t,n;let{TooltipInner:i,showZero:a=!0,data:r,textColor:s,accentColor:l,animationDuration:o=cS.UG,isThumbnail:c=!1,width:d,height:u,chartType:g,colorScheme:m=cS.gb,hideLabels:x,showInlineLabels:f,onDataClick:b,onDataDoubleClick:C,backgroundColor:y,chartOptions:v,onContextMenu:w}=e,A="horizontal-bar"===g?"horizontal":"vertical",{renderTooltip:k,mouseMoveHandler:L,mouseLeaveHandler:j}=cY({TooltipInner:i}),[E,S]=(0,I.useState)(null),M=cj(r),_=(null==M?void 0:M.getCells(r))||[],D=r.columns.filter(e=>{let{type:t}=e;return"data"===t}),R=D.map(e=>e.getCells(r)).flat(),T=D.length>1&&!x,z=Math.min(...R.map(e=>e.data).filter(e=>e>0)),H=(0,K.GV)(ed.SJ),N=(0,t9.u)("useNewChartingColorSet"),B=D.map(e=>{let{id:t}=e;return t}),P=B.length>1?B:[...new Set(R.map(e=>e.position.row))],F=(0,cE.au)(l,m,H,N),V=(0,cE.M9)(F,P,m,{contrastColor:y,theme:H}),O=(0,cF.jt)(c),Z=null!=(t=v["vertical"===A?"bar":"horizontal-bar"])?t:{};return c1([M,...D]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"bar-chart-container",height:T?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",userSelect:"none",contentEditable:!1,onContextMenu:w,children:[(0,p.jsx)(cO,{width:d,height:T?u-3*O:u,labelCells:_,dataCells:R,color:s,textColor:s,tiny:c,direction:A,hideLabels:x,pullToZero:null==(n=Z.axisPullToZero)||n,children:e=>(0,p.jsx)(c3,{showZero:a,barColors:V,data:r,textColor:s,dataColumns:D,animationDuration:o,direction:A,tooltipEnter:L,tooltipLeave:j,minValueGreaterThanZero:z,onDataClick:b,onDataDoubleClick:C,isThumbnail:c,focusedPosition:E,setFocusedPosition:S,showInlineLabels:f,...e})}),T&&(0,p.jsx)(cU,{width:d,data:D,render:e=>e.label,getColor:e=>V.get(e.id),textColor:s,onMouseOver:e=>()=>S({row:"_",column:e.id}),onMouseLeave:()=>()=>S(null)})]}),k()]})},c4=e=>{var t;let{animationDuration:n,barColors:i,data:a,showZero:r,yMax:s,xMax:l,dataScale:o,inlineLabels:c,labelScale:d,direction:u,globalMinValueGreaterThanZero:h,tooltipEnter:g,tooltipLeave:m,onDataClick:x,onDataDoubleClick:f,borderRadius:b,focusedPosition:C,setFocusedPosition:y}=e,{clickHandler:v,doubleClickHandler:w}=cG(),A=d.bandwidth(),k=d(null==(t=a[0])?void 0:t.position.row)||0,L=(0,I.useMemo)(()=>{let e=a.map(e=>e.position.column);return(0,cv.A)({range:[k,k+A],domain:e,paddingInner:.2*(e.length>1)})},[A,a,k]),j=r?o(h):0,E=e=>{let t=g(e);return n=>{t(n),y(e.position)}},S=e=>{let t=m(e);return e=>{t(e),y(null)}},M=e=>null!==C&&(a.length>1?C.column!==e.position.column:C.row!==e.position.row);return(0,p.jsx)(cy.A,{children:a.map(e=>{let t={dataScale:o,value:e,innerScale:L,yMax:s,xMax:l,scaledMinValueGreaterThanZero:j,showZero:r},{x:d,y:h,width:g,height:m,roundedCorners:C}="vertical"===u?function(e){var t,n;let{dataScale:i,value:a,innerScale:r,showZero:s,scaledMinValueGreaterThanZero:l}=e,o=Math.min(i.range()[0],i(0)),c=o-(null!=(t=i(a.data))?t:0),d=c,u=null!=(n=r(a.position.column))?n:0,p=o-d,h=r.bandwidth(),g={topLeft:!0,topRight:!0,bottomLeft:!1,bottomRight:!1};return s&&Math.abs(o-l)>12&&6>Math.abs(c)&&(d=6,i.domain()[0]<0?(p-=3,g.bottomLeft=!0,g.bottomRight=!0):p-=6),d<0&&(p+=d,g.topLeft=!1,g.topRight=!1,g.bottomLeft=!0,g.bottomRight=!0),{x:u,y:p,height:Math.abs(d),width:h,roundedCorners:g}}(t):function(e){let{dataScale:t,value:n,innerScale:i,showZero:a,scaledMinValueGreaterThanZero:r}=e,s=Math.max(t.range()[0],t(0)),l=s,o=i(n.position.column),c=t(n.data)-s,d=i.bandwidth(),u=c,p={topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!0};return a&&r>12&&6>Math.abs(c)&&(u=6,t.domain()[0]<0&&(l-=3,p.bottomLeft=!0,p.topLeft=!0)),u<0&&(l+=u,p.bottomLeft=!0,p.bottomRight=!1,p.topLeft=!0,p.topRight=!1),{x:l,y:o,height:d,width:Math.abs(u),roundedCorners:p}}(t);return(0,p.jsx)(c6,{yMax:s,xMax:l,x:d,y:h,direction:u,width:g,height:m,radius:b,topLeft:C.topLeft,topRight:C.topRight,bottomRight:C.bottomRight,bottomLeft:C.bottomLeft,fill:i.get(a.length>1?e.position.column:e.position.row),label:c?{...c,label:e.textValue}:void 0,opacity:M(e)?.5:1,duration:n,onMouseLeave:S(e),onMouseMove:E(e),onClick:x?v(x.bind(void 0,e)):void 0,onDoubleClick:f?w(f.bind(void 0,e)):void 0,style:{cursor:"pointer",transition:"opacity .25s"}},e.key)})})},c6=e=>{let{duration:t=0,y:n,x:i,height:a,width:r,yMax:s,xMax:l,innerRef:o,direction:c,label:d,opacity:u,style:h,...g}=e,[m,x]=(0,I.useState)(0),[f,b]=(0,I.useState)(r),[C,y]=(0,I.useState)(n+a),[v,w]=(0,I.useState)(i);return(0,I.useEffect)(()=>{(0,ck.i)(m,a,{duration:t,onUpdate:e=>x(e)})},[a]),(0,I.useEffect)(()=>{(0,ck.i)(f,r,{duration:t,onUpdate:e=>b(e)})},[r]),(0,I.useEffect)(()=>{(0,ck.i)(v,i,{duration:t,onUpdate:e=>w(e)})},[i]),(0,I.useEffect)(()=>{(0,ck.i)(C,n,{duration:t,onUpdate:e=>y(e)})},[n]),(0,p.jsxs)(cy.A,{children:[(0,p.jsx)(cw.A,{height:"vertical"===c?Math.max(0,s):m,width:"horizontal"===c?Math.max(0,l):f,x:"vertical"===c?v:0,y:"vertical"===c?0:C,...g,onClick:void 0,onDoubleClick:void 0,style:void 0,opacity:0}),(0,p.jsxs)("g",{opacity:u,style:h,children:[(0,p.jsx)(cA.A,{height:m,width:f,x:v,y:C,innerRef:o,...g}),d&&(0,p.jsx)(c_,{direction:c,textValue:d.label,definition:d,width:f,height:m,x:v,y:C,invertColorOfInsideText:!0,bounds:{x:0,y:0,width:l,height:s}})]})]})};var c9=n(46979),c7=n(51600);let c8=e=>{var t,n;let{data:i,TooltipInner:a,isThumbnail:r=!1,width:s,height:l,accentColor:o,textColor:c,colorScheme:d=cS.gb,hideLabels:u,backgroundColor:g,chartOptions:m,onContextMenu:x,...f}=e,{renderTooltip:b,mouseMoveHandler:C,mouseLeaveHandler:y}=cY({TooltipInner:a}),[v,w]=(0,I.useState)(null),[A,k]=(0,I.useState)(null),L=cj(i),j=(null==L?void 0:L.getCells(i))||[],E=i.columns.filter(e=>{let{type:t}=e;return"data"===t}),S=E.map(e=>e.getCells(i)).flat(),M=(0,K.GV)(ed.SJ),_=(0,t9.u)("useNewChartingColorSet"),D=E.map(e=>{let{id:t}=e;return t}),R=(0,cE.au)(o,d,M,_),T=(0,cE.M9)(R,D,d,{contrastColor:g,theme:M}),z=(0,cF.jt)(r),H=E.length>1&&!u,N=H?l-3*z:l;return c1([L,...E]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"line-chart-container",height:H?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",onContextMenu:x,children:[(0,p.jsx)(cO,{width:s,height:N,color:c,textColor:c,tiny:r,labelCells:j,dataCells:S,hideLabels:u,labelPadding:0,pullToZero:null==(n=null==(t=m.line)?void 0:t.axisPullToZero)||n,onMouseMoveInside:r?void 0:(e,t)=>w(t.axisCoords),onMouseLeaveInside:r?void 0:()=>w(null),children:e=>(0,p.jsx)(de,{data:i,dataColumns:E,width:s,height:N,isThumbnail:r,getColor:T.get.bind(T),textColor:c,tooltipEnter:C,tooltipLeave:y,hoverPosition:v,highlightedColumn:A,chartOptions:m,...f,...e})}),H&&(0,p.jsx)(cU,{width:s,data:E,getColor:e=>T.get(e.id),textColor:c,render:e=>e.label,onMouseOver:e=>()=>k(e.id),onMouseLeave:()=>()=>k(null)})]}),b()]})},de=e=>{var t,n;let{labelScale:i,dataScale:a,data:r,dataColumns:s,isThumbnail:l,getColor:o,margin:c,tooltipEnter:d,tooltipLeave:u,chartOptions:{line:h={}},onDataClick:g,onDataDoubleClick:m,animationDuration:x=cS.UG,textColor:f,hoverPosition:b,highlightedColumn:C,showInlineLabels:y}=e,[v,w]=a.range(),[A,k]=(0,I.useState)(null),[L,j]=(0,I.useState)(null),E=c2({textColor:f}),S=(0,cM.wQ)(s,"id"),M=cK({dataCells:r.rows.map(e=>e.getCells(r).filter(e=>!!S.get(e.position.column))),textStyles:E,scale:i,direction:"vertical",showInlineLabels:1===s.length&&y,labelMargin:-2}),_=e=>{let{data:t,position:{row:n}}=e;return{x:i(n)+i.bandwidth()/2,y:a(t)}},D=e=>{let t=d(e),n=_(e);return i=>{t(i),k(n),j(e.position.row)}},R=e=>{let t=u(e);return e=>{t(e),k(null),j(null)}};return(0,p.jsxs)(cy.A,{left:c.left,top:c.top,children:[(0,p.jsx)("line",{y1:w,y2:v,x1:0,x2:0,strokeWidth:1,stroke:f,transform:"translate(".concat(null!=(n=null!=(t=null==A?void 0:A.x)?t:null==b?void 0:b.x)?n:0,", 0)"),style:{opacity:"".concat(b||A?.8:0),pointerEvents:"none",transition:"opacity ".concat(x,"s, transform ").concat(.15*!!A,"s")}}),s[0].getCells(r).map(e=>(0,p.jsx)(cw.A,{opacity:0,height:v,width:i.bandwidth(),x:i(e.position.row),y:w,onMouseMove:D(e),onMouseLeave:R(e)},"p-".concat(e.key))),s.map(e=>{let t=e.getCells(r);return(0,p.jsx)(dt,{cells:t,isThumbnail:l,color:o(e.id),xScale:i,yScale:a,onDataClick:g,onDataDoubleClick:m,lineOptions:h,animationDuration:x,onMouseMove:D,onMouseLeave:R,highlightedRow:L,highlightedColumn:C,inlineLabels:M,height:v},e.id)})]})},dt=e=>{var t;let{cells:n,color:i,xScale:a,yScale:r,onDataClick:s,onDataDoubleClick:l,onMouseMove:o,onMouseLeave:c,lineOptions:d={},animationDuration:u,isThumbnail:h,highlightedRow:g,highlightedColumn:m,inlineLabels:x,height:f}=e,{clickHandler:b,doubleClickHandler:C}=cG(),y=a.bandwidth(),[v,w]=(0,I.useState)({}),A=dn(n,r,u),k=e=>a(e.position.row)||0,L=e=>(!!g||!!m)&&(m?m!==e.position.column:g!==e.position.row);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c7.A,{data:n,x:e=>k(e)+y/2,y:A,stroke:i,strokeWidth:2,style:{pointerEvents:"none",transition:"opacity ".concat(u,"s")},opacity:(t=n[0],(g||m)&&(m?m!==t.position.column:!!g))?.3:1}),!h&&n.map(e=>{let t=v[e.key],n=k(e)+a.bandwidth()/2,r=A(e);return(0,p.jsxs)("g",{style:{transition:"opacity ".concat(u,"s")},opacity:d.hideMarkers?0:L(e)?.3:1,children:[x&&!x.hide&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c_,{textValue:e.textValue,definition:x,width:y,height:f,x:k(e),y:A(e),offset:{y:Math.min(.1*f,50),x:0},onPositionChange:t=>{w(n=>({...n,[e.key]:t}))}}),t&&(0,p.jsx)("line",{x1:n,y1:r,x2:t.x,y2:t.y+5*(t.y>r?-1:1),stroke:x.textStyles.fill})]}),(0,p.jsx)(cW.P.circle,{cx:n,cy:r,r:4,fill:i,stroke:i,style:{cursor:"pointer"},onMouseMove:o(e),onMouseLeave:c(e),onClick:s?b(s.bind(void 0,e)):void 0,onDoubleClick:l?C(l.bind(void 0,e)):void 0})]},"circle-".concat(e.key))})]})},dn=(e,t,n)=>{let i=(0,I.useRef)(Object.fromEntries(e.map(e=>[e.key,void 0]))),a=()=>e=>i.current[e.key],[r,s]=(0,I.useState)(()=>a());return(0,I.useEffect)(()=>{let r=t(0);if(0===r)return;let l=e.map(e=>{var l;let o=e.key;return(0,ck.i)(null!=(l=i.current[o])?l:r,t(e.data),{duration:n,ease:"easeOut",onUpdate:e=>{i.current[o]=e,s(()=>a())}})});return()=>{l.forEach(e=>{e.stop()})}},[e,t]),r||console.log("no getter"),r};var di=n(99385),da=n(31612);let dr=e=>{let{targetValue:t,initialValue:n=0,duration:i=cS.UG}=e,[a,r]=(0,I.useState)(n);return(0,I.useEffect)(()=>{let{stop:e}=(0,ck.i)(a,t,{duration:i,onUpdate:e=>{r(e)}});return()=>{e()}},[t]),a};var ds=n(5777);function dl(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function dc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t&&(t={x:t,y:t}),{...e,x:e.x+t.x*n,y:e.y+t.y*n}}class dd{get anchor(){let e=360*this.angle/(2*Math.PI);switch(!0){case e>=225&&e<=315:return{h:"middle",v:"end"};case e>=45&&e<=135:return{h:"middle",v:"start"};case e>135&&e<225:return{h:"end",v:"middle"};default:return{h:"start",v:"middle"}}}get key(){return this.cell.key}get closestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x:t.x+this.width,y:e<=Math.PI?t.y:t.y+this.height}}get furthestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x+this.width:t.x,y:e<=Math.PI?t.y+this.height:t.y}}getConnectionPoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.rect,{x:n,y:i}=this.closestCorner,a=n/Math.cos(this.angle),r=i/Math.sin(this.angle),s=a;return dl({x:r*Math.cos(this.angle),y:i},t)?s=r:dl({x:n,y:a*Math.sin(this.angle)},t)||console.error("Line does not intersect rect"),{x:(s-e)*Math.cos(this.angle),y:(s-e)*Math.sin(this.angle)}}get rect(){var e,t,n;return{...(e=this._angle,dc({x:Math.cos(e)*(t=this.radius+this.offset),y:Math.sin(e)*t},null!=(n=this.anchorPos)?n:0)),width:this.width,height:this.height}}get angle(){return this._angle}set angle(e){this._angle=function(e){let t=e;for(;t<0;)t+=2*Math.PI;return t%(2*Math.PI)}(e)}getOverflowingRadius(){let e=this.boundingRect,t=this.furthestCorner;if(t.y<e.y||t.x<e.x||t.x>e.x+e.width||t.y>e.y+e.height){let n=Math.min(Math.abs(e.x/Math.cos(this.angle)),Math.abs(e.y/Math.sin(this.angle)));return Math.sqrt(t.x**2+t.y**2)-n}return 0}handleIntersection(e){let t=this.rect,n=e.rect,i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=dc(e,n),a=dc(t,n),r=e=>{let t={x:"width",y:"height"}[e];return a[e]>i[e]?[a[e],Math.max(i[e]+i[t]-a[e],0)]:[i[e],Math.max(a[e]+a[t]-i[e],0)]},[s,l]=r("x"),[o,c]=r("y");return 0!==l&&0!==c&&dc({x:s,y:o,width:l,height:c},-1*n)}(n,t,this.radius);if(!i)return 0;let a=(i.x>n.x?i.width:-1*i.width)*Math.sign(t.x),r=0>Math.sign(t.y)?-((i.y>n.y?n.height-i.height+t.height:i.height)*1):i.y>n.y?i.height:n.height-i.height,s=a/Math.cos(this.angle),l=r/Math.sin(this.angle),o=Math.sign(s)===Math.sign(l)?Math.min(Math.max(s,0),Math.max(l,0)):Math.max(s,l);return this.offset+=o,this.offset}get anchorPos(){var e,t;return e={w:this.width,h:this.height},{x:"start"===(t=this.anchor).h?0:"middle"===t.h?-(e.w/2):-1*e.w,y:"start"===t.v?0:"middle"===t.v?-(e.h/2):-1*e.h}}constructor(e,t,n,i,a,r,s){this.cell=e,this.radius=n,this.label=i,this.width=a,this.height=r,this.boundingRect=s,this.offset=0,this.angle=t}}let du=e=>{let{showLabels:t,cells:n,radius:i,textStyles:a,chartWidth:r,margin:s=20,...l}=e,o=n.map(e=>e.textValue).join("|");return(0,I.useMemo)(()=>{if(!t)return{labelPad:0,labels:[]};let e={x:-(r/2),y:-(r/2),width:r,height:r},o=(0,ds.rL)({value:e=>e.data,...l})(n),c=i,d=0,u=o.map(t=>{var n;let{startAngle:r,endAngle:s}=t,l=t.data,o=l.textValue,{width:c,height:u}=null!=(n=(0,cF.Z7)(o,a))?n:{width:0,height:0},p=new dd(l,(r+s)/2-Math.PI/2,i,o,c,u,e),h=p.getOverflowingRadius();return h>d&&(d=h),p}),p=d,h=d,g=0;for(;p>0&&g++<2;){let e=d;d=0,p=0,u.forEach((t,n)=>{t.radius=t.radius-e,0!==n&&(p+=t.handleIntersection(u[n-1])),n===u.length-1&&(p+=t.handleIntersection(u[0]));let i=t.getOverflowingRadius();i>d&&(d=i)}),h+=d,p+=d}let m=s+h;return i-m<.25*i?{labelPad:0,labels:[]}:{labelPad:m,labels:u}},[o,a,i,r,s,t])},dp=e=>{let{labels:t,radius:n,textStyles:i,colors:a,isFocused:r,explodeOffset:s,animationDuration:l=.2}=e;return(0,p.jsx)("g",{children:t.map((e,t)=>{let o=e.getConnectionPoint(5),c=r(e.cell.position),d=r(e.cell.position,!0),u="opacity ".concat(l,"s, transform ").concat(l,"s"),h=d?"translate(".concat(Math.cos(e.angle)*s,"px, ").concat(Math.sin(e.angle)*s,"px)"):"";return(0,p.jsxs)("g",{opacity:c?1:.5,style:{transition:u,transform:h},children:[(0,p.jsx)("line",{x1:Math.cos(e.angle)*n,y1:Math.sin(e.angle)*n,x2:o.x,y2:o.y,stroke:i.fill,strokeWidth:d?2:1}),(0,p.jsx)("circle",{cx:o.x,cy:o.y,r:3,fill:a[t],stroke:i.fill}),(0,p.jsx)("text",{dominantBaseline:"hanging",x:e.rect.x,y:e.rect.y+3,...i,fontWeight:d?"bold":"normal",pointerEvents:"none",style:{userSelect:"none"},children:e.label})]},e.key)})})},dh=e=>{var t;let{data:n,TooltipInner:i,colorScheme:a=cS.gb,isThumbnail:r=!1,width:s,height:l,chartType:o,textColor:c,accentColor:d,chartOptions:{donut:u,pie:h},hideLabels:g,showInlineLabels:m,onDataClick:x,onDataDoubleClick:f,animationDuration:b=cS.UG,backgroundColor:C,onContextMenu:y}=e,{dispatch:v}=(0,I.useContext)(c0.uR),{renderTooltip:w,mouseMoveHandler:A,mouseLeaveHandler:k}=cY({TooltipInner:i}),L={top:15,right:15,bottom:15,left:15},j=cL(n),E=cj(n),S=j?j.getCells(n).filter(e=>!e.isEmpty):[];c1([E,j]),(0,I.useEffect)(()=>{let e="pie-no-labels";return E||g||v((0,da.TD)(e5.Ru._({id:"gMgGUM"}),{severity:"warning",id:e,dismissable:!1})),()=>{v((0,da.sA)(e))}},[E,g,v]),(0,I.useEffect)(()=>{let e="pie-single-row";return 1===S.length&&v((0,da.TD)(e5.Ru._({id:"uHTxZb"}),{severity:"info",id:e,dismissable:!0})),()=>{v((0,da.sA)(e))}},[S.length,v]);let M=(0,K.GV)(ed.SJ),_=(0,t9.u)("useNewChartingColorSet"),D=S.map(e=>{let{position:t}=e;return t.row}),R=(0,cE.au)(d,a,M,_),T=(0,cE.M9)(R,D,a,{contrastColor:C,minContrast:1.3,theme:M}),[z,H]=(0,I.useState)(null),N=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return z?z.row===e.row&&z.column==z.column:!t};r&&(L.top=5,L.right=5,L.bottom=5,L.left=5);let B=r||g||!E,[P,F]=s<l?[s,s]:[l,l],V=P-L.left-L.right,O=F-L.top-L.bottom,Z=Math.min(V,O)/2,W=V/2,U=dr({targetValue:"donut"===o?(null==u?void 0:u.radius)||.5:1,initialValue:1,duration:b}),G=null!=(t=null==h?void 0:h.legendPosition)?t:"bottom",Q=c2(),{labelPad:q,labels:J}=du({showLabels:m,cells:S,radius:Z,textStyles:Q,chartWidth:V,sort:null}),$=Z-q,Y=$*U,X=e=>(0,p.jsx)(dm,{cells:S,colors:T,donutThickness:Y,duration:b,isDummy:e,isFocused:N,isThumbnail:r,onClick:x,onDoubleClick:f,radius:$,setFocus:H,tooltipEnter:A,tooltipLeave:k}),ee=["top","left"].includes(G),et=["right","left"].includes(G),en="".concat(et?"row":"column").concat(ee?"-reverse":"");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(e6.s,{height:"100%","data-test":"pie-chart-container",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",flexDirection:en,gap:1,justifyContent:ee?"flex-end":"flex-start",onContextMenu:y,children:[(0,p.jsx)("svg",{style:{aspectRatio:"1",minHeight:"2em",overflow:"hidden"},viewBox:"0 0 ".concat(P," ").concat(F),children:(0,p.jsx)(cy.A,{top:O/2+L.top,left:W+L.left,children:(0,p.jsxs)(p.Fragment,{children:[X(!0),X(!1),(0,p.jsx)(dp,{labels:J,isFocused:N,radius:$,textStyles:Q,colors:[...T.values()],explodeOffset:15})]})})}),!B&&(0,p.jsx)(cU,{width:s,position:G,data:S,getColor:e=>T.get(e.position.row),render:e=>{let{position:{row:t}}=e;return n.getCellOrThrow({row:t,column:E.id}).label},textColor:c,getOpacity:e=>N(e.position)?1:.2,onMouseOver:e=>()=>H(e.position),onMouseLeave:()=>()=>H(null)})]}),w()]})},dg=e=>{let{arc:t,duration:n=.2,path:i,getColor:a,tooltipEnter:r,tooltipLeave:s,onClick:l,onDoubleClick:o,focused:c,setFocused:d,isThumbnail:u,radius:h,isDummy:g,isDonut:m,...x}=e,{startAngle:f,endAngle:b}=t,C=a(t.data),[y,v]=(0,I.useState)(f),[w,A]=(0,I.useState)(f),[k,L]=(0,I.useState)(C),{clickHandler:j,doubleClickHandler:E}=cG();(0,I.useEffect)(()=>{(0,ck.i)(y,[y,b],{duration:n,onUpdate:e=>v(e)})},[b]),(0,I.useEffect)(()=>{(0,ck.i)(w,[w,f],{duration:n,onUpdate:e=>A(e)})},[f]),(0,I.useEffect)(()=>{(0,ck.i)(k,C,{duration:n,onUpdate:e=>L(e)})},[C]);let S=c?u?4:15:0,M=(w+y)/2,_=S>0?"translate(".concat(Math.sin(M)*S,", ").concat(-(Math.cos(M)*S*1),")"):"";return(0,p.jsx)("g",{transform:_,style:{transition:"transform ".concat(n,"s")},children:(0,p.jsx)("path",{d:i({...t,startAngle:w,endAngle:y}),fill:k,stroke:g||m?"transparent":"var(--card-color)",strokeWidth:.02*h,strokeLinecap:"round",strokeLinejoin:"round",onMouseMove:e=>{d(!0),null==r||r(t.data)(e)},onMouseLeave:e=>{d(!1),null==s||s(t.data)(e)},onClick:l?j(l.bind(void 0,t.data)):void 0,onDoubleClick:o?E(o.bind(void 0,t.data)):void 0,...x})})},dm=e=>{let{cells:t,colors:n,donutThickness:i,duration:a,isDummy:r,isFocused:s,isThumbnail:l,onClick:o,onDoubleClick:c,radius:d,setFocus:u,tooltipEnter:h,tooltipLeave:g}=e;return(0,p.jsx)(di.A,{data:t,outerRadius:d,innerRadius:r?0:d-i,pieValue:e=>{let{data:t}=e;return t},pieSort:null,pieSortValues:null,padAngle:r?0:.016*(i<d),children:e=>{let{arcs:t,...m}=e;return t.map(e=>(0,p.jsx)(dg,{arc:e,...m,radius:d,isDonut:i<d,focused:!r&&s(e.data.position,!0),setFocused:t=>{u(t?e.data.position:null)},getColor:e=>r?"transparent":n.get(e.position.row),tooltipEnter:h,tooltipLeave:g,duration:r?0:a,isThumbnail:l,onClick:o,onDoubleClick:c,isDummy:!!r},e.data.key))}})};var dx=n(5872),df=n(14389),db=n(45002);let dC=e=>{let{isResizing:t,onResizing:n,setIsResizing:i,cloneBoxProps:a={},showResizeControls:r,disableCloning:s,children:l,...o}=e,c=(0,I.useRef)(null),d=(0,I.useRef)(null),u=(0,I.useRef)(void 0);return(0,I.useEffect)(()=>{if(!s&&(!0===t&&d.current&&u.current&&d.current.appendChild(u.current),!t&&u.current)){var e;null==(e=u.current.parentNode)||e.removeChild(u.current)}},[t]),(0,p.jsxs)(p.Fragment,{children:[t&&!s?(0,p.jsx)(h.a,{filter:"blur(15px)",...a,ref:d,width:"100%",height:"100%",position:"relative","data-test":"resize-placeholder"}):(0,p.jsx)(h.a,{ref:c,width:"100%",height:"100%",filter:t?"blur(4px) opacity(0.75)":void 0,children:l}),r&&(0,p.jsx)(db.u4,{setIsResizing:e=>{if(!s&&e){var t;u.current=null==(t=c.current)?void 0:t.cloneNode(!0);let e=u.current;e&&(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="auto",e.style.height="auto")}i(e)},onResizing:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let{width:r,height:s}=e,l=u.current;if(!l)return;let o={width:l.offsetWidth,height:l.offsetHeight},c=r/o.width,d=s/o.height;l.style.transform="scale(".concat(c,", ").concat(d,")"),l.style.transformOrigin="top left",null==n||n(e,...i)},...o})]})};var dy=n(21033),dv=n(72104);let dw=e=>{var t,n;let{state:i,dispatch:a}=(0,I.useContext)(c0.uR),[r,s]=(0,I.useState)(new Date),l=(0,I.useRef)(!1),o=i.feedback;return((0,I.useEffect)(()=>{if(!(null==o?void 0:o.length))return;let e=[],t=o.filter(t=>{let n=t.dismissable;return n instanceof Date&&(!(n<=r)||(e.push(t.id),!1))});e.length&&a((0,da.sA)(...e)),!l.current&&t.length&&(l.current=setTimeout(()=>{l.current=!1,s(new Date)},1e3))},[o,r,a]),null==(t=i.feedback)?void 0:t.length)?(0,p.jsx)(ey.B,{marginY:2,...e,children:null==(n=i.feedback)?void 0:n.map(e=>(0,p.jsxs)(n0.F,{marginBottom:1,status:e.severity,children:[(0,p.jsx)(n1._,{}),(0,p.jsx)(o8.T,{flexGrow:1,children:e.message}),e.dismissable&&(0,p.jsx)(dv.U,{cursor:"pointer",onClick:()=>{a((0,da.sA)(e.id))}})]},e.id))}):null};var dA=n(23907),dk=n(71024),dL=n.n(dk);let dj=dL()(async()=>(await Promise.all([n.e(7585),n.e(7155),n.e(1940)]).then(n.bind(n,61940))).DataEditor,{loadableGenerated:{webpack:()=>[61940]},ssr:!1,loading:()=>(0,p.jsx)(e6.s,{m:5,h:"100%",justifyContent:"center",children:(0,p.jsx)(tj.y,{size:"lg"})})}),dE=e=>(0,p.jsx)(dj,{...e}),dS=(0,c0.en)(e=>{let{onChange:t,onClose:n,data:i,isOpen:a,renderChart:r,attributes:s,updateAttributes:l,accentColor:o,selectedCell:c,cardColor:d}=e,u=(0,K.GV)(ed.SJ),g=(0,D.Ik)((0,D.fQ)(u));return(0,p.jsxs)(nY._s,{placement:"bottom",onClose:n,isOpen:a,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(ef.m,{}),(0,p.jsxs)(nX.z,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transitionDuration:{enter:"0.4s"},children:[(0,p.jsx)(eA.s,{}),(0,p.jsxs)(ek.c,{p:0,h:"100%",overflow:"auto","data-testid":"chart-editor-body",display:"flex",flexDir:"column",children:[(0,p.jsx)(eC.r,{children:(0,p.jsx)(em.x6,{id:"44wbJb"})}),(0,p.jsxs)(e6.s,{direction:{base:"column",xl:"row-reverse"},overflow:"auto",gap:5,px:5,children:[(0,p.jsxs)(e6.s,{direction:{base:"column",lg:"row",xl:"column"},width:{base:"auto",xl:"40%","2xl":"30%"},gap:5,children:[(0,p.jsx)(h.a,{flexGrow:{base:1,xl:0},flexShrink:0,flexBasis:"auto",borderRadius:"md",overflow:"hidden",children:(0,p.jsx)(h.a,{background:d,borderRadius:"md",padding:8,maxWidth:"100%",h:"xs",children:(0,p.jsx)(dy.A,{style:{position:"relative",width:"100%",height:"100%"},children:e=>{let{width:t,height:n}=e;return r({data:i,width:t,height:n,textColor:g})}})})}),(0,p.jsx)(h.a,{background:"gray.50",borderRadius:"md",children:(0,p.jsx)(dA.z,{attributes:s,updateAttributes:l,accentColor:o})})]}),(0,p.jsx)(ew.c,{display:{base:"block",xl:"none"}}),(0,p.jsxs)(h.a,{flexGrow:1,zIndex:1,overflow:{xl:"auto"},children:[(0,p.jsx)(dE,{onChange:t,data:i||cf.h.createEmpty(2,3),selectedCell:c}),(0,p.jsx)(dw,{})]})]})]})]})]})}),dM=e=>{let t=(0,I.useRef)(!1),[n,i]=(0,I.useState)(!1);(0,I.useEffect)(()=>{if(t.current||null===e)return;let n=!1;e.columns.forEach((t,i)=>{let a=e.getCellAtIndex({row:0,column:i});n=(0,cM.aH)(a,e)||n}),t.current=!0,n&&i(n)},[e])},dI=e=>{let{editor:t,node:n,getPos:i}=e,a=(0,I.useCallback)(()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),t.chain().deleteSelectionAndSelectNear().run())},[t,i]),{attrs:r}=n,s=!!r.data,l=r.colorScheme,o=r.chartType,c=e=>{let n=i();"number"==typeof n&&(t.commands.selectNodeAtPos(n),t.chain().updateAttributes("chart",e).focus().run())},d=(0,og.d)({editor:t,node:n,getPos:i});return[{key:"chart-options",title:(0,p.jsx)(em.x6,{id:"nuBbBr"})},{divider:!0},...d,{divider:!0},{key:"edit-chart",label:s?(0,p.jsx)(em.x6,{id:"BhcOHV"}):(0,p.jsx)(em.x6,{id:"UHoZ5e"}),icon:e2.zLW,onClick:()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),t.commands.editSelectedChart())}},{divider:!0},{key:"change-color-scheme",label:(0,p.jsx)(em.x6,{id:"q3f9iw"}),icon:e2.wIs,items:[{key:"default",label:e5.Ru._({id:"ovBPCi"}),check:!l,onClick:()=>{c({colorScheme:void 0})}},...Object.entries(cS.fA).map(e=>{let[t,n]=e;return{key:t,label:n.label(),check:t===l,onClick:()=>{c({colorScheme:t})}}})]},{key:"horizontal-alignment",label:(0,p.jsx)(em.x6,{id:"9ms+e0"}),icon:e2.ecg,items:m.gj.map(e=>{let{name:n,key:i,icon:a,checkActive:r,apply:s}=e;if(r&&s)return{key:i,label:n(),check:r(t),icon:a,onClick:()=>{s(t)}}}).filter(Boolean)},{divider:!0},{key:"switch-chart-type",label:(0,p.jsx)(em.x6,{id:"U2Nq+R"}),icon:e2.$Fj,items:Object.entries(cS.XD).map(e=>{let[t,{label:n,icon:i}]=e;return{key:t,label:n(),icon:i,check:o===t,onClick:()=>c({chartType:t})}})},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e2.yLS,onClick:a,color:"red.500"}]},d_=e=>{let{node:t,editor:n,selected:i,updateAttributes:a,decorations:r,getPos:s}=e,{chartType:l,colorScheme:o,data:c,dimensions:d={ratio:.5},hideLabels:u,showInlineLabels:x,chartAttributes:f={},horizontalAlign:b}=t.attrs,C=(0,I.useMemo)(()=>{try{return c?ch.A.parse(c):null}catch(e){return console.error("[DATALOSS] Error parsing serialized chart",e),console.log(c),null}},[c]),y=(0,K.CU)(),v=(0,K.GV)(ed.Cl),w=(0,ec.FX)(),A=(0,K.GV)(ed.Ik),k=(0,ec.CJ)(n),L=(0,K.GV)(ed.r9),j=v&&k&&A,{theme:S,cardColor:M}=(0,T.a)(r),{ref:_,isResizing:R,setIsResizing:z,resizeableSx:H}=(0,db.Y3)(n),N=(0,I.useCallback)(e=>{a({dimensions:{width:e.width,height:e.height}})},[a]),[B,P]=(0,I.useState)(cS.UG);dM(C),(0,I.useEffect)(()=>{R?P(0):setTimeout(()=>{P(cS.UG)},1e3*cS.UG)},[R]);let F=n.isThumbnail||!1,[V,O]=(0,I.useState)(),Z=!F&&L===t.attrs.id,W=e=>{if(e)return void y.dispatch((0,ed.Jr)({chartId:t.attrs.id}));y.dispatch((0,ed.Jr)({chartId:null}))},U=(0,I.useMemo)(()=>{switch(l){case"pie":case"donut":return dh;case"line":return c8;default:return c5}},[l]),G=(0,D.Ik)((0,D.VH)(S)),Q=e=>{v&&A&&(O(e),W(!0))};(0,I.useEffect)(()=>{V&&(null==C?void 0:C.getCell(V.position))!==V&&O(void 0)},[V,Z]);let q=e=>{var t;let{data:n,width:i,height:a,textColor:r="var(--body-color)",showEditInPlaceholder:s=!1,onContextMenu:d=()=>{}}=e,g=n&&(null==(t=c9.K.nonEmpty(n))?void 0:t.data);return!g||!cL(g)||g.isEmpty()?(0,p.jsx)(dT,{setEditing:s?W:void 0,onContextMenu:d}):(0,p.jsx)(U,{animationDuration:B,data:g,colorScheme:o||void 0,width:i,height:a,accentColor:G,textColor:r,chartOptions:f,onDataDoubleClick:Q,hideLabels:u,showInlineLabels:x,backgroundColor:M,onContextMenu:d,TooltipInner:e=>(0,p.jsx)(p.Fragment,{children:c.columns.map(t=>{var n;return(0,p.jsxs)(h.a,{as:"p",mb:1,children:[t.label&&(0,p.jsxs)(E.E,{as:"b",children:[t.label,": "]}),(0,p.jsx)(E.E,{as:"span",children:null==(n=g.getCell({row:e.position.row,column:t.id}))?void 0:n.textValue},t.id)]},t.id)})}),chartType:l,isThumbnail:F})},J=dD(d),$="width"in d?d.width:df.St;w&&($=Math.min($,df.St/2));let Y=$*J,X=(0,m.yp)(b),ee=dI(e),{onOpenContextMenu:et}=(0,lx.$)({editor:n,contextMenuItems:ee,getPos:s});return(0,t8.l)()?(0,p.jsx)(g.u,{as:"div",...e,children:(0,p.jsx)(e6.s,{w:"100%",dir:(0,m.fZ)(r,b),className:dx.S,sx:H,css:X,direction:"column",onDoubleClick:()=>{j&&W(!0)},_focusWithin:{shadow:"outline"},children:(0,p.jsxs)(h.a,{ref:_,className:"chart",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,maxW:"100%",minW:"min(10em, 100%)",minH:"min(10em, 100%)",width:!function(e){return"width"in e&&"height"in e}(d)?"calc(100% * var(--media-scale))":dR(d.width),aspectRatio:!w&&J?"1/".concat(J):void 0,position:"relative","data-drag-handle":!0,"data-scale-preview":!0,children:[(0,p.jsx)(dC,{showResizeControls:j&&i,imageWrapperRef:_,isResizing:R,setIsResizing:z,updateResizeAttrs:N,refreshDeps:[t.attrs],disableCloning:!0,keepRatio:!1,children:C?q({data:C,width:$,height:Y,showEditInPlaceholder:!F&&v,onContextMenu:et}):(0,p.jsx)(dT,{setEditing:F||!v?void 0:W})}),(0,p.jsx)(dS,{renderChart:q,cardColor:M,data:C,isOpen:Z,onClose:()=>W(!1),onChange:e=>{a({data:ch.A.serialize(e)})},attributes:t.attrs,updateAttributes:a,accentColor:G,selectedCell:V})]})})}):(0,p.jsx)(h.a,{w:$,h:Y})},dD=e=>"ratio"in e?e.ratio:e.height/e.width,dR=e=>"calc(".concat(e," * var(--font-size) / 16)"),dT=e=>{let{setEditing:t,onContextMenu:n}=e,i=(0,rY.rd)();return(0,p.jsxs)(ep.T,{spacing:3,justify:"center",contentEditable:!1,color:i?lC.N.DARK_COLOR:lC.N.LIGHT_COLOR,h:"100%",backgroundColor:i?lC.N.DARK_BG:lC.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"chart-placeholder",onContextMenu:n,children:[(0,p.jsx)(M.g,{size:"2x",icon:iG.s67}),t&&(0,p.jsx)(eq.$,{size:"xs",fontFamily:"body",onClick:()=>t(!0),children:(0,p.jsx)(em.x6,{id:"UHoZ5e"})})]})};var dz=n(70666);let dH=()=>(0,cp.Ak)(5),dN=new W.hs("UniqueMediaId"),dB=sV.S.extend({name:"UniqueChartId"}).configure({attributeName:"id",types:["chart"],initialValue:dH,filterTransaction:sZ.kz,pluginKey:dN}),dP=l.bP.create({name:"chart",group:"cardBlock layoutBlock",selectable:!0,draggable:!0,addNodeView:()=>(0,d.gu)(d_,{update:u.z0}),addAttributes:()=>({id:(0,sO.e)(()=>(0,cp.Ak)(5)),chartType:{default:"bar"},chartAttributes:{...(0,Y.tb)("chartAttributes"),default:{}},colorScheme:{isRequired:!1},dimensions:{...(0,Y.tb)("dimensions"),default:{ratio:.56}},hideLabels:{isRequired:!1,default:!1},showInlineLabels:{isRequired:!1,default:!1},data:{...(0,Y.tb)("data")}}),addCommands:()=>({insertChart:(e,t)=>n=>{let{dispatch:i,editor:a,commands:r}=n;if(!i)return!1;let{schema:s}=a,l=s.nodes.chart,o=dH(),c=l.createChecked({id:o,chartType:e,data:t&&e?(0,dz.$)(e):void 0});return r.insertContent(c.toJSON())},editSelectedChart:()=>e=>{let{state:t}=e,n=t.selection;if(!(n instanceof W.nh)||!dF(n.node))return!1;let i=n.node;return(0,K.KA)().dispatch((0,ed.Jr)({chartId:i.attrs.id})),!0}}),addExtensions:()=>[dB],parseHTML(){return[{tag:'div[data-type="'.concat(this.name,'"]')},{tag:"chart",getAttrs(e){try{if("string"==typeof e)return!1;let t=[...e.children].find(e=>"TABLE"===e.nodeName);if(!t)return null;let n=cC.parse(t);if(!n)return{};return{data:ch.A.serialize(n)}}catch(e){return console.error("[caught]",e),!1}}}]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e,{"data-data":i,...a}=n,r=["chart",(0,l.KV)(this.options.HTMLAttributes,a)];return t.attrs.data&&r.push(cC.serialize(ch.A.parse(t.attrs.data))),r},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)({"data-type":this.name},this.options.HTMLAttributes,t)]}}),dF=e=>"chart"===e.type.name;var dV=n(32973);let dO=n(76931).Ay.extend({priority:ee.y.Code,inclusive:!1,addKeyboardShortcuts(){return{"Mod-Shift-C":()=>this.editor.commands.toggleCode()}}});var dZ=n(16842),dW=n(88608),dU=n(45143);let dG=e=>{let[t,n]=(0,I.useState)(new Date),i=(0,I.useRef)(!1);return(0,I.useEffect)(()=>{i.current&&n(new Date),i.current=!0;let e=setInterval(()=>{n(new Date)},6e4);return()=>{clearInterval(e)}},[e]),t},dK=e=>{var t;let n=(0,dU.h5)({base:4,md:8})||8,{node:i,decorations:a}=e,{showTime:s,hiddenContributorIds:l}=i.attrs,o=(0,K.GV)(ed.zB),c=(0,I.useMemo)(()=>(o||[]).filter(e=>!l.includes(e.user.id)),[o,l]),d=(0,eD.En)(),u=(0,K.GV)(eR.Jo),h=null==u?void 0:u.editedTime,x=dG(h).toISOString(),f=c.length-n,b=(0,m.fZ)(a),C=null!=(t=e.node.attrs.horizontalAlign)?t:"rtl"===b?"right":"left",y=(0,I.useMemo)(()=>({left:"rtl"===b?"row-reverse":"row",center:"column",right:"rtl"===b?"row":"row-reverse"})[C],[b,C]);return(0,p.jsx)(p.Fragment,{children:c.length>0&&(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(e6.s,{dir:b,userSelect:"none",contentEditable:!1,justify:"flex-start",align:"center",direction:y,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,children:[(0,p.jsxs)(dZ.Z,{sx:{".avatar-overflow-activator":{height:"1.6em",width:"1.6em",minH:"1.6em",minW:"1.6em",fontSize:"inherit",span:{fontSize:"0.68em"}}},children:[c.slice(0,n).map(e=>(0,p.jsx)(eg.Vc,{width:"1.6em",height:"1.6em",fontSize:"inherit",size:"sm",shadow:"base",sx:{"@media print":{shadow:"none"}},borderWidth:"1px",name:e.user.displayName,label:d&&e.user.displayName?e5.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,dW.Gx)(e.lastEdited,x)}}):" ",src:e.user.profileImageUrl},e.user.id)),f>0&&(0,p.jsx)(eg.oQ,{tooltipLabel:e5.Ru._({id:"25VyZX"}),count:f,avatars:c.map(e=>({name:e.user.displayName||"",id:e.user.id,profileImageUrl:e.user.profileImageUrl||"",color:"white"})),disabled:!0})]}),(0,p.jsxs)(e6.s,{direction:"column",marginInline:"0.5em",lineHeight:"1.4",textAlign:C,children:[(0,p.jsx)(E.E,{className:"contributors-list",children:1===c.length?(0,p.jsx)(em.x6,{id:"t490IT",values:{0:c[0].user.displayName}}):(0,p.jsx)(em.x6,{id:"KNjuGh",values:{0:c.length}})}),!r.$.GAMMA_PUPPETEER_SERVICE&&h&&s&&(0,p.jsx)(E.E,{fontSize:"0.75em",children:d?(0,p.jsx)(em.x6,{id:"gUWkFH",values:{0:(0,dW.Gx)(h,x)}}):" "})]})]})})})},dQ=e=>{var t;let n=null!=(t=e.node.attrs.horizontalAlign)?t:"left",i=(0,I.useMemo)(()=>({left:"row",center:"column",right:"row-reverse"})[n],[n]);return(0,p.jsx)(cn.V,{children:(0,p.jsxs)(e6.s,{direction:i,alignItems:"center",gap:"1em",children:[(0,p.jsx)(ct,{borderRadius:"full",boxSize:"4em"}),(0,p.jsx)(ct,{h:"2em",w:"14em"})]})})},dq=l.bP.create({name:"contributors",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({showTime:{default:!0},hiddenContributorIds:{default:[],...(0,Y.tb)("hiddenContributorIds")}}),addCommands:()=>({toggleShowTime:()=>e=>{let{commands:t,state:n}=e,{selection:i}=n;if(!(i instanceof W.nh))return!1;let{node:a}=i;return"contributors"===a.type.name&&(t.updateAttributes("contributors",{showTime:!a.attrs.showTime}),!0)},toggleOneContributorVisibility:e=>t=>{let{commands:n,state:i}=t,a=(0,K.KA)().getState(),r=(0,ed.zB)(a);if(!r||1===r.length)return!1;let{selection:s}=i;if(!(s instanceof W.nh))return!1;let{hiddenContributorIds:l}=s.node.attrs,o=[];if(l.includes(e))o=l.filter(t=>t!==e);else{if(l.length+1===r.length)return!1;o=[...l,e]}return n.updateAttributes("contributors",{hiddenContributorIds:o}),!0},toggleAllContributorsVisibility:()=>e=>{let{commands:t,state:n}=e,i=(0,K.KA)().getState(),a=(0,ed.zB)(i);if(!a||1===a.length)return!1;let{selection:r}=n;if(!(r instanceof W.nh))return!1;let{hiddenContributorIds:s}=r.node.attrs,l=[];if(s.length>0)l=[];else{let e=(0,ed.JV)(i);l=a.filter(t=>t.user.id!==(null==e?void 0:e.id)).map(e=>e.user.id)}return t.updateAttributes("contributors",{hiddenContributorIds:l}),!0}}),parseHTML:()=>[{tag:"div[class=contributors]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"contributors"})]},addNodeView(){return this.editor.isThumbnail?(0,d.gu)(dQ,{update:u.z0}):(0,d.gu)(dK,{update:u.z0})}});var dJ=n(73971);let d$="125em",dY=e=>{let{svg:t,theme:n}=e;if(!t)return null;let i=(0,dJ.k)(n);return(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"diagram-svg",sx:{svg:{width:"100%",height:"auto",maxH:d$,...i}}})};var dX=n(28647),d0=n(74355),d1=n(88839),d2=n(55292);let d3=dL()(async()=>(await Promise.all([n.e(8683),n.e(7547),n.e(678),n.e(629)]).then(n.bind(n,60629))).Tldraw,{loadableGenerated:{webpack:()=>[60629]},ssr:!1}),d5=e=>{let{theme:t=d2.z}=e,n=(0,nI.ZI)(t),i=(0,dJ.k)(t),a=(0,d1.M)(t),r={fill:a.shapeFill,strokeWidth:a.shapeBorder};return(0,p.jsx)(e6.s,{sx:{...n,"--tl-font-draw":"var(--body-font)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",...i,"--tl-text-outline":"transparent","--color-background":"var(--card-color)"},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:(0,p.jsx)(d3,{...e,defaultStyles:r})})},d4=async e=>{let t=Array.from(e.getCurrentPageShapeIds()),n=await e.getSvg(t,{padding:8,scale:1});if(n)return console.debug("generated svg",n),n},d6=(e,t,n)=>{e&&t&&(Array.from(e.getCurrentPageShapeIds()).length>0?e.updateShapes(t):e.createShapes(t),n&&e.updateAssets(n))},d9=(e,t)=>{e.user.updateUserPreferences({isDarkMode:(0,D.Mw)(t)}),setTimeout(()=>{e.zoomToFit()})},d7=e=>{let{isOpen:t,isEditable:n,onClose:i,isDrawingEditorActive:a,setDrawingEditorActive:r,editor:s,...l}=e,{node:o,updateAttributes:c}=l,{assets:d,shapes:u}=o.attrs,h=(0,K.GV)(ed.SJ),[g,m]=(0,I.useState)();(0,I.useEffect)(()=>{g&&d6(g,u,d)},[u,d,g,c]);let x=(0,I.useCallback)(e=>{m(e),window.tldrawEditor=e,d9(e,h)},[h]),f=(0,I.useCallback)(async()=>{if(!g)return;let e=await d4(g);e?c({svg:e.outerHTML}):c({svg:null})},[g,c]),b=(0,I.useCallback)(()=>{g&&c({shapes:g.getCurrentPageShapes(),assets:g.getAssets(),version:2})},[c,g]),C=(0,eD.lW)(b,500),y=(0,I.useCallback)(()=>{n&&f(),r(!1),i()},[i,f,r,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(eg._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eg.QP,{}),(0,p.jsxs)(eg.zj,{dir:"ltr",borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&r(!0)},transition:{enter:{duration:.4}},overflow:"hidden",children:[(0,p.jsx)(eg.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:a?(0,p.jsx)(d5,{onMount:x,onChange:n?C:void 0,orgId:s.gammaOrgId,theme:h}):(0,p.jsx)(e6.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(tj.y,{size:"xl"})})}),(0,p.jsx)(eg.s1,{zIndex:400,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})};var d8=n(98968);let ue=e=>{let{editor:t,node:n,getPos:i}=e,{id:a,fullWidthBlock:r}=n.attrs,s=(0,I.useCallback)(()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),t.chain().deleteSelectionAndSelectNear().run())},[t,i]),l=(0,I.useCallback)(()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),(0,d0.CD)(a,!0))},[t,i,a]),o=(0,og.d)({editor:t,node:n,getPos:i});return{contextMenuItems:[{key:"diagram-options",title:(0,p.jsx)(em.x6,{id:"i+ShMB"})},{divider:!0},...o,{divider:!0},{key:"edit-diagram",label:(0,p.jsx)(em.x6,{id:"SsJ/l2"}),icon:e2.MT7,onClick:l},{divider:!0},{key:"add-comment",label:(0,p.jsx)(em.x6,{id:"oFsfkI"}),icon:e2.DN2,onClick:()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),(0,d8.wG)(t.state.selection))}},{divider:!0},{key:"align",label:(0,p.jsx)(em.x6,{id:"9ms+e0"}),icon:e2.ecg,disabled:r,items:m.gj.map(e=>{let{name:n,key:i,icon:a,checkActive:s,apply:l}=e;return{key:i,check:null==s?void 0:s(t),icon:a,label:n(),onClick:()=>{l&&l(t),r&&t.commands.updateAttributes("diagram",{fullWidthBlock:!1})}}})},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e2.yLS,onClick:s,color:"red.500"}]}},ut=e=>{let{node:t,updateAttributes:n,selected:i,editor:a,getPos:r,decorations:s}=e,{width:l,meta:o,id:c,horizontalAlign:d,svg:u,shapes:x}=t.attrs,f=(0,K.GV)(ed.Cl),b=(0,K.GV)(ed.Ik),C=(0,ec.CJ)(a),y=f&&C&&b,v=(0,K.GV)(ed.Xu),w=!!v&&v===c,[A,k]=(0,I.useState)(!1),L=(0,K.GV)(ed.SJ),j=(0,rY.rd)(),{ref:E,setIsResizing:S,resizeableSx:_}=(0,db.Y3)(a),{contextMenuItems:D}=ue({editor:a,node:t,getPos:r}),{onOpenContextMenu:R}=(0,lx.$)({editor:a,contextMenuItems:D,getPos:r}),T=(0,I.useCallback)(()=>{(0,d0.CD)(c,!0)},[c]),z=(0,I.useCallback)(()=>{let e=r();"number"==typeof e&&a.chain().setNodeSelection(e).focus().run()},[a,r]),H=(0,I.useCallback)(()=>{(0,d0.CD)(null,!1)},[]),N=(0,I.useCallback)((e,i)=>{n({...t.attrs,fullWidthBlock:void 0===i?t.attrs.fullWidthBlock:i,...e})},[t.attrs,n]),B=l||(null==o?void 0:o.width),P=!u,F=x&&x.length>0,{isFullWidth:V}=(0,dX.D)(s),O=(0,m.yp)(V?"center":d);return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(e6.s,{dir:(0,m.fZ)(s,d),w:"100%",className:dx.S,css:{...O,".pptx-exporting-image":{".textbox":{visibility:"hidden"}}},sx:_,direction:"column",_focusWithin:{shadow:"outline"},onContextMenu:R,children:[(0,p.jsxs)(h.a,{ref:E,className:"diagram",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:V?"calc(100% * var(--media-scale))":B?"calc(".concat(B," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",maxH:d$,position:"relative",minH:P?"6em":"auto","data-drag-handle":!0,children:[y&&i&&!V&&(0,p.jsx)(db.u4,{imageWrapperRef:E,setIsResizing:S,updateResizeAttrs:N,refreshDeps:[t.attrs]}),(0,p.jsx)(dY,{svg:u,theme:L}),y&&!w&&!P&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:z,onDoubleClick:T}),P&&(0,p.jsxs)(ep.T,{spacing:3,justify:"center",contentEditable:!1,color:j?lC.N.DARK_COLOR:lC.N.LIGHT_COLOR,h:"7em",backgroundColor:j?lC.N.DARK_BG:lC.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",onDoubleClick:f?T:void 0,children:[(0,p.jsx)(M.g,{size:"2x",icon:iG.qTS}),f&&(0,p.jsx)(eq.$,{size:"xs",onClick:T,fontFamily:"body",children:F?(0,p.jsx)(em.x6,{id:"3IPx8n"}):(0,p.jsx)(em.x6,{id:"trQ3Gx"})})]})]}),w&&(0,p.jsx)(d7,{...e,isOpen:w,isEditable:f,onClose:H,isDrawingEditorActive:A,setDrawingEditorActive:k})]})})},un=l.bP.create({name:"diagram",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,sO.e)(ua),shapes:{...(0,Y.tb)("shapes")},assets:{...(0,Y.tb)("assets"),default:{}},meta:{...(0,Y.tb)("meta"),default:{}},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=diagram]"},{tag:"diagram[bookmark]",getAttrs:X.Ll}],renderHTMLforAI(e){let{node:t}=e;return["diagram",{bookmark:(0,X.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"diagram"})]},addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof W.nh&&n.node.type.name===e?n.node:void 0};return{editSelectedDiagramBlock:()=>e=>{let{state:n}=e,i=t(n);return i&&(0,K.KA)().dispatch((0,ed.v5)({drawingId:i.attrs.id})),!0}}},addExtensions:()=>[ur],addNodeView:()=>(0,d.gu)(ut,{update:u.z0})}),ui=new W.hs("UniqueMediaId"),ua=()=>(0,cp.Ak)(5),ur=sV.S.extend({name:"UniqueDiagramId"}).configure({attributeName:"id",types:["diagram"],initialValue:ua,filterTransaction:sZ.kz,pluginKey:ui});var us=n(36811);let ul=()=>(0,p.jsx)(d.VR,{as:"div",children:(0,p.jsx)(h.a,{contentEditable:!1,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,"data-drag-handle":!0,py:"0.25em",position:"relative",transform:"translateY(0.25em)",children:(0,p.jsx)(ew.c,{backgroundColor:"var(--body-color-muted)",height:"0.125em",opacity:1})})}),uo=/^(---|___|—-)/,uc=l.bP.create({name:"divider",group:"block cardNotesBlock",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:'hr[class="divider"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,l.KV)(t,{class:"divider"})]},addNodeView:()=>(0,d.gu)(ul),addInputRules(){return[(0,us.wN)({find:uo,type:this.type})]}});var ud=n(4014),uu=n(70315);let up=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{cardMarginSettings:t}=(0,K.GV)(ed.Uu),n=eB(t);return e&&n};var uh=n(3912),ug=n(90221),um=n(55616),ux=n(81136);let uf=(0,I.memo)(e=>{let{theme:t,id:n}=e,i=(0,D.Mw)(t);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("filter",{id:n||"soft3d-small-inner-shadow",children:[(0,p.jsx)("feFlood",{floodColor:i?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.15)",result:"flood1"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood1",result:"composite1"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite1",result:"morphology1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology1",result:"blur1"}),(0,p.jsx)("feOffset",{dx:2,dy:2,in:"blur1",result:"offset1"}),(0,p.jsx)("feFlood",{floodColor:i?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)",result:"flood2"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood2",result:"composite2"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite2",result:"morphology2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology2",result:"blur2"}),(0,p.jsx)("feOffset",{dx:-2,dy:-2,in:"blur2",result:"offset2"}),(0,p.jsxs)("feMerge",{children:[(0,p.jsx)("feMergeNode",{in:"offset1"}),(0,p.jsx)("feMergeNode",{in:"offset2"})]}),(0,p.jsx)("feComposite",{operator:"atop",in2:"SourceGraphic"})]})})});uf.displayName="Soft3DSmallOuterShadow";let ub=(0,I.memo)(e=>{let{theme:t}=e,n=(0,nI.ZI)(t),i=(0,D.fQ)(t),a=(0,D.VH)(t);return(0,p.jsx)(h.a,{as:"svg",width:"0",height:"0",sx:n,children:(0,p.jsxs)("defs",{children:[(0,p.jsx)(uC,{theme:t}),(0,p.jsx)(uC,{theme:t,rtl:!0}),(0,p.jsx)(uy,{theme:t}),(0,p.jsx)(uy,{theme:t,rtl:!0}),(0,p.jsx)(uw,{color:(0,D.Ik)(a),id:"theme-accent-color-fill"}),(0,p.jsx)(uw,{color:(0,D.Ik)(i),id:"theme-body-color-fill"}),(0,p.jsx)(uA,{theme:t})]})})});ub.displayName="ThemeSVGDefs";let uC=(0,I.memo)(e=>{let{theme:t,rtl:n}=e,i=(0,D.VH)(t);return"linear-gradient"!==i.type?null:(0,p.jsx)(uv,{gradient:i,id:n?"theme-accent-gradient-linear-rtl":"theme-accent-gradient-linear",rtl:n})});uC.displayName="ThemeAccentGradientLinearDef";let uy=(0,I.memo)(e=>{let{theme:t,rtl:n}=e,i=(0,D.VH)(t),a=(0,d1.M)(t);if("linear-gradient"!==i.type)return null;let r=(0,D.Mw)(t),s=(0,D.Oq)(t),l="semi"===a.shapeFill?(0,ux.nz)(i,s,.5):i,o=(0,ux.Hh)(l,r?.25:.9);return o?(0,p.jsx)(uv,{gradient:o,id:n?"theme-accent-background-gradient-linear-rtl":"theme-accent-background-gradient-linear",rtl:n}):null});uy.displayName="ThemeAccentBackgroundGradientLinearDef";let uv=(0,I.memo)(e=>{let{gradient:t,id:n,rtl:i}=e,a=(i?180-t.angle:t.angle)*Math.PI/180,r=50+50*Math.cos(a+Math.PI),s=50+50*Math.sin(a+Math.PI),l=50+50*Math.cos(a),o=50+50*Math.sin(a);return(0,p.jsx)("linearGradient",{id:n,x1:"".concat(r,"%"),y1:"".concat(s,"%"),x2:"".concat(l,"%"),y2:"".concat(o,"%"),children:t.stops.map((e,t)=>{let{color:n,position:i}=e;return(0,p.jsx)("stop",{offset:"".concat(i,"%"),stopColor:n},t)})})});uv.displayName="LinearGradientDef";let uw=(0,I.memo)(e=>{let{color:t,id:n}=e;return t?(0,p.jsxs)("filter",{id:n,children:[(0,p.jsx)("feFlood",{floodColor:t,result:"flood"}),(0,p.jsx)("feComposite",{in:"flood",in2:"SourceAlpha",operator:"in"})]}):null});uw.displayName="ColorFillDef";let uA=(0,I.memo)(e=>{let{theme:t}=e,n=(0,d1.M)(t);return(0,p.jsx)(p.Fragment,{children:"soft3d"===n.shapeShadow&&(0,p.jsx)(uf,{theme:t,id:"theme-shape-shadow"})})});uA.displayName="ThemesV3SVGDefs";let uk=()=>(0,ec.FX)()?1:1.125;var uL=n(39385);let uj=e=>e.state.selection instanceof W.nh&&(0,uL.J)(e.state.selection.node)?void e.chain().focus(e.state.selection.from).blur().run():e.commands.blur();var uE=n(21290),uS=n(34807);let uM=()=>{let e=(0,K.GV)(ed.wC)===rb.w.SLIDE_VIEW,{src:t,width:n,height:i,paddingY:a,paddingX:r}=uH();if(!t)return null;let s=(0,nT.Ub)(t,nT.oc),l=e?{position:"absolute",right:"".concat(r,"px"),top:"".concat(a,"px"),justify:"end",align:"start",width:"".concat(n,"px"),height:"".concat(i,"px")}:{position:"sticky",left:"".concat(r,"px"),top:"calc(100% - ".concat(i,"px - ").concat(a,"px)"),justify:"start",width:"".concat(n,"px"),height:"".concat(i,"px")};return(0,p.jsx)(e6.s,{...l,className:"logo",zIndex:nr.$.customerLogo,borderRadius:"md",contentEditable:!1,userSelect:"none",children:(0,p.jsx)(tL._,{src:s,maxH:"100%",maxW:"100%",transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none","data-testid":"customer-logo","data-customer-logo-image":!0,objectFit:"contain",objectPosition:e?"top right":"bottom left"})})},uI=()=>{let{src:e,width:t,height:n}=u_((0,K.GV)(ed.SJ),uz);if(!e)return null;let i=(0,nT.Ub)(e,nT.oc);return(0,p.jsx)(e6.s,{w:"100%",justify:"center",align:"center",mt:6,mb:8,"data-id":"customer-logo-wrapper",children:(0,p.jsx)(tL._,{src:i,w:"".concat(t,"px"),zIndex:nr.$.customerLogo,h:"".concat(n,"px"),transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none",objectFit:"contain",objectPosition:"bottom"})})},u_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uT,n=1,i=e.logoUrl,{logoImage:a}=e.config;if(a&&a.meta){var r;n=ty()(a.meta.aspect_ratio||a.meta.width/a.meta.height,.5,3),i=null!=(r=a.src)?r:i}if(!i)return{width:0,height:0,paddingY:0,paddingX:0};let s=Math.sqrt(t/n),l=t>8e3?30:t>5e3?24:18;return{width:Math.round(s*n),height:Math.round(s),paddingY:l,paddingX:l,src:i}},uD={base:900,lg:2500,xl:4900,"2xl":8100,"3xl":1e4},uR={base:1600,md:2500,lg:4225,xl:7225,"2xl":9025,"4xl":12100},uT=4900,uz=5625,uH=()=>{let e=(0,K.GV)(ed.wC)===rb.w.SLIDE_VIEW,t=(0,uS.A)(e?uR:uD),n=eu.rS?uT:eu.hQ?8100:t,i=(0,K.GV)(ed.SJ),a=(0,ec.FX)();return{...u_(i,n),position:e?"top-right":a?"bottom":"bottom-left"}},uN=e=>(0,K.GV)(t=>{if((0,ed.wC)(t)!==rb.w.SLIDE_VIEW)return null;let n=(0,ed.FI)(t);if(!n||!(null==n?void 0:n.cardId))return null;let[i]=(0,l.xe)(e.state.doc,e=>(0,Q.jg)(e)&&e.attrs.id===n.cardId);if(!i)return console.warn("[usePresentingCardBackground] Unexpectedly couldnt find presentingCard ".concat(n.cardId)),null;let a=(0,Y.TK)(e.state.doc.resolve(i.pos+1),e=>(0,Q.jg)(e)&&e.attrs.background&&!e.attrs.background.inside).pop();return a?a.node.attrs.background:(console.warn("[usePresentingCardBackground] Unexpectedly couldnt find card at pos ".concat(i.pos)),null)},s0());var uB=n(29143);let uP=(0,cW.P)(h.a),uF=(e,t)=>{let n=!!(e&&t),i=!!(e&&!t),a=!!(!e&&t),r=(0,I.useRef)(n);return(0,I.useEffect)(()=>{r.current=n},[n,!!(!e&&!t)]),[i||a?r.current:n,n]},uV=e=>{let{editor:t,node:n,updateAttributes:i}=e,a=(0,rB.d4)(ed.wC),r=(0,K.GV)(ed.nD),s=(0,rB.d4)(ed.cS),l=(0,rB.d4)(ed.$i),o=(0,K.GV)(ed.SJ),c=a===rb.w.SLIDE_VIEW,u=uN(t),{background:g}=n.attrs,m=(0,ec.FX)(),x=uk(),[f,b]=uF(c,l);(0,I.useEffect)(()=>{!n.attrs.docId&&t.gammaDocId&&i({...n.attrs,docId:t.gammaDocId})},[n.attrs,t,i]);let C=(0,um.S)(o,r),y=(0,D.Mw)(o),v=(0,J.fS)(o,g),w=(0,J.FD)(v,y,t.isThumbnail?nT.XS:void 0),A=(0,J.FD)(c&&u&&u.type!==q.h.NONE?u:v,y,t.isThumbnail?nT.XS:void 0);console.debug("%c[DocComponent] Doc is rerendering","background-color: chartreuse",{isPresentModeReady:b,isPresentModeReadyLagging:f,presentingCardId:l});let k=uH(),L={width:"100%",'[data-animate-value="doc"]':{display:f?"none":void 0},...k.src&&c?{"--logo-push-x":"".concat(k.width+2*k.paddingX,"px"),"--logo-push-y":"".concat(k.height+2*k.paddingY,"px")}:void 0},j=(0,I.useCallback)(e=>{let n=e.target;return(!n.closest(".".concat(eo.p$))||!!n.getAttribute("data-outside-card-body"))&&(uj(t),!0)},[t]);(0,I.useEffect)(()=>uh.WC.on("keydown","DOC_BLUR",e=>!!(0,uu.Ay)("Esc")(e)&&!!t.isFocused&&(t.commands.blur(),e.preventDefault(),!0)),[t]);let E=(0,ec.UT)("comment"),M=up(!m),_=!m&&!c&&!M,R=(0,t9.u)("insertWidgetBottom")?uE.PX:uE.C9;return(0,p.jsxs)(d.VR,{as:"div","data-testid":"doc-node-root",style:{height:"100%"},children:[(0,p.jsx)(ug.m,{theme:o}),(0,p.jsx)(ub,{theme:o}),(0,p.jsx)(h.a,{onMouseDown:j,h:"100%",children:(0,p.jsxs)(e6.s,{className:"doc-content-wrapper",direction:"column",align:"center",pos:"relative",pb:m||c||!E?"0px":s?uE.bc:R,sx:C,onDragOver:ny.JO,minH:uB.env.STORYBOOK?"auto":"calc(var(--100vh) - var(--editor-padding-top, 0px))",children:[(0,p.jsx)(uO,{...w}),_&&(0,p.jsx)(e6.s,{alignSelf:"start",pos:"absolute",inset:"0",h:"100%",children:(0,p.jsx)(uM,{})}),(0,p.jsx)(ud.N,{children:(0,p.jsx)(uP,{className:"motion-present-mode-bg","data-doc-background-element-present-mode":!0,"data-export-master":!0,position:"fixed",zIndex:nr.$.presentBg,top:0,left:0,right:0,h:"100%",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},visibility:b?"visible":"hidden",transition:eo.Dt,css:eu.D1?void 0:{scrollbarGutter:"stable",overflow:"scroll"},...A},"presenting-background-"+l)}),(0,p.jsx)(e6.s,{sx:L,justify:"center",className:(0,S.cx)("document-content",c?"is-present-mode":"is-doc-mode"),css:{"--viewport-scale-factor":"".concat(x)},pt:"var(--doc-padding-top)",children:(0,p.jsx)(d.$p,{style:{width:"100%"}})}),m&&(0,p.jsx)(uI,{})]})})]})},uO=e=>{let t=(0,ec.FX)(),n=(0,rH.mG)()||t,i=(0,rH.mG)()?{style:{touchAction:"none",display:"contents"}}:{};return(0,p.jsx)(e6.s,{"data-doc-background-element":!0,position:"absolute",w:"var(--editor-width)",h:"100%",contentEditable:!1,userSelect:"none",clipPath:"inset(0)",top:0,left:0,...i,children:(0,p.jsx)(h.a,{"data-testid":"doc-background",width:"100%",height:"100%",position:"fixed",...n?{top:"0px"}:{},...e})})};var uZ=n(92828);let uW=l.bP.create({name:"doc",topNode:!0,content:"document"}),uU=l.bP.create({name:"document",content:"card+",isolating:!0,defining:!0,selectable:!1,addAttributes:()=>({aiOptions:{default:uZ.C.aiOptions,...(0,Y.tb)("aiOptions")},docId:{},background:{default:uZ.C.background,...(0,Y.tb)("background")},docFlags:{default:uZ.C.docFlags,...(0,Y.tb)("docFlags")},format:{},customCode:{default:uZ.C.customCode,...(0,Y.tb)("customCode")},settings:{default:uZ.C.settings,...(0,Y.tb)("settings")},generateStatus:{default:uZ.C.generateStatus},generateInfo:{default:uZ.C.generateInfo,...(0,Y.tb)("generateInfo")}}),addCommands:()=>({updateDocumentSettings:e=>t=>{let{commands:n}=t;return n.updateNestedAttributesAtPos(0,{settings:e})}}),addNodeView:()=>(0,d.gu)(uV,{update:u.z0,ignoreMutation:e=>{let{mutation:t}=e,n=t.target instanceof HTMLElement?t.target:t.target.parentElement,i="selection"!==t.type&&uG(n);return console.debug("[Document.ignoreMutation] isMutationOutsideDocContent:",i),!!i}}),parseHTML:()=>[{tag:"div[class=gamma-doc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gamma-doc"}),0]}}),uG=e=>{let t=null==e?void 0:e.parentElement;return!!t&&!t.closest(".document-content")};var uK=n(47687),uQ=n.n(uK),uq=n(39822),uJ=n(46510),u$=n(19297),uY=n(55504),uX=n(55424),u0=n(90278);let u1=(e,t)=>{var n;let i;if(!(null==(n=t.dataTransfer)?void 0:n.types.includes("text/x-column-index")))return null;let a=t.target;if(!a||!(a instanceof HTMLElement))return null;let r=a.closest("th.table-col-control");if(!r)return null;let s=r.getBoundingClientRect(),l=r.closest("table"),o=(null==l?void 0:l.getBoundingClientRect())||s,c=new DOMRect(s.left,o.top,s.width,o.height),d=.15*s.width,u=s.left+d,p=s.right-d;i=!(t.clientX<u)&&(t.clientX>p||t.clientX>s.left+s.width/2);let h=r.querySelector("[data-test-column-control]");return{pos:0,side:i?"right":"left",rect:c,colNumber:h?parseInt(h.getAttribute("data-test-column-control")||"0",10):0,tableNode:null}};var u2=n(8376);class u3{destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursor&&t.doc!=e.state.doc&&(this.cursor.pos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){var t,n,i,a,r;(((null==e?void 0:e.pos)||null)!=(null==(t=this.cursor)?void 0:t.pos)||(null==e?void 0:e.type)!=(null==(n=this.cursor)?void 0:n.type)||(null==e?void 0:e.side)!=(null==(i=this.cursor)?void 0:i.side))&&(this.cursor=e,null==e?(null==(r=this.element)||null==(a=r.parentNode)||a.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){var e;let t,n;if(null==this.cursor||!this.editorView)return;let i=this.editorView.state.doc.resolve(this.cursor.pos),a,r=()=>"";if("replaceImage"===this.cursor.type)a=this.cursor.rect,r=()=>e5.Ru._({id:"8OLLt2"});else if("gallery"==this.cursor.type&&(null==(e=this.cursor.node)?void 0:e.type.name)!=="gallery")a=this.cursor.rect,r=()=>e5.Ru._({id:"pl+vw2"});else if("blankRect"==this.cursor.type)a=this.cursor.rect,r=()=>"";else if("smartLayoutVariant"==this.cursor.type)a=this.cursor.rect,r=()=>e5.Ru._({id:"hErHGD"});else if("column"==this.cursor.type||"gallery"==this.cursor.type||"smartLayout"==this.cursor.type||"tableColumn"==this.cursor.type){let e=this.cursor.rect;if(!e)return;if("tableColumn"===this.cursor.type){let t="right"==this.cursor.side?e.right:e.left;a={top:e.top,bottom:e.bottom,left:t-this.width/2,right:t+this.width/2},r=()=>e5.Ru._({id:"6dfyH3"})}else{let t="right"==this.cursor.side||"bottom"==this.cursor.side,n=t?i.nodeAfter:i.nodeBefore,r=n&&((0,u$.NJ)(n)||(0,uX.q)(n))?0:this.width;if("right"==this.cursor.side||"left"==this.cursor.side){let n=t?e.right+r:e.left-r;a={top:e.top,bottom:e.bottom,left:n-this.width/2,right:n+this.width/2}}else{let n=t?e.bottom+r:e.top-r;a={left:e.left,right:e.right,top:n-this.width/2,bottom:n+this.width/2}}}}else if(!i.parent.inlineContent){let e=i.nodeBefore,t=i.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursor.pos-(e?e.nodeSize:0));if(!n||!(n instanceof Element))return;let i=n.getBoundingClientRect(),r=e?i.bottom:i.top;e&&t&&(r=(r+this.editorView.nodeDOM(this.cursor.pos).getBoundingClientRect().top)/2),a={left:i.left,right:i.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!a){let e=this.editorView.coordsAtPos(this.cursor.pos);a={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let s=this.editorView.dom.offsetParent;if(this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),s&&(s!=document.body||"static"!=getComputedStyle(s).position)){let e=s.getBoundingClientRect();t=e.left-s.scrollLeft,n=e.top-s.scrollTop}else t=-pageXOffset,n=-pageYOffset;this.element.style.left=a.left-t+"px",this.element.style.top=a.top-n+"px",this.element.style.width=a.right-a.left+"px",this.element.style.height=a.bottom-a.top+"px",this.element.dataset.type=this.cursor.type;let l=r();this.element.innerHTML="tableColumn"===this.cursor.type?"":l,this.element.dataset.message=l}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}checkTableColumnDragEvent(e){var t;if(null==(t=e.dataTransfer)?void 0:t.types.includes("text/x-column-index")){let t=u1(this.editorView,e);return t?(this.setCursor({...t,type:"tableColumn"}),this.scheduleRemoval(5e3)):this.setCursor(null),!0}return!1}dragover(e){var t,n,i,a,r,s,l,o,c,d,u,p;if(!this.editorView.editable||this.checkTableColumnDragEvent(e))return;let h=(0,uq.nA)(this.editorView,e,null==(t=this.editorView.dragging)?void 0:t.slice);if(h){this.setCursor({...h,type:"blankRect"}),this.scheduleRemoval(5e3);return}let g=(0,u0.fc)(this.editorView,e,null==(n=this.editorView.dragging)?void 0:n.slice);if(g){this.setCursor({...g,type:"blankRect"}),this.scheduleRemoval(5e3);return}if((0,uJ.Vk)(this.editorView,e,null==(i=this.editorView.dragging)?void 0:i.slice))return void this.scheduleRemoval(20);let m=(0,uY.i)(this.editorView,e,null==(a=this.editorView.dragging)?void 0:a.slice,(null==(r=this.editorView.dragging)?void 0:r.operation)||"insert");if(m)return void this.setCursor({type:"replaceImage",pos:m.pos,rect:m.rect,node:m.node});let x=(0,d8.tz)(this.editorView,e,null==(s=this.editorView.dragging)?void 0:s.slice,!this.editorView.dragging);if(x){this.setCursor({...x,type:"gallery"}),this.scheduleRemoval(5e3);return}let f=(0,u$.ds)(this.editorView,e,null==(l=this.editorView.dragging)?void 0:l.slice);if(f){this.setCursor({...f,type:"column"}),this.scheduleRemoval(5e3);return}let b=(0,uq.ZL)(this.editorView,e,null==(o=this.editorView.dragging)?void 0:o.slice);if(b){this.setCursor({...b,type:"blankRect"}),this.scheduleRemoval(5e3);return}let C=(0,u0.TS)(this.editorView,e,null==(c=this.editorView.dragging)?void 0:c.slice);if(C){this.setCursor({...C,type:"smartLayoutVariant"}),this.scheduleRemoval(5e3);return}let y=(0,u0.eL)(this.editorView,e,null==(d=this.editorView.dragging)?void 0:d.slice);if(y){this.setCursor({...y,type:"smartLayout"}),this.scheduleRemoval(5e3);return}let v=(0,o2.M7)(this.editorView,e,null==(u=this.editorView.dragging)?void 0:u.slice);if(v){this.setCursor({pos:v.pos,type:"default"}),this.scheduleRemoval(5e3);return}let w=(0,u2.M)(this.editorView,e,null==(p=this.editorView.dragging)?void 0:p.slice);null===w?this.setCursor(null):(this.setCursor({pos:w,type:"default"}),this.scheduleRemoval(5e3))}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){this.cursor=null,this.element=null,this.timeout=null,this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>this[t](e);return e.dom.addEventListener(t,n),{name:t,handler:n}}),this.dragover=uQ()(this.dragover,100,{trailing:!1}).bind(this)}}let u5=l.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new W.k_({key:new W.hs("dropCursor"),view:t=>new u3(t,e)})}(this.options)]}}).configure({color:"var(--chakra-ring-color)",width:3,class:"ProseMirror-dropcursor"});var u4=n(93766),u6=n(34806);let u9=e=>{let{svg:t,isDark:n,font:i}=e,a=(0,I.useMemo)(()=>(0,u6.k)(n),[n]),r=(0,I.useMemo)(()=>(0,u6.I)(i),[i]);return t?(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"drawing-svg",sx:{svg:{width:"100%",height:"auto",text:r,...a}}}):null};var u7=n(81089);let u8=["tl-centered-g"],pe=async e=>{let t=await e.getSvg(e.shapes.map(e=>e.id),{padding:1});if(t)return u8.forEach(e=>{var n;null==(n=t.querySelector(".".concat(e)))||n.classList.remove(e)}),t.querySelectorAll(":not(mask)[id]").forEach(e=>e.removeAttribute("id")),t},pt=e=>{let{isOpen:t,isEditable:n,onClose:i,font:a,isDark:r,isDrawingEditorActive:s,setDrawingEditorActive:l,...o}=e,{node:c,updateAttributes:d}=o,{page:u,assets:h}=c.attrs,[g,m]=(0,I.useState)();(0,I.useEffect)(()=>{(0,d0.IN)(g,u,h)},[u,h,g,d]);let x=(0,I.useCallback)(e=>{m(e),window.tldrawEditor=e,(0,d0.Wp)(e,!0)},[]),f=(0,I.useCallback)(async()=>{if(!g)return;let e=await pe(g);if(!e)return;d({svg:e.outerHTML});let t=JSON.stringify({page:g.document.pages.page,assets:g.document.assets});console.debug("[DrawingEditor] Generated SVG",{svgSize:e.outerHTML.length,jsonSize:t.length,svgEl:e})},[g,d]),b=(0,I.useCallback)(()=>{g&&d({page:g.document.pages.page,assets:g.document.assets})},[d,g]),C=(0,eD.lW)(b,500),y=(0,I.useCallback)(()=>{n&&f(),l(!1),i()},[i,f,l,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(eg._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eg.QP,{}),(0,p.jsxs)(eg.zj,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&l(!0)},transition:{enter:{duration:.4}},children:[(0,p.jsx)(eg.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:s?(0,p.jsx)(u7.UG,{readOnly:!n,showPages:!1,onMount:x,onChangePage:n?C:void 0,autofocus:!1,isDark:r,font:a}):(0,p.jsx)(e6.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(tj.y,{size:"xl"})})}),(0,p.jsx)(eg.s1,{zIndex:2,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})},pn=(0,cW.P)(h.a),pi=e=>{let{node:t,updateAttributes:n,selected:i,editor:a,getPos:r,decorations:s}=e,{width:l,meta:o,id:c,horizontalAlign:d,svg:u,page:x}=t.attrs,f=(0,K.GV)(ed.Cl),b=(0,K.GV)(ed.Ik),C=(0,ec.CJ)(a),y=f&&C&&b,v=(0,K.GV)(ed.Xu),w=!!v&&v===c,[A,k]=(0,I.useState)(!1),L=(0,K.GV)(ed.SJ),{isDark:j}=(0,n_.mm)(L),E=(0,nI.ZI)(L)["--body-font"],{ref:S,setIsResizing:_,resizeableSx:D,onLayoutAnimationStart:R,onLayoutAnimationComplete:T}=(0,db.Y3)(a),z=(0,I.useCallback)(()=>{(0,d0.CD)(c,!0)},[c]),H=(0,I.useCallback)(()=>{let e=r();"number"==typeof e&&a.chain().setNodeSelection(e).focus().run()},[a,r]),N=(0,I.useCallback)(()=>{(0,d0.CD)(null,!1)},[]),B=(0,I.useCallback)((e,i)=>{n({...t.attrs,fullWidthBlock:void 0===i?t.attrs.fullWidthBlock:i,...e})},[t.attrs,n]),P=l||(null==o?void 0:o.width),F=!u,V=x&&Object.keys(x.shapes).length>0,{isFullWidth:O}=(0,dX.D)(s),Z=(0,m.yp)(O?"center":d);return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(e6.s,{w:"100%",className:dx.S,css:Z,sx:D,direction:"column",_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(pn,{ref:S,className:"drawing",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:O?"100%":P?"calc(".concat(P," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",position:"relative",layout:!0,layoutDependency:d,transition:{duration:.15},onLayoutAnimationStart:R,onLayoutAnimationComplete:T,minH:F?"6em":"auto","data-drag-handle":!0,children:[y&&i&&!O&&(0,p.jsx)(db.u4,{imageWrapperRef:S,setIsResizing:_,updateResizeAttrs:B,refreshDeps:[t.attrs]}),!A&&(0,p.jsx)(u9,{font:E,svg:u,isDark:j}),y&&!w&&!F&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:H,onDoubleClick:z}),F&&(0,p.jsxs)(ep.T,{spacing:3,justify:"center",contentEditable:!1,color:"gray.400",h:32,backgroundColor:"blackAlpha.50",borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",children:[(0,p.jsx)(M.g,{size:"2x",icon:e2.qTS}),f&&(0,p.jsx)(eq.$,{size:"xs",onClick:z,children:V?"Open diagram":"Add diagram"})]})]}),w&&(0,p.jsx)(pt,{...e,isOpen:w,isEditable:f,onClose:N,isDark:j,font:E,isDrawingEditorActive:A,setDrawingEditorActive:k})]})})},pa=new W.hs("UniqueMediaId"),pr=sV.S.extend({name:"UniqueDrawingId"}).configure({attributeName:"id",types:["drawing"],initialValue:d0.rZ,filterTransaction:sZ.kz,pluginKey:pa}),ps=l.bP.create({name:"drawing",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,sO.e)(d0.rZ),page:{...(0,Y.tb)("page")},assets:{...(0,Y.tb)("assets"),default:{}},meta:{...(0,Y.tb)("meta"),default:{}},fullWidthBlock:{default:!1},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=drawing]"},{tag:"tldraw",getAttrs:e=>{try{let t=new u4.mf,n=JSON.parse(e.innerHTML);return t.insertContent(n,{select:!1}),{page:t.document.pages[t.currentPageId],assets:t.assets}}catch(t){return console.error("(caught) Error parsing Tldraw paste",t,e.innerHTML),!1}}},{tag:"drawing[bookmark]",getAttrs:X.Ll}],renderHTMLforAI(e){let{node:t}=e;return["drawing",{bookmark:(0,X.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"drawing"})]},addCommands(){this.name;let e=e=>{let{selection:t}=e;return t instanceof W.nh&&("drawing"===t.node.type.name||"diagram"===t.node.type.name)?t.node:void 0};return{editSelectedDrawingBlock:()=>t=>{let{state:n}=t,i=e(n);return i&&(0,K.KA)().dispatch((0,ed.v5)({drawingId:i.attrs.id})),!0}}},addExtensions:()=>[pr],addNodeView:()=>(0,d.gu)(pi,{update:u.z0})}),pl=l.YY.create({name:"dynamicNodes",extendNodeSchema(e){var t;return{dynamic:null!=(t=(0,l.gk)((0,l.iI)(e,"dynamic",e)))&&t}}}),po=l.YY.create({name:"fixRequiredAttrs",onBeforeCreate(){Object.values(this.editor.schema.nodes).forEach(e=>{Object.values(e.attrs||{}).forEach(e=>{void 0===e.default&&(e.hasDefault=!1)})})}});var pc=n(12117),pd=n(87379),pu=n(89603);let pp=e=>{if("footnote"!==e.$anchor.doc.type.name&&!e.empty&&!(0,pu.uI)(e)&&(0,l.eE)(e)){let e=(0,pu.bk)();if(!e)return;let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));t&&t.contains(document.activeElement)||(0,pu.Wj)(null,!1)}},ph=(e,t,n,i)=>{if(!e.some(e=>e.docChanged))return;let{doc:a}=n,r=[],s=[];a.nodesBetween(0,n.doc.content.size,(e,t,n)=>{"footnote"===e.type.name&&r.push({from:t,to:t+e.nodeSize,node:e,parent:n}),e.marks.forEach(i=>{"footnoteLabel"===i.type.name&&s.push({from:t,to:t+e.nodeSize,mark:i,parent:n})})}),s.filter(e=>{let{mark:t,parent:n}=e;return!r.find(e=>{let{node:i,parent:a}=e;return i.attrs.noteId===t.attrs.noteId&&a===n})}).forEach(e=>{let{from:t,to:n,mark:a}=e;return i.removeMark(t,n,a)});let o=e=>(0,l.I2)("footnoteLabel",n.schema).create({noteId:e});s.filter(e=>{let{mark:t}=e;return!t.attrs.noteId}).forEach(e=>{let{mark:t,from:n,to:a}=e,l=r.find(e=>{let{node:t,from:n}=e,i=n>=a,r=!s.find(e=>{let{mark:n}=e;return n.attrs.noteId==t.attrs.noteId});return i&&r});l&&i.removeMark(n,a,t).addMark(n,a,o(l.node.attrs.noteId))}),Object.entries(iI()(r,e=>{let{node:t}=e;return t.attrs.noteId})).forEach(e=>{let[t,n]=e;if(1==n.length||!t)return;let a=s.filter(e=>{let{mark:n}=e;return n.attrs.noteId===t});n.slice(1).forEach((e,t)=>{let{from:n}=e,r=(0,pu.pN)();i.setNodeMarkup(n,void 0,{noteId:r});let s=a[t+1];s&&(i.removeMark(s.from,s.to,s.mark),i.addMark(s.from,s.to,o(r)))})})},pg=new W.k_({key:new W.hs("footnote"),appendTransaction:(e,t,n)=>{let{selection:i}=n;i.eq(t.selection)||pp(i);let a=n.tr;return((0,o1.z)(e,t,n,a),ph(e,t,n,a),a.docChanged)?(console.debug("[FootnotePlugin] Applied steps",a.steps),a):null}});var pm=n(88136),px=n(15253),pf=n(89072),pb=n(49251),pC=n(36464);let py=(e,t,n)=>{let i=(0,K.GV)(ed.DH);(0,nh.j)({ref:n,enabled:!!(n&&i===t),handler(e){var t,n;(null==(t=e.target)?void 0:t.closest("[data-footnote-view]"))||(null==(n=e.target)?void 0:n.closest("[data-footnote-label]"))||a(!1)}});let a=(0,I.useCallback)(n=>{var a,r;let s=e.state.selection,o=(0,l.eE)(s)&&!s.empty,c=(null==(a=document.activeElement)?void 0:a.closest(".footnote-popover"))||!!(null==(r=document.activeElement)?void 0:r.closest("[data-in-editor-focus]")),d=void 0!==n?n:i!==t;c||(d&&!o?(0,pu.N3)(t,!0):!1===d&&(0,pu.N3)(t,!1))},[e.state.selection,i,t]);return{onClick:a}},pv=e=>{let{node:t,editor:n,innerEditor:i,selected:a}=e,{noteId:r}=t.attrs,s=(0,I.useRef)(null),l=(0,K.GV)(ed.DH),o=(0,K.GV)(ed.Cl),c=(0,ca.oR)(),{onClick:u}=py(n,r,s);(0,I.useEffect)(()=>{i&&i.setEditable(o)},[o,i]);let g=!!l&&l===r,m=(0,I.useCallback)(()=>(0,pu.Wj)(r,!1),[r]);(0,I.useEffect)(()=>{if(!i)return;let e=()=>{setTimeout(()=>{(0,Y.We)(i)||m()},20)};return i.on("blur",e),()=>{i.off("blur",e)}},[i,m]);let x=!(0,si.NO)(n),f=(0,I.useCallback)(()=>{x&&u()},[x,u]);return(0,p.jsx)(d.VR,{as:"span","data-testid":"footnote-nodeview-wrapper",children:(0,p.jsxs)(tm.A,{isOpen:g,onClose:m,placement:"top",gutter:8,isLazy:!0,lazyBehavior:"unmount",autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,returnFocusOnClose:!1,children:[(0,p.jsx)(tx.W,{children:(0,p.jsx)(E.E,{as:"span",onClick:f,_after:{content:"counter(footnote)",counterIncrement:"footnote",position:"relative",bottom:"0.6em",fontSize:"0.8em",shadow:a&&x?"outline":void 0,borderRadius:"sm"},pl:"1px",className:"footnote",contentEditable:!1,"data-footnote-view":!0,cursor:x?"pointer":void 0})}),x&&(0,p.jsx)(ng.Z,{children:(0,p.jsxs)(tf.h,{zIndex:"popover",shadow:"md",borderRadius:"md",border:"1px solid",borderColor:"gray.200",w:"500px",maxW:"100vw","data-footnote-popover-test-id":r,p:0,ref:s,children:[(0,p.jsx)(pm.R,{}),(0,p.jsx)(tb.e,{position:"relative",zIndex:"1",p:0,className:"footnote-popover","data-footnote-popover-id":r,children:c?(0,p.jsx)(pk,{...e,onClose:m}):(0,p.jsx)(pA,{...e,editable:o,onClose:m})}),(0,p.jsx)(h.a,{position:"absolute",top:"-".concat(8,"px"),bottom:"-".concat(8,"px"),left:0,right:0,zIndex:"0"})]})})]})})},pw=lj()({},pf.q,{".ProseMirror":{px:8,py:4,overflow:"hidden auto",maxH:"300px",maxW:"100%",borderRadius:"md"}}),pA=e=>{let{editor:t,innerEditor:n,mountEditor:i,destroyEditor:a,node:r,editable:s,getPos:o,onClose:c}=e,{noteId:u}=r.attrs,g=(0,I.useCallback)(()=>t.commands.convertNoteToCard(u),[t,u]),m=(0,I.useCallback)(()=>{let e=o();"number"==typeof e&&t.chain().focus().setNodeSelection(e).deleteSelection().run()},[t,o]);(0,I.useEffect)(()=>{if(i&&a)return i(),()=>{a()}},[i,a]);let x=(0,K.GV)(ed.SJ),f=(0,nI.ZI)(x,"#FFFFFF");if(!n)return null;let b=(0,l.xe)(t.state.doc,e=>e.marks.some(e=>"footnoteLabel"===e.type.name&&e.attrs.noteId===u)).length>0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{className:eo._P,sx:pw,position:"relative",_focusWithin:{shadow:s?"outline":void 0},borderRadius:"md",css:f,children:[(0,p.jsx)(d.$Z,{editor:n,className:"highlight-mask"}),(0,p.jsx)(pb.G,{editor:n}),(0,p.jsxs)(tT.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:ny.Fw,spacing:0,children:[s&&(0,p.jsxs)(eJ.W,{autoSelect:!1,isLazy:!0,children:[(0,p.jsx)(e$.I,{as:eY.K,icon:(0,p.jsx)(M.g,{icon:e2.Dwc}),minW:6,h:6,isRound:!0,backgroundColor:"white"}),(0,p.jsx)(ng.Z,{children:(0,p.jsxs)(eX.c,{"data-in-editor-focus":!0,zIndex:"dropdown",children:[b&&(0,p.jsx)(e1.D,{icon:(0,p.jsxs)("span",{className:"fa-layers fa-fw",children:[(0,p.jsx)(M.g,{icon:eI.vti,fixedWidth:!0}),(0,p.jsx)(M.g,{icon:eI.dmS,inverse:!0,transform:"shrink-8"})]}),onClick:g,children:(0,p.jsx)(em.x6,{id:"p/s15o"})}),(0,p.jsx)(e1.D,{icon:(0,p.jsx)(M.g,{icon:e2.yLS,fixedWidth:!0}),color:"red.500",onClick:m,children:(0,p.jsx)(em.x6,{id:"sHHbXH"})})]})})]}),(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(M.g,{icon:e2.GRI}),minW:6,h:6,isRound:!0,onClick:c,backgroundColor:"white"})]})]}),(0,p.jsx)(pC.Ht,{editor:n})]})},pk=e=>{let{mountEditor:t,destroyEditor:n,onClose:i}=e,a=(0,I.useMemo)(()=>{if(t)return t()},[t]);(0,I.useEffect)(()=>{if(n)return()=>n()},[n]);let r=(0,K.GV)(ed.SJ),s=(0,nI.ZI)(r,"#FFFFFF");return a?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.a,{className:eo._P,sx:pw,position:"relative",borderRadius:"md",css:s,children:[(0,p.jsx)(px.N,{editor:a}),(0,p.jsx)(tT.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:ny.Fw,spacing:0,children:(0,p.jsx)(eY.K,{"aria-label":e5.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(M.g,{icon:e2.GRI}),minW:6,h:6,isRound:!0,onClick:i,backgroundColor:"white"})})]})}):null};var pL=n(65674);let pj=l.CU.create({name:"footnoteLabel",inclusive:!1,excludes:"link underline",priority:ee.y.FootnoteLabel,parseHTML:()=>[{tag:"span[class=footnote-label][bookmark]",getAttrs:X.Ll},{tag:"span[class=footnote-label]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["span",(0,l.KV)(t,{class:"footnote-label"}),0]},renderHTMLforAI(e){let{mark:t,disableBookmarks:n}=e;return n?["span",{class:"footnote-label",noteId:t.attrs.noteId},0]:["span",{class:"footnote-label",bookmark:(0,X.vL)(t)},0]},addAttributes:()=>({noteId:{rendered:!1}}),addProseMirrorPlugins(){return[(0,pL.f)(this,pE)]}}),pE=e=>{let{node:t,editor:n,children:i}=e,{noteId:a}=t.attrs,r=(0,ca.oR)(),{onClick:s}=py(n,a),l=!(0,si.NO)(n),o=(0,I.useCallback)(()=>{l&&s()},[l,s]);return(0,p.jsx)(d.VR,{as:"span",className:"footnote-label-view",children:(0,p.jsx)(E.E,{as:"span",className:"footnote-label",onClick:o,"data-footnote-label":!0,cursor:l?"pointer":void 0,children:r?i:(0,p.jsx)(d.$p,{as:"span"})})})},pS=/(?:^|\s)((?:\^)((?:[^^]+))(?:\^))$/,pM=l.bP.create({name:"footnote",content:"(block | footnoteBlock)+",group:"inline",atom:!0,inline:!0,priority:ee.y.Footnote,parseHTML:()=>[{tag:"span[class=footnote]",getContent:(e,t)=>lU.FK.fromJSON(t,JSON.parse(e.getAttribute("data-content")||"{}"))},{tag:"div[class=imported-footnote]"},{tag:"footnote[bookmark]",getAttrs:X.Ll,getContent:X.cn},{tag:"footnote[noteid]",getAttrs:e=>({noteId:e.getAttribute("noteid")})}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,l.KV)(n,{class:"footnote","data-content":JSON.stringify(t.content.toJSON())})]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["footnote",{noteId:t.attrs.noteId},0]:["footnote",{bookmark:(0,X.vL)(t)}]},addAttributes:()=>({noteId:{parseHTML:e=>{let t=(0,X.Ll)(e);return t&&t.noteId?t.nodeId:(0,pu.pN)()},default:void 0}}),addNodeView:()=>oq(pv,{nodeName:"footnote",preventNodeOrExtensionTypes:["doc","document","card"]}),addInputRules(){var e;return[(e={find:pS,nodeType:this.type,markType:this.editor.schema.marks.footnoteLabel},new l.fV({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,{tr:r}=n,s=a[a.length-1],o=a[0],c=i.to;if(s){let t=o.search(/\S/),a=i.from+o.indexOf(s),d=a+s.length;if((0,l.hO)(i.from,i.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.markType&&n!==t.mark.type)).filter(e=>e.to>a).length)return;d<i.to&&r.delete(d,i.to),a>i.from&&r.delete(i.from+t,a),c=i.from+t+s.length;let u=(0,pu.pN)();(0,pu.Wj)(u,!0);let p=e.nodeType.createAndFill({noteId:u},lU.FK.empty);r.insert(c,p),r.addMark(i.from+t,c,e.markType.create({noteId:u})),r.removeStoredMark(e.markType)}}}))]},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;if(!(0,pu.uI)(t.state.selection))return!1;let n=t.state.selection.node.attrs.noteId;return(0,pu.Wj)(n,!0),!0},Escape:()=>{let e=(0,pu.bk)();return!!e&&((0,pu.Wj)(e,!1),!0)},"Mod-Alt-f":e=>{let{editor:t}=e;return t.commands.toggleFootnote()}}),addProseMirrorPlugins:()=>[pg],addCommands:()=>({convertNoteToCard:e=>t=>{let{chain:n,state:i}=t,{doc:a}=i,r=(0,l.xe)(a,t=>"footnote"===t.type.name&&t.attrs.noteId===e);if(1!==r.length)throw Error("Found the wrong number of footnotes nodes: ".concat(r));let{node:s,pos:o}=r[0],c=(0,l.ve)(a.resolve(o-1),i.schema.marks.footnoteLabel,{noteId:s.attrs.noteId});if(!c)return console.error("Couldnt find the corresponding footnote mark",{node:s,pos:o}),!1;let d=a.textBetween(c.from,c.to),u={type:"card",attrs:{id:rE.Yv.generate()},content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:d}]},...s.content.toJSON()]},p=new URL(window.location.href);p.hash="card-".concat(u.attrs.id),(0,en.wE)(u.attrs.id,!1);let h=a.content.size-1;return n().setTextSelection(c).unsetMark("footnoteLabel").setLink({href:p.toString()}).insertContentAt(h,u).command(e=>{let{tr:t}=e,n=(0,s2.s)(t.doc.resolve(h));return n&&t.setSelection(n),!0}).deleteRange({from:o,to:o+s.nodeSize}).focusDelayed().run()},toggleFootnote:()=>e=>{let{chain:t,state:n,editor:i}=e;if(i.isActive("footnoteLabel"))return t().toggleMark("footnoteLabel").focus().run();let a=(0,pu.pN)();return(0,pu.Wj)(a,!0),(0,pd.b)().push(()=>{var e,t;null==(e=(t=i.commands).forceHideBubbleMenu)||e.call(t,!0),pI(a)},"toggleFootnote"),t().setMark("footnoteLabel",{noteId:a}).insertContentAt(n.selection.to,{type:"footnote",attrs:{noteId:a},content:[{type:"paragraph"}]}).run()}})}),pI=e=>{let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));if(!t)return;t.focus();let n=window.getSelection();if(!n)return;let i=document.createRange();i.setStart(t,0),i.setEnd(t,0),n.removeAllRanges(),n.addRange(i)};var p_=n(71029),pD=n(92938);let pR="grid";var pT=n(29828);let pz=e=>{let{doc:t}=e,n=[];return t.descendants((i,a,r)=>{if(i.type.name===pR){let r,s=(0,pT.J)(t.resolve(a)),l=(0,m.er)(e,a,a+i.nodeSize),o=(0,rZ.KQ)(i)||l||(0,te.C)();i.forEach((e,t,n)=>{e.attrs.options.isEmphasized&&(r=n)});let c={isGridDecoration:!0,direction:o,numCells:i.childCount,containerSize:s};n.push(oA.NZ.node(a,a+i.nodeSize,{},c)),i.forEach((e,t,l)=>{let c=a+1+t,d={isGridItemDecoration:!0,direction:o,index:l,numCells:i.childCount,layoutContainerSize:s,emphasizedIndex:r,layoutOptions:i.attrs.options};n.push(oA.NZ.node(c,c+e.nodeSize,{},d))})}}),oA.zF.create(t,n)},pH=e=>{let t=e.find(e=>e.spec.isGridItemDecoration);return t?t.spec:(console.error("[GridItem] Decoration not found. This should never happen!",e),{isGridItemDecoration:!0,direction:"ltr",numCells:0,index:0,layoutContainerSize:1,layoutOptions:{}})},pN=e=>{let t=e.find(e=>e.spec.isGridDecoration);return t?t.spec:(console.error("[Grid] Decoration not found. This should never happen!",e),{isGridDecoration:!0,direction:"ltr",numCells:0,containerSize:1})};class pB{constructor(e=null){this.dragging=e}}let pP=new W.hs("gridPlugin"),pF=e=>new W.k_({key:pP,state:{init:()=>new pB,apply:(e,t)=>t},props:{decorations:e=>pz(e)}});var pV=n(35332);let pO=e=>{let{node:t,decorations:n,editor:i,getPos:a,selected:r}=e,{options:s}=t.attrs,l=pN(n),o=(0,K.GV)(ed.nD),c=(0,I.useMemo)(()=>({onClick:e=>{if(e.currentTarget===e.target){let e=a();"number"==typeof e&&i.commands.selectNodeAtPos(e)}},cursor:o?"auto":"default"}),[i,a,o]);return(0,p.jsxs)(g.u,{"data-selection-ring":!0,dir:l.direction,...e,style:{position:"relative"},className:(0,S.cx)(o&&"is-editable","grid"),children:[(0,p.jsx)(z.A,{handlePlacement:"outside",...e,"data-testid":"grid-drag-handle",label:e5.Ru._({id:"HcGvxr"})}),(0,p.jsx)(pV.A,{gridStyle:s.gridStyle||"standard",spacing:s.spacing||"medium",cellSize:s.cellSize,horizontalAlign:s.horizontalAlign||"center",orientation:s.orientation||"horizontal",numCells:l.numCells,containerSize:l.containerSize,onContextMenu:()=>{},selectLayoutForElementProps:c,children:(0,p.jsx)(d.$p,{"data-node-view-content-outer":"grid"})})]})},pZ=l.bP.create({name:pR,content:"gridItem+",group:"cardBlock layoutBlock",isolating:!0,containerHandle:!0,defining:!0,priority:ee.y.Grid,parseHTML:()=>[{tag:"div[class=grid]"},{tag:"grid"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"grid"}),0]},renderHTMLforAI(e){let{node:t}=e;return["grid",t.attrs.options,0]},addAttributes:()=>({options:{default:{},...(0,Y.tb)("options")}}),addNodeView:()=>(0,d.gu)(pO,{update:u.R$,ignoreMutation:p_.I}),addProseMirrorPlugins(){return[pF(this.editor)]},addCommands:()=>({insertGrid:e=>t=>{let{dispatch:n,commands:i}=t;if(!n)return!0;let a=Array.from(Array(e),e=>pW);return i.insertContentAndSelect({type:"grid",attrs:{},content:a})},insertGridItem:e=>t=>{let{chain:n,state:i}=t,a=i.doc.resolve(e);return!!(0,l.eL)(a,e=>"grid"===e.type.name)&&(n().insertContentAt(e,pW).selectInsertedNode().run(),!0)},handleGridDelete:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e=>{let{dispatch:n,state:i,tr:a,chain:r}=e;if(!n)return!0;let s=(0,l.KP)(e=>"gridItem"===e.type.name)(i.selection),o=(0,l.KP)(e=>"grid"===e.type.name)(i.selection);if(!s||!o)return!1;if(1==o.node.childCount)r().selectNodeAtPos(o.pos).deleteSelectionAndSelectNear(t?1:-1).run();else{let e=a.doc.resolve(s.pos);(0,pD.K)(a,e,t)}return!0}}})}),pW={type:"gridItem",content:[{type:"paragraph"}]};var pU=n(19855);let pG=e=>{let{node:t,decorations:n,editor:i,getPos:a}=e,{options:r}=t.attrs,s=(0,K.GV)(ed.SJ),l=pH(n),{firstChildSize:o}=(0,H.P)(n),c=(0,K.GV)(ed.nD),u=(0,ns.DM)(n),h=(0,I.useCallback)(()=>{if(!c)return;let e=a();"number"==typeof e&&i.commands.selectNodeAtPos(e)},[i,a,c]),m=(0,I.useMemo)(()=>({onClick:e=>{e.target===e.currentTarget&&h()},cursor:c?"auto":"default"}),[h,c]),x=(0,I.useMemo)(()=>({cellOptions:r,theme:s,firstChildSize:o,isFocused:u,editor:i,getPos:a,selectCell:h,selectCellForElementProps:m,image:null,...l}),[r,l,h,u]);return(0,p.jsx)(g.u,{className:"grid-item",style:{position:"relative"},"data-selection-ring":!0,...e,children:(0,p.jsx)(pU.E,{cellProps:x,cellStyle:r.cellStyle||"none",dragHandle:(0,p.jsx)(z.A,{handlePlacement:"top",...e,"data-testid":"grid-item-drag-handle",label:(0,p.jsx)(e6.s,{direction:"column",align:"center",children:(0,p.jsx)(em.x6,{id:"kA/i9e"})})}),children:(0,p.jsx)(d.$p,{})})})},pK=l.bP.create({name:"gridItem",content:"(block | layoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,parseHTML:()=>[{tag:"div[class=grid-item]"},{tag:"div",context:"grid/"}],addAttributes:()=>({options:{default:{},...(0,Y.tb)("options")}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"grid-item"}),0]},addNodeView:()=>(0,d.gu)(pG,{update:u.z0})});var pQ=n(24392),pq=n(21905),pJ=n(91892);let p$=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,pY=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,pX=pJ.Ay.extend({addInputRules(){return[(0,l.OX)({find:p$,type:this.type}),(0,l.OX)({find:pY,type:this.type})]}});function p0(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0,{parent:i,doc:a}=e,r=e.start(),s=e.after();if(i.type.spec.isolating){let e=a.resolve(n?s-1:r),t=(0,s3.n)(e,n?1:-1);if(n){let e=a.resolve(t.to).node();if(e&&e.isTextblock&&0===e.content.size)return t.to+1}return n?t.to:t.from}let l=e.start(e.depth-1);return p0(e.doc.resolve(l),t)}var p1=n(72055);let p2=e=>{let t=p0(e,-1);return e.pos===t?eo.$x:t},p3=(e,t)=>{let n=p0(t,1);return t.pos===n?e.state.doc.content.size-eo.$x:n},p5=l.YY.create({name:"KeyMapOverride",priority:ee.y.KeyMapOverride,addOptions:()=>({addSelectionKeyMaps:!1}),addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!1)},()=>t.deleteSelectionAndSelectNear(-1),()=>t.deleteSelection(),e=>{let{view:t,state:n,dispatch:i}=e;return(0,p1.o6)(n,i,t)},()=>t.unwrapQuoteOnDelete(),e=>{let{view:n,state:i,tr:a}=e,r=t.joinBackward();return r&&a.setMeta("annotationEvent",{type:"join-backward",joinPos:i.selection.from,atBeginning:n.endOfTextblock("backward")}),r},()=>t.selectNodeBackward(),()=>t.handleLayoutDelete(!1),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!1)]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!0)},()=>t.deleteSelectionAndSelectNear(),()=>t.deleteSelection(),e=>{let{view:n,state:i,tr:a}=e,r=t.joinForward();return r&&a.setMeta("annotationEvent",{type:"join-forward",joinPos:i.selection.from,atEnd:n.endOfTextblock("forward")}),r},()=>t.selectNodeForward(),()=>t.handleLayoutDelete(!0),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!0)]}),n={};return this.options.addSelectionKeyMaps&&(n={"Mod-a":e=>{let{editor:t}=e,{selection:n}=t.state;if(n instanceof W.nh&&n.node.type.spec.isolating)return t.commands.selectAll();let i=p0(t.state.selection.$from,-1),a=p0(t.state.selection.$to,1);return n.from===i&&n.to===a?t.commands.selectAll():(t.commands.command(e=>{let{tr:t}=e;return t.setSelection(W.U3.create(t.doc,i,a)),!0}),!0)},"Mod-ArrowUp":e=>{let{editor:t}=e,n=p2(t.state.selection.$from);if(!n)return!1;let i=t.state.doc.resolve(n),a=(0,s3.n)(i);return!!a&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(a),!0}).scrollIntoView().run()},"Mod-Shift-ArrowUp":e=>{let{editor:t}=e,n=p2(t.state.selection.$from);return!!n&&t.chain().setTextSelection({from:n,to:t.state.selection.to}).scrollIntoView().run()},"Mod-ArrowDown":e=>{let{editor:t}=e,n=p3(t,t.state.selection.$to),i=t.state.doc.resolve(n),a=(0,s3.n)(i);return!!a&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(a),!0}).scrollIntoView().run()},"Mod-Shift-ArrowDown":e=>{let{editor:t}=e,n=p3(t,t.state.selection.$to);return t.chain().setTextSelection({from:t.state.selection.from,to:n}).scrollIntoView().run()},"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()}}),{...n,Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),e=>{let{view:n,state:i,tr:a}=e;return a.setMeta("annotationEvent",{type:"split-block",splitPos:i.selection.from,atBeginning:n.endOfTextblock("backward")}),t.splitBlock()}]}),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,Space:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleSpaceToZoom()]})}}});l.YY.create({name:"UndoInputRuleKeymap",priority:ee.y.UndoInputRuleKeymap,addKeyboardShortcuts:()=>({"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()},"Mod-z":e=>{let{editor:t}=e;return t.commands.undoInputRule()},Backspace:e=>{let{editor:t}=e;return t.commands.undoInputRule()},"Mod-Backspace":e=>{let{editor:t}=e;return t.commands.undoInputRule()}})});let p4=l.YY.create({name:"KeyBoardCatchall",priority:ee.y.KeyBoardCatchall,addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return t.view.hasFocus()},"Shift-Tab":e=>{let{editor:t}=e;return t.view.hasFocus()}}),addProseMirrorPlugins:()=>[new W.k_({key:new W.hs("KeyBoardCatchall"),props:{handleKeyDown:(e,t)=>uh.WC.handleKeydown(t)}})]});var p6=n(1636),p9=n(61679),p7=n(43541),p8=n(55847);let he=e=>{var t,n,i;let{variant:a,editor:r,node:s,getPos:o,deco:c,options:d}=e,u=s.attrs,{id:h}=u,{editImage:g,startRemoveBg:m,isRemovingBg:x,changeFocalPoint:f}=(0,oh.c)({editor:r,backgroundRemovalId:h,getPos:o}),b=null;try{let e=o();"number"==typeof e&&(b=r.state.doc.resolve(e))}catch(e){b=null}let C=b?(0,l.eL)(b,uX.M):null,{imageType:y,imageSlot:v}=a,w=(0,ou.l)(null!=(n=u.image)?n:void 0)&&v&&"image"===y,A=(0,e_.u)("buddyEditGa"),{toggleBuddyChatPanel:k,isBuddyChatPanelOpen:L}=(0,op.n)(),{toggleBuddyChatPanel:S,isBuddyChatPanelOpen:_}=(0,aA.Cy)(),{addColumnBefore:D,addColumnAfter:R,canChangeFocusPointAndRemoveBackground:T,hasImage:z,addDirection:H,parentVariant:N,cellOptions:B,handleDelete:P,selectParent:F,duplicateNode:V,updateAttributes:O}=(0,oh.m)({editor:r,node:s,parentNode:null==C?void 0:C.node}),Z=(0,I.useMemo)(()=>z?[{key:"edit-image",label:"icon"===y?(0,p.jsx)(em.x6,{id:"JE/4q/"}):(0,p.jsx)(em.x6,{id:"9IrgTy"}),icon:e2.MT7,onClick:g},...w?[{key:"ask-ai",label:(0,p.jsx)(em.x6,{id:"DDxKHn",values:{AGENT_PROPER_NOUN:e8.qV}}),icon:eI.p7g,onClick:()=>{A?_||S():(L||k(),setTimeout(()=>{od.W.emit("prefillMessage",{message:""})},200))}}]:[],...T?[{key:"remove-background",disabled:x,label:x?(0,p.jsx)(em.x6,{id:"RdqLb7"}):(0,p.jsx)(em.x6,{id:"ylbfBl"}),icon:e2.sAw,onClick:m},{key:"change-focus-point",label:(0,p.jsx)(em.x6,{id:"BmxaoW"}),icon:e2.zTK,onClick:()=>f(h)}]:[],{divider:!0}]:[],[z,y,g,w,T,x,m,A,_,S,L,k,f,h]),W=(0,I.useMemo)(()=>(null==N?void 0:N.cellOptions.length)?null==N?void 0:N.cellOptions.map(e=>{var t,n;if(e.checkEnabled&&!e.checkEnabled({options:d,attrs:u}))return null;let i=null!=(n=B[e.key])?n:null==(t=e.defaultValue)?void 0:t.call(e,{ctx:"menu"});return e.ControlMenu?e.ControlMenu(i,t=>{let n=o();"number"==typeof n&&O(n,{options:{...B,[e.key]:t}})},e):null}).filter(e=>null!==e):[],[B,o,d,null==N?void 0:N.cellOptions,O,u]),U=(0,og.d)({editor:r,getPos:o,node:s,includeCut:!1,imageSrc:null==(t=u.image)?void 0:t.src}),G=null!=(i=c.index)?i:0;return{contextMenuItems:[{key:"title",title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"wIRP9h",values:{0:a.name()}})}),(0,p.jsxs)(j.z,{gap:1,children:[(0,p.jsx)(M.g,{icon:e2.qUw}),(0,p.jsx)(E.E,{children:(0,p.jsx)(em.x6,{id:"y/5CE8",values:{0:G+1}})})]})]})},{divider:!0},...U,{divider:!0},...Z,{key:"add-item-before",label:(0,p.jsx)(em.x6,{id:"w7mkyz"}),icon:(0,p.jsx)(M.g,{icon:e2.UiS,rotation:"bottom"===H?void 0:270}),onClick:()=>{let e=o();"number"==typeof e&&D(e)}},{key:"add-item-after",label:(0,p.jsx)(em.x6,{id:"1e37Dl"}),icon:(0,p.jsx)(M.g,{icon:e2.UiS,rotation:"bottom"===H?180:90}),onClick:()=>{let e=o();"number"==typeof e&&R(e+s.nodeSize)}},{key:"duplicate",label:(0,p.jsx)(em.x6,{id:"euc6Ns"}),icon:e2.jPR,onClick:()=>{let e=o();"number"==typeof e&&V(e+s.nodeSize)}},{divider:!0},...W.length?[...W,{key:"divider",divider:!0}]:[],{key:"edit-layout",label:(0,p.jsx)(em.x6,{id:"UUpX+c"}),icon:e2.Hmw,onClick:()=>{let e=o();"number"==typeof e&&F(e)}},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e2.yLS,onClick:P,color:"red.500"}]}};var ht=n(6494);let hn=e=>{var t,n;let{node:i,decorations:a,editor:r,getPos:s}=e,l=r.state.selection,o=l.node&&!!(0,uX.M)(l.node),{options:c,...u}=i.attrs,x=(0,p8.fw)(a),f=(0,ht.BJ)(x.smartLayoutAttrs.variantKey),b=f.config?p7.Vt:f.Cell,C=(0,K.GV)(ed.SJ),y=(0,u0.aG)(x.smartLayoutAttrs,x.direction),{firstChildSize:v}=(0,H.P)(a),w=x.index===x.numCells-1,A=(0,K.GV)(ed.nD),k=(0,ns.DM)(a),L="number"==typeof x.emphasizedIndex&&x.emphasizedIndex!==x.index,j=(0,I.useCallback)(()=>{let e=s();if("number"!=typeof e)return;let t=r.state.doc.nodeAt(e);t&&r.commands.insertSmartLayoutCell(e+t.nodeSize)},[r,s]),S=f.addDirection?f.addDirection(y):"right",[_,D]=(0,rZ.yz)(x.direction),R=(0,I.useCallback)(()=>{if(!A)return;let e=s();"number"==typeof e&&r.commands.selectNodeAtPos(e)},[r,s,A]),T=u.image,N=(0,I.useCallback)(e=>{let t=s();"number"==typeof t&&r.commands.updateNestedAttributesAtPos(t,{image:lj()({},T,e,{meta:{has_transparency:!0}})})},[r,s,T]),{bgRemovalInProgress:B}=(0,lE._)({editor:r,id:u.id,src:null==T?void 0:T.src,updateAttributes:N}),{contextMenuItems:P}=he({variant:f,editor:r,node:i,getPos:s,deco:x,options:c}),{onOpenContextMenu:F}=(0,lx.$)({editor:r,contextMenuItems:P,getPos:s}),V=(0,I.useMemo)(()=>({onClick:e=>{e.target===e.currentTarget&&R()},cursor:A?"auto":"default"}),[R,A]);return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(h.a,{display:"contents",position:"relative","data-spotlight-parent":!0,className:L?"smart-layout-cell-not-emphasized":"",onContextMenu:o?void 0:F,style:{...(0,m.AS)(y.horizontalAlign||(null==(t=f.baseHorizontalAlign)?void 0:t.call(f,{dir:x.direction})),x.direction)},children:b&&(0,p.jsxs)(b,{cellOptions:{...c,icon:u.image},layoutOptions:y,theme:C,...x,...u,...e,firstChildSize:v,isFocused:k,selectCell:R,variant:f,selectCellForElementProps:V,dragHandle:(0,p.jsx)(z.A,{...e,handlePlacement:null!=(n=f.dragHandlePlacement)?n:"top","data-testid":"smart-layout-cell-drag-handle",label:(0,p.jsx)(e6.s,{direction:"column",align:"center",children:(0,p.jsx)(em.x6,{id:"YkfVHA",components:{0:(0,p.jsx)(E.E,{color:"gray.500"})}})})}),children:[(0,p.jsx)(d.$p,{style:{maxWidth:"100%",wordBreak:"break-word"}}),A&&w&&(0,p.jsx)(e6.s,{position:"absolute",..."bottom"===S?{bottom:-3,[D]:0,width:"100%",height:6,justify:"center"}:{[D]:-3,bottom:0,height:"100%",width:6,align:"center"},opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",zIndex:"1",className:"add-button",children:(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"NQ8llq"}),placement:"top",children:(0,p.jsx)(eY.K,{icon:(0,p.jsx)(M.g,{icon:e2.QLR}),"aria-label":e5.Ru._({id:"NQ8llq"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:j,onMouseDown:ny.Fw})})}),B&&A&&(0,p.jsx)(lv.Td,{removeBackground:B})]})})})},hi=l.bP.create({name:"smartLayoutCell",content:"(block | smartLayoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,imageKeyPath:"image",accessoryImageKey:"image",addAttributes:()=>({id:(0,sO.e)(sW.z),options:{default:{},...(0,Y.tb)("options")},width:{default:null},image:{default:null,...(0,Y.tb)("image")},label:{default:null,parseHTML:e=>e.getAttribute("label")||e.getAttribute("number")}}),parseHTML:()=>[{tag:"div[class=layout-item]"},{tag:"div",context:"smartLayout/",getAttrs:e=>ha(e)},{tag:"smart-layout-item",getAttrs:e=>ha(e)}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"layout-item"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,{image:i,options:a,...r}=t.attrs,s={};Object.keys(a).forEach(e=>{s[e]="string"==typeof a[e]?a[e]:JSON.stringify(a[e])});let l={...r,...s};if(i){let{source:e}=i,t=(0,p9.D)(e)?"icon":"img",a={src:i.src,alt:(0,G.ve)(i),source:e||null};return n?["smart-layout-item",{...l,id:void 0},[t,a],["div",0]]:["smart-layout-item",l,[t,{bookmark:(0,X.vL)({attrs:i}),alt:(0,G.ve)(i)}],["div",0]]}return["smart-layout-item",l,0]},addNodeView:()=>(0,d.gu)(hn,{update:u.z0})}),ha=e=>{let t,n=e.getAttribute("label")||e.getAttribute("number"),i=e.parentElement;t=(null==i?void 0:i.tagName.toLowerCase())==="smart-layout"?i.getAttribute("variant"):(null==i?void 0:i.tagName.toLowerCase())||(null==i?void 0:i.getAttribute("variant"));let a=(0,ht.BJ)(null!=t?t:void 0),r=[...(null==a?void 0:a.options.map(e=>e.key))||[],...(null==a?void 0:a.cellOptions.map(e=>e.key))||[]].reduce((t,n)=>{let i=e.getAttribute(n);if(i)try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{});return{image:hr(e,a),label:n,options:r}},hr=(e,t)=>{var n,i;if(!t.imageSlot){let t=e.querySelector(":scope >icon");t&&t.remove();return}if("arrowBullets"===t.key&&(null==(n=t.defaultAttrs)?void 0:n.image)){let n=e.querySelector(":scope >icon");return n&&n.remove(),t.defaultAttrs.image}let a=null;if("image"===t.imageType&&(null==(i=e.firstElementChild)?void 0:i.tagName.toLowerCase())==="img"?a=e.firstElementChild:"icon"===t.imageType&&(a=e.querySelector(":scope >icon")),!a)return;let r=null;try{let e=JSON.parse(a.getAttribute(lo.A0)||"null");e&&(r=e)}catch(e){console.warn("Failed to parse ai-parsed-attrs:",e)}if(a.getAttribute("bookmark")){let e=(0,X.Ll)(a);e&&(r=e)}let s=a.getAttribute("src"),l=a.getAttribute("source");if(s&&(r={src:s,source:l||"image.custom"}),r)return a.remove(),r};var hs=n(46617);let hl=e=>{let{doc:t}=e,n=[];return t.descendants((e,t)=>{if(e.type.name!==hs.BM)return;n.push(oA.NZ.node(t,t+e.nodeSize,{},{isLayoutDecoration:!0}));let i=e.attrs.colWidths,a=e.attrs.backgroundColor;return e.forEach((e,r,s)=>{let l=t+1+r,o={isLayoutCellDecoration:!0,colWidth:i[s],colIndex:s,layoutBackgroundColor:a};n.push(oA.NZ.node(l,l+e.nodeSize,{},o))}),!1}),oA.zF.create(t,n)},ho=e=>{let t=e.find(e=>e.spec.isLayoutCellDecoration);return t?t.spec:(console.error("[LayoutCell] Decoration not found. This should never happen!",e),{isLayoutCellDecoration:!0,colWidth:0,colIndex:0,layoutBackgroundColor:null})},hc=(e,t)=>{let n=(0,K.GV)(ed.SJ),i=null!=t?t:e,a=i&&(0,nI.ZI)(n,i),r=(0,I.useMemo)(()=>{if(i)return{margin:"0 0.5em",paddingInlineStart:"1em",paddingInlineEnd:"1em"}},[i]);return{backgroundColor:i,themeVars:a,marginStyles:r}},hd=e=>{let{node:t,decorations:n}=e,{verticalAlign:i,backgroundColor:a}=t.attrs,{layoutBackgroundColor:r}=ho(n),{backgroundColor:s,themeVars:l,marginStyles:o}=hc(r,a);return(0,p.jsxs)(d.VR,{className:"grid-cell",style:{position:"relative",justifyContent:i,...l,...o,...s&&{backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)"}},"data-selection-ring":!0,children:[(0,p.jsx)(z.A,{handlePlacement:"top",...e,"data-testid":"column-drag-handle",label:(0,p.jsx)(e6.s,{direction:"column",align:"center",children:(0,p.jsx)(em.x6,{id:"zWdF4l",components:{0:(0,p.jsx)(E.E,{color:"gray.500"})}})})}),(0,p.jsx)(d.$p,{})]})},hu=l.bP.create({name:"gridCell",content:"(block | layoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,parseHTML:()=>[{tag:"div[class=column]"},{tag:"div",context:"gridLayout/"}],addAttributes:()=>({verticalAlign:null,backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"column"}),0]},addNodeView:()=>(0,d.gu)(hd,{update:u.z0})});var hp=n(64056),hh=n(53138),hg=n(36145);class hm{constructor(e=null){this.dragging=e}}let hx=new W.hs("layoutPlugin"),hf=e=>new W.k_({key:hx,state:{init:()=>new hm,apply:(e,t)=>t},appendTransaction:(e,t,n)=>{if(!e.some(e=>e.docChanged))return null;let i=e.find(e=>e.selectionSet),a=n.tr;if(n.doc.descendants((e,t)=>{if("gridLayout"===e.type.name&&1==e.childCount){let n=a.mapping.map(t);a.replaceWith(n,a.mapping.map(t+e.nodeSize),e.child(0).content).setMeta("annotationEvent",{type:"unwrap-node",pos:n})}}),!a.docChanged)return null;if(i){let e=i.selection.$from.depth-a.selection.$from.depth,t=(0,s3.n)(a.doc.resolve(i.selection.from-e));t&&a.setSelection(t)}return a},props:{decorations:e=>hl(e),handleDOMEvents:{drop(t,n){var i,a,r,s,l,o;let c=null==(i=t.dragging)?void 0:i.annotations;if(!hx.getState(t.state))return!1;let d=null==(a=t.dragging)?void 0:a.slice,u=null,p=null,h=null,g=(0,hg.p$)(n).filter(hg.KS);try{if(p=(0,uJ.Vk)(t,n,d),u=(0,u$.ds)(t,n,d),(0,uY.i)(t,n,d,(null==(r=t.dragging)?void 0:r.operation)||"insert"))return!1}catch(e){return!1}try{let{selection:i}=t.state,a=!i.empty&&0===g.length,r=null==d?void 0:d.content.toJSON(),h=[];if(g.length>0&&(r=(h=(0,hh.kT)(e,g)).map(e=>e.content)),!r)return!1;if((null==(s=r[0])?void 0:s.type)==="image"&&(null==(l=r[0].attrs)?void 0:l.resize)&&(p||u)&&(r[0].attrs.resize={}),(null==u?void 0:u.node.type.name)==="gridCell"){let{node:t,pos:i,side:s}=u,l="left"===s?i:i+t.nodeSize,d=(null==(o=r[0])?void 0:o.type)==="gridCell",p=null==c?void 0:c.origNodePos,g=p&&d?(0,u$.rP)(p,l,e):void 0,m=d?r:{type:"gridCell",content:r},x=e.chain().insertContentAt({from:l,to:l},m,{updateSelection:!1});return g&&x.updateNestedAttributesAtPos(g.parentPos,{colWidths:g.colWidths}),x.command(e=>{let{tr:t}=e;return a&&t.deleteSelection(),c&&t.setMeta("annotationEvent",{type:"drop",dragging:c,droppedBlockPos:l+ +!d}),!0}).focusMapped(l,1).run(),h.length>0&&h.forEach(e=>{e.upload()}),n.preventDefault(),!0}if(!p&&!u)return;let{node:m,pos:x,side:f}=p||u;if(x>i.from&&x<i.to)return n.preventDefault(),!0;let b=(0,hp.eq)({view:t,from:x,to:x+m.nodeSize,node:m}),{contentToInsert:C,focusOffset:y}=p?{contentToInsert:(0,hp.Sm)({horizontalAlign:b,eventTarget:n.target,node:m,newContent:r,editor:e}),focusOffset:(0,hp.Cn)({eventTarget:n.target,horizontalAlign:b,nodeSize:m.nodeSize,editor:e})}:{contentToInsert:(0,uJ.wC)({side:f,pasteContent:r,node:m}),focusOffset:(0,uJ.M5)({side:f,node:m})};e.chain().insertContentAt({from:x,to:x+m.nodeSize},C,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(a){let e=t.state.selection,n=i.mapping.map(e.from),a=i.mapping.map(e.to);i.delete(n,a)}if(c){let n="left"===f&&d?d.size:m.nodeSize,a=(0,s6.U5)({side:f,view:t,tr:i,dragging:c,dropPos:x,dropNode:m,leftContentSize:n});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.commands).moveAnnotations)||t.call(n,a)})}return!0}).focusMapped(x,y).run(),h.length>0&&h.forEach(e=>{e.upload()})}catch(e){console.error("(caught) [LayoutPlugin] handleDrop error:",e)}return n.preventDefault(),!0}}}}),hb=new W.hs("layoutResizing");class hC{getActiveHandleAbs(e){return this.activeHandle?(0,ok.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?this.activeHandle=null:this.activeHandle=(0,ok.JO)(e,t.setHandle),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(hb);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}let hy=e=>hb.getState(e.state),hv=(e,t)=>{e.dispatch(e.state.tr.setMeta(hb,{setHandle:t}))},hw=(e,t)=>{e.dispatch(e.state.tr.setMeta(hb,{setDragging:t}))},hA=e=>{e.dispatch(e.state.tr.setMeta(hb,{reset:!0}))},hk=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=hy(e);if(n.dragging)return;let i=function(e,t){var n;let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||-1===i.inside)return null;let a=e.domAtPos(i.inside);if(!a)return null;let r=a.node.childNodes[a.offset];if(!r)return null;let s=e.state.doc.resolve(i.inside);if((null==(n=s.nodeAfter)?void 0:n.type.name)!=="gridCell")return null;let l=(0,te.ix)(),{left:o,right:c}=r.getBoundingClientRect(),d=c-t.clientX,u=t.clientX-o;if(l?d<=5:u<=5){let t=e.state.doc.resolve(s.before(s.depth)),n=hL((0,u$.Ob)(t),e=>e.pos===s.pos);return(null==n?void 0:n.pos)||null}return(l?u<=5:d<=5)?s.pos:null}(e,t);i!==n.getActiveHandleAbs(e.state)&&hv(e,i)},hL=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n])){if(0===n)return null;return e[n-1]||null}return null},hj=(e,t)=>{let n=e.domAtPos(t);return n.node.childNodes[n.offset].offsetWidth},hE=(e,t)=>{let{node:n,offset:i}=e.domAtPos(t.start()),a=n.childNodes[i];do if(a&&a.classList&&a.classList.contains("node-gridLayout"))break;while(a=a.parentNode);return a},hS=e=>{let{getPos:t,updateAttributes:n,editor:i,node:a}=e,r=t();(0,I.useEffect)(()=>{if("number"!=typeof r)return;let e=i.state.doc.resolve(r),t=(0,u$.Ob)(e);t.length!==a.attrs.colWidths.length&&setTimeout(()=>{n({colWidths:(0,oE.I)(t.length)})},0)},[a,r,n,i])},hM=e=>{let{node:t,editor:n,getPos:i}=e,a=t.content.childCount,r=(0,K.GV)(ed.Cl),s=(0,ec.FX)();hS(e);let l=a%2==0,o=Math.min((0,dU.h5)({base:1,sm:l?2:1,md:l?2:3,lg:4})||4,a),c=(0,I.useCallback)(()=>{let e=i();"number"==typeof e&&n.commands.addLayoutCell(e)},[n,i]),u=a<hs.ZS&&r,h=s?"100%":(t.attrs.colWidths||[]).map(e=>"".concat(e,"%")).join(" ");return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(a9.r,{className:(0,S.cx)("grid-col-controls",r&&"is-editable"),columns:o,gap:"var(--grid-border)",position:"relative",gridTemplateColumns:h,"data-selection-ring":!0,children:[(0,p.jsx)(d.$p,{className:"layout-content"}),(0,p.jsx)(z.A,{...e,handlePlacement:"outside",label:e5.Ru._({id:"Szg6OU"}),"data-testid":"layout-drag-handle"}),(0,p.jsx)(e6.s,{position:"absolute",top:"0",h:"100%",align:"center",w:6,insetInlineEnd:-3,className:"add-column",opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",children:u&&(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"AgvHni"}),placement:"top",children:(0,p.jsx)(eY.K,{icon:(0,p.jsx)(M.g,{icon:e2.QLR}),"aria-label":e5.Ru._({id:"AgvHni"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,zIndex:"1",onClick:c})})})]})})},hI=l.bP.create({name:hs.BM,content:"gridCell{1, ".concat(hs.ZS,"}"),group:"cardBlock",defining:!1,isolating:!0,selectable:!1,priority:ee.y.Layout,containerHandle:!0,parseHTML:()=>[{tag:"div[class=columns]"},{tag:"columns"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"columns"}),0]},renderHTMLforAI(e){let{node:t}=e;return["columns",{colWidths:JSON.stringify(t.attrs.colWidths)},0]},addAttributes(){let e="colWidths";return{colWidths:{default:[],parseHTML:e=>{let t=0;e.childNodes.forEach(e=>{"DIV"===e.nodeName&&t++});try{var n;let i=null!=(n=e.getAttribute("colWidths"))?n:e.getAttribute("data-colWidths");if(i){let e=JSON.parse(i);if(Array.isArray(e)&&e.length===t&&e.every(e=>"number"==typeof e))return(0,oE.fF)(e,10,100),e}}catch(e){console.error("Error parsing AI generated colWidths",e)}return(0,oE.I)(t)},renderHTML:t=>{let n=t[e];return n?{["data-".concat(e)]:JSON.stringify(n)}:{}}},fullWidthBlock:{default:!1},backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}},addNodeView:()=>(0,d.gu)(hM,{update:u.R$,ignoreMutation:p_.I}),addProseMirrorPlugins(){return[hf(this.editor),new W.k_({key:hb,state:{init:()=>new hC,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==hb.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>!!t9.of.get("layoutResizing")&&(hk(e,t),!1),mouseleave(e){if(!t9.of.get("layoutResizing"))return!1;let t=hy(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||hv(e,null),!1},mousedown:(e,t)=>!!t9.of.get("layoutResizing")&&(!function(e,t){if(!e.editable)return;let n=hy(e),i=n.getActiveHandleAbs(e.state);if(null===i||n.dragging)return;let a=e.state.doc.resolve(i),r=[...a.node().attrs.colWidths],s=(0,u$.xK)(a),l=hj(e,i),o=hE(e,a),c=o.offsetWidth;hw(e,{startX:t.clientX,startWidth:l,colWidths:r,tableWidth:c,colIndex:s});let d=null;function u(t){window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",p);let n=hy(e);if(n.dragging){if(null===d)return void hw(e,null);if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let i=e.state.doc.resolve(t).before(),a=e.state.tr.setNodeMarkup(i,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:i});e.dispatch(a),function(e,t){let n=e.state.doc.resolve(t),i=hE(e,n).querySelector(".grid-col-controls");i&&(i.style.gridTemplateColumns="")}(e,t)})(e,t,d),hw(e,null)}catch(t){hA(e)}d=null}}function p(t){if(!t.which)return u(t);let n=hy(e),i=n.getActiveHandleAbs(e.state);if(!n.dragging||null===i)return;let{colIndex:a,colWidths:r}=n.dragging,s=function(e,t){let{tableWidth:n}=e,i=t.clientX-e.startX,a=(0,te.ix)()?-i:i;return so()(100*a/n,0)}(n.dragging,t);(function(e,t){let n=e.querySelector(".grid-col-controls");n&&(n.style.gridTemplateColumns=t.map(e=>"".concat(e,"%")).join(" "))})(o,d=(0,oE.H0)(r,a,s,15)),(0,oS.i$)(o)}window.addEventListener("mouseup",u),window.addEventListener("mousemove",p),t.preventDefault()}(e,t),!1)},decorations(e){let t=hb.getState(e).getActiveHandleAbs(e);if(null!==t){let n=[];try{let i=document.createElement("div");return i.className="column-resize-handle",n.push(oA.NZ.widget(t+1,i)),oA.zF.create(e.doc,n)}catch(e){return console.error("(caught) layoutResizing error: ".concat(e.message)),oA.zF.empty}}},nodeViews:{}}})]},addCommands(){var e=this;return{useLayoutPreset:(e,t)=>n=>{let{dispatch:i,tr:a,commands:r,view:s}=n;if(!i)return!0;let o=(0,u$.DF)(a.doc.resolve(e));if(!o)return!0;let c=(0,u$.Ob)(o),d=t.length-c.length,u=[];for(;0!==d;){if(d<0){let t=(0,u$.nX)(a.doc.resolve(e),-1),n=t.nodeAfter;a.deleteRange(t.pos,t.pos+n.nodeSize),u=[...1===n.childCount&&(0,l.Op)(n.firstChild)?[]:n.content.toJSON(),...u],d++;continue}if(d>0){r.addLayoutCell(o.pos,!1),d--;continue}}a.setNodeAttribute(e,"colWidths",t);let p=(0,u$.nX)(a.doc.resolve(o.pos),-1);if(!p||!p.nodeAfter)return!0;let h=p.pos+p.nodeAfter.nodeSize-1;if(r.insertContentAt(h,u,{updateSelection:!1}),a.selection.from>h||a.selection.to>h){let e=a.doc.resolve(p.pos+1).end(),t=(0,s3.n)(a.doc.resolve(e),-1);t&&a.setSelection(t)}let g=hE(s,o);return g&&(0,oS.i$)(g),!0},insertLayout:e=>t=>{let{dispatch:n,commands:i}=t;if(!n)return!0;let a=Array.from(Array(e),e=>h_);return i.insertContentAndSelect({type:"gridLayout",attrs:{colWidths:(0,oE.I)(e)},content:a})},addLayoutCell:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{chain:i,state:a}=n,r=a.doc.nodeAt(e);if(!r||r.type.name!==hI.name)return!1;let s=e+r.nodeSize-1,{colWidths:l}=r.attrs,o=l.length,c=so()(100/(o+1),2),d=(0,oE.KJ)(l,o,c,15),u=i().insertContentAt(s,h_,{updateSelection:!1});return t&&u.selectInsertedNode(),u.command(t=>{let{tr:n}=t;return n.setNodeAttribute(e,"colWidths",d),!0}).run(),!0}},handleLayoutDelete:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>{let{tr:a,dispatch:r,state:s}=i;if(!r)return!0;let o=(0,l.KP)(e=>e.type.name===hu.name)(s.selection),c=(0,l.KP)(e=>e.type.name===hI.name)(s.selection);if(!o||!c)return!1;if(!n||(0,Y.mf)(o.node)){if(2==c.node.childCount){let t=o.node===c.node.child(0),n=t?c.node.child(1):c.node.child(0),i=t?c.start+c.node.child(0).nodeSize+1:c.start+1,r=i+n.content.size;a.replaceWith(c.pos,c.pos+c.node.nodeSize,n.content);let s=(0,s3.n)(a.doc.resolve(c.pos+(t?0:n.content.size)),t?1:-1);s&&a.setSelection(s);let l=(0,s6.es)({insertPos:c.pos,contentPos:i,contentEnd:r,editor:e.editor});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.editor.commands).moveAnnotations)||t.call(n,l)})}else{let e=a.doc.resolve(o.pos);(0,pD.K)(a,e,t),a.setNodeAttribute(c.pos,"colWidths",(0,oE.XC)(c.node.attrs.colWidths,[(0,u$.xK)(e)]))}return!0}let{parent:d}=s.selection.$from;return!!(s.selection.empty&&d.isTextblock&&(0,l.Op)(d))&&d==o.node.firstChild&&!t&&(a.deleteRange(s.selection.$from.before(),s.selection.$from.after()),!0)}},goToNextLayoutCell:e=>t=>{let{tr:n,state:i}=t,a=(0,l.KP)(e=>e.type.name===hu.name||e.type.name===hi.name)(i.selection),r=(0,l.KP)(e=>e.type.name===hI.name||e.type.name===p6.o.name)(i.selection);if(!a||!r)return!1;let s=i.doc.resolve(a.pos),o=e?s.index()+1:s.index()-1;if(o<0||o>=s.parent.childCount)return!1;let c=s.posAtIndex(o);return n.setSelection(W.LN.near(i.doc.resolve(c))),!0}}},addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return!t9.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!0)},"Shift-Tab":e=>{let{editor:t}=e;return!t9.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!1)}})}),h_={type:"gridCell",content:[{type:"paragraph"}]};var hD=n(9893);let hR=e=>{let{node:t,decorations:n}=e,{fontSize:i,placeholder:a}=t.attrs;return(0,p.jsx)(g.u,{dir:(0,m.fZ)(n),...e,children:(0,p.jsx)(d.$p,{as:"li","data-testid":"bullet-list-item","data-font-size":i,"data-placeholder":a})})};var hT=n(43944),hz=n(91656);let hH=/^\s*([-*])\s$/,hN=l.bP.create({name:hz.e.Bullet,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addNodeView:()=>(0,d.gu)(hR,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addOptions:()=>({HTMLAttributes:{}}),addAttributes:()=>({indent:{default:0},fontSize:pc.mD}),addInputRules(){return[(0,hT.aW)({find:hH,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-Shift-8":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Bullet})},"Mod-.":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Bullet})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}}),hB=[e=>e.toString(),e=>String.fromCharCode(96+e),e=>(function(e){let t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(let i of Object.keys(t)){let a=Math.floor(e/t[i]);e-=a*t[i],n+=i.repeat(a)}return n})(e).toLowerCase()],hP=e=>{var t;let{decorations:n,node:i}=e,{indent:a,fontSize:r,placeholder:s}=i.attrs,l=null==(t=n.find(e=>e.spec.listNumber))?void 0:t.spec.listNumber,o=(hB[a%hB.length]||hB[0])(l);return(0,p.jsx)(g.u,{dir:(0,m.fZ)(n),...e,children:(0,p.jsx)(d.$p,{as:"li","data-list-counter":o,"data-font-size":r,"data-placeholder":s})})},hF=/^(\d+)\.\s$/,hV=l.bP.create({name:hz.e.Numbered,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addOptions:()=>({HTMLAttributes:{}}),addNodeView:()=>(0,d.gu)(hP,{as:"ol",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addAttributes:()=>({indent:{default:0},fontSize:pc.mD}),addInputRules(){return[(0,hT.aW)({find:hF,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-/":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Numbered})},"Mod-Shift-7":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Numbered})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}}),hO=e=>{let{decorations:t,node:n,updateAttributes:i}=e,a=(0,K.GV)(eR.Jo),r=(0,iE.Iy)("edit",a),{checked:s,fontSize:l,placeholder:o}=n.attrs;return(0,p.jsx)(g.u,{dir:(0,m.fZ)(t),...e,children:(0,p.jsxs)(E.E,{as:"li",color:s?"var(--body-color-muted)":void 0,textDecoration:s?"line-through":void 0,transition:"color 250ms ease-out",position:"relative",className:"todo","data-font-size":l,children:[(0,p.jsx)(t2.S,{contentEditable:!1,suppressContentEditableWarning:!0,isChecked:s,onChange:e=>{r&&i({checked:e.target.checked})},position:"absolute"}),(0,p.jsx)(d.$p,{as:"span",className:"todo-content","data-placeholder":o})]})})},hZ=/^\s*\[[ ]?\]\s$/,hW=/^\s*\[x\]\s$/,hU=l.bP.create({name:hz.e.Todo,addOptions:()=>({HTMLAttributes:{}}),content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addAttributes:()=>({indent:{default:0},checked:{default:!1},fontSize:pc.mD}),addNodeView:()=>(0,d.gu)(hO,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addInputRules(){return[(0,hT.aW)({find:hZ,type:this.type,getAttributes:{checked:!1}},this.editor.state.schema),(0,hT.aW)({find:hW,type:this.type,getAttributes:{checked:!0}},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-,":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Todo})},"Mod-Shift-9":e=>{let{editor:t}=e;return t.commands.setListItems({variant:hz.e.Todo})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,l.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}});var hG=n(29594),hK=n.n(hG),hQ=n(87996),hq=n(62964);let hJ=(0,I.forwardRef)((e,t)=>{let{dimensions:n,enforceMinDimensions:i,isThumbnail:a,isLoading:r,children:s,...l}=e,o=(0,t9.u)("enableVirtualization"),c=(0,rY.rd)();if(!o)return(0,p.jsx)(p.Fragment,{children:s});let d=n?{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}:{};return(!0===r||i)&&(d.minHeight=d.height),void 0!==r&&(d.height=void 0,d.width=void 0),(0,p.jsxs)(e6.s,{backgroundColor:!1===r?"transparent":c?"whiteAlpha.200":"blackAlpha.200",ref:t,position:!1!==r?"relative":"static",transition:"background-color .2s",...d,...l,children:[s,!1!==r&&(0,p.jsx)(tj.y,{position:"absolute",top:"50%",insetStart:"50%",colorScheme:"gray",size:a?"xs":"md"})]})});hJ.displayName="VirtualizedPlaceholder";var h$=n(58240);let hY=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,K.GV)(ed.OG),n=(0,K.GV)(ed.$i),i=!1!==e.memoGroup&&(t?"".concat(e.memoGroup?"".concat(e.memoGroup,":"):"","presenting:").concat(n):void 0);return(0,h$.v)({...e,memoGroup:i})};var hX=n(89263);let h0=e=>{let{attrs:t,inGallery:n,shouldDisableClick:i}=e,a=(0,et.lQ)(t),r=t.displayStyle,s=(0,ca.oR)(),l=(0,et.eb)(t,"preview"===r&&!n),{handleOpenLinkWithInterstitial:o,handleOpenNativeLinkWithInterstitial:c,linkUrlSafe:d}=(0,hX.E)(a),u="newTab"===l&&!i;return(0,I.useMemo)(()=>u?{url:s?a:d,handleOpenLinkWithInterstitial:o,handleOpenNativeLinkWithInterstitial:c}:void 0,[o,c,d,a,u,s])};var h1=n(71093),h2=n(36062),h3=n(73737);let h5=e=>{let{enterZoom:t,zoomBoxProps:n,url:i,handleOpenLink:a,handleOpenInNewTab:r}=e,s=(0,K.GV)(ed.nD);return eu.D1?null:!s&&a&&i?(0,p.jsx)(h2.Q,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:"pointer",children:(0,p.jsx)(h2.r,{onClick:a,href:i,target:"_blank",rel:"noopener"})}):(0,p.jsx)(h3.K,{enterZoom:t,doubleClickNonZoomHandler:s?r:void 0,...n})};var h4=n(92739);let h6={allowPopups:!1,noSandbox:!1,preventScroll:void 0},h9=e=>{let{initialUrl:t,frameRef:n,iframeOptions:i,backgroundColor:a="white",onLoad:r,...s}=e,{allowPopups:l,preventScroll:o,noSandbox:c}=i||h6;return(0,p.jsx)(e6.s,{w:"100%",h:"100%",direction:"column",background:a,...s,children:(0,p.jsx)("iframe",{ref:n,src:t,frameBorder:"0",width:"100%",height:"100%",allow:"encrypted-media; camera; microphone",allowFullScreen:!0,title:"Embedded app",sandbox:c?void 0:"allow-forms allow-scripts allow-same-origin allow-modals allow-pointer-lock ".concat(l?"allow-popups":""),scrolling:o?"no":void 0,style:{flex:1},onLoad:()=>{null==r||r()}})})},h7=(()=>{let e=e=>e.replace(/^https?:/,""),t=null,n=new Map,i={capture:!0,passive:!0},a=a=>{let r=e(a);n.delete(r),0===n.size&&t&&(window.removeEventListener("message",t,i),t=null)};return(r,s)=>{if(n.set(e(r),s),t)return()=>a(r);let l=Math.floor(519*Math.random());return t=t=>{if("https://if-cdn.com"===t.origin)try{let i=JSON.parse(t.data);if(!("context"in i))return;i.messageId=Math.floor(519*Math.random()),i.listenerId=l;let a=e(i.context);if(n.has(a))return void n.get(a)(i)}catch(e){console.error(e)}},window.addEventListener("message",t,i),()=>a(r)}})();function h8(e){return!!e&&"if-cdn.com"===new URL(e).host}let ge=e=>{let[t,n]=(0,I.useState)(null),i="function"==typeof e,a={resizeSettled:!1,loadFired:!1,preloadStart:Number.NEGATIVE_INFINITY,loadStart:Number.NEGATIVE_INFINITY,triggered:!1},r=(0,I.useRef)({...a}),s=(0,I.useRef)(e),l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{preloadStart:t,loadStart:n,resizeSettled:i,loadFired:a,triggered:l}=r.current,o=performance.now()-t,c=performance.now()-n;if(!l&&(e||i&&a)){var d;console.debug("[embed] firing onLoad ".concat(c,"ms after frame load"),{preloadDelta:o,loadDelta:c}),r.current.triggered=!0,null==(d=s.current)||d.call(s);return}};return(0,I.useEffect)(()=>{s.current=e},[e]),(0,I.useEffect)(()=>{if(!i||!h8(t))return()=>{r.current={...a}};r.current.preloadStart=performance.now();let e=null,n=h7(t,e=>{e&&"object"==typeof e&&"height"in e&&s.push(e.height),o(s.length?200:1e3)}),s=[],o=t=>{e&&(clearTimeout(e),e=null),r.current.resizeSettled||(e=setTimeout(()=>{e=null,r.current.resizeSettled=!0,n(),l()},t))};return o(1e3),()=>{e&&(clearTimeout(e),e=null),n(),r.current={...a}}},[t,i]),{handlePreload:e=>(n(e),()=>{r.current.loadStart=performance.now(),r.current.loadFired=!0,l(!h8(e))})}},gt=e=>{let{html:t,onLoad:n,...i}=e,{handlePreload:a}=ge(n),r=(0,I.useRef)({frame:null,listener:null});return(0,p.jsx)(h.a,{position:"relative",role:"group",className:"html-embed-viewer","data-selection-ring":"inside","data-selection-background":!0,borderRadius:"var(--box-border-radius)",contentEditable:!1,dangerouslySetInnerHTML:{__html:t},ref:e=>{if(!e){r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener),r.current={frame:null,listener:null};return}let t=null==e?void 0:e.getElementsByTagName("iframe");if((null==t?void 0:t.length)!==1){null==n||n();return}let i=t.item(0),s=i.src;if(i===r.current.frame)return;r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener);let l=a(s);r.current={frame:i,listener:l},i.addEventListener("load",l)},...i})},gn=e=>{let{frameRef:t,node:n,isStealth:i=!1,isDark:a}=e,r=(0,et.lQ)(n.attrs),{handleOpenLinkWithInterstitial:s}=(0,hX.E)(r);return(0,p.jsxs)(e6.s,{direction:"row",background:a?"gray.700":"gray.50",align:"center",borderBottom:"1px solid",borderColor:a?"gray.600":"gray.200",w:"100%",p:1,zIndex:2,position:i?"absolute":"relative",transitionProperty:"common",transitionDuration:"normal",opacity:+!i,_hover:{opacity:1},fontFamily:"body",children:[(0,p.jsx)(tl.p,{size:"xs",value:r,border:"0",noOfLines:1,color:a?"gray.200":"gray.600",pointerEvents:"none",readOnly:!0}),(0,p.jsxs)(tT.e,{size:"xs",spacing:1,variant:"ghost",colorScheme:"gray",ml:2,children:[(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"HpK/8d"}),placement:"top",children:(0,p.jsx)(eY.K,{isRound:!0,"aria-label":e5.Ru._({id:"HpK/8d"}),icon:(0,p.jsx)(M.g,{icon:e2.yek}),onClick:()=>{if(!t.current)return;let e=t.current.src;t.current.src="about:blank",setTimeout(()=>{t.current&&(t.current.src=e)},50)}})}),(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"Alx2/L"}),placement:"top",children:(0,p.jsx)(eY.K,{isRound:!0,"aria-label":e5.Ru._({id:"Alx2/L"}),icon:(0,p.jsx)(M.g,{icon:e2.vMs}),onClick:s})})]})]})};var gi=n(23103);let ga=e=>{let{isZoomed:t,useStealthNav:n,onLoad:i,opacity:a,...r}=e,{node:s}=r,l=(0,I.useRef)(null),{colorMode:o}=(0,iu.G6)(),c="dark"===o,d=(0,ec.FX)(),{url:u,proxy:h,source:g,embed:m}=s.attrs,x=(0,gi.B)(g),f=x.rewriteEmbedUrl&&u?x.rewriteEmbedUrl(u):u,b=h?(0,gi.l)(f):f||"about:blank",{isUntrusted:C}=(0,h4.i)(b);return x.preferHtml&&(null==m?void 0:m.html)?(0,p.jsx)(gt,{html:m.html,w:t?"100%":void 0,onClick:t?ny.dG:void 0,onLoad:i,opacity:a,...x.minWidth?{minW:"min(".concat(x.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0}):C?(0,p.jsx)(e6.s,{h:"100%",w:"100%",align:"center",justify:"center",children:"unknown embed"}):(0,p.jsxs)(e6.s,{direction:"column",h:"100%",w:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",borderRadius:t?"lg":"var(--box-border-radius)",border:"1px solid",borderColor:c?"gray.600":"gray.200",overflow:"hidden",position:"relative","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,S.cx)("embed-viewer"),onClick:t?ny.dG:void 0,children:[(0,p.jsx)(gn,{...r,frameRef:l,isDark:c,isStealth:n}),!t&&(0,p.jsx)(h1.zA,{...r,frameRef:l}),(0,p.jsx)(h9,{initialUrl:b,frameRef:l,iframeOptions:x.iframeOptions,onLoad:i,css:{aspectRatio:d?"1 / 1.618":"1.618 / 1"},flex:"1"})]})};var gr=n(42276);let gs=(0,cW.P)(h.a),gl=(0,cW.P)(e6.s),go=e=>{let{node:t,editor:n,decorations:i}=e,a=t.attrs,{source:s,embed:l,displayStyle:o,id:c,sourceUrl:d}=a,u=(0,gi.B)(s),{isZoomed:m,enterZoom:x,exitZoom:f}=(0,h1.RL)(c),b="inline"===o&&u.preferHtml&&(null==l?void 0:l.html),C=(0,d8.NZ)(e),y=(0,ec.FX)(),v=(0,K.GV)(ed.nD),w=(0,ns.DM)(i)||!n.view.hasFocus(),A=(0,t9.u)("virtualizeEmbeds"),[k,L]=(0,I.useState)(!1),j=!r.$.GAMMA_PUPPETEER_SERVICE&&(b||"inline"===o)&&!C&&!(y&&u.forcePreviewOnMobile),{handleOpenLinkWithInterstitial:E,handleOpenNativeLinkWithInterstitial:M,url:_}=h0({attrs:a,inGallery:C,shouldDisableClick:!!(u.inlineInteractive&&j)})||{},D=!C&&!n.isThumbnail,{inViewport:R,ref:T,dimensions:z}=hY();return A&&j&&!n.isThumbnail&&"embed.gdrive"!==u.key&&!1===R?(!0===k&&L(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(hJ,{ref:T,dimensions:z})})):(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(gs,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,S.cx)("embed-preview",!b&&!(u.inlineInteractive&&j)&&sS.Gx),"data-export-as-image":!0,"data-export-link":d,position:"relative",overflow:b&&u.minWidth?"visible":"hidden","data-drag-handle":!0,ref:T,children:[j&&n.isThumbnail?(0,p.jsx)(gr.a6,{...e}):C?(0,p.jsx)(gr.x6,{...e}):j?(0,p.jsx)(hJ,{isLoading:!k,dimensions:z,enforceMinDimensions:"embed.twitter"===u.key,flexDir:"column",children:(0,p.jsx)(ga,{...e,opacity:+!!k,onLoad:()=>{L(!0)},useStealthNav:!0})}):(0,p.jsx)(gr.Ch,{...e}),u.inlineInteractive&&!y&&j?(0,p.jsx)(h.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:v&&!w&&"inline"===o?"auto":"none",cursor:"default"}):u.inlineInteractive&&y&&j?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(h5,{enterZoom:x,handleOpenLink:M,handleOpenInNewTab:E,url:_})]}),D&&(0,p.jsx)(h1.Gx,{isZoomed:m,exitZoom:f,editor:n,children:(0,p.jsx)(gl,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(ga,{...e,onLoad:()=>{L(!0)},isZoomed:!0})})})]})},gc=["url","source","data-thumbnail","data-meta","sourceUrl","displayStyle","fullWidthBlock","clickBehavior"],gd=l.bP.create({name:"embed",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,d.gu)(go,{update:u.z0}),addAttributes:()=>({id:(0,sO.e)(sW.z),url:{},source:{default:hQ.Jp.key},thumbnail:{...(0,Y.tb)("thumbnail")},embed:{...(0,Y.tb)("embed")},meta:{...(0,Y.tb)("meta")},proxy:{parseHTML:e=>({proxy:"true"===e.getAttribute("proxy")})},sourceUrl:{},displayStyle:{default:"preview"},fullWidthBlock:{default:!1},clickBehavior:{default:null},embedFetchStatus:{default:et.oS,parseHTML:e=>(0,et.di)(e.getAttribute("embedfetchstatus"))}}),parseHTML:()=>[{tag:"div[class=embed]"},{tag:"iframe[bookmark]",getAttrs:X.Ll},{tag:"iframe",getAttrs:e=>({...Object.fromEntries(gc.map(t=>[t,e.getAttribute(t)]))})}],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,l.KV)(t,{class:"embed"}),["a",{href:(0,et.lQ)(n),target:"_blank"},(0,et.JY)(n)]]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n,disableBookmarks:i}=e;if(i){let e={...hK()(n,gc),"data-id":n.id};return n["data-embed"]&&(e.embedFetchStatus=et.fu),["iframe",e]}return["iframe",{bookmark:(0,X.vL)(t)}]},addCommands:()=>({replaceEmbedsById:(e,t)=>n=>{let{editor:i,chain:a}=n,r=(0,l.xe)(i.state.doc,t=>"embed"===t.type.name&&t.attrs.id===e),s=a();return r.forEach(e=>{let{pos:n,node:i}=e;s.insertContentAt({from:n,to:n+i.nodeSize},t,{updateSelection:!1})}),s.run(),!0},updateEmbedsById:(e,t)=>n=>{let{editor:i,chain:a}=n,r=(0,l.xe)(i.state.doc,t=>("embed"===t.type.name||"video"===t.type.name)&&t.attrs.id===e),s=a();return r.forEach(e=>{let{pos:n}=e;s.updateAttributesAtPos(n,{thumbnail:t.thumbnail})}),s.run(),!0},insertEmbedAndFetchMetadata:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i=>{let{commands:a,editor:r}=i,s=(0,sW.z)();a.insertContent({type:"embed",attrs:{id:s,url:e,sourceUrl:e,displayStyle:null!=t?t:"preview",meta:{title:"Loading..."}}},{updateSelection:!1});let l=!1;return(0,hq.Yq)(e,e=>{if(l)return void r.commands.updateEmbedsById(s,e);let n=n4.Fn[e.source];r.commands.replaceEmbedsById(s,{type:(null==n?void 0:n.nodeName)||"embed",attrs:{...e,id:s,displayStyle:null!=t?t:"video"===n.nodeName?"inline":"preview"}}),l=!0}).catch(t=>{console.warn("(caught) insertEmbedAndFetchMetadata error fetching url",t,e),n&&r.commands.replaceEmbedsById(s,e)}),!0}}})});var gu=n(45176);let gp="gallery-prevent-flex";class gh{constructor(e=null,t=null){this.dragging=e,this.dragOperation=t}}let gg=new W.hs("galleryPlugin"),gm=e=>new W.k_({key:gg,state:{init:()=>new gh,apply:(e,t)=>t},props:{handleDOMEvents:{drop(e){var t,n;let i=null==(t=e.dragging)?void 0:t.annotations,a=gg.getState(e.state);if(!a)return!1;a.dragging=i,a.dragOperation=(null==(n=e.dragging)?void 0:n.operation)||"insert"}},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{if((0,d8.Pb)(e))n.push(oA.NZ.node(t,t+e.nodeSize,{class:"gallery-layout-".concat(e.attrs.layout)},{children:e.content}));else if((0,d8.Pb)(i)){var a;let r="image"===e.type.name&&(null==(a=e.attrs.resize)?void 0:a.clipType)==="circle";n.push(oA.NZ.node(t,t+e.nodeSize,{class:r?gp:""},{inGallery:!0,layout:i.attrs.layout,dimensions:i.attrs.dimensions,thumbHeight:i.attrs.thumbHeight,thumbSpacing:i.attrs.thumbSpacing}))}}),oA.zF.create(t,n)},handlePaste:(e,t,n)=>{let{selection:i,schema:a}=e.state;if(!(i instanceof W.nh&&(0,d8.Pb)(i.node)))return!1;if((0,d8.jG)(a,n,t)){let t=e.state.tr.setSelection(W.U3.create(e.state.doc,i.to-1));e.dispatch(t)}return!1},handleDrop:(t,n,i)=>{let a,r=gg.getState(t.state),s=null==r?void 0:r.dragging,l=(null==r?void 0:r.dragOperation)||"insert";r&&(r.dragging=null,r.dragOperation=null);try{if((0,uY.i)(t,n,i,l)||!(a=(0,d8.tz)(t,n,i,!1)))return!1}catch(e){return console.error("(caught) [GalleryPlugin] handleDrop checkGalleryDropTarget error:",e),!1}try{let{selection:n}=t.state,r=i.content.toJSON(),{pos:l,side:o,node:c}=a,d=!n.empty,u=r.some(e=>{var t;return"image"===e.type&&!(null==(t=e.attrs)?void 0:t.src)}),p=d&&!u;if(c&&(0,d8.Pb)(c)){let t="left"===o?l:l+1;e.chain().insertContentAt({from:t,to:t},r,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(p&&i.deleteSelection(),s){let n=e.state.tr;n.deleteSelection(),i.setMeta("annotationEvent",{type:"drop",dragging:s,droppedBlockPos:n.mapping.map(t)})}return!0}).focusMapped(t).run()}else if(c&&(0,et.Bv)(c)){let n="left"===o?[...r,c.toJSON()]:[c.toJSON(),...r];e.chain().insertContentAt({from:l,to:l+c.nodeSize},{type:"gallery",content:n},{updateSelection:!1}).command(n=>{let{tr:i}=n;if(p&&i.deleteSelection(),s){let n=(0,s6.Q4)({side:o,view:t,tr:i,dragging:s,dropPos:l,dropNode:c});requestAnimationFrame(()=>{var t,i;null==(t=(i=e.commands).moveAnnotations)||t.call(i,n)})}return!0}).run()}}catch(e){console.error("(caught) [GalleryPlugin] handleDrop error:",e)}return!0}}});var gx=n(76694),gf=n(84979),gb=n(38636);let gC=e=>e&&hQ.Dc[e]?hQ.Dc[e]:hQ.GQ,gy=16/9,gv=e=>{let{isZoomed:t,onLoad:n,opacity:i,position:a="relative",...r}=e,{node:s}=r,{embed:l,source:o,sourceUrl:c}=s.attrs,d=gC(o),u=(0,I.useRef)(null),g=d.preferHtml&&(null==l?void 0:l.html),m=(null==l?void 0:l.height)&&!(null==l?void 0:l.width),x=(null==l?void 0:l.height)&&(null==l?void 0:l.width)?l.width/l.height:(null==l?void 0:l.aspectRatio)||gy,f=t?{width:"min(var(--media-maxW), calc(var(--media-maxH) * ".concat(x,"))"),height:"video.tiktok"===o?void 0:m?l.height:"min(var(--media-maxH), calc(var(--media-maxW) / ".concat(x,"))"),alignContent:"center"}:g?{width:"100%"}:m?{height:l.height}:{height:0,pb:"".concat(100/x,"%")},b=(null==l?void 0:l.url)||s.attrs.embedUrl||c,C=d&&d.rewriteEmbedUrl&&b?d.rewriteEmbedUrl(b):b;return(0,p.jsxs)(h.a,{position:a,opacity:i,"data-content-reference":!0,"data-drag-handle":!0,...f,onClick:t?ny.dG:void 0,transition:"opacity .2s",children:[!t&&(0,p.jsx)(h1.zA,{...r,frameRef:u}),g?(0,p.jsx)(gt,{html:l.html,w:t?"100%":void 0,onClick:t?ny.dG:void 0,onLoad:n,...d.minWidth?{minW:"min(".concat(d.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0,maxW:d.maxWidth}):(0,p.jsx)(h9,{initialUrl:C,backgroundColor:"none",borderRadius:"var(--box-border-radius)",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,S.cx)("video-player"),onLoad:n,iframeOptions:{preventScroll:!0,...d.iframeOptions},position:"absolute",inset:0,frameRef:u})]})},gw=e=>{let{node:t,editor:n}=e,i=t.attrs,{source:a,embed:s,displayStyle:l,id:o,sourceUrl:c}=i,{isZoomed:d,enterZoom:u,exitZoom:m}=(0,h1.RL)(o),x=(0,d8.NZ)(e),f=(0,gi.B)(a),b=(0,t9.u)("virtualizeEmbeds"),[C,y]=(0,I.useState)(!1),v=!r.$.GAMMA_PUPPETEER_SERVICE&&"inline"===l,w="inline"===l&&f.preferHtml&&(null==s?void 0:s.html),A=!x&&!n.isThumbnail,{handleOpenLinkWithInterstitial:k,handleOpenNativeLinkWithInterstitial:L,url:j}=h0({attrs:i,inGallery:x,shouldDisableClick:v&&!x})||{},{inViewport:E,ref:M,dimensions:_}=hY();return b&&v&&!1===E&&!n.isThumbnail?(!0===C&&y(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(hJ,{ref:M,dimensions:_})})):(0,p.jsxs)(g.u,{...e,as:"div",children:[(0,p.jsx)(h.a,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,S.cx)("embed-preview",!v&&sS.Gx),"data-export-as-image":!0,"data-export-link":c,position:"relative",overflow:w&&f.minWidth?"visible":"hidden",ref:M,children:n.isThumbnail?(0,p.jsx)(gr.a6,{...e}):x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h5,{enterZoom:u,url:j,handleOpenLink:L,handleOpenInNewTab:k}),(0,p.jsx)(gr.x6,{...e})]}):v?(0,p.jsx)(hJ,{isLoading:!C,dimensions:_,children:(0,p.jsx)(gv,{opacity:+!!C,position:"static",onLoad:()=>{y(!0)},...e})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h5,{enterZoom:u,url:j,handleOpenLink:L,handleOpenInNewTab:k}),(0,p.jsx)(gr.Ch,{...e})]})}),A&&(0,p.jsx)(h1.Gx,{isZoomed:d,exitZoom:m,editor:n,children:(0,p.jsx)(e6.s,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(gv,{onLoad:()=>{y(!0)},...e,isZoomed:!0})})})]})},gA=["embedUrl","source","data-thumbnail","data-meta","sourceUrl","displayStyle","fullWidthBlock","clickBehavior"],gk=l.bP.create({name:"video",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,d.gu)(gw,{update:u.z0}),addAttributes:()=>({id:(0,sO.e)(sW.z),embedUrl:{},source:{},thumbnail:{...(0,Y.tb)("thumbnail")},embed:{...(0,Y.tb)("embed")},meta:{...(0,Y.tb)("meta")},sourceUrl:{},displayStyle:{default:"inline"},fullWidthBlock:{default:!1},clickBehavior:{default:null},embedFetchStatus:{default:et.oS,parseHTML:e=>(0,et.di)(e.getAttribute("embedfetchstatus"))}}),parseHTML:()=>[{tag:"div[class=video]"},{tag:"video[bookmark]",getAttrs:X.Ll},{tag:"video",getAttrs:e=>({...Object.fromEntries(gA.map(t=>[t,e.getAttribute(t)]))})}],addStorage:()=>({bookmarks:{}}),renderHTMLforAI(e){let{node:t,disableBookmarks:n,HTMLAttributes:i}=e;if(n){let e={...hK()(i,gA),"data-id":i.id};return i["data-embed"]&&(e.embedFetchStatus=et.fu),["video",e]}return["video",{bookmark:(0,X.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,l.KV)(t,{class:"video"}),["a",{href:(0,et.lQ)(n),target:"_blank"},(0,et.JY)(n)]]}});var gL=n(80215);let gj=e=>{let{editor:t,node:n,getPos:i}=e,a=(0,I.useCallback)(()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),t.chain().deleteSelectionAndSelectNear().run())},[t,i]),r=(0,gL.N_)(),s=n.attrs.layout;return{contextMenuItems:[...(0,og.d)({editor:t,node:n,getPos:i}),{divider:!0},{key:"add-comment",label:(0,p.jsx)(em.x6,{id:"oFsfkI"}),icon:e2.DN2,onClick:()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),(0,d8.wG)(t.state.selection))}},{divider:!0},{key:"layout",label:(0,p.jsx)(em.x6,{id:"vR68Ol"}),icon:e2.Qyz,items:Object.entries(r).map(e=>{let[a,r]=e;return{key:a,label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E.E,{children:r.title}),(0,p.jsx)(E.E,{fontSize:"xxs",color:"gray.500",children:r.description})]}),icon:a===s?e2.e68:void 0,onClick:()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),(0,gL.mF)(a,n.attrs,t,t.state.selection))}}})},{key:"add-image",label:(0,p.jsx)(em.x6,{id:"pVb3uA"}),icon:e2.HuL,onClick:()=>{let e=i();"number"==typeof e&&(t.commands.selectNodeAtPos(e),(0,d8.hk)(i,t))}},{divider:!0},{key:"delete",label:(0,p.jsx)(em.x6,{id:"cnGeoo"}),icon:e2.yLS,onClick:a,color:"red.500"}]}},gE=(0,cW.P)(e6.s),gS=e=>{let{node:t,editor:n,getPos:i}=e,a=t.attrs,r=(0,ec.FX)(),s=(0,d8.yg)(e),l=0===s.length,o=(0,rY.rd)(),c=l?gu.Aj:r?gu.XJ:a.thumbHeight||gu.Aj,u=a.layout,h="grid"===u?a.dimensions||"square":void 0,x=(0,m.lI)(a.horizontalAlign||"center"),{isZoomed:f,isZoomComplete:b,exitZoom:C,zoomedId:y,setZoomedId:v}=(0,h1.$B)(s.map(e=>e.attrs.id)),w=(0,K.GV)(ed.nD),A=(0,I.useRef)(null),k=(0,gx.z)(A,e=>(0,d8.HI)(n.view,e)),{contextMenuItems:L}=gj({editor:n,node:t,getPos:i}),{onOpenContextMenu:j}=(0,lx.$)({editor:n,contextMenuItems:L,getPos:i}),S=(0,I.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),(0,d8.hk)(i,n)},[i,n]),_=(0,I.useCallback)(e=>{var t;if(n.isEditable&&(null==(t=e.target.closest(".gallery, .block"))?void 0:t.classList.contains("gallery"))){let e=i();if("number"!=typeof e)return;n.commands.selectNodeAtPos(e)}},[n,i]),D=(0,I.useMemo)(()=>"grid"===u?{overflow:"hidden",aspectRatio:"square"===h?"1":"landscape"===h?"4/3":"3/4"}:"logo"===u?{height:void 0}:{h:"".concat(c,"em"),flex:a.stretchFill||null===a.stretchFill?"1 1 auto":void 0},[u,h,c,a.stretchFill]),R=(0,I.useMemo)(()=>"grid"===u?{justifyContent:"center",display:"grid",gridTemplateColumns:1===s.length?"repeat(auto-fit, ".concat(a.thumbHeight,"em)"):s.length<6?a.thumbHeight>=gu.Vj/(1+.1*s.length)?"repeat(auto-fit, minmax(".concat(a.thumbHeight,"em, 1fr))"):"repeat(auto-fit, ".concat(a.thumbHeight,"em)"):"repeat(auto-fit, minmax(".concat(a.thumbHeight,"em, 1fr))"),gap:a.thumbHeight>=gu.Vj/2?"".concat(gu.I0,"em"):a.thumbHeight<=gu.Vj/3?"".concat(gu.I0/1.25,"em"):"".concat(gu.I0/1.5,"em")}:{gap:a.thumbHeight<=gu.Aj/3?"".concat(gu.I0/2,"em"):a.thumbHeight<=gu.Aj/2?"".concat(gu.I0/1.5,"em"):"".concat(gu.I0,"em"),display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",placeContent:x,w:s.length>=3&&(null===a.stretchFill||a.stretchFill)?"100%":void 0},[u,a.thumbHeight,a.stretchFill,x,s.length]);return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(e6.s,{onContextMenu:w?j:void 0,className:"gallery",cursor:"default",onClick:_,ref:A,align:x,direction:"column",position:"relative","data-selection-ring":!0,"data-selection-background":!0,...l?k:{},css:{"--media-maxH":"flex"===u?"".concat(c,"em"):void 0,"--media-maxW":"100%"},w:"100%",sx:{".gallery-content":{w:"100%",display:"flex"===u?"contents":void 0},"[data-node-view-content-inner=gallery]":{...R,".block":{...D,["&.".concat(gp)]:{flex:"0 0 auto"},my:0,transitionProperty:"filter",transitionDuration:"normal",_hover:{[":not(.block-mediaPlaceholder) > :not(.".concat(gf.T,")")]:{filter:"brightness(0.9)"}},"[data-node-view-wrapper]":{h:"100%"}},".block-mediaPlaceholder":{overflow:"visible"}},".block-gallery.is-focused & .placeholder":{bg:o?lC.N.DARK_GALLERY_BG:lC.N.LIGHT_GALLERY_BG},".placeholder":{minW:"flex"===u?"12em":"logo"===u?"6em":void 0,h:"logo"===u?(0,d8.w5)(a.thumbHeight,a.thumbSpacing):void 0}},children:[l?(0,p.jsxs)(ep.T,{spacing:3,h:"".concat(c,"em"),justify:"center",contentEditable:!1,color:o?lC.N.DARK_COLOR:lC.N.LIGHT_COLOR,className:"gallery-placeholder","data-testid":"gallery-placeholder",userSelect:"none",children:[(0,p.jsx)(M.g,{size:"2x",icon:iG.yvG}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eq.$,{size:"xs",onClick:S,onMouseDown:ny.Fw,children:"Add images"}),(0,p.jsx)(E.E,{color:o?lC.N.DARK_ICON_COLOR:lC.N.LIGHT_ICON_COLOR,fontSize:"sm",textAlign:"center",children:(0,p.jsx)(em.x6,{id:"oyPIji"})})]}):null]}):(0,p.jsx)(d.$p,{className:"gallery-content"}),w&&!l&&(0,p.jsx)(e6.s,{position:"absolute",bottom:"0",h:"grid"===u||"logo"===u?"100%":"".concat(c,"em"),align:"center",w:6,insetEnd:-3,className:"add-image",opacity:"0",transitionProperty:"opacity",zIndex:"tooltip",transitionDuration:"normal",children:(0,p.jsx)(eg.Tz,{label:(0,p.jsx)(em.x6,{id:"P5MuiB"}),placement:"top",children:(0,p.jsx)(eY.K,{icon:(0,p.jsx)(M.g,{icon:e2.QLR}),"aria-label":e5.Ru._({id:"P5MuiB"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:S})})}),(0,p.jsx)(z.A,{...e,handlePlacement:"outside",label:e5.Ru._({id:"wnA/4R"})})]}),(0,p.jsx)(h1._M,{isZoomed:f,isZoomComplete:b,exitZoom:C,zoomedId:y,setZoomedId:v,editor:n,children:s.filter(e=>e.attrs.id).map(e=>{let{id:t}=e.attrs,i=e.type.name;return{id:t,thumbnail:"image"===i?(0,p.jsx)(gb.F,{imageAttrs:e.attrs,objectFit:"cover",isThumbnail:!0}):(0,p.jsx)(gr.x6,{node:e}),full:(0,p.jsx)(e6.s,{justify:"center",align:"center",h:"100%",w:"100%",children:"image"===i?(0,p.jsx)(gb.F,{isZoomed:!0,imageAttrs:e.attrs}):"video"===i?(0,p.jsx)(gE,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(gv,{isZoomed:!0,node:e,decorations:[],editor:n})}):(0,p.jsx)(gE,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(ga,{isZoomed:!0,node:e,decorations:[],editor:n})})})}})})]})},gM=l.bP.create({name:"gallery",group:"cardBlock layoutBlock",content:"media*",isolating:!0,draggable:!0,selectable:!0,priority:ee.y.Gallery,containerHandle:!0,expandable:!0,addNodeView:()=>(0,d.gu)(gS,{update:u.z0,ignoreMutation:p_.I}),addAttributes:()=>({thumbHeight:{default:gu.Aj},fullWidthBlock:{default:!1},layout:{default:"flex"},stretchFill:{},dimensions:{default:"square"},thumbSpacing:{default:gu.mj}}),addProseMirrorPlugins(){return[gm(this.editor)]},parseHTML:()=>[{tag:"div[class=gallery]"},{tag:"gallery"}],renderHTMLforAI(e){let{node:t}=e;return["gallery",{thumbHeight:t.attrs.thumbHeight},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"gallery"}),0]}});var gI=n(1558),g_=n(44553),gD=n(95168);let gR=l.bP.create({name:"mediaPlaceholder",group:"block media",atom:!0,selectable:!0,draggable:!0,priority:ee.y.MediaPlaceholder,addNodeView:()=>(0,d.gu)(gD.h),addAttributes:()=>({id:(0,sO.e)(sW.z),source:{},fullWidthBlock:{default:!1}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;return!!(n instanceof W.nh&&(0,et.Bv)(n.node))&&((0,lg.G)(),!0)}}),addCommands:()=>({insertMediaBlock:e=>t=>{let{commands:n}=t;return n.insertContentAndSelect({type:"mediaPlaceholder",attrs:{source:e}}),requestAnimationFrame(()=>{(0,lg.G)()}),!0}}),parseHTML:()=>[{tag:"img[placeholder=true]",priority:60}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,l.KV)(t,{placeholder:"true"})]}});var gT=n(12665),gz=n(45234);let gH=["paragraph","heading","title","bullet","numbered","todo","toggleSummary"],gN=l.YY.create({name:"placeholderText",addGlobalAttributes:()=>[{types:gH,attributes:{placeholder:{default:null,keepOnSplit:!1,rendered:!1}}}],addCommands:()=>({removeFilledPlaceholders:()=>e=>{let{tr:t,dispatch:n}=e;return!n||(t.doc.descendants((e,n)=>{e.attrs.placeholder&&e.textContent&&(console.debug("Removing placeholder",e.attrs.placeholder,"at",n,"with content",e.textContent),t.setNodeAttribute(n,"placeholder",null))}),!0)}}),onUpdate(){gB(this.editor)}}),gB=aH()(e=>{e.isEditable&&e.commands.removeFilledPlaceholders()},100,{maxWait:1e3}),gP=l.YY.create({name:"positioning",addGlobalAttributes:()=>[{types:["paragraph","heading","title"],attributes:{size:{default:null,...(0,Y.tb)("size"),parseHTML:e=>{let t=e.getAttribute("data-size");return t?JSON.parse(t):null},renderHTML:e=>e.size?{"data-size":JSON.stringify(e.size)}:null},position:{default:null,...(0,Y.tb)("position"),parseHTML:e=>{let t=e.getAttribute("data-position");return t?JSON.parse(t):null},renderHTML:e=>e.position?{"data-position":JSON.stringify(e.position)}:null}}}],addCommands:()=>({insertPositionedParagraph:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:{percentX:30,percentY:40},size:null};return t=>{let{commands:n,state:i}=t,{position:a={percentX:30,percentY:40},size:r=null}=e,{selection:s}=i,l=null,o=i.doc.nodeAt(s.from);if((null==o?void 0:o.type.name)==="cardImageItem"&&(l=s.from),null===l)return!1;let c=i.doc.nodeAt(l);if(!c)return!1;let d=l+c.nodeSize-1;return n.insertContentAt(d,{type:"paragraph",attrs:{position:a,size:r},content:[{text:"Hello",type:"text"}]})}},insertPositionedHeading:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{commands:n,state:i}=t,{position:a={percentX:30,percentY:40},size:r=null,level:s=1}=e,{selection:l}=i,o=null,c=i.doc.nodeAt(l.from);if((null==c?void 0:c.type.name)==="cardImageItem"&&(o=l.from),null===o)return!1;let d=i.doc.nodeAt(o);if(!d)return!1;let u=o+d.nodeSize-1;return n.insertContentAt(u,{type:"heading",attrs:{position:a,size:r,level:s},content:[{text:"Heading",type:"text"}]})}},insertPositionedTitle:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{commands:n,state:i}=t,{position:a={percentX:30,percentY:40},size:r=null,level:s=1}=e,{selection:l}=i,o=null,c=i.doc.nodeAt(l.from);if((null==c?void 0:c.type.name)==="cardImageItem"&&(o=l.from),null===o)return!1;let d=i.doc.nodeAt(o);if(!d)return!1;let u=o+d.nodeSize-1;return n.insertContentAt(u,{type:"title",attrs:{position:a,size:r,level:s},content:[{text:"Title",type:"text"}]})}}})});var gF=n(7631),gV=n(13357),gO=n(54958);let gZ=new W.hs("smartDiagram"),gW=e=>{let t=e.find(e=>e.spec.isSmartDiagramDecoration);return t?t.spec:{isSmartDiagramDecoration:!0,selectedKeyPath:void 0,isSelected:!1,layoutContainerSize:1}},gU=()=>new W.k_({key:gZ,props:{decorations(e){let{doc:t,selection:n}=e,i=[];return t.descendants((t,a)=>{if("smartDiagram"!==t.type.name)return;let r=(0,pT.J)(e.doc.resolve(a)),{isSelected:s,selectedKeyPath:l}=gG(n,t);i.push(oA.NZ.node(a,a+t.nodeSize,{},{isSmartDiagramDecoration:!0,isSelected:s,selectedKeyPath:l,layoutContainerSize:r}))}),oA.zF.create(t,i)}}}),gG=(e,t)=>e instanceof W.nh&&e.node===t?{isSelected:!0}:e instanceof gO.n&&e.node===t?{isSelected:!0,selectedKeyPath:e.keyPath}:{isSelected:!1,selectedKeyPath:void 0};var gK=n(56939);class gQ extends I.Component{static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message}}componentDidCatch(e,t){console.error("BlockErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,p.jsx)(h.a,{fontFamily:"monospace",p:"1em",bg:"red.500",color:"white",borderRadius:"var(--box-border-radius)",fontSize:"1em",children:"Error rendering block: "+this.state.errMessage}):this.props.children}constructor(e){super(e),this.state={hasError:!1,errMessage:""}}}let gq=e=>{let{node:t}=e,{templateKey:n,aiGenerateStatus:i,data:a}=t.attrs;if(!(0,eD.En)())return null;if("queued"===i||!n)return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(lv.Pf,{isLoading:!0,loadingProvider:"aiGenerated",borderRadius:"var(--box-border-radius)",h:"10em"})});let r=n?(0,gK.FV)(n):void 0;return r&&("error"!==i||a)?(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(gQ,{errorMessage:"Unable to render smart diagram",children:(0,p.jsx)(gJ,{...e,template:r})})}):(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(lv.Pf,{hasUploadError:!0,borderRadius:"var(--box-border-radius)",h:"10em"})})},gJ=e=>{let{node:t,editor:n,decorations:i,updateAttributes:a,getPos:r,template:s}=e,l=t.attrs,{data:o,horizontalAlign:c,showIcons:d}=l,u=s.Component,{bodyColor:h,primaryColor:g,primaryColorLight:x}=(0,T.a)(i),{isFullBleed:f}=(0,p8.J7)(i),[b,C]=(0,I.useState)(!1),y=(0,I.useRef)(null),v=(0,K.GV)(ed.nD),w=(0,K.GV)(ed.SJ),{isSelected:A,selectedKeyPath:k,layoutContainerSize:L}=gW(i),j=n.isFocused,E=!!(A&&!k&&j),S=(0,I.useCallback)(e=>{let t=r();if("number"==typeof t)try{var i;let a=null==(i=n.state.doc.nodeAt(t))?void 0:i.attrs,r=null==a?void 0:a.data;if(!r)return;let s=JSON.parse(JSON.stringify(r)),l=e(s);if(JSON.stringify(l)===JSON.stringify(r))return;let o=n.state.tr;o.setNodeAttribute(t,"data",l).setSelection(W.LN.fromJSON(o.doc,n.state.selection.toJSON())),n.view.dispatch(o)}catch(e){console.error("Error updating smart diagram data",e)}},[r,n]),M=(0,I.useCallback)(e=>{let t=r();if("number"!=typeof t)return;let i=null==e?void 0:e.target;if(null==i||!i.closest("[data-in-editor-focus]"))try{n.commands.selectNodeAtPos(t)}catch(e){console.error("Error selecting node",e)}},[r,n]),_=(0,I.useCallback)(e=>{a({...t.attrs,...e}),M()},[t.attrs,a,M]),D=(0,I.useCallback)(e=>{let t=r();if("number"!=typeof t)return;let i=n.state.doc.resolve(t),a=new gO.n(i,e);n.view.dispatch(n.state.tr.setSelection(a))},[r,n]),R=(0,m.fZ)(i,c),z=(0,m.Up)(i);return(0,nh.j)({enabled:(b||A)&&v,ref:y,handler:e=>{let t=e.target;if(!(t instanceof Element))return;let n=t.closest("[data-active-menu]"),i=t.closest("[data-insert-widget-popover]");(!n||i||!j)&&b&&C(!1)}}),(0,p.jsx)("div",{ref:y,children:(0,p.jsx)(u,{data:o,theme:w,updateData:S,updateResizeAttrs:_,selectItem:D,selectNode:M,editor:n,isNodeSelected:E,selectedKeyPath:null!=k?k:null,alignDirection:R,svgDirection:z,isEditable:v,attrs:l,layoutContainerSize:L,showIcons:d,colors:{bodyColor:h,accentColor:g,accentColorLight:x},isTextMenuVisible:b,setIsTextMenuVisible:C,isFullBleed:f})})},g$=l.bP.create({name:"smartDiagram",group:"block",isolating:!0,defining:!0,atom:!0,selectable:!0,addAttributes:()=>({id:(0,sO.e)(sW.z),templateKey:{default:null},data:{default:{},...(0,Y.tb)("data")},width:{default:null},showIcons:{default:!0},aiGenerateParams:{default:null,...(0,Y.tb)("aiGenerateParams")},aiGenerateStatus:{default:null}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,l.KV)(t,{class:"smart-diagram"})]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e;return["diagram",{...n,"data-data":void 0},JSON.stringify(t.attrs.data,null,2)]},parseHTML:()=>[{tag:"div[class=smart-diagram]"},{tag:"diagram[".concat(lo.A0,"]"),getAttrs:lc.K},{tag:"diagram",getAttrs:e=>{let t=e.textContent;if(!t)return!1;try{let e=t.replace(/\s+/g," ").trim();return{data:JSON.parse(e)}}catch(e){return!1}}}],addNodeView:()=>(0,d.gu)(gq,{update:u.z0}),addProseMirrorPlugins:()=>[gU()],addCommands(){return{insertSmartDiagram:e=>{let{attrs:t,selectedText:n,allowGeneration:i=!0}=e;return e=>{let{chain:a,state:r}=e,{selection:s}=r,o=(0,l.KP)(e=>"smartLayout"===e.type.name)(s),c=(0,l.eL)(r.doc.resolve(s.from),e=>"gridLayout"===e.type.name),d=s.from,u=o||c;u&&(d=u.pos+u.node.nodeSize);let p=i?(0,gV.YR)(this.editor,n):{};return a().insertContentAt(d,{type:this.name,attrs:{...t,templateKey:t.templateKey,id:(0,sW.z)(),...p}}).selectInsertedNode().command(e=>{let{tr:t,state:n}=e;if(i){let e=t.selection.from;return(0,gV.BX)(this.editor,n,e)}return!0}).run()}},updateSmartDiagramData:(e,t,n)=>i=>{let{chain:a}=i;return a().updateAttributeKeyPathAtPos(e,"data."+t,n).run()}}}});var gY=n(95663),gX=n(35616),g0=n(61964);let g1=l.YY.create({name:"TableCommands",addCommands:()=>({selectColumn:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),s=g0.rn.colSelection(r);return n.setSelection(s),!0},selectRow:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),s=g0.rn.rowSelection(r);return n.setSelection(s),!0},selectTable:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),s=g0.rn.colSelection(r),l=g0.rn.rowSelection(s.$anchorCell,s.$headCell);return n.setSelection(l),!0}})}),g2=l.bP.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"(block | tableBlock)+",addCommands:()=>({setTableCellBackgroundColor:e=>t=>{let{state:n,dispatch:i}=t,{selection:a}=n;if(i){let t=n.tr;a instanceof g0.rn&&a.forEachCell((n,i)=>{"tableCell"===n.type.name&&t.setNodeMarkup(i,void 0,{...n.attrs,backgroundColor:e})}),i(t)}return!0},unsetTableCellBackgroundColor:()=>e=>{let{state:t,dispatch:n}=e,{selection:i}=t;if(n){let e=t.tr;if(i instanceof g0.rn)i.forEachCell((t,n)=>{"tableCell"===t.type.name&&t.attrs.backgroundColor&&e.setNodeMarkup(n,void 0,{...t.attrs,backgroundColor:null})});else{let{from:n,to:a}=i;t.doc.nodesBetween(n,a,(t,n)=>{"tableCell"===t.type.name&&t.attrs.backgroundColor&&e.setNodeMarkup(n,void 0,{...t.attrs,backgroundColor:null})})}n(e)}return!0}}),addAttributes:()=>({colspan:{default:1},rowspan:{default:1},backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color"),renderHTML:e=>{if(!e.backgroundColor)return{};let t=(0,R.w8)("#272525",e.backgroundColor,4.5,!0);return{"data-background-color":e.backgroundColor,style:"background-color: ".concat(e.backgroundColor,"; --table-cell-text-color: ").concat(t,";")}}}}),tableRole:"cell",isolating:!0,selectable:!1,parseHTML:()=>[{tag:"td"},{tag:"th"}],renderHTML(e){let{HTMLAttributes:t}=e;return["td",(0,l.KV)(this.options.HTMLAttributes,t),0]}}),g3=e=>(0,p.jsxs)(d.VR,{className:"table-row-wrapper",style:{display:"contents"},children:[(0,p.jsx)("div",{style:{position:"relative",padding:0},children:(0,p.jsx)(g5,{...e})}),(0,p.jsx)(d.$p,{as:"div",className:"table-row-content",style:{display:"contents"}})]}),g5=(0,I.memo)(e=>{let{...t}=e,{getPos:n,editor:i}=t;return(0,p.jsx)(e6.s,{height:"100%",align:"center",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(z.A,{...t,handlePlacement:"custom",label:e5.Ru._({id:"9c44h0"}),onClick:()=>{let e=n();"number"==typeof e&&i.chain().focus().selectRow(e+1).run()},insetInlineStart:"-0.5em",top:"1em",zIndex:"3","data-testid":"table-row-control"})})});g5.displayName="RowControl";let g4=l.bP.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),selectable:!1,content:"tableCell+",tableRole:"row",containerHandle:!0,addNodeView:()=>(0,d.gu)(g3,{update:u.z0,as:"tr"}),parseHTML:()=>[{tag:"tr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["tr",(0,l.KV)(this.options.HTMLAttributes,t),0]}});var g6=n(97984),g9=n(17406),g7=n(13932),g8=n(22685);let me=e=>{let{editor:t,getPos:n,node:i,decorations:a}=e,{level:r,position:s,size:l,horizontalAlign:o}=i.attrs,c=(0,K.GV)(ed.nD);return(0,p.jsxs)(g.u,{...e,children:[" ",c?(0,p.jsx)(g7.M,{editor:t,getPos:n,node:i,decorations:a,position:s,size:l,children:(0,p.jsx)(d.$p,{dir:(0,m.fZ)(a),level:r,className:(0,S.cx)("title","positioned-title",_.U6),style:{...(0,m.O8)(o)}})}):(0,p.jsx)(g8.L,{position:s,size:l,node:i,children:(0,p.jsx)(d.$p,{dir:(0,m.fZ)(a),level:r,className:(0,S.cx)("title","positioned-title",_.U6),style:{...(0,m.O8)(o)}})})]})},mt=e=>{let{node:t,decorations:n}=e,{level:i,horizontalAlign:a,placeholder:r,position:s}=t.attrs;if(s)return(0,p.jsx)(me,{...e});let l=r||(i===mn.DefaultTitle?e5.Ru._({id:"wja8aL"}):e5.Ru._({id:"MHrjPM"}));return(0,p.jsx)(g.u,{...e,style:{display:"flex",flexDirection:"column",...(0,m.yp)(a)},children:(0,p.jsx)(d.$p,{dir:(0,m.fZ)(n),level:i,className:(0,S.cx)("title",_.U6),"data-placeholder":l,style:{minWidth:"min(100%, 10em)",...(0,m.O8)(a)}})})};var mn=function(e){return e[e.DefaultTitle=1]="DefaultTitle",e[e.LargeTitle=2]="LargeTitle",e[e.XLargeTitle=3]="XLargeTitle",e}({});let mi=e=>{switch(e){case 1:default:return"md";case 2:return"lg";case 3:return"xl"}},ma=e=>{switch(e){case"md":default:return 1;case"lg":return 2;case"xl":return 3}},mr=l.bP.create({name:"title",content:"inline*",group:"block cardNotesBlock",defining:!0,selectable:!1,addAttributes:()=>({level:{default:1}}),addNodeView:()=>(0,d.gu)(mt,{update:u.z0}),parseHTML:()=>[{tag:"h1[class=title]"},{tag:"display[size]",getAttrs:e=>({level:ma(e.getAttribute("size"))})}],addInputRules(){return(0,g9.Y5)().map(e=>{let[,t]=e,{inputRegex:n,level:i}=t;return n?(0,us.JJ)({find:n,type:this.type,getAttributes:{level:i}}):null}).filter(e=>!!e)},renderHTML(e){let{HTMLAttributes:t}=e;return["h1",(0,l.KV)(t,{class:"title"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e,{level:n=1,...i}=t,a=mi(n);return["display",{...i,size:a},0]}});var ms=n(53891);let ml=()=>new W.k_({key:new W.hs("TogglePlugin"),props:{handlePaste(e,t,n){let{selection:i,tr:a}=e.state,r=(0,l.KP)(ms.Rv)(i);if(!r)return!1;let s=null,o=null,c=[];if(n.content.descendants(e=>{e.isTextblock&&(s?c.push(e):(s=e.content,o=(0,a4.NA)(e)||null))}),!s)return;o&&a.setNodeAttribute(r.pos,"fontSize",o),a.replaceSelection(lU.Ji.maxOpen(s));let d=a.mapping.map(r.pos+r.node.nodeSize);a.replaceRange(d,d,lU.Ji.maxOpen(lU.FK.fromArray(c)));let u=(0,s3.i)(a,-1);return u&&a.setSelection(u),e.dispatch(a),!0},decorations(e){let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{if(!i||!(0,ms.Rv)(e))return;let a=(0,Y.F2)(i.content).slice(1).every(e=>(0,Y.Op)(e)),r=oA.NZ.node(t,t+e.nodeSize,{},{isToggleDecoration:!0,toggleId:i.attrs.id,isEmpty:a});n.push(r)}),oA.zF.create(t,n)}}}),mo=e=>{var t;return(null==(t=e.find(e=>e.spec.isToggleDecoration))?void 0:t.spec)||{}},mc="1.5em",md=e=>{let{node:t,decorations:n}=e,{level:i,fontSize:a,placeholder:r,horizontalAlign:s}=t.attrs,{toggleId:l="",isEmpty:o}=mo(n),c=(0,m.yp)(s),u=(0,m.fZ)(n),[h]=(0,rZ.yz)(u),x=(0,K.GV)(ed.nD),f=(0,K.GV)(ed.jO),b=(0,K.GV)((0,ed.q)(l))||f,C=(0,I.useCallback)(()=>{(0,ms.bG)(l,!b)},[l,b]);return(0,p.jsx)(g.u,{...e,hideComments:!b,children:(0,p.jsxs)(E.E,{as:"div",dir:u,display:"flex",flexDirection:"column",position:"relative",onClick:x?void 0:C,cursor:x?void 0:"pointer",style:{display:"flex",flexDirection:"column",...(0,m.yp)(s)},children:[(0,p.jsx)(eq.$,{[h]:"calc(0.125em - ".concat(mc,")"),position:"absolute",variant:"ghost",colorScheme:"gray",color:o?"var(--body-color-muted)":"var(--body-color)",onClick:x?C:void 0,contentEditable:!1,onMouseDown:ny.Fw,fontSize:"1em",lineHeight:"inherit",height:"100%",px:2,marginStart:-2,minW:"unset","data-testid":"toggle-button",children:(0,p.jsx)(E.E,{transform:"rotate(".concat(b?90:180*("rtl"===u),"deg)"),transformOrigin:"center",transitionProperty:"transform",transitionDuration:"normal",fontSize:"0.75em",children:(0,p.jsx)(M.g,{icon:eI.ijD})})}),(0,p.jsx)(d.$p,{dir:u,level:i,"data-placeholder":r||e5.Ru._({id:"JFciKP"}),"data-font-size":a,className:(0,S.cx)((0,a4.Ii)(a)&&_.U6),style:{minWidth:"min(100%, 10em)",textAlign:c.textAlign,...(0,m.O8)(s)}})]})})},mu=l.bP.create({name:"toggleSummary",content:"inline*",selectable:!1,marks:"bold italic underline code footnoteLabel strike textColor highlight",allowFontSizes:"heading body",addAttributes:()=>({fontSize:pc.mD}),addNodeView:()=>(0,d.gu)(md,{update:u.z0}),renderHTML(e){let{HTMLAttributes:t}=e;return["summary",t,0]},parseHTML:()=>[{tag:"summary"}]}),mp=e=>{let{decorations:t,node:n}=e,i=(0,m.fZ)(t),[a]=(0,rZ.yz)(i),r=(0,K.GV)(ed.jO),s=(0,K.GV)((0,ed.q)(n.attrs.id))||r;return(0,p.jsx)(g.u,{...e,hideComments:s,readOnly:!s,children:(0,p.jsxs)(h.a,{dir:i,ps:mc,position:"relative","data-open":!!s,className:"toggle",borderRadius:"var(--box-border-radius)","data-selection-ring":"padded",children:[(0,p.jsx)(d.$p,{}),s&&(0,p.jsx)(h.a,{position:"absolute",[a]:"0.375em",bottom:"0.25em",top:"2.5em",borderStart:"1px solid",borderColor:"var(--neutral-border-color)"})]})})};var mh=n(55860);let mg=/^\s*([+])\s$/,mm=l.bP.create({name:"toggle",group:"layoutBlock calloutBlock cardBlock smartLayoutBlock tableBlock",content:"toggleSummary (block | layoutBlock)+",selectable:!1,isolating:!0,priority:ee.y.Toggle,expandable:!0,addNodeView:()=>(0,d.gu)(mp,{update:u.z0}),addProseMirrorPlugins:()=>[ml()],addAttributes:()=>({id:(0,sO.e)(mh.n)}),addInputRules(){var e;return[(e={find:mg,innerType:this.editor.schema.nodes.toggleSummary,outerType:this.type,getInnerAttributes:e=>({fontSize:(0,a4.NA)(e)}),getOuterAttributes:()=>{let e=(0,mh.n)();return(0,ms.bG)(e,!0),{id:e}}},new l.fV({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,r=n.doc.resolve(i.from);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.outerType))return;let s=(0,l.gk)(e.getOuterAttributes,void 0,r.parent)||{},o=(0,l.gk)(e.getInnerAttributes,void 0,r.parent)||{},c=n.tr.delete(i.from,i.to),d=c.doc.resolve(i.from),u=d.parent,p=e.outerType.createAndFill(s,[e.innerType.create(o,u.content)]);c.replaceWith(d.before(),d.after(),p);let h=(0,s3.n)(c.doc.resolve(i.from));h&&c.setSelection(h)}}))]},addCommands(){var e=this;return{unwrapToggle:()=>e=>{let{state:t,editor:n,tr:i}=e;if(!n.isActive("toggleSummary"))return!1;let{selection:a,schema:r}=t,s=(0,l.KP)(ms.p8)(a);if(!s||s.start+1!==a.from||!a.empty)return!1;let o=(0,Y.F2)(s.node.content),c=o[0],{type:d,level:u}=(0,a4.o)(c.attrs.fontSize),p=["heading"===d?r.nodes.heading.create({level:u},c.content):r.nodes.paragraph.create({fontSize:c.attrs.fontSize},c.content)].concat(o.slice(1));i.replaceWith(s.pos,s.pos+s.node.nodeSize,lU.FK.from(p)).setMeta("annotationEvent",{type:"unwrap-node",pos:s.pos});let h=i.doc.resolve(s.pos),g=(0,s2.s)(h);return g&&i.setSelection(g),!0},joinBackwardInToggle:()=>e=>{let{state:t,editor:n,chain:i}=e;if(n.isActive("toggleSummary"))return!1;let{selection:a}=t,r=(0,l.KP)(ms.p8)(a);if(!r)return!1;let s=(0,Y.F2)(r.node.content).slice(1);return!!a.empty&&0===a.$from.parentOffset&&1===s.length&&(i().command(e=>{let{tr:t}=e,i=t.doc.resolve(r.pos+1).end();return t.insert(i,n.schema.nodes.paragraph.create()),!0}).joinBackward(),!0)},wrapWithToggle:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>{let a,{state:r,tr:s}=i,{doc:l,selection:o,schema:c}=r,d=o.$from.blockRange(o.$to);if(!d)return!1;let u=[];l.nodesBetween(o.from,o.to,(e,t,n)=>{if(n===d.parent)return u.push(e),!1});let p=[];if(!t&&u[0].isTextblock&&u[0].textContent.length<100){let e=(0,a4.NA)(u[0]);a=c.nodes.toggleSummary.create({fontSize:e},u[0].content),p=u.slice(1)}else{let e=t?c.text(t):null;a=c.nodes.toggleSummary.create(null,e),p=u}let h=(0,mh.n)();n&&(0,ms.bG)(h,!0);let g=e.editor.schema.nodes.toggle.createAndFill({id:h},lU.FK.fromArray([a,...p]));if(!g)return!1;let{start:m,end:x}=d;s.replaceRangeWith(m,x,g).setMeta("annotationEvent",{type:"wrap-nodes",start:m,end:x,level:1});let f=(0,s2.t)(s);if(!f)return!1;let b=(0,s2.s)(f,-1);return b&&s.setSelection(b),!0}},enterInToggle:()=>e=>{let{editor:t,state:n,chain:i}=e;if(!t.isActive("toggle"))return!1;let a=(0,l.KP)(ms.p8)(n.selection);if(!a||(0,ms.vb)(a.node.attrs.id))return!1;let{selection:r}=t.state,{$from:s}=r;if(s.parentOffset===s.parent.nodeSize-2){let e=a.pos+a.node.nodeSize;return i().insertContentAt(e,{type:"paragraph"}).selectInsertedNode().run(),!0}return(0,ms.bG)(a.node.attrs.id,!0),!0}}},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;return t.commands.enterInToggle()},Backspace:e=>{let{editor:t}=e;return t.commands.first(e=>{let{commands:t}=e;return[()=>t.unwrapToggle(),()=>t.joinBackwardInToggle()]})}}),addExtensions:()=>[mh.D,mu],renderHTML(e){let{HTMLAttributes:t}=e;return["details",t,0]},parseHTML:()=>[{tag:"details"}]}),mx=n(99696).A.extend({parseHTML:()=>[{tag:"u"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}]});var mf=n(95017);let mb=function(){let{isInnerEditor:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[uW,uU,aN.T,sB,ll.QJ.configure({enabled:!r.$.GAMMA_PUPPETEER_SERVICE}),en.iM,lr,oP,ov,lA,sq,o9,mf.n,a.E,pQ.B,hD.N.configure({openOnClick:!1}),dO,uL.z,v,pX,mx,gY.n,hT.B8,hN,hV,hU,mr,pq.DZ,gz.f,f,O,dV.N,m.wq,g6.f,w.$,L,g6.r,pc.Z4,gN,gP,gX.X.extend({resizable:!0,allowTableNodeSelection:!0}),g4,g2,g1,dP,g_.$,gR,gI._V,gk,gd,ps,un,gM,gT.M9,gT.BF,gT.lw,oF.Hf,uc,hI,pZ,pK,hu,p6.o,hi,g$,pM,pj,dq,cu,mm,pl,lS.h,s.a,po,l4,u5,i.v,gF.a,p5.configure({addSelectionKeyMaps:!e}),p4]}},58568:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>d,Lh:()=>c});var i=n(55765),a=n.n(i),r=n(55729);class s{observe(e,t){this.observer?(this.observer.observe(e),this.observedElements.set(e,t)):t(o)}unobserve(e){this.observer&&(this.observer.unobserve(e),this.observedElements.delete(e),this.nextTickCallbacks.delete(e))}handleResize(e){let t=!1;for(let n of e){let e=this.observedElements.get(n.target);e&&(t=!0,this.nextTickCallbacks.set(n.target,()=>{e(n.contentRect)}))}t&&this.queueProcess()}queueProcess(){this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.frameId=requestAnimationFrame(()=>{for(let e of this.nextTickCallbacks.values())e();this.frameId=null})}constructor(){this.observedElements=new Map,this.nextTickCallbacks=new Map,this.frameId=null,this.observer=null,"undefined"!=typeof ResizeObserver&&(this.observer=new ResizeObserver(e=>this.handleResize(e)))}}let l=a()(()=>new s),o={width:1,height:1,top:0,left:0,fontSize:0};function c(e){let t=(0,r.useRef)(null),[{height:n,width:i},a]=(0,r.useState)(o);return(0,r.useEffect)(()=>{let e=t.current;return e&&l().observe(e,a),()=>{e&&l().unobserve(e)}},[e]),{ref:t,width:i,height:n}}function d(e){let t=(0,r.useRef)(null),[{height:n,width:i,top:a,left:s,fontSize:c},d]=(0,r.useState)(o);return(0,r.useEffect)(()=>{let e=t.current;return e&&l().observe(e,t=>{var n;d({width:t.width,height:t.height,top:e.offsetTop,left:e.offsetLeft,fontSize:null!=(n=parseFloat(window.getComputedStyle(e).fontSize))?n:16})}),()=>{e&&l().unobserve(e)}},[e]),{ref:t,width:i,height:n,top:a,left:s,fontSize:c}}},58617:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var i=n(37243),a=n(59275),r=n(73326),s=n(38934),l=n(46957),o=n(58638);let c=a.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:s.y.Image,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,r.gu)(o.v,{update:l.z0}),parseHTML:()=>[{tag:"img[src], img[tempUrl]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,i.KV)(t,{class:"gamma-simple-image"})]},addAttributes:()=>({src:{},tempUrl:{},uploadStatus:{},source:{},showPlaceholder:{}})})},58638:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var i=n(6029),a=n(26420),r=n(80314),s=n(33787),l=n(59230),o=n(73326),c=n(22216),d=n(95168);let u=e=>{let{node:t}=e,{src:n,tempUrl:u,uploadStatus:p,showPlaceholder:h,id:g}=t.attrs;return(0,i.jsxs)(o.VR,{as:"div",children:[h&&(0,i.jsx)(d.V,{...e}),!h&&(n||u)&&(0,i.jsxs)(a.a,{position:"relative",w:"100%",children:[(0,i.jsx)(r.N,{className:"image-link",href:n||u||"",target:"_blank",children:(0,i.jsx)(s._,{src:n||u||""})}),p==l.A.Uploading&&(0,i.jsx)(c.Td,{}),p==l.A.Error&&(0,i.jsx)(c.Hy,{})]})]})};u.displayName="simple-image-view"},58929:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,f:()=>s});var i=n(77650),a=n(63913),r=n(27002);class s extends Error{static errorLogLevel(e){return"rate_limited"===e.type||"aborted"===e.type?"info":"network"===e.type||"timeout"===e.type?"warning":"error"}static async fromResponse(e){let t,n=e.clone();try{t=await e.json()}catch(e){t=await n.text()}let i=s.getTypeFromStatus(e.status);return new s({name:"fetch returned ".concat(e.status),type:i,body:t,message:(null==t?void 0:t.message)||e.statusText})}static getTypeFromStatus(e){switch(e){case 400:return"bad_request";case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not_found";case 409:return"conflict";case 429:return"rate_limited";default:return e>=500?"server":"network"}}static fromError(e,t){let n=new s({type:e,name:t.name,message:t.message});return n.stack=t.stack,n}static fromUserAbort(e){return new s({name:"User aborted fetch request",type:"aborted",message:e,body:{reason:e}})}static userFacingErrorDescription(e){if(e instanceof s)return e.userFacingErrorDescription()}logLevel(){return s.errorLogLevel(this)}logToErrorTracker(){if(r.of.get("disableAiErrorLogging"))return;let e=this.logLevel();("error"===e||"warning"===e)&&(0,a.EJ)(this,{customErrorType:"fetch"})}userFacingErrorDescription(){switch(this.type){case"rate_limited":return i.Ru._({id:"M68C8m"});case"network":return i.Ru._({id:"ZLU2WX"});default:return}}constructor(e){super(e.message),this.name=e.name,this.body=e.body,this.type=e.type}}async function l(e){var t,n;let i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=null!=(t=r.parseResponse)?t:e=>e;i=!1===r.captureException?()=>{}:"function"==typeof r.captureException?r.captureException:e=>e.logToErrorTracker();let o=void 0!==r.maxDuration?AbortSignal.timeout(r.maxDuration):void 0,c=a.signal?AbortSignal.any([a.signal,o].filter(e=>!!e)):o;try{let t=await fetch(e,{...a,signal:c});if(!t.ok)throw await s.fromResponse(t);try{return await l(t)}catch(e){throw s.fromError("parse",e)}}catch(t){let e;throw i(e=(null==(n=a.signal)?void 0:n.aborted)?s.fromUserAbort(a.signal.reason):(null==o?void 0:o.aborted)?s.fromError("timeout",t):t instanceof s?t:s.fromError("network",t)),e}}},59080:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});let i={cardLayoutsEnabled:!1},a=e=>{if(!e)return{...i};let t=null;return("doc"===e.type.name?t=e.nodeAt(0):"document"===e.type.name&&(t=e),t)?{...i,...t.attrs.docFlags}:(console.debug("[getDocFlags] could not find document node, returning defaults"),{...i})}},59230:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var i=function(e){return e[e.Done=0]="Done",e[e.Uploading=1]="Uploading",e[e.Error=2]="Error",e[e.Queued=3]="Queued",e}({})},59712:(e,t,n)=>{"use strict";n.d(t,{e$:()=>m,Rj:()=>g});var i=n(63867),a=n(97255),r=n(37243);let s=new i.hs("suggestion"),l={from:0,to:0};var o=n(33170),c=n(33750),d=n.n(c),u=n(55729),p=n(37393),h=n(23624);let g=e=>{let{ref:t,selectItem:n,options:i}=e,[a,r]=(0,u.useState)(0),s=(0,u.useRef)(null),l=(0,u.useRef)({selectedIndex:a,options:i,selectItem:n});return l.current={selectedIndex:a,options:i,selectItem:n},(0,u.useImperativeHandle)(t,()=>{let e=e=>{let{key:t}=e,n=l.current;return"ArrowUp"===t?(e.preventDefault(),n.selectedIndex<=0?r(i.length-1):r(d()(n.selectedIndex-1,0,n.options.length-1))):"ArrowDown"===t?(e.preventDefault(),n.selectedIndex>=n.options.length-1?r(0):r(d()(n.selectedIndex+1,0,n.options.length-1))):("Enter"===t||"Tab"===t)&&(e.preventDefault(),n.options.length>0&&n.selectItem(a)),e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","Enter","Tab"].includes(n.key)&&e(n)}}}),(0,u.useEffect)(()=>{if(s.current){var e;null==s||null==(e=s.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},[a]),{selectedIndex:a,selectedItemEl:s}},m=e=>{let{char:t,MenuComponent:n,pluginKey:c,command:d,allowSpaces:u=!1,...g}=e;return r.YY.create({...g,addOptions:()=>({HTMLAttributes:{},suggestion:{char:t,pluginKey:c,allowSpaces:u,startOfLine:!1,command:d,render:()=>{let e=null,t=null;return{onStart:i=>{if(t&&e){e.updateProps(i),t.setProps({getReferenceClientRect:i.clientRect}),t.show();return}e=new h.N(n,{props:i,editor:i.editor});let a=i.editor.view.dom.parentElement;t=(0,p.Ay)(a,{getReferenceClientRect:i.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:o.t1.zIndices.dropdown,popperOptions:{modifiers:[{name:"preventOverflow",options:{padding:{bottom:8}}},{name:"flip",options:{fallbackPlacements:["auto-start"]}}]}})},onUpdate(n){null==e||e.updateProps(n),null==t||t.setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var i;return"Escape"===n.event.key?(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null,!0):null==e||null==(i=e.ref)?void 0:i.onKeyDown(n)},onExit(n){!0!==c.getState(n.editor.view.state).active&&(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null)}}}}}),addProseMirrorPlugins(){return[function(e){let t,{pluginKey:n=s,editor:o,char:c="@",allowSpaces:d=!1,prefixSpace:u=!0,startOfLine:p=!1,decorationTag:h="span",decorationClass:g="suggestion",command:m=()=>null,items:x=()=>[],render:f=()=>({}),allow:b=()=>!0}=e,C=null==f?void 0:f(),y=e=>{e.dispatch(e.state.tr.setMeta(n,{active:!1,decorationId:"",key:null,range:l,query:null,text:null,composing:!1}))};return new i.k_({key:n,view(){return{update:async(e,n)=>{var i,a,r,s,l;let c=null==(i=this.key)?void 0:i.getState(n),d=null==(a=this.key)?void 0:a.getState(e.state),u=c.active&&d.active&&c.range.from!==d.range.from,p=!c.active&&d.active,h=c.active&&!d.active,g=!p&&!h&&c.query!==d.query,f=p||u,b=g&&!u,y=h||u;if(!f&&!b&&!y)return;let v=y&&!f?c:d,w=document.querySelector('[data-decoration-id="'.concat(v.decorationId,'"]'));t={editor:o,range:v.range,query:v.query,text:v.text,items:b||f?await x({editor:o,query:v.query}):[],command:e=>{m({editor:o,range:v.range,props:e})},decorationNode:w,clientRect:w?()=>{var e;let{decorationId:t}=null==(e=this.key)?void 0:e.getState(o.state);return document.querySelector('[data-decoration-id="'.concat(t,'"]')).getBoundingClientRect()}:null},y&&(null==C||null==(r=C.onExit)||r.call(C,t)),b&&(null==C||null==(s=C.onUpdate)||s.call(C,t)),f&&(null==C||null==(l=C.onStart)||l.call(C,t))},destroy:()=>{var e;t&&(null==C||null==(e=C.onExit)||e.call(C,t))}}},state:{init:()=>({active:!1,decorationId:"",range:l,key:null,query:null,text:null,composing:!1}),apply(e,t,i,a){let s;s=e.getMeta(n)?{...e.getMeta(n)}:{...t};let{isEditable:h}=o,{composing:g}=o.view,{selection:m}=e,{empty:x,from:f}=m;if(s.composing=g,!s.active&&s.key!==c)return s;if(s.active&&s.key===c)return s.key=null,s;if(h&&(x||o.view.composing)){t.range&&(f<t.range.from||f>t.range.to)&&!g&&!t.composing&&(s.active=!1);let e=function(e){var t;let{char:n,allowSpaces:i,prefixSpace:a,startOfLine:s,$position:l}=e,o=(0,r.GG)(n),c=new RegExp("\\s".concat(o,"$")),d=s?"^":"",u=i?RegExp("".concat(d).concat(o,".*?(?=\\s").concat(o,"|$)"),"gm"):RegExp("".concat(d,"(?:^)?").concat(o,"[^\\s").concat(o,"]*"),"gm"),p=null==(t=l.nodeBefore)?void 0:t.text;if(!p)return null;let h=l.pos-p.length,g=Array.from(p.matchAll(u)).pop();if(!g||void 0===g.input||void 0===g.index)return null;let m=g.input.slice(Math.max(0,g.index-1),g.index),x=/^[\s\0]?$/.test(m);if(a&&!x)return null;let f=h+g.index,b=f+g[0].length;return(i&&c.test(p.slice(b-1,b+1))&&(g[0]+=" ",b+=1),f<l.pos&&b>=l.pos)?{range:{from:f,to:b},query:g[0].slice(n.length),text:g[0]}:null}({char:c,allowSpaces:d,prefixSpace:u,startOfLine:p,$position:m.$from}),n="id_".concat(Math.floor(0xffffffff*Math.random()));e&&b({editor:o,state:a,range:e.range})?(s.active=!0,s.decorationId=t.decorationId?t.decorationId:n,s.range=e.range,s.query=e.query,s.text=e.text):s.active=!1}else s.active=!1;return s.active||(s.decorationId=null,s.range=l,s.query=null,s.text=null),s}},props:{handleKeyDown(e,t){var i;let a=e.state.tr,r=this.getState(e.state);if(!r)return!1;let{active:s,range:l}=r;if(!l)return!1;if(s||t.key!==c||t.metaKey){if(!s)return!1;"Escape"===t.key&&y(e)}else{let i={...r};i.active=!0,i.key=t.key,i.query="",e.dispatch(a.setMeta(n,i))}return(null==C||null==(i=C.onKeyDown)?void 0:i.call(C,{view:e,event:t,range:l}))||!1},decorations(e){let t=this.getState(e);if(!t)return null;let{active:n,range:i,decorationId:r}=t;return n&&i?a.zF.create(e.doc,[a.NZ.inline(i.from,i.to,{nodeName:h,class:g,"data-decoration-id":r||""})]):null}}})}({editor:this.editor,...this.options.suggestion})]}})}},60300:(e,t,n)=>{"use strict";n.d(t,{I2:()=>S,Rj:()=>E,UE:()=>v,vi:()=>_});var i=n(37243),a=n(27002),r=n(32395),s=n(25778),l=n(85011),o=n(43634),c=n(33201),d=n(80911),u=n(53957),p=n(23460),h=n(15607),g=n(6845),m=n(92397),x=n(61385),f=n(47665),b=n(53891),C=n(4967);let y=()=>a.of.get("presentModeFlat"),v=(e,t)=>{let n=t.pos?e.state.doc.nodeAt(t.pos):null;return n&&E(n,t.cardId)},w=e=>{let{tr:t,editor:n,spotlight:i,bias:a=0,method:r="replace"}=e;t.setMeta(C.n,i);let s=C.n.getState(n.state);if(i.cardId||(0,u.o)({cardId:null,method:r,emitChange:!1}),s.cardId!==i.cardId&&i.cardId){(0,u.o)({cardId:i.cardId,method:r,emitChange:!1});let e=(0,f.W0)(n,i.cardId);e&&t.setSelection(d.J.create(t.doc,e.pos,a))}n.commands.user({spotlight:i})},A=(e,t)=>{if(!t)return;let n=document.querySelector("".concat(e," ").concat((0,x.OB)(t)));n&&(null==n||n.classList.add("cardWiggle"),setTimeout(()=>{null==n||n.classList.remove("cardWiggle")},750))},k=(e,t)=>{let n=v(e,t),i=n&&t.cardId&&t.pos&&_(e,t.cardId,t.pos,e=>E(e,t.cardId),!0).cardId!==t.cardId;return{isSpotlightingBlock:n,isSpotlightingFirstBlock:i}},L=e=>{switch(e.type.name){case"card":return!(0,g.Wq)(e);case"toggle":return(0,b.vb)(e.attrs.id);default:return!1}},j=e=>{switch(e.type.name){case"card":return(0,g.wE)(e.attrs.id,!0),!0;case"toggle":return(0,b.bG)(e.attrs.id,!1),!0;default:return!1}},E=(e,t)=>{switch(e.type.name){case"paragraph":case"heading":case"title":case"math_display":case"codeBlock":return e.textContent.trim().length>0||e.content.content.some(e=>"text"!==e.type.name);case"calloutBox":case"blockquote":case"bullet":case"numbered":case"todo":case"embed":case"video":case"image":case"mediaPlaceholder":case"gallery":case"drawing":case"diagram":case"smartDiagram":case"chart":case"contributors":case"tableOfContents":case"toggleSummary":case"table":case"buttonGroup":case"gridCell":case"smartLayoutCell":case"gridItem":return!0;case"toggle":return!(0,b.vb)(e.attrs.id);case"card":{let n=(0,o.Ev)((0,s.KA)().getState()).parents[e.attrs.id].slice(-1)[0];if(y())return!0===(0,g.Wq)(e)&&!1===(0,g.Wq)(n);return n===t}default:return!1}},S=e=>{switch(e.type.name){case"toggle":return(0,b.vb)(e.attrs.id);case"card":return!(0,g.Wq)(e);case"footnote":case"gallery":case"gridCell":case"smartLayoutCell":case"table":case"cardNotes":case"blockquote":case"calloutBox":case"gridItem":return!1;default:return!0}};i.YY.create({name:"spotlight",addOptions:()=>({scrollerSelector:"body"}),addCommands(){var e=this;return{syncSpotlightAndScroll:e=>{let{spotlight:t,scroll:n,scrollOffset:i,isFollowing:a=!1}=e;return e=>{let{editor:s,view:l,tr:o}=e,{pos:d,cardId:u}=t,p=C.n.getState(s.state).cardId!==u;if(d){let e=l.state.doc.nodeAt(d),t=l.nodeDOM(d);if(e&&t instanceof HTMLElement){console.debug("[Spotlight.syncSpotlight] Scrolling to specific card at pos: ".concat(d),t);let n=(0,c.jg)(e)&&e.attrs.id===u;setTimeout(()=>requestAnimationFrame(()=>{n?T({}):R({element:t})}),p?x.y0:0)}}else if(null==n?void 0:n.pos){let{pos:e,pct:t}=n;setTimeout(()=>requestAnimationFrame(()=>{s.commands.scrollToPositionInCard(e,t||void 0,i)}),p?x.y0:0)}return(0,r.up)({following:a}),(0,r.ki)({cardId:u}),w({editor:s,tr:o,spotlight:{pos:d,cardId:u}}),!0}},spotlightCardById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:i,view:a}=n,r=C.n.getState(i.state),s=(0,f.W0)(i,e);if(!s)return!0;let l=i.state.doc.resolve(s.pos),o=l.depth>1&&y(),c=o?(0,m.hT)(i.state.doc,s.pos):s;if(c){let n=r.cardId!==e;if(o){(0,g.wE)(e,!1),(0,m.Ib)({pos:l.pos,editor:i});let t=a.nodeDOM(s.pos);t instanceof HTMLElement&&setTimeout(()=>requestAnimationFrame(()=>{R({element:t,behavior:"smooth"})}),n?x.y0:0)}return t&&y()?i.commands.spotlightNextBlock(!1,{pos:s.pos,cardId:e}):i.commands.syncSpotlightAndScroll({spotlight:{pos:null,cardId:c.node.attrs.id}})}return!0}},spotlightCurrentCard:()=>e=>{var t,n,i,a,r,s;let l,{editor:o,tr:d}=e,u=()=>{console.warn("[Spotlight.spotlightCurrentCard] Couldnt find a card to spotlight, so using first card.");let e=o.view.state.doc.nodeAt(1);return e&&(0,c.jg)(e)?w({editor:o,tr:d,spotlight:{pos:null,cardId:e.attrs.id}}):console.error("[Spotlight.spotlightCurrentCard] nodeAt(1) is unexpectedly not a card. Cannot spotlight"),!0};if(!document.querySelector(this.options.scrollerSelector))return u();let p=o.state.selection.from,g=p&&o.view.coordsAtPos(p);if(g&&g.top<window.innerHeight&&g.bottom>0)console.debug("%c [Spotlight.spotlightCurrentCard] Using cursor pos","background-color: deeppink",{posToUse:l=p});else{let e=(0,h.ls)(o,this.options.scrollerSelector,135).pos;console.debug("%c [Spotlight.spotlightCurrentCard] Using top center pos","background-color: deeppink",{posToUse:l=null==e?void 0:e.pos})}(!l||l<2)&&console.warn("%c [Spotlight.spotlightCurrentCard] Using fallback pos","background-color: deeppink",{posToUse:l=2});let x=y()?(0,m.hT)(o.state.doc,l):(0,m.Tv)(o,l,!1);if(null==x||null==(n=x.node)||null==(t=n.attrs)?void 0:t.hidden){let e=x;for(;x&&(null==x||null==(a=x.node)||null==(i=a.attrs)?void 0:i.hidden);)x=M(o,x.pos);if(!x)for(x=e;x&&(null==x||null==(s=x.node)||null==(r=s.attrs)?void 0:r.hidden);)x=M(o,x.pos,!0)}return x&&x.pos?(y()&&(0,m.Ib)({editor:o,pos:l}),w({editor:o,tr:d,spotlight:{pos:null,cardId:x.node.attrs.id}}),!0):u()},ascendUpToParentCard:function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return n=>{let{editor:a,view:s,tr:l}=n,o=C.n.getState(a.state),d=o.pos;if(!d){let t=(0,h.ls)(a,e.options.scrollerSelector,window.innerHeight/2).pos;d=null==t?void 0:t.pos}if(!d)return!1;let u=a.view.state.doc.nodeAt(d),p=(0,m.Tv)(a,d,!1);if(y())return!!p&&!!t&&(A(e.options.scrollerSelector,o.cardId),!0);if(!p)return!1;let g=(0,i.eL)(a.state.doc.resolve(p.pos),c.jg);if(!g)return p&&t&&A(e.options.scrollerSelector,p.node.attrs.id),!1;{let e=s.nodeDOM(p.pos);if(!e)return console.warn("[Spotlight.ascendUpToParentCard] Cant find dom node",{domNode:e,presentingCard:p,parentOfPresentingCard:g,node:u,lastSpotlight:o}),!1;let t=g.node.attrs.id,{isSpotlightingBlock:n}=k(a,o);if(n)return a.commands.spotlightNextBlock(!1,{pos:g.pos,cardId:t});(0,r.ki)({cardId:t}),w({editor:a,tr:l,spotlight:{pos:null,cardId:t}}),D(R,x.M2)({element:e})}return!0}},descendIntoCurrentCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";return n=>{let{editor:i,tr:a}=n,r=C.n.getState(i.state),s=e||r.pos;if(y())return i.commands.spotlightExpandCard(s);if(!s)return!0;let l=i.view.state.doc.nodeAt(s);if(!(l&&(0,c.jg)(l)&&l.attrs.id!==r.cardId))return!0;let o=l.attrs.id,{isSpotlightingBlock:d}=k(i,r);return(console.debug("[Spotlight.descendIntoCurrentCard]",{node:l,isSpotlightingBlock:d}),d)?i.commands.spotlightNextBlock(!1,{pos:s,cardId:o}):(w({editor:i,tr:a,spotlight:{pos:null,cardId:o},method:t}),setTimeout(()=>{requestAnimationFrame(()=>{T({})})},x.y0),!0)}},spotlightCollapseCard:e=>t=>{let{editor:n,tr:i}=t;if(!y())return n.commands.ascendUpToParentCard();let a=n.view.state.doc.nodeAt(e);if(!a||!(0,c.jg)(a))return console.warn("[Spotlight.spotlightCollapseCard] pos does not resolve to a card node. This is a noop",e),!0;let r=C.n.getState(n.state),s=a.attrs.id;return(0,g.wE)(s,!0),w({editor:n,tr:i,spotlight:r}),(0,l.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(e),attempts:0,offsetFromTop:null}),!0},spotlightCollapseNearestExpandableNode:e=>t=>{let{editor:n,tr:a}=t,r=C.n.getState(n.state),s=e||n.state.selection.from,o={pos:s,node:n.view.state.doc.nodeAt(s)};if(!o.node||!L(o.node)){let e=(0,i.eL)(n.state.doc.resolve(s),L);o.node=(null==e?void 0:e.node)||null,o.pos=(null==e?void 0:e.pos)||0}let c=o.pos&&(0,m.hT)(n.state.doc,o.pos);if(!o.node||!o.pos||!c||c.node.attrs.id===o.node.attrs.id)return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] pos does not resolve to a valid collapsible node. This is a noop",o.pos),!1;if(!(c.pos<=o.pos&&c.pos+c.node.nodeSize>=o.pos))return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] posToUse is outside of the presenting card. This is a noop",o.pos),!1;console.debug("[Spotlight.spotlightCollapseNearestExpandableNode]",{result:o});let u=j(o.node);return u&&((0,l.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(o.pos),attempts:0,offsetFromTop:null}),o.pos===n.state.selection.from?n.commands.reHighlightExpandableNode():a.setSelection(d.J.create(n.state.doc,o.pos)),v(n,r)&&w({editor:n,tr:a,spotlight:{pos:o.pos,cardId:c.node.attrs.id}})),u},spotlightExpandCard:e=>t=>{let{editor:n}=t,i=C.n.getState(n.state),a=e&&n.view.state.doc.nodeAt(e);if(!a||!(0,c.jg)(a))return console.warn("[Spotlight.spotlightExpandCard] pos does not resolve to a card node. This is a noop",e),!0;let r=a.attrs.id,{isSpotlightingBlock:s}=k(n,i);return(0,g.wE)(r,!1),console.debug("[Spotlight.spotlightExpandCard]",{node:a,isSpotlightingBlock:s}),setTimeout(()=>{s?n.commands.spotlightNextBlock(!1,{pos:e,cardId:r},"smooth"):n.commands.scrollToPositionInCard(e,0,50)},x.M2),!0},spotlightNextExpandedCard:e=>t=>{let{editor:n,commands:i}=t,a=C.n.getState(n.state);if(!a.pos||!a.cardId)return!0;let r=(0,m.hT)(n.state.doc,a.pos),s=(0,f.Oq)(n,a.pos);if(!r||!s)return!0;let l={node:null,pos:null,cardId:null},o=a.pos;return(n.state.doc.descendants((t,i,a)=>{if(!e&&l.pos)return!1;let r=!(0,g.Wq)(t);if(!((0,c.jg)(t)&&r&&(e?i<o:i>o)))return r;let d=t!==s.node||!e;if(!d){let{isSpotlightingFirstBlock:e}=k(n,{pos:o,cardId:t.attrs.id});d=!e}return d&&(l.node=t,l.pos=i,l.cardId=t.attrs.id),r}),l.pos&&l.cardId)?i.spotlightNextBlock(!1,{pos:l.pos,cardId:l.cardId}):(A(this.options.scrollerSelector,r.node.attrs.id),!0)},spotlightNextCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return n=>{let{editor:a,commands:s,tr:l}=n,o=C.n.getState(a.state),d=o.pos,{isSpotlightingBlock:u,isSpotlightingFirstBlock:p}=k(a,o);if(u&&y())return s.spotlightNextExpandedCard(e);if(!d){let e=(0,f.W0)(a,o.cardId);d=null==e?void 0:e.pos}if(!d)return console.warn("[Spotlight.spotlightNextCard] Could not find posToUse",{lastSpotlight:o}),!1;let h=a.view.state.doc.nodeAt(d),g=!!(h&&e&&u&&!p&&h.attrs.id!==o.cardId),m=h&&o.cardId&&h.attrs.id===o.cardId?{node:h,pos:d}:(0,i.eL)(a.state.doc.resolve(d),c.jg),b=g?m:(null==m?void 0:m.pos)?M(a,m.pos,e):null;if(b&&null!==b.pos){console.debug("[Spotlight.spotlightNextCard] Found next card:",{next:b,posToUse:d,isSpotlightingBlock:u});let n=b.node.attrs.id,i=b.pos;if(u)return a.commands.spotlightNextBlock(!1,{pos:i,cardId:n});(0,r.ki)({cardId:n}),w({editor:a,tr:l,bias:e?1:-1,spotlight:{pos:null,cardId:n}});let s=o.cardId!==n,c="top"==t?T:z;null!==t&&setTimeout(()=>{c({sync:!0,behavior:"auto"})},s?x.y0:0)}else console.debug("[Spotlight.spotlightNextCard] No next node. Will attempt to ascendUp",{lastSpotlight:o,posToUse:d,node:h}),a.commands.ascendUpToParentCard();return!0}},spotlightNextBlock:(e,t,n)=>i=>{let{editor:a,tr:s}=i,l=C.n.getState(a.state);if(!l.cardId)return!0;let o=a.state.selection,u=o instanceof d.J,p=u&&(-1===o.side&&e||1===o.side&&!e)?-1:0,h=u?e?o.to+p:o.from+p:void 0,g=(null==t?void 0:t.cardId)||l.cardId,f=(null==t?void 0:t.pos)||l.pos||h,b=u&&null===l.pos&&(0,c.jg)(o.node)&&1===o.$from.depth,{pos:v,cardId:A,domNode:k}=f&&!b?_(a,g,f,E,e):I(a,l.cardId,this.options.scrollerSelector,e);if(null!==v&&k instanceof HTMLElement){var L;let t=y()?null==(L=(0,m.hT)(a.state.doc,v))?void 0:L.node.attrs.id:A;if(!t)return!0;(0,r.ki)({cardId:t}),console.debug("%c [Spotlight.spotlightNextBlock]","background-color: deeppink",{prevCardId:l.cardId,cardId:t,pos:v}),setTimeout(()=>{R({element:k,behavior:n})},l.cardId===t?0:x.y0),w({editor:a,tr:s,bias:e?1:-1,spotlight:{pos:v,cardId:t}})}else a.commands.ascendUpToParentCard();return!0},spotlightNodeAtPos:e=>t=>{let{editor:n,tr:i}=t,a=C.n.getState(n.state);if(!a.cardId)return!1;let r=a.cardId,s=(0,h.TK)(n.state.doc.resolve(e),e=>E(e)),l=s.reverse().find((e,t)=>!(t!==s.length-1&&S(e.node)));return!!l&&(l.pos!==a.pos?(w({editor:n,tr:i,spotlight:{pos:l.pos,cardId:r}}),!0):n.commands.turnOffSpotlight())},turnOffSpotlight:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{editor:n,tr:i}=t,a=C.n.getState(n.state);return w({editor:n,tr:i,spotlight:{pos:null,cardId:e?null:a.cardId}}),!0}},scrollToPositionInCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i=>{let{editor:a}=i,r=(0,p.Oc)((0,h.NR)(a,e)),s=null==r?void 0:r.getBoundingClientRect();if(!r||!s)return!0;let l=(t||0)*s.height;return console.debug("%c [Spotlight.scrollToPositionInCard]","background-color: deeppink",JSON.stringify({pos:e,offset:n-l}),r),(0,p.BX)({element:r,color:"deeppink",requiredCookie:"spotlightScrollDebug=true"}),R({element:r,offset:n-l}),!0}},scrollToNodeWithPin:(e,t)=>()=>(console.debug("%c [Spotlight.scrollToNodeWithPin] WITH NODE","background-color: deeppink",{scrollToNode:e}),D(R,x.M2,0)({element:e,offset:t}),!0)}},addProseMirrorPlugins(){return[(0,C._)((e,t)=>E(e,t),this.editor)]}});let M=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.view.state.doc.nodeAt(t),s=r&&(0,c.jg)(r)?{node:r,pos:t}:(0,i.eL)(e.state.doc.resolve(t),c.jg);if(!s)return;let l=e.state.doc.resolve(a?s.pos:s.pos+(null==(n=s.node)?void 0:n.nodeSize)),o=a?l.nodeBefore:l.nodeAfter;if(!o)return;let d=a?l.pos-o.nodeSize:l.pos;if((0,c.jg)(o))return(console.debug("[Spotlight.findNextDirectSiblingCard]",{nextNode:o,nextPos:d}),o.attrs.hidden)?M(e,d,a):{node:o,pos:d}},I=function(e,t,n){var i;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={node:null,pos:null,cardId:null,domNode:null},s=(null==(i=(0,h.ls)(e,n,135).pos)?void 0:i.inside)||null,l=s?e.state.doc.nodeAt(s):null;if(!s||!l)return r;if(l.attrs.id===t)return _(e,t,s,e=>E(e,t),a);let o=e.state.doc.resolve(s),c=(0,f.Oq)(e,o.before());if(!c)return r;let d=o.before(c.depth+2),u=e.state.doc.nodeAt(d);return u&&E(u,t)?(r.pos=e.state.doc.resolve(d).pos,r.node=u,r.cardId=null==c?void 0:c.node.attrs.id,r.domNode=e.view.nodeDOM(r.pos),r):_(e,t,d,e=>E(e,t),a)},_=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={node:null,pos:null,cardId:null,domNode:null},l=e.state.doc.resolve(n),o=e.view.state.doc.nodeAt(n),d=(0,i.eL)(l,e=>(0,c.jg)(e)&&e.attrs.id===t),u=o&&(0,c.jg)(o)&&(null==o?void 0:o.attrs.id)===t?{node:o,pos:n}:d;if(!u)return console.debug("[Spotlight.findNextNode] - No card found:",{cardId:t,from:n,node:o}),s;let p=(e,t)=>{let i=e.attrs.id;e.descendants((l,o)=>{let c=t+o+1,d=a(l,i)&&(r?c<n:c>n);return(!!r||!s.node)&&(d&&(s.node=l,s.pos=c,s.cardId=e.attrs.id),S(l))})};p(u.node,u.pos);let h=u.pos;for(;null===s.pos;){let t=M(e,h,r);if(t)p(t.node,t.pos),h=t.pos;else break}return null!==s.pos&&(s.domNode=e.view.nodeDOM(s.pos)),console.debug("[Spotlight.findNextNode]",{result:s}),s},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i=>{let a,r={...i,sync:!0,behavior:"auto"};e(r);let s=!1;Promise.race([new Promise(e=>setTimeout(()=>e(!1),n+t+300)),new Promise(e=>{a=()=>e(!0),i.element.addEventListener("transitionend",a)})]).then(e=>{console.debug("[scrollTo withDurationPin] transitionend race result",e),s=!0}).finally(()=>{i.element.removeEventListener("transitionend",a)});let l=+new Date,o=()=>requestAnimationFrame(()=>{e(r),(new Date-l<t+n||!s)&&o()});setTimeout(o,n)}},R=e=>{var t;let{element:n,sync:i=!1,behavior:a="smooth",offset:r}=e;if(!(0,p.IK)(n)){let e=n.querySelector("[data-content-reference]");if(!e||!(0,p.IK)(e))return;n=e}let s=(0,l.H1)("editor");if(!(null==(t=s.scroller)?void 0:t.clientHeight))return;let o=(0,p.sR)(n,s.scrollSelector),c=n.clientHeight/2,d=.45*s.scroller.clientHeight-c,u=o-Math.max(void 0!==r?r:d,125);s.scrollTo({top:u,sync:i,behavior:a})},T=e=>{let{sync:t=!1,behavior:n="smooth"}=e;(0,l.H1)("editor").scrollTo({top:0,behavior:n,sync:t})},z=e=>{let{sync:t=!1,behavior:n="smooth"}=e,i=(0,l.H1)("editor"),a=i.scroller;a&&i.scrollTo({top:a.scrollHeight,behavior:n,sync:t})}},61292:(e,t,n)=>{"use strict";function i(e){let t=e.cached.tableNodeTypes;if(!t)for(let n in t=e.cached.tableNodeTypes={},e.nodes){let i=e.nodes[n],a=i.spec.tableRole;a&&(t[a]=i)}return t}n.d(t,{e:()=>i})},61357:(e,t,n)=>{"use strict";function i(e,t){if(null!=e)return e;let n=Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}n.d(t,{Z:()=>i})},61651:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});let i={LIGHT_BG:"gray.200",LIGHT_COLOR:"gray.300",LIGHT_ICON_COLOR:"gray.400",LIGHT_BTN_HOVER_BG:"gray.50",LIGHT_BTN_HOVER_COLOR:"gray.500",LIGHT_AI_BTN_HOVER_BG:"trueblue.100",LIGHT_AI_BTN_HOVER_COLOR:"trueblue.300",DARK_BG:"gray.700",DARK_COLOR:"gray.600",DARK_ICON_COLOR:"gray.600",DARK_BTN_HOVER_BG:"gray.600",DARK_BTN_HOVER_COLOR:"gray.400",DARK_AI_BTN_HOVER_BG:"trueblue.800",DARK_AI_BTN_HOVER_COLOR:"trueblue.300",LIGHT_GALLERY_BG:"gray.50",DARK_GALLERY_BG:"gray.800"}},61679:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let i={IMAGE_ICON:"image.icon",IMAGE_PICTOGRAPHIC_ICON:"image.pictographic.icon"},a=e=>!!e&&(e===i.IMAGE_ICON||e===i.IMAGE_PICTOGRAPHIC_ICON)},61964:(e,t,n)=>{"use strict";n.d(t,{rn:()=>a.HT,J3:()=>l.J,cq:()=>G.cq,gC:()=>G.gC,JD:()=>G.JD,AL:()=>P,Tn:()=>G.Tn,Kl:()=>G.Kl,QN:()=>G.QN,rO:()=>G.rO,CG:()=>G.CG,lD:()=>G.lD,rP:()=>d,D8:()=>G.D8,aH:()=>o.aH,w7:()=>G.w7,aO:()=>G.aO,_t:()=>G._t,i4:()=>G.i4,L0:()=>G.L0,LF:()=>K,_G:()=>G._G,Qg:()=>G.Qg,uC:()=>G.uC});var i=n(63867),a=n(46675),r=n(56124),s=n(61292),l=n(48413),o=n(14503);let c=new i.hs("fix-tables");function d(e,t){let n,i=(t,i)=>{"table"!=t.type.spec.tableRole||(0,r.VM)(t)||(n=function(e,t,n,i){let a,r,d=l.J.get(t);if(!d.problems)return i;i||(i=e.tr);let u=[];for(let e=0;e<d.height;e++)u.push(0);for(let e=0;e<d.problems.length;e++){let a=d.problems[e];if("collision"==a.type){let e=t.nodeAt(a.pos);for(let t=0;t<e.attrs.rowspan;t++)u[a.row+t]+=a.n;i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.Pn)(e.attrs,e.attrs.colspan-a.n,a.n))}else if("missing"==a.type)u[a.row]+=a.n;else if("overlong_rowspan"==a.type){let e=t.nodeAt(a.pos);i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.ob)(e.attrs,"rowspan",e.attrs.rowspan-a.n))}else if("colwidth mismatch"==a.type){let e=t.nodeAt(a.pos);i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.ob)(e.attrs,"colwidth",a.colwidth))}}for(let e=0;e<u.length;e++)u[e]&&(null==a&&(a=e),r=e);for(let l=0,o=n+1;l<d.height;l++){let n=t.child(l),c=o+n.nodeSize,d=u[l];if(d>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let u=[];for(let n=0;n<d;n++)u.push((0,s.e)(e.schema)[t].createAndFill());let p=(0==l||a==l-1)&&r==l?o+1:c-1;i.insert(i.mapping.map(p),u)}o=c}return i.setMeta(c,{fixTables:!0})}(e,t,i,n))};return t?t.doc!=e.doc&&function e(t,n,i,a){let r=t.childCount,s=n.childCount;e:for(let l=0,o=0;l<s;l++){let s=n.child(l);for(let e=o,n=Math.min(r,l+3);e<n;e++)if(t.child(e)==s){o=e+1,i+=s.nodeSize;continue e}a(s,i),o<r&&t.child(o).sameMarkup(s)?e(t.child(o),s,i+1,a):s.nodesBetween(0,s.content.size,a,i+1),i+=s.nodeSize}}(t.doc,e.doc,0,i):e.doc.descendants(i),n}var u=n(74937),p=n(94289),h=n(62040);function g(e,t){let n=e.createAndFill();return new h.dL(n).replace(0,n.content.size,t).doc}function m(e,t,n,i,a,r,s,l){if(0==s||s==t.height)return!1;let c=!1;for(let d=a;d<r;d++){let a=s*t.width+d,r=t.map[a];if(t.map[a-t.width]==r){c=!0;let a=n.nodeAt(r),{top:u,left:p}=t.findCell(r);e.setNodeMarkup(e.mapping.slice(l).map(r+i),void 0,(0,o.ob)(a.attrs,"rowspan",s-u)),e.insert(e.mapping.slice(l).map(t.positionAt(s,p,n)),a.type.createAndFill((0,o.ob)(a.attrs,"rowspan",u+a.attrs.rowspan-s))),d+=a.attrs.colspan-1}}return c}function x(e,t,n,i,a,r,s,l){if(0==s||s==t.width)return!1;let c=!1;for(let d=a;d<r;d++){let a=d*t.width+s,r=t.map[a];if(t.map[a-1]==r){c=!0;let a=n.nodeAt(r),u=t.colCount(r),p=e.mapping.slice(l).map(r+i);e.setNodeMarkup(p,void 0,(0,o.Pn)(a.attrs,s-u,a.attrs.colspan-(s-u))),e.insert(p+a.nodeSize,a.type.createAndFill((0,o.Pn)(a.attrs,0,s-u))),d+=a.attrs.rowspan-1}}return c}function f(e,t,n,i,r){let o=n?e.doc.nodeAt(n-1):e.doc,c=l.J.get(o),{top:d,left:u}=i,h=u+r.width,g=d+r.height,f=e.tr,b=0;function C(){o=n?f.doc.nodeAt(n-1):f.doc,c=l.J.get(o),b=f.mapping.maps.length}(function(e,t,n,i,a,r,l){let o,c,d=e.doc.type.schema,u=(0,s.e)(d);if(a>t.width)for(let r=0,s=0;r<t.height;r++){let l=n.child(r);s+=l.nodeSize;let d=[],p=null==l.lastChild||l.lastChild.type==u.cell?o||(o=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(let e=t.width;e<a;e++)d.push(p);e.insert(e.mapping.slice(0).map(s-1+i),d)}if(r>t.height){let s=[];for(let e=0,i=(t.height-1)*t.width;e<Math.max(t.width,a);e++){let a=!(e>=t.width)&&n.nodeAt(t.map[i+e]).type==u.header_cell;s.push(a?c||(c=u.header_cell.createAndFill()):o||(o=u.cell.createAndFill()))}let d=u.row.create(null,p.FK.from(s)),h=[];for(let e=t.height;e<r;e++)h.push(d);e.insert(e.mapping.slice(l).map(i+n.nodeSize-2),h)}return!!(o||c)})(f,c,o,n,h,g,0)&&C(),m(f,c,o,n,u,h,d,b)&&C(),m(f,c,o,n,u,h,g,b)&&C(),x(f,c,o,n,d,g,u,b)&&C(),x(f,c,o,n,d,g,h,b)&&C();for(let e=d;e<g;e++){let t=c.positionAt(e,u,o),i=c.positionAt(e,h,o);f.replace(f.mapping.slice(b).map(t+n),f.mapping.slice(b).map(i+n),new p.Ji(r.rows[e-d],0,0))}C(),f.setSelection(new a.HT(f.doc.resolve(n+c.positionAt(d,u,o)),f.doc.resolve(n+c.positionAt(g-1,h-1,o)))),t(f)}let b=(0,u.K)({ArrowLeft:y("horiz",-1),ArrowRight:y("horiz",1),ArrowUp:y("vert",-1),ArrowDown:y("vert",1),"Shift-ArrowLeft":v("horiz",-1),"Shift-ArrowRight":v("horiz",1),"Shift-ArrowUp":v("vert",-1),"Shift-ArrowDown":v("vert",1),Backspace:w,"Mod-Backspace":w,Delete:w,"Mod-Delete":w});function C(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function y(e,t){return(n,r,s)=>{let l=n.selection;if(l instanceof a.HT)return C(n,r,i.LN.near(l.$headCell,t));if("horiz"!=e&&!l.empty)return!1;let c=L(s,e,t);if(null==c)return!1;if("horiz"==e)return C(n,r,i.LN.near(n.doc.resolve(l.head+t),t));{let a=n.doc.resolve(c),s=(0,o.oD)(a,e,t),l;return l=s?i.LN.near(s,1):t<0?i.LN.near(n.doc.resolve(a.before(-1)),-1):i.LN.near(n.doc.resolve(a.after(-1)),1),C(n,r,l)}}}function v(e,t){return(n,i,r)=>{let s=n.selection;if(!(s instanceof a.HT)){let i=L(r,e,t);if(null==i)return!1;s=new a.HT(n.doc.resolve(i))}let l=(0,o.oD)(s.$headCell,e,t);return!!l&&C(n,i,new a.HT(s.$anchorCell,l))}}function w(e,t){let n=e.selection;if(!(n instanceof a.HT))return!1;if(t){let i=e.tr,a=(0,s.e)(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(a)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new p.Ji(a,0,0))}),i.docChanged&&t(i)}return!0}function A(e,t,n){if(!(0,o.aH)(e.state.selection))return!1;let i=function(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:i}=e;for(;1==t.childCount&&(n>0&&i>0||"table"==t.firstChild.type.spec.tableRole);)n--,i--,t=t.firstChild.content;let a=t.firstChild,r=a.type.spec.tableRole,l=a.type.schema,o=[];if("row"==r)for(let e=0;e<t.childCount;e++){let a=t.child(e).content,r=e?0:Math.max(0,n-1),c=e<t.childCount-1?0:Math.max(0,i-1);(r||c)&&(a=g((0,s.e)(l).row,new p.Ji(a,r,c)).content),o.push(a)}else{if("cell"!=r&&"header_cell"!=r)return null;o.push(n||i?g((0,s.e)(l).row,new p.Ji(t,n,i)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let i=t[e];for(let t=i.childCount-1;t>=0;t--){let{rowspan:a,colspan:r}=i.child(t).attrs;for(let t=e;t<e+a;t++)n[t]=(n[t]||0)+r}}let i=0;for(let e=0;e<n.length;e++)i=Math.max(i,n[e]);for(let a=0;a<n.length;a++)if(a>=t.length&&t.push(p.FK.empty),n[a]<i){let r=(0,s.e)(e).cell.createAndFill(),l=[];for(let e=n[a];e<i;e++)l.push(r);t[a]=t[a].append(p.FK.from(l))}return{height:t.length,width:i,rows:t}}(l,o)}(n),r=e.state.selection;if(r instanceof a.HT){i||(i={width:1,height:1,rows:[p.FK.from(g((0,s.e)(e.state.schema).cell,n))]});let t=r.$anchorCell.node(-1),a=r.$anchorCell.start(-1),c=l.J.get(t).rectBetween(r.$anchorCell.pos-a,r.$headCell.pos-a);return i=function(e,t,n){let{width:i,height:a,rows:r}=e;if(i!=t){let e=[],n=[];for(let i=0;i<r.length;i++){let a=r[i],s=[];for(let n=e[i]||0,r=0;n<t;r++){let l=a.child(r%a.childCount);n+l.attrs.colspan>t&&(l=l.type.create((0,o.Pn)(l.attrs,l.attrs.colspan,n+l.attrs.colspan-t),l.content)),s.push(l),n+=l.attrs.colspan;for(let t=1;t<l.attrs.rowspan;t++)e[i+t]=(e[i+t]||0)+l.attrs.colspan}n.push(p.FK.from(s))}r=n,i=t}if(a!=n){let e=[];for(let t=0,i=0;t<n;t++,i++){let s=[],l=r[i%a];for(let e=0;e<l.childCount;e++){let i=l.child(e);t+i.attrs.rowspan>n&&(i=i.type.create((0,o.ob)(i.attrs,"rowspan",Math.max(1,n-i.attrs.rowspan)),i.content)),s.push(i)}e.push(p.FK.from(s))}r=e,a=n}return{width:i,height:a,rows:r}}(i,c.right-c.left,c.bottom-c.top),f(e.state,e.dispatch,a,c,i),!0}if(!i)return!1;{let t=(0,o.t6)(e.state.selection),n=t.start(-1);return f(e.state,e.dispatch,n,l.J.get(t.node(-1)).findCell(t.pos-n),i),!0}}function k(e,t){var n;let i;if(t.ctrlKey||t.metaKey)return!1;let r=j(e,t.target);if(t.shiftKey&&e.state.selection instanceof a.HT)s(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(i=(0,o.KW)(e.state.selection.$anchor))&&(null==(n=E(e,t))?void 0:n.pos)!=i.pos)s(i,t),t.preventDefault();else if(!r)return!1;function s(t,n){let i=E(e,n),r=null==o.dX.getState(e.state);if(!i||!(0,o.kV)(t,i))if(!r)return!1;else i=t;let s=new a.HT(t,i);if(r||!e.state.selection.eq(s)){let n=e.state.tr.setSelection(s);r&&n.setMeta(o.dX,t.pos),e.dispatch(n)}}function l(){e.root.removeEventListener("mouseup",l),e.root.removeEventListener("dragstart",l),e.root.removeEventListener("mousemove",c),null!=o.dX.getState(e.state)&&e.dispatch(e.state.tr.setMeta(o.dX,-1))}function c(n){let i=o.dX.getState(e.state),a;if(null!=i)a=e.state.doc.resolve(i);else if(j(e,n.target)!=r&&!(a=E(e,t)))return l();a&&s(a,n)}return e.root.addEventListener("mouseup",l),e.root.addEventListener("dragstart",l),e.root.addEventListener("mousemove",c),!1}function L(e,t,n){if(!(e.state.selection instanceof i.U3))return null;let{$head:a}=e.state.selection;for(let i=a.depth-1;i>=0;i--){let r=a.node(i);if((n<0?a.index(i):a.indexAfter(i))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=a.before(i),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?r:null}}return null}function j(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function E(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?(0,o.KW)(e.state.doc.resolve(n.pos)):null}var S=n(50333),M=n.n(S),I=n(97255),_=n(5061),D=n(38537),R=n(60122),T=n(2009),z=n(56603);let H=new i.hs("tableColumnResizing");class N{getActiveHandleAbs(e){return null===this.activeHandle?null:(0,z.d_)(e,this.activeHandle)}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){if(null===t.setHandle)return this.activeHandle=null,this;let n=R.pJ.getState(e);if(!n)return this;let{type:i,binding:a}=n;return this.activeHandle=(0,T.Bw)(t.setHandle,i,a.mapping),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(H);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}var B=n(39078);function P(){let{handleWidth:e=5,colMinPercent:t=10,lastColumnResizable:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.k_({key:H,state:{init:()=>new N,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==H.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(t,i)=>((function(e,t,n,i){if(!e.editable)return;let a=H.getState(e.state);if(a.dragging)return;let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=null;if(r){let i=(0,_.ix)(),{left:a,right:l}=r.getBoundingClientRect();i?l-t.clientX<=n?s=F(e,t,"left"):t.clientX-a<=n&&(s=F(e,t,"right")):t.clientX-a<=n?s=F(e,t,"left"):l-t.clientX<=n&&(s=F(e,t,"right"))}if(s!==a.getActiveHandleAbs(e.state)){if(!i&&null!==s&&Z(e.state.doc.resolve(s)))return;V(e,s)}})(t,i,e,n),!1),mouseleave:e=>((function(e){let t=H.getState(e.state);null===t.getActiveHandleAbs(e.state)||t.dragging||V(e,null)})(e),!1),mousedown:(e,n)=>((function(e,t,n){if(!e.editable)return;let a=H.getState(e.state),r=a.getActiveHandleAbs(e.state);if(null===r||a.dragging)return;let s=e.state.doc.resolve(r),l=s.node(-1),o=s.start(-1),c=[...l.attrs.colWidths],d=O(s),u=function(e,t){let n=e.domAtPos(t),i=e.domAtPos(t).node;for(;"TABLE"!=i.nodeName;)i=i.parentNode;return n.node.childNodes[n.offset].scrollWidth}(e,r),p=W(e,s),h=U(e,s),g=e.state.doc.resolve(r+2);e.state.selection.from>o&&e.state.selection.from<o+l.nodeSize||e.dispatch(e.state.tr.setSelection(i.LN.findFrom(g,1)));let m={setDragging:{startX:t.clientX,startWidth:u,colWidths:c,tableWidth:h,colIndex:d}};e.dispatch(e.state.tr.setMeta(H,m));let x=null;function f(t){window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",b);let n=H.getState(e.state);if(n.dragging){if(null===x)return void e.dispatch(e.state.tr.setMeta(H,{setDragging:null}));if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let i=e.state.doc.resolve(t).before(-1),a=e.state.tr;e.dispatch(a.setNodeMarkup(i,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:i}))})(e,t,x),e.dispatch(e.state.tr.setMeta(H,{setDragging:null}))}catch(t){e.dispatch(e.state.tr.setMeta(H,{reset:!0}))}x=null}}function b(t){if(!t.which)return f(t);let i=H.getState(e.state),a=i.getActiveHandleAbs(e.state);if(!i.dragging||null===a)return;let{colIndex:r,colWidths:s}=i.dragging,l=function(e,t){let{tableWidth:n}=e,i=t.clientX-e.startX,a=(0,_.ix)()?-i:i;return M()(100*a/n,2)}(i.dragging,t);(function(e,t,n){let i=e.state.doc.resolve(t),a=W(e,i).querySelectorAll("colgroup > col.col-width-control");n.forEach((e,t)=>{a.item(t).style.width="".concat(e,"%")})})(e,a,x=(0,B.H0)(s,r,l,n)),(0,D.i$)(p)}window.addEventListener("mouseup",f),window.addEventListener("mousemove",b),t.preventDefault()})(e,n,t),!1)},decorations(e){let t=H.getState(e).getActiveHandleAbs(e);if(null!==t)return function(e,t){let n=[];try{let i=e.doc.resolve(t),a=i.node(-1),r=l.J.get(a),s=i.start(-1),o=r.colCount(i.pos-s)+i.nodeAfter.attrs.colspan;for(let e=0;e<r.height;e++){let t=o+e*r.width-1;if((o==r.width||r.map[t]!=r.map[t+1])&&(0==e||r.map[t-1]!=r.map[t-1-r.width])){let e=r.map[t],i=s+e+a.nodeAt(e).nodeSize-1,l=document.createElement("div");l.className="column-resize-handle",n.push(I.NZ.widget(i,l))}}return I.zF.create(e.doc,n)}catch(e){return console.error("(caught) columnResizing error: ".concat(e.message)),I.zF.empty}}(e,t)},nodeViews:{}}})}function F(e,t,n){let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return null;let{inside:a}=i,r=(0,o.KW)(e.state.doc.resolve(a+1));if(!r)return null;if("right"===n)return r.pos;let s=l.J.get(r.node(-1)),c=r.start(-1),d=s.map.indexOf(r.pos-c);return d%s.width==0?null:c+s.map[d-1]}function V(e,t){e.dispatch(e.state.tr.setMeta(H,{setHandle:t}))}let O=e=>{let t=e.node(-1),n=l.J.get(t),i=e.start(-1);return n.colCount(e.pos-i)},Z=e=>{let t=e.node(-1),n=l.J.get(t);return O(e)===n.width-1},W=(e,t)=>{let n=e.domAtPos(t.start(-1)).node;for(;"TABLE"!=n.nodeName;)n=n.parentNode;return n},U=(e,t)=>W(e,t).scrollWidth;var G=n(96197);function K(){let{allowTableNodeSelection:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.k_({key:o.dX,state:{init:()=>null,apply(e,t){let n=e.getMeta(o.dX);if(null!=n)return -1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:i,pos:a}=e.mapping.mapResult(t);return i?null:a}},props:{decorations:a.lz,handleDOMEvents:{mousedown:k},createSelectionBetween:e=>null!=o.dX.getState(e.state)?e.state.selection:null,handleKeyDown:b,handlePaste:A},appendTransaction:(t,n,i)=>(0,a.Wz)(i,d(i,n),e)})}},62e3:(e,t,n)=>{"use strict";n.d(t,{J:()=>d}),n(81278),n(55729);var i=n(99767),a=n(77650);(()=>{let e=null;return async t=>{let r=t;t||(console.warn("[i18n] Unexpected empty locale"),r=i.jA),e=r;try{let t=await n(76478)("./".concat(r,"/messages"));r===e&&(a.Ru.load(r,t.messages),a.Ru.activate(r))}catch(e){console.error("[i18n] Error loading locale messages:",e.message)}}})();var r=n(25778),s=n(22529);n(30286);var l=n(91405),o=n(82297);n(73110),n(6807),n(65148);let c=(e,t)=>{let n=(0,o.H)(),a=(0,o._Y)();return e||t||(a?n:i.jA)},d=()=>{let e=(0,r.KA)();return c((0,s.uy)(e.getState()),(0,l._)())}},62695:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,j:()=>l});var i=n(55729),a=n(25778),r=n(15350),s=n(9119);let l=(e,t)=>(0,i.useCallback)(()=>{let n=t();"number"==typeof n&&(e.chain().focus().selectNodeAtPos(n,!1).run(),setTimeout(()=>{e.view.focus()}))},[e,t]),o=()=>{let e=(0,a.jL)(),t=(0,a.GV)(r.Pj),n=(0,a.GV)(r.kW),l=(0,a.GV)(s.HF);return{currentMediaDrawerSourceKey:t,isQuickAction:n,setMediaDrawerSourceKeyAction:(0,i.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((0,r.st)({sourceKey:t,overrideDefault:n}))},[e]),currentEditBackgroundDrawerSourceKey:l,setBackgroundDrawerSourceKeyAction:(0,i.useCallback)(t=>{e((0,s.mR)({sourceKey:t}))},[e])}}},62964:(e,t,n)=>{"use strict";n.d(t,{VG:()=>M,Yq:()=>S,MP:()=>E,Sf:()=>L});var i=n(6029),a=n(57405),r=n(23293),s=n(58959),l=n(38036),o=n(49611),c=n(64268),d=n(51504),u=n(19564),p=n(77650),h=n(55729),g=n(25778),m=n(43634),x=n(67097),f=n(15577);let b={thumbnail:void 0,embed:void 0,meta:void 0,sourceUrl:void 0},C=e=>{let{links:{icon:t},meta:{title:n,description:i,duration:a,site:r,medium:s}={}}=e;return{...Object.entries({title:null==n?void 0:n.slice(0,200),description:null==i?void 0:i.slice(0,500),duration:a,site:r,medium:s}).reduce((e,t)=>{let[n,i]=t;return i?{...e,[n]:i}:e},{}),icon:t&&t[0]?t[0].href:void 0}},y=async e=>{var t,n,i,a,r,s;let l=await fetch("https://cdn.iframe.ly/api/iframely/?url=".concat(encodeURIComponent(e),"&key=").concat("a68bac8b6624d46b6d0ba46e5b3f8971","&iframe=1&omit_script=1")),o=await l.json();if(console.debug("[Iframely]",o),o.error)return Promise.reject(o);let{html:c,links:d,meta:u}=o,{player:p,reader:h,app:g,thumbnail:m}=d,x=p||h||g,f=x?x.filter(e=>"text/html"===e.type&&e.href)[0]||x[0]:null,b=u&&!u.xframe&&(!u.csp||!u.csp.includes("frame-ancestors"));return{sourceUrl:(null==u?void 0:u.canonical)||e,embed:f?{url:f.href,html:c,height:null==(t=f.media)?void 0:t.height,width:(null==(n=f.media)?void 0:n.width)||(null==(i=f.media)?void 0:i["max-width"]),aspectRatio:null==(a=f.media)?void 0:a["aspect-ratio"]}:b?{url:e}:void 0,meta:C(o),thumbnail:m&&m[0]?{src:m[0].href,height:null==(r=m[0].media)?void 0:r.height,width:null==(s=m[0].media)?void 0:s.width}:void 0}};var v=n(29917),w=n(77569),A=n(46211),k=n(83488);let L=e=>{try{var t,n;let i=new DOMParser().parseFromString(e,"text/html");return(null==(t=i.querySelector("iframe"))?void 0:t.src)||(null==(n=i.querySelector("blockquote"))?void 0:n.cite)||!1}catch(e){return!1}},j=e=>{let t=e.match(/^https?:\/\/www\.tiktok\.com/),n=e.match(/^https?:\/\/(www\.|staging\.)?gamma.app/);return t||n},E=async e=>{var t,n,i,a,r;let s,l;try{if(j(e)){let t=e.split("?")[0];s=await y(t)}else s=await y(e)}catch(t){if(403===t.status||404===t.status||415===t.status){for(let{key:t,urlRegex:n,canEmbedPrivate:i,defaultDisplayStyle:a}of A.NR)if(n&&e.match(n)&&i)return{...b,source:t,proxy:!1,url:e,meta:{title:p.Ru._({id:"SuoEIZ"})},sourceUrl:e,displayStyle:a||"inline"}}throw Error("Code: ".concat(t.status,". Message: ").concat(t.error))}if(!s)throw Error("No link metadata found");for(let{key:e,urlRegex:t}of A.NR)if(t&&(null==(a=s.sourceUrl)?void 0:a.match(t))){l=e;break}if(l){let e=A.Dc[l];return{...b,...s,source:l,proxy:!1,url:(null==(r=s.embed)?void 0:r.url)||s.sourceUrl,displayStyle:e.defaultDisplayStyle}}return(null==(t=s.meta)?void 0:t.medium)=="audio"||(null==(n=s.meta)?void 0:n.medium)==="video"?{...b,...s,source:w.G.key}:(null==(i=s.embed)?void 0:i.url)?{...b,...s,source:k.J.key,proxy:!1,url:s.embed.url}:{...b,...s,source:k.J.key,proxy:!0,url:e}},S=async(e,t)=>await E(e).then(e=>(t(e),e)).then(e=>I(e,t)),M=e=>{let{currentUrl:t="",updateAttributes:n,handleSubmit:g,handleDataSubmit:m,placeholder:b,noHeader:C}=e,[y,v]=(0,h.useState)(t||""),[w,A]=(0,h.useState)(),k=y!==t;(0,h.useEffect)(()=>{t&&v(t)},[t]),(0,h.useEffect)(()=>{A(void 0)},[y]);let j=(0,h.useCallback)(e=>{if(0===e.indexOf("data:")){if(m){try{(0,x.Xz)(e)}catch(e){A(p.Ru._({id:"YqH0TR"}));return}return m(e)}return void A(p.Ru._({id:"YqH0TR"}))}let t=L(e);return(t&&(e=t),(0,f.Se)(e)||(e="https://"+e,(0,f.AY)(e)))?g?g(e):n?S(e,n).catch(e=>{console.error("Error fetching URL",e),A(p.Ru._({id:"dZyJFB"}))}):void console.error("No submit handler provided"):void A(p.Ru._({id:"YqH0TR"}))},[m,g,n]),E=(0,h.useCallback)(()=>{j(y.trim())},[j,y]),M=(0,h.useCallback)(e=>{t||j(e.clipboardData.getData("text/plain").trim())},[t,j]);return(0,i.jsxs)(a.T,{align:"flex-start",spacing:4,w:"100%",children:[!C&&(0,i.jsx)(r.D,{size:"md",children:(0,i.jsx)(u.x6,{id:"D89ve+"})}),(0,i.jsxs)(s.z,{align:"flex-start",spacing:2,w:"100%",children:[(0,i.jsx)(l.p,{placeholder:b,onKeyDown:e=>{"Enter"===e.key&&E()},onPaste:M,value:y,onChange:e=>v(e.target.value),flex:1,"data-testid":"url-input"}),(0,i.jsx)(o.$,{onClick:E,isDisabled:!k,children:(0,i.jsx)(u.x6,{id:"4pSxwB"})})]}),w&&(0,i.jsxs)(c.F,{status:"error",children:[(0,i.jsx)(d._,{}),w]})]})},I=async(e,t)=>{let n=(0,g.KA)().getState(),i=(0,m.aQ)(n);if(!i)return void console.error("[uploadIframelyThumbnail] No orgId specified, bailing");let a={...e.thumbnail},r=a.src;if(r&&void 0!==a)try{await (0,v.j_)(r,i,{onUploadComplete:e=>(a&&(a.src=e.src,a.width=e.meta.width,a.height=e.meta.height,t({thumbnail:a})),Promise.resolve()),onOriginalFileUpload:e=>(a&&(a.src=e.src,a.width=e.meta.width,a.height=e.meta.height,t({thumbnail:a})),Promise.resolve()),onUploadFailed:e=>(console.error("[iframely] Thumbnail upload error: ",e),Promise.reject())},"iframelyThumbnail")}catch(e){console.error("[iframely] Thumbnail upload error: ",e)}}},62997:(e,t,n)=>{"use strict";n.d(t,{cN:()=>r}),n(6029);var i=n(19564),a=n(88586);let r=2;a.KPK.Admin,i.x6,i.x6,a.KPK.Member,i.x6,i.x6},63255:(e,t,n)=>{"use strict";n.d(t,{WI:()=>o,X0:()=>c});var i=n(43944),a=n(8266);let r=[...Array(i.uw+1).keys()],s="1.6em",l=["disc","circle","square"],o=e=>({listStyle:l[e%l.length],paddingStart:"0.4em",_after:{ps:"0.4em"},marginStart:"calc(".concat(e+1," * ").concat(s," - 0.4em)")}),c={[a.UX]:{margin:"0",marginBottom:a.X8,textAlign:"start","&.first-block":{marginTop:a.jz}},"ol.block-numbered":{listStyle:"none"},".block-todo":{listStyle:"none","label.chakra-checkbox":{pointerEvents:"none",".chakra-checkbox__control":{pointerEvents:"auto",width:"1em",height:"1em",top:"calc(0.5lh - 0.5em)",position:"relative",borderRadius:"var(--box-border-radius)",borderColor:"var(--link-color)",borderWidth:"0.125em","&[data-checked]":{backgroundColor:"var(--link-color)",color:"var(--body-color-inverted)"},svg:{fontSize:"0.5em"}}}},".block-bullet, .block-todo":{li:{position:"relative"}}};r.forEach(e=>{c['ol.block-numbered[indent="'.concat(e,'"]')]={"li[data-node-view-content]":{ms:"calc(".concat(e+1," * ").concat(s,")"),position:"relative",_before:{position:"absolute","inset-inline-start":"-".concat(s),content:'attr(data-list-counter) "."'}}}}),r.forEach(e=>{c['ul.block-bullet[indent="'.concat(e,'"]')]={"li[data-node-view-content]":o(e)},c['ul.block-todo[indent="'.concat(e,'"]')]={"li.todo":{ms:"calc(".concat(e+1," * ").concat(s,")"),listStyle:"none"},".chakra-checkbox__control":{"inset-inline-start":"-".concat(s)}}})},63674:(e,t,n)=>{"use strict";n.d(t,{us:()=>d,Z7:()=>l,jt:()=>c,Vr:()=>g,OP:()=>h,xV:()=>o,yw:()=>u,jp:()=>p});var i=n(84462),a=n.n(i),r=n(50998),s=n.n(r);let l=a()((e,t,n)=>{let i="__react_svg_text_measurement_id_gamma";n=null!=n?n:document.body;try{let a=document.getElementById(i);if(!a){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",(a=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",i),e.appendChild(a),n.appendChild(e)}let r=a.ownerSVGElement;r&&r.parentNode&&r.parentNode!==n&&(r.parentNode.removeChild(r),n.appendChild(r)),Object.assign(a.style,t),a.textContent=e;let s=a.getBoundingClientRect();return{width:a.getComputedTextLength(),height:s.height}}catch(e){return null}}),o=(e,t)=>{let n=e.length,i=Array(n);return e.forEach((e,a)=>{i[(a+t)%n]=e}),i},c=e=>e?1:16;function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=window.getComputedStyle(e).fontSize;if(!n)return t;let[i,a]=(()=>{let e=n.split(""),i=e.findIndex(e=>e.match(/[a-z]/i));return -1===i?["".concat(t),"px"]:[e.splice(0,i).join(""),e.join("")]})();return"px"!==a.toLowerCase()?t:Number.parseFloat(i)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.abs(e),a=i%t,r=i-a;return 0===a?e:n*(e<0?-1:1)==-1||0===n&&a<t/2?r*(e<0?-1:1):(r+t)*(e<0?-1:1)}let p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{exact:i}=n,r=e.length,l=new Map,o=/\W/,c=-1,d=e,u=0,p=r,h=a()(t);for(;0!==c;){l.set(p,c);let t=Math.floor(Math.abs(p-u)/2);if(0===t){if(i)return!1;if(1===c)return d;if(1===l.get(p-1))return s()(e,{length:p-1,separator:o});return!1}if(u=p,(p+=t*c)>r)return!1;c=h(d=s()(e,{length:p,separator:o}))}return d};function h(e){let t=e.target,n={x:e.clientX,y:e.clientY};if(t instanceof SVGElement){var i,a;t=null!=(a=null==(i=t.ownerSVGElement)?void 0:i.parentElement)?a:null}let r=null==t?void 0:t.offsetParent;if(r){let e=r.getBoundingClientRect();n.x-=e.left,n.y-=e.top}return n}let g=a()((e,t)=>{let{fontFamily:n,fontSize:i,fontWeight:a}=t,r={widths:[],heights:[],maxWidth:0,maxHeight:0};return e.length&&e.forEach(e=>{let{width:t,height:s}=l("".concat(e),{fontFamily:n,fontSize:i,fontWeight:a})||{width:0,height:0};r.widths.push(t),r.heights.push(s),t>r.maxWidth&&(r.maxWidth=t),s>r.maxHeight&&(r.maxHeight=s)}),r})},63902:(e,t,n)=>{"use strict";n.d(t,{oR:()=>l}),n(6029);var i=n(55729),a=n(85732);let r=i.createContext({publishedVersionOverride:!1}),s=()=>(0,i.useContext)(r);function l(){let{publishedVersionOverride:e}=s();return e||(0,a.NF)()}},64003:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var i=n(6029),a=n(26420),r=n(55729),s=n(85399),l=n(19855),o=n(66082);let c=(0,r.memo)(e=>{let{children:t,visual:n,visualPosition:r="top",visualSize:c="100%",visualMaxSize:d,gap:u="1.25em",alignContent:p,forceBalance:h,cellProps:g,textboxProps:m,cellStyle:x="none",dragHandle:f}=e,{layoutOptions:b,cellOptions:C,isContentEmpty:y,isLayoutFocused:v,direction:w,index:A}=g,k="left"===r,L=p||(k?"rtl"===w?"right":"left":b.horizontalAlign),{colorVars:j}=(0,s.r)({layoutColorOverride:b.color,cellColorOverride:null==C?void 0:C.color,index:A,forceTransparent:!0});return(0,i.jsxs)(l.E,{cellProps:g,cellStyle:x,dragHandle:f,cellContentPropOverrides:{p:0,gap:y&&!v?0:u,display:"flex",flexDirection:k?"right"===L&&"rtl"!==w?"row-reverse":"row":"column",alignItems:k?"flex-start":void 0,justifyContent:"center",h:"100%"},children:[(0,i.jsx)(a.a,{w:c,maxW:d,flex:k?1:void 0,children:n}),(0,i.jsx)(a.a,{minW:k?"6em":"100%",maxW:"100%",flex:k?1.618:1,"data-content-empty":y,css:{...j,...k?(0,o.G4)("flex-start"):{}},cursor:"text",...m,children:t})]})});c.displayName="VisualGridCell"},64056:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>p,I4:()=>c,Sm:()=>o,eq:()=>u});var i=n(9922),a=n.n(i),r=n(23460),s=n(17633),l=n(66082);let o=e=>{var t;let{horizontalAlign:n,eventTarget:i,node:r,newContent:l,editor:o}=e,c=i.closest("[data-media-node-wrapper]"),u=Math.round(((null==c||null==(t=c.querySelector("img"))?void 0:t.clientWidth)||100)/((null==c?void 0:c.clientWidth)||100)*100),p=[s.w.paragraph()],h=d(i,o.view),g=a()(r.toJSON());return g.attrs.resize={},{type:"gridLayout",attrs:{colWidths:(()=>{switch(n){case"center":return[(100-u)/2,u,(100-u)/2];case"right":return[100-u,u];default:return[u,100-u]}})()},content:(()=>{switch(n){case"center":return[{type:"gridCell",content:"left"===h&&l?l:p},{type:"gridCell",content:[g]},{type:"gridCell",content:"right"===h&&l?l:p}];case"right":return[{type:"gridCell",content:l||p},{type:"gridCell",content:[g]}];default:return[{type:"gridCell",content:[g]},{type:"gridCell",content:l||p}]}})()}},c=e=>{let{horizontalAlign:t,prevPos:n}=e;switch(t){case"center":case"right":return n+4;default:return n+2}},d=(e,t)=>{let n=(0,r.xX)(e,t.dom,e=>e.hasAttribute("data-media-add-side"));return null==n?void 0:n.getAttribute("data-media-add-side")},u=e=>{let{view:t,from:n,to:i,node:a}=e,r=(0,l.er)(t.state,n,i);return a.attrs.horizontalAlign||("rtl"===r?"right":"left")},p=e=>{let{eventTarget:t,horizontalAlign:n,nodeSize:i,editor:a}=e,r=d(t,a.view);switch(n){case"right":return 2;case"center":return"left"===r?2:i+7;default:return i+4}}},64234:(e,t,n)=>{"use strict";n.d(t,{ez:()=>eB,jU:()=>eH,Fn:()=>eN,dO:()=>eT,K4:()=>eP});var i=n(6029),a=n(51684),r=n(77650),s=n(87996),l=n(87545),o=n(53587),c=n(57405),d=n(64268),u=n(51504),p=n(99745),h=n(19564),g=n(25778),m=n(83743),x=n(69388),f=n(26420),b=n(49611),C=n(16936),y=n(1139),v=n(53996),w=n(99492),A=n(48621),k=n(33170),L=n(55729),j=n(62171),E=n(67097);let S=e=>{let{accentImages:t,isDark:n,handleDelete:a,handleItemClick:s,currentAttributes:l,editType:o}=e,c=(0,L.useCallback)(e=>t=>{a&&(t.stopPropagation(),a(e))},[a]),d=(0,L.useCallback)(e=>()=>{s&&s(e)},[s]);return(0,i.jsx)(m.r,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let t=(0,j.FD)(e,n,E.XS),u=("node"===o||"accessory"===o)&&e.image,p=u?{...e.image,source:e.source}:e,g=u?(null==l?void 0:l.src)===e.image.src:(null==l?void 0:l.accentId)===e.accentId;return(0,i.jsx)(x.E,{children:(0,i.jsxs)(f.a,{as:b.$,variant:"unstyled",backgroundColor:n?"black":"white",cursor:s?"pointer":void 0,...t,opacity:1,width:"100%",borderRadius:"base",shadow:"md",minH:"100px",position:"relative",role:"group",onClick:d(p),children:[a&&(0,i.jsx)(k.Tz,{label:(0,i.jsx)(h.x6,{id:"Rz0Yis"}),placement:"top",children:(0,i.jsx)(C.K,{"aria-label":r.Ru._({id:"Rz0Yis"}),icon:(0,i.jsx)(A.g,{icon:w.yLS}),onClick:c(e),isRound:!0,position:"absolute",top:1,insetEnd:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),l&&(0,i.jsx)(y.z,{in:g,children:(0,i.jsx)(f.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,i.jsx)(v.o,{h:"100%",w:"100%",children:(0,i.jsx)(A.g,{icon:w.e68})})})})]})},e.accentId)})})};var M=n(62452),I=n(43634),_=n(74158),D=n(94740),R=n(66199),T=n(18078),z=n(25311),H=n(49146),N=n(23908),B=n(36693),P=n(58959),F=n(20061),V=n(3448),O=n(48810),Z=n(30892),W=n(96500),U=n(40452),G=n(50933),K=n(25256),Q=n.n(K),q=n(81136),J=n(38036),$=n(33750),Y=n.n($),X=n(33612),ee=n.n(X),et=n(10500),en=n(45460);let ei=(0,en.R)((e,t)=>{let{color:n,name:a,isActive:r,size:s=8,onClick:l,buttonProps:o}=e,c=(0,M.ZY)(n)?"white":"black";return(0,i.jsx)(k.Tz,{label:a,placement:"top",isDisabled:!a,children:(0,i.jsx)(b.$,{display:"inline-block",alignSelf:"center",boxSize:s,borderRadius:"md",border:"1px solid",borderColor:"gray.200",color:c,css:(0,M.Sf)(n),onClick:()=>null==l?void 0:l(n),variant:"unstyled",minW:s,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",ref:t,...o,children:r&&(0,i.jsx)(et.S,{})})})});ei.displayName="ThemeColorIcon";var ea=n(78140),er=n(36999),es=n(41283),el=n(37930),eo=n(48478);let ec=e=>{let{mode:t,setMode:n}=e;return(0,i.jsxs)(ea.W,{children:[(0,i.jsx)(er.I,{as:b.$,size:"sm",rightIcon:(0,i.jsx)(A.g,{icon:w.Jt$,size:"sm"}),minW:24,textAlign:"start",children:t}),(0,i.jsx)(es.c,{children:(0,i.jsx)(el.i,{defaultValue:t,value:t,title:r.Ru._({id:"YDWhuY"}),type:"radio",onChange:n,children:["HEX","RGB","HSL"].map(e=>(0,i.jsx)(eo.k,{value:e,children:e},e))})})]})},ed={type:"solid",color:"#FF0000"},eu=e=>{let[t,n]=(0,L.useState)("HEX"),a=e.color||e.defaultColor||ed,r=(0,M.Ik)(a),{updateColor:s}=e,l=(0,L.useCallback)(e=>{s({type:"solid",color:e})},[s]);return(0,i.jsxs)(c.T,{align:"start",spacing:4,children:[(0,i.jsx)(eI,{...e}),(0,i.jsxs)(c.T,{children:[(0,i.jsx)(ex,{color:r,onChange:l}),(0,i.jsxs)(P.z,{w:"100%",spacing:4,children:[(0,i.jsx)(ei,{color:a}),(0,i.jsx)(em,{color:r,onChange:l}),(0,i.jsx)(ef,{color:r,onChange:l})]}),(0,i.jsxs)(P.z,{flex:1,w:"100%",children:[(0,i.jsx)(ec,{mode:t,setMode:n}),"HEX"===t&&(0,i.jsx)(ep,{initialFocusRef:e.initialFocusRef,color:r,updateColor:l,placeholder:ed.color}),"HSL"===t&&(0,i.jsx)(eh,{color:r,updateColor:l}),"RGB"===t&&(0,i.jsx)(eg,{color:r,updateColor:l})]})]})]})},ep=e=>{let{color:t,updateColor:n,placeholder:a,initialFocusRef:r}=e,[s,l]=(0,L.useState)(t),[o,c]=(0,L.useState)(!1);(0,L.useEffect)(()=>{l(t)},[t]);let d=(0,L.useCallback)(e=>{let t=e.target.value;l(t),(0,Z.fd)(t)&&n(t)},[n]),u=(0,L.useCallback)(e=>{let t=eD(e.target.value);(0,Z.fd)(t)&&n(t)},[n]);return(0,L.useEffect)(()=>{if(r&&!o){var e;null==(e=r.current)||e.select(),c(!0)}},[o,r]),(0,i.jsx)(J.p,{ref:r,size:"sm",type:"text",value:s,onChange:d,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u(e)},fontFamily:"mono",placeholder:a,"data-testid":"color-picker-text-input-hex"})},eh=e=>{let{color:t,updateColor:n}=e,a=ee()(t).toHsl(),[r,s,l]=[a.h,100*a.s,100*a.l],o=e=>{n(ee()({h:e,s:s/100,l:l/100}).toHexString())},c=e=>{n(ee()({h:r,s:e/100,l:l/100}).toHexString())},d=e=>{n(ee()({h:r,s:s/100,l:e/100}).toHexString())};return(0,i.jsxs)(P.z,{children:[(0,i.jsx)(J.p,{size:"sm",type:"number",value:Math.round(r),onChange:e=>o(Number(e.target.value)),min:0,max:360,step:1,flex:1}),(0,i.jsx)(J.p,{size:"sm",type:"number",value:Math.round(s),onChange:e=>c(Number(e.target.value)),min:0,max:100,step:1,flex:1}),(0,i.jsx)(J.p,{size:"sm",type:"number",value:Math.round(l),onChange:e=>d(Number(e.target.value)),min:0,max:100,step:1,flex:1})]})},eg=e=>{let{color:t,updateColor:n}=e,a=ee()(t).toRgb(),[r,s,l]=[a.r,a.g,a.b],o=e=>{n(ee()({r:e,g:s,b:l}).toHexString())},c=e=>{n(ee()({r,g:e,b:l}).toHexString())},d=e=>{n(ee()({r,g:s,b:e}).toHexString())};return(0,i.jsxs)(P.z,{children:[(0,i.jsx)(J.p,{size:"sm",type:"number",value:r,onChange:e=>o(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,i.jsx)(J.p,{size:"sm",type:"number",value:s,onChange:e=>c(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,i.jsx)(J.p,{size:"sm",type:"number",value:l,onChange:e=>d(Number(e.target.value)),min:0,max:255,step:1,flex:1})]})},em=e=>{let{color:t,onChange:n}=e,a=ee()(t).toHsv(),[r,s]=(0,L.useState)(a.h);return(0,L.useEffect)(()=>{s(a.h)},[a.h]),(0,i.jsxs)(G.Ap,{min:0,max:360,defaultValue:r,value:r,size:"lg",onChange:e=>{s(e),n(ee()({h:e,s:a.s,v:a.v}).toHexString())},step:.1,focusThumbOnChange:!1,children:[(0,i.jsx)(G.hB,{h:3,borderRadius:"full",bgGradient:"linear(to-r, hsl(0, 100%, 50%),  hsl(60, 100%, 50%),  hsl(120, 100%, 50%),  hsl(180, 100%, 50%),  hsl(240, 100%, 50%),  hsl(300, 100%, 50%),  hsl(360, 100%, 50%))"}),(0,i.jsx)(G.OQ,{borderWidth:3,borderColor:"white",bg:"hsl(".concat(a.h,", 100%, 50%)"),boxSize:"24px",shadow:"md",outline:"1px solid",outlineColor:"blackAlpha.200"})]})},ex=e=>{let{color:t,onChange:n}=e,[a,r]=(0,L.useState)(!1),s=(0,L.useRef)(null),l=(0,L.useRef)(null),o=(0,L.useRef)(null),c=ee()(t).toHsv(),d=ee()({h:c.h,s:100,v:100}),u=(0,L.useCallback)((e,t)=>{if(!s.current)return;let n=e/s.current.width,i=1-t/s.current.height;return c.s=n,c.v=i,c},[c]),p=(0,L.useCallback)(e=>{if(!s.current)return{x:0,y:0};let t=ee()(e).toHsv(),n=t.s,i=t.v;return{x:n*s.current.width,y:(1-i)*s.current.height}},[]),h=(0,L.useCallback)(()=>{let e=s.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let n=e.width,i=e.height,a=t.createLinearGradient(0,0,n,0);a.addColorStop(0,"white"),a.addColorStop(1,d.toHexString()),t.fillStyle=a,t.fillRect(0,0,n,i);let r=t.createLinearGradient(0,0,0,i);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"black"),t.fillStyle=r,t.fillRect(0,0,n,i)},[d]),g=(0,L.useCallback)((e,t)=>{if(!s.current||!l.current)return{x:0,y:0};let n=s.current.clientWidth,i=s.current.clientHeight,a=Y()(e,0,n),r=Y()(t,0,i);return l.current.style.left="".concat(a,"px"),l.current.style.top="".concat(r,"px"),{x:a,y:r}},[]);(0,L.useEffect)(()=>{h();let{x:e,y:n}=p(t);g(e,n)},[t,p,h,g]);let m=(0,L.useCallback)(e=>{if(!o.current)return;let t=o.current.getBoundingClientRect(),{x:i,y:a}=g(e.clientX-t.left,e.clientY-t.top),r=u(i,a);r&&(n(ee()(r).toHexString()),e.preventDefault())},[n,u,g]),x=(0,L.useCallback)(e=>{r(!1),e.preventDefault()},[]),b=(0,L.useCallback)(e=>{r(!0),m(e),e.preventDefault()},[m]);return(0,L.useEffect)(()=>{if(a)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[m,x,a]),(0,i.jsxs)(f.a,{pos:"relative",ref:o,onMouseDown:b,children:[(0,i.jsx)(f.a,{ref:l,pos:"absolute",w:5,h:5,border:"2px solid white",borderRadius:"full",transform:"translate(-50%, -50%) scale(".concat(a?1.2:1,")"),boxShadow:"md",transitionProperty:"transform",transitionDuration:"normal",bg:ee()(t).toHexString(),outline:"1px solid",outlineColor:"blackAlpha.200"}),(0,i.jsx)(f.a,{as:"canvas",ref:s,width:"100%",height:"150px",borderRadius:"md",shadow:"base",border:"1px solid",borderColor:"gray.200"})]})},ef=e=>{let{onChange:t}=e,n=(0,L.useCallback)(()=>{new window.EyeDropper().open().then(e=>{t(e.sRGBHex)}).catch(e=>{console.error("Eyedropper error:",e)})},[t]);return"EyeDropper"in window?(0,i.jsx)(C.K,{size:"sm",icon:(0,i.jsx)(A.g,{fixedWidth:!0,icon:w.jC5}),onClick:n,variant:"ghost","aria-label":r.Ru._({id:"A94+Ww"})}):null},eb=e=>{let[t,n]=(0,L.useState)("HEX"),{updateColor:a,color:r}=e,[s,l]=(0,L.useState)(0),o=r.stops[s],d=(0,L.useCallback)((e,t)=>{let n=[...r.stops];void 0===t?(n.splice(e,1),l(Math.min(e,n.length-1))):(n[e]=t,l(e)),a({...r,stops:n})},[r,a]),u=(0,L.useCallback)(e=>{let t=[...r.stops];t.push(e),t.sort((e,t)=>e.position-t.position),l(Q()(t,e)),a({...r,stops:t})},[r,a]),p=(0,L.useCallback)(e=>{d(s,{...o,color:e})},[o,s,d]);return(0,i.jsxs)(c.T,{align:"start",spacing:4,children:[(0,i.jsx)(eC,{...e,addStop:u,currentStop:o,updateStop:d,currentStopIndex:s,setCurrentStopIndex:l}),(0,i.jsx)(eI,{...e,updateColor:e=>{"linear-gradient"===e.type?a(e):p(null==e?void 0:e.color)}}),(0,i.jsx)(W.c,{}),(0,i.jsxs)(c.T,{children:[(0,i.jsx)(ex,{color:o.color,onChange:p}),(0,i.jsxs)(P.z,{w:"100%",spacing:4,children:[(0,i.jsx)(ei,{color:r}),(0,i.jsx)(em,{color:o.color,onChange:p}),(0,i.jsx)(ef,{color:o.color,onChange:p})]}),(0,i.jsxs)(P.z,{flex:1,w:"100%",children:[(0,i.jsx)(ec,{mode:t,setMode:n}),"HEX"===t&&(0,i.jsx)(ep,{initialFocusRef:e.initialFocusRef,color:o.color,updateColor:p,placeholder:ed.color}),"HSL"===t&&(0,i.jsx)(eh,{color:o.color,updateColor:p}),"RGB"===t&&(0,i.jsx)(eg,{color:o.color,updateColor:p})]}),(0,i.jsx)(ey,{...e})]})]})},eC=e=>{let{color:t,updateStop:n,currentStopIndex:a,setCurrentStopIndex:s,addStop:l}=e,{stops:o}=t,c=o.length>2,d=o.length<5;return(0,i.jsxs)(P.z,{w:"100%",spacing:0,children:[(0,i.jsx)(U.s,{borderRadius:"full",background:(0,q.yh)({...t,angle:90}),pos:"relative",h:3,border:"1px solid",borderColor:"gray.200",flex:1,me:2,children:o.map((e,t)=>{let r=t===a;return(0,i.jsx)(U.s,{pos:"absolute",inset:0,top:-1.5,children:(0,i.jsxs)(G.Ap,{size:"lg",value:e.position,min:0,max:100,step:1,onChange:i=>{n(t,{...e,position:i})},onClick:()=>s(t),children:[(0,i.jsx)(G.hB,{bg:"transparent",h:3}),(0,i.jsx)(G.OQ,{borderWidth:3,borderColor:"white",boxSize:"24px",shadow:"md",outline:r?"2px solid":"1px solid",outlineColor:r?"trueblue.300":"blackAlpha.200",bg:e.color})]})},t)})}),(0,i.jsx)(k.Tz,{label:(0,i.jsx)(h.x6,{id:"VztmP9"}),children:(0,i.jsx)(C.K,{icon:(0,i.jsx)(A.g,{icon:w.yLS}),"aria-label":r.Ru._({id:"VztmP9"}),onClick:()=>n(a,void 0),size:"sm",variant:"ghost",isDisabled:!c})}),(0,i.jsx)(k.Tz,{label:(0,i.jsx)(h.x6,{id:"MKajKJ"}),children:(0,i.jsx)(C.K,{icon:(0,i.jsx)(A.g,{icon:w.QLR}),"aria-label":r.Ru._({id:"MKajKJ"}),onClick:()=>{l(ev(t))},size:"sm",variant:"ghost",isDisabled:!d})})]})},ey=e=>{let{color:t,updateColor:n}=e;return(0,i.jsxs)(c.T,{align:"start",w:"100%",children:[(0,i.jsx)(O.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,i.jsx)(h.x6,{id:"YMybpT"})}),(0,i.jsx)(m.r,{columns:4,spacing:2,w:"100%",children:ew.map(e=>{let a=t.angle===e.value;return(0,i.jsx)(ei,{color:{...t,angle:e.value},onClick:()=>n({...t,angle:e.value}),isActive:a,buttonProps:{w:"100%"},name:e.label},e.value)})})]})},ev=e=>{let t=e.stops[0],n=e.stops[1],i=e.stops.reduce((i,a,r)=>{let s=e.stops[r+1];if(!s)return i;let l=s.position-a.position;return l>i.distance?(t=a,n=s,{distance:l,position:a.position+l/2}):i},{distance:0,position:0});return{color:(0,Z.tV)(t.color,n.color,i.position/100),position:i.position}},ew=[{label:"0\xb0",value:0},{label:"45\xb0",value:45},{label:"90\xb0",value:90},{label:"135\xb0",value:135},{label:"180\xb0",value:180},{label:"225\xb0",value:225},{label:"270\xb0",value:270},{label:"315\xb0",value:315}];var eA=n(72470),ek=n(77979);let eL=(0,en.R)((e,t)=>{let{color:n,updateColor:a,defaultColor:s={type:"solid",color:"#000000"},onClick:l,canReset:o,dataTestId:c}=e;return(0,i.jsxs)(eA.M,{size:"md","data-testid":c,children:[(0,i.jsx)(J.p,{type:"text",placeholder:s?"".concat((0,M.ZR)(s)," ").concat(r.Ru._({id:"P9Cyl9"})):r.Ru._({id:"ovBPCi"}),value:n?(0,M.ZR)(n):"",readOnly:!0,fontFamily:"monospace",bg:"white",onFocus:l}),(0,i.jsx)(ek.W,{children:(0,i.jsx)(ei,{color:n||s,ref:t,onClick:l,size:7})}),o&&(0,i.jsx)(ek.t,{children:(0,i.jsx)(k.Tz,{label:(0,i.jsx)(h.x6,{id:"L+rMC9"}),placement:"top",children:(0,i.jsx)(C.K,{"aria-label":r.Ru._({id:"cnGeoo"}),variant:"ghost",onClick:()=>a(void 0),icon:(0,i.jsx)(A.g,{icon:w.U23}),size:"sm",colorScheme:"red"})})})]})});eL.displayName="ThemeColorPickerInput";let ej=e=>{let t=(0,L.useRef)(null);return(0,i.jsxs)(D.A,{isLazy:!0,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],initialFocusRef:t,children:[(0,i.jsx)(R.W,{children:(0,i.jsx)(eL,{...e,canReset:!!(e.color&&e.defaultColor)})}),(0,i.jsx)(T.h,{zIndex:"modalPopover",border:"1px solid",borderColor:"gray.50",children:(0,i.jsx)(z.e,{children:(0,i.jsx)(eM,{...e,initialFocusRef:t})})})]})},eE=e=>(0,i.jsx)(ej,{...e,solidOnly:!0}),eS=["solid","linear-gradient"],eM=e=>{let{color:t,updateColor:n,solidOnly:a}=e,r=(null==t?void 0:t.type)||"solid",s=eS.indexOf(r),l=(0,L.useCallback)(e=>{let i=eS[e];if(r===i)return;let a=(0,M.Ik)(t||ed);"solid"===i?n({color:a,...t,type:"solid"}):"linear-gradient"===i&&n({stops:[{color:a,position:0},{color:(0,Z.Pf)(a,(0,Z.$p)(a)?20:-20),position:100}],angle:45,...t,type:"linear-gradient"})},[r,t,n]);return a?(0,i.jsx)(eu,{...e}):(0,i.jsxs)(H.t,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:s,onChange:l,children:[(0,i.jsxs)(N.w,{children:[(0,i.jsx)(B.o,{children:(0,i.jsxs)(P.z,{children:[(0,i.jsx)(A.g,{icon:w.l8N,fixedWidth:!0}),(0,i.jsx)(h.x6,{id:"5bi1la"})]})}),(0,i.jsx)(B.o,{children:(0,i.jsxs)(P.z,{children:[(0,i.jsx)(A.g,{icon:w.IlC,fixedWidth:!0}),(0,i.jsx)(h.x6,{id:"/S8bMP"})]})})]}),(0,i.jsxs)(F.T,{children:[(0,i.jsx)(V.K,{p:0,pt:4,children:(0,i.jsx)(eu,{...e})}),(0,i.jsx)(V.K,{p:0,pt:4,children:(0,i.jsx)(eb,{...e,color:t})})]})]})},eI=e=>{let{theme:t,color:n,updateColor:a,solidOnly:r=!1,palette:s="theme"}=e,l=[];return("theme"===s?l=(0,M.ND)(t,r):"accent"===s&&(l=(0,M.CD)(t)),r&&(l=l.filter(M.mO)),0===l.length)?null:(0,i.jsxs)(c.T,{align:"start",children:[(0,i.jsx)(O.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,i.jsx)(h.x6,{id:"DNUgpN"})}),(0,i.jsx)(P.z,{wrap:"wrap",children:l.map((e,t)=>(0,i.jsx)(ei,{name:(0,M.mO)(e)?(0,M.ZR)(e):void 0,color:e,onClick:a,isActive:n&&(0,M.Gw)(n,e)},t))})]})},e_=e=>e.replaceAll("#","").replaceAll(/[^A-Fa-f0-9]/g,"").slice(0,6),eD=e=>{let t=e_(e),n="";switch(t.length){case 0:return"";case 1:for(let e=0;e<6;e++)n+=t;break;case 2:for(let e=0;e<3;e++)n+=t;break;case 3:case 4:case 5:n=t.slice(0,3).split("").map(function(e){return e+e}).join("");break;default:n=t}return"#"+n.toUpperCase()};var eR=n(52762);let eT="default",ez="color.solid",eH={Default:[{label:()=>r.Ru._({id:"EdQY6l"}),availableOffline:!0,key:eT,backgroundType:eR.h.NONE}],Image:[{...s.mx,nodeName:"image",backgroundType:eR.h.IMAGE,priority:10},{...s.OO,nodeName:"image",disabled:!0,backgroundType:eR.h.IMAGE},{...s.Rn,nodeName:"image",backgroundType:eR.h.IMAGE},{...s.TV,nodeName:"image",disabled:!0,backgroundType:eR.h.IMAGE},{...s.Up,nodeName:"image",backgroundType:eR.h.IMAGE},{...s.ae,nodeName:"image",backgroundType:eR.h.IMAGE},{...s.Pl,nodeName:"image",backgroundType:eR.h.IMAGE},{...s.xT,nodeName:"image",backgroundType:eR.h.IMAGE},{...s.fo,nodeName:"image"},{...s.un,nodeName:"image"},{...s.yj,nodeName:"image",disabled:!0,backgroundType:eR.h.IMAGE},{...s.fb,nodeName:"image"},{label:()=>r.Ru._({id:"COXEr5"}),key:o.j,availableOffline:!0,icon:a.yvG,backgroundType:eR.h.IMAGE,nodeName:"image",keywords:["accent image"]}],Video:[{...s.GQ,nodeName:"video"},{...s.fX,nodeName:"video"},{...s.N$,nodeName:"video"},{...s.O5,nodeName:"video"},{...s.r9,nodeName:"video"},{...s.w,nodeName:"video"},{...s.st,nodeName:"video"}],Embed:[{...s.Jp,nodeName:"embed",priority:10},{...s.Zd,nodeName:"embed"},{...s.Il,nodeName:"embed"},{...s.fG,nodeName:"embed"},{...s.uF,nodeName:"embed"},{...s.Oz,nodeName:"embed"},{...s.V2,nodeName:"embed"},{...s.Dr,nodeName:"embed"},{...s.MN,nodeName:"embed"},{...s.qD,nodeName:"embed"},{...s.ap,nodeName:"embed"},{...s.Ve,nodeName:"embed"},{...s.RA,nodeName:"embed"},{...s.Ow,nodeName:"embed"},{...s.hb,nodeName:"embed"},{...s.sI,nodeName:"embed"},{...s.sS,nodeName:"embed"}],Color:[{label:()=>r.Ru._({id:"iFeLoB"}),key:ez,availableOffline:!0,icon:a.fyG,backgroundType:eR.h.COLOR,keywords:["solid color"]},{...s.UX,availableOffline:!0,backgroundType:eR.h.GRADIENT}]},eN=Object.fromEntries(Object.values(eH).flat().map(e=>[e.key,e])),eB={...l.e,[eT]:()=>(0,i.jsx)(i.Fragment,{}),[o.j]:e=>{let{currentAttributes:t,updateAttributes:n,editType:a}=e,r=(0,g.GV)(I.SJ),{accentBackgrounds:s}=r.config;return(0,i.jsxs)(c.T,{align:"stretch",children:[s&&(0,i.jsx)(S,{currentAttributes:t,accentImages:s,isDark:(0,M.Mw)(r),handleItemClick:n,editType:a}),(0,i.jsxs)(d.F,{status:"info",children:[(0,i.jsx)(u._,{}),(0,i.jsx)(p.T,{children:(0,i.jsx)(h.x6,{id:"zOCB9A"})})]})]})},[ez]:e=>{let{currentAttributes:t,updateAttributes:n,contextualTheme:a}=e,r=(0,_.d4)(I.SJ),s=(0,L.useCallback)(e=>n({hex:(0,M.Ik)(e)}),[n]);if("string"==typeof t)return s(t),(0,i.jsx)(i.Fragment,{});let{hex:l}=t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(eE,{color:{type:"solid",color:l},updateColor:s,theme:a||r,palette:"theme"})})}},eP={Default:()=>r.Ru._({id:"ovBPCi"}),Image:()=>r.Ru._({id:"hG89Ed"}),Video:()=>r.Ru._({id:"vSJd18"}),Embed:()=>r.Ru._({id:"KKBlUU"}),Color:()=>r.Ru._({id:"jZlrte"})}},64594:(e,t,n)=>{"use strict";n.d(t,{F:()=>g});var i=n(40076),a=n(97481),r=n.n(a);class s{static fromSerialized(e,t,n){let i=new s(e,t.name,t.spanContext,t.parentSpanId,n);return i.attributes=t.attributes,i.events=t.events,i.endTime=t.endTime,i.startTime=t.startTime,i.duration=t.duration,i.status=t.status,t.startTime&&(i.startTimestamp=new Date(t.startTime).getTime()),i}get traceparent(){return"".concat(this.spanContext.traceId,"-").concat(this.spanContext.spanId)}trace(e,t,n){return this.traceCreator.trace(e,{...t,parent:this.spanContext},n)}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();if("created"!==this.status){console.warn("ClientSpan.start called when already started or ended");let e=Error("ClientSpan.start called when already started or ended");return i.yf.logger.warn("ClientSpan.start called when already started or ended.  This could indicate a problem in instrumentation",{logType:"ClientSpan.error"},e),this}return this.status="started",this.startTimestamp=e,this.startTime=new Date(e).toISOString(),this}setAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?r()(this.attributes,e):Object.assign(this.attributes,e),this}addLink(e,t){return"ended"===this.status||this.links.push({context:e,attributes:t}),this}addEvent(e,t,n){if("ended"===this.status)return this;let i=new Date(n||Date.now()).toISOString();return this.events.push({name:e,timestamp:i,attributes:t}),this}recordException(e,t){let n=t||Date.now(),i={};return i="string"==typeof e?{name:"Error",message:e}:{name:e.name,message:e.message,stack:e.stack},this.addEvent("exception",i,n)}serialize(){return{name:this.name,status:this.status,spanContext:this.spanContext,parentSpanId:this.parentSpanId,attributes:this.attributes,events:this.events,endTime:this.endTime,startTime:this.startTime,duration:this.duration}}end(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("started"!==this.status){let e='ClientSpan.end when not in status = "started"';console.warn(e);let t=Error(e);i.yf.logger.warn(e,{logType:"ClientSpan.error"},t)}this.status="ended";let t=Date.now();this.endTime=new Date(t).toISOString(),this.duration=t-this.startTimestamp,this.exporter&&(e?this.exporter.sendBeacons([this]).catch(e=>{console.warn("Failed to export span on end:",e)}):this.exporter.export([this]).catch(e=>{console.warn("Failed to export span on end:",e)}))}constructor(e,t,n,i,a){this.traceCreator=e,this.attributes={dd:{service:"client"}},this.events=[],this.links=[],this.endTime=null,this.startTime=null,this.duration=-1,this.status="created",this.name=t,this.spanContext=n,this.parentSpanId=i,this.exporter=a}}var l=n(91938);class o{async sendBeacons(e){let t=e.map(e=>this.sendBeacon(e));await Promise.allSettled(t)}async sendBeacon(e){try{if("navigator"in window){let t=this.makeSpanData(e);navigator.sendBeacon(this.trackUrl,JSON.stringify(t))}else await this.exportSpan(e)}catch(e){i.yf.logger.error("HTTPSpanExporter.sendBeacon failed",{},e)}}async export(e){let t=e.map(e=>this.exportSpan(e));await Promise.allSettled(t)}async exportSpan(e){let t=this.makeSpanData(e);try{let e=await fetch(this.trackUrl,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!e.ok)throw Error("Failed to export span: ".concat(e.status," ").concat(e.statusText))}catch(e){console.warn("Failed to export span:",e)}}makeSpanData(e){let t=e.events.find(e=>"exception"===e.name),n=new Date(e.startTime).getTime(),i=new Date(e.endTime).getTime();return{name:e.name,duration:i-n,endTime:e.endTime,attributes:e.attributes,traceId:e.spanContext.traceId,parentSpanId:e.parentSpanId,spanId:e.spanContext.spanId,...t&&{errorInfo:{message:t.attributes.message,stack:t.attributes.stack,type:t.attributes.name}}}}constructor(){this.trackUrl="".concat(l.$.API_HOST,"/ai/v2/track-span")}}class c{export(e){return Promise.resolve()}sendBeacons(e){return Promise.resolve()}}let d=()=>Array.from(crypto.getRandomValues(new Uint8Array(8))).map(e=>e.toString(16).padStart(2,"0")).join(""),u=()=>d(),p=()=>d();class h{setExporter(e){this.exporter=e}loadSpan(e){return s.fromSerialized(this,e,this.exporter)}createSpan(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new s(this,e,{traceId:(null==(t=i.parent)?void 0:t.traceId)||u(),spanId:i.spanId||p()},(null==(n=i.parent)?void 0:n.spanId)||null,this.exporter);return i.attributes&&a.setAttributes(i.attributes),i.links&&i.links.forEach(e=>{a.addLink(e.context,e.attributes)}),a}async trace(e,t,n){let i=this.createSpan(e,t);i.start();try{let e=await n(i);return i.end(),e}catch(e){throw i.recordException(e),i.end(),e}}constructor(){this.exporter=new c}}let g=new h;g.setExporter(new o)},64811:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});let i=["tel","mailto"]},65230:(e,t,n)=>{"use strict";n.d(t,{LW:()=>D,Ep:()=>R,f3:()=>_});var i=n(6029),a=n(27229),r=n(46898),s=n(94740),l=n(66199),o=n(12514),c=n(18078),d=n(96430),u=n(26385),p=n(48810),h=n(40162),g=n(61204),m=n(49611),x=n(45460),f=n(16936),b=n(99492),C=n(48621),y=n(33170),v=n(19564),w=n(77650),A=n(97139),k=n.n(A),L=n(55729),j=n(57963),E=n(26053);v.x6,b.wB1,v.x6,b.s_F,v.x6,b.Qpm;let S=e=>{let{label:t,isDark:n,isSelected:a}=e;return(0,i.jsx)(m.$,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:a?n?"purple.500":"purple.100":n?"gray.700":"gray.50",color:a?n?"white":"purple.700":n?"white":"gray.700",borderColor:n?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})},M={bg:"red.100",_hover:{bg:"red.200"},borderColor:"red.600",color:"red.600"},I={bg:"green.100",_hover:{bg:"green.200"},borderColor:"green.600",color:"green.600"},_=e=>{let{rating:t,setRating:n,RatingButtons:x,trackFeedback:f,feedbackTags:b,size:C}=e,{isOpen:y,onOpen:A,onClose:E}=(0,a.j)(),M=(0,L.useCallback)(e=>{n(e),A()},[n,A]),[I,_]=(0,L.useState)(""),[D,R]=(0,L.useState)(new Set),T=(0,L.useCallback)(()=>{_(""),R(new Set),E()},[E]),z=(0,r.d)(),H=(0,L.useCallback)(()=>{null==f||f(t,k().sanitize(I),Array.from(D)),z({title:(0,i.jsx)(v.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0}),T()},[I,D,t,f,z,T]);return(0,i.jsxs)(s.A,{isOpen:y,onOpen:A,onClose:T,placement:"top",closeOnBlur:!0,isLazy:!0,variant:"modal",children:[(0,i.jsx)(l.W,{children:(0,i.jsx)(x,{rating:t,setRating:M,size:C})}),(0,i.jsx)(o.Z,{children:(0,i.jsxs)(c.h,{borderRadius:"lg",borderWidth:"1px",borderColor:"gray.200",shadow:"xl",p:3,"data-rating-popover":!0,children:[(0,i.jsx)(d.q,{}),(0,i.jsxs)(u.B,{alignItems:"flex-end",children:[(0,i.jsx)(p.E,{alignSelf:"flex-start",fontSize:"sm",color:"gray.500",children:"good"===t?(0,i.jsx)(v.x6,{id:"uA8iBc"}):(0,i.jsx)(v.x6,{id:"tq89gP"})}),t&&"good"!==t&&b&&b.length>0&&(0,i.jsx)(h.B,{children:b.map(e=>{let{key:t,label:n}=e;return(0,i.jsx)(h.Q,{onClick:()=>{R(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:(0,i.jsx)(S,{label:n,isSelected:D.has(t)})},t)})}),(0,i.jsx)(j._,{initialHeight:"4em",value:I,onChange:e=>_(e.target.value),fontSize:"sm",placeholder:w.Ru._({id:"eYeGuP"}),p:1,px:2,borderRadius:"0"}),(0,i.jsxs)(g.e,{size:"sm",children:[(0,i.jsx)(m.$,{variant:"ghost",onClick:T,children:(0,i.jsx)(v.x6,{id:"6Uau97"})}),(0,i.jsx)(m.$,{variant:"solid",onClick:H,children:(0,i.jsx)(v.x6,{id:"1m41/U"})})]})]})]})})]})},D=(0,x.R)((e,t)=>{let{rating:n,setRating:a,size:r}=e,s=(0,E.wP)();return(0,i.jsxs)(g.e,{spacing:0,p:0,isAttached:!0,ref:t,size:r,children:[(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"kR82DG"}),placement:"top",children:(0,i.jsx)(f.K,{...s,icon:(0,i.jsx)(C.g,{icon:b.lS9}),"aria-label":w.Ru._({id:"kqV4i0"}),..."poor"===n?M:{},onClick:()=>a("poor"),position:"relative",zIndex:+("poor"===n)})}),(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"y1GvbS"}),placement:"top",children:(0,i.jsx)(f.K,{...s,icon:(0,i.jsx)(C.g,{icon:b.Wcv}),"aria-label":w.Ru._({id:"nnIO9F"}),position:"relative",insetStart:"-1px",..."good"===n?I:{},onClick:()=>a("good")})})]})});D.displayName="CardRatingButtons";let R=(0,x.R)((e,t)=>{let{rating:n,setRating:a,size:r="sm"}=e;return(0,i.jsxs)(g.e,{size:r,ref:t,"data-rating-buttons":!0,children:[(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"kR82DG"}),placement:"top",children:(0,i.jsx)(f.K,{"aria-label":"thumbs down",color:"poor"===n?"red.600":void 0,borderWidth:"1px",borderColor:"poor"===n?"red.600":"transparent",bg:"poor"===n?"red.100":void 0,_hover:{bg:"poor"===n?"red.200":"red.100"},icon:(0,i.jsx)(C.g,{icon:b.lS9}),onClick:e=>{e.stopPropagation(),a("poor")}})}),(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"y1GvbS"}),placement:"top",children:(0,i.jsx)(f.K,{"aria-label":"thumbs up",color:"good"===n?"green.600":void 0,borderWidth:"1px",borderColor:"good"===n?"green.600":"transparent",bg:"good"===n?"green.100":void 0,_hover:{bg:"good"===n?"green.200":"green.100"},icon:(0,i.jsx)(C.g,{icon:b.Wcv}),onClick:e=>{e.stopPropagation(),a("good")}})})]})});R.displayName="ImageRatingButtons"},65273:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var i=n(55729),a=n(98701),r=n(9118),s=n(30286),l=n(25778),o=n(42721),c=n(11403);let d={},u=e=>{let[t,n]=(0,i.useState)([]),[u,h]=(0,i.useState)("ready"),{generate:g}=(0,a.pt)("SuggestImageEdits",{onStart(){h("generating"),n([])},onContent(e){n(p(e))},onComplete(e){n(p(e)),h("done")},onError(e){console.error("Error generating suggestions",e),h("error")},timeout:2e4}),m=(0,l.GV)(s.H6),x=(0,r.xt)(m),f=(0,i.useCallback)(()=>{var t;let i=(0,o.gx)(),a=null==e||null==(t=e.src)?void 0:t.split(".").pop();if(!(null==e?void 0:e.src)||!i||!a)return void n([]);let r=d[e.src];if(r){n(r),h("done");return}let{promise:s}=g({variables:{imageUrl:e.src,originalPrompt:e.query,language:x.englishName},workspaceId:i});s.then(t=>{d[e.src]=p(t)}),s.catch(e=>{console.error("Error generating suggestions",e),n([]),h("error")})},[g,e,x]);return(0,c.Vg)(()=>{f()},[null==e?void 0:e.src,f],[null==e?void 0:e.src]),{suggestions:t,generateSuggestionsStatus:u}},p=e=>e.split("\n").filter(Boolean)},65280:(e,t,n)=>{"use strict";n.d(t,{T:()=>p}),n(6029);var i=n(9922),a=n.n(i),r=n(55729),s=n(74158),l=n(27002);n(64084),n(25778);var o=n(42643),c=n(43182);n(47665);var d=n(72492);let u=e=>{sessionStorage.setItem("cardsToCopy",JSON.stringify(e))},p=()=>{let e=(0,s.wA)(),t=(0,l.u)("copyCardsToDeck");return(0,r.useCallback)(n=>{if(!t)return;let i=n.map(e=>(0,d.RE)(a()(e.toJSON()))).map(e=>(0,c.iM)(e));e((0,o.q8)({isOpen:!0,onSelectDoc:()=>{u(i)}}))},[t,e])}},65674:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(63867),a=n(71839);let r=(e,t)=>new i.k_({key:new i.hs("".concat(e.name,"_markview")),props:{nodeViews:{[e.name]:(n,i,r,s)=>(0,a.g)(t,{contentDOMElementTag:"span",as:"span"})({editor:e.editor,node:n,getPos:r,decorations:s,extension:{name:e.name,type:e.type.name,options:e.options,storage:e.storage},HTMLAttributes:{}})}}})},65950:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var i=n(6029),a=n(40452),r=n(26420),s=n(55729),l=n(25778),o=n(91792),c=n(55616),d=n(48767),u=n(36512),p=n(43634),h=n(11818),g=n(94920);let m=e=>{let{cardId:t,zoomIn:n,shouldFixHeight:m,hidden:f,...b}=e,{setNavItemPreviewRef:C}=(0,g.U)(),y=(0,l.GV)(p.SJ),v=(0,c.S)(y,!1),w=(0,o.rd)(),A=(0,h.NC)(y),k=(0,s.useRef)(null),L=x(k);return(0,s.useEffect)(()=>{k.current&&(m?k.current.style.height="".concat(k.current.offsetHeight,"px"):k.current.style.height="")},[m]),(0,i.jsxs)(a.s,{ref:k,className:"filmstrip-nav-item-wrapper",sx:d.o,css:{"--editor-font-size":"calc(var(--editor-width) / ".concat(u.s5,")"),"--thumbnail-min-height":"calc(var(--editor-width) * 0.4)"},justifyContent:"center",overflow:"hidden",pointerEvents:"none",bg:w?"gray.800":"gray.50",minH:"var(--thumbnail-min-height)",maxH:"calc(var(--editor-width) * 1.777)",w:"var(--editor-width)",...b,children:[L?(0,i.jsx)(r.a,{pos:"absolute",bottom:"-1px",insetStart:0,w:"100%",h:"25%",bg:A,zIndex:1,css:{maskImage:"linear-gradient(to bottom, transparent 0%, black 90%)"}}):null,(0,i.jsx)("div",{className:"ProseMirror",children:(0,i.jsx)(a.s,{className:"doc-content-wrapper",transform:n?"scale(2)":void 0,transformOrigin:n?"center left":void 0,direction:"column",align:"center",sx:v,inert:"true",bg:w?"gray.700":"white",opacity:f?.4:1,height:"100%",children:(0,i.jsx)("div",{style:{width:"100%"},ref:e=>{e&&C(t,e)}})})})]})};m.displayName="PreviewCard";let x=e=>{if(!e.current)return;let t=e.current.querySelector(".doc-content-wrapper");if(t)return t.offsetHeight>1.1*e.current.offsetHeight}},65978:(e,t,n)=>{"use strict";n.d(t,{p:()=>h,V:()=>p});var i=n(6029),a=n(26420),r=n(58959),s=n(40452),l=n(55729),o=n(84431),c=n(58297),d=n(5061);let u=(0,l.memo)(e=>{let{nodeName:t}=e,n=(0,d.fW)();return(0,i.jsx)(c.j,{contentEditable:!1,userSelect:"none",insetEnd:0,size:4,transform:"translate(calc(".concat("calc(".concat("gridLayout"===t||"gallery"===t?"-1 * var(--grid-padding)":"0px"," + var(--comment-padding) + 50%)")," * ").concat(n?"-1":"1","),calc(50%)) scale(1)"),position:"absolute",bgGradient:"linear(to-b, yellow.200, yellow.300)",border:"1px solid white",shadow:"0 0 0 1px rgb(0 0 0 / 10%)",className:"block-comments-circle",zIndex:"1"})});u.displayName="BlockCommentsCircle";let p="comments-wrapper",h=(0,l.forwardRef)(function(e,t){let{nodeName:n,isPopupOpen:l,onKeyDown:c,buttonRef:d,isMobile:h,hasCommentsOrReactions:g,children:m,isEmpty:x,...f}=e;return(0,i.jsxs)(a.a,{ref:t,contentEditable:!1,suppressContentEditableWarning:!0,pointerEvents:"none","data-comments-wrapper":!0,"data-is-popup-open":l,className:p,alignSelf:"start",onKeyDown:c,"data-print-hidden":!0,children:[!x&&!h&&(0,i.jsx)(u,{nodeName:n}),(0,i.jsx)(r.z,{contentEditable:!1,suppressContentEditableWarning:!0,...h?g?{pt:4}:{}:{position:"absolute",ms:"100%",top:0,height:"100%",align:"flex-start"},className:"controls-wrapper controls-wrapper__".concat(n),children:(0,i.jsx)(s.s,{direction:"row",ref:d,contentEditable:!1,suppressContentEditableWarning:!0,transitionProperty:"common",transitionDuration:"fast",zIndex:l?o.$.commentsStackOpen:o.$.commentsStack,"data-controls-toggle-button":!0,ms:[0,"-17px"],...f,children:m})})]})})},66082:(e,t,n)=>{"use strict";n.d(t,{gj:()=>T,wq:()=>S,G4:()=>j,fZ:()=>_,Up:()=>I,O8:()=>E,yp:()=>w,AS:()=>L,F0:()=>C,CY:()=>y,Ro:()=>v,er:()=>D,lI:()=>A});var i=n(99492),a=n(77650),r=n(37243),s=n(63867),l=n(41427),o=n(5061),c=n(15607),d=n(38934),u=n(97255);let p=["paragraph","heading","title","drawing","diagram","image","contributors","mediaPlaceholder","buttonGroup","navbarLinks","gallery","chart","toggleSummary","smartDiagram"],h=["title","heading","paragraph","bullet","todo","numbered","image","contributors","diagram","mediaPlaceholder","buttonGroup","gallery","chart","smartDiagram","blockquote"],g=["toggle","blockquote"],m=new s.hs("horizontalAlign");class x{isRelevantNode(e){return h.includes(e.type.name)}isRelevantParentNode(e){return g.includes(e.type.name)}apply(e){if(!e.docChanged&&this.hasInitialized)return this;this.hasInitialized=!0;let t=[],n=(0,o.C)();return e.doc.descendants((e,i)=>{if(this.isRelevantParentNode(e)){let n=(0,l.KQ)(e);t.push(u.NZ.node(i,i+e.nodeSize,{},{dir:n})),"toggle"===e.type.name&&e.forEach((e,a,r)=>{if("toggleSummary"===e.type.name){let r=i+1+a;t.push(u.NZ.node(r,r+e.nodeSize,{},{dir:n}))}})}if(this.isRelevantNode(e)){let a=(0,l.KQ)(e);a?n=a:t.push(u.NZ.node(i,i+e.nodeSize,{},{dir:n}))}return!0}),this.decorations=u.zF.create(e.doc,t),this}constructor(e=u.zF.empty){this.hasInitialized=!1,this.decorations=e}}let f=()=>new s.k_({key:m,state:{init:()=>new x,apply:(e,t)=>t.apply(e)},props:{decorations(e){let t=m.getState(e);return null==t?void 0:t.decorations}}}),b=["left","right","center"],C=e=>b.find(t=>e.isActive({horizontalAlign:t})),y=e=>{let t=e.state.selection.$head.node().textContent;return(0,l.R_)(t)||(0,o.C)()},v=e=>t=>{let{dir:n,ctx:i}=t||{};return"menu"===i?null:e&&"center"!==e&&"ltr"!==n?n?"left"===e?"right":"left":null:e},w=(e,t)=>{let n=A(e,t);return{textAlign:e||void 0,alignItems:n||"var(--flex-align)","--flex-align":n}},A=(e,t)=>{if(e)return k(e,t||(0,o.C)())},k=(e,t)=>{if(e)return"rtl"===t?({left:"flex-end",center:"center",right:"flex-start"})[e]:({left:"flex-start",center:"center",right:"flex-end"})[e]},L=(e,t)=>{let n={"--descendant-align-self-left":"rtl"===t?"flex-end":"flex-start","--descendant-align-self-center":"center","--descendant-align-self-right":"rtl"===t?"flex-start":"flex-end"};return e?{"--descendant-align-self":k(e,t),...n}:n},j=e=>({"--descendant-align-self":e,"--descendant-align-self-left":e,"--descendant-align-self-center":e,"--descendant-align-self-right":e}),E=e=>e?{alignSelf:"var(".concat({left:"--descendant-align-self-left",center:"--descendant-align-self-center",right:"--descendant-align-self-right"}[e],", --descendant-align-self)")}:{alignSelf:"var(--descendant-align-self, self-start)"},S=r.YY.create({name:"horizontalAlign",priority:d.y.HorizontalAlign,addOptions:()=>({types:p,alignments:b,defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{horizontalAlign:{default:this.options.defaultAlignment,keepOnSplit:!0,parseHTML:e=>e.style.textAlign||e.getAttribute("align")||this.options.defaultAlignment,renderHTML:e=>e.horizontalAlign?{style:"text-align: ".concat(e.horizontalAlign)}:{}}}}]},addCommands:()=>({toggleHorizontalAlign:e=>t=>{let{tr:n,dispatch:i,state:a,editor:r}=t;if(!i)return!0;let s=M(r,e)?null:e;return n.selection.ranges.forEach(e=>{let t=e.$from.pos,i=e.$to.pos;a.doc.nodesBetween(t,i,(e,t)=>{if("footnote"===e.type.name)return!1;p.includes(e.type.name)&&n.setNodeMarkup(t,void 0,{...e.attrs,horizontalAlign:s}).setMeta("annotationEvent",{type:"update-node-attrs",pos:t})})}),!0}}),addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.toggleHorizontalAlign("left"),"Mod-Shift-e":()=>this.editor.commands.toggleHorizontalAlign("center"),"Mod-Shift-r":()=>this.editor.commands.toggleHorizontalAlign("right"),Backspace:()=>{let{selection:e}=this.editor.state;if(!(e instanceof s.U3)||!e.empty)return!1;let t=e.$from.parent;return!!p.includes(t.type.name)&&!!t.isTextblock&&!(t.nodeSize>2)&&t.attrs.horizontalAlign!=this.options.defaultAlignment&&this.editor.commands.toggleHorizontalAlign(this.options.defaultAlignment)}}},addProseMirrorPlugins:()=>[f()]}),M=(e,t)=>{let n=b.filter(e=>e!==t);return e.isActive({horizontalAlign:t})&&!n.some(t=>e.isActive({horizontalAlign:t}))},I=e=>{var t;return null==(t=e.find(e=>e.spec.dir))?void 0:t.spec.dir},_=(e,t)=>{var n;if(!t)return(null==(n=e.find(e=>e.spec.dir))?void 0:n.spec.dir)||"auto"},D=(e,t,n)=>{var i;let a=m.getState(e);if(!a)return null;let r=null==(i=a.decorations.find(t,n,e=>e.dir))?void 0:i[0];return r?r.spec.dir:null},R=e=>!(0,c.iA)(e,"horizontalAlign"),T=[{key:"alignLeft",name:()=>a.Ru._({id:"VjjKVj"}),icon:i.ecg,checkActive:e=>M(e,"left"),checkDisabled:R,apply:e=>e.chain().toggleHorizontalAlign("left").run(),shortcut:"Mod+Shift+L",enabledForTables:!0,alignment:"left"},{key:"alignCenter",name:()=>a.Ru._({id:"95ckMP"}),icon:i._ur,checkActive:e=>M(e,"center"),checkDisabled:R,apply:e=>e.chain().toggleHorizontalAlign("center").run(),shortcut:"Mod+Shift+E",enabledForTables:!0,alignment:"center"},{key:"alignRight",name:()=>a.Ru._({id:"vTKw81"}),icon:i.jbh,checkActive:e=>M(e,"right"),checkDisabled:R,apply:e=>e.chain().toggleHorizontalAlign("right").run(),shortcut:"Mod+Shift+R",enabledForTables:!0,alignment:"right"}]},66380:(e,t,n)=>{"use strict";n.d(t,{V:()=>c});var i=n(27002),a=n(58809),r=n(34394),s=n(25778),l=n(1057),o=n(43634);let c=()=>{var e,t,n,c,d,u,p,h,g,m,x,f,b,C;let y=(0,s.GV)(a.Jo),v=(0,s.GV)(o.SJ),w=(0,r.R5)(null==y||null==(t=y.docGenerateInput)||null==(e=t.settings)?void 0:e.imageModel),A=(null==y||null==(c=y.docGenerateInput)||null==(n=c.settings)?void 0:n.imageProvider)||i.of.get("aiGeneratorDefaultImageProvider"),k=null==y||null==(u=y.docGenerateInput)||null==(d=u.settings)?void 0:d.imageStyle;!k&&"aiGenerated"===A&&v&&(k=(0,l.xI)(v));let L=(null==y||null==(h=y.docGenerateInput)||null==(p=h.settings)?void 0:p.artStylePreset)?String(null==y||null==(m=y.docGenerateInput)||null==(g=m.settings)?void 0:g.artStylePreset):void 0,j=(null==y||null==(f=y.docGenerateInput)||null==(x=f.settings)?void 0:x.artStylePrompt)?String(null==y||null==(C=y.docGenerateInput)||null==(b=C.settings)?void 0:b.artStylePrompt):void 0,E=i.of.get("visualsMenuEnabled"),S={};return E&&(S={artStylePrompt:j,artStylePreset:L}),{imageProvider:A,imageOptions:{model:w,stylePrompt:k,visualsMenuEnabled:E,...S},imageModel:w,imageStyle:k}}},66824:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(55729),a=n(25778),r=n(1558);let s=e=>{let t=(0,a.jL)(),n=(0,i.useCallback)(e=>{let{clipType:n}=e;n&&t((0,r.F8)({clipType:n}))},[t]),s=(0,i.useCallback)(n=>{let{id:i}=n;r.RR.emit("endClip",{id:i,confirm:!1}),t((0,r.uy)()),e.commands.resetImageClip()},[t,e]),l=(0,i.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!1}),t((0,r.uy)())},[t]),o=(0,i.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!0}),t((0,r.uy)())},[t]);return{cancelCrop:l,startCrop:(0,i.useCallback)(e=>{let{id:n,clipType:i}=e;t((0,r.Zu)({id:n,clipType:i})),r.RR.emit("startCrop",{id:n})},[t]),confirmCrop:o,resetCrop:s,setCropClipType:n}}},67200:(e,t,n)=>{"use strict";n.d(t,{he:()=>r,kz:()=>s});var i=n(60122);let a=e=>{let t=e.getMeta(i.pJ);return(null==t?void 0:t.isChangeOrigin)===!0},r=e=>a(e)&&!l(e),s=e=>!r(e),l=e=>{var t;return null==(t=e.getMeta(i.pJ))?void 0:t.isUndoRedoOperation}},67864:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>h,Ti:()=>d,U5:()=>g,Vo:()=>p,cE:()=>c,ek:()=>f,es:()=>m,nh:()=>x,rV:()=>u});var i=n(60122),a=n(2009),r=n(37243),s=n(47665),l=n(53891),o=n(53885);let c=e=>(0,s.jg)(e)||(0,s.sw)(e)||(0,l.p8)(e),d=(e,t)=>!(0,s.jg)(e)&&!(0,s.sw)(e)&&c(t),u=e=>{if(c(e.parent))return{pos:e.pos,node:e.nodeAfter};for(let t=e.depth;t>0;t--){let n=e.node(t);if(c(e.node(t-1)))return{pos:t>0?e.before(t):0,node:n}}return null},p=e=>{let{pos:t,from:n,to:i,editor:a}=e,{state:l}=a,c=o.q.getState(l);if(!c)return null;let d=(0,r.eL)(a.state.doc.resolve(t),s.jg),u=c.getAnnotationsBetween(l,n,i),p=d?c.getAnnotationsBetween(l,d.pos,d.pos+d.node.nodeSize).filter(e=>!u.find(t=>t.id===e.id)):[];return{inBlock:u,inCard:p,origNodePos:t}},h=e=>{let{dropPos:t,dropNode:n,dragging:r,side:s,tr:l,view:c}=e,d=o.q.getState(c.state);if(!d)return[];let u=d.getAnnotationsBetween(c.state,t,t+n.nodeSize),p=r.inBlock,h="left"===s?r.origNodePos:t,g="left"===s?t:r.origNodePos,{doc:m,type:x,binding:f}=i.pJ.getState(c.state),b=l.mapping.map(t),C=(e,t)=>n=>{let{id:i,relativePos:r}=n,s=(0,a.bL)(m,x,r,f.mapping);return null==s?null:{id:i,newPos:b+(s-e)+t}},y=[...("left"===s?p:u).map(C(h,1)).filter(e=>!!e),...("left"===s?u:p).map(C(g,2)).filter(e=>!!e)],v=r.inCard.filter(e=>{let{id:t}=e;return!y.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=l.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...y,...v]},g=e=>{let{dropPos:t,dropNode:n,dragging:r,side:s,tr:l,view:c,leftContentSize:d}=e,u=o.q.getState(c.state);if(!u)return[];let p=u.getAnnotationsBetween(c.state,t,t+n.nodeSize),h=r.inBlock,g="left"===s?r.origNodePos:t,m="left"===s?t:r.origNodePos,{doc:x,type:f,binding:b}=i.pJ.getState(c.state),C=l.mapping.map(t),y=(e,t)=>n=>{let{id:i,relativePos:r}=n,s=(0,a.bL)(x,f,r,b.mapping);return null==s?null:{id:i,newPos:C+(s-e)+t}},v=[...("left"===s?h:p).map(y(g,2)).filter(e=>!!e),...("left"===s?p:h).map(y(m,4+d)).filter(e=>!!e)],w=r.inCard.filter(e=>{let{id:t}=e;return!v.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=l.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...v,...w]},m=e=>{let{contentPos:t,contentEnd:n,insertPos:r,editor:s}=e,l=o.q.getState(s.state);if(!l)return[];let{state:c}=s,d=l.getAnnotationsBetween(c,t,n),{doc:u,type:p,binding:h}=i.pJ.getState(s.view.state);return d.map(e=>{let{id:n,relativePos:i}=e,s=(0,a.bL)(u,p,i,h.mapping);return null==s?null:{id:n,newPos:r+(s-t)}}).filter(e=>!!e)},x=e=>{let t,{dropPos:n,dragging:r,cardWrapOffset:s,tr:l,view:c}=e;if(!o.q.getState(c.state))return[];let{doc:d,type:u,binding:p}=i.pJ.getState(c.state),h=l.mapping.map(n,-1),g=r.inBlock.map((t=r.origNodePos,e=>{let{id:n,relativePos:i}=e,r=(0,a.bL)(d,u,i,p.mapping);return null==r?null:{id:n,newPos:h+(r-t)+s}})).filter(e=>!!e),m=r.inCard.filter(e=>{let{id:t}=e;return!g.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=l.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...g,...m]},f=e=>{let{pos:t,tr:n,editor:i}=e,a=o.q.getState(i.view.state);if(!a)return[];let r=i.state.doc.resolve(t);return r.nodeAfter?a.getAnnotationsBetween(i.state,t,t+r.nodeAfter.nodeSize).map(e=>{let{id:i,pos:a}=e;return{id:i,newPos:a===t?n.mapping.map(a+1)-1:n.mapping.map(a)}}):[]}},68247:(e,t,n)=>{"use strict";n.d(t,{XA:()=>l,U6:()=>a,Dv:()=>r,N5:()=>s,dd:()=>o,U2:()=>c});var i=n(62452);let a="themed-heading",r="themed-heading-no-gradient",s={fontWeight:"var(--heading-font-weight)",fontFamily:"var(--heading-font)",color:"var(--heading-color)",background:"unset",backgroundClip:"unset",width:"fit-content",maxWidth:"100%",letterSpacing:"var(--letter-spacing-heading)",textTransform:"var(--heading-transform)"},l={...s,background:"var(--heading-gradient)",backgroundClip:"text",caretColor:"var(--heading-color)",color:"transparent","span.textColor":{textShadow:"0px 0.25px 0px var(--text-color), -0px -0.25px 0px var(--text-color)","@media print":{textShadow:"none"}}},o=e=>"linear-gradient"===(0,i.Lz)(e).type?{["*:where(.".concat(a,")")]:l,[".".concat(r)]:{[".".concat(a)]:s},"@media print":{[".".concat(a)]:s},[".".concat("is-pptx-exporting")]:{[".".concat(a)]:s}}:{[".".concat(a)]:s},c=e=>({[".".concat(a)]:s,"--heading-color":e})},68397:(e,t,n)=>{"use strict";n.d(t,{uR:()=>o,en:()=>d});var i=n(6029),a=n(55729),r=n(27578);let s=(e,t)=>{switch(t.type){case"addFeedback":{let n=e.feedback||[];if(n.find(e=>{let{id:n}=e;return n===t.payload.id}))return{...e,feedback:[...n]};return{...e,feedback:[...n,t.payload]}}case"clearFeedback":{let{feedback:t,...n}=e;return{...n}}case"removeFeedback":{let n=e.feedback||[];if(!t.payload.length)return{...e};return{...e,feedback:n.filter(e=>!t.payload.includes(e.id))}}case"reportActiveColumnIds":return{...e,activeColumns:t.payload?[...t.payload]:void 0};case"openContextMenu":return{...e,contextMenu:{isOpen:!0,position:t.payload.position}};case"closeContextMenu":return{...e,contextMenu:{isOpen:!1,position:{x:-1e3,y:-1e3}}};case"setGridFunctions":return{...e,gridFunctions:t.payload};default:(0,r.xb)(t)}return e},l={_inContext:!1},o=(0,a.createContext)({state:l,dispatch:()=>{}}),c=e=>{let{children:t}=e,[n,r]=(0,a.useReducer)(s,{...l,_inContext:!0});return(0,i.jsx)(o.Provider,{value:{state:n,dispatch:r},children:t})},d=e=>t=>(0,i.jsx)(c,{children:(0,i.jsx)(e,{...t})})},69837:(e,t,n)=>{"use strict";n.d(t,{R:()=>j});var i=n(6029),a=n(53996),r=n(26420),s=n(21938),l=n(51684),o=n(48621),c=n(33170),d=n(77650),u=n(55729),p=n(27002),h=n(87996),g=n(25778),m=n(14122),x=n(89703),f=n(43634),b=n(29608),C=n(40452),y=n(67097),v=n(62171),w=n(50861),A=n(88889);let k=e=>{let{image:t}=e;if(t.src&&(0,w.Xs)(t))return(0,i.jsx)(A.h,{image:t,src:t.src});let{tempUrl:n,meta:a,src:r}=t||{},s=r&&(0,y.Ub)(r,y.p7,a),l=(0,y.QV)(s,s?void 0:n),o=(0,v.w3)(t);return(0,i.jsx)(C.s,{sx:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:l,backgroundPosition:o,width:"100%",aspectRatio:"1/1",objectFit:"contain",transitionProperty:"border-radius",transitionDuration:"normal",borderRadius:"calc(var(--box-border-radius) / 2)"}})};var L=n(62695);let j=e=>{let{image:t,iconSize:n,boxProps:u,number:p,selectCell:h,placeholderIfEmpty:g,isNumbered:x,textAlign:f,fontWeight:C,color:y="currentColor"}=e,{hasIcon:v,handleChangeIcon:w,isEditable:A}=E({image:t,selectCell:h}),L=g&&!v,j=x&&!v;return(0,i.jsx)(c.Tz,{placement:"top",label:v?d.Ru._({id:"yBP2Ki"}):d.Ru._({id:"zFIUaq"}),isDisabled:!A||j,children:(0,i.jsxs)(a.o,{className:(0,s.cx)("image"),h:"calc(1em * var(--line-height-heading))",w:"1em",fontSize:"".concat(n,"em"),fontWeight:C,textAlign:f,role:"group",pos:"relative","data-smart-layout-image-drop-target":"true",onClick:A&&!j?w:void 0,css:(0,m.t)(y),...u,children:[v?(0,i.jsx)(k,{image:t}):p?"".concat(p):null,(A&&!j||L)&&!(0,b.nr)()&&(0,i.jsx)(r.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!L,_groupHover:{opacity:1},pos:"absolute",fontSize:"0.8em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,i.jsx)(o.g,{icon:l.cCs,fixedWidth:!0})})]})})},E=e=>{let{image:t,selectCell:n,disableEditing:i}=e,a=(0,g.GV)(f.nD)&&!i&&n,r=(null==t?void 0:t.src)||(null==t?void 0:t.tempUrl),{setMediaDrawerSourceKeyAction:s}=(0,L.B)();return{hasIcon:r,handleChangeIcon:(0,u.useCallback)(e=>{e.stopPropagation(),null==n||n();let i=p.of.get("pictographicIconsSearch")?h.un.key:h.fo.key;s((null==t?void 0:t.source)||i,!0),setTimeout(()=>{(0,x.G)(!1)},30)},[n,s,null==t?void 0:t.source]),isEditable:a}}},69913:(e,t,n)=>{"use strict";n.d(t,{i:()=>l});var i=n(6029),a=n(99492),r=n(77650),s=n(74471);let l={key:"orientation",defaultValue:()=>"horizontal",Control:e=>{let{value:t,updateValue:n,option:r}=e;return(0,i.jsx)(s.I,{label:r.name(),onClick:()=>n("horizontal"===t?"vertical":"horizontal"),isActive:"vertical"===t,icon:"horizontal"===t?a.dmS:a.B0C,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:r.Ru._({id:"R56kJO"}),icon:"horizontal"===e?a.dmS:a.B0C,items:[{key:"horizontal",label:r.Ru._({id:"pzu7v4"}),icon:"horizontal"===e?a.e68:void 0,onClick:()=>t("horizontal")},{key:"vertical",label:r.Ru._({id:"mX/isJ"}),icon:"vertical"===e?a.e68:void 0,onClick:()=>t("vertical")}]}),name:()=>r.Ru._({id:"MRB7nI"}),validator:e=>"horizontal"===e||"vertical"===e}},70015:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var i=n(6029),a=n(99492),r=n(19564),s=n(83143);let l=e=>{let{editor:t,node:n,getPos:l,includeCut:o=!0,imageSrc:c}=e;return[...o?[{key:"cut",label:(0,i.jsx)(r.x6,{id:"cCd8Bs"}),icon:a.XGd,onClick:()=>{let e=l();"number"==typeof e&&t.commands.basicCut({from:e,to:e+n.nodeSize})}}]:[],{key:"copy",label:(0,i.jsx)(r.x6,{id:"he3ygx"}),icon:a.jPR,onClick:()=>{let e=l();"number"==typeof e&&t.commands.copy({from:e,to:e+n.nodeSize})}},...c?[{key:"copy-image-address",label:(0,i.jsx)(r.x6,{id:"XfEsUn"}),icon:a.CQO,onClick:()=>{navigator.clipboard.writeText(c)}},{key:"open-image-in-new-tab",label:(0,i.jsx)(r.x6,{id:"cOAVCo"}),icon:a.vMs,onClick:()=>{window.open(c,"_blank")}},{key:"download-image",label:(0,i.jsx)(r.x6,{id:"dhu12h"}),icon:a.cbP,onClick:()=>{(0,s.lE)(c)}}]:[]]}},70615:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var i=n(6029),a=n(49611),r=n(99492),s=n(48621),l=n(19564),o=n(55729),c=n(80180),d=n(74471);let u=e=>{let{editor:t,handleDelete:n,hasText:u=!1}=e,p=(0,o.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return u?(0,i.jsx)(a.$,{variant:"toolbar",onClick:n||p,color:"red.500",onMouseDown:c.Fw,size:"md",leftIcon:(0,i.jsx)(s.g,{icon:r.yLS}),children:(0,i.jsx)(l.x6,{id:"cnGeoo"})}):(0,i.jsx)(d.I,{label:(0,i.jsx)(l.x6,{id:"cnGeoo"}),icon:r.yLS,onClick:n||p,testId:"delete-node-button",color:"red.500"})}},70703:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var i=n(63867),a=n(5061),r=n(29608),s=n(67864);let l=(e,t,n,r)=>{let{view:l,state:c}=e;if(!t.dataTransfer||!r&&!(r=e.view.domAtPos(n).node))return;let{previewElement:d,xOffset:u,yOffset:p}=o(r,n,e);t.dataTransfer.clearData(),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",r.innerHTML),t.dataTransfer.setData("text/plain",r.textContent||"");let{width:h}=d.getBoundingClientRect(),g=(0,a.ix)()?h-u:u;t.dataTransfer.setDragImage(d,g,p);let m=i.nh.create(c.doc,n),x=m.content();l.dispatch(l.state.tr.setSelection(m)),l.dragging={slice:x,move:!0};let f=(0,s.Vo)({pos:n,editor:e,from:m.from,to:m.to});f&&requestAnimationFrame(()=>{var e;null!=(e=l.dragging)&&e.annotations||null!==l.dragging&&"object"==typeof l.dragging&&(l.dragging.annotations=f)})},o=(e,t,n)=>{let i=(()=>{let i=e.querySelector("[data-drag-preview]");return i&&n.view.posAtDOM(i,0)===t?i:e})(),{contentReference:a,scalePreview:s}=i.dataset,l=0,o=0;if((0,r.H8)()&&a){let[e,t]=a.split(",").map(parseFloat);isNaN(e)||isNaN(t)||(l=e,o=t)}if(c(),s){var d;let e=null!=(d=i.parentElement)?d:document.body;(i=i.cloneNode(!0)).dataset.isPreviewElement="1",i.style.position="absolute",i.style.bottom="-100vh",i.style.left="-100vw",e.appendChild(i);let{width:t,height:n}=i.getBoundingClientRect();(t>n?t:n)>250&&(i.style.maxWidth="".concat(250,"px"),i.style.maxHeight="".concat(250,"px"),i.style.aspectRatio="".concat(t,"/").concat(n)),document.addEventListener("drop",c,{once:!0}),document.addEventListener("dragend",c,{once:!0}),document.addEventListener("mouseup",c,{once:!0})}return{previewElement:i,xOffset:l,yOffset:o}},c=()=>{for(let t of document.querySelectorAll("[data-is-preview-element]")){var e;null==(e=t.parentNode)||e.removeChild(t)}}},70965:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,O:()=>a});var i=n(58495);let a=(0,i.d_)("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",16);function r(){return"chat-".concat((0,i.Ak)())}},71029:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});let i=e=>{var t;let{mutation:n}=e;return!!("attributes"===n.type&&(null==(t=n.attributeName)?void 0:t.startsWith("data-")))}},71093:(e,t,n)=>{"use strict";n.d(t,{zA:()=>P.z,Kc:()=>P.K,_M:()=>B,Gx:()=>z,$B:()=>W,RL:()=>Z});var i=n(6029),a=n(81150),r=n(15071),s=n(40452),l=n(58959),o=n(16936),c=n(26420),d=n(77650),u=n(77850),p=n(4014),h=n(76560),g=n.n(h),m=n(16419),x=n.n(m),f=n(55729),b=n(3912),C=n(28615),y=n(80180),v=n(29608);let w={type:"spring",duration:.5,bounce:0},A=(0,v.Xb)()?"0.75rem":"2.5rem";var k=n(72104),L=n(12514),j=n(70315),E=n(74158),S=n(4007),M=n(25778),I=n(7756),_=n(8944);let D=()=>{let e=(0,M.GV)(_.C),{inPreviewContext:t}=(0,I.$E)();return e&&!t};var R=n(11403);let T=(0,u.P)(c.a),z=e=>{let{children:t,isZoomed:n,exitZoom:a,editor:r}=e,l=(0,E.wA)(),u=D();(0,f.useEffect)(()=>{if(!u)return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>n&&["ArrowDown","ArrowUp"].includes(e.key)?(e.preventDefault(),!0):!!((0,j.v_)("Esc")(e)||(0,j.v_)("Enter")(e))&&!!n&&(a(),e.preventDefault(),e.stopPropagation(),!0))},[a,n,u]),(0,f.useEffect)(()=>{u||l((0,S.WI)({id:"zoomableOverlay",isOpen:n}))},[l,n,u]);let p=(0,f.useRef)(null);return((0,R.Vg)(()=>{if(null==r?void 0:r.isEditable)if(n){var e;null==(e=p.current)||e.focus()}else r.commands.focus()},[r,n],[n],!1),u)?null:(0,i.jsx)(L.Z,{children:n&&(0,i.jsxs)(c.a,{position:"fixed",inset:0,padding:A,zIndex:"modal",userSelect:"none",onClick:e=>{!(0,v.mG)()&&(e.target.closest(".image")||e.target.closest("[data-carousel-filmstrip]")||a())},onMouseDown:y.Fw,"data-in-editor-focus":!0,"data-testid":"zoomable-overlay",children:[(0,i.jsx)(T,{position:"absolute",inset:0,initial:{opacity:0},animate:{opacity:(0,v.Xb)()?.9:.86},transition:w,backgroundColor:"black"},"shade"),(0,i.jsx)(c.a,{position:"absolute",right:2,top:2,zIndex:"docked",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,i.jsx)(o.K,{"aria-label":d.Ru._({id:"8qZ5De"}),colorScheme:"whiteAlpha",color:"whiteAlpha.800",size:"md",onClick:a,onMouseDown:y.Fw,icon:(0,i.jsx)(k.U,{}),variant:"ghost",className:"exit-button",ref:p})}),(0,i.jsx)(s.s,{position:"relative",zIndex:"1",h:"100%",w:"100%",pt:"2.8rem",align:"center",justify:"center",direction:"column",css:{"--overlay-maxH":"calc(100vh - 2 * ".concat(A,")"),"--overlay-maxW":"calc(100vw - 2 * ".concat(A,")"),"--media-maxH":"var(--overlay-maxH)","--media-maxW":"var(--overlay-maxW)"},children:t})]})})},H=(0,u.P)(s.s),N="80px",B=e=>{let{children:t,zoomedId:n,isZoomComplete:u,setZoomedId:h,isZoomed:m,exitZoom:v,editor:k}=e,L=g()(t,e=>e.id===n),j=t[L],E=(0,f.useRef)(null),S=(0,f.useCallback)(()=>{h((t[L+1]||t[0]).id)},[L,t,h]),M=(0,f.useCallback)(()=>{h((t[L-1]||x()(t)).id)},[L,t,h]);return((0,f.useEffect)(()=>{if(m&&!(t.length<2))return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>{switch(e.key){case"ArrowLeft":return M(),!0;case"ArrowRight":return S(),!0;default:return!1}})},[v,m,h,t,L,S,M]),(0,f.useEffect)(()=>{if(E.current&&u){let e=E.current.querySelector('[data-thumb-id="'.concat(n,'"]'));null==e||e.scrollIntoView({inline:"center",behavior:"smooth"})}},[n,u]),C.D1)?null:(0,i.jsxs)(z,{isZoomed:m,exitZoom:v,editor:k,children:[(0,i.jsx)(s.s,{flex:1,w:"100%",justify:"center",align:"center","data-testid":"zoomable-carousel-expanded",pos:"relative",children:(0,i.jsx)(p.N,{children:j&&(0,i.jsx)(H,{css:{"--media-maxH":"calc(var(--overlay-maxH) - ".concat(N," - ").concat(A,")")},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},position:"absolute",transition:w,w:"100%",h:"100%",children:j.full},j.id)})}),t.length>1&&(0,i.jsx)(l.z,{w:"100vw",mt:A,px:A,gap:0,"data-carousel-filmstrip":!0,children:(0,i.jsxs)(s.s,{overflowX:"auto",width:"100%",justify:"center",align:"stretch",overflow:"hidden",children:[(0,i.jsx)(o.K,{icon:(0,i.jsx)(a.Y,{boxSize:"24px"}),"aria-label":d.Ru._({id:"MHk+7g"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:M,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",mr:2}),(0,i.jsx)(l.z,{spacing:1,onClick:y.dG,"data-testid":"zoomable-carousel-thumbnails",ref:E,overflow:"scroll",sx:{"::-webkit-scrollbar":{display:"none"}},children:t.map(e=>{let t=e.id===n;return(0,i.jsx)(c.a,{border:t?"2px solid white":"2px solid transparent",boxSizing:"content-box",borderRadius:"md",overflow:"hidden",onClick:()=>h(e.id),transitionProperty:"border",transitionDuration:"normal",h:N,css:{"--media-maxH":N,"--media-maxW":"200px",flexShrink:0},"data-thumb-id":e.id,cursor:"pointer",padding:"2px",_hover:{borderColor:!t&&"whiteAlpha.500"},children:(0,i.jsx)(c.a,{w:"100%",h:"100%",borderRadius:"sm",overflow:"hidden",children:e.thumbnail})},e.id)})}),(0,i.jsx)(o.K,{icon:(0,i.jsx)(r.v,{boxSize:"24px"}),"aria-label":d.Ru._({id:"EatZYJ"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:S,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",ml:2})]})})]})};var P=n(73737),F=n(43634);let V=e=>t=>(0,F.dK)(t)===e,O=e=>t=>{let n=(0,F.dK)(t);return n&&e.includes(n)?n:null},Z=e=>{let t=(0,E.wA)(),n=(0,M.GV)(V(e)),i=(0,f.useCallback)(n=>{t((0,F.a)({nodeId:n?e:null}))},[t,e]),a=(0,f.useCallback)(()=>i(!0),[i]),r=(0,f.useCallback)(()=>i(!1),[i]);return{isZoomed:n,setIsZoomed:i,enterZoom:a,exitZoom:r}},W=e=>{let t=(0,E.wA)(),n=(0,M.GV)(O(e)),i=!!n,a=(0,f.useCallback)(e=>{t((0,F.a)({nodeId:e}))},[t]),r=(0,f.useCallback)(()=>a(null),[a]),[s,l]=(0,f.useState)(i);return(0,f.useEffect)(()=>{let e;return i?e=window.setTimeout(()=>{l(!0)},1e3*w.duration):l(!1),()=>clearTimeout(e)},[i]),{isZoomed:i,isZoomComplete:s,zoomedId:n,setZoomedId:a,exitZoom:r}}},71514:(e,t,n)=>{"use strict";n.d(t,{q:()=>m});var i=n(6029),a=n(26420),r=n(55729),s=n(94920),l=n(25778),o=n(56760),c=n(33201);let d=e=>{let{contentComponent:t}=e,{state:{navItemPreviewRefMap:n}}=(0,s.U)(),a=(0,r.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,i.jsx)(i.Fragment,{children:Object.values(a).map(e=>{let t=e.children.props.node;if("document"===t.type.name)return null;let i=(0,c.jg)(t)?n[t.attrs.id]:null;return i?o.createPortal(e.children,i,e.key):e})})};var u=n(48767),p=n(43634);let h=r.memo(e=>{let{initialContent:t,onCreate:n,theme:a}=e,[s,o]=(0,r.useState)(!1),c=(0,l.GV)(p.SJ);return((0,r.useEffect)(()=>{requestAnimationFrame(()=>{o(!0)})},[]),s)?(0,i.jsx)(u.S,{theme:a||c,content:t,isThumbnail:!0,portalComponent:d,onCreate:n}):null});function g(e){let{initialContent:t,children:n,onCreate:r,theme:l}=e,{setEditor:o}=(0,s.U)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.a,{position:"absolute",left:"-9999px",top:"-9999px",children:(0,i.jsx)(h,{initialContent:t,theme:l,onCreate:e=>{let{editor:t}=e;o(t),null==r||r(t)}})}),n]})}function m(e){let{initialContent:t,children:n,onCreate:a,theme:r}=e;return(0,i.jsx)(s.h,{children:(0,i.jsx)(g,{initialContent:t,theme:r,onCreate:a,children:n})})}h.displayName="PreviewCardGroupEditor"},71737:(e,t,n)=>{"use strict";n.d(t,{I5:()=>u,NO:()=>p,PD:()=>d,eh:()=>c,ni:()=>l,o_:()=>h});var i=n(63867),a=n(17275),r=n(92397),s=n(47665);let l=(e,t)=>{var n;let i=e.state.doc.nodeAt(t);if(!i||(null==(n=i.lastChild)?void 0:n.type.name)==="cardNotes")return;let r=t+i.nodeSize-1,l={type:"cardNotes",content:[{type:"paragraph"}]};if(!(i.firstChild&&(0,s.sw)(i.firstChild)))return void e.chain().command(n=>{let{tr:i}=n;(0,a.c)(e,i,t,"blank");let s=i.mapping.map(r);return i.insert(s,e.schema.nodeFromJSON(l)),!0}).noUndo().run();e.chain().insertContentAt({from:r,to:r},{type:"cardNotes",content:[{type:"paragraph"}]},{updateSelection:!1}).noUndo().run()},o=e=>"cardNotes"===e.type.name,c=e=>null!==e.lastChild&&o(e.lastChild),d=e=>{let t=null;return e.nodeAfter.descendants((n,i)=>!o(n)||(t={node:n,pos:i+e.pos+1},!1)),t},u=(e,t)=>{let n=(0,r.hT)(e.state.doc,t);if(!n||!n.pos)return!1;let a=e.state.doc.resolve(n.pos).pos,s=a+n.node.nodeSize,{selection:l}=e.state,o=l instanceof i.U3?l.to<s:l.to<=s;return l.from>=a&&o},p=e=>"cardNotes"==e.schema.topNodeType.name,h=e=>{if(0===e.childCount)return!0;let t=!1;return e.content.nodesBetween(0,e.content.size,e=>!e.isAtom||!!e.isText||(t=!0,!1)),0===e.textContent.trim().length&&!t}},71839:(e,t,n)=>{"use strict";n.d(t,{L:()=>d,g:()=>u});var i=n(6029),a=n(37243),r=n(55729),s=n(29608),l=n(70703),o=n(23624),c=n(4097);class d extends a.Yv{stopEvent(e){return"contextmenu"!==e.type&&a.Yv.prototype.stopEvent.call(this,e)}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t,i=this.getPos();if(void 0===i)return!1;let a={type:"move",insertPos:i,insertPosRaw:i,pos:i,end:i+this.node.content.size+1};try{n.setNodeMarkup(i,void 0,{...this.node.attrs,...e}).setMeta("annotationEvent",a)}catch(e){console.error("(caught) [ReactNodeView updateAttributes]: setNodeMarkup",e)}return!0})}mount(){var e=this;let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateAttributes(t)},deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let n={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)},node:this.node,editor:this.editor,getPos:()=>this.getPos()},a=this.component,s=r.memo(e=>(0,i.jsx)(c.e.Provider,{value:n,children:r.createElement(a,e)}));s.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit",this.contentDOMElement.setAttribute("data-node-view-content-inner",this.node.type.name));let l=this.node.isInline?"span":"div";this.options.as&&(l=this.options.as);let{className:d=""}=this.options;this.renderer=new o.N(s,{editor:this.editor,props:t,as:l,className:"node-".concat(this.node.type.name," ").concat(d).trim(),attrs:this.options.attrs,updateWrapperEl:this.options.updateWrapperEl})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let i=this.node,a=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:i,oldDecorations:a,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}ignoreMutation(e){return!this.dom||!this.contentDOM||"function"==typeof this.options.ignoreMutation&&this.options.ignoreMutation({mutation:e})||this.defaultIgnoreMutation(e)}defaultIgnoreMutation(e){return!!(!this.dom||!this.contentDOM||this.node.isLeaf||this.node.isAtom||"selection"===e.type&&e.target.closest("[data-comments-wrapper]"))||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(0,s.OF)()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target))}onDragStart(e){let t=e.target,n=t.querySelector("[data-drag-handle]");if(n||(n=t.closest("[data-drag-handle]")),!this.dom||!n)return void e.preventDefault();try{let t=this.editor.view.posAtDOM(n,0);if(!t||-1==t||!this.editor.state.doc.nodeAt(t))return;(0,l.b)(this.editor,e,t,n)}catch(e){console.warn("(caught) [ReactNodeViewRenderer] onDragStart error moving annotations",e)}}}function u(e,t){return n=>n.editor.contentComponent?new d(e,n,t):{}}},72055:(e,t,n)=>{"use strict";let i;n.d(t,{CH:()=>S,sV:()=>L,C1:()=>k,o6:()=>v,CO:()=>h,ju:()=>I});var a=n(63867),r=n(97255),s=n(62040),l=n(74937),o=n(80102);function c(e,t,n){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(r,s)=>{let l=e.state,{to:o,from:c}=l.selection,{to:d,from:u}=r.selection;if(i&&d!==u)return!1;let p=t>0?d:u;if(n){let e=r.doc.nodeSize-2;if(t>0&&p<e||t<0&&p>0)return!1}return s&&(e.dispatch(l.tr.setSelection(a.U3.create(l.doc,t>0?o:c))),e.focus()),!0}}class d{destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(e,t){if(!e.sameMarkup(this._node))return!1;if(this._node=e,this._innerView){let t=this._innerView.state,n=e.content.findDiffStart(t.doc.content);if(null!=n){let i=e.content.findDiffEnd(t.doc.content);if(i){let{a:a,b:r}=i,s=n-Math.min(a,r);s>0&&(a+=s,r+=s),this._innerView.dispatch(t.tr.replace(n,r,e.slice(n,a)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(e){let t=this._getPos(),n=this._node.nodeSize;e.selection.from<t+n&&t<e.selection.to||(this.cursorSide=t<e.selection.from?"end":"start")}selectNode(){this._outerView.editable&&(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(e){return void 0!==this._innerView&&void 0!==e.target&&this._innerView.dom.contains(e.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let e=this._node.content.content,t="";if(e.length>0&&null!==e[0].textContent&&(t=e[0].textContent.trim()),t.length<1){for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();return}if(this.dom.classList.remove("empty-math"),!i){this._mathRenderElt.textContent=t;return}try{i.render(t,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(e){if(e instanceof Error)console.error(e),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",e.toString());else throw e}}dispatchInner(e){if(!this._innerView)return;let{state:t,transactions:n}=this._innerView.state.applyTransaction(e);if(this._innerView.updateState(t),!e.getMeta("fromOutside")){let e=this._outerView.state.tr,t=s.Lm.offset(this._getPos()+1);for(let i=0;i<n.length;i++){let a=n[i].steps;for(let n=0;n<a.length;n++){let i=a[n].map(t);if(!i)throw Error("step discarded!");e.step(i)}}e.docChanged&&this._outerView.dispatch(e)}}openEditor(){var e;this._innerView&&this.closeEditor(!1),this._innerView=new r.Lz(this._mathSrcElt,{state:a.$t.create({doc:this._node,plugins:[(0,l.w)({Tab:(e,t)=>(t&&t(e.tr.insertText("	")),!0),Backspace:(0,o.st)(o.ic,(e,t,n)=>!!e.selection.empty&&!(this._node.textContent.length>0)&&(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0)),"Ctrl-Backspace":(e,t,n)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:(0,o.st)(o.pC,c(this._outerView,1,!1)),"Ctrl-Enter":c(this._outerView,1,!1),ArrowLeft:c(this._outerView,-1,!0),ArrowRight:c(this._outerView,1,!0),ArrowUp:c(this._outerView,-1,!0),ArrowDown:c(this._outerView,1,!0),"Mod-z":this._options.undo,"Shift-Mod-z":this._options.redo})]}),dispatchTransaction:this.dispatchInner.bind(this)});let t=this._innerView.state;this._innerView.focus();let n=null==(e=this._mathPluginKey.getState(this._outerView.state))?void 0:e.prevCursorPos;null==n&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let i=(null!=n?n:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(t.tr.setSelection(a.U3.create(t.doc,i))),this._isEditing=!0}closeEditor(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._innerView&&(this._innerView.destroy(),this._innerView=void 0),e&&this.renderMath(),this._isEditing=!1}constructor(e,t,a,r={},s,l){n.e(4638).then(n.bind(n,57258)).then(e=>{i=e.default,this.renderMath()}),this._node=e,this._outerView=t,this._getPos=a,this._onDestroy=l&&l.bind(this),this._mathPluginKey=s,this.cursorSide="start",this._isEditing=!1,this._options=r,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},r.katexOptions),this._tagName=r.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}}let u=new a.hs("prosemirror-math");function p(e,t){return(n,i,a)=>{let r=u.getState(i.state);if(!r)throw Error("no math plugin!");let s=r.activeNodeViews,l=new d(n,i,a,{katexOptions:{displayMode:e,macros:r.macros},...t},u,()=>{s.splice(s.indexOf(l))});return s.push(l),l}}let h=e=>new a.k_({key:u,state:{init:(e,t)=>({macros:{},activeNodeViews:[],prevCursorPos:0}),apply:(e,t,n,i)=>({activeNodeViews:t.activeNodeViews,macros:t.macros,prevCursorPos:n.selection.from})},props:{nodeViews:{math_inline:p(!1,e),math_display:p(!0,e)}}});var g=n(94289);function m(e,t){return g.FK.from(t.text(e))}function x(e){var t;let n=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return null!=(t=null==n?void 0:n.getAttribute("alt"))&&t}function f(e){var t;let n=e.querySelector("math[alttext]");return null!=(t=null==n?void 0:n.getAttribute("alttext"))&&t}function b(e){var t;let n=e.querySelector("math annotation[encoding='application/x-tex'");return null!=(t=null==n?void 0:n.textContent)&&t}function C(e){var t=e,n=[x,f,b];for(let e of n){let n=e(t);if(!1!==n)return n}return!1}let y=[{tag:"span",getAttrs:e=>!!e.classList.contains("mwe-math-element")&&null,getContent:(e,t)=>m(C(e)||"\\text{\\color{red}(paste error)}",t)}];[...y],()=>["math-select",0];let v=(e,t)=>{let{$from:n}=e.selection,i=n.nodeBefore;if(!i)return!1;if("math_inline"==i.type.name){let i=n.index(n.depth),r=e.doc.resolve(n.posAtIndex(i-1));return t&&t(e.tr.setSelection(new a.nh(r))),!0}return i.type.name,!1};var w=n(46829);let A=/\$(.+)\$/;function k(e,t,n){return new w.fV(e,(e,i,a,r)=>{let s=e.doc.resolve(a),l=s.index(),o=e.doc.resolve(r),c=n instanceof Function?n(i):n;if(!s.parent.canReplaceWith(l,o.index(),t))return null;let d=[t.create(c,t.schema.text(i[1]))];return i[0].endsWith(" ")&&" "!==e.doc.textBetween(r,r+1)&&d.push(t.schema.text(" ")),e.tr.replaceWith(a,r,d)})}function L(e,t,n){return new w.fV(e,(e,i,r,s)=>{let l=e.doc.resolve(r),o=n instanceof Function?n(i):n;if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),t))return null;let c=e.tr.delete(r,s).setBlockType(r,r,t,o);return i[1]&&c.insertText(i[1],r,r),c.setSelection(a.nh.create(c.doc,c.mapping.map(l.pos-1)))})}(()=>{try{return RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch(e){return A}})();let j=e=>{let{from:t,to:n}=e.selection,i=e.selection.content().content,a=[];return i.descendants((e,n,i)=>"text"!=e.type.name&&(!e.type.name.startsWith("math_")||(a.push({start:Math.max(t+n-1,0),end:t+n+e.nodeSize-1}),!1))),r.zF.create(e.doc,a.map(e=>{let{start:t,end:n}=e;return r.NZ.node(t,n,{class:"math-select"})}))},E=new a.k_({state:{init:(e,t)=>j(t),apply:(e,t)=>e.selection&&e.selectionSet?j(e):t},props:{decorations:e=>E.getState(e)}});function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,i){let{$from:r}=n.selection,s=r.index();if(!r.parent.canReplaceWith(s,s,e))return!1;if(i){let s=e.create({},t?n.schema.text(t):null),l=n.tr.replaceSelectionWith(s);i(l=l.setSelection(a.nh.create(l.doc,r.pos)))}return!0}}class M{serializeFragment(e){let t,n="",i=!0,a=e.size;return e.nodesBetween(0,a,(e,r)=>{let s=this.serializeNode(e);if(null!==s)return n+=s,!1;if(e.isText){var l;n+=(null==(l=e.text)?void 0:l.slice(Math.max(0,r)-r,a-r))||"",i=!1}else e.isLeaf&&t?(n+=t,i=!1):!i&&e.isBlock&&(n+="\n\n",i=!0)},0),n}serializeSlice(e){return this.serializeFragment(e.content)}serializeNode(e){let t=this.nodes[e.type.name];return void 0!==t?t(e):null}constructor(e,t){this.nodes={...null==t?void 0:t.nodes,...e.nodes},this.marks={...null==t?void 0:t.marks,...e.marks}}}let I=new M({nodes:{math_inline:e=>"$".concat(e.textContent,"$"),math_display:e=>"\n\n$$\n".concat(e.textContent,"\n$$")}})},72492:(e,t,n)=>{"use strict";n.d(t,{RE:()=>a}),n(52445),n(17508),n(38822),n(22911),n(58450);let i=e=>{"card"===e.type&&e.attrs&&delete e.attrs.id},a=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content)return e;let n={...e,attrs:{...e.attrs}};return i(n),n.content=t(n),n})};return i(e),Object.assign({},e,{content:t(e)})}},72688:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>f,Jl:()=>x});var i=n(4765),a=n(37243),r=n(63867),s=n(62040),l=n(95889),o=n(38934),c=n(83817),d=n.n(c),u=n(43634),p=n(15607),h=n(33201);let g=e=>{let t=[],n={tree:{},parents:{},treeArray:[]};return e.doc.descendants((i,a)=>{if(!(0,h.jg)(i))return;let r=e.doc.resolve(a),s=i.attrs.id;t.push(s);let l=(0,p.TK)(r,h.jg).reverse().map(e=>{let{node:t}=e;return t.attrs.id}),o=[...l,s];o.reduce((e,t)=>(e[t]=e[t]||{},e[t]),n.tree),n.parents[s]=l,o.reduce((e,t)=>{let n=e.find(e=>e.id===t);return n?n.children:(e.push({id:s,children:[]}),e)},n.treeArray)}),{cardIds:t,cardIdMap:n}};class m{compute(e){let t=g(e);d()(this.value,t)||(this.hasChanges=!0);let n=t.cardIds.filter(Boolean),i=n.filter((e,t)=>n.includes(e,t+1));return this.duplicateCardIds=i.filter(e=>!this.duplicateCardIds.includes(e)),this.value=t,this}apply(e,t){return e.docChanged&&this.compute(t),this}processChanges(e){this.hasChanges&&this.value&&e((0,u.t0)(this.value)),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.duplicateCardIds=[],this.value=null}}let x=new r.hs("cardIds"),f=a.YY.create({name:"cardIds",priority:o.y.CardIds,addOptions:()=>({enabled:!0}),addProseMirrorPlugins(){return this.options.enabled?[new r.k_({key:x,state:{init:()=>new m,apply:(e,t,n,i)=>t.apply(e,i)},appendTransaction:(e,t,n)=>{var a;let r=x.getState(n);if(!(null==r||null==(a=r.value)?void 0:a.cardIds))return null;if(e.some(e=>e.docChanged)&&r.duplicateCardIds.length&&!this.editor.isThumbnail){let t={duplicateIds:JSON.stringify(r.duplicateCardIds),transactions:JSON.stringify(b(e)),isThumbnail:this.editor.isThumbnail};null===l.zS||void 0===l.zS||l.zS.track(l.ng.DUPLICATE_CARD_IDS,{...t}),i.Cp("[generateCardIdMap] Duplicate cardIds detected. This is unexpected and will cause spotlight issues. Additional metadata:",{extra:t})}return null}})]:[]}}),b=e=>e.map(e=>{let t=e.steps.map(e=>{if(e instanceof s.Ln||e instanceof s.Wg){var t,n,i;let a=(null==(n=e.slice.toJSON())||null==(t=n.content)?void 0:t[0])||{},r={type:a.type,attrs:a.attrs,contentLength:null==(i=a.content)?void 0:i.length};return{name:e.constructor.name,from:e.from,to:e.to,sliceContentSimple:r}}return e instanceof s.q4?{name:e.constructor.name,pos:e.pos,attr:e.attr}:{name:e.constructor.name}}),n=Object.fromEntries(Object.entries(e.meta).map(e=>{let[t,n]=e;if("annotationEvent"===t){var i,a,r,s,l;return[t,{type:n.type,droppedBlockPos:n.droppedBlockPos,dragging:{inBlockLength:null==(a=n.dragging)||null==(i=a.inBlock)?void 0:i.length,inCardLength:null==(s=n.dragging)||null==(r=s.inCard)?void 0:r.length,origNodePos:null==(l=n.dragging)?void 0:l.origNodePos}}]}return"uiEvent"===t?[t,n]:[t,"object"==typeof n?"object":n]}));return{stepsData:t,docChanged:e.docChanged,selection:{from:e.selection.from,to:e.selection.to},selectionSet:e.selectionSet,metaData:n}})},72725:(e,t,n)=>{"use strict";n.d(t,{D:()=>es});var i=n(6029),a=n(67909),r=n(36071),s=n(68728),l=n(17920),o=n(3674),c=n(96500),d=n(40691),u=n(57405),p=n(26385),h=n(74676),g=n(48810),m=n(49611),x=n(16426),f=n(61204),b=n(19564),C=n(16491),y=n(55729),v=n(91938),w=n(27002),A=n(58809),k=n(46091),L=n(25778),j=n(37605),E=n(24302),S=n(40452),M=n(29810),I=n(99492),_=n(48621);let D=e=>{let{formatLabel:t,icon:n,rightIcon:a=I.a_I,accentColor:r,onClick:s,exportInProgress:l,exportInProgressNote:o,badge:c,customLabel:d,customInProgressMessage:u}=e,h=(0,E.dU)("gray.50","whiteAlpha.100"),m=(0,E.dU)("gray.200","gray.600"),x=(0,E.dU)("".concat(r,".100"),"".concat(r,".200")),f=r.endsWith("00")?r:x,C=(0,E.dU)("gray.300","gray.600");return(0,i.jsxs)(S.s,{alignItems:"stretch",overflow:"hidden",onClick:s,borderRadius:"md",border:"1px",borderColor:(0,E.dU)("gray.200","gray.600"),bgColor:l?m:h,cursor:l?"progress":void 0,disabled:l,as:"button",transitionProperty:"common",transitionDuration:"normal",_hover:l?{}:{boxShadow:"var(--chakra-shadows-md)",borderColor:"inherit",color:"inherit"},children:[(0,i.jsx)(S.s,{bgColor:l?C:f,filter:l?"grayscale(1)":void 0,width:14,minWidth:14,minH:14,alignItems:"center",justifyContent:"center",fontSize:"2xl",children:n}),(0,i.jsxs)(p.B,{alignItems:"flex-start",spacing:0,p:4,justifyContent:"center",children:[!l&&(0,i.jsxs)(g.E,{fontWeight:"medium",children:[d||(0,i.jsx)(b.x6,{id:"i3Tbgc",values:{formatLabel:t}})," ",c]}),l&&(0,i.jsxs)(g.E,{fontWeight:"medium",textAlign:"start",children:[u||(0,i.jsx)(b.x6,{id:"wRvCQ6",values:{formatLabel:t}})," ",o]})]}),(0,i.jsx)(M.h,{}),!l&&(0,i.jsx)(S.s,{alignItems:"center",ps:4,pe:6,children:(0,i.jsx)(_.g,{icon:a,size:"1x"})})]})};var R=n(40076),T=n(4765),z=n(95889),H=n(46898),N=n(80314),B=n(77650);n(59018);var P=n(99038);n(43634);var F=n(29608);class V extends Error{constructor(e,t){super(e),this.code=t,this.name="AccountStateError"}}let O=(e,t)=>"".concat(v.$.API_HOST||"","/export/docs/").concat(e,"/").concat(t),Z=(e,t)=>"".concat(v.$.API_HOST||"","/share/docs/").concat(e,"/").concat(t),W=async function(e,t,n,i,a,r,s,l){let o=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,u=o?Z(e,d):O(e,n),p=new AbortController;return setTimeout(()=>p.abort(),6e4),fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":v.$.SHARE_TOKEN||""},body:JSON.stringify({docContent:t,fileName:a,cardIds:r,cardRanges:s,isCardExport:i,shareMessage:c,googleOauthToken:"google_slides"===n?l:void 0}),signal:p.signal})},U=e=>{let{doc:t,source:n,editor:a,format:r="pdf",formatLabel:s,fileName:l,cardIds:o,cardRanges:c,socialPost:d=!1,socialPlatform:u,shareMessage:p,interceptFileExport:h}=e,m=(0,H.d)(),x=(0,y.useRef)(null),f=(0,z.st)(),[C,v]=(0,y.useState)(!1);if(d&&!u)throw console.error("Unable to export since no social platform provided for the post"),Error("Unable to share post");let w=(0,y.useCallback)(()=>{x.current=m({id:"export-toast-".concat(t.id,"-").concat(r),isClosable:!1,position:"top",duration:null,status:"loading",colorScheme:"gray",title:d?(0,i.jsx)(b.x6,{id:"jQGAZQ",values:{formatLabel:s}}):(0,i.jsx)(b.x6,{id:"eWt/TT",values:{formatLabel:s}})})},[null==t?void 0:t.id,m,r,s,d]),A=(0,y.useCallback)(()=>{x.current&&m.update(x.current,{status:"loading",colorScheme:"gray",title:d?(0,i.jsx)(b.x6,{id:"iPHeYN"}):(0,i.jsx)(b.x6,{id:"eJOEBy"}),description:(0,i.jsx)(b.x6,{id:"3xBuWT"}),isClosable:!0})},[m,d]),k=(0,y.useCallback)(()=>{x.current&&m.update(x.current,{status:"info",colorScheme:"gray",title:(0,i.jsx)(b.x6,{id:"eJOEBy"}),description:d?(0,i.jsx)(b.x6,{id:"c5plBG"}):"google_slides"===r?(0,i.jsx)(b.x6,{id:"/CtF0l"}):(0,i.jsx)(b.x6,{id:"W4zgCP"}),isClosable:!0})},[m,d,r]),L=(0,y.useCallback)(e=>{if(x.current){let t,n;if(d)t="REVOKED_ACCESS_TOKEN"===e?(0,i.jsx)(b.x6,{id:"zK8Tsy",values:{formatLabel:s}}):(0,i.jsx)(b.x6,{id:"sBE71M",values:{formatLabel:s}});else switch(e){case"INSUFFICIENT_SPACE":t=(0,i.jsx)(b.x6,{id:"+ope9f",values:{formatLabel:s}});break;case"UPLOAD_TOO_LARGE":t=(0,i.jsx)(b.x6,{id:"HcLZqO",values:{formatLabel:s}}),n=(0,i.jsx)(b.x6,{id:"l8/GtM",values:{GAMMA_PROPER_NOUN:P.On,formatLabel:s}});break;default:t=(0,i.jsx)(b.x6,{id:"walT1X"})}m.update(x.current,{title:t,description:n,status:"error",duration:null,isClosable:!0})}},[m,s,d]),j=(0,y.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download";if(x.current){let a,r;switch(n){case"download":a=B.Ru._({id:"aVmJex",values:{formatLabel:s}}),r=(0,i.jsx)(b.x6,{id:"VkeGn4",components:{0:(0,i.jsx)(N.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>x.current&&m.close(x.current)})}});break;case"social":a=B.Ru._({id:"027pS1",values:{formatLabel:s,0:t.title}}),r=(0,i.jsx)(b.x6,{id:"nManvG",components:{0:(0,i.jsx)(N.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>x.current&&m.close(x.current)})}});break;case"web":a=B.Ru._({id:"eLTtkg"}),r=(0,i.jsx)(b.x6,{id:"8hY871",values:{formatLabel:s},components:{0:(0,i.jsx)(N.N,{textDecoration:"underline",target:"_blank",href:e||void 0})}})}m.update(x.current,{status:"success",title:a,description:(0,i.jsx)(g.E,{children:r}),isClosable:!0})}},[t,s,m]);return{handleExport:(0,y.useCallback)(()=>{let e=null==a?void 0:a.getJSON();v(!0),w();let i=setTimeout(A,3e4);null!=h&&h({format:r,exportWaitWarnTimeout:i,showErrorToast:L,showEmailToast:k,showSuccessToast:j,setExportInProgress:v})||W(t.id,e,r,"card_export_menu"===n,l,o,c,void 0,d,p,u).then(async e=>{var i;if(!e.ok){let t=await e.json();if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),"REVOKED_ACCESS_TOKEN"===t.error)throw new V("Posting to LinkedIn failed due to revoked access token",t.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let a="linkedin"===u?z.VV.LINKEDIN_POST:"pdf"===r?z.VV.PDF_EXPORTED:"pptx"===r?z.VV.PPTX_EXPORTED:"image"===r?z.VV.PNG_EXPORTED:void 0,s=decodeURIComponent(e.headers.get("x-gamma-download-url")||"")||void 0;if(d&&(s=(await e.json()).url),a&&(null==f||f.track(a,{doc_id:t.id,source:n,device:(0,F.ZI)(),...d&&{postUrl:s}})),j(s,d?"social":"download"),d)return;let l=await e.blob(),o=window.URL.createObjectURL(l),c=document.createElement("a");c.download=decodeURIComponent((null==(i=(e.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))?void 0:i.replace("filename=","").trim())||"".concat(t.id,".").concat(r)),c.href=o,c.style.display="none",document.body.appendChild(c),c.click(),c.remove()}).catch(e=>{"AbortError"===e.name?k():(T.Cp(e,{extra:{docId:t.id,format:r,source:n}}),R.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:r,source:n},e),L(null==e?void 0:e.code))}).finally(()=>{v(!1),clearTimeout(i)})},[f,null==t?void 0:t.id,a,n,r,l,h,o,c,p,L,w,A,k,j,u,d]),exportInProgress:C}},G=e=>{let{doc:t,source:n,editor:i,fileName:a,cardIds:r,cardRanges:s}=e,l="https://www.googleapis.com/auth/drive.file",o=(0,y.useRef)(null),c=(0,z.st)(),d=(0,C.mg)({scope:l,prompt:"",onSuccess:async e=>{let{showErrorToast:d,showEmailToast:u,showSuccessToast:p,setExportInProgress:h,exportWaitWarnTimeout:g}=o.current,m="";if(!(0,C.DY)(e,l))return void d();m=e.access_token;let x=null==i?void 0:i.getJSON(),f="google_slides";W(t.id,x,"google_slides","card_export_menu"===n,a,r,s,m).then(async e=>{let i=await e.json();if(!e.ok){if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),400===e.status)throw new V("Google drive upload failed",i.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let a=z.VV.GSLIDES_EXPORTED;a&&(null==c||c.track(a,{doc_id:t.id,source:n})),p(i.url,"web"),window.open(i.url,"_blank")}).catch(e=>{"AbortError"===e.name?u():(T.Cp(e,{extra:{docId:t.id,format:f,source:n}}),R.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:f,source:n},e),e instanceof V?d(e.code):d())}).finally(()=>{h(!1),clearTimeout(g)})}});return{interceptFileExport:e=>"google_slides"===e.format&&(o.current=e,d(),!0)}};var K=n(33787);let Q={pdf:{icon:(0,i.jsx)(K._,{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/pdf-icon.a0dfc5d3.svg",h:"1.35rem",w:"auto"}),accentColor:"red"},pptx:{icon:(0,i.jsx)(K._,{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/powerpoint-icon.2df39be4.svg",h:"1.5rem",w:"auto"}),accentColor:"orange"},png:{icon:(0,i.jsx)(K._,{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/png-icon.0a2f46dc.svg",h:"1.45rem",w:"auto"}),accentColor:"purple"},google_slides:{icon:(0,i.jsx)(K._,{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/google-slides-icon.a22064ae.svg",h:"1.6rem",w:"auto"}),accentColor:"yellow"},linkedin:{icon:(0,i.jsx)(K._,{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/linkedin-icon.314303f8.svg",h:"1.6rem",w:"auto"}),accentColor:"deepocean.900"}};var q=n(58959),J=n(99430),$=n(92437),Y=n(89528),X=n(74003),ee=n(42721);let et=e=>{let{onClose:t,onOpen:n,segmentEvent:a,targetWorkspace:r,label:s}=e,l=(0,$.nk)(r),{openUpsellModal:o}=(0,X.I)(),d=(0,E.dU)("gray.200","gray.600"),{currentWorkspace:u}=(0,ee.ur)();return!1!==l||(null==r?void 0:r.id)!==(null==u?void 0:u.id)?null:(0,i.jsxs)(S.s,{direction:"column",w:"100%",children:[(0,i.jsx)(c.c,{borderColor:d}),(0,i.jsxs)(q.z,{mt:4,mb:2,children:[(0,i.jsxs)(q.z,{children:[(0,i.jsx)(g.E,{children:s||(0,i.jsx)(b.x6,{id:"nkzjqi",values:{GAMMA_PROPER_NOUN:P.On}})}),(0,i.jsx)(Y.zL,{product:"plus"})]}),(0,i.jsx)(M.h,{}),(0,i.jsx)(J.d,{onClickCapture:e=>{e.preventDefault(),o({onOpenCallback:t,onCloseCallback:n,segmentEvent:a})},isChecked:!1})]})]})};var en=n(17928);let ei=e=>{let{cardId:t,format:n,doc:a,editor:r,icon:s,badge:l,accentColor:o,label:c}=e,{handleExport:d,exportInProgress:u}=U({doc:a,source:"card_export_menu",editor:r,format:n,formatLabel:c,cardIds:[t],interceptFileExport:void 0});return(0,i.jsx)(D,{onClick:d,icon:s,formatLabel:c,accentColor:o,badge:l,exportInProgress:u,exportInProgressNote:(0,i.jsx)(b.x6,{id:"SJjTti"})})},ea=e=>{let{cardId:t,doc:n,editor:a,icon:r,badge:s,accentColor:l,label:o}=e,{interceptFileExport:c}=G({doc:n,source:"card_export_menu",editor:a,fileName:n.title,cardIds:[t]}),{handleExport:d,exportInProgress:u}=U({doc:n,source:"card_export_menu",editor:a,format:"google_slides",formatLabel:o,cardIds:[t],interceptFileExport:c});return(0,i.jsx)(D,{onClick:d,icon:r,formatLabel:o,accentColor:l,badge:s,exportInProgress:u,exportInProgressNote:(0,i.jsx)(b.x6,{id:"SJjTti"})})},er=e=>"google_slides"===e.format?(0,i.jsx)(C.G_,{clientId:v.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,i.jsx)(ea,{...e})}):(0,i.jsx)(ei,{...e}),es=(0,k.A)(e=>{let{isOpen:t,onClose:n,onOpen:C,cardId:y,editor:v}=e,k=(0,L.GV)(A.Jo),E=(0,w.u)("googleSlidesExport");return(0,i.jsxs)(a.aF,{isOpen:t,onClose:n,size:"lg",children:[(0,i.jsx)(r.m,{}),(0,i.jsxs)(s.$,{children:[(0,i.jsx)(l.r,{children:(0,i.jsx)(b.x6,{id:"xRJ+bN"})}),(0,i.jsx)(o.s,{}),(0,i.jsx)(c.c,{}),(0,i.jsx)(d.c,{pt:"6",children:(0,i.jsxs)(u.T,{spacing:4,align:"start",children:[(0,i.jsxs)(p.B,{spacing:2,w:"100%",children:[(0,i.jsx)(er,{cardId:y,format:"image",label:"PNG",icon:Q.png.icon,accentColor:Q.png.accentColor,doc:k,editor:v}),(0,i.jsx)(er,{cardId:y,format:"pdf",label:"PDF",icon:Q.pdf.icon,accentColor:Q.pdf.accentColor,doc:k,editor:v}),(0,i.jsx)(er,{cardId:y,format:"pptx",label:"PPTX",icon:Q.pptx.icon,accentColor:Q.pptx.accentColor,doc:k,editor:v}),E&&(0,i.jsx)(er,{cardId:y,format:"google_slides",label:"Google Slides",icon:Q.google_slides.icon,accentColor:Q.google_slides.accentColor,badge:(0,i.jsx)(h.E,{colorScheme:"green",children:(0,i.jsx)(b.x6,{id:"isRobC"})}),doc:k,editor:v})]}),(0,i.jsx)(g.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(b.x6,{id:"8LhjM/",components:{0:(0,i.jsx)(m.$,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{n(),en.LF.emit(en.DN.OPEN_PAGE_SETUP,"cards")}})}})}),(0,i.jsx)(et,{onClose:n,onOpen:C,segmentEvent:j.VV.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,targetWorkspace:null==k?void 0:k.organization})]})}),(0,i.jsx)(x.j,{children:(0,i.jsx)(f.e,{children:(0,i.jsx)(m.$,{onClick:()=>{n()},children:(0,i.jsx)(b.x6,{id:"DPfwMq"})})})})]})]})})},73014:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>s,V6:()=>l});var i=n(37243),a=n(58450);let r=new Set(["bullet","numbered","todo","title","heading","paragraph","image","blockquote","embed","video"]),s=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,a.C)().map(e=>(null==t?void 0:t.includes(e.name))?e instanceof i.CU?e.extend({renderHTML:()=>["span",0]}):e.extend({renderHTML:()=>""}):e);return(0,i.Zx)(n||{},r)}return""},l=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,a.C)().map(e=>(null==t?void 0:t.includes(e.name))?(e instanceof i.CU,e.extend({renderText:()=>""})):e);return(0,i.Df)(n||{},r)}return""}},73071:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var i=n(55765),a=n.n(i),r=n(55729);class s{subscribe(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),()=>{try{if(!this.listeners[e])return;let n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}catch(e){}}}isRendered(e){return this.renderedMap[e]}onRendered(e){var t;this.renderedMap[e]=!0,null==(t=this.listeners[e])||t.forEach(e=>e())}onEditorUnload(e){this.renderedMap[e]=!1,this.listeners[e]=[]}constructor(){this.renderedMap={main:!1},this.listeners={}}}let l=a()(()=>new s),o=e=>{var t;let[n,i]=(0,r.useState)(void 0===e||null==(t=l().isRendered(e))||t);return(0,r.useEffect)(()=>{if(e)return l().subscribe(e,()=>{i(!0)})},[e]),n}},73326:(e,t,n)=>{"use strict";n.d(t,{KE:()=>C.KE,$Z:()=>d,$p:()=>g,VR:()=>x.V,nC:()=>o,Lz:()=>f.L,ec:()=>h.e,gu:()=>f.g,iI:()=>C.iI,hG:()=>b.h,cm:()=>h.c});var i=n(6029),a=n(55729),r=n(56760);let s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})}},l=e=>{let{contentComponent:t}=e,n=(0,a.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,i.jsx)(i.Fragment,{children:Object.values(n)})};class o extends a.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){let e=new Set,t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,i){t={...t,[n]:r.createPortal(i.reactElement,i.element,n)},e.forEach(e=>e())},removeRenderer(n){let i={...t};delete i[n],t=i,e.forEach(e=>e())}}}(),e.createNodeViews(),e.isEditorContentInitialized=!0,this.forceUpdate()}}componentWillUnmount(){let e=this.props.editor;if(!e||(e.isEditorContentInitialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,portalComponent:t,innerRef:n,...a}=this.props;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:s(n,this.editorContentRef),...a}),(null==e?void 0:e.contentComponent)&&(0,i.jsx)(this.portalComponent,{contentComponent:e.contentComponent})]})}constructor(e){super(e),this.editorContentRef=a.createRef(),this.portalComponent=e.portalComponent||l}}let c=(0,a.forwardRef)((e,t)=>{let n=a.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[e.editor]);return a.createElement(o,{key:n,innerRef:t,...e})});c.displayName="EditorContentWithKey";let d=a.memo(c);var u=n(63902),p=n(28613),h=n(4097);let g=e=>(0,u.oR)()?(0,i.jsx)(p.$,{...e}):(0,i.jsx)(m,{...e}),m=e=>{let t=e.as||"div",{nodeViewContentRef:n}=(0,h.c)();return(0,i.jsx)(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})};m.displayName="NodeViewContentCore";var x=n(91176),f=n(71839);n(23624);var b=n(57860);n(88077);var C=n(37243)},73737:(e,t,n)=>{"use strict";n.d(t,{K:()=>d,z:()=>u});var i=n(6029),a=n(26420);n(55729);var r=n(91938),s=n(25778),l=n(15607),o=n(43634),c=n(25600);let d=e=>{let{enterZoom:t,doubleClickNonZoomHandler:n,...l}=e,c=(0,s.GV)(o.nD),d=!c,u=c&&!n;return r.$.GAMMA_PUPPETEER_SERVICE?null:(0,i.jsx)(a.a,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:d?"zoom-in":"default",onDoubleClick:u?t:n,onClick:d?t:void 0,"data-testid":"zoom-click-capture","data-zoom-click-capture":!0,opacity:0,...l})},u=e=>{let{decorations:t,node:n,editor:r}=e,d=(0,c.DM)(t)||!(0,l.We)(r),u=(0,s.GV)(o.nD),{displayStyle:p}=n.attrs;return(0,i.jsx)(a.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:u&&!d&&"inline"===p?"auto":"none",cursor:"default"})}},73813:(e,t,n)=>{"use strict";n.d(t,{D0:()=>a,Hj:()=>s,cw:()=>r,hu:()=>o,kb:()=>i,md:()=>l});let i=75,a="".concat(i,"px"),r=10,s="navbar-view-backdrop",l="navbar-view-content",o="data-navbar-closed-toggle"},73845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var i=n(6029),a=n(40452),r=n(3276),s=n(57405),l=n(48810),o=n(16936),c=n(24302),d=n(26385),u=n(26420),p=n(58959),h=n(17496),g=n(29810),m=n(99492),x=n(55597),f=n(48621),b=n(33170),C=n(19564),y=n(77650),v=n(55729),w=n(57963),A=n(45004),k=n(24520),L=n(47956),j=n(90184),E=n(89942),S=n(25778),M=n(80180),I=n(36333),_=n(56706),D=n(6595),R=n(67097);let T=(0,v.memo)(e=>{let{onClick:t}=e;return(0,i.jsx)(o.K,{position:"absolute",top:"-12px",insetEnd:"-12px",boxSize:6,size:"xs",minW:"auto",p:0,opacity:0,_groupHover:{opacity:1,pointerEvents:"auto"},pointerEvents:"none",tabIndex:-1,transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",borderColor:"transparent",boxShadow:"md","aria-label":y.Ru._({id:"iVDkQl"}),icon:(0,i.jsx)(f.g,{icon:m.Jyw,fontSize:"14px"}),onClick:t})});T.displayName="CloseButton";let z=e=>{let{editorSelection:t,editor:n,onKeyDown:a,onRemove:r,ref:s}=e,o=(0,v.useCallback)(e=>{D.r.ensureCardInView({editor:n},e),n.commands.focus()},[n]),d={bg:(0,c.dU)("sky.50","elevation.6"),borderColor:(0,c.dU)("sky.200","gray.600"),_hover:{bg:(0,c.dU)("sky.100","elevation.5"),boxShadow:"sm"}},p=(0,c.dU)("deepocean.800","sky.50"),h=(0,c.dU)("deepocean.600","deepocean.300");return t?"image"===t.type?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(u.a,{ref:s,position:"relative",role:"group",tabIndex:0,onKeyDown:a,_focus:{outline:"1px solid",outlineColor:h,borderRadius:"md"},children:[(0,i.jsx)(R.Me,{draggable:!1,cursor:"pointer",src:t.attrs.src||"",alt:y.Ru._({id:"i5qRUs"}),w:14,objectFit:"cover",borderRadius:"md",border:"1px solid",...d,onMouseDown:e=>{e.preventDefault()},onClick:()=>{o(t.cardId)}}),(0,i.jsx)(T,{onClick:r})]})}):"text"===t.type&&t.length>0?(0,i.jsxs)(u.a,{position:"relative",role:"group",children:[(0,i.jsx)(u.a,{ref:s,w:20,p:"0.375rem",fontSize:".6rem",lineHeight:".75rem",borderRadius:"base",border:"1px solid",onMouseDown:e=>{e.preventDefault()},onClick:()=>{o(t.cardId)},cursor:"pointer",tabIndex:0,onKeyDown:a,_focus:{outline:"1px solid",outlineColor:h},...d,children:(0,i.jsx)(l.E,{fontSize:"xs",noOfLines:2,wordBreak:"break-all",color:p,children:t.text.slice(0,50)})}),(0,i.jsx)(T,{onClick:r})]}):null:null};var H=n(74676),N=n(33787),B=n(77850),P=n(71093),F=n(78663);let V=(0,B.P)(u.a),O=e=>{let{file:t,removeFile:n,boxSize:s}=e,{isZoomed:c,enterZoom:d,exitZoom:h}=(0,P.RL)(t.id),x=(0,v.useCallback)(()=>{t.isPdf||t.isUploading||d()},[t.isPdf,t.isUploading,d]);return(0,i.jsxs)(V,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},position:"relative",role:"group",flexShrink:0,children:[t.isPdf?(0,i.jsxs)(a.s,{boxSize:s,borderRadius:"md",border:"1px solid",borderColor:"gray.200",bg:"gray.50",display:"flex",flexDir:"column",p:2,children:[(0,i.jsx)(l.E,{fontSize:"xxs",fontWeight:"semibold",noOfLines:1,children:t.name}),(0,i.jsxs)(l.E,{fontSize:"xxs",mt:0,color:"gray.600",children:[((t.size||0)/1024).toFixed(0)," KB"]}),(0,i.jsx)(g.h,{}),(0,i.jsx)(p.z,{children:(0,i.jsx)(H.E,{fontSize:"xxs",colorScheme:"gray",children:"PDF"})})]}):(0,i.jsxs)(u.a,{position:"relative",children:[(0,i.jsx)(N._,{src:t.isUploading?t.src:(0,R.Ub)(t.src,R.p7),fallbackSrc:t.src,alt:t.name,boxSize:s,objectFit:"cover",borderRadius:"md",border:"1px solid",borderColor:"gray.200",opacity:t.isUploading?.6:1,cursor:t.isUploading?"default":"zoom-in",onClick:x}),!t.isUploading&&(0,i.jsx)(P.Gx,{isZoomed:c,exitZoom:h,editor:null,children:(0,i.jsx)(a.s,{justify:"center",align:"center",h:"100%",w:"100%",children:(0,i.jsx)(N._,{src:t.src,alt:t.name,maxW:"90vw",maxH:"90vh",objectFit:"contain"})})})]}),t.isUploading&&(0,i.jsx)(u.a,{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(r.y,{size:"sm",color:"deepocean.900"})}),!t.isUploading&&(0,i.jsx)(o.K,{opacity:0,_groupHover:{opacity:1},transitionProperty:"common",transitionDuration:"normal",position:"absolute",top:"-6px",insetEnd:"-6px",size:"xs",onClick:()=>n(t.id),"aria-label":y.Ru._({id:"cILfnJ"}),icon:(0,i.jsx)(f.g,{icon:m.Jyw})})]})},Z=e=>{let{uploadedFiles:t,removeFile:n,boxSize:a,...r}=e;return 0===t.length?null:(0,i.jsx)(F.W,{label:(0,i.jsx)(C.x6,{id:"XaxFx6",values:{0:t.length}}),icon:m.WMI,...r,children:t.map(e=>(0,i.jsx)(O,{file:e,removeFile:n,boxSize:a},e.id))})},W=e=>{let{isLoading:t,handleSubmit:n,handleStop:c,canStop:d,isDisabled:u,...p}=e,h=(0,E.ez)("unlimited_credits");return(0,i.jsxs)(a.s,{...p,children:[(0,i.jsx)(r.y,{boxSize:6,position:"absolute",zIndex:10,pointerEvents:"none",color:"deepocean.950",opacity:+!!t,transitionProperty:"common",transitionDuration:"normal"}),(0,i.jsx)(b.Tz,{placement:"top",label:d?(0,i.jsx)(s.T,{spacing:0,children:(0,i.jsx)(C.x6,{id:"ygCKqB"})}):(0,i.jsxs)(s.T,{spacing:0,children:[(0,i.jsx)(C.x6,{id:"9p1o+z"}),!h&&(0,i.jsx)(l.E,{color:"gray.400",children:(0,i.jsx)(j.G,{type:"imageChat",ms:0})}),(0,i.jsx)(b.iM,{shortcut:"Enter"})]}),children:(0,i.jsx)(o.K,{size:"xs",icon:d?(0,i.jsx)(f.g,{icon:x.APi}):(0,i.jsx)(f.g,{icon:x.fmP}),isDisabled:u,"aria-label":y.Ru._({id:"hQRttt"}),onClick:e=>{if(d){e.stopPropagation(),null==c||c();return}n()}})})]})},U=e=>{let{placeholder:t,onSubmit:n,onStop:r,inputRef:s,input:l,setInput:x,onUploadClick:j,isLoading:E,uploadedFiles:D,uploadFiles:R,removeFile:T,canSubmit:H,editor:N,isDisabled:B,hideSelection:P,actionGroups:F,onQuickAction:V,showChatSuggestions:O=!1}=e,U=(0,c.dU)("deepocean.100","gray.700"),G=(0,c.dU)("gray.200","gray.800"),K=(0,c.dU)("deepocean.600","deepocean.300"),Q=(0,c.dU)("white","elevation.1"),q=(0,c.dU)("rgba(255, 255, 255, 0.8)","rgba(0, 0, 0, 0.8)"),J=y.Ru._({id:"OHwVfR"}),$=(0,S.GV)(L.MR),Y=(0,v.useRef)(null),X=(0,k.G)({editor:N}),{onPaste:ee}=(0,A.SY)({uploadFiles:R}),{...et}=(0,A.jV)({uploadFiles:R});return(0,i.jsx)(a.s,{as:"form",onSubmit:e=>{e.preventDefault(),n()},direction:"column",children:(0,i.jsx)(d.B,{spacing:0,children:(0,i.jsx)(d.B,{...et,spacing:1,position:"relative",borderRadius:"lg",border:"2px solid",borderColor:B?G:U,transitionDuration:"normal",transitionProperty:"border-color","data-drop-text":J,sx:{"&:focus-within":{borderColor:K},"&.is-dragging-over":{"&::before":{content:"attr(data-drop-text)",position:"absolute",inset:0,bg:q,backdropFilter:"blur(8px)",borderRadius:"lg",pointerEvents:"none",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"lg",fontWeight:"semibold",color:"sky.600"}}},bg:Q,children:(0,i.jsxs)(u.a,{borderRadius:"md",border:"none",p:2,pt:2,position:"relative",children:[(0,i.jsxs)(p.z,{alignItems:"top",children:[!P&&(0,i.jsx)(z,{ref:Y,editorSelection:$,editor:N,onKeyDown:e=>{var t,n;"Delete"===e.key||"Backspace"===e.key?(e.preventDefault(),X(),null==(t=s.current)||t.focus()):"ArrowRight"===e.key&&(e.preventDefault(),null==(n=s.current)||n.focus())},onRemove:()=>{var e;X(),null==(e=s.current)||e.focus()}}),(0,i.jsx)(w._,{ref:s,placeholder:t||y.Ru._({id:"xOHKQG"}),value:l,onChange:e=>x(e.target.value),onKeyDown:e=>{if("Enter"!==e.key||e.shiftKey)("Backspace"===e.key||"ArrowLeft"===e.key)&&""===l&&$&&Y.current?(e.preventDefault(),Y.current.focus()):"Escape"===e.key&&E&&r&&(r(),e.preventDefault(),e.stopPropagation());else{var t;e.preventDefault(),null==(t=e.currentTarget.form)||t.requestSubmit()}},onPaste:ee,onMouseDown:M.dG,initialHeight:"30px",resizeOnMount:!1,fontSize:"sm",m:0,p:0,maxHeight:"16rem",overflowY:"auto",borderRadius:"none",border:"none",sx:{"&:focus":{border:"none",outline:"none",boxShadow:"none"},"&:disabled, &:disabled:hover":{bg:"transparent"}},bg:Q,_hover:{bg:"transparent"},_focus:{bg:"transparent"},isDisabled:B})]}),F&&F.length>0&&(0,i.jsx)(u.a,{my:2,children:(0,i.jsx)(I.O,{actionGroups:F,onQuickAction:V})}),(0,i.jsx)(h.S,{in:D.length>0,animateOpacity:!0,children:(0,i.jsx)(Z,{uploadedFiles:D,removeFile:T,my:2,boxSize:"4.5rem"})}),(0,i.jsxs)(p.z,{mt:2,zIndex:1,h:8,children:[(0,i.jsx)(b.Tz,{label:(0,i.jsx)(C.x6,{id:"ONWvwQ"}),isDisabled:B,placement:"top",children:(0,i.jsx)(o.K,{colorScheme:"gray","aria-label":"Upload files",size:"xs",icon:(0,i.jsx)(f.g,{icon:m.QLR}),onClick:j,isDisabled:B})}),O&&(0,i.jsx)(_.v,{isDisabled:!!B}),(0,i.jsx)(g.h,{}),(0,i.jsx)(W,{isLoading:E,handleSubmit:n,handleStop:r,canStop:E,isDisabled:!H&&!E||!!B,top:"1.5",insetEnd:"2",zIndex:10,spacing:2})]})]})})})})}},73867:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var i=n(6029),a=n(40452),r=n(26420),s=n(48810),l=n(33170),o=n(19564);n(55729);let c=e=>{let{createdByName:t,createdByProfileImageUrl:n,createdByYou:c,timestampDescription:d}=e;return(0,i.jsxs)(a.s,{align:"center",children:[(0,i.jsx)(l.Vc,{size:"xs",fontSize:"xs",name:t,src:n,tooltipProps:{placement:"top"}}),(0,i.jsxs)(r.a,{marginInlineStart:2,marginInlineEnd:2,w:"100%",children:[(0,i.jsx)(s.E,{noOfLines:1,fontSize:"xs",w:"100%",wordBreak:"break-all",children:c?(0,i.jsx)(o.x6,{id:"WZTg05"}):(0,i.jsx)(o.x6,{id:"pS1F3d",values:{createdByName:t}})}),d&&(0,i.jsx)(s.E,{noOfLines:1,fontSize:"11px",color:"gray.400",children:d})]})]})}},73971:(e,t,n)=>{"use strict";n.d(t,{k:()=>u,x:()=>p});var i=n(45214),a=n(68247),r=n(17006),s=n(39659),l=n(90026);let o=e=>{var t;return{"div.textbox":{display:"flex",flexDirection:"column",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)",textAlign:"var(--text-align)","--flex-align":"var(--horizontal-align)",height:"100%",...(0,a.dd)(e),fontSize:"".concat((null!=(t=e.config.fontSize)?t:1)*20,"px"),color:"var(--body-color)",".ProseMirror":{padding:"".concat(8,"px"),...c(e)}},foreignObject:{overflow:"visible","*":{wordWrap:"normal",whiteSpace:"pre-wrap"},"[data-autosize].textbox":{"> .text":{width:"max-content"}},"p.paragraph:empty::after":{content:'" "',whiteSpace:"pre",visibility:"hidden"},".textbox > .text":{padding:"".concat(8,"px"),width:"100%",alignItems:"var(--flex-align)",display:"block",...e.config.contentStyles,...d(e),".themed-heading":{position:"static"}}}}},c=e=>({lineHeight:1.4,letterSpacing:"var(--letter-spacing-body)",".block":{my:"1rem"},"> .first-block":{mt:"0rem"},"> .last-block":{mb:"0rem"},'.heading[level="1"], h1':(0,r.bh)("h1",e),'.heading[level="2"], h2':(0,r.bh)("h2",e),'.heading[level="3"], h3':(0,r.bh)("h3",e),'.heading[level="4"], h4':(0,r.bh)("h4",e),".block-heading":{mt:"1rem",mb:"1rem","&.first-block":{mt:"0rem"},"&.last-block":{mb:"0rem"}},...s.h.default,...l.H.default,...(0,r.tX)(e),"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline","&:hover":{color:"var(--text-color, var(--link-color))"},"&:active":{color:"var(--text-color, var(--link-color))"}},code:{backgroundColor:"var(--accent-color-background-muted)",color:"var(--body-color)",...s.w}}),d=e=>({lineHeight:1.4,"> *":{my:"1rem","&:first-child":{mt:"0rem"},"&:last-child":{mb:"0rem"}},h1:(0,r.bh)("h1",e),h2:(0,r.bh)("h2",e),h3:(0,r.bh)("h3",e),h4:(0,r.bh)("h4",e),"h1, h2, h3, h4":{mt:"1rem",mb:"1rem",width:"100% !important"}}),u=e=>({"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}},...{text:{fill:"var(--body-color)"},"[data-shape-type=geo]":{path:{...i.Re,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color))",vectorEffect:"none",strokeWidth:"var(--stroke-width)"},"&.tl-shape-background":{strokeWidth:0},".textbox":{padding:"12px"}},"[data-shape-type=arrow]":{"g, path":{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"},".tl-arrow-label":{color:"var(--shape-border-color-override, var(--body-color)) !important"},text:{fill:"var(--shape-border-color-override, var(--body-color))"}},"[data-shape-type=line]":{path:{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"}},"[data-shape-type=image]":{"[data-image-upload-status]":{".tl-image-container":{backgroundImage:"var(--temp-url)",objectFit:"cover",backgroundSize:"cover"}}},...o(e)}}),p=(e,t)=>(t&&"none"===e&&(e="sm"),({none:0,sm:2,md:4,lg:6})[e])},74355:(e,t,n)=>{"use strict";n.d(t,{CD:()=>c,IN:()=>l,Wp:()=>o,rZ:()=>d});var i=n(58495),a=n(25778),r=n(81089),s=n(43634);let l=(e,t,n)=>{e&&t&&e.replacePageContent(t.shapes,t.bindings,n)},o=(e,t)=>{e.setSetting("isSnapping",t),setTimeout(()=>{(0,r.lN)(e,t?128:10)})},c=(e,t)=>{(0,a.KA)().dispatch((0,s.v5)(t?{drawingId:e}:{drawingId:null}))},d=()=>(0,i.Ak)(5)},74471:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var i=n(6029),a=n(49611),r=n(48621),s=n(33170);n(55729);var l=n(56288),o=n(80180);let c=e=>{let{label:t,shortcut:n,disabled:s=!1,color:l,isActive:c=!1,onClick:u,icon:p,iconRotation:h,testId:g,children:m,flipIcon:x,...f}=e,b=(0,i.jsx)(a.$,{isDisabled:s,color:l,variant:c?"activeToolbar":"toolbar",onClick:u,"data-testid":g,onMouseDown:o.Fw,size:"sm",...f,children:p?(0,i.jsx)(r.g,{icon:p,rotation:h,flip:x,fixedWidth:!0}):m||null});return t?(0,i.jsx)(d,{label:t,shortcut:n,children:b}):b},d=e=>{let{label:t,shortcut:n,children:a}=e;return(0,i.jsx)(s.Tz,{placement:"top",portalProps:{containerRef:(0,l.EC)()},label:t,shortcut:n,children:a})}},75748:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var i=n(6029),a=n(24302),r=n(26385),s=n(26420),l=n(48810),o=n(51684),c=n(48621),d=n(19564),u=n(55729);let p={padding:{sm:4,md:4,lg:6},fontSize:{sm:"sm",md:"md",lg:"lg"},iconSize:{sm:"lg",md:"2x",lg:"3x"},labelFontSize:{sm:"xs",md:"sm",lg:"md"},spacing:{sm:1,md:2,lg:3}},h=(0,u.memo)(e=>{let{description:t,heading:n,isConnected:u=!0,size:h="lg",...g}=e,m=(0,a.dU)("gray.50","whiteAlpha.100");if(u)return null;let{spacing:x,padding:f,iconSize:b,fontSize:C,labelFontSize:y}=p;return(0,i.jsxs)(r.B,{spacing:x[h],p:f[h],borderRadius:"lg",bg:m,textAlign:"center",alignItems:"center",...g,children:[(0,i.jsx)(s.a,{opacity:.5,children:(0,i.jsx)(c.g,{icon:o.seF,size:b[h]})}),(0,i.jsx)(l.E,{fontWeight:"600",fontSize:C[h],mt:2,children:n||(0,i.jsx)(d.x6,{id:"ysdDIA"})}),(0,i.jsx)(l.E,{color:"gray.500",fontSize:y[h],children:t})]})});h.displayName="OfflineInfoBox"},76083:(e,t,n)=>{"use strict";n.d(t,{E1:()=>i.E1,GO:()=>r.G,Jb:()=>a.J,Vo:()=>i.Vo,fS:()=>a.f,gT:()=>i.gT});var i=n(91655),a=n(55786),r=n(52055)},76478:(e,t,n)=>{var i={"./ar/messages":[26994,6994],"./bg/messages":[27850,7850],"./bs/messages":[55086,5086],"./cs/messages":[68277,8277],"./da/messages":[18606,8606],"./de/messages":[30650,650],"./el/messages":[2360,2360],"./en/messages":[28066],"./es/messages":[58979,8979],"./et/messages":[4688,4688],"./fa/messages":[92400,2400],"./fi/messages":[17096,7096],"./fr/messages":[79871,9871],"./he/messages":[33006,3006],"./hi/messages":[51186,1186],"./hr/messages":[9461,9461],"./hu/messages":[36126,6126],"./id/messages":[34324,4324],"./it/messages":[22308,2308],"./ja/messages":[13308,3308],"./kn/messages":[37332,7332],"./ko/messages":[51865,1865],"./lt/messages":[8391,8391],"./lv/messages":[32829,2829],"./nl/messages":[25977,5977],"./no/messages":[11166,1166],"./pl/messages":[43603,3603],"./pseudo-LOCALE/messages":[30810,810],"./pt-br/messages":[73466,3466],"./ro/messages":[61266,1266],"./ru/messages":[98272,8272],"./sl/messages":[73910,3910],"./sq/messages":[85903,5903],"./sr/messages":[71312,1312],"./sv/messages":[27012,7012],"./th/messages":[39051,9051],"./tl/messages":[84823,4823],"./tr/messages":[85481,5481],"./uk/messages":[58107,8107],"./ur/messages":[27070,7070],"./uz/messages":[37430,7430],"./vi/messages":[94136,4136],"./zh-cn/messages":[29819,9819],"./zh-tw/messages":[1099,1099]};function a(e){if(!n.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then(()=>n.t(a,23))}a.keys=()=>Object.keys(i),a.id=76478,e.exports=a},76565:(e,t,n)=>{"use strict";n.d(t,{a:()=>O});var i=n(6029),a=n(68917),r=n(27229),s=n(89122),l=n(78140),o=n(36999),c=n(49611),d=n(58959),u=n(12514),p=n(41283),h=n(26420),g=n(83550),m=n(72470),x=n(77979),f=n(85595),b=n(48810),C=n(29810),y=n(51684),v=n(99492),w=n(55597),A=n(48621),k=n(33170),L=n(19564),j=n(77650),E=n(55729),S=n(57963),M=n(82328),I=n(90184),_=n(26814),D=n(92437),R=n(89528),T=n(74003),z=n(95889),H=n(8098),N=n(84130),B=n(35292),P=n(94844),F=n(11251),V=n(65273);let O=e=>{let{attrs:t,editor:n,label:h,selectImage:g,disableQuickActions:m=!1,...x}=e,f=(0,E.useRef)(null),b=(0,_.tO)(void 0,"imageChat",z.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),{isOpen:C,onClose:y,onToggle:v}=(0,r.j)();(0,s.j)({ref:f,handler:e=>{if(!C)return;let t=e.target;(null==t?void 0:t.closest("[data-image-chat-menu-trigger]"))||y()}});let S=(0,E.useRef)(null),I=(0,B.l)(t),{isInOfflineMode:D}=(0,M.u)(),{toggleBuddyChatPanel:R,isBuddyChatPanelOpen:T}=(0,P.n)(),F=(0,E.useCallback)(()=>{T||(R(),H.q.emit("hide",{}))},[T,R]),O=(0,E.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];g&&g(),b()&&(F(),e&&t?setTimeout(()=>{N.W.emit("sendMessage",{message:e})},200):setTimeout(()=>{N.W.emit("prefillMessage",{message:e||""})},200))},[b,F,g]),U=(0,E.useCallback)(e=>{O(e.message?e.message():e.label(),!e.openWithoutSendingMessage)},[O]),{suggestions:G,generateSuggestionsStatus:K}=(0,V.s)(t),Q=(0,E.useMemo)(()=>[...m?[]:[{label:()=>j.Ru._({id:"7kAwBx"}),key:"quick-actions",operations:Z}],{label:()=>j.Ru._({id:"nyQWMb"}),key:"suggested",operations:G.map(e=>({key:e,label:()=>e,creditCostType:"imageChat"})),loading:"generating"===K}],[G,K,m]);return I?(0,i.jsx)(k.L8,{isDark:!1,children:(0,i.jsxs)(l.W,{isLazy:!0,onClose:y,onOpen:v,isOpen:C,closeOnBlur:!1,initialFocusRef:S,children:[(0,i.jsx)(k.Tz,{label:(0,i.jsx)(L.x6,{id:"vKZEFh"}),placement:"top",isDisabled:!!h,shouldWrapChildren:!0,children:(0,i.jsx)(o.I,{as:c.$,isActive:C,isDisabled:D,"data-image-chat-menu-trigger":!0,...x,children:(0,i.jsxs)(d.z,{spacing:2,children:[(0,i.jsx)(A.g,{icon:w.p7g,fixedWidth:!0}),h,(0,i.jsx)(a.D,{})]})})}),(0,i.jsx)(u.Z,{children:(0,i.jsx)(p.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-image-chat-menu-trigger":!0,maxH:"60vh",display:"flex",flexDirection:"column",children:(0,i.jsx)(W,{handleMessage:O,handleOperation:U,onClose:y,firstItemRef:f,inputRef:S,isDisabled:D,pb:2,groupedOperations:Q,selected:t})})})]})}):null},Z=[{key:"chat",label:()=>j.Ru._({id:"LJNDI6"}),creditCostType:"imageChat",icon:y.Y$q,message:()=>"",openWithoutSendingMessage:!0},{key:"remove-bg",label:()=>j.Ru._({id:"ylbfBl"}),creditCostType:"removeBackground",icon:v.IP$,checkEnabled:F.d.removeBackground.checkEnabled},{key:"upscale",label:()=>j.Ru._({id:"OcutTC"}),creditCostType:"imageChat",icon:v.oZK,productFeature:"upscale_image",checkEnabled:F.d.upscale.checkEnabled},{key:"vectorize",label:()=>j.Ru._({id:"ZF+2pT"}),creditCostType:"imageChat",icon:v.nlc,productFeature:"vectorize_image",checkEnabled:F.d.vectorize.checkEnabled},{key:"animate",label:()=>j.Ru._({id:"2qLe/y"}),creditCostType:"animateImage",icon:v.OxR,productFeature:"animate_image",checkEnabled:F.d.animate.checkEnabled}],W=(0,E.memo)(e=>{let{handleMessage:t,handleOperation:n,onClose:a,firstItemRef:r,inputRef:s,isDisabled:l,showCreditCosts:o=!0,opacityFadeUpsell:c=!1,groupedOperations:u,selected:p,...y}=e,{openUpsellModal:v}=(0,T.I)(),k="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,i.jsxs)(h.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:c?{WebkitMaskImage:k,maskImage:k}:void 0,...y,children:[(0,i.jsx)(g.r,{children:(0,i.jsxs)(m.M,{size:"sm",mb:2,children:[(0,i.jsx)(x.W,{fontSize:"sm",color:"deepocean.300",children:(0,i.jsx)(A.g,{icon:w.p7g})}),(0,i.jsx)(S._,{initialHeight:"32px",ref:s,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:l,onKeyDown:e=>{var n,i;if(!l){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let n=null==(i=s.current)?void 0:i.value;if(!n)return;t(n),a()}"ArrowDown"===e.key&&(null==(n=s.current)?void 0:n.value.length)===0&&(e.preventDefault(),e.stopPropagation(),r.current&&r.current.focus())}},placeholder:j.Ru._({id:"vKZEFh"})})]})}),u.map((e,t)=>{let s=e.operations.filter(e=>!e.checkEnabled||e.checkEnabled(p));return s&&0!==s.length?(0,i.jsx)(g.r,{title:e.label(),children:s.map((e,s)=>{var l;let c=!e.productFeature||(0,D.vT)(e.productFeature);return(0,i.jsx)(f.D,{icon:(0,i.jsx)(A.g,{icon:null!=(l=e.icon)?l:w._$C,fixedWidth:!0}),onClick:()=>{if(!c)return void v({segmentEvent:z.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT});n(e),a()},ref:0===s&&0===t?r:void 0,children:(0,i.jsxs)(d.z,{children:[(0,i.jsx)(b.E,{children:e.label()}),(0,i.jsx)(C.h,{}),e.productFeature?(0,i.jsx)(R.Ch,{productFeature:e.productFeature,canUseFeature:c}):o&&(0,i.jsx)(I.G,{type:e.creditCostType,colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})},e.key)})},e.key):null})]})});W.displayName="ChatDropdownMenuGroups"},76694:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,z:()=>s});var i=n(55729),a=n(80180);let r="is-dragging-over",s=(e,t)=>{let n=(0,i.useCallback)(n=>{var i;(!t||t(n))&&(null==(i=e.current)||i.classList.add(r))},[e]),s=(0,i.useCallback)(()=>{var t;return null==(t=e.current)?void 0:t.classList.remove(r)},[e]);return{onDragOver:a.JO,onDragEnter:n,onDragLeave:s,onDrop:s}}},76765:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,_:()=>r});var i=n(17006),a=n(80274);let r=(e,t)=>{var n;let i=(0,a.o)(t);return(e&&null!=(n=i.mobileSize)?n:i.size)+.75},s=(e,t,n,s)=>{var l,o,c;let d=(0,a.o)(s),u="body"===d.type,p=t&&null!=(l=d.mobileSize)?l:d.size,h=null===n?0:r(t,n);return(h-p*(u||t?null!=(o=e.config.lineHeightBody)?o:i.Uw:null!=(c=e.config.lineHeightHeading)?c:i.eL))/2}},77249:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Z:()=>i});let i=(e,t)=>"".concat(e,"-").concat(JSON.stringify(t)),a=e=>{let[t,n]=e.split("-");return{key:t,options:JSON.parse(n)}}},77569:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(51684),a=n(77650);let r={label:()=>a.Ru._({id:"Mm6AFs"}),description:()=>a.Ru._({id:"oKMJNm"}),key:"video.custom",icon:i.qtl,keywords:["video","audio","podcast","embed"],iframeOptions:{allowPopups:!0},preferHtml:!0}},78294:(e,t,n)=>{"use strict";n.d(t,{b:()=>D});var i=n(6029),a=n(57405),r=n(96500),s=n(40452),l=n(49611),o=n(99492),c=n(48621),d=n(19564),u=n(55729),p=n(95889),h=n(77650),g=n(83550),m=n(58959),x=n(48810),f=n(29810),b=n(83743),C=n(82328),y=n(10500),v=n(33170),w=n(30892);let A=e=>{let{color:t,setColor:n=()=>{},isActive:a=!1,name:r,size:s=7,tooltipIsDisabled:o=!1}=e,c=(0,w.$p)(t)?"white":"black";return(0,i.jsx)(v.Tz,{label:r||t.toUpperCase(),placement:"top",isDisabled:o,children:(0,i.jsx)(l.$,{display:"inline-block",alignSelf:"center",boxSize:s,borderRadius:"md",border:"1px solid",borderColor:"blackAlpha.300",color:c,bgColor:null!=t?t:"#FFFFFF",onClick:()=>n(t),variant:"unstyled",minW:0,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",children:a&&(0,i.jsx)(y.S,{})})})},k=e=>{let{label:t,colors:n,setColor:a,currentColor:r,isDefault:s,handleAddColorButtonClick:o}=e,{isInOfflineMode:c}=(0,C.u)();return(0,i.jsx)(g.r,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.z,{px:"2",fontSize:"sm",w:"100%",justifyContent:"space-between",alignItems:"center",mb:"2",mt:+!!o,children:[(0,i.jsx)(x.E,{children:t}),(0,i.jsx)(f.h,{}),o&&(0,i.jsx)(l.$,{variant:"link",fontSize:"sm",onClick:o,isDisabled:c,children:(0,i.jsx)(d.x6,{id:"ePK91l"})})]}),(0,i.jsx)(b.r,{gap:1.5,columns:6,p:2,pt:0,children:n.map((e,t)=>{let{hex:n,name:l}=e;return(0,i.jsx)(A,{name:l,color:n,setColor:a,isActive:s?null===r:r===n},t)})})]})})},L=()=>[{key:"black",hex:"#000000",name:h.Ru._({id:"THokF3"})},{key:"dark-gray",hex:"#4D4D4D",name:h.Ru._({id:"uUMrFZ"})},{key:"gray",hex:"#808080",name:h.Ru._({id:"qS5//Q"})},{key:"light-gray",hex:"#CCCCCC",name:h.Ru._({id:"xa/b9m"})},{key:"white-smoke",hex:"#F2F2F2",name:h.Ru._({id:"rGj3KB"})},{key:"white",hex:"#FFFFFF",name:h.Ru._({id:"5Ex+AP"})},{key:"light-sun",hex:"#FCEC99",name:h.Ru._({id:"nOXj3q"})},{key:"peach",hex:"#FFD1A7",name:h.Ru._({id:"68+2yw"})},{key:"salmon",hex:"#FAA1A1",name:h.Ru._({id:"TrGQaZ"})},{key:"lavender",hex:"#D8AFF8",name:h.Ru._({id:"gc4DdH"})},{key:"baby-blue",hex:"#AFCBF8",name:h.Ru._({id:"+bmpN5"})},{key:"pale-green",hex:"#AEE4BD",name:h.Ru._({id:"hUOhvE"})},{key:"gold",hex:"#F9D933",name:h.Ru._({id:"FYlHHU"})},{key:"orange",hex:"#FFA44F",name:h.Ru._({id:"4OE5Sf"})},{key:"red",hex:"#F44444",name:h.Ru._({id:"wRTiSD"})},{key:"purple",hex:"#B05EF1",name:h.Ru._({id:"mF9LxA"})},{key:"blue",hex:"#5E98F1",name:h.Ru._({id:"Zn5crm"})},{key:"green",hex:"#5CC97B",name:h.Ru._({id:"VmkjGB"})},{key:"dark-goldenrod",hex:"#957D00",name:h.Ru._({id:"vWWr+k"})},{key:"brown",hex:"#995515",name:h.Ru._({id:"JLxwQS"})},{key:"maroon",hex:"#910D0D",name:h.Ru._({id:"cg4yu3"})},{key:"dark-purple",hex:"#5E208E",name:h.Ru._({id:"oqSDkM"})},{key:"midnight-blue",hex:"#204C8E",name:h.Ru._({id:"QCyMdk"})},{key:"forest-green",hex:"#1F7135",name:h.Ru._({id:"HVCLqF"})}],j=e=>{let{setColor:t,currentColor:n}=e;return(0,i.jsx)(k,{label:h.Ru._({id:"Zp2USm"}),colors:L(),setColor:t,currentColor:n})};var E=n(25778),S=n(51737),M=n(62452),I=n(43634);let _=e=>{let{setColor:t,currentColor:n,showAddColorButton:a=!0}=e,r=(0,E.GV)(I.SJ),s=(0,M.ND)(r,!0).map(e=>{let t=(0,M.Ik)(e);return{hex:t,key:t}});return(0,i.jsx)(k,{label:h.Ru._({id:"J1XRO3"}),colors:s,setColor:t,currentColor:n,...a?{handleAddColorButtonClick:()=>{r.workspaceId?(0,S.vd)({theme:r}):(0,S.L6)({theme:r})}}:{},addColorLabel:null===r.workspaceId?h.Ru._({id:"0TWTg2"}):h.Ru._({id:"TExCtI"})})},D=e=>{let{currentColor:t,setColor:n,unsetColor:h=()=>n(null),source:g,showAddColorButton:m=!0}=e,x=(0,p.st)(),f=(0,u.useCallback)(e=>{null==x||x.track(p.VV.COLOR_PICKER_SET_COLOR,{color:e,source:g}),n(e)},[n,x,g]),b=(0,u.useCallback)(()=>{null==x||x.track(p.VV.COLOR_PICKER_RESET,{source:g}),h()},[h,x,g]);return(0,p.JQ)(e=>{e.track(p.VV.COLOR_PICKER_OPENED,{source:g})},[g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.T,{divider:(0,i.jsx)(r.c,{}),p:0,align:"start",children:[(0,i.jsx)(_,{showAddColorButton:m,setColor:f,currentColor:t}),(0,i.jsx)(j,{setColor:f,currentColor:t})]}),(0,i.jsx)(s.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justifyContent:"center",mx:-2,mb:-2,mt:2,children:(0,i.jsx)(l.$,{onClick:b,variant:"link",size:"sm",colorScheme:"gray",leftIcon:(0,i.jsx)(c.g,{icon:o.U23}),children:(0,i.jsx)(d.x6,{id:"L+rMC9"})})})]})}},78663:(e,t,n)=>{"use strict";n.d(t,{W:()=>b});var i=n(6029),a=n(24302),r=n(26385),s=n(58959),l=n(49611),o=n(48810),c=n(26420),d=n(17496),u=n(40452),p=n(99492),h=n(48621),g=n(77850),m=n(4014),x=n(55729),f=n(5061);let b=e=>{let{children:t,label:n,icon:b,isCollapsedByDefault:C=!1,...y}=e,[v,w]=(0,x.useState)(!C),[A,k]=(0,x.useState)(!1),L=(0,f.fW)(),j=(0,x.useRef)(null),E=(0,x.useCallback)(()=>{let e=j.current;if(!e)return;let{scrollLeft:t,scrollWidth:n,clientWidth:i}=e,a=n-i;k(L?t<=-a:t>=a)},[k,L]),S=(0,x.useCallback)(()=>{w(e=>!e)},[w]),M=(0,a.dU)("white","elevation.3"),I=(0,a.dU)("gray.200","gray.600"),_=(0,a.dU)("gray.600","gray.300"),D=(0,a.dU)("rgba(255,255,255,1)","var(--chakra-colors-elevation-3z)"),R=(0,a.dU)("rgba(255,255,255,0)","rgba(26, 27, 29, 0.00)");return(0,i.jsxs)(r.B,{spacing:0,p:2,bgColor:M,border:"1px solid",borderColor:I,borderRadius:"md",...y,children:[(0,i.jsxs)(s.z,{as:l.$,spacing:1.5,variant:"unstyled",h:"auto",fontWeight:"normal",color:_,onClick:S,children:[(0,i.jsx)(h.g,{size:"sm",icon:b}),(0,i.jsx)(o.E,{as:"span",fontSize:"sm",children:n}),(0,i.jsx)(c.a,{as:"span",transform:v?"rotate(-180deg)":void 0,transition:"transform 0.2s",transformOrigin:"center",cursor:"pointer",marginStart:"auto",children:(0,i.jsx)(h.g,{size:"sm",icon:p.Jt$})})]}),(0,i.jsx)(d.S,{in:v,children:(0,i.jsxs)(c.a,{position:"relative",children:[(0,i.jsx)(s.z,{as:g.P.div,layout:!0,opacity:+!!v,spacing:2,pt:2,overflowX:"auto",ref:j,onScroll:E,children:(0,i.jsx)(m.N,{initial:!1,children:t})}),(0,i.jsx)(u.s,{position:"absolute",zIndex:1,pointerEvents:"none",opacity:+!A,transitionProperty:"opacity",transitionDuration:"normal",top:0,insetEnd:0,bottom:0,w:4,bg:L?"linear-gradient(90deg, ".concat(D," 50%, ").concat(R," 100%)"):"linear-gradient(-90deg, ".concat(D," 50%, ").concat(R," 100%)")})]})})]})}},78893:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var i=n(63867),a=n(55729),r=n(80835);n(90248);var s=n(46453),l=n(25778),o=n(43634);let c=e=>{let{contextMenuItems:t,editor:n,getPos:c}=e,d=(0,l.GV)(o.nD),u=(0,l.GV)(s.Du),p=(0,l.jL)(),{onContextMenu:h,menuProps:g}=(0,r.EF)(),{onClose:m,isOpen:x,position:f}=g,b=()=>{p((0,s.jD)()),m()},C=(0,a.useCallback)(e=>{if(!d)return;if(u)return void e.preventDefault();let t=c();"number"==typeof t&&(n.view.dispatch(n.view.state.tr.setSelection(i.nh.create(n.view.state.doc,t))),h(e))},[d,u,n.view,c,h]);return(0,a.useEffect)(()=>{if(!x)return void b();p((0,s.uP)({isOpen:!0,position:f,menuItems:t}))},[f,p,x]),{onOpenContextMenu:C}}},79018:(e,t,n)=>{"use strict";n.d(t,{dD:()=>r,x9:()=>c});var i=n(33750),a=n.n(i);let r=e=>{let{label:t,basis:n=100}=e,i=c(t);return i?a()(i/n,0,1):0},s=/[0-9,.]+/g,l=/[,.](?=\d{3})/g,o=/([0-9]+)\s?\/\s?([0-9]+)/g,c=e=>{if(e){if("number"==typeof e)return e;try{var t,n;let i=null==(t=e.match(o))?void 0:t[0];if(i){let[e,t]=i.split("/").map(e=>e.trim());return 100*parseFloat(e)/parseFloat(t)}let a=null==(n=e.match(s))?void 0:n[0],r=null==a?void 0:a.replaceAll(l,"");return r?parseFloat(r):void 0}catch(t){console.error("[SmartLayout] Failed to parse label number: ".concat(e),t);return}}}},79317:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});let i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.values(t.reduce((e,t)=>(t.forEach(t=>{e[t.key]=t}),e),{}))}},79649:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(43607),a=n(85158);let r=e=>{let{cellSize:t,horizontalAlign:n,orientation:r,numCells:s,containerSize:l,forceBalance:o}=e,c=(0,i.FX)(),{columns:d,lastRowAligner:u}=(0,a.X)({containerSize:l,numCells:s,cellSize:t,horizontalAlign:n,forceBalance:o});return"vertical"===r||c||s>1&&1===d?{columns:1,isHorizontal:!1}:{columns:d,isHorizontal:!0,lastRowAligner:u}}},80039:(e,t,n)=>{"use strict";n.d(t,{QP:()=>r,j1:()=>a,lI:()=>i});let i=e=>"middle"===e?"center":e,a=e=>({start:"left",middle:"center",end:"right"})[e],r=(e,t)=>{t&&Object.entries(t).forEach(t=>{let[n,i]=t;void 0!==i&&e.style.setProperty(n,i.toString())})}},80215:(e,t,n)=>{"use strict";n.d(t,{N_:()=>x,lQ:()=>b,mF:()=>f});var i=n(6029),a=n(78140),r=n(36999),s=n(49611),l=n(41283),o=n(37930),c=n(48478),d=n(48810),u=n(99492),p=n(48621),h=n(19564),g=n(45176),m=n(80180);let x=()=>({flex:{title:(0,i.jsx)(h.x6,{id:"oNVcTP"}),description:(0,i.jsx)(h.x6,{id:"HfsL0F"})},grid:{title:(0,i.jsx)(h.x6,{id:"fY+Mvd"}),description:(0,i.jsx)(h.x6,{id:"Ur6uwh"})},logo:{title:(0,i.jsx)(h.x6,{id:"iG7KNr"}),description:(0,i.jsx)(h.x6,{id:"hcTCev"})}}),f=(e,t,n,i)=>{let a="flex"===e&&t.thumbHeight<g.pg?g.pg:"grid"===e||"logo"===e?Math.round(t.thumbHeight):void 0;n.chain().updateAttributes("gallery",{layout:e,dimensions:"grid"===e?"square":void 0,stretchToFill:"flex"!==e&&void 0,...a&&{thumbHeight:a}}).setNodeSelection(i.from).focus().run()},b=e=>{let{selection:t,editor:n}=e,h=t.node.attrs,g=x(),b=Object.keys(g).includes(h.layout)?h.layout:"flex",C=g[b].title;return(0,i.jsxs)(a.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,strategy:"fixed",children:[(0,i.jsx)(r.I,{as:s.$,"data-testid":"display-style-dropdown",size:"sm",rightIcon:(0,i.jsx)(p.g,{fixedWidth:!0,icon:u.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:m.Fw,children:C}),(0,i.jsx)(l.c,{zIndex:2,maxW:"400px",children:(0,i.jsx)(o.i,{type:"radio",onChange:e=>f(e,h,n,t),value:h.layout,children:Object.entries(g).map(e=>{let[t,{title:n,description:a}]=e;return(0,i.jsxs)(c.k,{value:t,onMouseDown:m.Fw,"data-testid":"display-style-option-".concat(t),children:[(0,i.jsx)(d.E,{children:n}),(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",children:a})]},t)})})})]})}},80382:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var i=n(6029),a=n(27229),r=n(24302),s=n(48810),l=n(58959),o=n(49611),c=n(94740),d=n(66199),u=n(26420),p=n(12514),h=n(18078),g=n(25311),m=n(26385),x=n(19564),f=n(55729),b=n(96192),C=n(45004),y=n(24520),v=n(83916),w=n(88051),A=n(37605),k=n(73845),L=n(36333);let j=e=>{let{title:t,placeholder:n,trigger:j,placement:E="bottom-start",hideSelection:S,actionGroups:M,editor:I,clearSelectionOnOpen:_,selectImage:D,isOpen:R,onOpen:T,onClose:z,initiatingCardId:H}=e,{availableCredits:N,disabledReason:B}=(0,b.C)(),{isOpen:P,onOpen:F,onClose:V}=(0,a.j)(),[O,Z]=(0,f.useState)(""),W=(0,f.useRef)(null),U=(0,f.useCallback)(()=>{var e;null==(e=W.current)||e.focus()},[]),G=(0,y.G)({editor:I}),K=(0,f.useCallback)(()=>{_&&G(),T()},[G,_,T]),{uploadedFiles:Q,uploadFiles:q,openFilePicker:J,removeFile:$,resetFiles:Y,isUploading:X,hiddenFileInput:ee}=(0,C.E8)({focusInput:U}),et=(0,v.u)(),en=(0,f.useCallback)(()=>{Z(""),Y(),z()},[z,Y]),ei=(0,f.useMemo)(()=>!X&&(""!==O.trim()||Q.length>0),[O,X,Q.length]),ea=(0,f.useCallback)(()=>{ei&&(D&&D(),et({message:O,uploadedFiles:Q,context:{initiatingCardId:H}}),en())},[ei,H,O,en,D,et,Q]);(0,f.useEffect)(()=>{R&&requestAnimationFrame(()=>{var e;return null==(e=W.current)?void 0:e.focus()})},[R]);let er=(0,r.dU)("deepocean.950","gray.400"),es=(0,r.dU)("deepocean.950","gray.400"),el=(0,r.dU)("gray.600","gray.400"),eo=(0,r.dU)({border:"sky.100",bg:"white"},{border:"gray.700",bg:"elevation.1"}),ec=(0,f.useCallback)(async e=>{D&&D(),e.onQuickAction(et,e),en()},[en,D,et]),ed=(0,i.jsx)(L.O,{actionGroups:M,onQuickAction:ec,wrapProps:{spacing:2}}),eu=B?({stillStreaming:(0,i.jsx)(s.E,{fontSize:"xs",color:es,fontWeight:"semibold",children:(0,i.jsx)(x.x6,{id:"rtdKMi"})}),credits:(0,i.jsxs)(l.z,{children:[(0,i.jsx)(s.E,{fontSize:"xs",color:er,fontWeight:"semibold",children:(0,i.jsx)(x.x6,{id:"Cthpec"})}),(0,i.jsx)(o.$,{size:"xs",variant:"solid",onClick:()=>{F()},children:(0,i.jsx)(x.x6,{id:"6v0nlS"})})]}),contextWindow:(0,i.jsx)(s.E,{fontSize:"xs",color:"deepocean.950",fontWeight:"semibold",children:(0,i.jsx)(x.x6,{id:"EFVil9"})})})[B]:null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.A,{placement:E,isOpen:R,onOpen:K,onClose:z,closeOnBlur:!0,returnFocusOnClose:!0,children:[(0,i.jsx)(d.W,{children:(0,i.jsx)(u.a,{as:"span",display:"inline-flex",alignItems:"stretch",position:"relative",zIndex:1e3,pointerEvents:"auto",role:"button",tabIndex:0,"aria-haspopup":"dialog",onMouseDown:e=>{e.stopPropagation()},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),K())},children:j})}),(0,i.jsx)(p.Z,{children:(0,i.jsx)(h.h,{_focus:{boxShadow:"md"},borderColor:eo.border,bg:eo.bg,w:{base:"sm",md:"lg"},maxW:"calc(100vw - 2rem)",zIndex:1500,pointerEvents:"auto",children:(0,i.jsxs)(g.e,{children:[ee,(0,i.jsxs)(m.B,{children:[(t||eu)&&(0,i.jsxs)(l.z,{justify:"space-between",children:[t&&(0,i.jsx)(s.E,{fontSize:"xs",fontWeight:"semibold",color:el,children:t}),eu]}),(0,i.jsx)(k.Z,{isDisabled:null!==B,placeholder:n,editor:I,onSubmit:ea,inputRef:W,input:O,setInput:Z,onUploadClick:J,isLoading:X,uploadedFiles:Q,uploadFiles:q,removeFile:$,canSubmit:ei,hideSelection:S}),ed]})]})})})]}),(0,i.jsx)(w.m,{onClose:V,onOpen:F,isOpen:P,credits:N,segmentEvent:A.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_BUDDY_EDIT_DOOR})]})}},80387:(e,t,n)=>{"use strict";n.d(t,{_t:()=>l,fL:()=>r}),n(6029),n(48621),n(33170),n(38822),n(81278),n(55729),n(82328),n(89528);var i=n(6181);n(45143);var a=n(88586);let r=e=>{var t;let{currentWorkspace:n}=(0,i.ur)(),{data:r}=(0,a.Vl$)({variables:{id:null!=(t=null!=e?e:null==n?void 0:n.id)?t:""},skip:!e&&!(null==n?void 0:n.id)});return e?null==r?void 0:r.workspace:{...n,...null==r?void 0:r.workspace}};n(92437),n(74003),n(70006),n(40913),n(66897),n(831),n(95889),n(34823),n(11390),n(86025),n(46450),n(87827),n(23201),n(62997),n(26194),n(27002),n(88608),n(14322),n(32617),n(73689),n(2018),n(28843),n(25778),n(85443),n(19106),n(17899),n(84287),n(37605),n(79101);let s={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/nightsky-cropped.3b9ddb87.webp"};s.src,s.src,s.src,n(77650),a.aXG.Manage,a.aXG.Edit,a.aXG.Comment,a.aXG.View,n(87996),n(67097);let l=e=>!!(null==e?void 0:e.cancellationRequestedTime)},80738:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>az});var i=n(6029),a=n(26420),r=n(58959),s=n(33170),l=n(37243),o=n(63867),c=n(55729),d=n(46453),u=n(22249),p=n(25778),h=n(94922),g=n(19297),m=n(98968),x=n(73813),f=n(55424),b=n(61964),C=n(33201),y=n(54929),v=n(2426);let w=e=>{let t=(0,c.useRef)(null),n=(0,y.cq)(),{editor:a,tippyOptions:r,onHide:s,targetElement:l}=e;return(0,c.useEffect)(()=>{a&&a.commands.command(e=>{let{tr:i}=e;return i.setMeta(v.dX,{element:t.current,tippyOptions:r,panelLifecycle:n,onHide:s,targetElement:l}),!0})},[a,r,n,s,l]),(0,i.jsx)("div",{ref:t,className:e.className,style:{visibility:"hidden"},id:"gamma-formatting-bubble-menu",children:e.children})};var A=n(50861),k=n(43607),L=n(61204),j=n(78140),E=n(36999),S=n(49611),M=n(41283),I=n(99492),_=n(48621),D=n(19564),R=n(77650),T=n(7957),z=n(80180),H=n(92685),N=n(24813),B=n(74471);let P=e=>{let{editor:t,attrs:n,selection:a}=e,r=(0,T._w)(),l=r[n.variant],o=l?l.icon:I.jyJ;return(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[(0,i.jsx)(s.Tz,{placement:"top",label:(0,i.jsx)(D.x6,{id:"H8b4pf"}),"aria-label":R.Ru._({id:"H8b4pf"}),children:(0,i.jsx)(E.I,{as:S.$,variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:z.Fw,children:(0,i.jsx)(_.g,{icon:o})})}),(0,i.jsx)(M.c,{maxW:"auto",children:(0,i.jsxs)(L.e,{flex:"row",alignItems:"center",children:[Object.entries(r).map(e=>{let[r,{name:s,icon:l}]=e;return(0,i.jsx)(B.I,{label:s,icon:l,isActive:n.icon&&n.variant===r,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{variant:r,icon:!0}).selectNodeAtPos(a.from).run()}},s)}),(0,i.jsx)(H.q,{}),(0,i.jsx)(B.I,{label:n.icon?(0,i.jsx)(D.x6,{id:"Cs6LHm"}):(0,i.jsx)(D.x6,{id:"pjF2Hd"}),icon:I.Dfk,isActive:!n.icon,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{icon:!n.icon}).selectNodeAtPos(a.from).run()}},"icon")]})})]})};var F=n(35883),V=n(70615),O=n(46898),Z=n(48810),W=n(80314),U=n(32380),G=n(87386);let K=new(n(83747)).b;var Q=n(9922),q=n.n(Q);class J{constructor({key:e,description:t,classifyExamples:n,classifyReply:i,checkEnabled:a}){this.key=e,this.description=t,this.classifyExamples=n,this.classifyReply=i,this.checkEnabled=a}}class $ extends Error{constructor(e,t={}){super(e),this.opts=t}}$.prototype.name="DesignPartnerError";class Y extends ${constructor(e,t={}){super(e,t)}}Y.prototype.name="CouldNotApplySuggestionError";class X extends ${constructor(e,t={}){super(e,t)}}X.prototype.name="InvalidResponseError";class ee extends ${constructor(e,t={}){super(e,t)}}ee.prototype.name="NoopSuggestionError";class et extends ${constructor(e,t={}){super("InputTooLongError: ".concat(e),t)}}et.prototype.name="InputTooLongError";class en extends ${constructor(e,t={}){super("ParsedSuggestionError: ".concat(e),t)}}ee.prototype.name="ParsedSuggestionError";var ei=n(88586),ea=n(38907),er=n(2018),es=n(42721);let el=e=>!(0,ea.vI)(e).some(e=>["BAD_USER_INPUT"].includes(e)),eo=async e=>{let{fn:t,retries:n,backoff:i=1e3,timeout:a}=e;try{return await Promise.race([t(),new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout (".concat(a,"ms)"))),a)})])}catch(l){var r;let e=null==(r=l.message)?void 0:r.startsWith("Request timeout");e&&console.debug("[AI] Request timeout. Not retrying");let s=el(l)&&!e;if(n>0&&s)return await new Promise(e=>setTimeout(e,i)),eo({fn:t,retries:n-1,backoff:2*i,timeout:a});throw l}},ec=async e=>{var t;let n=await ed({messages:e.messages,maxTokens:null!=(t=e.params.maxTokens)?t:null,models:["gpt-3.5-turbo","gpt-3.5-turbo-16k"]});return{...e,params:{...e.params,model:n}}},ed=async e=>{var t;let{messages:n,maxTokens:i,models:a}=e,{data:r}=await (0,ei.H4n)().query({query:er.l3I,returnPartialData:!1,variables:{input:{messages:n,maxTokens:i,models:a}}}),s=null==r?void 0:r.canRunChatCompletion;if(!s||0===s.length)throw Error("No response received");let l=null==(t=s.find(e=>!!e.canRun))?void 0:t.model;if(!l)throw new et("Input too long for models: "+JSON.stringify(a));return l},eu=async function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:6e4,retries:0};return console.debug("[AI][fetchChatCompletion]",e.messages,e.params),eo({fn:()=>(0,ei.H4n)().mutate({mutation:er.aA3,variables:{input:{...e,workspaceId:(0,es.gx)()}}}).then(e=>{let{data:t}=e,n=null==t?void 0:t.chatCompletion;if(!n||0===n.length)throw Error("No response received");return console.debug("[AI] Got chat completion",n),t}),timeout:null!=(t=i.timeout)?t:6e4,retries:null!=(n=i.retries)?n:0})};var ep=n(12562);let eh=async function(e,t){var n,i;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ep.of.get("aiRequestRetries").chat;a.retries=null!=(i=a.retries)?i:r;let s=await eu({...e,interactionId:t},a);return null==s||null==(n=s.chatCompletion)?void 0:n[0].content};var eg=n(98701),em=n(45611),ex=n(92397),ef=n(15607),eb=n(94289);let eC=new o.hs("aiModifications");var ey=n(66607);let ev=(e,t)=>{if(!e.content||!e.content[0].content)return null;let n=e.content[0].content.find(e=>e.attrs&&e.attrs.id===t);return n?(e.content[0].content=[n],e):null},ew=(e,t)=>{let n=null;if("html"===t.type)n=(0,ey.S)(t.html,e.schema).slice;else if("json"===t.type){let i=eb.FK.fromJSON(e.schema,t.json);n=new eb.Ji(i,0,0)}else throw Error("Unsupported Modification content type ".concat(t.type));return n},eA=(e,t,n)=>{var i,a;let r=eC.getState(e.state);if(!r)return t;let s=(null==r?void 0:r.getExistingRangeId(e.state,n))||null;return s||(null==(i=(a=e.commands).setInteractionRange)||i.call(a,t,n),t)},ek=(e,t)=>{let n=eC.getState(e.state);return(null==n?void 0:n.getRange(e.state,t))||null};class eL{isApplied(e){let t=e.state.tr,n=null;try{n=this.transact(e,t,!1)}catch(e){return console.error("[isModificationActive] Could not transact modificatioon, returning false",e.message),!1}if(!n)return!1;let i=ek(e,this.rangeId);if(!i)return!1;try{let a=e.state.doc.slice(i.from,i.to),r=t.doc.slice(i.from,i.to),s=n.from===i.from&&n.to===i.to;return a.eq(r)&&s}catch(e){}return!1}getPreviewJson(e){let t=e.state.tr;this.transact(e,t);let n=this.getParentCardId(e,t);return ev(q()(t.doc.toJSON()),n)}getParentCardId(e,t){let n=ek(e,this.rangeId);if(!n)return null;let i=t.doc.resolve(n.from),a=(0,ef.IV)(i,C.jg)[0];if(!a)return null;let r=a.node.attrs.id;return r||null}apply(e){let t=e.state.tr;this.transact(e,t),console.debug("[ReplaceContentModification] Applying modification",{modification:this,range:ek(e,this.rangeId)}),e.view.dispatch(t);let n=this.getParentCardId(e,t);(0,ex.OM)({editor:e,cardId:n})}transact(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=ek(e,this.rangeId);if(!i)return null;let{state:a}=e;t.replace(i.from,i.to,this.slice).setMeta("applyingAiModification",{rangeId:this.rangeId});let r=t.mapping.map(i.to),s={from:i.from,to:r};if(n){if(a.selection.empty)return t.setSelection(o.LN.near(t.doc.resolve(i.from))),s;if(a.selection instanceof o.nh)return t.setSelection(o.nh.create(t.doc,i.from)),s;let e=o.U3.between(t.doc.resolve(i.from),t.doc.resolve(r));t.setSelection(e)}return s}getContentForTracking(){return this.content}constructor(e,t){this.type="replace-content",this.description=t.description,this.rangeId=t.rangeId,this.content=t.content,this.slice=ew(e,t.content)}}let ej=e=>Array.from(new DOMParser().parseFromString(e,"text/html").body.childNodes).some(e=>1===e.nodeType),eE=e=>e.slice(-7).map(e=>"User"===e.from?{role:"user",content:e.message}:e.isClassification?{role:"assistant",content:e.message}:e.resp?{role:"assistant",content:e.resp}:null).filter(e=>!!(null==e?void 0:e.content)),eS=()=>R.Ru._({id:"HNDdbS"});class eM extends J{async getResponseMessages(e){let{editor:t,context:n,rangeId:i,response:{raw:a,suggestion:r,message:s}}=e;if(!r)throw new X("[SuggestContentTask] No html provided in prompt response",{chatMessage:s,inputMessage:n.message,resp:a,interactionId:n.interactionId});let l=await (0,em.e)(r,{loadImages:!0});console.debug("[AIChat SuggestContentTask] modify suggestion",{transformedHtml:l,html:r});let o=new eL(t,{description:R.Ru._({id:"nyQWMb"}),content:{type:"html",html:l},rangeId:i}),c={label:R.Ru._({id:"nyQWMb"}),modification:o,jsonContentPreview:o.getPreviewJson(t)},d=this.getOriginalModifyContentSuggestion(t,n,i);return{messages:[{from:"Designer",type:"suggestContent",resp:a,message:s||R.Ru._({id:"pMSbe+"}),suggestions:[c,d],interactionId:n.interactionId}],suggestionToApply:c}}async runPrompt(e){let t,{input:n,context:i,variables:a,trackFns:r,retries:s=2,history:l}=e;if(this.jsxPrompt&&ep.of.get("aiChatJsx")){let{promise:e}=(0,eg.i4)({variables:{html:a.html,message:a.message,outline:a.outline,history:l.map(e=>({role:e.role===ei.VDI.Assistant?"assistant":"user",content:e.content||""}))},interactionId:i.interactionId,workspaceId:i.workspaceId,promptKey:this.jsxPrompt,opts:{timeout:ep.of.get("aiRequestTimeouts").suggestContent}});t=await e}else t=await eh(n,i.interactionId,{timeout:ep.of.get("aiRequestTimeouts").suggestContent});if(!t)throw new X("Couldn't get response from prompt",{resp:t,inputMessage:i.message,interactionId:i.interactionId});let o=this.parseResponse(t,a);if(o.shouldRetry){if(s<=0)throw new en("Could not parse response properly after retries",{chatMessage:eS(),inputMessage:i.message,resp:t,interactionId:i.interactionId});return r.trackRequestRetry({interactionId:i.interactionId,retriesRemaining:s,resp:t}),this.runPrompt({input:n,context:i,retries:s-1,trackFns:r,variables:a,history:l})}return{parsed:o,resp:t}}async run(e){let{editor:t,context:n,addMessage:i,history:a,trackFns:r,themeModificationController:s,provider:l}=e,{html:o,range:c}=this.determineTaskTarget(n.editorContext);r.trackInputContent({taskContext:n,inputContent:o});let d={message:n.message,html:o,outline:n.editorContext.outline},u=eA(t,n.interactionId,c),p=eE(a||[]),h=this.prompt.prepare({variables:d,history:p,interactionId:n.interactionId,params:{provider:l}});console.debug("[AIChat SuggestContentTask] run",{html:d.html,input:h,suggestHistory:p,range:ek(t,u)});let g=await ec(h),{parsed:m,resp:x}=await this.runPrompt({input:g,history:p,context:n,variables:d,trackFns:r,retries:1}),{messages:f,suggestionToApply:b}=await this.getResponseMessages({editor:t,context:n,rangeId:u,response:m,themeModificationController:s});console.debug("[AIChat SuggestContentTask] completed",{suggestion:m.suggestion,resp:x,parsed:m,messages:f,suggestionToApply:b}),this.autoApplySuggestion({context:n,editor:t,suggestionToApply:b,resp:x,trackFns:r,themeModificationController:s}),f.forEach(e=>i(e)),r.trackRequestComplete({taskContext:n,outputMessage:m.message,outputContent:m.suggestion,resp:x})}determineTaskTarget(e){return this.getTaskTarget?this.getTaskTarget(e):e.defaultRange}getOriginalModifyContentSuggestion(e,t,n){let i=new eL(e,{description:R.Ru._({id:"HxF6Fk"}),content:{type:"html",html:this.determineTaskTarget(t.editorContext).html},rangeId:n});return{label:R.Ru._({id:"HxF6Fk"}),modification:i,jsonContentPreview:i.getPreviewJson(e)}}autoApplySuggestion(e){let{context:t,editor:n,suggestionToApply:i,resp:a,trackFns:r,themeModificationController:s}=e;if(i){if(i.modification.isApplied(n,s))throw console.debug("[SuggestContentTask] suggestion does not change the content",i),new ee("Suggestion does not change content",{resp:a,interactionId:t.interactionId,chatMessage:eS()});try{let{modification:e}=i;e.apply(n,s),r.trackSuggestionApplied({interactionId:t.interactionId,suggestionContent:e.getContentForTracking(),suggestionLabel:e.description,suggestionType:e.type,autoApplied:!0})}catch(e){throw new Y("Could not apply suggestion",{interactionId:t.interactionId})}}}constructor(e){super(e),this.prompt=e.prompt,this.jsxPrompt=e.jsxPrompt,this.parseResponse=e.parseResponse||e_,this.getTaskTarget=e.getTaskTarget}}let eI=RegExp("(.*?)```[A-Za-z]*\\n(.*?)\\n```(.*?)$","ims"),e_=e=>{let t,n=e.match(eI),i=[];if(n)i=[n[1],n[3]],t=n[2];else{let n=e.split("```");if(0===n.length)throw Error("Could not extract code from response");if(1===n.length)return ej(n[0])?{suggestion:void 0,raw:e,message:e,shouldRetry:!0}:{suggestion:void 0,raw:e,message:e.replaceAll(/(HTML|code)/gi,"content")};i=[n[0]],t=n[1].trim()}return{suggestion:t,message:i.map(e=>e.trim()).filter(e=>e.length>0).join("\n\n").replaceAll(/(HTML|code)/gi,"content").replaceAll(/(slide)/gi,"card"),raw:e}},eD={model:"gpt-3.5-turbo-1106",provider:ei.eON.Azure};class eR{prepare(e){let{variables:t,history:n=[],params:i}=e;return{messages:[this.getSystemChatMessage(t),...n,this.getUserChatMessage(t)],params:{...this.params,...i}}}constructor({params:e}){this.params={...eD,...e}}}class eT extends eR{getSystemChatMessage(e){return{role:ei.VDI.System,operation:this.systemPromptOperation,variables:e}}getUserChatMessage(e){return{role:ei.VDI.User,operation:this.userPromptOperation,variables:e}}constructor({variables:e,systemPromptOperation:t,userPromptOperation:n,params:i}){super({params:i}),this.variables=e,this.systemPromptOperation=t,this.userPromptOperation=n}}new eM({key:"CHANGE_LAYOUT",description:"Change the display of information to use a different layout (like timeline, bullets, boxes, columns, table) or rearrange elements within a layout",classifyExamples:["turn this into a table","make each bullet into a box","could you split this into columns?","make this a timeline","could you make this more visual?","visualize this as a timeline"],classifyReply:"Sure, I'll start reformatting this as a table...",getTaskTarget:e=>"selectionRange"!==e.selectedDefaultRange?e.defaultRange:0===e.selectionRange.html.trim().length?e.cardContent:e.blockRange,prompt:new eT({systemPromptOperation:ei.mc.ChangeContentLayoutSystem,userPromptOperation:ei.mc.ChangeContentLayoutUser,variables:["html","message"],params:{temperature:.7,maxTokens:1e3}})});var ez=n(80116);n(17859),n(48993);var eH=n(82328),eN=n(65280),eB=n(27002),eP=n(22445),eF=n(11235),eV=n(72725),eO=n(89884),eZ=n(16936),eW=n(35292),eU=n(76565),eG=n(40268),eK=n(98071),eQ=n(27246),eq=n(52762),eJ=n(67097),e$=n(68917),eY=n(27229),eX=n(55597),e0=n(65273),e1=n(11251),e2=n(80382),e3=n(95889);let e5=e=>{let{attrs:t}=e,{suggestions:n}=(0,e0.s)(t);return(0,c.useMemo)(()=>[{key:"quick-actions",label:()=>R.Ru._({id:"7kAwBx"}),operations:[{key:"remove-bg",label:()=>R.Ru._({id:"ylbfBl"}),creditCostType:"removeBackground",icon:I.IP$,checkEnabled:()=>!e1.d.removeBackground.checkEnabled||e1.d.removeBackground.checkEnabled(t),onQuickAction:e=>{e({message:R.Ru._({id:"42ujz4"})})}},{key:"upscale",label:()=>R.Ru._({id:"OcutTC"}),creditCostType:"imageChat",icon:I.oZK,productFeature:"ai_models_plus",upsellModalSegmentEvent:e3.VV.GAMMA_PRO_UPSELL_CALLOUT_BUDDY_IMAGE_EDIT,checkEnabled:()=>!e1.d.upscale.checkEnabled||e1.d.upscale.checkEnabled(t),onQuickAction:e=>{e({message:R.Ru._({id:"GCpteZ"})})}},{key:"vectorize",label:()=>R.Ru._({id:"ZF+2pT"}),creditCostType:"imageChat",icon:I.nlc,productFeature:"vectorize_image",upsellModalSegmentEvent:e3.VV.GAMMA_PRO_UPSELL_CALLOUT_BUDDY_IMAGE_EDIT,checkEnabled:()=>!e1.d.vectorize.checkEnabled||e1.d.vectorize.checkEnabled(t),onQuickAction:e=>{e({message:R.Ru._({id:"D9i9Zm"})})}},{key:"animate",label:()=>R.Ru._({id:"2qLe/y"}),creditCostType:"animateImage",icon:I.OxR,productFeature:"animate_image",upsellModalSegmentEvent:e3.VV.GAMMA_PRO_UPSELL_CALLOUT_BUDDY_IMAGE_EDIT,checkEnabled:()=>!e1.d.animate.checkEnabled||e1.d.animate.checkEnabled(t),onQuickAction:e=>{e({message:R.Ru._({id:"B3oBCQ"})})}}]},{key:"suggested",label:()=>R.Ru._({id:"nyQWMb"}),operations:n.map(e=>({key:e,label:()=>e,onQuickAction:t=>{t({message:R.Ru._({id:"ZI5Cdm",values:{s:e}})})}}))}],[n,t])},e4=e=>{let{editor:t,attrs:n,buttonProps:a}=e,{isOpen:l,onOpen:o,onClose:c}=(0,eY.j)(),d=e5({attrs:n});return(0,i.jsx)(e2.A,{title:R.Ru._({id:"b0eJco"}),placeholder:R.Ru._({id:"wm/Yby"}),hideSelection:!0,editor:t,isOpen:l,onOpen:o,onClose:c,trigger:(0,i.jsx)(s.Tz,{label:(0,i.jsx)(D.x6,{id:"vKZEFh"}),placement:"top",shouldWrapChildren:!0,children:(0,i.jsx)(eZ.K,{"aria-label":R.Ru._({id:"vKZEFh"}),icon:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(_.g,{icon:eX.p7g}),(0,i.jsx)(e$.D,{})]}),variant:"toolbar",size:"sm",onClick:()=>{},pe:2,ps:2,...a})}),placement:"bottom",actionGroups:d})},e6=e=>{let{editor:t,selection:n,decorations:a}=e,{node:r,from:l}=n,o=r.attrs,d=(0,eQ.Bn)(a),u=(0,eK.jh)(o,null==d?void 0:d.layout),p=(0,c.useCallback)(e=>{l&&t.commands.updateAttributesAtPos(l,{fitType:e})},[t,l]),h="fit"===u;return(0,i.jsx)(s.Tz,{label:h?(0,i.jsx)(D.x6,{id:"sShDhp"}):(0,i.jsx)(D.x6,{id:"VPxUGR"}),placement:"top",children:(0,i.jsx)(eZ.K,{variant:h?"activeToolbar":"toolbar",size:"sm",icon:(0,i.jsx)(_.g,{icon:I.GZ1}),onClick:()=>p(h?"fill":"fit"),boxSize:7,p:0,my:0,"aria-label":R.Ru._({id:"l1XNCT"}),isActive:h})})};var e9=n(89122),e7=n(94740),e8=n(59272),te=n(18078),tt=n(25311),tn=n(80074),ti=n(33787),ta=n(33750),tr=n.n(ta),ts=n(50333),tl=n.n(ts),to=n(74158),tc=n(1558),td=n(56603),tu=n(16595);let tp=e=>{let[t,n]=(0,c.useState)(null);return(0,c.useEffect)(()=>((()=>{let t=new Image;t.src=e,t.onload=()=>{let{naturalWidth:e,naturalHeight:i}=t;n(e/i)}})(),()=>{n(null)}),[e]),t},th=(e,t,n)=>{let i=e.view.domAtPos(t);if(!i)return;let{node:a,offset:r}=i,s=a.childNodes[r].querySelector("[data-change-focus-point-el]");s&&(s.style.backgroundPosition=n?"".concat(n.x,"% ").concat(n.y,"%"):"")},tg=e=>{var t;return null==(t=(0,tu.um)(e))?void 0:t.backgroundPos},tm=(e,t,n)=>{if(!t||!n)return;let i=(0,td.d_)(e.state,n);if(!i)return void console.error("ChangeFocusPoint - relative pos is null");th(e,i,null);let a=e.state.doc.nodeAt(i);if(!a)return;let r=(0,tu.um)(a),s=(0,tu.wH)(a,{...r,backgroundPos:t});e.commands.updateAttributesAtPos(i,s)},tx=e=>{let{editor:t,pos:n,node:i,isOpen:a}=e,r=(0,c.useRef)(null),s=(0,c.useRef)(null),l=(0,c.useRef)(null),[o,d]=(0,c.useState)(!1),u=(0,c.useRef)(void 0),p=(0,c.useCallback)(e=>{let i=r.current;if(i){if(u.current=e,!e){i.style.left="calc(50% - 10px)",i.style.top="calc(50% - 10px)",d(!1);return}i.style.left="calc(".concat(e.x,"% - 10px)"),i.style.top="calc(".concat(e.y,"% - 10px)"),th(t,n,e),d(50!==e.x||50!==e.y)}},[t,n]);(0,c.useEffect)(()=>{a&&p(tg(i))},[a,i,p]);let h=(0,c.useCallback)(()=>{let e={x:50,y:50};p(e);let i=(0,td.JO)(t.state,n);tm(t,e,i)},[p,t,n]),g=(0,c.useCallback)(e=>{let t=s.current;if(!t)return;let n=t.getBoundingClientRect(),i=n.width,a=n.height,r=(e.clientX-n.left)/i,l=(e.clientY-n.top)/a;p({x:tl()(100*tr()(r,0,1),2),y:tl()(100*tr()(l,0,1),2)})},[p]);return(0,c.useEffect)(()=>{let e=r.current,i=s.current;if(!e||!i)return;l.current=(0,td.JO)(t.state,n);let a=()=>{i.addEventListener("mousemove",g),window.addEventListener("mouseup",o)},o=()=>{i.removeEventListener("mousemove",g),window.removeEventListener("mouseup",o),tm(t,u.current,l.current)};return e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}},[t,g,n]),(0,c.useEffect)(()=>{let e=s.current;if(!e)return;l.current=(0,td.JO)(t.state,n);let i=t=>{e.addEventListener("mousemove",g),window.addEventListener("mouseup",a),g(t)},a=()=>{e.removeEventListener("mousemove",g),window.removeEventListener("mouseup",a),tm(t,u.current,l.current)};return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}},[t,g,n]),{dotRef:r,dotContainerRef:s,canReset:o,resetDotPosition:h}},tf=e=>{let{node:t,editor:n,pos:r,isDisabled:l=!1}=e,o=(0,tu.um)(t),d=(null==o?void 0:o.src)||(null==o?void 0:o.tempUrl),u=tp(d),h=(0,tu.Df)(n,t,r,o),g=(0,to.d4)((0,tc.CU)(h)),{dotRef:m,dotContainerRef:x,canReset:f,resetDotPosition:b}=tx({editor:n,pos:r,node:t,isOpen:g}),C=(0,p.jL)();return(0,c.useEffect)(()=>()=>{C((0,tc.zs)())},[C]),(0,e9.j)({ref:{current:x.current},handler(){C((0,tc.zs)())}}),(0,i.jsxs)(e7.A,{strategy:"absolute",placement:"top",isOpen:g,onClose:()=>C((0,tc.zs)()),children:[(0,i.jsx)(s.Tz,{label:(0,i.jsx)(D.x6,{id:"BmxaoW"}),placement:"top",children:(0,i.jsx)(a.a,{my:1,children:(0,i.jsx)(e8.d,{children:(0,i.jsx)(eZ.K,{variant:"toolbar",size:"sm",icon:(0,i.jsx)(_.g,{icon:I.xD0}),boxSize:7,p:0,my:0,isDisabled:l,"aria-label":R.Ru._({id:"BmxaoW"}),onClick:()=>{C((0,tc.sI)({id:h}))}})})})}),(0,i.jsx)(te.h,{children:(0,i.jsx)(tt.e,{p:1,children:(0,i.jsxs)(a.a,{ref:x,userSelect:"none",position:"relative",children:[(0,i.jsx)(a.a,{ref:m,borderRadius:"full",boxSize:5,pos:"absolute",zIndex:"overlay",border:"2px solid",borderColor:"gray.50",pointerEvents:"none",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white"}),d&&(0,i.jsx)(tn.g,{maxW:"300px",ratio:u||1,position:"relative",children:(0,i.jsx)(ti._,{pointerEvents:"none",src:(0,eJ.Ub)(d,eJ.XS,o.meta),fallbackSrc:d,objectFit:"cover",position:"absolute",top:0,insetStart:0,width:"100%",height:"100%"})}),(0,i.jsx)(S.$,{opacity:+!!f,pos:"absolute",bottom:3,insetEnd:3,variant:"plain",size:"xs",onClick:b,children:(0,i.jsx)(D.x6,{id:"OfhWJH"})})]})})})]})};var tb=n(84714),tC=n(62452),ty=n(23907),tv=n(43634),tw=n(99430),tA=n(26385),tk=n(40452),tL=n(96500);let tj=e=>{let{icon:t,label:n,children:a,iconProps:r,isHidden:s,...l}=e;return s?null:(0,i.jsxs)(tA.B,{direction:"row",spacing:8,alignItems:"center",justifyContent:"space-between",...l,children:[(t||n)&&(0,i.jsxs)(tk.s,{gap:4,alignItems:"center",children:[t&&(0,i.jsx)(_.g,{icon:t,fixedWidth:!0,...r}),n&&(0,i.jsx)(Z.E,{fontSize:"sm",children:n})]}),a]})},tE=e=>{let{icon:t,label:n,onClick:a,colorScheme:r="gray",secondaryIcon:s,secondaryLabel:l,secondaryAction:o,secondaryColorScheme:c="gray"}=e;return(0,i.jsxs)(tk.s,{px:5,py:3,bg:"gray.50",mx:-4,mb:-4,justifyContent:l?"space-between":"center",alignItems:"center",children:[l&&o&&(0,i.jsx)(S.$,{variant:"link",size:"sm",colorScheme:c,leftIcon:s?(0,i.jsx)(_.g,{icon:s,fixedWidth:!0}):void 0,onClick:o,onMouseDown:z.Fw,children:l}),(0,i.jsx)(S.$,{variant:"link",size:"sm",colorScheme:r,leftIcon:t?(0,i.jsx)(_.g,{icon:t,fixedWidth:!0}):void 0,onClick:a,onMouseDown:z.Fw,children:n})]})},tS=e=>{let{...t}=e;return(0,i.jsx)(tL.c,{my:1,...t})},tM=e=>{let{children:t,...n}=e;return(0,i.jsx)(tA.B,{spacing:4,p:4,...n,children:t})},tI="14px",t_="28px",tD=e=>{let{label:t,withSidePadding:n=!1,children:a,...r}=e;return(0,i.jsxs)(tA.B,{direction:"row",spacing:3,...r,children:[t&&(0,i.jsx)(tA.B,{alignSelf:"center",justifyContent:"start",minWidth:a?"max-content":"100%",h:t_,pl:n?tI:void 0,children:(0,i.jsx)(tk.s,{justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%",children:t})}),a&&(0,i.jsx)(tA.B,{alignSelf:"center",width:"100%",pr:n?tI:void 0,h:t_,children:(0,i.jsx)(tk.s,{justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%",children:a})})]})};var tR=n(66082);let tT=e=>{let{editor:t}=e;return(0,i.jsx)(L.e,{dir:"ltr",spacing:1,size:"sm",children:tR.gj.map(e=>{let{name:n,icon:a,checkActive:r,apply:s}=e;if(r&&s)return(0,i.jsx)(B.I,{label:n(),icon:a,onClick:()=>{s(t)},isActive:r(t),my:0},n())})})};var tz=n(29810);let tH=e=>{let{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:a,toggleAllVisibleContributors:r,isDisabled:l=!1}=e,o=(null==n?void 0:n.length)===0;return(0,i.jsxs)(j.W,{isLazy:!0,children:[(0,i.jsx)(E.I,{as:S.$,variant:"plain",size:"sm",boxShadow:"none",minW:"max-content",textAlign:"left",rightIcon:(0,i.jsx)(e$.D,{}),isDisabled:l,children:o?(0,i.jsx)(D.x6,{id:"lZw9AX"}):(0,i.jsx)(D.x6,{id:"8Tg/JR"})}),(0,i.jsx)(M.c,{minWidth:"max-content",padding:0,children:(0,i.jsxs)(tA.B,{spacing:1,py:3,children:[(0,i.jsx)(tD,{label:(0,i.jsx)(D.x6,{id:"lZw9AX"}),withSidePadding:!0,children:(0,i.jsx)(tw.d,{isChecked:o,onChange:r})}),(0,i.jsx)(tL.c,{py:2}),(0,i.jsx)(tD,{label:(0,i.jsx)(s._x,{children:(0,i.jsx)(Z.E,{children:(0,i.jsx)(D.x6,{id:"8Tg/JR"})})}),withSidePadding:!0}),t.map(e=>(0,i.jsx)(tN,{contributor:e,contributors:t,toggleOneVisibleContributor:a,hiddenContributorIds:n,allVisible:o},e.user.id))]})})]})},tN=e=>{let{contributor:t,contributors:n,toggleOneVisibleContributor:a,hiddenContributorIds:r,allVisible:l}=e,o=n.length-r.length==1&&!r.includes(t.user.id);return(0,i.jsxs)(tD,{label:(0,i.jsxs)(tk.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(s.Vc,{size:"xs",src:t.user.profileImageUrl,opacity:l?.5:1}),(0,i.jsx)(Z.E,{fontSize:"md",fontFamily:"body",opacity:l?.5:1,sx:{cursor:l?"default":"text"},children:t.user.displayName})]}),paddingY:1.25,withSidePadding:!0,children:[(0,i.jsx)(tz.h,{w:4}),(0,i.jsx)(tw.d,{isChecked:!r.includes(t.user.id),onChange:()=>a(t.user.id),disabled:o})]})},tB=e=>{let{contributors:t,hiddenContributorIds:n,hasMultipleContributors:a,toggleOneVisibleContributor:r,toggleAllVisibleContributors:s}=e;return(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"YqsXfH"}),icon:I.VFr,children:(0,i.jsx)(tH,{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:r,toggleAllVisibleContributors:s,isDisabled:!a})})};var tP=n(8527),tF=n(2241);let tV=e=>{let{children:t,...n}=e,{content:a}=(0,tP.o)("Popover");return(0,i.jsx)(tF.B.div,{__css:a,p:0,overflow:"hidden",borderWidth:0,minW:"auto",width:"auto",...n,children:t})},tO=()=>({square:{icon:I.Nfw,label:(0,i.jsx)(D.x6,{id:"du/PIl"})},landscape:{icon:I.vti,label:(0,i.jsx)(D.x6,{id:"BZXXSi"})},portrait:{icon:I.b0A,label:(0,i.jsx)(D.x6,{id:"79gnko"})}}),tZ=e=>{let{selection:t,editor:n}=e,a=tO(),r=t.node.attrs;return(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"7bRShe"}),icon:I.VGw,children:(0,i.jsx)(L.e,{children:Object.entries(a).map(e=>{let[a,{icon:s,label:l}]=e;return(0,i.jsx)(B.I,{icon:s,label:l,onClick:()=>{n.chain().updateAttributes("gallery",{dimensions:a}).setNodeSelection(t.from).run()},isActive:r.dimensions===a},a)})})})};var tW=n(50933),tU=n(45176);let tG=e=>{let{selection:t,editor:n}=e,a=t.node.attrs.thumbHeight||tU.Aj,r=(0,c.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbHeight:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"Cj2Gtd"}),icon:I.dwj,children:(0,i.jsxs)(tW.Ap,{"aria-label":"gallery-slider",min:tU.pg,max:tU.Vj,step:.25,value:a,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(tW.hB,{children:(0,i.jsx)(tW.hJ,{})}),(0,i.jsx)(tW.OQ,{background:"trueblue.500"})]})})};var tK=n(80215);let tQ=e=>{let{selection:t,editor:n}=e,a=t.node.attrs.thumbSpacing||tU.mj,r=(0,c.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbSpacing:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"EL5s3L"}),icon:I.dwj,children:(0,i.jsxs)(tW.Ap,{"aria-label":"gallery-slider",min:tU.BA,max:tU.ZX,step:.1,value:a,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(tW.hB,{children:(0,i.jsx)(tW.hJ,{})}),(0,i.jsx)(tW.OQ,{background:"trueblue.500"})]})})},tq=e=>{let{selection:t,editor:n}=e,a=t.node.attrs,r=!0===a.stretchFill||null===a.stretchFill;return(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"57WAKT"}),icon:I.fGk,children:(0,i.jsx)(tw.d,{isChecked:r,onChange:()=>{n.chain().updateAttributes("gallery",{stretchFill:!a.stretchFill}).setNodeSelection(t.from).run()}})})};var tJ=n(90184),t$=n(24903),tY=n(66824),tX=n(49249),t0=n(83143),t1=n(71093),t2=n(89703),t3=n(2681),t5=n(37930),t4=n(48478);let t6=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{none:{label:(0,i.jsx)(D.x6,{id:"gIjBW2"})},expand:{label:(0,i.jsx)(D.x6,{id:"1A3EXy"})},newTab:{label:e?(0,i.jsx)(D.x6,{id:"YdDilE"}):(0,i.jsx)(D.x6,{id:"XGRJzS"})}}},t9=e=>{let{handleClickBehaviorChange:t,currentClickBehavior:n,enableNoClickBehavior:a=!1,canAddLink:r=!1}=e,s=t6(r);return(0,i.jsxs)(j.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,i.jsx)(E.I,{as:S.$,"data-testid":"click-behavior-dropdown",size:"sm",rightIcon:(0,i.jsx)(_.g,{fixedWidth:!0,icon:I.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:z.Fw,children:s[n].label}),(0,i.jsx)(M.c,{zIndex:2,children:(0,i.jsx)(t5.i,{type:"radio",onChange:e=>{t(e)},value:n,children:Object.entries(s).map(e=>{let[t,{label:n}]=e;return"none"!==t||a?(0,i.jsx)(t4.k,{value:t,onMouseOver:z.Fw,onMouseDown:z.Fw,"data-testid":"click-behavior-option-".concat(t),children:(0,i.jsx)(Z.E,{children:n})},t):null})})})]})};var t7=n(72470),t8=n(38036),ne=n(77979),nt=n(62964),nn=n(19546),ni=n(37327),na=n(15577),nr=n(4192),ns=n(70259),nl=n(39247),no=n(70006),nc=n(8709);let nd=(0,c.memo)(e=>{let{label:t,icon:n,isFocused:a,focusedItemEl:s,onClick:l,onMouseMove:o}=e;return(0,i.jsx)(nc.ck,{px:2,py:2,mx:2,borderRadius:"md",ref:a?s:null,bg:a?"trueblue.50":"none",onClick:l,onMouseMove:o,onMouseDown:z.Fw,role:"option",cursor:"pointer",tabIndex:-1,children:(0,i.jsxs)(r.z,{pointerEvents:"none",children:[(0,i.jsx)(_.g,{icon:n,fixedWidth:!0,size:"sm"}),(0,i.jsx)(Z.E,{noOfLines:1,fontSize:"sm",w:"100%",children:t})]})})});nd.displayName="Option";let nu=(0,c.memo)(e=>{let{items:t,inputValue:n,focusedIndex:r,interactionRef:l,isScrollingRef:o,isFiltered:d,onMouseMove:u,onSelectItem:p}=e,h=t.reduce((e,t,n)=>("page"===t.type?e.pages.push({item:t,index:n}):"card"===t.type?e.cards.push({item:t,index:n}):"url"===t.type&&e.url.push({item:t,index:n}),e),{pages:[],cards:[],url:[]}),g=(0,c.useRef)(null),m=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if("keyboard"!==l.current)return;let e=m.current,t=g.current;if(!e||!t)return;let n=t.clientHeight,i=e.offsetTop,a=e.offsetHeight;o.current=!0,t.scrollTo({top:i-n/2+a/2,behavior:"smooth"});let r=setTimeout(()=>{o.current=!1},50);return()=>{clearTimeout(r)}},[r,m,g,l,o]),(0,i.jsx)(a.a,{children:(0,i.jsxs)(nc.B8,{ref:g,pos:"relative",overflowY:"auto",maxH:"min(300px, 50vh)",children:[h.pages.map((e,t)=>{let{item:l,index:o}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(s._x,{ml:4,my:1,children:d?(0,i.jsx)(D.x6,{id:"rXYeDA",values:{inputValue:n}}):(0,i.jsx)(D.x6,{id:"QIUdjp"})}),(0,i.jsx)(nd,{label:np(l),icon:I.A4h,isFocused:o===r,focusedItemEl:m,onClick:()=>p(l),onMouseMove:()=>u(o)})]},l.docId)}),h.cards.map((e,t)=>{let{item:l,index:o}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(s._x,{ml:4,my:1,children:d?(0,i.jsx)(D.x6,{id:"m+j0l8",values:{inputValue:n}}):(0,i.jsx)(D.x6,{id:"Ccpbzh"})}),(0,i.jsx)(nd,{label:np(l),icon:I.vti,isFocused:o===r,focusedItemEl:m,onClick:()=>p(l),onMouseMove:()=>u(o)})]},l.cardId)}),h.url.map((e,t)=>{let{item:n,index:l}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(s._x,{ml:4,my:1,children:(0,i.jsx)(D.x6,{id:"wuJqqq"})}),(0,i.jsx)(nd,{label:n.value,icon:I.CQO,isFocused:l===r,focusedItemEl:m,onClick:()=>p(n),onMouseMove:()=>u(l)})]},"custom".concat(l))})]})})});nu.displayName="ListBox";let np=e=>e.title||("card"===e.type?R.Ru._({id:"gLDJuJ"}):R.Ru._({id:"kveQAJ"})),nh=(e,t)=>np(t).trim().toLowerCase().includes(e.trim().toLowerCase()),ng=e=>{let t=(0,na.Se)(e)||(0,ni.hc)(e)?e:"https://"+e;return(0,na.AY)(t)?t:""},nm=e=>{let{items:t,inputValue:n}=e;return(0,c.useMemo)(()=>{let e=ng(n),i=[...t.filter(e=>nh(n,e)),""!==e?{type:"url",value:e}:null].filter(e=>!!e),a=i.length!==t.length;return{filteredItems:i,isFiltered:a}},[t,n])},nx=e=>{let{items:t,inputValue:n,onSelect:i,onRevert:a,popoverRef:r}=e,{isOpen:s,onClose:l,onOpen:o}=(0,eY.j)(),[d,u]=(0,c.useState)(null),p=(0,c.useRef)(null),h=(0,c.useRef)(!1),g=(0,c.useCallback)(()=>{l(),u(null)},[l]),m=(0,c.useCallback)(()=>{n&&(o(),u(0))},[n,o]),x=(0,c.useCallback)(e=>{var t;(null==(t=r.current)?void 0:t.contains(e.relatedTarget))||g()},[g,r]),f=(0,c.useCallback)(e=>{i(e),g()},[g,i]),b=(0,c.useCallback)(e=>{switch(p.current="keyboard",e.key){case"Enter":case"Tab":{if(null===d)return;e.preventDefault();let n=t[d];n?f(n):g();return}case"Escape":e.preventDefault(),g(),a();return;case"ArrowDown":e.preventDefault(),s?u(e=>((null!=e?e:0)+1)%t.length):(o(),u(0));return;case"ArrowUp":e.preventDefault(),s?u(e=>{let n=(null!=e?e:0)-1;return n<0?t.length-1:n}):(o(),u(t.length-1));return}},[a,g,s,d,t,f,o]),C=(0,c.useCallback)(e=>{h.current||(p.current="mouse",u(e))},[]);return{isOpen:s,onClose:l,onOpen:o,focusedIndex:d,setFocusedIndex:u,handleSelectItem:f,onMouseMove:C,onKeyDown:b,onBlur:x,onFocus:m,interactionRef:p,isScrollingRef:h}},nf=(0,c.memo)(e=>{let{items:t,onSelect:n,onRevert:a,inputValue:r,setInputValue:s,inputRef:l}=e,o=(0,c.useRef)(null),{filteredItems:d,isFiltered:u}=nm({items:t,inputValue:r}),{onKeyDown:p,onMouseMove:h,focusedIndex:g,setFocusedIndex:m,interactionRef:x,isOpen:f,onClose:b,onOpen:C,onBlur:y,onFocus:v,handleSelectItem:w,isScrollingRef:A}=nx({items:d,onSelect:n,onRevert:a,popoverRef:o,inputValue:r}),k=(0,c.useCallback)(e=>{s(e.target.value),f||C(),m(0)},[f,C,m,s]),L=(0,c.useCallback)(()=>{f||(C(),m(0))},[f,C,m]);return(0,i.jsxs)(e7.A,{isLazy:!0,isOpen:f,onClose:b,autoFocus:!1,returnFocusOnClose:!1,matchWidth:!0,placement:"bottom",children:[(0,i.jsx)(e8.d,{children:(0,i.jsx)(t8.p,{ref:l,size:"sm",placeholder:R.Ru._({id:"BHFH/3"}),value:r,onKeyDown:p,onFocus:v,onBlur:y,onChange:k,onClick:L})}),(0,i.jsx)(te.h,{ref:o,w:"100%",h:"100%",display:0===d.length?"none":void 0,tabIndex:-1,_focusVisible:{outline:"none"},children:(0,i.jsx)(nu,{items:d,isFiltered:u,onSelectItem:w,onMouseMove:h,inputValue:r,focusedIndex:g,interactionRef:x,isScrollingRef:A})})]})});nf.displayName="PageAwareLinkComboBox";var nb=n(99552),nC=n(85732);let ny=e=>{let{site:t}=e;return{linkablePages:null==t?void 0:t.routes.map(e=>{var t;return{docId:e.docId,title:null==(t=e.doc)?void 0:t.title}})}},nv=e=>{let{href:t,linkablePages:n}=e;if(!t)return null;let i=(0,nC.uT)(t);if(!i)return{href:t};let{docId:a,cardId:r}=i;return{...a&&(null==n?void 0:n.find(e=>e.docId===a))||null,href:t,cardId:r}},nw=e=>{let{href:t}=e,n=(0,p.GV)(nb.Gd);return(0,c.useMemo)(()=>{let{linkablePages:e}=ny({site:n}),i=nv({href:t,linkablePages:e}),a=(null==i?void 0:i.docId)&&(null==n?void 0:n.id)&&(0,no.pF)({docId:null==i?void 0:i.docId})||t,r=null==e?void 0:e.some(e=>e.docId===(null==i?void 0:i.docId));return{linkablePages:e,existingLink:i,newTabUrl:a,isPageLink:r}},[t,n])},nA=e=>{var t;let{href:n,inputValue:l,setInputValue:o,setHref:d,clearHref:u,inputRef:h,onCloseFocusRef:g}=e,m=(0,p.GV)(tv.sX),x=(0,p.GV)(nl.rZ),{existingLink:f,linkablePages:b}=nw({href:n}),C=(0,c.useMemo)(()=>[...(b||[]).map(e=>({type:"page",docId:e.docId,title:e.title})),...x.map(e=>({type:"card",cardId:e.id,title:e.title}))],[b,x]),y=null==f?void 0:f.title,v=null!=(t=null==f?void 0:f.cardId)?t:void 0,{title:w}=(0,ns.d)({cardId:v}),A=(0,c.useCallback)(e=>{var t;e&&(d("url"===e.type?e.value:"page"===e.type?(0,no.LN)({docId:e.docId,docTitle:e.title,absolute:!0}):(0,no.Io)({cardId:e.cardId,docId:m})),null==g||null==(t=g.current)||t.focus({preventScroll:!0}))},[m,d,g]),k=(null==f?void 0:f.href)&&!f.docId;if(!f||k)return(0,i.jsx)(nf,{items:C,inputValue:l,setInputValue:o,inputRef:h,onSelect:A,onRevert:()=>{var e;o(n),null==g||null==(e=g.current)||e.focus()}});{let e=v?w||(0,i.jsx)(D.x6,{id:"gLDJuJ"}):y||(0,i.jsx)(D.x6,{id:"kveQAJ"});return(0,i.jsx)(r.z,{spacing:1,children:(0,i.jsx)(nr.vw,{pr:1,children:(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(_.g,{icon:v?I.vti:I.A4h}),(0,i.jsx)(s.Tz,{label:e,placement:"top",children:(0,i.jsx)(a.a,{noOfLines:1,children:e})}),u&&(0,i.jsx)(s.Tz,{label:(0,i.jsx)(D.x6,{id:"484LKL"}),placement:"top",children:(0,i.jsx)(eZ.K,{size:"xs",minHeight:4,height:4,variant:"ghost","aria-label":R.Ru._({id:"484LKL"}),icon:(0,i.jsx)(_.g,{icon:I.yYc}),onMouseDown:z.Fw,onClick:()=>{u(),o("")}})})]})})})}},nk="link-input-invalid-url",nL=e=>{let{editor:t,href:n,updateHref:r,clearHref:l,removeLink:o,isEmbedLink:d=!1}=e,[u,h]=(0,c.useState)(n),g=(0,c.useRef)(null),m=(0,c.useRef)(null),x=(0,O.d)(),f=u!==n,b=!!(t.multipageEnabled||t.isSiteNavbarEditor),C=(0,p.GV)(tv.bO),y=(0,ef.Cf)(n,C),{newTabUrl:v}=nw({href:n});(0,c.useEffect)(()=>{h(n)},[n]),(0,c.useEffect)(()=>{!n&&g.current&&setTimeout(()=>{var e;null==g||null==(e=g.current)||e.focus()})},[n]);let w=(0,c.useCallback)(e=>{if(!e)return;let t=e;if(d){let n=(0,nt.Sf)(e);n&&(t=n)}if(t=(0,na.Se)(t)||(0,ni.hc)(t)?t:"https://"+t,!(0,na.AY)(t)){r(""),x.isActive(nk)||x({id:nk,title:(0,i.jsx)(D.x6,{id:"sBZMWb"}),description:(0,i.jsx)(D.x6,{id:"jEw0Mr"}),status:"error",position:"top",duration:3e3,isClosable:!0});return}r(t),h(t)},[d,x,r]),A=(0,c.useCallback)(e=>{if(y){let i=(0,ef.Ww)(n);(0,nn.T)(t,e,i)}else try{window.open(v,"_blank")}catch(e){console.error("(caught) LinkInput error going to URL",e)}},[y,t,n,v]);return(0,i.jsxs)(tk.s,{gap:2,justify:"space-between",alignItems:"center",children:[b&&!d?(0,i.jsxs)(tk.s,{flex:1,children:[(0,i.jsx)(nA,{href:n,inputValue:u,setInputValue:h,setHref:w,clearHref:l,inputRef:g,onCloseFocusRef:m}),(0,i.jsx)(a.a,{w:"0",h:"0",ref:m,tabIndex:-1})]}):(0,i.jsxs)(t7.M,{children:[(0,i.jsx)(t8.p,{"data-testid":"link-input",ref:g,value:u,placeholder:R.Ru._({id:"Ilf1mg"}),onChange:e=>{h(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(e.preventDefault(),w(u),t.commands.focus())},size:"sm"}),u.length>0&&f&&(0,i.jsx)(ne.t,{top:"50%",transform:"translateY(-50%)",children:(0,i.jsx)(s.Tz,{placement:"top",label:(0,i.jsx)(D.x6,{id:"tfDRzk"}),children:(0,i.jsx)(eZ.K,{"aria-label":R.Ru._({id:"tfDRzk"}),variant:"ghost",size:"xs",onClick:()=>{w(u)},icon:(0,i.jsx)(_.g,{icon:I.e68})})})})]}),(0,i.jsxs)(L.e,{spacing:1,size:"sm",onMouseDown:z.Fw,children:[o&&(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"484LKL"}),icon:I.vev,onClick:o,my:0}),n&&(0,i.jsx)(B.I,{label:y?(0,i.jsx)(D.x6,{id:"088Oxr"}):(0,i.jsx)(D.x6,{id:"fOj0+R"}),icon:y?I.dmS:I.vMs,onClick:A,my:0})]})]})};var nj=n(85595);let nE=e=>{let{buttonList:t}=e,n=t.filter(e=>!e.isHidden),r=1===n.length,l=n.length<=5?5:4,o=n.slice(0,l),c=n.slice(l,n.length);return(0,i.jsxs)(L.e,{size:"sm",width:"100%",children:[o.map(e=>{let{key:t,label:n,ariaLabel:l,action:o,icon:c,customIcon:d,isDisabled:u=!1,isLoading:p=!1,customButton:h}=e;return h||(c||d?(0,i.jsx)(s.Tz,{label:n,placement:"top",children:(0,i.jsx)(a.a,{flex:r?void 0:1,width:r?"33%":void 0,tabIndex:u?-1:void 0,children:(0,i.jsx)(eZ.K,{"aria-label":l,icon:d||(0,i.jsx)(_.g,{icon:c,fixedWidth:!0}),onClick:o,w:"100%",isDisabled:u,isLoading:p,onMouseDown:z.Fw,shadow:"none"})})},t):null)}),!!c.length&&(0,i.jsxs)(j.W,{children:[(0,i.jsx)(s.Tz,{placement:"top",label:(0,i.jsx)(D.x6,{id:"3Siwmw"}),children:(0,i.jsx)(E.I,{as:eZ.K,"aria-label":R.Ru._({id:"3Siwmw"}),icon:(0,i.jsx)(_.g,{icon:I.Dwc,fixedWidth:!0}),flex:1,shadow:"none"})}),(0,i.jsx)(M.c,{children:c.map(e=>{let{key:t,label:n,action:a,icon:r,customIcon:s}=e;return(0,i.jsx)(nj.D,{icon:s||r&&(0,i.jsx)(_.g,{icon:r,fixedWidth:!0}),onClick:a,children:n},t)})})]})]})},nS=()=>({inset:{title:R.Ru._({id:"Jn5DbR"})},circle:{title:R.Ru._({id:"7xMmki"})}}),nM=e=>{let{clipType:t,onChange:n}=e;return t?(0,i.jsxs)(t3.ms,{children:[(0,i.jsx)(t3.gf,{size:"sm",borderRadius:"full",minWidth:"105px",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),variant:"toolbar",ps:2,onMouseDown:z.Fw,children:nS()[t].title}),(0,i.jsx)(t3.Q5,{children:Object.entries(nS()).map(e=>{let[r,{title:s}]=e;return(0,i.jsx)(t3.tJ,{value:r,fontSize:"sm",fontWeight:600,icon:(0,i.jsx)(a.a,{visibility:r===t?"visible":"hidden",children:(0,i.jsx)(_.g,{icon:I.e68})}),onMouseDown:z.Fw,onClick:()=>{n(r)},children:(0,i.jsx)(Z.E,{children:s})},r)})})]}):null},nI={expand:I.bMI,newTab:I.Ju_,none:I.IPg};var n_=n(46617);let nD=e=>{let{editor:t,selection:n,handleDuplicate:a}=e,r=(0,c.useCallback)(()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n.node.toJSON()).selectInsertedNode().run()},[t,n]);return(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"euc6Ns"}),icon:I.$3n,onClick:a||r,testId:"duplicate-node-button"})},nR=e=>{let{editor:t,label:n}=e;return(0,i.jsx)(B.I,{onClick:()=>{t.chain().selectParentNode().run()},label:n,children:(0,i.jsx)(_.g,{icon:I.Hmw,flip:"horizontal"})})};var nT=n(10500),nz=n(39078);let nH={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/layout-3-cols.478d87d6.svg",height:25,width:20,blurWidth:0,blurHeight:0},nN={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/layout-30-70.019e8aa0.svg",height:25,width:20,blurWidth:0,blurHeight:0},nB={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/layout-4-cols.bc7869e3.svg",height:25,width:20,blurWidth:0,blurHeight:0},nP={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/layout-50-50.a28ea4d4.svg",height:25,width:20,blurWidth:0,blurHeight:0},nF={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/layout-70-30.abcf64e9.svg",height:25,width:20,blurWidth:0,blurHeight:0},nV=()=>[{name:R.Ru._({id:"oCWIE5"}),testId:"layout-preset-5050",image:nP,value:[50,50]},{name:R.Ru._({id:"eWUI4Z"}),testId:"layout-preset-7030",image:nF,value:[70,30]},{name:R.Ru._({id:"hOcihM"}),testId:"layout-preset-3070",image:nN,value:[30,70]},{name:R.Ru._({id:"OnuuaA"}),testId:"layout-preset-3col",image:nH,value:[33.33,33.33,33.34]},{name:R.Ru._({id:"hexbw8"}),testId:"layout-preset-4col",image:nB,value:[25,25,25,25]}];var nO=n(83650),nZ=n(78294),nW=n(81136),nU=n(9100);let nG=()=>({link:{title:(0,i.jsx)(D.x6,{id:"yzF66j"})},button:{title:(0,i.jsx)(D.x6,{id:"hxBFty"})},preview:{title:(0,i.jsx)(D.x6,{id:"rdUucN"})},inline:{title:(0,i.jsx)(D.x6,{id:"KKBlUU"})}}),nK=e=>{let{editor:t,selection:n,isDisabled:a}=e,r=(0,l.KP)(e=>"button"===e.type.name)(n),s=n instanceof o.U3?r?"button":"link":n.node.type.name,d="link"===s,u="button"===s,p=t.getAttributes(s),h=u?"button":d?"link":"displayStyle"in p&&p.displayStyle||"inline",g=(0,c.useCallback)(e=>{if(s===e)return;let n="inline"===e||"preview"===e;switch(s){case"link":n?t.commands.convertLinkToMedia(e):"button"===e&&t.commands.convertLinkToButton();break;case"button":"link"===e?t.commands.convertButtonToLink():n&&t.commands.convertButtonToMedia(e);break;default:"link"===e?t.commands.convertMediaToLink():"button"===e?t.commands.convertMediaToButton():t.commands.updateAttributes(s,{displayStyle:e})}},[t,s]),m=nG();return(0,i.jsxs)(j.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,i.jsx)(E.I,{as:S.$,"data-testid":"display-style-dropdown",isDisabled:a,size:"sm",rightIcon:(0,i.jsx)(_.g,{fixedWidth:!0,icon:I.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:z.Fw,children:m[h].title}),(0,i.jsx)(M.c,{zIndex:2,children:(0,i.jsx)(t5.i,{type:"radio",onChange:g,value:h,children:Object.entries(m).map(e=>{let[t,{title:n}]=e;return(0,i.jsx)(t4.k,{value:t,onMouseDown:z.Fw,"data-testid":"display-style-option-".concat(t),children:(0,i.jsx)(Z.E,{children:n})},t)})})})]})},nQ=e=>{let{editor:t,selection:n}=e,{href:a}=t.getAttributes("button"),{isPageLink:r}=nw({href:a}),s=(0,p.GV)(tv.SJ),l=(0,tC.jO)(s),d=(0,tC.Ik)(l),u=(0,nW.yh)(l),h=t.getAttributes("button").color,g=n.$from.node(-1),m=nU.Dn[g.type.name],x=(0,nU.vf)().filter(e=>m.variants.includes(e.key)),f=(0,c.useCallback)(()=>t.commands.handleButtonDelete(!1),[t]),b=(0,c.useCallback)(e=>{t.commands.updateAttributes("button",{color:e})},[t]);return(0,i.jsxs)(tM,{overflow:"hidden",children:[m.linkDropdownEnabled&&a&&(n instanceof o.U3||n instanceof o.nh)&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"/SVg/B"}),icon:I.n2$,children:(0,i.jsx)(nK,{editor:t,selection:n,isDisabled:r})}),(0,i.jsx)(nL,{href:a||"",updateHref:e=>{t.commands.updateAttributes("button",{href:e})},clearHref:()=>{t.commands.updateAttributes("button",{href:""})},editor:t}),x.length>=2&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"q6YAHa"}),icon:I.Cpz,children:(0,i.jsx)(L.e,{spacing:1,size:"sm",onMouseDown:z.Fw,children:x.map(e=>{let{name:n,icon:a,key:r}=e;return(0,i.jsx)(B.I,{label:n,icon:a,onClick:()=>{t.commands.updateAttributes("button",{variant:r})},isActive:t.isActive("button",{variant:r}),my:0},n)})})}),m.alignEnabled&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"0j+RGO"}),icon:I.ecg,children:(0,i.jsx)(L.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:z.Fw,children:tR.gj.map(e=>{let{name:n,icon:a,checkActive:r,apply:s}=e;if(r&&s)return(0,i.jsx)(B.I,{label:n(),icon:a,onClick:()=>{s(t)},isActive:r(t),my:0},n())})})}),m.colorEnabled&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"jZlrte"}),icon:I.wIs,children:(0,i.jsx)(L.e,{spacing:0,size:"sm",onMouseDown:z.Fw,children:(0,i.jsxs)(j.W,{isLazy:!0,children:[(0,i.jsx)(nO.v,{color:h||d,isDefaultColor:null===h||h===d}),(0,i.jsx)(M.c,{overflow:"hidden",children:(0,i.jsx)(nZ.b,{currentColor:h||(u?null:d),setColor:b,source:"ButtonColor"})})]})})}),(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"cnGeoo"}),icon:I.yLS,onClick:f,colorScheme:"red"})]})};var nq=n(29347),nJ=n(23103);let n$="embed-formatting-invalid-error";var nY=n(32617),nX=n(49146),n0=n(23908),n1=n(36693),n2=n(20061),n3=n(3448),n5=n(33612),n4=n.n(n5);let n6=(e,t)=>{let n=new Set;for(let i of e)if(n.add(i[t]),n.size>1)return!1;return[...n][0]},n9=(e,t,n)=>n6(function(e,t){let n=function(e,t){if("string"==typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}(t,e.schema),{from:i,to:a,empty:r}=e.selection,s=[];return r?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,a,e=>{s.push(...e.marks)}),s.filter(e=>e.type.name===n.name).map(e=>({...e.attrs}))}(e,t),n),n7=e=>{let{editor:t,isLinkText:n,defaultTextColor:i}=e,a=it(t,i,n),r=ii(t,n),s=n&&t.state.selection.empty,l=(0,c.useCallback)(e=>{s?t.chain().focus().extendMarkRange("link").setHighlightColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setHighlightColor(e).run()},[t,s]),o=(0,c.useCallback)(e=>{s?t.chain().focus().extendMarkRange("link").setTextColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setTextColor(e).run()},[t,s]);return{highlightColor:r,resetColorAndHighlight:(0,c.useCallback)(()=>{s?t.chain().focus().extendMarkRange("link").unsetMark("textColor").unsetMark("highlight").setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().unsetMark("textColor").unsetMark("highlight").run()},[t,s]),setHighlightColor:l,setTextColor:o,textColor:a}},n8=e=>{let{editor:t,defaultTextColor:n,testId:a,disabled:r,useMenuButton:l=!1,isLinkText:o=!1}=e,{textColor:c,highlightColor:d,setHighlightColor:u,setTextColor:p,resetColorAndHighlight:h}=n7({editor:t,isLinkText:o,defaultTextColor:n});return(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[l?(0,i.jsx)(nO.v,{color:d.color||c.color||void 0,isDefaultColor:!d.color&&"default"===c.state,disabled:r,"data-testid":a,isMixed:"mixed"===d.state||"mixed"===c.state}):(0,i.jsx)(s.Tz,{placement:"top",label:(0,i.jsx)(D.x6,{id:"76ESgh"}),children:(0,i.jsx)(E.I,{isDisabled:r,as:S.$,variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),"data-testid":a,onMouseDown:z.Fw,size:"sm",children:(0,i.jsx)(ia,{color:d.color||c.color||void 0})})}),(0,i.jsx)(M.c,{overflow:"hidden",children:(0,i.jsxs)(nX.t,{isFitted:!0,variant:"soft-rounded",size:"md",defaultIndex:+!!d.color,children:[(0,i.jsxs)(n0.w,{children:[(0,i.jsx)(n1.o,{children:(0,i.jsx)(s.Tz,{label:(0,i.jsx)(D.x6,{id:"xeiujy"}),placement:"top",children:(0,i.jsx)(_.g,{icon:I.jrc})})}),(0,i.jsx)(n1.o,{children:(0,i.jsx)(s.Tz,{label:(0,i.jsx)(D.x6,{id:"gtEbeW"}),placement:"top",children:(0,i.jsx)(_.g,{icon:I.nps})})})]}),(0,i.jsxs)(n2.T,{children:[(0,i.jsx)(n3.K,{p:0,pt:2,children:(0,i.jsx)(nZ.b,{currentColor:c.color||null,setColor:p,unsetColor:h,source:"TextColor"})}),(0,i.jsx)(n3.K,{p:0,pt:2,children:(0,i.jsx)(nZ.b,{currentColor:d.color||"",setColor:u,unsetColor:h,source:"TextHighlight"})})]})]})})]})},ie=e=>{let{from:t}=e.state.selection,n=e.view.domAtPos(t),i=n.node instanceof HTMLElement?n.node:n.node.parentElement;if(!i)return null;let a=getComputedStyle(i).getPropertyValue("color");return a&&"rgba(0, 0, 0, 0)"!==a?n4()(a).toHexString().toUpperCase():null},it=(e,t,n)=>{let{selection:i,doc:a,schema:r}=e.state,{from:s,to:l}=i,o=n?(0,ef.Cm)(a,s,l,r.marks.highlight):a.rangeHasMark(s,l,r.marks.highlight),c=n?(0,ef.Cm)(a,s,l,r.marks.textColor):a.rangeHasMark(s,l,r.marks.textColor);if(o)return{state:null,color:null};{if(!c)return{state:"default",color:t||ie(e)};let n=n9(e.state,"textColor","hex");return n?{state:null,color:n}:{state:"mixed",color:t||null}}},ii=(e,t)=>{let{selection:n,doc:i,schema:a}=e.state,{from:r,to:s}=n,l=t?(0,ef.Cm)(i,r,s,a.marks.highlight):i.rangeHasMark(r,s,a.marks.highlight);if(t?(0,ef.Cm)(i,r,s,a.marks.textColor):i.rangeHasMark(r,s,a.marks.textColor))return{state:null,color:null};{if(!l)return{state:"default",color:null};let t=n9(e.state,"highlight","hex");return t?{state:null,color:t}:{state:"mixed",color:null}}},ia=e=>{let{color:t,fixedWidth:n,isChecked:a}=e;return(0,i.jsxs)(tA.B,{spacing:"2px",children:[(0,i.jsx)(Z.E,{children:a?(0,i.jsx)(nT.S,{}):(0,i.jsx)(_.g,{icon:eX.jrc,fixedWidth:n,size:t?"sm":void 0,transform:{y:3*!!t}})}),t&&(0,i.jsx)(tk.s,{w:5,h:1.5,bg:t,borderRadius:"sm",borderWidth:"1px",borderColor:"blackAlpha.400"})]})};var ir=n(1139);let is=(e,t)=>{try{let n=[...e.matchAll(no.D_)],i=n.length&&n[0]?(0,no.TY)(n[0][0]):null,{cardId:a}=(0,no.$9)(e);return{docId:i,isValidDocUrl:!!i&&(i!==t||!a)}}catch(t){return console.debug("[validateDocMentionUrl] Error parsing URL:",e,t),{docId:null,isValidDocUrl:!1}}},il=(0,c.memo)(e=>{var t;let{editor:n,href:s}=e,{docId:l,isValidDocUrl:o}=is(s,n.gammaDocId),{data:c,error:d}=(0,er.AZr)({variables:{id:l||""},skip:!o});return(0,i.jsx)(ir.z,{in:!!(null==c?void 0:c.doc)&&!d&&o,unmountOnExit:!0,children:(0,i.jsx)(tj,{minH:8,children:(0,i.jsxs)(tk.s,{gap:2,alignItems:"center",w:"100%",children:[(0,i.jsx)(S.$,{variant:"link",size:"sm",leftIcon:(0,i.jsx)(_.g,{icon:I.rhK}),onClick:()=>{n.commands.convertLinkToDocMention(l)},children:(0,i.jsx)(D.x6,{id:"OB1CKc"})}),(0,i.jsx)(a.a,{color:"deepocean.950",bgColor:"sky.100",ms:"auto",borderRadius:"md",padding:"0.05em 0.1em",children:(0,i.jsxs)(r.z,{display:"inline-flex",spacing:0,children:[(0,i.jsx)(a.a,{display:"inline-block",textAlign:"center",minWidth:4,children:(0,i.jsx)(_.g,{icon:I.vGi,fixedWidth:!0,size:"sm",style:{marginInlineStart:"0.1em",marginInlineEnd:"0.3em"}})}),(0,i.jsx)(Z.E,{noOfLines:1,whiteSpace:"normal",wordBreak:"break-all",flex:1,lineHeight:"normal",children:(null==c||null==(t=c.doc)?void 0:t.title)||""})]})})]})})})});il.displayName="LinkConvertToDocMention";var io=n(56939);let ic=e=>{let{selected:t,availableTemplateKeys:n,onChange:s,isLoading:l=!1}=e,o=(0,c.useMemo)(()=>n.map(e=>{try{let t=(0,io.FV)(e);return{key:e,template:t,label:t.label()}}catch(e){return null}}).filter(e=>null!==e).sort((e,t)=>e.label.localeCompare(t.label)),[n]),d=(0,c.useMemo)(()=>{try{return(0,io.FV)(t)}catch(e){return null}},[t]),u=(null==d?void 0:d.label())||t;return(0,i.jsxs)(t3.ms,{isLazy:!0,children:[(0,i.jsx)(t3.gf,{as:S.$,variant:"toolbar",size:"sm",boxShadow:"none",rightIcon:(0,i.jsx)(e$.D,{}),isLoading:l,loadingText:R.Ru._({id:"DBJmXQ"}),disabled:l,children:(0,i.jsxs)(r.z,{children:[(null==d?void 0:d.previewImage)&&(0,i.jsx)(ti._,{src:d.previewImage.src,w:"2em",h:"2em",alt:d.label(),pointerEvents:"none",transform:"scale(1.75)"}),(0,i.jsx)(a.a,{children:u})]})}),(0,i.jsx)(t3.Q5,{zIndex:"modalPopover",children:o.map(e=>{let{key:n,template:o,label:c}=e,d=n===t,u=d||l;return(0,i.jsx)(t3.tJ,{onClick:()=>{u||s(n)},isDisabled:u,opacity:d?.6:1,pt:1,pb:1,children:(0,i.jsxs)(r.z,{children:[d&&(0,i.jsx)(a.a,{w:"2em",h:"2em",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(_.g,{icon:I.e68})}),!d&&o.previewImage&&(0,i.jsx)(ti._,{src:o.previewImage.src,w:"2em",h:"2em",alt:o.label(),pointerEvents:"none",transform:"scale(1.75)"}),(0,i.jsx)(Z.E,{children:c})]})},n)})})]})};var id=n(47695),iu=n(6181);async function ip(e){let{sourceTemplateKey:t,targetTemplateKey:n,sourceData:i,language:a,docId:r,workspaceId:s}=e,l=JSON.parse(await (0,eg.K8)({promptKey:"TransformDiagram",variables:{sourceTemplateKey:t,targetTemplateKey:n,sourceData:i,language:a},workspaceId:s}));if(!l.variant||!l.data)throw Error("Invalid response format from TransformDiagram prompt");return l}var ih=n(83740),ig=n(45934),im=n(62695),ix=n(33633),ib=n(83743),iC=n(24302),iy=n(77364),iv=n(647),iw=n(95563),iA=n(71514);let ik=n(27748).o0,iL=ik+100;var ij=n(78686);let iE=e=>{let{searchQuery:t,onChange:n,placeholder:a}=e,r={searchInputBorderColor:(0,iC.dU)("gray.200","whiteAlpha.200"),searchInputBackgroundColor:(0,iC.dU)("whiteAlpha.900","blackAlpha.900"),searchInputTextColor:(0,iC.dU)("gray.800","gray.50"),searchInputCloseColorScheme:(0,iC.dU)("blackAlpha","gray")};return(0,i.jsxs)(t7.M,{size:"md",children:[(0,i.jsx)(ne.W,{pointerEvents:"none",color:"gray.400",children:(0,i.jsx)(ij.W,{})}),(0,i.jsx)(t8.p,{placeholder:a,value:t,onChange:n,backgroundColor:r.searchInputBackgroundColor,color:r.searchInputTextColor}),t&&(0,i.jsx)(ne.t,{p:4,children:(0,i.jsx)(eZ.K,{variant:"ghost",colorScheme:r.searchInputCloseColorScheme,size:"xs","aria-label":R.Ru._({id:"V8yTm6"}),icon:(0,i.jsx)(_.g,{icon:I.Jyw}),onClick:()=>n({target:{value:""}})})})]})};var iS=n(79649),iM=n(55847),iI=n(90278),i_=n(77249),iD=n(86687);let iR=e=>{let{initialFamily:t=null,selectedVariantHash:n=null,editor:i,selectedSmartLayoutPos:a}=e,[r,s]=(0,c.useState)(t),[l,o]=(0,c.useState)(""),[d,u]=(0,c.useState)(null),p=null,h=null,g=null;try{let e=void 0!==a?null==i?void 0:i.state.doc.nodeAt(a):null;g=(h=(p=void 0!==a&&i?(0,C.j5)(i,a):null)?(0,iM.Rv)(p):null)?(0,iI.aG)(null==e?void 0:e.attrs,h.direction):null}catch(e){console.error("[SmartLayout] unable to find decorations at ".concat(a),e.message)}let{isHorizontal:m}=(0,iS.i)({cellSize:(null==g?void 0:g.cellSize)||0,horizontalAlign:(null==g?void 0:g.horizontalAlign)||"center",orientation:(null==g?void 0:g.orientation)||"horizontal",numCells:(null==h?void 0:h.numCells)||0,containerSize:(null==h?void 0:h.containerSize)||0});(0,c.useEffect)(()=>{if(n){let{key:e}=(0,i_.A)(n),t=(0,iD.ML)().find(t=>t.variants.some(t=>t.variant.key===e));u((null==t?void 0:t.family.key)||null)}},[]);let x=(0,c.useCallback)(e=>{o(e.target.value),e.target.value.trim()&&r&&s(null)},[r]),f=(0,c.useCallback)(e=>e.map(e=>({...e,visible:!r||e.family.key===r})),[r]),b=(0,c.useCallback)(e=>{if(!l.trim())return e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:!0}))}))}));let t=l.toLowerCase().trim();return e.map(e=>{let n=e.variants.map(n=>({...n,options:n.options.map(i=>({...i,visible:i.name().toLowerCase().includes(t)||n.variant.name().toLowerCase().includes(t)||e.family.name().toLowerCase().includes(t)}))})),i=n.some(e=>e.options.some(e=>e.visible));return{...e,variants:n,visible:i}})},[l]),y=(0,c.useCallback)(e=>e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:e.visible&&(!e.hideIfVertical||m)}))}))})),[m]),v=(0,c.useCallback)(e=>{if(!d)return e;let t=e.findIndex(e=>e.family.key===d);if(-1===t)return e;let n=e[t],i=[...e];return i.splice(t,1),i.unshift({...n,family:{...n.family,name:()=>R.Ru._({id:"+0acwA"}),icon:I.i7d}}),i},[d]);return{selectedFamilyKey:r,setSelectedFamilyKey:s,searchQuery:l,handleSearchChange:x,filteredVariants:(0,c.useMemo)(()=>{let e=[...(0,iD.ML)()];return v(e=y(e=b(e=f(e))))},[f,b,y,v]),suggestedFamilyKey:d}},iT=c.memo(e=>{var t;let{selectedFamilyKey:n,setSelectedFamilyKey:r,searchQuery:s,handleSearchChange:l,suggestedFamilyKey:o}=e,d={dropdownBgColor:(0,iC.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,iC.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,iC.dU)("gray.800","white")},u=(0,c.useMemo)(()=>{let e=[];return(0,iD.ML)().forEach(t=>{t.family.key===o?e.unshift({value:t.family.key,icon:I.i7d,label:R.Ru._({id:"+0acwA"})}):e.push({value:t.family.key,icon:t.family.icon,label:t.family.name()})}),[{value:"",icon:I.Qyz,label:R.Ru._({id:"XbthhE"})},...e]},[o]);return(0,i.jsxs)(tk.s,{px:4,pb:2,direction:"column",gap:2,children:[(0,i.jsx)(a.a,{mb:1,children:(0,i.jsx)(iE,{searchQuery:s,onChange:l,placeholder:R.Ru._({id:"CYJHZl"})})}),(0,i.jsxs)(tk.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(Z.E,{fontSize:"xs",mb:1,children:(0,i.jsx)(D.x6,{id:"2BreKV"})}),(0,i.jsxs)(j.W,{children:[(0,i.jsx)(E.I,{as:S.$,display:"flex",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$}),variant:"unstyled",size:"xs",textAlign:"start",bgColor:d.dropdownBgColor,color:d.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:d.dropdownBgHoverColor},children:o===n?(0,i.jsx)(D.x6,{id:"+0acwA"}):n?null==(t=(0,iD.dQ)()[n])?void 0:t.family.name():(0,i.jsx)(D.x6,{id:"XbthhE"})}),(0,i.jsx)(M.c,{children:(0,i.jsx)(t5.i,{type:"radio",value:n||"",onChange:e=>r(""===e?null:String(e)),children:u.map(e=>(0,i.jsx)(t4.k,{value:e.value,children:(0,i.jsxs)(tk.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(_.g,{icon:e.icon,fixedWidth:!0}),e.label]})},e.value))})})]})]})]})});iT.displayName="FilterControls";let iz=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter(n=>{let[i]=n;return null===e[i]||void 0===e[i]||null===t[i]}))}),iH=e=>{let{baseContent:t,variants:n}=e;return(0,G.createDocWithCards)({settings:{cardDimensions:"16x9"}},n.map(e=>{var n,i;return{type:"card",attrs:{id:e.key},content:[{type:"cardLayoutItem",content:[{...t,attrs:{...t.attrs,options:{...null==(n=t.attrs)?void 0:n.options,...e.options},variantKey:e.variantKey},content:(null==(i=e.cellAttrs)?void 0:i.label)&&t.content?t.content.map(t=>"smartLayoutCell"===t.type?{...t,attrs:iz(t.attrs||{},e.cellAttrs||{})}:t):t.content}]}]}}))},iN=(e,t,n)=>{try{var i,a;let r=e.chain(),{key:s,options:o}=(0,i_.A)(t);r.updateAttributesAtPos(n,{variantKey:s,options:o});let c=(0,iD.y_)()[t];if(!c)return;let{cellAttrs:d}=c;if(d){let t=e.view.state.doc.nodeAt(n);if(!t)return;(0,l.xe)(t,f.q).forEach(e=>{let t=n+e.pos+1,i=iz(e.node.attrs,d);r.updateNestedAttributesAtPos(t,i)})}let u=null==(a=e.view.state.doc.nodeAt(n))||null==(i=a.attrs)?void 0:i.variantKey;u!==s&&e3.zS.track(e3.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:u,newVariant:s,method:"variant-panel"}),r.run()}catch(e){console.error("[Smart Layout Variant Panel] Error updating variant",e)}};var iB=n(65950),iP=n(58568);let iF=c.memo(e=>{let{item:t,isSelected:n,onClick:a}=e,{ref:r,width:s}=(0,iP.Lh)();return(0,i.jsx)(tk.s,{ref:r,direction:"column",onClick:a,cursor:"pointer",overflow:"hidden",transition:"all 0.2s",color:n?"trueblue.600":"gray.800",bgColor:n?"trueblue.200":"transparent",_hover:{backgroundColor:n?"trueblue.150":"trueblue.100"},position:"relative",w:"100%",px:2,pt:2,pb:1,borderRadius:"md",css:{"--editor-width":"".concat(s&&1!==s?s:173,"px"),"--line-thickness":"1px"},h:"100%",children:(0,i.jsx)(iB.N,{cardId:t.key,zoomIn:t.zoomIn,shadow:"md",border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"80px",maxH:"100px"})})});iF.displayName="VariantCard";let iV=()=>(0,i.jsx)(tk.s,{direction:"column",w:"100%",gap:1,opacity:.7,px:4,children:Array.from({length:3}).map((e,t)=>(0,i.jsxs)(tk.s,{direction:"column",w:"100%",mb:4,children:[(0,i.jsx)(tk.s,{alignItems:"center",justifyContent:"space-between",mb:2,children:(0,i.jsxs)(tk.s,{px:2,py:1,alignItems:"center",flex:1,children:[(0,i.jsx)(a.a,{as:"span",fontSize:"lg",me:2,children:(0,i.jsx)(a.a,{w:"16px",h:"16px",bg:"gray.200",borderRadius:"sm"})}),(0,i.jsx)(a.a,{w:"120px",h:"20px",bg:"gray.200",borderRadius:"md"})]})}),(0,i.jsx)(ib.r,{columns:2,spacing:4,children:Array.from({length:4}).map((e,t)=>(0,i.jsxs)(tk.s,{direction:"column",overflow:"hidden",h:"100px",position:"relative",children:[(0,i.jsx)(a.a,{flex:1,borderWidth:"1px",borderColor:"gray.200",borderRadius:"md",w:"100%",position:"relative",bg:"gray.50"}),(0,i.jsx)(tk.s,{direction:"row",alignItems:"center",mt:2,children:(0,i.jsx)(a.a,{w:"80px",h:"16px",bg:"gray.200",borderRadius:"md"})})]},t))})]},t))}),iO=e=>({visibility:e?"visible":"hidden",height:e?"auto":"0",overflow:"hidden",position:e?"relative":"absolute",pointerEvents:e?"auto":"none","aria-hidden":!e,tabIndex:e?void 0:-1}),iZ=Object.assign(e=>{let{selectedSmartLayoutRange:t,closePanel:n,editor:a,node:r}=e;return(0,k.lC)(a,!0),(0,c.useEffect)(()=>{var e;let i=null==a||null==(e=a.state.selection)?void 0:e.from,{from:r,to:s}=t||{};if(!r||!s||!i)return void n();let l=null==a?void 0:a.state.doc.nodeAt(r),o=(null==l?void 0:l.type.name)==="smartLayout";(i===r||i>r&&i<s)&&o||n()},[null==a?void 0:a.state.selection,t,n,null==a?void 0:a.state.doc]),(0,i.jsx)(iW,{closePanel:n,selectedSmartLayoutRange:t,editor:a,node:r})},{panelPosition:"right",panelName:"smart-layout-variant",canCollapse:!1,minWidth:400}),iW=e=>{let{closePanel:t,selectedSmartLayoutRange:n,editor:a,node:r}=e,[s,l]=(0,c.useState)(null),[o,d]=(0,c.useState)(null);(0,c.useEffect)(()=>{var e,t;if(!n||!n.from)return;let i=r&&(null==r||null==(e=r.attrs)?void 0:e.variantKey)||"",a=r&&(null==r||null==(t=r.attrs)?void 0:t.options)||{};l((0,i_.Z)(i,a)),d(iH({baseContent:null==r?void 0:r.toJSON(),variants:(0,iD.pK)()}))},[]);let u={bgColor:(0,iC.dU)("white","gray.800"),textColor:(0,iC.dU)("gray.800","white")},p=(0,c.useCallback)(e=>{a&&n&&n.from&&(l(e),requestAnimationFrame(()=>{n.from&&iN(a,e,n.from)}))},[a,n]);return s?(0,i.jsx)(iv.Z,{bgColor:u.bgColor,w:"100%",pt:4,children:(0,i.jsxs)(tk.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,i.jsxs)(tk.s,{position:"relative",px:4,children:[(0,i.jsx)(tk.s,{flex:1,children:(0,i.jsx)(iw.N,{children:(0,i.jsx)(D.x6,{id:"uNnHCK"})})}),(0,i.jsx)(iy.J,{onClick:t})]}),(0,i.jsx)(iU,{combinedContent:o,savedVariantHash:s,handleSelectVariant:p,editor:a,selectedSmartLayoutPos:null==n?void 0:n.from})]})}):null},iU=c.memo(e=>{let{combinedContent:t,savedVariantHash:n,handleSelectVariant:r,editor:s,selectedSmartLayoutPos:l}=e,{selectedFamilyKey:o,setSelectedFamilyKey:d,searchQuery:u,handleSearchChange:p,filteredVariants:h,suggestedFamilyKey:g}=iR({selectedVariantHash:n,editor:s,selectedSmartLayoutPos:l}),[m,x]=(0,c.useState)(!1),[f,b]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{b(!0);let e=setTimeout(()=>{x(!0)},ik),t=setTimeout(()=>{b(!1)},iL);return()=>{clearTimeout(e),clearTimeout(t)}},[]),t)?(0,i.jsxs)(tk.s,{direction:"column",h:"100%",overflowY:"auto",flex:1,pt:4,children:[(0,i.jsx)(iT,{selectedFamilyKey:o,setSelectedFamilyKey:d,searchQuery:u,handleSearchChange:p,suggestedFamilyKey:g}),f&&(0,i.jsx)(iV,{}),m&&(0,i.jsx)(iA.q,{initialContent:t,children:(0,i.jsx)(tk.s,{direction:"column",w:"100%",gap:1,children:h.map((e,t)=>{let s=e.visible,l=iO(s);return(0,i.jsxs)(tk.s,{direction:"column",w:"100%",...l,children:[s&&(0,i.jsx)(tk.s,{alignItems:"center",justifyContent:"space-between",children:(0,i.jsxs)(tk.s,{px:4,py:1,alignItems:"center",flex:1,children:[(0,i.jsx)(a.a,{as:"span",fontSize:"lg",me:2,children:e.family.icon&&(0,i.jsx)(_.g,{icon:e.family.icon,fixedWidth:!0,size:"sm"})}),(0,i.jsx)(Z.E,{children:e.family.name()})]})}),(0,i.jsx)(ib.r,{columns:2,gap:1,px:2,pb:2*!!s,...l,children:e.variants.flatMap(e=>e.options.map(e=>{let t=iO(s&&e.visible);return(0,i.jsx)(c.Fragment,{children:(0,i.jsx)(a.a,{...t,children:(0,i.jsx)(iF,{item:e,isSelected:n===e.key,onClick:()=>{r(e.key)}})})},e.key)}))})]},t)})})})]}):null});iU.displayName="SmartLayoutVariantList";let iG=()=>{let{togglePanel:e,isPanelOpen:t}=(0,ix.ww)(iZ);return{toggleSmartLayoutVariantPanel:e,isSmartLayoutVariantPanelOpen:t}};var iK=n(5380),iQ=n(80835),iq=n(6494);let iJ=e=>{let{variant:t,variantKey:n,updateVariant:a}=e,r=(0,c.useMemo)(()=>{var e;let t=(0,iD.ML)(),r=null==(e=t.find(e=>e.variants.some(e=>e.variant.key===n)))?void 0:e.family.key;return t.map(e=>{let t=r===e.family.key;return{key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,background:t?"trueblue.50":void 0,items:e.variants.map(e=>{let t=e.variant,r=n===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:r?(0,i.jsx)(nT.S,{}):(0,i.jsx)(_.g,{fixedWidth:!0,icon:t.icon}),background:r?"trueblue.50":void 0,onClick:()=>a(t.key)}})}})},[n,a]),s=(0,c.useRef)(null),{onContextMenu:l,menuProps:o}=(0,iQ.pO)(s);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),leftIcon:(0,i.jsx)(_.g,{icon:t.icon,fixedWidth:!0}),size:"sm","data-testid":"smart-layout-variant-dropdown",onMouseDown:e=>l(e),ref:s,children:t.name()}),(0,i.jsx)(iQ.tz,{...o,menuItems:r,size:"small"})]})};var i$=n(35616),iY=n(56124);let iX=e=>{let{editor:t,selection:n}=e,a=i0(t,n),r=(0,c.useCallback)(e=>{t.chain().focus().setTableCellBackgroundColor(e).run()},[t]),l=(0,c.useCallback)(()=>{t.chain().focus().unsetTableCellBackgroundColor().run()},[t]);return(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[(0,i.jsx)(s.Tz,{placement:"top",label:(0,i.jsx)(D.x6,{id:"a08Aie"}),children:(0,i.jsx)(E.I,{as:S.$,variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),onMouseDown:z.Fw,size:"sm",children:(0,i.jsx)(i1,{color:a})})}),(0,i.jsx)(M.c,{overflow:"hidden",children:(0,i.jsx)(nZ.b,{currentColor:a||null,setColor:r,unsetColor:l,source:"TableCellBackground"})})]})},i0=(e,t)=>{let n=null,i=!0;return t.forEachCell(e=>{if("tableCell"===e.type.name){let t=e.attrs.backgroundColor||null;if(i)n=t,i=!1;else if(n!==t)return n=null,!1}return!0}),n},i1=e=>{let{color:t}=e;return(0,i.jsxs)(tA.B,{spacing:"2px",alignItems:"center",children:[(0,i.jsx)(_.g,{icon:I.fyG,size:"sm",transform:{y:+!!t}}),t&&(0,i.jsx)("div",{style:{position:"relative",top:"2px",width:"20px",height:"6px",backgroundColor:t,borderRadius:"2px",border:"1px solid rgba(0, 0, 0, 0.4)"}})]})};var i2=n(12514);let i3=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:l}=e,o=tR.gj.map(e=>{let{key:n,name:a,shortcut:r,icon:s,checkActive:l,apply:o}=e;return(0,i.jsx)(B.I,{icon:s,label:a(),onClick:()=>null==o?void 0:o(t),isActive:null==l?void 0:l(t),testId:n,shortcut:r},n)});return t.shouldUseLiteMenus?(0,i.jsx)(L.e,{spacing:0,children:o}):(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[(0,i.jsx)(s.Tz,{placement:"top",label:l,children:(0,i.jsx)(E.I,{isDisabled:a,as:S.$,variant:"toolbar","data-testid":n,onMouseDown:z.Fw,rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(_.g,{icon:r})})}),(0,i.jsx)(i2.Z,{children:(0,i.jsx)(M.c,{minW:"auto",zIndex:"modalPopover",dir:"ltr",children:o})})]})};var i5=n(83550),i4=n(82172),i6=n(11215),i9=n(76083);let i7=()=>({list:{label:R.Ru._({id:"Ci8I/9"})},wrap:{label:R.Ru._({id:"T4+jD7"})}}),i8=()=>{let e=(0,i9.Vo)();return[{key:"toggle",name:()=>R.Ru._({id:"JFciKP"}),icon:I.ijD,node:"toggle",description:()=>R.Ru._({id:"rhfAX6"}),apply:t=>{(0,i9.Jb)(e.toggle,e3.oU.FORMATTING_MENU),t.chain().wrapWithToggle().run()},group:"wrap"},{key:"convertToNestedCard",name:()=>R.Ru._({id:"lOmsEK"}),node:"card",description:()=>R.Ru._({id:"gRMoQV"}),icon:I.ViY,apply:t=>{(0,i9.Jb)(e.insertCardInside,e3.oU.FORMATTING_MENU),t.chain().convertToNestedCard().run()},checkDisabled:e=>!e.schema.nodes.card||!(0,ef.pO)(e,"card"),group:"wrap"},{key:"blockquote",name:()=>R.Ru._({id:"OLMhPm"}),node:"blockquote",description:()=>R.Ru._({id:"2yuhT7"}),icon:I.R9H,shortcut:"> Quote",apply:e=>e.chain().wrapWithAnnotations("blockquote").run(),checkDisabled:e=>!(0,ef.pO)(e,"blockquote"),group:"wrap"},{key:"calloutBox",name:()=>R.Ru._({id:"1E4ojF"}),node:"calloutBox",description:()=>R.Ru._({id:"4Wf98Z"}),icon:I.iW_,apply:e=>e.chain().wrapWithAnnotations("calloutBox",{variant:"info"}).run(),checkDisabled:e=>!(0,ef.pO)(e,"calloutBox"),group:"wrap"},{key:"listToCards",name:()=>R.Ru._({id:"FJ18tL"}),icon:I.vGi,description:()=>R.Ru._({id:"hWesxP"}),group:"list",apply:e=>e.commands.listToCards(),checkDisabled:e=>!(0,i4.Jx)(e)},...(0,i6.P3)()]};var ae=n(17928),at=n(67864),an=n(71737),ai=n(91655),aa=n(55786),ar=n(43944),as=n(91656);let al=[[{key:"textColor",name:()=>R.Ru._({id:"MapzEo"}),icon:I.jrc,shortcut:"Mod+Shift+H",enabledForTables:!0,checkDisabled:an.NO}],[{key:"bold",name:()=>R.Ru._({id:"KmydK6"}),mark:"bold",icon:eX.l5I,shortcut:"Mod+B",enabledForTables:!0},{key:"italic",name:()=>R.Ru._({id:"pzutoc"}),mark:"italic",icon:I.SIw,shortcut:"Mod+I",enabledForTables:!0},{key:"underline",name:()=>R.Ru._({id:"YyXtnN"}),mark:"underline",icon:I.chs,shortcut:"Mod+U",enabledForTables:!0},{key:"strike",name:()=>R.Ru._({id:"WhOsNE"}),mark:"strike",icon:I.$6A,shortcut:"Mod+Shift+X",enabledForTables:!0},{key:"code",name:()=>R.Ru._({id:"EWPtMO"}),mark:"code",icon:I.jTw,shortcut:"Mod+Shift+C"},{key:"math",name:()=>R.Ru._({id:"l8rp1O"}),apply:e=>e.commands.convertToMathInline(),icon:I.Dkf,featureFlag:"math",shortcut:"$$",checkDisabled:()=>!0},{key:"removeFormatting",name:()=>R.Ru._({id:"bj5jMy"}),icon:I.Dkb,apply:e=>e.chain().unsetAllMarks().focus().run(),enabledForTables:!0}],[{key:"link",name:()=>R.Ru._({id:"yzF66j"}),mark:"link",icon:I.CQO,shortcut:"Mod+K"},{key:"footnote",name:()=>R.Ru._({id:"ONAJuB"}),icon:I.sxe,apply:e=>{(0,aa.J)((0,ai.Vo)().footnote,e3.oU.FORMATTING_MENU),e.chain().toggleFootnote().run()},checkActive:e=>e.isActive("footnoteLabel"),shortcut:"Mod+Alt+F",checkDisabled:e=>(0,t$.Q)(e)||!(0,ef.pO)(e,"footnote")||(0,an.NO)(e)}],[{key:"numbered",name:()=>R.Ru._({id:"M3G9ZD"}),icon:I.Tsj,node:"numbered",checkActive:e=>(0,ar.Lf)(e,as.e.Numbered),shortcut:"Mod+/ or Mod+Shift+7",apply:e=>e.chain().toggleListItems({variant:as.e.Numbered}).focus().run()},{key:"bullet",name:()=>R.Ru._({id:"ynb7Kh"}),icon:I.pch,node:"bullet",checkActive:e=>(0,ar.Lf)(e,as.e.Bullet),apply:e=>e.chain().toggleListItems({variant:as.e.Bullet}).focus().run(),shortcut:"Mod+. or Mod+Shift+8"},{key:"todo",name:()=>R.Ru._({id:"rCIbrq"}),icon:I.AgW,node:"todo",checkActive:e=>(0,ar.Lf)(e,as.e.Todo),shortcut:"Mod+, or Mod+Shift+9",apply:e=>{let{from:t,to:n}=e.state.selection;e.chain().toggleListItems({variant:as.e.Todo}).run(),requestAnimationFrame(()=>e.chain().focus().setTextSelection({from:t,to:n}).run())}}],[{key:"alignText",name:()=>R.Ru._({id:"6Hkcin"}),icon:I.ecg,enabledForTables:!0}],[{key:"convertText",name:()=>R.Ru._({id:"cXIM1U"}),checkDisabled:e=>!!e.shouldUseLiteMenus,icon:I.VH5},{key:"rewriteText",name:()=>R.Ru._({id:"C4t1b/"}),icon:eX.p7g,checkDisabled:e=>!!e.shouldUseLiteMenus,needsConnection:!0},{key:"visualizeText",name:()=>R.Ru._({id:"vzQMNK"}),icon:I.Gmj,apply:e=>{let{from:t,to:n}=e.state.selection,i=e.state.doc.slice(t,n),a=(0,ez.KC)(e,i.content).trim();a&&e.chain().setTextSelection(n).insertSmartDiagram({attrs:{},selectedText:a}).run()},checkDisabled:e=>{if(e.shouldUseLiteMenus)return!0;let{from:t,to:n}=e.state.selection;return 0===e.state.doc.textBetween(t,n).trim().length},featureFlag:"visualizeText",needsConnection:!0}],[{key:"comment",name:()=>R.Ru._({id:"oFsfkI"}),icon:I.DN2,checkDisabled:e=>(0,t$.Q)(e)||(0,an.NO)(e)||!!e.shouldUseLiteMenus,needsConnection:!0,apply:e=>{let{selection:t}=e.state,{from:n,to:i}=t,[a]=(0,ef.TK)(e.state.doc.resolve(n),(e,t)=>(0,at.cE)(t));if(!a)return void console.warn("[TEXT_FORMATTING_COMMANDS] Add comment - Unable to find annotatable parent for this selection");let r=(0,ef.r$)(e.state.doc,n,i,e=>"footnote"!==e.type.name&&"cardNotes"!==e.type.name,"__BLOCK_SEPARATOR_PLACEHOLDER").split("__BLOCK_SEPARATOR_PLACEHOLDER").join("<br /><br />");ae.LF.emit(ae.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:n,parentPos:a.pos,text:r})}}]],ao=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(t.needsConnection&&i||t.featureFlag&&!eB.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e)))||(t.node?!(0,ef.aq)(e,t.node):!!t.mark&&!(0,ef.Au)(e,t.mark))},ac=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:l}=e,{isInOfflineMode:o}=(0,eH.u)(),c=i8().filter(e=>e.apply&&!ao(t,e,o));return 0===c.length?null:(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[(0,i.jsx)(s.Tz,{placement:"top",label:l,children:(0,i.jsx)(E.I,{isDisabled:a,as:S.$,variant:"toolbar","data-testid":n,onMouseDown:z.Fw,rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(_.g,{icon:r})})}),(0,i.jsx)(i2.Z,{children:(0,i.jsx)(M.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"400px",children:Object.entries(i7()).map(e=>{let[n,{label:a}]=e,r=c.filter(e=>e.group===n);return 0===r.length?null:(0,i.jsx)(i5.r,{title:a,children:r.map(e=>{let{key:n,icon:a,name:r,description:s,apply:l}=e;return(0,i.jsxs)(nj.D,{value:n,icon:(0,i.jsx)(_.g,{icon:a,fixedWidth:!0}),onClick:()=>l(t),"data-testid":"text-convert-menu-".concat(n),children:[(0,i.jsx)(Z.E,{children:r()}),s&&(0,i.jsx)(Z.E,{color:"gray.400",fontSize:"sm",children:s()})]},n)})},n)})})})]})};var ad=n(13731),au=n.n(ad);let ap=()=>({rephrase:{label:R.Ru._({id:"bKWhYP"})},visualize:{label:R.Ru._({id:"6n7jtr"})},reformat:{label:R.Ru._({id:"ILEG4I"})}}),ah=[{key:"rephrase.better",type:"rephrase",name:()=>R.Ru._({id:"24nR0A"}),icon:I.DKF,description:()=>R.Ru._({id:"8KfRLQ"}),apply:e=>{let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);ae.LF.emit("queueBuddyEditMessage",{message:R.Ru._({id:"Us1RzN",values:{plainText:i}})})}},{key:"rephrase.expand",type:"rephrase",name:()=>R.Ru._({id:"XhF4Jp"}),icon:I.t6y,description:()=>R.Ru._({id:"fB02Qr"}),apply:e=>{let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);ae.LF.emit("queueBuddyEditMessage",{message:R.Ru._({id:"SnevVr",values:{plainText:i}})})}},{key:"rephrase.condense",type:"rephrase",name:()=>R.Ru._({id:"g/NDyG"}),icon:I.nr0,description:()=>R.Ru._({id:"Yrd0bz"}),apply:e=>{let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);ae.LF.emit("queueBuddyEditMessage",{message:R.Ru._({id:"4oqnEl",values:{plainText:i}})})}}],ag=[{key:"rephrase.better",type:"rephrase",name:()=>R.Ru._({id:"24nR0A"}),icon:I.DKF,description:()=>R.Ru._({id:"8KfRLQ"}),apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"b5W83S"})})}},{key:"rephrase.expand",type:"rephrase",name:()=>R.Ru._({id:"XhF4Jp"}),icon:I.t6y,description:()=>R.Ru._({id:"fB02Qr"}),apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"OXmWnl"})})}},{key:"rephrase.condense",type:"rephrase",name:()=>R.Ru._({id:"g/NDyG"}),icon:I.nr0,description:()=>R.Ru._({id:"Yrd0bz"}),apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"jBaWwf"})})}},{key:"visualize.keypoints",type:"visualize",name:()=>R.Ru._({id:"n+v3I1"}),description:()=>R.Ru._({id:"E9axcX"}),icon:I.bef,node:"smartLayout",apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"bXgpVx"})})}},{key:"visualize.images",type:"visualize",name:()=>R.Ru._({id:"laUyeH"}),description:()=>R.Ru._({id:"ADlAam"}),icon:I.yvG,apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"p2oHY3"})})}},{key:"visualize.timeline",type:"visualize",name:()=>R.Ru._({id:"Oh+9k8"}),description:()=>R.Ru._({id:"Qx1qQH"}),icon:I.v6v,apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"4ReFRy"})})}},{key:"reformat.columns",type:"reformat",name:()=>R.Ru._({id:"KyPPwt"}),description:()=>R.Ru._({id:"52Y/fs"}),icon:I.fq7,node:"gridLayout",apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"Y0UR8y"})})}},{key:"reformat.table",type:"reformat",name:()=>R.Ru._({id:"84sVti"}),description:()=>R.Ru._({id:"CxvNve"}),icon:I.w97,node:"table",apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"rU0fs4"})})}},{key:"reformat.toggles",type:"reformat",name:()=>R.Ru._({id:"aRUmvo"}),icon:I.Ke8,node:"toggle",description:()=>R.Ru._({id:"914Ln8"}),apply:()=>{ae.LF.emit("queueDesignPartnerTask",{message:R.Ru._({id:"rivjMe"})})}}],am=()=>Object.entries(au()(ag,"type")),ax=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:l}=e,o=(0,O.d)(),{isInOfflineMode:c}=(0,eH.u)();return(0,i.jsxs)(j.W,{isLazy:!0,onClose:()=>(0,N.q)(t),children:[(0,i.jsx)(s.Tz,{placement:"top",label:l,children:(0,i.jsx)(E.I,{isDisabled:a,as:S.$,variant:"toolbar","data-testid":n,onMouseDown:z.Fw,color:"trueblue.500",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(_.g,{icon:r})})}),(0,i.jsx)(i2.Z,{children:(0,i.jsx)(M.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"450px",children:am().map(e=>{let[n,a]=e,{label:r}=ap()[n],s=a.map(e=>{if(!(!e.apply||ao(t,e,c)))return(0,i.jsxs)(nj.D,{value:e.key,icon:(0,i.jsx)(_.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>af(e,t,o),children:[(0,i.jsx)(Z.E,{children:e.name()}),e.description&&(0,i.jsx)(Z.E,{color:"gray.400",fontSize:"sm",children:e.description()})]},e.key)}).filter(Boolean);return s.length?(0,i.jsx)(i5.r,{title:r,children:s},n):null})})})]})},af=(e,t,n)=>{let{apply:a}=e;if(!a)return;let s=a(t);if(!s)return;let l=n({position:"top",isClosable:!1,duration:null,status:"loading",colorScheme:"gray",variant:"subtle",title:(0,i.jsx)(D.x6,{id:"j4ZLea"})});s.then(()=>{n.close(l);let e=n({title:(0,i.jsxs)(r.z,{children:[(0,i.jsxs)(Z.E,{noOfLines:1,children:[(0,i.jsx)(D.x6,{id:"hAmdL3"})," "]}),(0,i.jsx)(W.N,{textDecoration:"underline",onClick:()=>{(0,U.tN)(t.state),n.close(e)},children:(0,i.jsx)(D.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top"})}).catch(e=>{n.close(l),n({title:(0,i.jsx)(D.x6,{id:"mTQLsL"}),description:e.message,status:"error",duration:3e3,position:"top"})})},ab=e=>{let{editor:t}=e;return(0,c.useMemo)(()=>[{key:"writing",label:()=>R.Ru._({id:"4kJRen"}),operations:ah.map(e=>({key:e.key,label:()=>e.name(),icon:e.icon,onQuickAction:()=>{var n;null==(n=e.apply)||n.call(e,t)}}))}],[t])},aC=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:l}=e,{isOpen:o,onOpen:c,onClose:d}=(0,eY.j)(),u=ab({editor:t});return(0,i.jsx)(s.L8,{isDark:!1,children:(0,i.jsx)(e2.A,{title:R.Ru._({id:"QdkMII"}),placeholder:R.Ru._({id:"asPvjX"}),editor:t,isOpen:o,onOpen:c,onClose:d,trigger:(0,i.jsx)(s.Tz,{placement:"top",label:l,children:(0,i.jsx)(S.$,{isDisabled:a,variant:"toolbar","data-testid":n,onMouseDown:z.Fw,color:"deepocean.500",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(_.g,{icon:r})})}),placement:"bottom-end",actionGroups:u,hideSelection:!0})})},ay=e=>(0,eB.u)("buddyEdit")?(0,i.jsx)(aC,{...e}):(0,i.jsx)(ax,{...e});var av=n(6760);let aw=e=>{let{badge:t,label:n,leftIcon:r,isSticky:s,onClick:l,isDisabled:o}=e,c=(0,iC.dU)("gray.50","gray.700");return(0,i.jsx)(tk.s,{bg:c,position:s?"sticky":"static",bottom:s?-2:"auto",children:(0,i.jsxs)(S.$,{colorScheme:"gray",variant:"link",size:"sm",mx:"auto",leftIcon:r,onClick:l,isDisabled:o,w:"100%",py:3,children:[n,t&&(0,i.jsx)(a.a,{ms:2,children:t})]})})};var aA=n(51737),ak=n(17406),aL=n(12117),aj=n(80274);let aE=(e,t)=>!!t&&(e||!t.startsWith("/")),aS=e=>{let{editor:t}=e,{isInOfflineMode:n}=(0,eH.u)(),s=(0,p.GV)(tv.SJ),{bodyFont:l,headingFont:o}=s,d=e=>{t.chain().focus().setFontSize(e).run()},u=(0,ef.zi)(t,"heading"),h=(0,ef.zi)(t,"title"),g=(0,ef.zi)(t,"body"),m=(0,c.useCallback)(()=>{s.workspaceId?(0,aA.vd)({theme:s}):(0,aA.L6)({theme:s})},[s]);if(!g&&!u&&!h)return null;let x=(0,aL.Xw)(t),f="default",b=(0,aj.o)("default");f=t.isActive("title")?(0,aj.bn)(t.getAttributes("title").level)||"default":t.isActive("heading")?(0,aj.bZ)(t.getAttributes("heading").level)||"default":1===x.length&&x[0]||"default",b=(0,aj.o)(f)||b;let C=e=>"".concat(Math.sqrt(e),"em"),y=(0,an.NO)(t),v=!!t.extensionManager.extensions.find(e=>"slashMenu"===e.name);return(0,i.jsxs)(j.W,{closeOnSelect:!0,isLazy:!0,children:[(0,i.jsx)(E.I,{size:"sm",as:S.$,rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$,transform:"shrink-6"}),variant:"toolbar",pl:2,children:b.label}),(0,i.jsxs)(M.c,{maxH:"min(60em, 45vh)",overflowY:"auto",minW:"260px",children:[g&&(0,i.jsx)(t5.i,{type:"radio",value:f,children:(0,ak.QD)().filter(e=>{let[t]=e;return!(y&&"default"!==t)}).map(e=>{let[t,{label:n,size:a,flagged:s,shortcut:o}]=e,c=aE(v,o);return(0,i.jsx)(t4.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(Z.E,{fontFamily:l,fontSize:C(a),children:n}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tz.h,{}),(0,i.jsx)(Z.E,{color:"gray.400",children:o})]})]})},t)})}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(av.N,{}),(0,i.jsx)(t5.i,{type:"radio",value:f,children:(0,ak.KG)().reverse().map(e=>{let[t,{label:n,size:a,shortcut:s}]=e,l=aE(v,s);return(0,i.jsx)(t4.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(Z.E,{fontSize:C(a),fontWeight:"bold",fontFamily:o,children:n}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tz.h,{}),(0,i.jsx)(Z.E,{color:"gray.400",children:s})]})]})},t)})})]}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(av.N,{}),(0,i.jsx)(t5.i,{type:"radio",value:f,children:(0,ak.Y5)().map(e=>{let[t,{label:n,size:a,shortcut:s}]=e,l=aE(v,s);return(0,i.jsx)(t4.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(Z.E,{fontSize:C(a),fontWeight:"bold",fontFamily:o,children:n}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tz.h,{}),(0,i.jsx)(Z.E,{color:"gray.400",children:s})]})]})},t)})})]}),(0,i.jsx)(a.a,{mt:2,mb:-2,mx:-2,children:(0,i.jsx)(aw,{label:(0,i.jsx)(D.x6,{id:"gJpKw8"}),leftIcon:(0,i.jsx)(_.g,{icon:I.tiU,fixedWidth:!0}),onClick:m,isDisabled:n})})]})]})},aM=e=>{let{editor:t,filterBy:n}=e,{isInOfflineMode:a}=(0,eH.u)(),s="rtl"===(0,tR.CY)(t)?"alignRight":"alignLeft",l=()=>{let e=tR.gj.find(e=>e.alignment===(0,tR.F0)(t));if(e)return e.icon;let n=tR.gj.find(e=>e.key===s);return(null==n?void 0:n.icon)||I.ecg};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.e,{isAttached:!0,onMouseDown:z.Fw,children:(0,i.jsx)(aS,{editor:t})},"text"),al.map((e,s)=>(0,i.jsx)(L.e,{spacing:0,size:"sm",onMouseDown:z.Fw,_empty:{display:"none"},children:e.filter(e=>{let i=!ao(t,e,a);return n?i&&e[n]:i}).map(e=>{let{key:n,name:a,shortcut:s,icon:o,mark:c,node:d,checkActive:u,apply:p}=e,h=p||(c?e=>e.chain().toggleMark(c).focus().run():()=>{}),g=u?u(t):c?t.isActive(c):d?t.isActive(d):void 0;if("textColor"===n)return(0,i.jsx)(n8,{shortcut:s,icon:o,editor:t},n);if("rewriteText"===n)return(0,i.jsx)(ay,{editor:t,shortcut:s,icon:o,testId:n,label:a()},n);if("convertText"===n)return(0,i.jsx)(ac,{editor:t,shortcut:s,icon:o,testId:n,label:a()},n);if("alignText"===n)return(0,i.jsx)(i3,{editor:t,shortcut:s,icon:l(),testId:n,label:a()},n);if("visualizeText"===n)return(0,i.jsx)(S.$,{variant:"toolbar",isActive:g,onClick:()=>h(t),children:(0,i.jsxs)(r.z,{spacing:1,alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(_.g,{icon:o}),(0,i.jsx)(Z.E,{children:a()})]})},n);else return(0,i.jsx)(B.I,{label:a(),shortcut:s,isActive:g,onClick:()=>h(t),icon:o,testId:n},n)})},s))]})};var aI=function(e){return e.enabledForTables="enabledForTables",e}({});let a_=e=>{var t;let{editor:n,selection:a}=e,s=a.isRowSelection(),o=a.isColSelection(),c=s&&o,d=(0,l.KP)(iY.hj)(a),u=Math.min(a.$anchorCell.pos,a.$headCell.pos),p=Math.max(a.$anchorCell.pos,a.$headCell.pos),{colMinPercent:h,newColSize:g}=n.schema.nodes[i$.X.name].spec,m=null!=(t=a.getTableNode())?t:d,x=(0,nz.cG)(m.attrs.colWidths,g,h);return(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(aM,{editor:n,filterBy:aI.enabledForTables}),(0,i.jsx)(iX,{editor:n,selection:a}),s||o||c&&(0,i.jsx)(H.q,{}),s&&!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"1ct6G/"}),onClick:()=>{n.commands.addRowBefore(),requestAnimationFrame(()=>{n.commands.focus(u)})},testId:"add-row-before-button",children:(0,i.jsx)(_.g,{icon:I.UiS})}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"JUmxSq"}),onClick:()=>{n.commands.addRowAfter(),requestAnimationFrame(()=>{n.chain().focus(p).goToNextCell().run()})},testId:"add-row-after-button",children:(0,i.jsx)(_.g,{icon:I.UiS,rotation:180})}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"0cspe/"}),icon:I.yLS,onClick:()=>n.chain().focus().deleteRow().run(),color:"red.500",testId:"delete-row-button"})]}),o&&!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"mwcRkO"}),onClick:()=>{let{left:e}=(0,b._t)(n.state.selection)||{};n.commands.addColumnBefore(null!=e?e:0),requestAnimationFrame(()=>{n.commands.focus(u)})},isDisabled:!x,testId:"add-col-before-button",children:(0,i.jsx)(_.g,{icon:I.UiS,rotation:270})}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"/93cy4"}),onClick:()=>{let{left:e}=(0,b._t)(n.state.selection)||{};n.commands.addColumnAfter(null!=e?e:0),requestAnimationFrame(()=>{n.chain().focus(u).goToNextCell().run()})},isDisabled:!x,testId:"add-col-after-button",children:(0,i.jsx)(_.g,{icon:I.UiS,rotation:90})}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"GAohqx"}),icon:I.yLS,onClick:()=>{n.commands.deleteColumn(),requestAnimationFrame(()=>{n.commands.focus(u)})},color:"red.500",testId:"delete-col-button"})]}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"SOkhdm"}),icon:I.yC$,onClick:()=>n.commands.equalizeColumns(),testId:"equalize-columns-button"}),(0,i.jsx)(H.q,{}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"HSI88F"}),icon:I.yLS,onClick:()=>n.chain().focus().deleteTable().run(),color:"red.500",testId:"delete-table-button"})]})]})},aD=[{component:a_,predicate:e=>e instanceof b.rn&&e.isColSelection(),offsetPx:16},{component:a_,predicate:e=>e instanceof b.rn&&e.isRowSelection(),offsetPx:12},{component:a_,predicate:e=>e instanceof b.rn,offsetPx:12},{component:e=>{let{editor:t,selection:n}=e,a=(0,p.GV)(tv.SJ),r=n.node,s=(0,tC.Ik)((0,tC.VH)(a));return r?(0,i.jsx)(ty.z,{attributes:r.attrs,updateAttributes:e=>{t.chain().updateAttributes("chart",e).focus().run()},accentColor:s,setEditing:()=>{t.commands.editSelectedChart()},editor:t,inline:!0}):null},predicate:e=>{var t,n;return e instanceof o.nh&&(null==(n=e.node)||null==(t=n.type)?void 0:t.name)==="chart"},isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=(0,p.GV)(tv.SJ),r=t.getAttributes("link").href||"",s=!t.shouldUseLiteMenus,{isPageLink:l}=nw({href:r}),o=(0,tC.Ik)((0,tC.Jh)(a)),d=(0,nY.u)("disableDocMentionPasteRule"),u=(0,c.useCallback)(e=>{t.commands.updateSurroundingLink(e)},[t]),h=(0,t2.f)(),g=(0,c.useCallback)(e=>{t.view.focus(),h({isOpen:!0}),e.stopPropagation()},[t,h]);return(0,i.jsxs)(tM,{children:[s&&r&&!(0,ni.hc)(r)&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"/SVg/B"}),icon:I.CQO,children:(0,i.jsx)(nK,{editor:t,selection:n,isDisabled:l})}),(0,i.jsx)(nL,{href:r,updateHref:u,clearHref:()=>{t.commands.updateSurroundingLink("")},removeLink:()=>t.commands.removeSurroundingLink(),editor:t}),s&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"0j+RGO"}),icon:I.ecg,children:(0,i.jsx)(L.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:z.Fw,children:tR.gj.map(e=>{let{name:n,key:a,icon:r,shortcut:s,checkActive:l,apply:o}=e;if(l&&o)return(0,i.jsx)(B.I,{label:n(),shortcut:s,isActive:l(t),onClick:()=>{o(t)},icon:r,testId:a,my:0},a)})})}),s&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"jZlrte"}),icon:I.wIs,children:(0,i.jsx)(n8,{editor:t,useMenuButton:!0,isLinkText:!0,defaultTextColor:o})}),s&&d&&(0,i.jsx)(il,{editor:t,href:r}),s&&!(0,ni.hc)(r)&&(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"sxkWRg"}),onClick:g,icon:I.BH7})]})},predicate:(e,t)=>e instanceof o.U3&&t.isActive("link"),isPopover:!0},{component:nQ,predicate:(e,t)=>t.isActive("button")&&!t.isSiteNavbarEditor,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{node:a,from:r}=n,s=e=>!!a&&JSON.stringify(e)===JSON.stringify(a.attrs.colWidths),{verticalAlign:l}=t.getAttributes("gridCell"),o=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===l?null:e}).selectNodeAtPos(n.from).focus().run()},[t,n,l]),d=(0,c.useCallback)(()=>{if(!r||!a)return;let e=(0,nz.yU)(a.childCount);t.commands.useLayoutPreset(r,e)},[t,r,a]),u=(0,c.useCallback)(e=>{let i=t.chain();if(i.updateAttributes("gridLayout",{backgroundColor:e}),null!==e)try{let e=t.state.doc.resolve(n.from);(0,g.Ob)(e).forEach(e=>{i.updateAttributesAtPos(e.pos,{backgroundColor:null})})}catch(e){console.warn("Could not clear child cell colors:",e)}i.selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(L.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsxs)(t3.ms,{isLazy:!0,children:[(0,i.jsx)(t3.gf,{as:S.$,variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.Jt$}),size:"sm","data-testid":"layout-preset-dropdown",children:(0,i.jsx)(D.x6,{id:"6v+N4U",values:{0:a.childCount}})}),(0,i.jsx)(t3.Q5,{"data-in-editor-focus":!0,fontSize:"md",children:nV().map(e=>{let{testId:n,name:a,image:l,value:o}=e;return(0,i.jsx)(t3.tJ,{"data-testid":n,icon:s(o)?(0,i.jsx)(nT.S,{w:"2rem"}):(0,i.jsx)(ti._,{h:"1rem",w:"2rem",objectFit:"cover",src:l.src}),onClick:()=>{r&&t.commands.useLayoutPreset(r,o)},children:a},a)})})]}),(0,i.jsx)(B.I,{onClick:d,label:R.Ru._({id:"SOkhdm"}),icon:I.yC$,testId:"layout-equalize-columns-button"}),(0,i.jsx)(B.I,{onClick:()=>o("start"),isActive:"start"===l,label:R.Ru._({id:"/Q0jUh"}),icon:eX.jot}),(0,i.jsx)(B.I,{onClick:()=>o("center"),isActive:"center"===l,label:R.Ru._({id:"QhuQN2"}),icon:eX.nr0}),(0,i.jsx)(B.I,{onClick:()=>o("end"),isActive:"end"===l,label:R.Ru._({id:"EPnxoe"}),icon:eX.yHR}),(0,i.jsx)(F.a,{color:a.attrs.backgroundColor,setColor:u,editor:t,analyticsSource:"Layout"}),(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t})]})})},predicate:e=>e instanceof o.nh&&(0,g.X6)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,{isInOfflineMode:s}=(0,eH.u)(),{node:l,from:o}=n,{attrs:d,isNested:u,isFirstCard:p}=(0,eF.f)({node:l,decorations:a,editor:t}),{isOpen:h,onOpen:g,onClose:m}=(0,eP.E)({id:"downloadCardAsImageDisclosure"}),x=(0,c.useCallback)(()=>{null==t||t.commands.duplicateCard(o)},[t,o]),f=(0,c.useCallback)(()=>{null==t||t.commands.unnestCard(o)},[t,o]),b=(0,c.useCallback)(()=>{null==t||t.chain().mergeCardsAtPos(o).focus().run()},[t,o]),C=(0,O.d)(),y=(0,c.useCallback)(()=>{let e=t.state.doc.nodeAt(o),n=e&&(0,G.getCardTitle)(e.toJSON());t.chain().deleteCard(o).focus().run();let a=R.Ru._({id:"0MWv65",values:{displayTitle:n?'"'.concat(n,'"'):"card"}}),s=R.Ru._({id:"9uI/rE"}),l=C({title:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(Z.E,{noOfLines:1,children:a}),(0,i.jsx)(W.N,{textDecoration:"underline",onClick:()=>{(0,U.tN)(t.state),C.close(l)},children:s})]}),status:"info",duration:3e3,position:"top"})},[t,o,C]),v=(0,eB.u)("aiCardDesigner"),w=(0,c.useCallback)(()=>{var e;let t=null==(e=n.node)?void 0:e.attrs.id;if(!t)return;let i=prompt("What do you want to change?","Translate this to Spanish please");i&&K.emit("openSuggestionEditor",{cardId:t,userMessage:i})},[n]),A=(0,eB.u)("copyCardsToDeck"),k=(0,eN.T)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(L.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"BTDPLo"}),testId:"duplicate-card",onClick:x,icon:I.$3n}),u&&(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"b+J8Wt"}),testId:"merge-into-parent-card",onClick:f,icon:I.ndq}),!u&&!p&&(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"kV34zB"}),testId:"merge-into-card-above",onClick:b,icon:I.INu}),v&&(0,i.jsx)(B.I,{onClick:w,icon:I.ESE,label:"Design with AI"}),(0,i.jsx)(eO.g,{attrs:d}),A&&(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"IAsTWw"}),onClick:()=>k([l]),icon:I.Rvk,flipIcon:"horizontal",isDisabled:s}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"xRJ+bN"}),testId:"download-card",onClick:g,icon:I.a_I,isDisabled:s}),(0,i.jsx)(eV.D,{onOpen:g,isOpen:h,onClose:m,cardId:d.id,editor:t})]}),(0,i.jsx)(V.G,{editor:t,handleDelete:y})]})})},predicate:e=>e instanceof o.nh&&(0,C.jg)(e.node),offsetPx:0},{component:e=>{var t;let{editor:n,selection:a,decorations:r}=e,o=(0,eB.u)("buddyEditGa"),{node:c,from:d}=a,u=(0,eQ.Bn)(r),p=c.attrs,h=(0,eK.jh)(p,null==u?void 0:u.layout),g=(0,eK.JH)(p,null==u?void 0:u.layout),m=(null==(t=p.background)?void 0:t.type)===eq.h.IMAGE,x=(0,eW.l)(p.background.image),f=(0,l.eL)(n.state.doc.resolve(d),C.jg),b=c.attrs.background.type===eq.h.IMAGE&&p.background.image&&!(0,eJ.v7)(p.background.image.src);return(0,i.jsx)(L.e,{spacing:1,size:"sm",alignItems:"center",children:"accent"===p.itemId&&(0,i.jsxs)(i.Fragment,{children:[g&&(0,i.jsx)(e6,{editor:n,selection:a,decorations:r}),b&&(0,i.jsx)(tf,{editor:n,pos:d,node:c,isDisabled:"fit"===h}),(g||b)&&(0,i.jsx)(H.q,{}),m&&p.background.image&&(x?o?(0,i.jsx)(s.L8,{isDark:!1,children:(0,i.jsx)(e4,{attrs:p.background.image,editor:n})}):(0,i.jsx)(eU.a,{attrs:p.background.image,editor:n,variant:"toolbar",size:"sm"}):(0,i.jsx)(tb.g,{editor:n,selection:a,decorations:r})),(0,i.jsx)(s.Tz,{label:m?(0,i.jsx)(D.x6,{id:"XQFMOm"}):(0,i.jsx)(D.x6,{id:"P5MuiB"}),placement:"top",children:(0,i.jsx)(eZ.K,{onClick:()=>{let e=null==f?void 0:f.node.attrs.id;e&&eG.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})},variant:"toolbar",size:"sm",icon:(0,i.jsx)(_.g,{icon:I.MT7}),boxSize:7,p:0,"aria-label":m?R.Ru._({id:"Ov693i"}):R.Ru._({id:"B6vyEa"})})}),(0,i.jsx)(H.q,{}),(0,i.jsx)(s.Tz,{label:m?(0,i.jsx)(D.x6,{id:"sGYCGx"}):(0,i.jsx)(D.x6,{id:"6vLq+T"}),placement:"top",children:(0,i.jsx)(eZ.K,{onClick:()=>(0,eK.kB)(n,d,m),variant:"toolbar",size:"sm",icon:m?(0,i.jsx)(_.g,{icon:I.K3F}):(0,i.jsx)(_.g,{icon:I.yLS}),color:"red.500",boxSize:7,p:0,"aria-label":m?R.Ru._({id:"sGYCGx"}):R.Ru._({id:"6vLq+T"})})})]})})},predicate:e=>e instanceof o.nh&&(0,h.wL)(e.node),offsetPx:6},{component:e=>{let{editor:t,selection:n}=e,a=n.$from.parent.childCount<n_.ZS,{verticalAlign:r,backgroundColor:s}=n.node.attrs,l=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===r?null:e}).selectNodeAtPos(n.from).focus().run()},[t,r,n]),o=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{backgroundColor:e}).selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,i.jsxs)(L.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(nR,{editor:t,label:R.Ru._({id:"NFoeBH"}),icon:I.tjk}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.q,{}),(0,i.jsx)(B.I,{label:R.Ru._({id:"bZ9ges"}),icon:I.UiS,iconRotation:270,onClick:()=>{t.chain().insertContentAt(n.from,n_.eK).run()},testId:"add-col-before-button"}),(0,i.jsx)(B.I,{label:R.Ru._({id:"7ibPpM"}),icon:I.UiS,iconRotation:90,onClick:()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n_.eK).run()},testId:"add-col-after-button"}),(0,i.jsx)(nD,{editor:t,selection:n})]}),(0,i.jsx)(B.I,{onClick:()=>l("start"),isActive:"start"===r,label:R.Ru._({id:"/Q0jUh"}),icon:eX.jot}),(0,i.jsx)(B.I,{onClick:()=>l("center"),isActive:"center"===r,label:R.Ru._({id:"QhuQN2"}),icon:eX.nr0}),(0,i.jsx)(B.I,{onClick:()=>l("end"),isActive:"end"===r,label:R.Ru._({id:"EPnxoe"}),icon:eX.yHR}),(0,i.jsx)(H.q,{}),(0,i.jsx)(F.a,{editor:t,color:s,setColor:o,analyticsSource:"LayoutCell"}),(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t,handleDelete:()=>{t.chain().selectInsideNodeAtPos(n.from).handleLayoutDelete(!0,!1).run()}})]})},predicate:e=>e instanceof o.nh&&(0,g.NJ)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,{node:s}=n,{options:l,variantKey:o}=s.attrs,d=(0,iq.BJ)(o),u=(0,iD.ML)().find(e=>e.variants.some(e=>e.variant.key===o)),{toggleSmartLayoutVariantPanel:p}=iG(),h=(0,c.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n.from,e)},[t,n.from]),g=(0,c.useCallback)(()=>{p({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:n.from,to:n.to},editor:t,node:s}})},[p,n.from,n.to,t,s]),m=(0,c.useCallback)(e=>{h({variantKey:e}),e3.zS.track(e3.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:o,newVariant:e,method:"formatting-menu-dropdown"})},[h,o]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.z,{spacing:2,children:[u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iJ,{variant:d,variantKey:o,updateVariant:m}),(0,i.jsx)(H.q,{})]}),(0,i.jsx)(L.e,{size:"sm",children:d.options.map(e=>{var r,c;let d=(0,iM.Rv)(a),u=s.attrs,p=(0,iI.aG)(u);if(e.checkEnabled&&!e.checkEnabled({options:p,attrs:u,deco:d,node:s}))return null;let g=null!=(c=l[e.key])?c:null==(r=e.defaultValue)?void 0:r.call(e,{ctx:"menu"});return e.Control?(0,i.jsx)(e.Control,{value:g,updateValue:(i,a)=>{h({options:{...l,[e.key]:i}}),a&&s.forEach((a,r)=>{t.commands.updateNestedAttributesAtPos(n.from+r+1,{options:{...a.attrs.options,[e.key]:i}})}),e3.zS.track(e3.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:o,optionKey:e.key,previousValue:g,newValue:i,updateChildren:a,method:"formatting-menu"})},editor:t,option:e},e.key):null})}),(0,i.jsx)(H.q,{}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.LFz}),size:"sm",onClick:g,children:(0,i.jsx)(D.x6,{id:"vR68Ol"})}),(0,i.jsx)(H.q,{})]}),(0,i.jsx)(V.G,{editor:t})]})})},predicate:(e,t,n)=>e instanceof o.nh&&(0,f.M)(e.node)&&"smart-layout-variant"!==n.right},{component:e=>{let{editor:t,selection:n}=e,{node:a,from:r}=n,o=a.attrs.id,d=(0,f.M)(null==n?void 0:n.$from.parent)?null==n?void 0:n.$from.parent:null,{editImage:u,startRemoveBg:p,isRemovingBg:h}=(0,iK.c)({editor:t,backgroundRemovalId:o,getPos:()=>r}),{currentMediaDrawerSourceKey:g,setMediaDrawerSourceKeyAction:m}=(0,im.B)(),x=(0,c.useCallback)(e=>{let t=a.attrs.image,n=ep.of.get("pictographicIconsSearch")?ig.u.key:ih.f.key;m((null==t?void 0:t.source)||n,!0),u(e,!1)},[a.attrs.image,u,m]),b=(0,iK.m)({editor:t,node:a,parentNode:d}),{toggleSmartLayoutVariantPanel:C}=iG(),y=(0,c.useCallback)(e=>{let n=(0,l.eL)(e,f.M);if(!n)return;let i=n.pos,a=i+n.node.nodeSize;t.commands.selectParentNode(),C({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:i,to:a},editor:t,node:n.node}})},[C,t]),v=(0,eB.u)("buddyEditGa");if(!b)return null;let{addColumnBefore:w,addColumnAfter:A,canChangeFocusPointAndRemoveBackground:k,canEditImageWithAI:j,hasImage:E,imageSlot:M,imageType:T,addDirection:z,parentVariant:N,cellOptions:P,handleDelete:F,updateAttributes:O,resetImage:Z}=b;return(0,i.jsxs)(L.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(nR,{editor:t,label:R.Ru._({id:"NFoeBH"}),icon:null==N?void 0:N.icon}),(0,i.jsx)(H.q,{}),k&&(0,i.jsx)(tf,{editor:t,pos:r,node:a}),j?v?(0,i.jsx)(s.L8,{isDark:!1,children:(0,i.jsx)(e4,{editor:t,attrs:a.attrs.image,buttonProps:{variant:"toolbar"}})}):(0,i.jsx)(eU.a,{editor:t,attrs:a.attrs.image,variant:"toolbar"}):k&&(0,i.jsx)(tb.j,{onClick:p,disabled:h}),"always"===M||E?(0,i.jsx)(B.I,{label:"icon"===T?(0,i.jsx)(D.x6,{id:"JE/4q/"}):(0,i.jsx)(D.x6,{id:"9IrgTy"}),icon:"icon"===T?I.cCs:I.MT7,onClick:x}):"optional"===M?(0,i.jsx)(B.I,{label:"icon"===T?(0,i.jsx)(D.x6,{id:"1SYZRR"}):(0,i.jsx)(D.x6,{id:"pVb3uA"}),icon:"icon"===T?I.cCs:I.Cyq,onClick:x}):null,E&&(0,i.jsx)(B.I,{label:"icon"===T?(0,i.jsx)(D.x6,{id:"+4mjS6"}):(0,i.jsx)(D.x6,{id:"EyVcag"}),icon:I.K3F,color:"red.500",onClick:()=>Z(r)}),("always"===M||E)&&(0,i.jsx)(H.q,{}),(0,i.jsx)(B.I,{label:R.Ru._({id:"w7mkyz"}),iconRotation:"bottom"===z?void 0:270,icon:I.UiS,onClick:()=>w(r),testId:"add-col-before-button"}),(0,i.jsx)(B.I,{label:R.Ru._({id:"1e37Dl"}),icon:I.UiS,iconRotation:"bottom"===z?180:90,onClick:()=>A(r+a.nodeSize),testId:"add-col-after-button"}),(0,i.jsx)(nD,{editor:t,selection:n}),(null==N?void 0:N.cellOptions.length)&&(null==N?void 0:N.cellOptions.length)>0?(0,i.jsx)(H.q,{}):null,(0,i.jsx)(L.e,{size:"sm",children:null==N?void 0:N.cellOptions.map(e=>{var s,l;let o=a.attrs;if(e.checkEnabled&&!e.checkEnabled({options:o.options,attrs:o}))return null;let c=null!=(l=P[e.key])?l:null==(s=e.defaultValue)?void 0:s.call(e,{ctx:"menu"});return e.Control?(0,i.jsx)(e.Control,{value:c,updateValue:t=>{O(n.from,{options:{...P,[e.key]:t}}),e3.zS.track(e3.VV.SMART_LAYOUT_CELL_OPTION_UPDATED,{variantKey:null==N?void 0:N.key,optionKey:e.key,previousValue:c,newValue:t})},editor:t,option:e,pos:r},e.key):null})}),(0,i.jsx)(H.q,{}),(0,i.jsx)(S.$,{variant:"toolbar",rightIcon:(0,i.jsx)(_.g,{icon:I.LFz}),size:"sm",onClick:()=>y(n.$from),children:(0,i.jsx)(D.x6,{id:"vR68Ol"})}),(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t,handleDelete:F})]})},predicate:e=>e instanceof o.nh&&(0,f.q)(e.node)},{component:e=>{let{selection:t,editor:n}=e,r=0===t.node.childCount,{layout:l,stretchFill:o}=t.node.attrs,d=(0,c.useCallback)(()=>{n.chain().deleteSelectionAndSelectNear().run()},[n]);return r?null:(0,i.jsx)(a.a,{minW:"300px",children:(0,i.jsxs)(tM,{children:[!r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tA.B,{w:"100%",direction:"row",justify:"space-between",alignItems:"flex-start",children:(0,i.jsx)(s._x,{children:(0,i.jsx)(D.x6,{id:"U+kFad"})})}),(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"rdU729"}),icon:I.yOA,children:(0,i.jsx)(tK.lQ,{editor:n,selection:t})}),"grid"===l&&(0,i.jsx)(tZ,{editor:n,selection:t}),"flex"===l&&(0,i.jsx)(tq,{editor:n,selection:t}),(0,i.jsx)(tG,{editor:n,selection:t}),"logo"===l&&(0,i.jsx)(tQ,{editor:n,selection:t}),"flex"===l&&!0!==o&&null!==o&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"0j+RGO"}),icon:I.ecg,children:(0,i.jsx)(L.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:z.Fw,_empty:{display:"none"},children:tR.gj.map(e=>{let{key:a,name:r,shortcut:s,icon:l,apply:o,checkActive:c}=e;if(!n||!o||!c)return null;let d=c(n);return(0,i.jsx)(B.I,{shortcut:s,icon:l,label:r(),onClick:()=>{o(n),n.chain().setNodeSelection(t.from).run()},isActive:d,testId:a},a)})})})]}),(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"cnGeoo"}),icon:I.yLS,colorScheme:"red",onClick:d})]})})},predicate:e=>e instanceof o.nh&&(0,m.Pb)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=n.node.attrs;return(0,i.jsxs)(L.e,{spacing:2,size:"sm",flex:"row",alignItems:"center",children:[(0,i.jsx)(P,{editor:t,attrs:a,selection:n}),(0,i.jsx)(F.a,{color:a.color||void 0,setColor:e=>{t.chain().focus().updateAttributes("calloutBox",{color:e}).selectNodeAtPos(n.from).run()},editor:t,analyticsSource:"CalloutBox"}),(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t})]})},predicate:e=>e instanceof o.nh&&"calloutBox"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,a=n.node.type.name,{fullWidthBlock:r}=t.getAttributes(a),s=(0,c.useCallback)(e=>{var n,i;e.stopPropagation(),null==(n=(i=t.commands).editSelectedDrawingBlock)||n.call(i)},[t]);return(0,i.jsxs)(L.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[tR.gj.map(e=>{let{name:n,icon:s,checkActive:l,apply:o}=e;if(l&&o)return(0,i.jsx)(B.I,{label:n(),icon:s,onClick:()=>{o(t),r&&t.commands.updateAttributes(a,{fullWidthBlock:!1})},isActive:!r&&l(t)},n())}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"ePK91l"}),icon:I.MT7,onClick:s}),(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t})]})},predicate:e=>e instanceof o.nh&&("drawing"===e.node.type.name||"diagram"===e.node.type.name)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,s=n.node,l=n.node.type.name,{templateKey:o,data:d}=s.attrs,u=(0,io.FV)(o),p=(0,io.HF)(o),h=(0,eB.u)("transformDiagram"),{currentWorkspace:g}=(0,iu.ur)(),m=(0,c.useMemo)(()=>Object.entries(io.cy).filter(e=>{let[t,n]=e;return n.featureFlag?eB.of.get(n.featureFlag):!n.disabled}).map(e=>{let[t]=e;return t}).sort(),[]),x=(0,c.useMemo)(()=>Object.entries(io.Nl).filter(e=>{let[t,n]=e;return n.featureFlag?eB.of.get(n.featureFlag):!n.disabled}).map(e=>{let[t]=e;return t}).sort(),[]),f=m.includes(o),b=x.includes(o),C=h&&(f||b),{transformDiagramType:y,isTransforming:v}=function(e){let{editor:t,docId:n,workspaceId:i,sectionContext:a}=e,[r,s]=(0,c.useState)(!1),l=(0,O.d)(),{user:o}=(0,iu.ur)();return{transformDiagramType:(0,c.useCallback)(async e=>{let{sourceTemplateKey:a,targetTemplateKey:c,sourceData:d,onSuccess:u,onError:p}=e;if(!r){s(!0);try{e3.zS.track(e3.VV.SMART_DIAGRAM_TRANSFORM_STARTED,{sourceTemplateKey:a,targetTemplateKey:c,userId:null==o?void 0:o.id,workspaceId:i});let e=(0,id.w)(t),r=await ip({sourceTemplateKey:a,targetTemplateKey:c,sourceData:d,language:e,docId:n,workspaceId:i});e3.zS.track(e3.VV.SMART_DIAGRAM_TYPE_CHANGED,{fromTemplateKey:a,toTemplateKey:c,userId:null==o?void 0:o.id,workspaceId:i}),u(r)}catch(t){let e=t instanceof Error?t.message:"Unknown error";e3.zS.track(e3.VV.SMART_DIAGRAM_TRANSFORM_ERROR,{sourceTemplateKey:a,targetTemplateKey:c,errorMessage:e,userId:null==o?void 0:o.id,workspaceId:i}),l({title:R.Ru._({id:"+FgFGk"}),description:R.Ru._({id:"7LAiVo"}),status:"error",duration:3e3,isClosable:!0}),null==p||p(t instanceof Error?t:Error(e))}finally{s(!1)}}},[r,n,i,a,l,null==o?void 0:o.id]),isTransforming:r}}({editor:t,docId:t.gammaDocId||"",workspaceId:(null==g?void 0:g.id)||""});return p&&u?(0,i.jsxs)(r.z,{spacing:2,children:[!C&&(0,i.jsxs)(r.z,{spacing:1,px:2,py:1,borderRadius:"md",children:[u.icon&&(0,i.jsx)(_.g,{icon:u.icon,fixedWidth:!0}),(0,i.jsx)(Z.E,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:u.label()})]}),C&&(0,i.jsx)(ic,{selected:o,availableTemplateKeys:b?x:m,isLoading:v,onChange:e=>{y({sourceTemplateKey:o,targetTemplateKey:e,sourceData:d,onSuccess:e=>{let n=(0,io.FV)(e.variant).defaultColorScheme,i=(0,id.z)(d,e.data);t.commands.updateAttributes(l,{templateKey:e.variant,data:{...i,colorScheme:n}})}})}}),(0,i.jsx)(H.q,{}),(0,i.jsx)(p,{editor:t,selection:n,decorations:a})]}):null},predicate:e=>e instanceof o.nh&&"smartDiagram"===e.node.type.name&&e.node.attrs.templateKey},{component:e=>{let{editor:t,selection:n}=e,{fullWidthBlock:a}=n.node.attrs,s=(0,t2.f)(),l=(0,c.useCallback)(e=>{t.view.focus(),s({isOpen:!0}),e.stopPropagation()},[t,s]),o=(0,t$.Q)(t),d=(0,m.qK)(n.$from);return(0,i.jsxs)(r.z,{spacing:0,children:[!d&&!o&&(0,i.jsxs)(tk.s,{dir:"ltr",children:[tR.gj.map(e=>{let{name:r,icon:s,checkActive:l,apply:o}=e;if(l&&o)return(0,i.jsx)(B.I,{label:r(),icon:s,onClick:()=>{o(t),a&&t.commands.updateAttributes(n.node.type.name,{fullWidthBlock:!1})},isActive:!a&&l(t)},r())}),(0,i.jsx)(H.q,{})]}),(0,i.jsxs)(L.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nR,{editor:t,label:R.Ru._({id:"+v0hYZ"}),icon:I.Qyz}),(0,i.jsx)(H.q,{})]}),(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"ePK91l"}),icon:I.MT7,onClick:l,testId:"edit-button"})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.q,{}),(0,i.jsx)(V.G,{editor:t})]})]})]})},predicate:e=>e instanceof o.nh&&"mediaPlaceholder"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,l=n.node.attrs,{resize:o,fullWidthBlock:d,id:u,src:h,tempUrl:g,href:x,clickBehavior:f}=l,{isInOfflineMode:b}=(0,eH.u)(),{enterZoom:C}=(0,t1.RL)(u),y=(0,t2.f)(),v=(0,c.useCallback)(e=>{t.view.focus(),y({isOpen:!0}),e.stopPropagation()},[t,y]),w=(0,eB.u)("disableRemoveBackground"),k=(0,A.gk)(f),j=(0,c.useCallback)(e=>{t.commands.updateAttributes(tc._V.name,{clickBehavior:e})},[t]),E=(0,c.useCallback)(e=>{t.commands.updateAttributes(tc._V.name,{href:e})},[t]),{setCropClipType:S,confirmCrop:M,cancelCrop:T,startCrop:H,resetCrop:N}=(0,tY.E)(t),P=(0,p.GV)(tc.$k),F=(0,c.useCallback)(()=>{(0,m.wG)(n)},[n]),V=(0,t$.Q)(t),O=(0,m.qK)(n.$from),Z=(0,eJ.SV)(h||g),W=(0,eJ.v7)(h||g),U=!O&&!V&&!W,G=!Z&&!w&&!W,K=(0,p.GV)((0,tc.iZ)(u)),{startRemoveBg:Q,isRemovingBg:q}=(0,tX.D)({editor:t,id:u}),J=!!((null==o?void 0:o.clipPath)&&(null==o?void 0:o.clipType)),$=(0,eW.l)(l),Y=(0,eB.u)("buddyEditGa"),X=(0,c.useCallback)(()=>{q&&tc.RR.emit("cancelRemoveBg",{id:u}),t.chain().deleteSelectionAndSelectNear().run()},[t,u,q]),ee=(0,c.useMemo)(()=>[{key:"zoom",ariaLabel:R.Ru._({id:"ACjxWW"}),label:(0,i.jsx)(D.x6,{id:"ACjxWW"}),action:C,icon:I.bMI},{key:"addComment",ariaLabel:R.Ru._({id:"oFsfkI"}),label:(0,i.jsx)(D.x6,{id:"oFsfkI"}),action:F,icon:I.DN2,isHidden:V,isDisabled:b},{key:"crop",ariaLabel:R.Ru._({id:"qKx+US"}),label:(0,i.jsx)(D.x6,{id:"qKx+US"}),action:()=>{H({id:u,clipType:null==o?void 0:o.clipType})},icon:I.K1P,isHidden:!U,isDisabled:q},{key:"removeBackground",canRemoveBackground:G,ariaLabel:R.Ru._({id:"YOCRHt"}),label:(0,i.jsxs)(tk.s,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(D.x6,{id:"ylbfBl"}),(0,i.jsx)(tJ.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),customIcon:(0,i.jsxs)(a.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(_.g,{icon:I.sAw,size:"lg"}),(0,i.jsx)(_.g,{icon:eX.X46,size:"xs",transform:"shrink-5"})]}),action:Q,isHidden:!G||$,isDisabled:b,isLoading:q},{key:"ai",customButton:Y?(0,i.jsx)(s.L8,{isDark:!1,children:(0,i.jsx)(e4,{editor:t,attrs:l,buttonProps:{variant:"plain",height:"100%"}},"ai")},"ai"):(0,i.jsx)(eU.a,{editor:t,attrs:l,variant:"plain",height:"100%"},"ai"),isHidden:!$,ariaLabel:R.Ru._({id:"EVnzPs"}),label:(0,i.jsx)(D.x6,{id:"EVnzPs"}),action:()=>{}},{key:"editGallery",ariaLabel:R.Ru._({id:"ATVjaW"}),label:(0,i.jsx)(D.x6,{id:"+v0hYZ"}),action:()=>{t.chain().selectParentNode().run()},icon:I.Qyz,isHidden:!O},{key:"edit",ariaLabel:R.Ru._({id:"ePK91l"}),label:(0,i.jsx)(D.x6,{id:"ePK91l"}),action:v,icon:I.MT7}],[F,Y,G,U,v,t,C,u,V,O,b,q,null==o?void 0:o.clipType,H,Q,$,l]);return(0,i.jsxs)(tM,{children:[!K&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nE,{buttonList:ee}),(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"0j+RGO"}),icon:I.ecg,isHidden:!U,children:(0,i.jsx)(L.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:z.Fw,children:tR.gj.map(e=>{let{name:n,key:a,icon:r,shortcut:s,checkActive:l,apply:c}=e;if(l&&c)return(0,i.jsx)(B.I,{label:n(),shortcut:s,isActive:!d&&l(t),onClick:()=>{c(t),d&&t.commands.updateAttributes(tc._V.name,{fullWidthBlock:!1,resize:{...o,width:null}})},isDisabled:q,icon:r,testId:a,my:0},a)})})}),(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"S58tkK"}),icon:nI[k],children:(0,i.jsx)(t9,{currentClickBehavior:k,handleClickBehaviorChange:j,enableNoClickBehavior:!0,canAddLink:!0})}),"newTab"===k&&(0,i.jsx)(nL,{editor:t,href:x||"",updateHref:E,clearHref:()=>{E("")}}),(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"cnGeoo"}),icon:I.yLS,onClick:X,colorScheme:"red",secondaryLabel:(0,t0.bT)(n.node)?(0,i.jsx)(D.x6,{id:"5eaf8Z"}):void 0,secondaryAction:(0,t0.bT)(n.node)?()=>(0,t0.LQ)(t):void 0,secondaryIcon:(0,t0.bT)(n.node)?I.ub2:void 0})]}),U&&K&&(0,i.jsxs)(r.z,{alignSelf:"stretch",my:-3,mx:-2,zIndex:"menu",children:[(0,i.jsx)(nM,{clipType:P,onChange:e=>{S({clipType:e})}}),(0,i.jsxs)(L.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,i.jsx)(B.I,{label:(0,i.jsx)(D.x6,{id:"6Z0nnS"}),icon:I.ub2,isDisabled:!J,onClick:()=>{N({id:u})},my:0}),(0,i.jsx)(B.I,{color:"red.500",label:(0,i.jsx)(D.x6,{id:"7Bn152"}),icon:I.Jyw,onClick:()=>{T({id:u})},my:0}),(0,i.jsx)(B.I,{color:"green.500",label:(0,i.jsx)(D.x6,{id:"ryQtQS"}),icon:I.e68,onClick:()=>{M({id:u})},my:0})]})]})]})},predicate:e=>e instanceof o.nh&&"image"===e.node.type.name,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=(0,O.d)(),r=(0,t2.f)(),s=(0,c.useCallback)(e=>{t.view.focus(),r({isOpen:!0}),e.stopPropagation()},[t,r]),l=(0,c.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),o=(0,c.useCallback)(e=>{"none"!==e&&t.commands.updateAttributes(n.node.type.name,{clickBehavior:e})},[t,n]),d=(0,c.useCallback)(e=>{let r="embed.custom";(0,nt.Yq)(e,e=>{r=e.source||r,(0,nq.vI)({editor:t,selection:n,attrs:e,sourceKey:r})}).catch(e=>{a.isActive(n$)||a({id:n$,title:(0,i.jsx)(D.x6,{id:"MWOB3g"}),description:(0,i.jsx)(D.x6,{id:"iEFpL0"}),status:"error",position:"top",duration:3e3,isClosable:!0}),console.error("[caught] EmbedVideoFormattingMenu error fetching URL",e)})},[t,a,n]),u=t.getAttributes(n.node.type.name),p="displayStyle"in u&&u.displayStyle||"inline",h=(0,A.Zj)(u),g=(0,m.qK)(n.$from),x="video"===n.node.type.name,f=(0,A.eb)(u,"preview"===p&&!g),b=u.source?(0,nJ.B)(u.source):null,C="inline"===p&&(x||(null==b?void 0:b.inlineInteractive))&&!g;return(0,i.jsxs)(tM,{children:[!g&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"/SVg/B"}),icon:"inline"===p?I.c9S:I.$qH,children:(0,i.jsx)(nK,{editor:t,selection:n})}),(0,i.jsx)(nL,{href:h||"",updateHref:d,editor:t,isEmbedLink:!0}),!C&&(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"S58tkK"}),icon:"newTab"===f?I.Ju_:I.bMI,children:(0,i.jsx)(t9,{currentClickBehavior:f,handleClickBehaviorChange:o})}),(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"cnGeoo"}),icon:I.yLS,onClick:l,colorScheme:"red",secondaryAction:s,secondaryIcon:I.BH7,secondaryLabel:(0,i.jsx)(D.x6,{id:"sxkWRg"})})]})},predicate:e=>e instanceof o.nh&&(0,A._Y)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{nested:a}=n.node.attrs;return(0,i.jsxs)(L.e,{spacing:0,size:"sm",children:[(0,i.jsx)(B.I,{testId:"toc-top-level-cards",label:(0,i.jsx)(D.x6,{id:"RiLgqi"}),icon:I.ITF,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!1})},isActive:!a}),(0,i.jsx)(B.I,{testId:"toc-nested-cards",label:(0,i.jsx)(D.x6,{id:"nTkST4"}),icon:I.QLL,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!0})},isActive:a})]})},predicate:e=>e instanceof o.nh&&"tableOfContents"===e.node.type.name},{component:e=>{let{editor:t}=e,{showTime:n=!0,hiddenContributorIds:a=[]}=t.getAttributes("contributors"),r=(0,p.GV)(tv.zB)||[],{toggleShowTime:l,toggleOneVisibleContributor:o,toggleAllVisibleContributors:d}=function(e){let t=(0,c.useCallback)(()=>{e.commands.toggleShowTime()},[e]);return{toggleShowTime:t,toggleOneVisibleContributor:(0,c.useCallback)(t=>{e.commands.toggleOneContributorVisibility(t)},[e]),toggleAllVisibleContributors:(0,c.useCallback)(()=>{e.commands.toggleAllContributorsVisibility()},[e])}}(t),u=r.length>1,h=(0,c.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return(0,i.jsxs)(tM,{children:[(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"0j+RGO"}),icon:I.ecg,children:(0,i.jsx)(tT,{editor:t})}),(0,i.jsx)(tj,{label:(0,i.jsx)(D.x6,{id:"4ep6pq"}),icon:I.a$,children:(0,i.jsx)(tw.d,{isChecked:n,onChange:l})}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tS,{}),(0,i.jsx)(tB,{contributors:r,hasMultipleContributors:u,hiddenContributorIds:a,toggleOneVisibleContributor:o,toggleAllVisibleContributors:d})]}),(0,i.jsxs)(Z.E,{fontSize:"xs",color:"gray.600",textAlign:"center",children:[(0,i.jsx)(D.x6,{id:"Xqn2KO"})," ",(0,i.jsx)(s.qT,{label:(0,i.jsx)(D.x6,{id:"CYpThg"})})]}),(0,i.jsx)(tE,{label:(0,i.jsx)(D.x6,{id:"cnGeoo"}),icon:I.yLS,colorScheme:"red",onClick:h})]})},predicate:e=>e instanceof o.nh&&"contributors"===e.node.type.name,isPopover:!0},{component:aM,predicate:e=>e instanceof o.U3}],aR=[{component:nQ,predicate:(e,t)=>{var n,i;let a=null==(n=document)?void 0:n.activeElement,r=!!(null==a?void 0:a.closest('[data-active-menu="navigation"]')),s=!!(null==a?void 0:a.closest("[data-navbar-editor]"));return(r||s)&&t.isActive("button")&&!!t.isSiteNavbarEditor&&!t.multipageEnabled&&!(null==(i=document)?void 0:i.querySelector("[".concat(x.hu,"]")))},isPopover:!0}],aT={backgroundColor:"white",shadow:"lg"},az=e=>{let{editor:t,scrollingParentSelector:n,menuContext:o,appendToSelector:h}=e;(0,k.lC)(t);let{hideTooltips:g,GammaTooltipHiderContext:m}=(0,s.ku)(),x=(0,p.GV)(d.Du),f=(0,p.GV)(u.Vt),b=t.state.selection,y=!x&&("navigation"===o?aR:aD).find(e=>e.predicate(b,t,f)),v=[];try{(0,l.BQ)(t.state.selection)&&(v=(0,C.j5)(t,t.state.selection.from))}catch(e){console.error("[FormattingMenu] unable to find decorations at ".concat(t.state.selection.from),e.message)}let A=(0,c.useMemo)(()=>({maxWidth:"none",zIndex:"var(--chakra-zIndices-popover)",placement:"top",appendTo:h?()=>document.querySelector(h):void 0,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom","bottom-start","bottom-end"]}},{name:"preventOverflow",options:{boundary:n?document.querySelector(n):void 0,altAxis:!0}}]}}),[n,h]),L="navigation"===o?"navigation":"editor";return(0,i.jsx)(m,{children:(0,i.jsx)(s.L8,{isDark:!1,children:(0,i.jsxs)(w,{editor:t,onHide:g,tippyOptions:A,children:[y&&y.isPopover&&(0,i.jsx)(tV,{"data-in-editor-focus":!0,"data-active-menu":L,"data-testid":"formatting-menu",fontFamily:"body",children:(0,i.jsx)(y.component,{editor:t,selection:b,decorations:v})}),y&&!y.isPopover&&(0,i.jsx)(a.a,{"data-active-menu":L,borderRadius:"xl",...aT,w:"auto",minW:"0px",h:"fit-content",position:"relative",bottom:y.offsetPx?"".concat(y.offsetPx,"px"):"0","data-in-editor-focus":!0,"data-testid":"formatting-menu",fontFamily:"body",children:(0,i.jsx)(r.z,{spacing:3,px:2,minH:10,children:(0,i.jsx)(y.component,{editor:t,selection:b,decorations:v})})})]})})})}},80835:(e,t,n)=>{"use strict";n.d(t,{tz:()=>_,EF:()=>D,pO:()=>R});var i=n(6029),a=n(78140),r=n(41283),s=n(96500),l=n(48810),o=n(26420),c=n(85595),d=n(58959),u=n(12514),p=n(99492),h=n(55597),g=n(48621),m=n(55729),x=n(5061),f=n(90248);function b(e){return"items"in e}function C(e){return"check"in e}function y(e){return"label"in e}function v(e){return"divider"in e}let w=e=>{let{initial:t,top:n,bottom:i}=e,a=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),s=Math.abs(i.y-t.y);return 0===a?{alpha:0,beta:0}:{alpha:Math.atan(r/a),beta:Math.atan(s/a)}},A=e=>{let{menuItems:t,position:n,isOpen:i,onClose:a}=e,r=(0,m.useRef)(null),s=(0,m.useRef)(new Map),[l,o]=(0,m.useState)([]),{itemsIndex:c,itemsHash:d,getItemFromKey:u}=function(e){let t=new Map,n=(e,t)=>{let n=null;for(let i of e){if(!(n=t[i]))throw console.log(e,i),Error("item not found");t=b(n)?n.items:[]}if(!n)throw console.log(e),Error("item not found");return n},i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((e,a)=>{if(!y(e))return;let r=e.key;if(t.has(r))throw console.log(t.get(r)),Error("duplicated key=".concat(r));let s=[...n,a];t.set(r,s),b(e)&&i(e.items,s)})};i(e);let a=[...t.entries()].map(e=>{let[t,n]=e;return"".concat(t,":").concat(n.join("|"))}).join(",");return{itemsIndex:t,itemsHash:a,getItemFromKey:(e,i)=>n(t.get(e)||[],i)}}(t),p=(0,m.useCallback)(e=>{var n,i,a,d,p,h,g,m;let x=e.target;if(!(x instanceof HTMLElement))return;let f=null==x?void 0:x.closest("[data-menu-item-key]"),C=null==x?void 0:x.closest("[data-menu-id]");if(!(C instanceof HTMLElement)||!(f instanceof HTMLElement))return;let y=(null==C?void 0:C.getAttribute("data-menu-id"))||"",v=(null==f?void 0:f.getAttribute("data-menu-item-key"))||"";if(!y||!v)return;let A=s.current.get(y);if(!A)return;let{trigger:k,hideTimer:L}=A,j="".concat(y,":").concat(v),E=null==(n=c.get(v))?void 0:n.length,S=null!=(h=s.current.get(E&&(null==(i=l[E])?void 0:i.key)||""))?h:{},{element:M,key:I,hideTimer:_}=null!=S?S:{},D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;S.hideTimer=setTimeout(()=>{o(e=>{let t=e.splice(0,E);return e.forEach(e=>{let{key:t}=e,n=s.current.get(t);n&&(n.hideTimer&&clearTimeout(n.hideTimer),s.current.delete(t))}),t})},e)};if(L&&(clearTimeout(L),A.hideTimer=void 0),v===I){A.trigger={x:e.clientX,y:e.clientY},_&&(clearTimeout(_),S.hideTimer=void 0);return}if(M&&k&&function(e){let{el:t,initial:n,currentCoords:i}=e;if(!t||t.offsetTop<0||t.offsetLeft<0||t.offsetLeft<n.x&&i.x>n.x||t.offsetLeft>n.x&&i.x<n.x)return!1;let a={x:0};t.offsetLeft<n.x&&(a.x+=t.offsetWidth);let r=w({initial:n,top:{y:t.offsetTop,x:t.offsetLeft+a.x},bottom:{y:t.offsetTop+t.offsetHeight,x:t.offsetLeft+a.x}}),s=Math.atan(Math.abs(n.y-i.y)/Math.abs(i.x-n.x));return i.y<n.y?s<r.alpha:s<r.beta}({el:M,initial:k,currentCoords:{x:e.clientX,y:e.clientY}})){_||D();return}if(r.current===j)return;if(r.current=j,!b(u(v,t))){E&&l[E]&&D(0);return}L&&(clearTimeout(L),A.hideTimer=void 0);let R=l.find(e=>{let{key:t}=e;return t===y});if(!R)return void console.error("menu not found",{openMenus:{...l},menuKey:y});let T=R.position,z={x:(null!=(g=null==(a=A.element)?void 0:a.offsetLeft)?g:T.x)+((null==(d=A.element)?void 0:d.offsetWidth)||0),y:f.offsetTop+(null!=(m=null==(p=A.element)?void 0:p.offsetTop)?m:T.y)};A.trigger={x:e.clientX,y:e.clientY},o(e=>{var t;let n=e.slice(0,E);return n.push({key:v,position:z,offset:{x:(null==(t=A.element)?void 0:t.offsetWidth)||f.offsetWidth,y:-1*f.offsetHeight}}),s.current.has(v)||s.current.set(v,{}),s.current.get(v).key=v,n})},[l,d]);return(0,m.useEffect)(()=>(window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}),[p]),(0,m.useEffect)(()=>{!1===i?(o([]),s.current=new Map):o([{key:"_root",position:n,offset:{x:0,y:0}}]);let e=e=>{var t;i&&((null==(t=e.target)?void 0:t.closest("[data-menu-id]"))||a())};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[i,a]),(0,m.useEffect)(()=>{o(e=>(e.length&&(e[0].position={x:n.x,y:n.y}),e))},[n.x,n.y]),{setMenuRef:e=>t=>{s.current.has(e)||s.current.set(e,{}),s.current.get(e).element=t},openMenus:l,getMenuItems:function(e){if("_root"===e)return t;let n=u(e,t);return b(n)?n.items:[]}}};var k=n(12364),L=n.n(k);let j=e=>{let{element:t,position:n,offset:i={x:0,y:0},isRtl:a=!1}=e,[r,s]=(0,m.useState)({width:window.innerWidth,height:window.innerHeight}),[l,o]=(0,m.useState)({x:n.x,y:n.y}),c=(0,m.useCallback)(e=>{let{width:t,height:s}=r;if(n.x<0||n.y<0)return;let c={x:0,y:0};a?(c.x=-((e.offsetWidth+i.x)*1),n.x+c.x<=0&&(c.x=0)):e.offsetWidth+n.x>t&&(c.x=-((e.offsetWidth+i.x)*1)),e.offsetHeight+n.y>s&&(c.y=-((e.offsetHeight+i.y)*1));let d={x:n.x+c.x,y:n.y+c.y};(d.x!==l.x||d.y!==l.y)&&o(d)},[r,n.x,n.y,a,l.x,l.y,i.x,i.y]);return(0,m.useEffect)(()=>{let e=L()(()=>{s({width:window.innerWidth,height:window.innerHeight})},150);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,m.useEffect)(()=>{t&&c(t)},[c,t]),{calculatePosition:c,position:l}},E=(0,m.forwardRef)((e,t)=>{let{isOpen:n,onClose:u,menuItems:h,position:f,parentOffset:w={x:0,y:0},id:A,activeElement:k,size:L="medium"}=e,E=(0,x.fW)(),M=(0,m.useRef)(null),{position:_,calculatePosition:D}=j({element:M.current,position:f,offset:w,isRtl:E}),R=()=>{var e;let n=(null==(e=M.current)?void 0:e.parentNode)||null;"function"==typeof t?t(n):t&&(t.current=n)};(0,m.useEffect)(()=>{t&&R()},[t]);let T=h.map(e=>v(e)?"divider":e.key).join(",");(0,m.useEffect)(()=>{M.current&&D(M.current)},[T,f]);let z=(0,m.useMemo)(()=>h.filter(e=>y(e)),[h]),H=!!z.find(e=>C(e)),N=!!z.find(e=>e.icon);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.W,{isOpen:n,onClose:u,closeOnBlur:!1,closeOnSelect:!0,children:(0,i.jsx)(r.c,{"data-menu-id":A,zIndex:"tooltip",rootProps:{style:{top:_.y,left:_.x}},ref:e=>{M.current=e,R(),e&&D(e)},fontSize:"small"===L?"sm":"large"===L?"lg":"md",children:h.map((e,t)=>v(e)?(0,i.jsx)(s.c,{color:"gray.300",my:"small"===L?1:"large"===L?3:2},"divider-".concat(t)):"title"in e?(0,i.jsx)(l.E,{color:"gray.500",ps:3,children:e.title},e.key):"element"in e?(0,i.jsx)(o.a,{children:e.element(u)},e.key):(0,i.jsx)(c.D,{py:"small"===L?1:"large"===L?3:2,cursor:"pointer",icon:(0,i.jsx)(S,{item:e,menuHasIcons:N,menuHasChecked:H}),background:(y(e)?e.background:void 0)||(k===e.key?"gray.50":void 0),closeOnSelect:!b(e),onClick:b(e)?void 0:e.onClick,isDisabled:e.disabled,color:e.color,"data-menu-item-key":e.key,children:(0,i.jsxs)(d.z,{width:"100%",pointerEvents:"none",children:[(0,i.jsx)(o.a,{flexGrow:2,children:e.label}),e.rightIcon&&(0,i.jsx)(o.a,{flexGrow:0,ps:2,children:(0,i.jsx)(I,{icon:e.rightIcon})}),b(e)&&(0,i.jsx)(o.a,{flexGrow:0,ps:2,children:(0,i.jsx)(g.g,{icon:E?p.Uec:p.vmR})})]})},e.key))})})})});E.displayName="ContextMenuInner";let S=e=>{let{item:t,menuHasIcons:n,menuHasChecked:a}=e;return(0,i.jsx)(d.z,{justifyContent:"center",children:(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(M,{item:t}),n&&(0,i.jsx)(I,{icon:t.icon})]})})},M=e=>{let{item:t}=e;return C(t)&&t.check?"multiple"===t.check?(0,i.jsx)(g.g,{icon:h.EZy,width:"1em"}):(0,i.jsx)(g.g,{icon:h.e68,width:"1em"}):(0,i.jsx)(o.a,{width:"1em"})},I=e=>{let{icon:t}=e;return t?"icon"in t?(0,i.jsx)(g.g,{icon:t,width:"1em"}):t:(0,i.jsx)(o.a,{width:"1em"})},_=e=>{let{onClose:t,isOpen:n,menuItems:a,position:r,size:s="medium"}=e,{setMenuRef:l,openMenus:o,getMenuItems:c}=A({isOpen:n,onClose:t,menuItems:a,position:r});return(0,i.jsx)(u.Z,{appendToParentPortal:!1,children:[...o,null].map((e,n)=>{var a,r;return null===e?(0,i.jsx)(E,{id:"placeholder",menuItems:[],position:f.O,isOpen:!1,onClose:t,size:s},"menu-".concat(n)):(0,i.jsx)(E,{id:e.key,activeElement:null!=(r=null==(a=o[n+1])?void 0:a.key)?r:void 0,menuItems:c(e.key),position:e.position,parentOffset:e.offset,isOpen:!0,onClose:t,ref:l(e.key),size:s},"menu-".concat(n))})})},D=()=>{let[e,t]=(0,m.useState)(f.O),[n,i]=(0,m.useState)(!1);return{onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),t({x:e.clientX,y:e.clientY}),i(!0)},menuProps:{isOpen:n,position:e,onClose:()=>{i(!1),t(f.O)}}}},R=e=>{let[t,n]=(0,m.useState)(!1),[i,a]=(0,m.useState)(f.O);return{onContextMenu:i=>{if(i.stopPropagation(),i.preventDefault(),e.current){let t=e.current.getBoundingClientRect();a({x:t.left,y:t.bottom})}n(!t)},menuProps:{isOpen:t,position:i,onClose:()=>{n(!1),a(f.O)}}}}},80911:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var i=n(94289),a=n(63867),r=n(91242),s=n(23513);class l extends a.LN{map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),r=e.resolve(i);return n?(0,s.n)(r)||a.LN.near(r):new l(r,this.side)}content(){return new i.Ji(i.FK.from(this.node),0,0)}eq(e){return e instanceof l&&e.anchor===this.anchor&&e.side===this.side}toJSON(){return{type:"presentation",anchor:this.anchor,side:this.side}}createSelectionNear(){let e=this.side<1?1:-1;return(0,r.s)(this.$from,e)||a.LN.near(this.$from)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for PresentationSelection.fromJSON");return new l(e.resolve(t.anchor))}static create(e,t,n){return new l(e.resolve(t),n)}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e,t=0){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.node=n,this.side=t}}if(l.prototype.visible=!1,!l.prototype.jsonID)try{a.LN.jsonID("presentation",l)}catch(e){}},81089:(e,t,n)=>{"use strict";n.d(t,{UG:()=>ep,lN:()=>ex});var i=n(93766),a=n(6029),r=n(40452),s=n(87613),l=n(83004),o=n(55729),c=n(6181),d=n(58959),u=n(94740),p=n(66199),h=n(18078),g=n(61204),m=n(51684),x=n(77650);let f=o.createContext({});function b(){return o.useContext(f)}var C=n(26420),y=n(16936),v=n(57405),w=n(25223),A=n(83743),k=n(49611),L=n(19564);let j={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/transparent-background.ccc186e7.png"},E={[i.JM.White]:"#f0f1f3",[i.JM.Gray]:"#788492",[i.JM.Green]:"#36b24d",[i.JM.Blue]:"#1c7ed6",[i.JM.Violet]:"#7746f1",[i.JM.Red]:"#ff2133",[i.JM.Orange]:"#ff9433",[i.JM.Yellow]:"#ffc936"},S=e=>e.appState.currentStyle,M=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,I=e=>e.settings.isDarkMode?"dark":"light",_=e=>{let{style:t,colorMode:n}=e;return(0,a.jsx)(C.a,{backgroundColor:t.isFilled?i.gA.fills[n][t.color]:void 0,backgroundImage:t.isFilled?void 0:j.src,backgroundSize:"4em",borderColor:i.gA.strokes[n][t.color],borderWidth:"2px",h:"1em",w:"1em",borderRadius:"md"})},D=Object.keys(i.gA.defaultTextStyle),R=(e,t)=>{let{page:n}=e,i={};if(t.length<=0)return{};{let e=new Set([]);t.map(e=>n.shapes[e]).forEach(t=>{D.forEach(n=>{if(!e.has(n))if(void 0===i[n])i[n]=t.style[n];else{if(i[n]===t.style[n])return;e.add(n)}})}),e.forEach(e=>{delete i[e]})}return i},T=()=>{let e=b(),t=e.useStore(I),n=e.useStore(S),r=e.useStore(M),s=R(e,r),l={...n,...s};return(0,a.jsxs)(u.A,{trigger:"hover",children:[(0,a.jsx)(p.W,{children:(0,a.jsx)(y.K,{icon:(0,a.jsx)(_,{style:l,colorMode:t}),variant:"ghost",size:"sm","aria-label":""})}),(0,a.jsx)(h.h,{w:"fit-content",bg:"#F9FAFBFA",p:4,children:(0,a.jsxs)(v.T,{spacing:2,align:"flex-start",children:[(0,a.jsx)(w.l,{children:(0,a.jsx)(L.x6,{id:"TuM2Yu"})}),(0,a.jsx)(A.r,{columns:2,spacing:2,children:[!0,!1].map(n=>(0,a.jsx)(k.$,{leftIcon:(0,a.jsx)(_,{style:{...l,isFilled:n},colorMode:t}),variant:"ghost",size:"sm",isActive:l.isFilled===n,onClick:()=>e.style({isFilled:n}),children:n?(0,a.jsx)(L.x6,{id:"5bi1la"}):(0,a.jsx)(L.x6,{id:"dD7NPy"})},n?"fill":"outline"))}),(0,a.jsx)(w.l,{children:(0,a.jsx)(L.x6,{id:"1HfW/F"})}),(0,a.jsx)(A.r,{columns:4,spacing:2,w:"100%",children:Object.entries(i.JM).map(n=>{let[i,r]=n;return E[r]?(0,a.jsx)(y.K,{icon:(0,a.jsx)(_,{style:{...l,color:r},colorMode:t}),variant:"ghost",size:"md","aria-label":i,isActive:l.color===r,onClick:()=>e.style({color:r})},r):null})})]})})]})};var z=n(45460),H=n(48621),N=n(33170);let B=(0,z.R)((e,t)=>{let{label:n,icon:i,tooltipPlacement:r="top",...s}=e;return(0,a.jsx)(N.Tz,{placement:r,label:n,isDisabled:!n,children:(0,a.jsx)(y.K,{"aria-label":n||"",ref:t,size:"sm",variant:"",icon:(0,a.jsx)(H.g,{icon:i}),color:"trueblue.600",textShadow:"0px 1px 0px rgba(0,0,0,0)",fontWeight:"500",borderRadius:"md",borderWidth:"1px",backdropFilter:"blur(20px)",borderColor:"transparent",_hover:{bg:"gray.50",borderColor:"gray.200"},_focus:{bg:"gray.50",borderColor:"gray.200"},_active:{bg:"trueblue.100",borderColor:"trueblue.200"},...s})})}),P=e=>{let{children:t,...n}=e;return(0,a.jsx)(r.s,{bg:"#F9FAFBDD",p:1,borderWidth:"1px",borderColor:"whiteAlpha.600",borderRadius:"xl",shadow:"xl",...n,children:t})},F={[i.Hu.Start]:m.ecg,[i.Hu.Middle]:m._ur,[i.Hu.End]:m.jbh},V=()=>{let e=b(),t=e.useStore(S),n=e.useStore(M),r=R(e,n),s={...t,...r};return(0,a.jsxs)(u.A,{trigger:"hover",children:[(0,a.jsx)(p.W,{children:(0,a.jsx)(B,{icon:F[s.textAlign||i.Hu.Start]})}),(0,a.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,a.jsx)(P,{direction:"column",children:(0,a.jsxs)(g.e,{children:[(0,a.jsx)(B,{icon:m.ecg,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.style({textAlign:i.Hu.Start}),isActive:s.textAlign===i.Hu.Start},"align-left"),(0,a.jsx)(B,{icon:m._ur,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.style({textAlign:i.Hu.Middle}),isActive:s.textAlign===i.Hu.Middle},"align-center"),(0,a.jsx)(B,{icon:m.jbh,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.style({textAlign:i.Hu.End}),isActive:s.textAlign===i.Hu.End},"align-right"),(0,a.jsx)(B,{icon:m.Tip,label:x.Ru._({id:"18P2qJ"}),onClick:()=>e.style({textAlign:i.Hu.Justify}),isActive:s.textAlign===i.Hu.Justify},"justify")]})})})]})},O=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children),Z=e=>"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0,W=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,U=e=>{let t=e.appState.currentPageId,n=e.document.pages[t];for(let i of e.document.pageStates[t].selectedIds)if("text"in n.shapes[i])return!0;return!1},G=o.memo(function(){let e=b(),{isGammaOrgUser:t}=(0,c.ur)(),n=e.useStore(Z),s=e.useStore(O),l=e.useStore(W),o=e.useStore(U);return(0,a.jsx)(r.s,{w:"100%",direction:"row",position:"absolute",bottom:2,align:"flex-end",justify:"center",zIndex:1,children:(0,a.jsx)(P,{children:(0,a.jsxs)(d.z,{spacing:2,children:[t&&(0,a.jsx)(B,{icon:m.XYS,label:x.Ru._({id:"SpTWH3"}),onClick:()=>e.exportImage(i.Xi.SVG,{scale:1,quality:1})},"download"),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B,{icon:m.yLS,label:x.Ru._({id:"/Wgayn"}),onClick:()=>e.delete(),"data-testid":"drawing-edit-toolbar-delete"},"delete"),(0,a.jsx)(K,{}),l>=2&&(0,a.jsx)(Q,{}),l>=2||s?(0,a.jsx)(B,{icon:m.cWs,label:s?"Ungroup selection":"Group selection",onClick:()=>s?e.ungroup():e.group(),isActive:s},"group"):null]}),(0,a.jsx)(T,{}),o&&(0,a.jsx)(V,{})]})})})}),K=()=>{let e=b();return(0,a.jsxs)(u.A,{trigger:"hover",children:[(0,a.jsx)(p.W,{children:(0,a.jsx)(B,{icon:m.B4x})}),(0,a.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,a.jsxs)(P,{direction:"row",children:[(0,a.jsx)(B,{icon:m.bKR,label:x.Ru._({id:"J6qWQV"}),onClick:()=>e.moveToFront()},"front"),(0,a.jsx)(B,{icon:m.B4x,label:x.Ru._({id:"9xFjqz"}),onClick:()=>e.moveForward()},"forward"),(0,a.jsx)(B,{icon:m.PW6,label:x.Ru._({id:"OfSb1W"}),onClick:()=>e.moveBackward()},"backward"),(0,a.jsx)(B,{icon:m.jb9,label:x.Ru._({id:"/zBSYY"}),onClick:()=>e.moveToBack()},"back")]})})]})},Q=()=>{let e=b();return(0,a.jsxs)(u.A,{trigger:"hover",children:[(0,a.jsx)(p.W,{children:(0,a.jsx)(B,{icon:m.gD3})}),(0,a.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,a.jsxs)(P,{direction:"column",children:[(0,a.jsxs)(g.e,{children:[(0,a.jsx)(B,{icon:m.gD3,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.align(i.qx.Left)},"align-left"),(0,a.jsx)(B,{icon:m.im,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.align(i.qx.CenterHorizontal)},"align-center"),(0,a.jsx)(B,{icon:m.j7A,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.align(i.qx.Right)},"align-right"),(0,a.jsx)(B,{icon:m.yC$,label:x.Ru._({id:"8lqfXb"}),onClick:()=>e.distribute(i.Od.Horizontal)},"distribute-h")]}),(0,a.jsxs)(g.e,{children:[(0,a.jsx)(B,{icon:m.MVg,label:x.Ru._({id:"/Q0jUh"}),onClick:()=>e.align(i.qx.Top)},"align-top"),(0,a.jsx)(B,{icon:m.cse,label:x.Ru._({id:"QhuQN2"}),onClick:()=>e.align(i.qx.CenterVertical)},"align-middle"),(0,a.jsx)(B,{icon:m.QaE,label:x.Ru._({id:"EPnxoe"}),onClick:()=>e.align(i.qx.Bottom)},"align-bottom"),(0,a.jsx)(B,{icon:m.iHb,label:x.Ru._({id:"a1NrWf"}),onClick:()=>e.distribute(i.Od.Vertical)},"distribute-v")]})]})})]})};var q=n(96500),J=n(55597);let $=()=>[{icon:J.eX_,label:x.Ru._({id:"rG3WVm"}),tool:"select"},{icon:m.IP$,label:x.Ru._({id:"Ajc4TJ"}),tool:"erase"},{icon:J.adM,label:x.Ru._({id:"rjuFFw"}),tool:i.gs.Line},{icon:J.U6Q,label:x.Ru._({id:"zFkhx3"}),tool:i.gs.Arrow},{icon:J.vti,label:x.Ru._({id:"30KLDI"}),tool:i.gs.Rectangle},{icon:J.GEE,label:x.Ru._({id:"7xMmki"}),tool:i.gs.Ellipse},{icon:J.CKr,label:x.Ru._({id:"ucHvJP"}),tool:i.gs.Triangle},{icon:J.jwR,label:x.Ru._({id:"xeiujy"}),tool:i.gs.Text}],Y=e=>e.appState.activeTool,X=o.memo(function(){let e=b(),t=e.useStore(Y);return(0,a.jsx)(r.s,{h:"100%",direction:"column",position:"absolute",right:2,align:"flex-end",justify:"center",zIndex:1,children:(0,a.jsx)(P,{children:(0,a.jsx)(v.T,{spacing:2,children:$().map(n=>{let{label:i,icon:r,tool:s}=n;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B,{icon:r,label:i,onClick:()=>e.selectTool(s),isActive:t===s,tooltipPlacement:"left","data-testid":"drawing-insert-toolbar-".concat(s)},i),"select"==s&&(0,a.jsx)(q.c,{},"selectDivider")]})})})})})});var ee=n(78140),et=n(36999),en=n(41283),ei=n(85595);let ea=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,er=e=>e.settings.showGrid,es=o.memo(function(){let e=b(),t=e.useStore(er);return(0,a.jsx)(r.s,{position:"absolute",top:2,left:2,zIndex:1,children:(0,a.jsx)(P,{children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(el,{}),(0,a.jsx)(B,{icon:J.XgR,label:t?x.Ru._({id:"IsBZFj"}):x.Ru._({id:"mWgfWA"}),isActive:t,onClick:()=>e.setSetting("showGrid",!t)},"grid")]})})})}),el=o.memo(function(){let e=b(),t=e.useStore(ea);return(0,a.jsxs)(ee.W,{children:[(0,a.jsxs)(et.I,{as:k.$,"data-test-id":"zoom-menu-button",size:"sm",variant:"ghost",leftIcon:(0,a.jsx)(H.g,{icon:m.$UM}),children:[Math.round(100*t),"%"]}),(0,a.jsxs)(en.c,{children:[(0,a.jsx)(ei.D,{command:"#+",onClick:e.zoomIn,children:(0,a.jsx)(L.x6,{id:"AWOSPo"})}),(0,a.jsx)(ei.D,{command:"#-",onClick:e.zoomOut,children:(0,a.jsx)(L.x6,{id:"FjkaiT"})}),(0,a.jsx)(ei.D,{command:"⇧0",onClick:e.resetZoom,children:(0,a.jsx)(L.x6,{id:"41NrIs"})}),(0,a.jsx)(ei.D,{command:"⇧1",onClick:e.zoomToFit,"data-test-id":"zoom-to-fit-button",children:(0,a.jsx)(L.x6,{id:"pLI1Is"})})]})]})});var eo=n(87996);let ec=e=>({onAssetCreate:(0,o.useCallback)(async(t,n,a)=>{if(!e)return console.warn("[useAssetUpload] OrgId is required to upload assets"),!1;let r=URL.createObjectURL(n);console.debug("[useAssetUpload] Handling upload for file",{file:n,id:a,tempUrl:r});let s=e=>{let n=t.assets.find(e=>e.id===a);if(n){console.debug("[useAssetUpload] Upload complete. Replacing temp asset",{id:a,src:e.src});let i={document:{assets:{[a]:{...n,src:e.src}}}};t.patchState(i,"upload"),t.persist(i,"upload")}};return(0,eo.QM)(n,e,{onOriginalFileUpload:s,onUploadComplete:s}),t.patchState({document:{assets:{[a]:{id:a,type:i.zO.Image,fileName:n.name,src:r}}}}),r},[e]),onAssetDelete:(0,o.useCallback)(async(e,t)=>!0,[])});var ed=n(34806);let eu={dash:i.c.Solid,isFilled:!0,color:i.JM.White},ep=e=>{let{isDark:t,font:n,...d}=e,{currentWorkspace:u}=(0,c.ur)(),[p,h]=(0,o.useState)(),[g,m]=(0,o.useState)(!1),x=(0,o.useCallback)(e=>{h(e),e.style(eu,[]),m(!0)},[]),{onAssetCreate:b,onAssetDelete:C}=ec(null==u?void 0:u.id);(0,o.useEffect)(()=>{p&&void 0!==t&&p.setSetting("isDarkMode",t)},[p,t]);let y=(0,o.useMemo)(()=>(0,ed.k)(t),[t]),v=(0,o.useMemo)(()=>(0,ed.I)(n),[n]);return(0,a.jsxs)(r.s,{sx:{".tl-canvas":{"div, text, textarea":{...v},...y,'g[cursor="grab"][aria-label="link handle"]':{display:"none"}}},onDrop:()=>{},onPaste:()=>{},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:[(0,a.jsx)(l.mL,{styles:{"#__textLabelMeasure, #__textMeasure":{...v}}}),(0,a.jsxs)(f.Provider,{value:p||{},children:[(0,a.jsx)(i.Z1,{onAssetCreate:b,onAssetDelete:C,...d,onMount:(0,s.H)(d.onMount,x)}),g&&!d.readOnly&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G,{}),(0,a.jsx)(X,{})]}),g&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(es,{})})]})]})};var eh=n(67305),eg=n(48331);let em=e=>eh.Aq.getCommonBounds(e.map(i.ju.getRotatedBounds)),ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,{shapes:n,pageState:{camera:a},rendererBounds:r}=e;if(0===n.length)return;let s=em(n);if(!s)return;let l=i.ju.getCameraZoom(Math.min((r.width-t)/s.width,(r.height-t)/s.height)),o=(r.width-s.width*l)/2/l,c=(r.height-s.height*l)/2/l;e.setCamera(eg.l.toFixed(eg.l.sub([o,c],[s.minX,s.minY])),l,"zoomed_to_fit")}},81570:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i={prompt:"",template:null,settings:{},status:"ready"}},81880:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(67097);let a=e=>{var t,n;return!!(e.src&&!(0,i.v7)(e.src)&&!(0,i.SV)(e.src)&&!((null==(t=e.meta)?void 0:t.frame_count)&&(null==(n=e.meta)?void 0:n.frame_count)>1))}},82172:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>p,SQ:()=>o,pT:()=>d,tb:()=>u});var i=n(932),a=n.n(i),r=n(91656),s=n(15607),l=n(21905);let o=e=>{let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=i.node.attrs.indent,r=c(e,n,e=>e.node.attrs.indent>a),s=o(r);t.push({node:i.node,pos:i.pos,children:s}),n+=r.length}return t},c=(e,t,n)=>{let i=[];for(let a=t+1;a<e.length;a++){let t=e[a];if(n(t))i.push(t);else break}return i},d=e=>e.map(e=>{let t=d(e.children);return{type:"card",content:[{type:"heading",attrs:{level:Math.min(e.node.attrs.indent+1,l.Bq)},content:[{type:"text",text:e.node.textContent}]},...t]}}),u=(e,t)=>({type:"smartLayout",attrs:{variantKey:t},content:e.map(e=>{let t=[{type:"heading",attrs:{level:4},content:a()(e.node.content.toJSON())}];return t.push(...e.children.map(e=>{let t=a()(e.node.toJSON());return t.attrs.indent-=1,t})),{type:"smartLayoutCell",content:t}})}),p=e=>(0,s.Ng)(e,r.x)},82960:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(88586),a=n(58809),r=n(25778),s=n(6181),l=n(22529);let o=e=>{var t,n;let o=(0,s.gx)(),c=(0,r.GV)(a.Jo),d=null==c||null==(t=c.organization)?void 0:t.id,u=null==(n=(0,s.P9)(d))?void 0:n.id,p=(0,r.GV)((0,l.A1)(null!=d?d:""));return e!==i.rWX.Dashboard&&p?u:o}},83106:(e,t,n)=>{"use strict";let i;n.d(t,{W:()=>a});let a=(0,n(69930).A)(i)},83143:(e,t,n)=>{"use strict";n.d(t,{LQ:()=>o,bT:()=>l,gG:()=>u,lE:()=>c,qp:()=>d});var i=n(83817),a=n.n(i),r=n(91938),s=n(84979);let l=e=>{let{resize:t}=e.attrs,{height:n,width:i}=t;return!a()({resize:t},{resize:s.P})&&null!==n&&null!==i},o=e=>{e.chain().resetImageClip().resetImageScale().command(e=>{var t;let{commands:n}=e;return!!(null==(t=n.refreshBubbleMenu)?void 0:t.call(n))}).run()},c=async e=>{try{let t=e.split("/").pop();if(!t)throw Error("No filename found");let n=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,filename:t})});if(!n.ok)throw Error("Download failed");let i=await n.blob(),a=window.URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}catch(e){console.error("Error downloading image:",e)}},d=async e=>{try{let t=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,convertToPng:!0})});if(!t.ok)throw Error("Failed to fetch image for clipboard");let n=await t.blob();if(navigator.clipboard&&navigator.clipboard.write){let e=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([e]),console.log("Image copied with Clipboard API successfully")}}catch(e){console.error("Error copying image to clipboard:",e)}},u=e=>e.replace(/<(?!xlink:)([a-zA-Z0-9_-]+):/g,"<").replace(/<\/(?!xlink:)([a-zA-Z0-9_-]+):/g,"</").replace(/\s*xmlns:(?!xlink)[a-zA-Z0-9_-]+\s*=\s*(["'])[^"']*\1/g,"").replace(/(<svg[^>]*)\s+xmlns\s*=\s*(["'])[^"']*\2/g,"$1").replace(/<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')},83488:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var i=n(51684),a=n(77650);let r={label:()=>a.Ru._({id:"/hLjBB"}),description:()=>a.Ru._({id:"wRlboO"}),key:"embed.custom",icon:i.c9S,keywords:["webpage","website","app","embed","iframe"]}},83605:(e,t,n)=>{"use strict";n.d(t,{dE:()=>o});var i=n(37243);n(81904),n(72772);var a=n(94289);n(3131),n(62452),n(1057);var r=n(58450);n(19842),n(59824),n(43182);var s=n(98807),l=n(98308);n(83143),n(98088),n(45574),n(62171),n(52762),n(6181),n(30892),n(58618),n(21),n(45611);let o=e=>c(e)[0],c=e=>{let t=(0,i._w)((0,r.C)()),{content:n}=d(new DOMParser().parseFromString(e,"text/html"),t);return n},d=(e,t)=>{(0,l.h)(e);let n=a.S4.fromSchema(t).parseSlice(e.body);return{content:(0,s.ne)(n,t,void 0).content.toJSON()}}},83650:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var i=n(6029),a=n(36999),r=n(49611),s=n(26385),l=n(26420),o=n(48810),c=n(99492),d=n(48621),u=n(19564),p=n(33612),h=n.n(p);let g=e=>{let{color:t,isDefaultColor:n,isMixed:p=!1,...g}=e;return(0,i.jsx)(a.I,{as:r.$,variant:"plain",size:"sm",boxShadow:"none",minW:"fit-content",textAlign:"left",rightIcon:(0,i.jsx)(d.g,{fixedWidth:!0,icon:c.Jt$,transform:"shrink-6"}),...g,children:(0,i.jsxs)(s.B,{direction:"row",spacing:2,align:"center",children:[(0,i.jsx)(l.a,{as:"span",alignSelf:"center",boxSize:5,borderRadius:"md",border:"2px solid",borderColor:"gray.300",bgColor:t}),(0,i.jsx)(o.E,{fontFamily:n||p?void 0:"mono",textTransform:n||p?void 0:"uppercase",fontSize:"sm",children:p?(0,i.jsx)(u.x6,{id:"+UN6+J"}):n?(0,i.jsx)(u.x6,{id:"ovBPCi"}):h()(t).toHexString()})]})})}},83658:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var i=n(77650);let a={key:"image.pictographic",featureFlag:"pictographicImageSearch",label:()=>i.Ru._({id:"ualVui"}),description:()=>i.Ru._({id:"pnIyl1"}),image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/pictographic.1e90e3a6.svg",height:759,width:692,blurWidth:0,blurHeight:0},keywords:["pictographic","illustrations","photo","image"]}},83740:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(51684),a=n(77650);let r={key:"image.icon",label:()=>a.Ru._({id:"0EarAx"}),icon:i.cCs,keywords:["fontawesome","icon","symbol","picture"]}},83916:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var i=n(55729),a=n(17928);let r=()=>(0,i.useCallback)(e=>{a.LF.emit("queueBuddyEditMessage",e)},[])},84130:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});let i=new(n(83747)).b},84169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOWN_BAD_HOSTNAMES=t.KNOWN_GOOD_HOSTNAMES=t.KNOWN_GOOD_TLDS=t.TRUSTED_WORKSPACE_IDS=t.GAMMA_WORKSPACE_ID_PRODUCTION=t.GAMMA_WORKSPACE_ID_STAGING=t.isTrustedTLD=t.removeWWWPrefix=void 0,t.removeWWWPrefix=e=>e.replace(/^www\./,""),t.isTrustedTLD=e=>t.KNOWN_GOOD_TLDS.some(t=>e===t||e.endsWith(".".concat(t))),t.GAMMA_WORKSPACE_ID_STAGING="QWjS6fBfpt",t.GAMMA_WORKSPACE_ID_PRODUCTION="zc87vhr30n8uf3n",t.TRUSTED_WORKSPACE_IDS=["acme",t.GAMMA_WORKSPACE_ID_STAGING,t.GAMMA_WORKSPACE_ID_PRODUCTION],t.KNOWN_GOOD_TLDS=["gamma.app","gamma.site","gammastaging.site","wikipedia.org"],t.KNOWN_GOOD_HOSTNAMES=["gamma.app","gamma.site","cdn.gamma.app","staging.gamma.app","cdn-staging.gamma.app","careers.gamma.app","design.gamma.site","orzo.gamma.site","www.markdownguide.org","www.youtube.com","www.linkedin.com","www.instagram.com","twitter.com","x.com","www.tiktok.com","help.gamma.app","gamma.new","join.slack.com","www.google.com","www.facebook.com","groups.google.com","en.wikipedia.org","replit.com","www.bea.gov","doi.org","es.wikipedia.org","app.stotles.com","docs.google.com","www.figma.com","www.ncbi.nlm.nih.gov","github.com","youtu.be","tr.wikipedia.org","uk.wikipedia.org","ru.wikipedia.org","ro.wikipedia.org","pt.wikipedia.org","example.com","zh.wikipedia.org","www.sciencedirect.com","fr.wikipedia.org","colab.research.google.com","player.fm","m.facebook.com","www.britannica.com","www.amazon.com","www.podcasts.com","ko.wikipedia.org","www.example.com","vi.wikipedia.org","www.notion.so","chat.openai.com","calendly.com","www.bing.com","pubmed.ncbi.nlm.nih.gov","open.spotify.com","de.wikipedia.org","id.wikipedia.org","www.researchgate.net","techcrunch.com","www.cnn.com","pl.wikipedia.org","api.whatsapp.com","youtube.com","hbr.org","podcasters.spotify.com","ar.wikipedia.org","th.wikipedia.org","dictionary.cambridge.org","www.kaggle.com","es.surveymonkey.com","www.canva.com","www.forbes.com","lookerstudio.google.com","unsplash.com","www.cdc.gov","az.wikipedia.org","it.wikipedia.org","www.investopedia.com","www.pinterest.com","music.amazon.com","kk.wikipedia.org","scholar.google.com","www.nature.com","www.producthunt.com","creativecommons.org","www.masterclass.com","fa.wikipedia.org","www.bbc.com","www.nytimes.com","en.m.wikipedia.org","sr.wikipedia.org","uz.wikipedia.org","ieeexplore.ieee.org","play.google.com","es.m.wikipedia.org","cloud.google.com","www.imdb.com","www.mckinsey.com","aws.amazon.com","www.microsoft.com","chrome.google.com","www.businessinsider.com","bing.com","www.porsche.com","www.apple.com"].map(t.removeWWWPrefix),t.KNOWN_BAD_HOSTNAMES=["trixmovie.com","luna-3d.com","luna-3d.com:443","kiladkoerm.com","movie.geoflix.me","wtach.club","movstream.fun","novelastv.me","xzc.one","srv1.iyxwfree.my.id","followme.tribe.so","xzc.icu","marcolinks.click","multilibb.cc","exl-trk.com","uk.ebookarea.xyz","wemovietv.com","123moviesdb.com","www.realpdfdumps.com","pede.4tv.live","voxmovie.com","stream.evmovies.com","dmovie.fun","pdfhost.io","megavids.online","www.pdfdumpspro.com","gomovie.stream","dmovie.fun:443","go123.stream","ca.ebookarea.xyz","movie4you.online","www.123movieslink.com","moviedaily.site","maxstream.site","ftmovies.xyz","moviescreen.biz","moviesfox.site","morthenfile.web.app"].map(t.removeWWWPrefix)},84431:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});let i={presentBg:1,customerLogo:4,cardButtons:11,siteNav:21,filmstrip:21,toolbar:22,nestedCardBody:2,nestedCardBodyWithComment:3,cardDivider:1,resizeableWrapper:11,commentsStack:21,commentsStackOpen:1501,commentsPopup:1100,insertWidget:1100,panel:"calc(var(--chakra-zIndices-modal) + 1)",bottomRightControls:"calc(var(--chakra-zIndices-modal) + 2)",onboardingChecklist:"calc(var(--chakra-zIndices-modal) + 2)"}},84714:(e,t,n)=>{"use strict";n.d(t,{g:()=>x,j:()=>m});var i=n(6029),a=n(40452),r=n(26420),s=n(99492),l=n(55597),o=n(48621),c=n(19564),d=n(90184),u=n(27002),p=n(27246),h=n(49249),g=n(74471);let m=e=>{let{onClick:t=()=>{},...n}=e;return(0,u.u)("disableRemoveBackground")?null:(0,i.jsx)(g.I,{label:(0,i.jsxs)(a.s,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(c.x6,{id:"ylbfBl"}),(0,i.jsx)(d.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),onClick:t,...n,children:(0,i.jsxs)(r.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(o.g,{icon:s.sAw,size:"lg"}),(0,i.jsx)(o.g,{icon:l.X46,size:"xs",transform:"shrink-5"})]})})},x=e=>{let{editor:t,decorations:n}=e,a=(0,p.Bn)(n),{startRemoveBg:r,isRemoveBgLoading:s}=(0,h.D)({editor:t,id:null==a?void 0:a.cardId});return(0,i.jsx)(m,{onClick:r,disabled:s})}},84979:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,T:()=>i});let i="non-clickable",a={clipType:null,clipPath:null,clipAspectRatio:null,width:null}},85158:(e,t,n)=>{"use strict";n.d(t,{X:()=>m,m:()=>g});var i=n(6029),a=n(34807),r=n(26420),s=n(33750),l=n.n(s),o=n(25778),c=n(43607),d=n(43634),u=n(85235),p=n(28615),h=n(98874);let g=6,m=e=>{var t;let n,{containerSize:s,numCells:m,mobileMaxColumns:x=1,forceBalance:f=!1,cellSize:b,horizontalAlign:C}=e,y=(null==(t=Object.values((0,h.rO)()).find(e=>e.width===b))?void 0:t.targetColumns)||3,v=40/y,w=(0,c.FX)(),A=(0,o.GV)(d.wC)===u.w.SLIDE_VIEW,k=(0,o.GV)(d.yh),L=(0,a.A)({base:x,sm:2,md:3,xl:4},{fallback:w?"base":"xl"})||x,j=p.D1||A||k?4:w?x:L,E=l()(40*s,10,10*j),S=Math.max(1,Math.floor(E/v)),M=Math.min(S,m);if(f&&m>M&&m<=4)for(;M>=1&&m%M!=0;M--);let I=Math.ceil(m/M),_=m%M;if(_&&"center"===C){let e=(M-_)/2;n=(0,i.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(I),className:"grid-offset"})}else if(_&&"right"===C){let e=M-_;n=(0,i.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(I),className:"grid-offset"})}return{maxWidth:E,targetWidth:v,targetColumns:y,maxColumns:S,columns:M,lastRowAligner:n}}},85399:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var i=n(55729),a=n(25778),r=n(95695),s=n(68247),l=n(96177),o=n(88839),c=n(62452),d=n(43634);let u=e=>{let{layoutColorOverride:t,cellColorOverride:n,isColoringCell:u=!0,index:p=0,forceTransparent:h,optOutOfPalette:g}=e,m=(0,a.GV)(d.SJ),x=null!=n?n:t,f=x,b=(0,o.M)(m),C=r.z0[b.shapeFill].opacity,y=(0,c.bh)(m);if(!f&&!g&&"custom"===b.shapeColorScheme&&y.length>0&&u){let e=(0,c.bh)(m).map(c.Ik);f=e[p%e.length]}let v=!0===h?0:!1===h?1:C,w=(0,i.useMemo)(()=>(0,l.q9)(f,v),[f,v]),A=x?(0,s.U2)(x):void 0;return{color:f,colorVars:w,headingColorCss:A,colorOverride:x}}},86025:(e,t,n)=>{"use strict";n.d(t,{yf:()=>f});var i=n(55729),a=n(91938),r=n(8205),s=n(27002),l=n(73110),o=n(49337),c=n(11390),d=n(95889),u=n(6181);n(29608),n(64076),n(85732);var p=n(77650),h=n(21157),g=n.n(h),m=n(99038);let x=(e,t)=>{let n=g()(t);return{[e]:{next:p.Ru._({id:"hXzOVo"}),back:p.Ru._({id:"iH8pgl"}),nevermind:p.Ru._({id:"CKyk7Q"}),goToAccount:p.Ru._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:m.On}}),getHelp:p.Ru._({id:"pWsyuL"}),declineOffer:p.Ru._({id:"aIFikE"}),confirmAndCancel:p.Ru._({id:"G9nPRC"}),pauseSubscription:p.Ru._({id:"2RgEmU"}),cancelSubscription:p.Ru._({id:"dEgA5A"}),discountSubscription:p.Ru._({id:"qG4Wa/"}),claimOffer:p.Ru._({id:"/Gl/RK"}),discountOff:p.Ru._({id:"Bdtwnw"}),discountFor:p.Ru._({id:"sQv06Y"}),discountForever:p.Ru._({id:"FsOOWf"}),discountOneTime:p.Ru._({id:"HpXCa4"}),day:p.Ru._({id:"5YWExy"}),month:p.Ru._({id:"obrMay"}),year:p.Ru._({id:"/Tw548"}),error:p.Ru._({id:"wTrpxV"}),genericErrorDescription:p.Ru._({id:"PUjJ3A"}),cancelNow:p.Ru._({id:"EiakwV"}),applyingDiscount:p.Ru._({id:"8kSYjw"}),applyingCancel:p.Ru._({id:"VpuvNv"}),applyingResume:p.Ru._({id:"eIoGiX"}),applyingPause:p.Ru._({id:"UD7gOq"}),discountApplied:p.Ru._({id:"jdYyiz"}),discountAppliedMessage:p.Ru._({id:"DhHX6G"}),pauseApplied:p.Ru._({id:"eeITvj"}),pauseAppliedMessage:p.Ru._({id:"nm0VaE"}),pauseAppliedResumeMessage:p.Ru._({id:"qOe0SS"}),pauseScheduledMessage:p.Ru._({id:"mqRc6d"}),until:p.Ru._({id:"C51N+0"}),cancelApplied:p.Ru._({id:"Wcg6zu"}),cancelAppliedMessage:p.Ru._({id:"8vN97Y"}),cancelAppliedDateMessage:p.Ru._({id:"BS/SGu"}),howLongToPausePrompt:p.Ru._({id:"HLyJ9n"}),whatCouldWeHaveDone:p.Ru._({id:"fcbm8H"}),weReadEveryAnswer:p.Ru._({id:"nkuKRd"}),applyingCustomerAction:p.Ru._({id:"PXwF+s"}),loading:p.Ru._({id:"Z3FXyt"}),pauseWallCardPunch:p.Ru._({id:"iL2TQ6"}),pauseWallCta:p.Ru._({id:"TvXj47"}),pauseWallCardHeading:p.Ru._({id:"kHm8Fg"}),scheduledToReactivate:p.Ru._({id:"aH7vi8"}),resumeApplied:p.Ru._({id:"diOgYK"}),resumeAppliedMessage:p.Ru._({id:"YqFvUY"}),resumeNextChargeMessage:p.Ru._({id:"YJHkcd"}),resumeNextChargeMessageWithoutAmount:p.Ru._({id:"RrvVAn"}),resumeAccountDataInfo:p.Ru._({id:"dJCJXA"}),subscriptionPauseNotice:p.Ru._({id:"fpxliT"}),failedPaymentNotice:p.Ru._({id:"Vxg5vO"}),chargedMultipleTimeNotice:p.Ru._({id:"lAlv46"}),failedPaymentCardPunch:p.Ru._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:m.On,productName:n}}),resumeHey:p.Ru._({id:"hdOctW"}),invoicePaidTitle:p.Ru._({id:"aJGfDL"}),logout:p.Ru._({id:"W+3RJN"}),note:p.Ru._({id:"ycCSuD"}),discount:p.Ru._({id:"HmpVeZ"}),discountNoticeHeadline:p.Ru._({id:"5P1dmt"}),discountNoticePrepend:p.Ru._({id:"yjadEY"}),discountOverride:p.Ru._({id:"JfBDWL"}),discountValidUntil:p.Ru._({id:"uXxNua"}),updateBilling:p.Ru._({id:"tQilrI"}),extendTrialCTA:p.Ru._({id:"aaued9"}),extendTrialPunch:p.Ru._({id:"tvkJWl"}),extendTrialOfferTitle:p.Ru._({id:"SyzXYh"}),trialExtended:p.Ru._({id:"fezME2"}),trialExtendedMessage:p.Ru._({id:"QE4mUs"}),applyingTrialExtension:p.Ru._({id:"vI2q9R"}),switchPlanCTA:p.Ru._({id:"P2mx2L"}),changePlanHighlights:p.Ru._({id:"qbgW+C"}),changePlanOfferPunch:p.Ru._({id:"MRkiFP"}),planChanged:p.Ru._({id:"ByFtyh"}),planChangedMessage:p.Ru._({id:"Pf5z1G"}),applyingPlanChange:p.Ru._({id:"9vKKLI"}),surveyStepTag:p.Ru._({id:"cSUBI1"}),freeFormStepTag:p.Ru._({id:"cSUBI1"}),finalConfirmation:p.Ru._({id:"1/oP/N"}),offerDiscountTag:p.Ru._({id:"LTgtxG"}),offerChangePlanTag:p.Ru._({id:"ENMJv2"}),offerExtendTrialTag:p.Ru._({id:"MWKntz"}),offerRedirectTag:p.Ru._({id:"cvpAvL"}),offerContactTag:p.Ru._({id:"cvpAvL"}),offerPauseTag:p.Ru._({id:"+T6DGl"}),completeTag:p.Ru._({id:"K5c1e7"}),errorTag:p.Ru._({id:"EuvbIW"}),offerAccepted:p.Ru._({id:"ZU0opP"})}}};a.$.CHURNKEY_APP_ID;let f=e=>{var t;let{subscription:n,workspace:d,autoLaunch:p=!0}=e,{user:h}=(0,u.ur)(),g=(0,s.u)("churnkeyFailedPaymentWallEnabled"),m=(0,l.O)(),x=(0,c.A4)(d),f=(0,o.k)(),C=g&&(null==h?void 0:h.id)===(null==n||null==(t=n.managedByUser)?void 0:t.id),y=(0,i.useCallback)(async()=>{if(n&&x&&C)return(0,r.yg)("churnkey").then(e=>{var t,i;if(!e||!n.billingSubscriptionId||!(null==(t=n.managedByUser)?void 0:t.billingCustomerId))return void console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:n});console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:a.$.CHURNKEY_APP_ID,subscriptionId:n.billingSubscriptionId,customerId:null==(i=n.managedByUser)?void 0:i.billingCustomerId}),b({authHash:e,subscription:n,localeKey:m,productKey:x,launchIntercomUI:f})})},[n,x,C,m,f]);return(0,i.useEffect)(()=>{p&&y()},[y,p]),{launchFailedPaymentFlow:y,failedPaymentFlowEnabled:C}},b=async e=>{var t,n;let{authHash:i,subscription:r,localeKey:s,productKey:l,launchIntercomUI:o}=e;null==(n=window.churnkey)||n.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null==(t=r.managedByUser)?void 0:t.billingCustomerId,authHash:i,customerAttributes:{language:s},i18n:{lang:s,messages:x(s,l)},appId:a.$.CHURNKEY_APP_ID,mode:a.$.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;o(),d.zS.track(d.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.managedByUser)?void 0:e.billingCustomerId})},async handleCancel(e){var t,n;return d.zS.track(d.VV.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(t=r.managedByUser)?void 0:t.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null==(n=r.managedByUser)?void 0:n.billingCustomerId,customer:e}),C({authHash:i,subscription:r,localeKey:s,productKey:l,launchIntercomUI:o,customerAttributes:{viaFailedPayment:!0}}).catch(e=>b({authHash:i,subscription:r,localeKey:s,productKey:l,launchIntercomUI:o}))},onFailedPaymentWallActivated(){var e;d.zS.track(d.VV.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.managedByUser)?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;d.zS.track(d.VV.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.managedByUser)?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;d.zS.track(d.VV.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.managedByUser)?void 0:e.billingCustomerId})},onCancel(){var e;d.zS.track(d.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null==(e=r.managedByUser)?void 0:e.billingCustomerId})},onError(e,t){console.warn('Churnkey check("failed-payment", ...) error',e,t)}})},C=async e=>{let{authHash:t,subscription:n,localeKey:i,productKey:r,customerAttributes:s={},launchIntercomUI:l}=e;return new Promise((e,o)=>{var c,u,p,h,g;null==(g=window.churnkey)||g.init("restart",{subscriptionId:n.billingSubscriptionId,customerId:null==(c=n.managedByUser)?void 0:c.billingCustomerId,authHash:t,customerAttributes:{language:i,frequency:null==n||null==(h=n.products)||null==(p=h[0])||null==(u=p.productPrice)?void 0:u.frequencyUnit,productKey:r,...s},i18n:{lang:i,messages:x(i,r)},appId:a.$.CHURNKEY_APP_ID,mode:a.$.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;l(),d.zS.track(d.VV.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:n.billingSubscriptionId,customerId:null==(e=n.managedByUser)?void 0:e.billingCustomerId})},onCancel(e,t,i){var a;d.zS.track(d.VV.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:n.billingSubscriptionId,customerId:null==(a=n.managedByUser)?void 0:a.billingCustomerId,surveyResponse:t,freeformFeedback:i}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:t,freeformFeedback:i})},onGoToAccount(t){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:t}),e({sessionResults:t})},onClose(t){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:t}),!t||t.aborted)return void o("Churnkey cancel flow aborted");e({sessionResults:t})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),o({message:e})}})})}},86364:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},86687:(e,t,n)=>{"use strict";n.d(t,{ML:()=>l,dQ:()=>c,pK:()=>o,y_:()=>d});var i=n(27002),a=n(3298),r=n(6494),s=n(77249);let l=()=>{let e=(0,r.aQ)();return Object.entries(a.Ab).map(t=>{let[n,a]=t,r=e.filter(e=>{let{disabled:t,featureFlag:a,family:r}=e;return!t&&(!a||i.of.get(a))&&r===n}).map(e=>{let t=e.presetConfigurations,n=[];return t&&t.forEach(t=>{n.push({...t,icon:e.icon,variantKey:e.key,key:(0,s.Z)(e.key,t.options),visible:!0})}),{variant:e,options:n}});return{family:{key:n,...a},variants:r,visible:!0}}).filter(e=>e.variants.length>0)},o=()=>l().flatMap(e=>e.variants.flatMap(e=>e.options)),c=()=>l().reduce((e,t)=>(e[t.family.key]={family:t.family,variants:t.variants},e),{}),d=()=>o().reduce((e,t)=>(e[(0,s.Z)(t.variantKey,t.options)]=t,e),{})},86932:(e,t,n)=>{"use strict";n.d(t,{A3:()=>y});var i=n(21938),a=n(37243),r=n(63867),s=n(97255),l=n(25778),o=n(85011),c=n(95889),d=n(43634),u=n(85235),p=n(15607),h=n(80911),g=n(6845),m=n(47665),x=n(60300),f=n(4967),b=n(53891);let C=new r.hs("expandableNodes"),y=e=>e.some(e=>e.spec.isExpandableNode),v=e=>e instanceof h.J&&0===e.side&&w(e.node),w=e=>!0===e.type.spec.expandable,A=(e,t)=>{if(!(null==t?void 0:t.from))return!1;let n=(0,p.jB)(e,t.from),i=(0,o.cH)(n);return(null==i?void 0:i.inView)===!0},k=(e,t,n)=>{let i=(0,m.Py)(e.view.nodeDOM(t)),a=(0,o.cH)(i);if(!a)return!1;let{bottomInView:r,topInView:s}=a;return"top"===n?s:r},L=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.state.selection,s=a instanceof h.J&&1===a.side?a.to:a.from;if(s<=t){if(k(e,t,"top"))return null}else if(s>=n){if(k(e,t,"bottom"))return null}else{if(A(e,a))return null;let t=e.state.doc.resolve(s);if(A(e,r.LN.findFrom(t,-1,!1))||A(e,r.LN.findFrom(t,1,!1)))return null}let l=(0,p.XL)({editor:e,side:i?"bottom":"top",margin:200});if(l.pos){let t=r.LN.findFrom(e.state.doc.resolve(l.pos),i?1:-1,!1);return(null==t?void 0:t.from)||null}return null};a.YY.create({name:"expandableNodes",extendNodeSchema(e){var t;return{expandable:null!=(t=(0,a.gk)((0,a.iI)(e,"expandable",e)))&&t}},addCommands:()=>({expandOrCollapseExpandableNode:e=>t=>{let{state:n,chain:i}=t,a=null!=e?e:n.selection.from,r=n.doc.nodeAt(a);if(!r||!w(r))return!1;let s=(0,l.KA)();switch(r.type.name){case"card":if(s.dispatch((0,d.mF)({attached:!1})),null===c.zS||void 0===c.zS||c.zS.track(c.VV.CARD_EXPANDED,{is_present_mode:!0,method:"enter_key"}),(0,g.Wq)(r.attrs.id))return i().descendIntoCurrentCard(a).reHighlightExpandableNode().run();return i().spotlightCollapseCard(a).reHighlightExpandableNode().run();case"toggle":{(0,b.bG)(r.attrs.id,!(0,b.vb)(r.attrs.id));let t=i();return e&&t.spotlightNextBlock(),t.reHighlightExpandableNode().run(),!0}case"image":case"video":case"embed":return s.dispatch((0,d.a)({nodeId:r.attrs.id})),!0;case"gallery":{let e=r.firstChild;if(e)return s.dispatch((0,d.a)({nodeId:e.attrs.id})),!0;return!1}default:return!1}},goToNextExpandableNode:e=>t=>{var n;let{editor:i,tr:a,state:r}=t,s=f.n.getState(i.state),l=(0,m.W0)(i,s.cardId);if(!l)return!1;let c=l.node.attrs.id,d=l.pos,u=l.pos+l.node.nodeSize,p=i.state.selection,g=v(p),b=p instanceof h.J,y=L(i,d,u,e),A=(null==(n=C.getState(r))?void 0:n.lastApplied)||+new Date;if(g&&!y&&new Date-A>3e3)return i.commands.reHighlightExpandableNode();a.setMeta(C,{});let k=b&&(-1===p.side&&e||1===p.side&&!e)?-1:0,j=Math.min(Math.max(y||(g||!b?p.from:1===p.side?p.to+k:p.from+k),d),u-1),E=(0,x.vi)(i,c,j,w,e);if(console.debug("[ExpandableNodes] goToNextExpandableNode",{posToUse:j,overridePos:y},E),!E.pos||!E.domNode||E.cardId!==c)return a.setSelection(h.J.create(i.state.doc,d,e?-1:1)),!1;let S=(0,o.cH)(E.domNode,50);return(null==S?void 0:S.inView)?(a.setSelection(h.J.create(i.state.doc,E.pos)),(0,o.H1)("editor").scrollElementIntoView({element:E.domNode,attempts:0,offsetFromTop:null}),!0):(g&&a.setSelection(h.J.create(i.state.doc,p.from,e?-1:1)),!1)},reHighlightExpandableNode:()=>e=>{let{tr:t,editor:n}=e;return t.setMeta(C,{shouldAddResetClass:!0}),requestAnimationFrame(()=>{n.commands.command(e=>{let{tr:t}=e;return t.setMeta(C,{shouldAddResetClass:!1}),!0})}),!0}}),addProseMirrorPlugins:()=>[new r.k_({key:C,state:{init:()=>({lastApplied:0,shouldAddResetClass:!1}),apply(e,t){let n=e.getMeta(C);return n?{...t,lastApplied:+new Date,...n}:t}},props:{decorations(e){let t=f.n.getState(e);if(null==t?void 0:t.pos)return s.zF.empty;let n=C.getState(e);if((0,d.wC)((0,l.KA)().getState())!==u.w.SLIDE_VIEW)return s.zF.empty;let a=e.selection;if(!v(a)||!(a instanceof h.J))return s.zF.empty;let r=a.node;return s.zF.create(e.doc,[s.NZ.node(a.from,a.from+r.nodeSize,{class:(0,i.cx)("expandable-node-selected",(null==n?void 0:n.shouldAddResetClass)&&"expandable-node-reset")},{isExpandableNode:!0})])}}})]})},87140:(e,t,n)=>{"use strict";n.d(t,{a:()=>g,h:()=>m});var i=n(21938),a=n(37243),r=n(63867),s=n(97255),l=n(27002),o=n(15607);class c extends r.k_{removeOverlappingDecorations(e,t){let n=this.getDecorationsRanges(t),i=e.find(n.from,n.to).filter(e=>n.hasRange(e));return e.remove(i)}getDecorationsRanges(e){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=new Set;return e.forEach(e=>{let{from:a,to:r}=e;a<t&&(t=a),r>n&&(n=r),i.add("".concat(a,":").concat(r))}),{from:t,to:n,hasRange:e=>{let{from:t,to:n}=e;return i.has("".concat(t,":").concat(n))}}}decorateDoc(e){let t=[];return e.descendants(this.decorateNode.bind(this,t)),s.zF.create(e,t)}processStep(e,t,n,i){let a=t.doc,r=t.mapping.slice(i+1),s=r.map("from"in e?e.from:e.pos),l="to"in e?r.map(e.to):s,o="slice"in e?e.slice.content.size:0;a.descendants((e,t,i,a)=>!(t+e.nodeSize<s)&&!(t>l+o)&&("document"===e.type.name||!i||this.decorateNode(n,e,t,i,a)))}constructor({key:e,decorateNode:t,options:n={}}){super({key:e,state:{init(e,t){let{doc:n}=t;return{decorations:this.decorateDoc(n)}},apply(e,t){var i,a;let r=null==(i=n.processEntireDoc)?void 0:i.call(n),s=null!=(a=n.shouldProcessStep)?a:o.Be,l=t.decorations;if(!e.steps.length&&!r)return{...t,decorations:l.map(e.mapping,e.doc)};if(r||(0,o.R3)(e))return{...t,decorations:this.decorateDoc(e.doc)};let c=[];e.steps.forEach((t,n)=>{if(s(t))return this.processStep(t,e,c,n)});let d=this.removeOverlappingDecorations(l.map(e.mapping,e.doc),c).add(e.doc,c);return{...t,decorations:d}}},props:{decorations:t=>{var n;return null==(n=e.getState(t))?void 0:n.decorations}}}),this.decorateNode=t}}var d=n(33201),u=n(67864),p=n(94922);function h(e,t,n,a,r){if((0,u.cE)(a)&&e.push(s.NZ.node(n,n+t.nodeSize,{},{isAnnotatable:!0})),(0,d.CD)(t))e.push(s.NZ.node(n,n+t.nodeSize,{class:(0,i.cx)("block","block-".concat(t.type.name),0===r&&"first-block",r===a.childCount-1&&"last-block")})),0===r&&((0,d.jg)(a)||(0,p.Eg)(a))&&e.push(s.NZ.node(n,n+t.nodeSize,{class:"first-block-in-card"},{isFirstBlockInCard:!0}));else{if(!t.isLeaf&&!t.isBlock)return!1;e.push(s.NZ.node(n,n+t.nodeSize,{class:"node-".concat(t.type.name)}))}return!0}let g=a.YY.create({name:"blockClass",addOptions:()=>({blockClass:"block"}),addProseMirrorPlugins:()=>[new c({key:new r.hs("blockClass"),decorateNode:h,options:{processEntireDoc:()=>!l.of.get("useTransactionBlockPlugin")}})]}),m=e=>!!e.find(e=>e.spec.isFirstBlockInCard)},87379:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var i=n(84462),a=n.n(i),r=n(58495);class s{_flush(){this._handle=0;let e=this._queue;this._queue=[],e.forEach(e=>{let{fn:t}=e;t()})}push(e,t){if(t){let n=this._queue.findIndex(e=>e.id===t);n>-1?this._queue.splice(n,1,{fn:e,id:t}):this._queue.push({fn:e,id:t})}else this._queue.push({fn:e,id:(0,r.Ak)(5)});this._handle||(this._handle=requestAnimationFrame(this._flush.bind(this)))}constructor(){this._queue=[],this._handle=0,this._handle=requestAnimationFrame(this._flush.bind(this))}}let l=a()(()=>new s)},87545:(e,t,n)=>{"use strict";n.d(t,{h:()=>iy,e:()=>iC});var i=n(6029),a=n(10945),r=n(57405),s=n(64268),l=n(51504),o=n(99745),c=n(58959),d=n(48810),u=n(26420),p=n(36218),h=n(61491),g=n(25223),m=n(80314),x=n(49611),f=n(99492),b=n(48621),C=n(33170),y=n(19564),v=n(77650),w=n(55729),A=n(57963),k=n(10500),L=n(83743),j=n(33787),E=n(12364),S=n.n(E),M=n(24171),I=n(13080);let _=(0,w.memo)(e=>{let{selectedPreset:t,onSelectPreset:n,columns:a}=e,r=(0,w.useRef)(function(e){return[[e,I.ll[e]],...Object.entries(I.ll).filter(t=>{let[n]=t;return n!==e})]}((0,M.b)()));return(0,i.jsx)(L.r,{columns:null!=a?a:{base:3,md:5},spacing:1,children:r.current.map(e=>{let[a,{label:r,imageUrl:s}]=e;return(0,i.jsx)(D,{stylePreset:a,label:r,imageUrl:s,isSelected:a===t,onSelectPreset:n},a)})})});_.displayName="ImageArtStyleGrid";let D=e=>{let{stylePreset:t,label:n,imageUrl:a,isSelected:r,onSelectPreset:s}=e,[l,o]=(0,w.useState)(!0),p=(0,w.useRef)(null);return(0,w.useEffect)(()=>{let e=S()(()=>{p.current&&o(p.current.scrollWidth>p.current.clientWidth)},200,{leading:!1,trailing:!0});return e(),window.addEventListener("resize",e),()=>{e.cancel(),window.removeEventListener("resize",e)}},[]),(0,i.jsx)(C.Tz,{label:n(),hasArrow:!0,placement:"bottom",isDisabled:!l,children:(0,i.jsx)(u.a,{position:"relative",cursor:"pointer",onClick:()=>s(t),borderRadius:"md",borderColor:r?"deepocean.600":"transparent",borderWidth:2,overflow:"hidden",aspectRatio:"1/1",_hover:{"& img":{filter:"brightness(60%)",transition:"filter 0.3s ease-in-out"}},children:(0,i.jsxs)(u.a,{children:[(0,i.jsxs)(u.a,{position:"relative",children:[(0,i.jsx)(j._,{src:a,alt:n(),width:"100%",height:"100%",objectFit:"cover",draggable:!1}),(0,i.jsx)(u.a,{position:"absolute",top:0,insetStart:0,insetEnd:0,bottom:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.55) 80%, rgba(0, 0, 0, 0.6) 100%)",pointerEvents:"none"})]}),(0,i.jsxs)(c.z,{position:"absolute",bottom:1,insetStart:2,insetEnd:2,spacing:1,children:[r&&(0,i.jsx)(k.S,{w:2,color:"white"}),(0,i.jsx)(d.E,{fontSize:"2xs",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"white",ref:p,children:n()})]})]})},t)})};var R=n(34792),T=n(17859),z=n(88586),H=n(44595),N=n(3131),B=n(89942),P=n(90184);let F=e=>{let{model:t,multiplier:n,...a}=e,r=(0,B.ez)("unlimited_credits"),s=(0,N.kO)(t);if(!(!r||"ultra"===s))return null;let l=N.Rz[t].cost*(null!=n?n:1);return 0===l?null:(0,i.jsx)(P.j,{totalCredits:l,...a})};var V=n(26814),O=n(27002),Z=n(58809),W=n(83638),U=n(78140),G=n(36999),K=n(40452),Q=n(41283),q=n(37930),J=n(48478),$=n(29810);let Y={square:f.Nfw,portrait:f.b0A,landscape:f.Cpz},X={square:{short:"1:1",long:()=>v.Ru._({id:"1DA6ap"})},portrait:{short:"3:4",long:()=>v.Ru._({id:"3bV9gD"})},landscape:{short:"4:3",long:()=>v.Ru._({id:"XxIeKn"})}},ee=(0,w.memo)(e=>{let{value:t,setValue:n,isDisabled:a,model:r}=e,s=(0,N.pH)(r);return(0,i.jsx)(W.MJ,{children:(0,i.jsxs)(U.W,{isLazy:!0,children:[(0,i.jsx)(G.I,{as:x.$,variant:"plain",isDisabled:a,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),boxShadow:"none",size:"sm",children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(K.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,i.jsx)(b.g,{icon:Y[t],fixedWidth:!0})}),(0,i.jsx)(d.E,{as:"span",flex:1,children:X[t].short})]})}),(0,i.jsx)(Q.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,i.jsx)(q.i,{value:t,type:"radio",onChange:e=>{n(e)},children:Object.values(s).map(e=>(0,i.jsx)(J.k,{value:e,children:(0,i.jsxs)(c.z,{spacing:2,justify:"space-between",width:"100%",children:[(0,i.jsx)(K.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,i.jsx)(b.g,{icon:Y[e],fixedWidth:!0})}),(0,i.jsx)(d.E,{as:"span",flex:1,children:X[e].long()}),(0,i.jsx)($.h,{}),(0,i.jsx)(d.E,{as:"span",opacity:.6,children:X[e].short})]})},e))})})]})})});ee.displayName="AspectRatioSelect";var et=n(44798),en=n(25778),ei=n(49023),ea=n(7554),er=n(43634);let es=e=>{var t;let{contextualTheme:n}=e;(0,ei.t)();let i=(0,en.GV)(ea.ST),a=(0,en.GV)(er.SJ),r=n||a,s=!!(0,en.GV)(Z.Jo),l=(0,w.useMemo)(()=>Object.values(I.bz).map(e=>({title:e,presets:I.xi.filter(t=>t.category===e&&!t.hidden&&(s||t.stylePreset!==I.nv.Custom))})),[s]),o=(0,w.useCallback)(e=>Object.values(I.nv).includes(e),[]),c=(0,w.useCallback)(e=>{if(!o(e))return"";if(o(e)){var t;return(null==(t=I.xi.find(t=>t.stylePreset===e))?void 0:t.stylePrompt)||""}return""},[o]),d=(0,w.useCallback)((e,t)=>{if(!o(e))return"";if(e===I.nv.Theme){var n;return(null==r||null==(n=r.config)?void 0:n.stylePrompt)||""}return e===I.nv.Custom?t:c(e)},[o,c,null==r||null==(t=r.config)?void 0:t.stylePrompt]),u=(0,w.useCallback)(e=>I.xi.find(t=>t.stylePreset===e),[]);return{stylePresetOptions:l,getStylePromptFromPreset:d,getThemeNameFromStylePrompt:(0,w.useCallback)(e=>{var t;return(null==(t=i.find(t=>t.config.stylePrompt===e))?void 0:t.name)||""},[i]),getPresetDisplayMetadata:u,getPredefinedStylePrompt:c}};var el=n(20775),eo=n(8327),ec=n(34394);let ed=e=>{var t,n,i,a,r,s,l,o,c,d;let{contextualTheme:u,lastUsedImageGenerationSettingsInDoc:p,aiParams:h,savedMediaContext:g,visualsMenuEnabled:m=!1}=e,[x,f]=(0,ec.ZQ)(),[b,C]=(0,w.useState)(!0),y=(0,en.GV)(er.SJ),v=(0,en.GV)(er.K),A=null==y||null==(t=y.config)?void 0:t.stylePrompt,{stylePresetOptions:k,getStylePromptFromPreset:L,getThemeNameFromStylePrompt:j,getPresetDisplayMetadata:E}=es({contextualTheme:u}),{prompt:S,addPrompt:_,promptPageInfo:D,nextPrompt:R,prevPrompt:T}=(0,et.ab)(),[z,H]=(0,w.useState)(()=>{var e,t;return!!m&&(h?null!=(e=h.modelAutoselect)&&e:null!=(t=null==v?void 0:v.modelAutoselect)&&t)}),B=(0,w.useCallback)(()=>{H(!0)},[]),[P,F]=(0,w.useState)(null!=(i=null!=(n=null==h?void 0:h.model)?n:null==p?void 0:p.model)?i:x),V=(0,w.useCallback)(e=>{H(!1),F(e)},[]),O=(0,w.useCallback)(e=>{V(e),f(e)},[V,f]),[Z,W]=(0,w.useState)(null!=(r=null!=(a=null==h?void 0:h.stylePreset)?a:null==p?void 0:p.stylePreset)?r:I.nv.None),[U,G]=(0,w.useState)(L(Z,null==p?void 0:p.stylePrompt)),[K,Q]=(0,w.useState)(null!=(o=null!=(l=null!=(s=null==h?void 0:h.aspectRatio)?s:(null==h?void 0:h.height)&&(null==h?void 0:h.width)?(0,eo.KD)({height:h.height,width:h.width}):void 0)?l:null==p?void 0:p.aspectRatio)?o:el.X),[q,J]=(0,w.useState)(()=>(null==h?void 0:h.visualsMenuEnabled)||(null==h?void 0:h.stylePreset)!==I.nv.Custom?(null==h?void 0:h.artStylePreset)&&h.artStylePreset in I.ll?h.artStylePreset:(null==p?void 0:p.artStylePreset)&&p.artStylePreset in I.ll?p.artStylePreset:(0,M.b)():"custom"),[$,Y]=(0,w.useState)(()=>"custom"===q?(null==h?void 0:h.visualsMenuEnabled)?(null==h?void 0:h.artStylePrompt)||"":(null==h?void 0:h.stylePrompt)||"":I.ll[q].prompt),X=(0,w.useCallback)(e=>{J(e),Y(I.ll[e].prompt)},[J,Y]),[ee,ei]=(0,w.useState)(null!=(d=null!=(c=null==h?void 0:h.count)?c:null==p?void 0:p.count)?d:3),ea=(0,w.useMemo)(()=>{let e={stylePreset:Z,stylePrompt:U};return m&&(e=b?{stylePreset:"Theme",stylePrompt:A}:{stylePreset:"None",stylePrompt:""}),{prompt:S,model:P,aspectRatio:K,count:ee,context:g,artStylePreset:q,artStylePrompt:$,modelAutoselect:z,visualsMenuEnabled:m,...e}},[S,P,Z,U,K,ee,g,q,$,m,b,A,z]),ed=(0,et.U9)();(0,w.useEffect)(()=>{z||ed(P)||V(x)},[P,x,ed,V,z]);let eu=(0,w.useCallback)((e,t)=>{if(Q((0,eo.P6)(e)),!e.aiParams)return;let{prompt:n,stylePreset:i,stylePrompt:a}=e.aiParams,r=e.aiParams.model;n&&_(n,t),a&&G(a),i&&W(i),r&&r in N.Xz&&(r=N.Xz[r]),r&&ed(r)&&F(r)},[_,ed]),ep=(0,w.useCallback)(e=>{var t;let{aiParams:n}=e,{model:i,stylePrompt:a,stylePreset:r,prompt:s}=null!=n?n:{};Q((0,eo.P6)(e)),V(null!=(t=null!=i?i:null==p?void 0:p.model)?t:x),G(null!=a?a:""),W(null!=r?r:I.nv.None),_(null!=s?s:"","load")},[_,V,null==p?void 0:p.model,x]),eh=(0,w.useMemo)(()=>e=>!!e&&!!e.aiParams&&(S!==e.aiParams.prompt||P!==e.aiParams.model||K!==(0,eo.P6)(e)||Z!==e.aiParams.stylePreset),[K,P,Z,S]);return{model:P,setModel:O,modelAutoselect:z,enableModelAutoselect:B,prompt:S,addPrompt:_,promptPageInfo:D,nextPrompt:R,prevPrompt:T,stylePrompt:U,setStylePrompt:G,stylePreset:Z,setStylePreset:W,stylePresetOptions:k,getPresetDisplayMetadata:E,getThemeNameFromStylePrompt:j,getStylePromptFromPreset:L,aspectRatio:K,setAspectRatio:Q,count:ee,setCount:ei,imageGenerateConfig:ea,loadImageAiParams:eu,resetImageAiParams:ep,isPromptDirty:eh,artStylePreset:q,setArtStylePreset:X,artStylePrompt:$,setCustomArtStylePrompt:Y,shouldUseThemeColors:b,setShouldUseThemeColors:C}};var eu=n(16936);let ep=e=>{let{promptPageInfo:t,nextPrompt:n,prevPrompt:a,isDisabled:r,...s}=e;return(0,i.jsxs)(c.z,{spacing:1,...s,children:[(0,i.jsx)(eu.K,{variant:"ghost",icon:(0,i.jsx)(b.g,{icon:f.Wzs}),isDisabled:r||!t.canGoPrev,onClick:()=>a(),"aria-label":"left",color:"gray.700",size:"xs"}),(0,i.jsxs)(u.a,{as:"span",color:"gray.700",fontSize:"sm",children:[t.curr," / ",t.total]}),(0,i.jsx)(eu.K,{variant:"ghost",icon:(0,i.jsx)(b.g,{icon:f.XkK}),color:"gray.700",isDisabled:r||!t.canGoNext,onClick:()=>n(),"aria-label":"left",size:"xs"})]})};var eh=n(27229),eg=n(94740),em=n(66199),ex=n(18078),ef=n(25311),eb=n(23293);let eC=(0,w.memo)(e=>{var t;let{stylePreset:n,setStylePreset:a,stylePrompt:s,setStylePrompt:l,presetOptions:o,isDisabled:d,contextualTheme:h,getStylePromptFromPreset:g,getThemeNameFromStylePrompt:m,getPresetDisplayMetadata:C,onKeyDown:y}=e,{isOpen:v,onToggle:A,onClose:k}=(0,eh.j)(),E=(0,w.useMemo)(()=>I.xi.find(e=>e.stylePreset===n),[n]),[S,M]=(0,w.useState)(E);(0,w.useEffect)(()=>{M(E)},[E]);let _=(0,en.GV)(er.SJ),D=h||_,R=null==D||null==(t=D.config)?void 0:t.stylePrompt,T=(0,w.useCallback)(e=>{l(e.target.value),n!==I.nv.Custom&&(a(I.nv.Custom),M(I.xi.find(e=>e.stylePreset===I.nv.Custom)))},[l,a,n]),z=(0,w.useCallback)(e=>{let t=C(e);t&&(l(g(e)),a(e),M(t),k())},[C,g,k,a,l]),H=(0,w.useMemo)(()=>{if(n===I.nv.Theme)return m(s)},[m,n,s]),{scrollContainerRef:N}=(0,et.ms)(n||"",v);return(0,i.jsx)(W.MJ,{children:(0,i.jsxs)(K.s,{direction:"column",gap:2,children:[(0,i.jsxs)(eg.A,{placement:"bottom-start",matchWidth:!0,isOpen:v,onClose:k,closeOnBlur:!0,isLazy:!0,children:[(0,i.jsx)(em.W,{children:(0,i.jsx)(x.$,{width:"100%",type:"button",boxShadow:"none",onClick:A,rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),isDisabled:d,justifyContent:"space-between",size:"sm",children:(0,i.jsxs)(c.z,{spacing:2,children:[(null==S?void 0:S.icon)?(0,i.jsx)(b.g,{icon:S.icon}):(0,i.jsx)(j._,{width:"24px",height:"24px",src:null==S?void 0:S.imageUrl,borderRadius:"md"}),(0,i.jsx)(u.a,{flex:1,children:"".concat(null==S?void 0:S.name()).concat(H?" (".concat(H,")"):"")})]})})}),(0,i.jsx)(ex.h,{width:"auto",maxHeight:"max(350px, 40vh)",overflowY:"auto",ref:N,children:(0,i.jsx)(ef.e,{children:(0,i.jsx)(r.T,{spacing:4,children:o.map(e=>(0,i.jsxs)(r.T,{alignItems:"start",width:"100%",spacing:0,children:[(0,i.jsx)(eb.D,{size:"sm",mb:2,children:e.title()}),(0,i.jsx)(L.r,{columns:{base:3,"2xl":4},spacing:2,children:e.presets.filter(e=>!("Theme"===e.stylePreset&&!R)).map(e=>(0,i.jsx)(u.a,{"data-popover-scroll-id":e.stylePreset,children:(0,i.jsx)(ey,{preset:e,onClick:()=>z(e.stylePreset),isSelected:e.stylePreset===n},e.stylePreset)},e.stylePreset))})]},e.title()))})})})]}),n!==I.nv.None&&(0,i.jsx)(p.T,{onKeyDown:y,isDisabled:d,height:"80px",value:s,onChange:T,resize:"none"})]})})});eC.displayName="StylePresetMenu";let ey=e=>{let{preset:t,onClick:n,isSelected:a}=e;return(0,i.jsxs)(r.T,{_hover:{cursor:a?"default":"pointer",borderColor:a?"trueblue.200":"gray.200",backgroundColor:a?"trueblue.50":"gray.50"},onClick:n,borderRadius:"md",spacing:1,p:2,border:"1px",width:"100%",color:a?"trueblue.500":"gray.800",bgColor:a?"trueblue.50":"transparent",borderColor:a?"trueblue.200":"transparent",children:[t.icon?(0,i.jsx)(u.a,{width:{base:"120px","2xl":"123.5px"},height:"35px",display:"flex",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(u.a,{width:"100%",height:"100%",bgColor:"transparent",rounded:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(b.g,{icon:t.icon})})}):(0,i.jsx)(j._,{src:t.imageUrl,width:"100%",height:"auto",borderRadius:"md"}),(0,i.jsx)(d.E,{color:a?"trueblue.500":"gray.800",fontSize:"sm",children:t.name()})]})};var ev=n(37605),ew=n(99552),eA=n(17928),ek=n(26006),eL=n(22529),ej=n(11403),eE=n(67097),eS=n(41781);let eM={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/polar-bear.fcdec9ca.webp"},eI=()=>{let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n};var e_=n(6181),eD=n(58568),eR=n(72104),eT=n(46898),ez=n(61204),eH=n(67909),eN=n(36071),eB=n(68728),eP=n(83143),eF=n(80180);let eV=e=>{var t;let{currentAttributes:n,deleteImage:a,showDelete:r=!0,...s}=e;(0,eT.d)();let l=v.Ru._({id:"cnGeoo"}),{isOpen:o,onOpen:c,onClose:d}=(0,eh.j)();return(0,i.jsxs)(ez.e,{size:"sm",...s,children:[(0,i.jsx)(C.Tz,{label:(0,i.jsx)(y.x6,{id:"niRN2H"}),placement:"top",children:(0,i.jsx)(eu.K,{"aria-label":"download image",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.a_I}),onClick:()=>{var e;return(0,eP.lE)(null!=(e=n.src)?e:"")}})}),(0,i.jsx)(C.Tz,{label:(0,i.jsx)(y.x6,{id:"GpbSs9"}),placement:"top",children:(0,i.jsx)(eu.K,{"aria-label":"zoom in",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.bMI}),onClick:e=>{e.stopPropagation(),c()}})}),o&&(0,i.jsxs)(eH.aF,{isOpen:o,size:"6xl",onClose:d,isCentered:!0,children:[(0,i.jsx)(eN.m,{bg:"blackAlpha.900"}),(0,i.jsxs)(eB.$,{width:"fit-content",children:[(0,i.jsx)(u.a,{position:"absolute",right:2,top:2,zIndex:"toast",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,i.jsx)(eu.K,{"aria-label":v.Ru._({id:"8qZ5De"}),colorScheme:"gray",size:"md",onClick:d,onMouseDown:eF.Fw,icon:(0,i.jsx)(eR.U,{})})}),(0,i.jsx)(j._,{src:null!=(t=n.src)?t:"",objectFit:"contain",rounded:"lg",maxH:"90vh",maxW:"90vw"})]})]}),r&&a&&(0,i.jsx)(C.Tz,{label:l,placement:"top",children:(0,i.jsx)(eu.K,{"aria-label":l,color:"red.500",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.yLS}),onClick:async e=>{var t;e.stopPropagation(),await a(null!=(t=n.savedMediaId)?t:"")}})})]})};var eO=n(69388),eZ=n(1139),eW=n(53996),eU=n(96990);let eG=(0,w.memo)(e=>{let{image:t,currentAttributes:n,onImageClick:a,resizeThumbnail:r,h:s,deleteImage:l,isDeleting:o,showQuickActions:c=!0,showAvatar:d=!0}=e,[p,h]=(0,w.useState)(!0),{user:g}=(0,e_.ur)(),m=(0,en.GV)(er.zB),v=null==m?void 0:m.find(e=>e.user.id===t.userId),A=(0,w.useMemo)(()=>(null==g?void 0:g.id)===t.userId,[null==g?void 0:g.id,t.userId]),k=(0,w.useMemo)(()=>(null==n?void 0:n.savedMediaId)===t.id,[null==n?void 0:n.savedMediaId,t.id]),L=r?(0,eE.Ub)(t.attrs.src,eE.XS,t.attrs.meta):t.attrs.src,{ref:E,width:S}=(0,eD.Lh)(),M=v&&m&&m.length>1&&d;return(0,i.jsx)(eO.E,{children:(0,i.jsxs)(x.$,{borderRadius:"base",display:"block",variant:"ghost",opacity:1,width:"100%",ref:E,height:"100%",minHeight:"0",textAlign:"left",pos:"relative",overflow:"hidden",p:0,_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>a(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},isDisabled:o,"data-testid":"image-search-grid-item",role:"group",children:[(0,i.jsx)(j._,{w:"100%",h:s||"100%",src:L,borderRadius:"base",objectFit:"cover",onLoad:()=>h(!1)}),!p&&(0,i.jsx)(eZ.z,{in:k,children:(0,i.jsx)(u.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,i.jsx)(eW.o,{h:"100%",w:"100%",children:(0,i.jsx)(b.g,{icon:f.e68})})})}),S>=125&&c&&(0,i.jsx)(u.a,{position:"absolute",bottom:-2,left:"50%",transform:"translate(-50%, -50%)",display:"none",_groupHover:{display:"block"},children:(0,i.jsx)(eV,{showDelete:A,currentAttributes:t.attrs,deleteImage:l})}),M&&(0,i.jsx)(C.Tz,{label:(0,i.jsx)(y.x6,{id:"RMBnNX",values:{0:v.user.displayName,1:A?"(You)":""}}),placement:"top",children:(0,i.jsx)(eU.e,{size:"sm",src:v.user.profileImageUrl,name:v.user.displayName,position:"absolute",top:2.5,right:2.5,borderWidth:"2px",borderColor:"gray.200",_hover:{cursor:"pointer"}})}),!t.attrs.src&&(0,i.jsx)(eO.E,{width:"100%",children:(0,i.jsx)(eS.E,{height:"80px",borderRadius:"base"})})]})},t.id)});eG.displayName="AIImageHistoryItem";var eK=n(65230);let eQ=(0,w.memo)(e=>{var t;let{attrs:n,onRateImage:a}=e,r=null==(t=n.aiParams)?void 0:t.interactionId,[s,l]=(0,w.useState)(null);(0,w.useEffect)(()=>{n.savedMediaId&&l(null)},[n.savedMediaId]);let o=(0,w.useCallback)((e,t,i)=>{var a;(null==(a=n.aiParams)?void 0:a.interactionId)&&(0,T.XD)({feedback:t,rating:e,tags:i,aiParams:n.aiParams,imageUrl:n.src,interactionId:n.aiParams.interactionId})},[n]),c=(0,w.useCallback)(e=>{l(e),a(e)},[a]);return r?(0,i.jsx)(u.a,{position:"absolute",bottom:2,zIndex:"sticky",right:2,children:(0,i.jsx)(eK.f3,{trackFeedback:o,rating:s||void 0,setRating:c,RatingButtons:eK.Ep,feedbackTags:eq},n.savedMediaId)}):null});eQ.displayName="AIImageRating";let eq=[{key:"bad-people",label:(0,i.jsx)(y.x6,{id:"eft1Pc"})},{key:"bad-text",label:(0,i.jsx)(y.x6,{id:"BNmAIN"})},{key:"didnt-follow-prompt",label:(0,i.jsx)(y.x6,{id:"Tq32Jp"})},{key:"wrong-colors",label:(0,i.jsx)(y.x6,{id:"Lx0mWG"})},{key:"wrong-style",label:(0,i.jsx)(y.x6,{id:"HG712W"})},{key:"low-res",label:(0,i.jsx)(y.x6,{id:"i6Gj9B"})},{key:"inappropriate",label:(0,i.jsx)(y.x6,{id:"i/9pR4"})}],eJ=e=>{let t,{imagesMatchingInteractionId:n,currentAttributes:a,isGenerating:r,isDeleting:s,selectedSavedMediaId:l,selectImage:o,onRateImage:c,deleteImage:d,canShowEmptyState:u}=e,{user:p}=(0,e_.ur)(),[h,g]=(0,w.useState)({wA:0,hA:0,wBCD:0,hBCD:0}),m=(0,w.useMemo)(()=>eI(),[]),{ref:x,width:f}=(0,eD.Lh)(),b=(0,w.useMemo)(()=>!!r||!!n&&!(n.length<=1)&&!eY([...n.map(e=>e.attrs),a]),[r,n,a]),C=(0,w.useMemo)(()=>{let e=(null==n?void 0:n.length)>0,t=e?n.find(e=>e.id===l):null,i=(null==t?void 0:t.userId)===(null==p?void 0:p.id);return e&&i},[n,l,p]),y=b?100/3:0;(0,ej.Vg)(()=>{var e,t,i,s;if(r||u||(null==a||null==(e=a.meta)?void 0:e.width)&&(null==a||null==(t=a.meta)?void 0:t.height)){let e=e$({vpWidth:f||624,gap:8,ratioW:(null==a||null==(i=a.meta)?void 0:i.width)||1024,ratioH:(null==a||null==(s=a.meta)?void 0:s.height)||1024,thumbCount:(null==n?void 0:n.length)||3});(Math.abs(e.wA-h.wA)>=m||Math.abs(e.hA-h.hA)>=m||Math.abs(e.wBCD-h.wBCD)>=m||Math.abs(e.hBCD-h.hBCD)>=m)&&g(e)}},[a,n,f,h,m,r,u],[a,n,f,r]);let v=r||!!a.src||u;return r?t=(0,i.jsx)(eS.E,{w:"100%",h:h.hA}):a.src&&"image.ai-generated"===a.source?t=(0,i.jsx)(j._,{h:h.hA,w:"100%",objectFit:b?"cover":"contain",src:a.src||void 0,fallbackSrc:a.tempUrl||void 0,alt:"",borderRadius:"md"}):u&&(t=(0,i.jsx)(e0,{height:h.hA})),(0,i.jsx)(K.s,{dir:"row",w:"100%",ref:x,overflow:"hidden",alignItems:"center",justifyContent:"center",gap:"".concat(8,"px"),children:v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(K.s,{justifyContent:"center",position:"relative",overflow:"hidden",h:h.hA,w:"".concat(100-y,"%"),children:[t,!r&&a.src&&(0,i.jsx)(eV,{currentAttributes:a,position:"absolute",bottom:2,zIndex:"sticky",left:2,deleteImage:d,showDelete:C}),!r&&a.src&&(0,i.jsx)(eQ,{attrs:a,onRateImage:c})]}),b&&(0,i.jsx)(K.s,{alignItems:"center",justifyContent:"center",direction:"column",overflow:"hidden",gap:"".concat(8,"px"),h:h.hA,borderRadius:"base",children:r?Array.from({length:3},(e,t)=>(0,i.jsx)(eS.E,{w:h.wBCD,h:h.hBCD},t)):(0,i.jsx)(i.Fragment,{children:n.slice(0,3).map(e=>(0,i.jsx)(eG,{image:e,currentAttributes:a,onImageClick:o,resizeThumbnail:!0,deleteImage:d,isDeleting:s,h:"".concat(h.hBCD,"px"),showQuickActions:!1,showAvatar:!1},e.id))})})]})})},e$=e=>{let{vpWidth:t,gap:n,ratioW:i,ratioH:a,thumbCount:r}=e,s=i/a,l=s>I.C1.square?I.C1.landscape:s<I.C1.square?I.C1.portrait:I.C1.square,o=t*(l===I.C1.portrait?.6:.7),c=o/l;return{wA:Math.floor(o),hA:Math.floor(c),wBCD:Math.floor(t-o-n),hBCD:Math.floor((c-n*(r-1))/r)}},eY=e=>{if(e.length<=1)return!1;let t=eX(e[0]);return e.some(e=>eX(e)!==t)},eX=e=>{var t,n,i,a;let r=null!=(i=null==e||null==(t=e.meta)?void 0:t.width)?i:1,s=null!=(a=null==e||null==(n=e.meta)?void 0:n.height)?a:1;return r>s?"landscape":s>r?"portrait":"square"},e0=(0,w.memo)(e=>{let{height:t}=e;return(0,i.jsx)(u.a,{bg:"gray.50",w:"100%",h:t,borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsxs)(K.s,{alignItems:"center",justifyContent:"center",w:"50%",direction:"column",textAlign:"center",children:[(0,i.jsx)(j._,{alt:"",src:eM.src,height:"160px",mb:4}),(0,i.jsx)(d.E,{fontSize:"2xl",fontWeight:"bold",mb:2,color:"deepocean.950",children:(0,i.jsx)(y.x6,{id:"MK/c3O"})}),(0,i.jsx)(d.E,{fontSize:"md",color:"gray.600",children:(0,i.jsx)(y.x6,{id:"ztxdaf"})})]})})});e0.displayName="EmptyState";var e1=n(3276),e2=n(99038);let e3=e=>{let{isEnhancingPrompt:t,isGenerating:n,runEnhancePrompt:a}=e;return(0,i.jsx)(c.z,{position:"absolute",bottom:2,right:2,children:(0,i.jsx)(C.Tz,{placement:"top",label:(0,i.jsx)(y.x6,{id:"LwcIt2",values:{GAMMA_PROPER_NOUN:e2.On}}),children:(0,i.jsx)(x.$,{variant:"ghost",rightIcon:(0,i.jsx)(b.g,{icon:f.uts}),isLoading:t,isDisabled:n,"aria-label":v.Ru._({id:"eoAiXB"}),onClick:a,zIndex:"sticky",size:"sm",loadingText:v.Ru._({id:"6xU0OU"}),spinner:(0,i.jsx)(e1.y,{size:"sm",right:2,alignSelf:"flex-end"}),spinnerPlacement:"end",children:(0,i.jsx)(y.x6,{id:"Uehxdq"})})})})};var e5=n(38420);let e4=e=>{let{onSelectImage:t,currentAttributes:n,resizeThumbnails:a,history:r,canLoadMore:s,loadMore:l,isLoadingMore:o,isDeleting:c,deleteImage:p,helpText:h}=e,g=w.useMemo(()=>r.map(e=>e.attrs?(0,i.jsx)(u.a,{position:"relative",children:(0,i.jsx)(eG,{image:e,deleteImage:p,isDeleting:c,currentAttributes:n,onImageClick:t,resizeThumbnail:a,showQuickActions:!0})},e.id):(console.log("Image is missing attrs",e),null)),[r,p,c,n,t,a]);return(0,i.jsxs)(K.s,{direction:"column",align:"stretch",children:[h&&(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",mb:4,children:h}),(0,i.jsx)(e5.A,{columnsCount:3,gutter:"0.5rem",children:g}),s&&(0,i.jsx)(x.$,{variant:"plain",onClick:l,mt:4,isLoading:o,children:(0,i.jsx)(y.x6,{id:"yQ2kGp"})})]})};var e6=n(49146),e9=n(23908),e7=n(36693),e8=n(20061),te=n(3448),tt=n(9329),tn=n(34807),ti=n(83004);let ta={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/balloon.0f0058ec.png"},tr={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/cloud.bb46cfda.png"};function ts(){let e=(0,tt._)(["\n  0% { transform: translateY(0); }\n  50% { transform: translateY(-5%); }\n  100% { transform: translateY(0); }\n"]);return ts=function(){return e},e}function tl(){let e=(0,tt._)(["\n  0% { transform: translateY(0%) translateX(0%); }\n  25% { transform: translateY(-7%) translateX(5%); }\n  50% { transform: translateY(-3%) translateX(-5%); }\n  75% { transform: translateY(5%) translateX(-3%); }\n  100% { transform: translateY(0%) translateX(0%); }\n"]);return tl=function(){return e},e}let to=(0,ti.i7)(ts()),tc=(0,ti.i7)(tl()),td=e=>{let{containerSize:t}=e;return(0,i.jsxs)(u.a,{position:"relative",overflow:"visible",w:t,h:t,isolation:"isolate",children:[(0,i.jsx)(j._,{position:"absolute",top:"22%",left:0,width:"50%",src:tr.src,alt:"Upper cloud",animation:"".concat(tc," 12s ease-in-out infinite"),pointerEvents:"none",zIndex:2}),(0,i.jsx)(j._,{position:"absolute",inset:0,margin:"auto",height:"80%",src:ta.src,alt:"Balloon",animation:"".concat(to," 5s ease-in-out infinite"),pointerEvents:"none",zIndex:1}),(0,i.jsx)(j._,{position:"absolute",bottom:0,right:0,width:"80%",src:tr.src,alt:"Lower cloud",animation:"".concat(tc," 16s ease-in-out 1s infinite"),pointerEvents:"none",zIndex:0})]})},tu={xs:{imageWidth:"100px",headingSize:"sm",textSize:"sm",buttonSize:"sm",spacing:2},sm:{imageWidth:"140px",headingSize:"md",textSize:"sm",buttonSize:"sm",spacing:2},md:{imageWidth:"180px",headingSize:"lg",textSize:"md",buttonSize:"md",spacing:4},lg:{imageWidth:"256px",headingSize:"xl",textSize:"md",buttonSize:"md",spacing:6}},tp=(0,w.memo)(e=>{let{children:t,title:n=(0,i.jsx)(y.x6,{id:"WkU8TI"}),description:a,size:s,alternateVisual:l,primaryActionLabel:o,onPrimaryAction:u,secondaryActionLabel:p,onSecondaryAction:h,primaryButtonProps:g,secondaryButtonProps:m}=e,f=(0,tn.A)({base:"md",lg:"lg"})||"lg",b=tu[s||f];return(0,i.jsxs)(r.T,{spacing:b.spacing,children:[l||(0,i.jsx)(td,{containerSize:b.imageWidth}),(0,i.jsxs)(r.T,{spacing:2,children:[(0,i.jsx)(eb.D,{variant:"brand",textAlign:"center",size:b.headingSize,css:{textWrap:"balance"},children:n}),(0,i.jsx)(d.E,{fontSize:b.textSize,textAlign:"center",children:a})]}),t,(0,i.jsxs)(c.z,{wrap:"wrap",justifyContent:"center",children:[o&&(0,i.jsx)(x.$,{onClick:u,size:b.buttonSize,variant:p?"solid":"plain",...g,children:o}),p&&(0,i.jsx)(x.$,{onClick:h,size:b.buttonSize,...m,children:p})]})]})}),th={originalTitle:(0,i.jsx)(y.x6,{id:"0oUc2U"}),title:(0,i.jsx)(y.x6,{id:"0MyRmc"}),description:(0,i.jsx)(y.x6,{id:"s3XYLh"}),image:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"},tg=e=>{let{onSelectImage:t,savedMediaId:n,currentAttributes:a,scope:r,setScope:s,canLoadMore:l,loadMore:o,isLoading:c,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m}=e,x=()=>c?(0,i.jsx)(tx,{}):0===h.length?(0,i.jsx)(u.a,{mt:10,children:(0,i.jsx)(tm,{})}):(0,i.jsx)(e4,{onSelectImage:t,currentAttributes:a,savedMediaId:n,canLoadMore:l,loadMore:o,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m,helpText:"doc"===r?(0,i.jsx)(y.x6,{id:"uNPCE+",values:{GAMMA_ARTIFACT_PROPER_NOUN:e2.TP}}):(0,i.jsx)(y.x6,{id:"+MrfBb"}),resizeThumbnails:!0});return(0,i.jsxs)(e6.t,{size:"sm",variant:"soft-rounded",onChange:e=>{s&&s(1===e?"user":"doc")},isFitted:!0,children:[(0,i.jsxs)(e9.w,{children:[(0,i.jsx)(e7.o,{children:(0,i.jsx)(d.E,{children:(0,i.jsx)(y.x6,{id:"emHsgB",values:{GAMMA_ARTIFACT_PROPER_NOUN:e2.TP}})})}),(0,i.jsx)(e7.o,{children:(0,i.jsx)(d.E,{children:(0,i.jsx)(y.x6,{id:"4FBm2s"})})})]}),(0,i.jsxs)(e8.T,{children:[(0,i.jsx)(te.K,{children:x()}),(0,i.jsx)(te.K,{children:x()})]})]})},tm=()=>(0,i.jsx)(r.T,{spacing:6,children:(0,i.jsx)(tp,{size:"md",title:th.title,description:th.description})}),tx=w.memo(()=>(0,i.jsx)(c.z,{spacing:"4",children:(0,i.jsx)(e5.A,{columnsCount:3,gutter:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(eS.E,{height:{base:"125px",lg:"200px"},width:"100%"},t))})}));tx.displayName="AIImageHistorySkeleton";let tf=(0,w.memo)(e=>{let{value:t,setValue:n,isDisabled:a,model:r,credits:s}=e,l=(0,w.useRef)(null);(0,w.useEffect)(()=>{if(!r)return;let e=l.current,t="ultra"===(0,N.kO)(r);null===e&&t?n(1):null!==e&&"ultra"!==(0,N.kO)(e)&&t&&n(1),l.current=r},[r,n]);let o=(0,w.useMemo)(()=>{if(!r||null===s)return[1,2,3];let e=N.Rz[r];return"ultra"===(0,N.kO)(r)&&(null==e?void 0:e.cost)?[1,2,3].filter(t=>{if(1===t)return!0;let n=e.cost*t;return null!=s?s:0>=n}):[1,2,3]},[r,s]);return(0,i.jsx)(W.MJ,{children:(0,i.jsxs)(U.W,{isLazy:!0,children:[(0,i.jsx)(G.I,{as:x.$,variant:"plain",isDisabled:a,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),boxShadow:"none",size:"sm",children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(b.g,{icon:f.yvG,fixedWidth:!0}),(0,i.jsx)(d.E,{as:"span",flex:1,children:t})]})}),(0,i.jsx)(Q.c,{minWidth:"240px",children:(0,i.jsx)(q.i,{value:String(t),type:"radio",onChange:e=>{n(Number(Array.isArray(e)?e[0]:e))},children:o.map(e=>(0,i.jsx)(J.k,{value:String(e),children:(0,i.jsx)(c.z,{spacing:2,children:(0,i.jsx)(d.E,{as:"span",flex:1,children:e})})},e))})})]})})});tf.displayName="CountSelect";var tb=n(53756),tC=n(91264),ty=n(82960);let tv=e=>{let t,{selectImage:n,savedMediaContext:i,generateImageInteraction:a}=e,r=(0,en.GV)(er.sX),s=(0,en.GV)(tC.TJ),l=(0,ty.x)(i);"new"===s&&(s=void 0,t=z.rWX.Theme);let[o,c]=(0,w.useState)(""),[d,u]=(0,w.useState)(!1),[p,h]=(0,w.useState)(!1),[g,m]=(0,w.useState)("");return{generate:(0,w.useCallback)(async e=>{let i=a.current.id;c(e.prompt),u(!0),h(!1),m("");let o={...e,stylePreset:e.stylePreset||I.nv.Theme,stylePrompt:e.stylePrompt||"",docId:e.docId||r,themeId:e.themeId||s,context:e.context||t};try{let e=await (0,N.hU)({interactionId:i,workspaceId:l,traceparent:a.current.traceparent,...o});if(u(!1),0===e.length)throw Error("No images generated");e.length>0&&(n(e[0]),a.current.complete({result:{imageCount:e.length,images:e.map(e=>({imageUrl:e.attrs.src||"",savedMediaId:e.id}))}}))}catch(e){h(!0),m((0,N.yC)(e)),u(!1)}u(!1)},[r,s,t,l,n,a]),isGenerating:d,hasError:p,errorMessage:g,searchQuery:o}};var tw=n(45460),tA=n(26385),tk=n(74676),tL=n(8527),tj=n(12514),tE=n(59272),tS=n(6760),tM=n(55597),tI=n(92437),t_=n(89528),tD=n(84287),tR=n(11390),tT=n(95889),tz=n(29608),tH=n(55775),tN=n(30892);let tB=e=>{let{numSegments:t,numFilledSegments:n,startColor:a,endColor:r}=e,[s,l]=(0,tH.rd)("colors",[a,r||a]);return(0,i.jsx)(K.s,{gap:1,w:"full",alignItems:"center",children:Array.from({length:t}).map((e,a)=>{let r=a<n?(0,tN.tV)(s,l,t>1?a/(t-1):0):"gray.200";return(0,i.jsx)(u.a,{h:1.5,borderRadius:"sm",flex:1,bg:r,transition:"background 0.2s ease-in-out"},a)})})},tP=(0,w.memo)(e=>{let{label:t,creatorLabel:n,description:a,image:s,popoverImage:l,bestStyle:o,bestType:p,speed:h}=e,g=n();return(0,i.jsxs)(r.T,{align:"stretch",p:4,spacing:4,children:[(0,i.jsxs)(u.a,{position:"relative",children:[l&&(0,i.jsx)(j._,{src:l.src,alt:t(),borderRadius:"lg",objectFit:"cover",height:"140px",width:"250px"}),(0,i.jsx)(u.a,{position:"absolute",backgroundColor:(0,tN.$3)("black",.4),bottom:2,left:2,p:1,borderRadius:"sm",children:(0,i.jsx)(d.E,{color:"gray.50",fontSize:"xs",fontWeight:"medium",lineHeight:"normal",children:v.Ru._({id:"HmI5oK"})})})]}),(0,i.jsxs)(r.T,{align:"stretch",spacing:3,children:[(0,i.jsxs)(c.z,{spacing:2,align:"start",children:[(0,i.jsx)(j._,{src:s.src,w:"20px",h:"20px",objectFit:"contain"}),(0,i.jsxs)(r.T,{align:"start",spacing:0,children:[(0,i.jsx)(d.E,{fontWeight:"semibold",fontSize:"md",color:"gray.700",children:t()}),(0,i.jsx)(d.E,{fontSize:"xs",fontWeight:"medium",children:(0,i.jsx)(y.x6,{id:"Uno73V",values:{creatorLabelStr:g}})})]})]}),(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",fontWeight:"medium",children:a()}),(0,i.jsxs)(u.a,{children:[(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:2,children:(0,i.jsx)(y.x6,{id:"l9wI00"})}),(0,i.jsx)(tB,{numSegments:4,numFilledSegments:h,startColor:"deepocean.300",endColor:"deepocean.600"})]}),(0,i.jsxs)(u.a,{children:[(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:1,children:(0,i.jsx)(y.x6,{id:"uvPTBJ"})}),(0,i.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(b.g,{icon:f.ffg,color:(0,tN.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",children:o()})]}),(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(b.g,{icon:f.kLe,color:(0,tN.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",fontFamily:"body",children:p()})]})]})]})]})]})});tP.displayName="AIImageModelPopover";let tF={None:{"dall-e-3":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/dall-e-3.e0424b3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAAAP/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/9oADAMBAAIQAxAAAAAJKP/EABsQAAMAAgMAAAAAAAAAAAAAAAEDEgIEABEh/9oACAEBAAE/ANDdXIyYnFkmjYHonvn/xAAaEQACAgMAAAAAAAAAAAAAAAACAwABBDOR/9oACAECAQE/AMh7qPYXZ//EABoRAAEFAQAAAAAAAAAAAAAAAAIABBIxMlH/2gAIAQMBAT8AbgEMDfF//9k=",blurWidth:8,blurHeight:6},"flux-1-pro":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-1-pro.fcce6522.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgiQ3/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASUSH/2gAIAQEAAT8AVFiTaR2Y3RND3XnM/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQIBAT8AtyWn/8QAGREAAQUAAAAAAAAAAAAAAAAAAQADEiJR/9oACAEDAQE/AHKERxf/2Q==",blurWidth:8,blurHeight:6},"flux-1-schnell":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-1-schnell.a4d70ddb.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAmCU3/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBBIDESEiMv/aAAgBAQABPwBbBuaSzU5KW15D/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQIAESFRsf/aAAgBAgEBPwAOxvOuT//EABkRAAIDAQAAAAAAAAAAAAAAAAECABEikf/aAAgBAwEBPwAogrC8n//Z",blurWidth:8,blurHeight:6},"flux-1-ultra":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-1-ultra.3fdf59fa.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBf/aAAwDAQACEAMQAAAAkEN//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAEgIDE//aAAgBAQABPwDLeOdUbBluf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPwA0v//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwCs/9k=",blurWidth:8,blurHeight:6},"flux-1-quick":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-1-quick.01258a07.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmhCn/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQFERJh/9oACAEBAAE/AIsNZxRPp3ZJByelGx6K/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwRC/9oACAECAQE/AG2Jjsr/xAAYEQACAwAAAAAAAAAAAAAAAAAAAhETMf/aAAgBAwEBPwCpJw//2Q==",blurWidth:8,blurHeight:6},"flux-kontext-pro":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-kontext-pro.99f84493.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAiEV//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQMCEQASEzH/2gAIAQEAAT8ARFcmSBUuuJNaCvLz/8QAFxEAAwEAAAAAAAAAAAAAAAAAAANCcf/aAAgBAgEBPwBkYf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:4},"flux-kontext-max":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-kontext-max.cf46edd7.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmiE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAhEEFAATMf/aAAgBAQABPwCvEIDCnH63rF5//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AKz/xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8ArP/Z",blurWidth:8,blurHeight:4},"flux-kontext-fast":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/flux-kontext-fast.22d3b15a.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAAqIr/AP/EABwQAAIABwAAAAAAAAAAAAAAAAECAAMEBRITYf/aAAgBAQABPwBLrW6GczSXU4g8Mf/EABoRAAICAwAAAAAAAAAAAAAAAAECAAMjMlH/2gAIAQIBAT8ANtoCZG17P//EABsRAAIBBQAAAAAAAAAAAAAAAAIDAAESIjJR/9oACAEDAQE/ABWut2A7cn//2Q==",blurWidth:8,blurHeight:4},"imagen-3-flash":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/imagen-3-flash.3b553c3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACbBf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAABQABERICExT/2gAIAQEAAT8AYoK49TCcZrM2X//EABkRAAIDAQAAAAAAAAAAAAAAAAEDACEiMf/aAAgBAgEBPwAPdez2f//EABgRAAIDAAAAAAAAAAAAAAAAAAADAQJS/9oACAEDAQE/AKoViD//2Q==",blurWidth:8,blurHeight:6},"imagen-3-pro":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/imagen-3-pro.4a7e6241.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACaAP8A/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAwQFExRC/9oACAEBAAE/AKa5pq4klks47CmP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMABDL/2gAIAQIBAT8AZYcDsz//xAAZEQACAwEAAAAAAAAAAAAAAAABAwACIRL/2gAIAQMBAT8AqpengbP/2Q==",blurWidth:8,blurHeight:6},"imagen-4-pro":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/imagen-4-pro.0623d0cb.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAL/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgSX/AP/EABwQAAEDBQAAAAAAAAAAAAAAAAECERIABAUTFP/aAAgBAQABPwA5K84UK2qkTF5F2r//xAAZEQEAAgMAAAAAAAAAAAAAAAABAAIhIjL/2gAIAQIBAT8AsumXgn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAkJy/9oACAEDAQE/AFrR/9k=",blurWidth:8,blurHeight:4},"imagen-4-ultra":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/imagen-4-ultra.da78a0c4.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACQBf8A/8QAHBAAAQMFAAAAAAAAAAAAAAAAAgEDBAAFBhIy/9oACAEBAAE/AImT3VqKrgG2iiGnFf/EABgRAQEAAwAAAAAAAAAAAAAAAAECACIx/9oACAECAQE/ACqWtnuf/8QAGREAAgMBAAAAAAAAAAAAAAAAAQIAETKR/9oACAEDAQE/AAiVkcn/2Q==",blurWidth:8,blurHeight:4},"leonardo-phoenix":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/leonardo-phoenix.5a9b148e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQBL//xAAdEAACAQQDAAAAAAAAAAAAAAABAgQAEiEiAxRR/9oACAEBAAE/AElR+u6rHXTlW4WjYtgHHlf/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIxcv/aAAgBAgEBPwB1HJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABAAMScv/aAAgBAwEBPwAXdnbP/9k=",blurWidth:8,blurHeight:6},"luma-photon-1":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/luma-photon-1.1649ca4f.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAAoRNt/wD/xAAaEAABBQEAAAAAAAAAAAAAAAACAAQGITFR/9oACAEBAAE/ACkbztDeav/EABoRAAEFAQAAAAAAAAAAAAAAAAMAAQIhI5H/2gAIAQIBAT8Acxa0l1f/xAAaEQACAgMAAAAAAAAAAAAAAAACAwARATFR/9oACAEDAQE/ABSnN2sN8n//2Q==",blurWidth:8,blurHeight:6},"luma-photon-flash-1":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/luma-photon-flash-1.d9455e5d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAACSAlv/xAAZEAEAAgMAAAAAAAAAAAAAAAACACEEExb/2gAIAQEAAT8A6jPa1puzVz//xAAaEQACAgMAAAAAAAAAAAAAAAABAgADMUFR/9oACAECAQE/AHrQHeOmf//EABgRAQADAQAAAAAAAAAAAAAAAAEAAlGR/9oACAEDAQE/ACzhwn//2Q==",blurWidth:8,blurHeight:6},"recraft-v3":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/recraft-v3.2bd50396.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAAAkJH/xAAbEAACAQUAAAAAAAAAAAAAAAACAwABBQYRE//aAAgBAQABPwBmXXhVFn12JT//xAAZEQADAAMAAAAAAAAAAAAAAAABAiEAMUH/2gAIAQIBAT8ASrSdnuf/xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQMBAT8AdIt//9k=",blurWidth:8,blurHeight:6},"recraft-v3-svg":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/recraft-v3-svg.98cb7b01.svg",height:1024,width:1820,blurWidth:0,blurHeight:0},"gpt-image-1-low":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gpt-image-1-low.485e4cbe.jpg",height:274,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAAC8Gp//xAAaEAACAgMAAAAAAAAAAAAAAAABAxESABNB/9oACAEBAAE/AFUQllS2Gc2ERn//xAAWEQEBAQAAAAAAAAAAAAAAAAABAMH/2gAIAQIBAT8AML//xAAYEQACAwAAAAAAAAAAAAAAAAAAAgERMf/aAAgBAwEBPwBVWsg//9k=",blurWidth:8,blurHeight:5},"gpt-image-1-medium":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gpt-image-1-medium.aeeb5175.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgCcn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQMABAUSEyL/2gAIAQEAAT8AbeKvNbSetZXP/8QAGBEBAQADAAAAAAAAAAAAAAAAASIAMlH/2gAIAQIBAT8AVmnXuf/EABURAQEAAAAAAAAAAAAAAAAAAACR/9oACAEDAQE/AI//2Q==",blurWidth:8,blurHeight:5},"gpt-image-1-high":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gpt-image-1-high.02cc2ec4.jpg",height:267,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACBP/aAAwDAQACEAMQAAAAiCJf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAgMEAAERBRITMUH/2gAIAQEAAT8Abqbgipk7Q5LkSs487r//xAAYEQEBAAMAAAAAAAAAAAAAAAACAQAzkv/aAAgBAgEBPwAt2bH1c//EABgRAQADAQAAAAAAAAAAAAAAAAIAAVKS/9oACAEDAQE/AETg81P/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3-turbo":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ideogram-v3-turbo.b4fc9a1d.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAonX/xAAcEAABAwUAAAAAAAAAAAAAAAACAAMTBRIyQXH/2gAIAQEAAT8AKuvyi7CGcduur//EABgRAAMBAQAAAAAAAAAAAAAAAAECAxEA/9oACAECAQE/AGrQZjnv/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQMAEQIxUf/aAAgBAwEBPwAJUbteO+T/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ideogram-v3.4a7dfce3.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACgFb//xAAdEAABAgcAAAAAAAAAAAAAAAACAxMAERIVMkFR/9oACAEBAAE/AL6sRgswnk3Trs4//8QAGhEAAgIDAAAAAAAAAAAAAAAAAgMAARESMf/aAAgBAgEBPwBjmjrg75P/xAAaEQACAgMAAAAAAAAAAAAAAAACBAADERIy/9oACAEDAQE/AAVXLbNQ9T//2Q==",blurWidth:8,blurHeight:5},"ideogram-v3-quality":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/ideogram-v3-quality.b95def53.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAlEif/8QAHBAAAQMFAAAAAAAAAAAAAAAAAwECEgAEBSKx/9oACAEBAAE/ALnMlMxCqEbd4Rb2v//EABoRAAICAwAAAAAAAAAAAAAAAAECAAMREjH/2gAIAQIBAT8Aaywa4c8n/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPwABvCf/2Q==",blurWidth:8,blurHeight:5},"qwen-image":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/qwen-image.09b00e14.jpg",height:279,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAniB//8QAHBAAAgICAwAAAAAAAAAAAAAAAgMBBAAREhNi/9oACAEBAAE/AEkmurmqqgC7IjcD53n/xAAaEQACAgMAAAAAAAAAAAAAAAABAgAhIjJB/9oACAECAQE/AGd6yOo7P//EABkRAAEFAAAAAAAAAAAAAAAAAAIAASEiMf/aAAgBAwEBPwARGatq/9k=",blurWidth:8,blurHeight:4},"gemini-2.5-flash-image":{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/gemini-2.5-flash-image.7275c576.png",height:1536,width:2752,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAP1BMVEWOYTKofEmZTSWYd1iLbC+JZ0+cazuFUTJxUiVxNStyJxh+RSGcQEypU1SqeDi2gS9cQByqh2iYaDKmgifPq3MzLzn/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKklEQVR4nAXBhQEAIAwDsA6muP1/Kwky9qPDCwYlndeRDCLDA61XNo/yARKxAQr9eHW5AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4}}},tV=(e,t)=>"ultra"!==(0,N.kO)(e.model)||null===t||t>=(e.cost||0),tO=e=>{let{model:t,currentWorkspacePlan:n}=e,a=(0,N.kO)(t.model);return t.cost&&("ultra"===a||"free"===a&&null===n)?(0,i.jsx)(C.Tz,{label:(0,i.jsx)(y.x6,{id:"+ueQYz",values:{0:t.cost}}),children:(0,i.jsxs)(c.z,{spacing:1,children:[(0,i.jsx)(d.E,{fontSize:"xs",children:t.cost}),(0,i.jsx)(b.g,{icon:tM.p7g,size:"xs"})]})}):null},tZ=(0,tw.R)((e,t)=>{let{model:n,currentWorkspacePlan:a,isDisabled:r,...s}=e,l=(0,w.createElement)(J.k,{...s,ref:t,key:n.model,isDisabled:r,cursor:r?"default !important":"pointer"},(0,i.jsx)(K.s,{justify:"space-between",align:{base:"flex-start",md:"center"},width:"100%",direction:{base:"column",md:"row"},children:(0,i.jsxs)(c.z,{spacing:4,align:"center",w:"100%",children:[(0,i.jsx)(j._,{src:n.image.src,w:"1.5em",h:"1.5em",objectFit:"contain"}),(0,i.jsxs)(tA.B,{spacing:0,direction:{base:"column",md:"row"},align:{base:"flex-start",md:"center"},justify:"space-between",w:"100%",children:[(0,i.jsxs)(c.z,{children:[(0,i.jsx)(d.E,{fontSize:"sm",children:n.label()}),"beta"===n.badge&&(0,i.jsx)(tk.E,{colorScheme:"purple",size:"xs",children:(0,i.jsx)(y.x6,{id:"YBt9YP"})}),"new"===n.badge&&(0,i.jsx)(tk.E,{colorScheme:"green",size:"xs",children:(0,i.jsx)(y.x6,{id:"isRobC"})})]}),(0,i.jsx)(tO,{model:n,currentWorkspacePlan:a})]})]})}));return r?(0,i.jsx)(em.W,{children:(0,i.jsx)(C.Tz,{label:(0,i.jsx)(y.x6,{id:"Uk8Zks"}),children:l})}):(0,i.jsx)(em.W,{children:l})});tZ.id="MenuItemOption";let tW=e=>{let{productKey:t,productFeature:n,canUseTier:a,styles:r}=e;return(0,i.jsxs)(K.s,{justify:"start",align:"center",width:"100%",children:[(0,i.jsx)(d.E,{sx:{...r.groupTitle,marginInlineEnd:2},children:(0,tR.kf)(t).header}),n&&(0,i.jsx)(t_.Ch,{canUseFeature:a,productFeature:n})]})},tU=e=>{let{availableModels:t,handleModelSelect:n,canUsePlusModels:a,canUseProModels:r,canUseUltraModels:s,selectedModel:l,isDisabled:o,labelId:u,autoselect:p,currentWorkspacePlan:h}=e,{credits:g}=(0,V.B9)(),m=(0,tn.A)({base:!0,sm:!1}),[C,v]=(0,w.useState)(null),A=(0,tL.o)("Menu",{}),k=t.some(e=>"ultra"===(0,N.kO)(e.model)),L=e=>{let{tier:a}=e;return t.filter(e=>(0,N.kO)(e.model)===a).map(e=>{let t=tV(e,g),r="ultra"===a&&s&&!t;return(0,i.jsx)(tZ,{model:e,value:e.model,onClick:()=>n(e.model,a),onMouseEnter:()=>v(e),currentWorkspacePlan:h,isDisabled:r},e.model)})};return(0,i.jsx)(W.MJ,{children:(0,i.jsxs)(U.W,{isLazy:!0,matchWidth:!!m,children:[(0,i.jsx)(G.I,{as:x.$,variant:"plain",isDisabled:o,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),boxShadow:"sm",size:"sm","aria-labelledby":u,children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(K.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(null==p?void 0:p.isActive)?(0,i.jsx)(b.g,{icon:tM.Ys0,size:"sm"}):(0,i.jsx)(j._,{src:l.image.src,w:"1.25em",h:"1.25em",objectFit:"contain"})}),(0,i.jsx)(d.E,{as:"span",flex:1,children:(null==p?void 0:p.isActive)?(0,i.jsx)(y.x6,{id:"/iCiQU"}):null==l?void 0:l.label()})]})}),(0,i.jsx)(tj.Z,{children:(0,i.jsxs)(eg.A,{isLazy:!0,variant:"modal",placement:"start-start",matchWidth:!1,offset:[0,0],trigger:"hover",children:[(0,i.jsx)(tE.d,{children:(0,i.jsx)(Q.c,{minWidth:"250px",maxW:"100%",w:m?"100%":"400px",maxH:"350px",overflowY:"auto",overflowX:"hidden",zIndex:"modalPopover",border:"1px solid",borderColor:"gray.200",onMouseLeave:()=>v(null),children:(0,i.jsxs)(q.i,{type:"radio",value:(null==p?void 0:p.isActive)?"auto-select":l.model,children:[p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(J.k,{value:"auto-select",onClick:p.onChooseAutoselect,children:(0,i.jsxs)(c.z,{children:[(0,i.jsx)(b.g,{icon:tM.Ys0,size:"sm"}),(0,i.jsx)(d.E,{ps:2,fontSize:"sm",children:(0,i.jsx)(y.x6,{id:"/iCiQU"})})]})}),(0,i.jsx)(tS.N,{})]}),(0,i.jsx)(tW,{productKey:"free",canUseTier:!0,styles:A}),L({tier:"free"}),(0,i.jsx)(tS.N,{}),(0,i.jsx)(tW,{productKey:"plus",productFeature:"ai_models_plus",canUseTier:a,styles:A}),L({tier:"plus"}),(0,i.jsx)(tS.N,{}),(0,i.jsx)(tW,{productKey:"pro",productFeature:"ai_premium_models",canUseTier:r,styles:A}),L({tier:"pro"}),k&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tS.N,{}),(0,i.jsx)(tW,{productKey:"ultra",productFeature:"ai_models_ultra",canUseTier:s,styles:A}),L({tier:"ultra"})]})]})})}),!(0,tz.Xb)()&&C&&(0,i.jsx)(ex.h,{width:"282px",children:(0,i.jsx)(tP,{label:C.label,creatorLabel:C.creatorLabel,description:C.description,image:C.image,popoverImage:tF.None[C.model],bestStyle:C.bestStyle,bestType:C.bestType,speed:C.speed})})]})})]})})},tG=e=>{let{value:t,setValue:n,isDisabled:a,labelId:r,autoselect:s}=e,l=(0,N.pE)(t),o=(0,tI.ez)("ai_models_plus"),c=(0,tI.ez)("ai_premium_models"),d=(0,tI.ez)("ai_models_ultra"),{openUpsellModal:u}=(0,tD.I)(),p=(0,w.useCallback)((e,t)=>{if("plus"===t&&!o||"pro"===t&&!c||"ultra"===t&&!d)return void u({segmentEvent:tT.VV.GAMMA_UPSELL_CALLOUT_AI_IMAGE_MODELS,eventProperties:{model:e,requiredProductKey:t}});n(e)},[o,c,d,u,n]),h=(0,en.GV)(eL.XK),g=(0,tR.A4)(h);return(0,i.jsx)(tU,{handleModelSelect:p,canUsePlusModels:o,canUseProModels:c,canUseUltraModels:d,availableModels:(0,N.vp)().filter(e=>(0,N.CX)(e.model)).filter(e=>{let t=(0,N.kO)(e.model),n="team"===g||"business"===g;return!("ultra"===t&&n)}),selectedModel:{...l,model:t},isDisabled:a,labelId:r,autoselect:s,currentWorkspacePlan:g})},tK=e=>(0,i.jsx)(tQ,{...e}),tQ=e=>{var t,n,k,L;let{currentAttributes:j,updateAttributes:E,editor:S,contextualTheme:M,savedMediaContext:D,closeDrawer:B,canShowEmptyState:P=!1}=e,W=(0,R.K)("generate-image"),U=(0,w.useRef)(null),G=(0,en.GV)(ew.Gd),K=(0,en.GV)(Z.Jo),Q=null==K?void 0:K.id,{isInOfflineMode:q}=(0,z.utY)(),J=(0,en.GV)((0,eL.A1)(null==K||null==(t=K.organization)?void 0:t.id)),$=(0,O.u)("visualsMenuEnabled"),{credits:Y}=(0,V.B9)(),X=(0,w.useMemo)(()=>S?"doc":"user",[S]),[ei,ea]=(0,w.useState)(X),{prompt:er,addPrompt:es,promptPageInfo:el,nextPrompt:eo,prevPrompt:ec,model:eu,setModel:eh,stylePreset:eg,setStylePreset:em,stylePrompt:ex,setStylePrompt:ef,aspectRatio:eb,setAspectRatio:ey,count:eS,setCount:eM,getStylePromptFromPreset:eI,stylePresetOptions:e_,getPresetDisplayMetadata:eD,getThemeNameFromStylePrompt:eR,imageGenerateConfig:eT,loadImageAiParams:ez,resetImageAiParams:eH,isPromptDirty:eN,artStylePreset:eB,setArtStylePreset:eP,artStylePrompt:eF,setCustomArtStylePrompt:eV,shouldUseThemeColors:eO,setShouldUseThemeColors:eZ,modelAutoselect:eW,enableModelAutoselect:eU}=ed({contextualTheme:M,lastUsedImageGenerationSettingsInDoc:null==S||null==(k=S.getAttributes("document"))||null==(n=k.aiOptions)?void 0:n.imageOptions,aiParams:null==j?void 0:j.aiParams,savedMediaContext:D,visualsMenuEnabled:$}),eG=eN(j),eK=(0,ek.M)(S),eQ=(0,w.useMemo)(()=>{let e=N.Rz[eu];return"ultra"===(0,N.kO)(eu)?((null==e?void 0:e.cost)||0)*(eS||1):0},[eu,eS]),eq=0===eQ||null!==Y&&Y>=eQ,{isEnhancing:e$,setIsEnhancing:eY,runEnhanceImagePrompt:eX}=(0,et.Z8)({editor:(null==S?void 0:S.parentEditor)||S,prompt:(null==S?void 0:S.isSiteNavbarEditor)?"Logo for ".concat(null==G?void 0:G.name):er,stylePrompt:ex,addPrompt:es}),{history:e0,loadMore:e1,canLoadMore:e2,isLoading:e5,isLoadingMore:e6,deleteImage:e9,isDeleting:e7}=(0,tb.X)({docId:Q,scope:ei,savedMediaContext:D}),e8=(0,w.useCallback)(e=>{e.attrs.src&&(0,T.Sf)({imageUrl:e.attrs.src,interactionId:e.interactionId,image:e.attrs})},[]),te=(0,ej.lW)(e8,2e3),tt=(0,w.useCallback)(e=>{ez(e.attrs,"select"),E({tempUrl:(0,eE.Ub)(e.attrs.src,eE.XS,e.attrs.meta),showPlaceholder:!1,...e.attrs}),S&&eK(S.state.selection.from),te(e)},[S,ez,eK,E,te]),{generate:tn,isGenerating:ti,hasError:ta,errorMessage:tr}=tv({selectImage:tt,savedMediaContext:D,generateImageInteraction:W}),ts=(0,a.m)(),tl=(null==j?void 0:j.source)==="image.ai-generated"&&!!(null==j?void 0:j.src),to=null==j?void 0:j.savedMediaId;(0,ej.Vg)(()=>{var e;!ti&&(tl&&(null==j||null==(e=j.aiParams)?void 0:e.prompt)?ez(j,"load"):!tl&&(null==j?void 0:j.query)&&es(j.query,"load"))},[es,j,tl,ez,ti],[j]),(0,w.useEffect)(()=>{setTimeout(()=>{var e;q||null==(e=U.current)||e.focus()},200)},[]);let tc=(0,w.useMemo)(()=>{var e;return(null==j||null==(e=j.aiParams)?void 0:e.interactionId)||""},[j]),{savedMedia:td}=(0,et.B7)(tc,(null==j||null==(L=j.aiParams)?void 0:L.prompt)||""),tu=(0,w.useCallback)(()=>{var e,t,n;if(!S)return null;let{stylePreset:i,model:a,stylePrompt:r,modelAutoselect:s,artStylePreset:l,artStylePrompt:o,count:c}=eT,d=S.getAttributes("document"),u={stylePreset:i,model:a,stylePrompt:i===I.nv.Custom?r:null!=(n=null==(t=d.aiOptions)||null==(e=t.imageOptions)?void 0:e.stylePrompt)?n:"",artStylePreset:l,artStylePrompt:o,modelAutoselect:s,count:c};S.commands.updateNestedAttributesAtPos(0,{aiOptions:{imageOptions:u}})},[S,eT]);(0,w.useEffect)(()=>{ti&&!(null==j?void 0:j.showPlaceholder)&&(null==j?void 0:j.src)?E({showPlaceholder:!0,loadImageStatus:"queued",loadImageParams:{provider:"aiGenerated",query:er,options:eT}}):!ti&&(null==j?void 0:j.loadImageStatus)==="queued"&&(null==j?void 0:j.src)&&E({...j,loadImageStatus:"done"})},[ti]);let tp=(0,w.useCallback)(async()=>{if(!e$&&!ti)try{let e={...eT,prompt:er};if(eW&&(e.model=function(e){let{cardContentType:t}=e;return"image"===t?O.of.get("imageCardModel"):(0,N.in)()}({})),0===er.trim().length){let t=await eX();t&&(e.prompt=t)}W.current.start({input:{prompt:e.prompt,model:e.model,stylePreset:e.stylePreset||"",aspectRatio:e.aspectRatio||"",artStylePreset:e.artStylePreset,artStylePrompt:e.artStylePrompt}}),await tn(e),tu()}catch(e){console.error("Error generating AI image",e)}finally{ts.refetchQueries({include:["GetSavedMedia","GetWorkspaceSavedMedia","GetUserSavedMedia"]}),eY(!1)}},[e$,ti,er,W,tu,eX,tn,eT,ts,eY,eW]);(0,w.useEffect)(()=>{(null==j?void 0:j.query)||e$||eX()},[]);let th=(0,V.tO)(tp,"generateImage",ev.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),tm=(0,w.useCallback)(e=>{"Enter"===e.key&&e.metaKey&&(e.preventDefault(),th()),e.stopPropagation()},[th]),{saveImageRating:tx}=(0,et.RM)(),tC=(0,w.useCallback)(e=>{var t;(null==j||null==(t=j.aiParams)?void 0:t.interactionId)&&((0,T.WN)({rating:e,aiParams:j.aiParams,imageUrl:j.src,interactionId:j.aiParams.interactionId}),tx(j,e))},[j,tx]),ty=(0,w.useCallback)(async e=>{if(await e9(e),e===to){let t=td.filter(t=>t.id!==e);t.length>0?tt(t[0]):E({...j,savedMediaId:"",src:"",tempUrl:""})}},[e9,j,td,tt,to,E]),tw=(null==j?void 0:j.source)==="image.ai-generated";return(0,i.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(tw||ti||P)&&(0,i.jsx)(eJ,{imagesMatchingInteractionId:tc?td:[],currentAttributes:j,isGenerating:ti,isDeleting:e7,selectedSavedMediaId:null!=to?to:"",selectImage:tt,onRateImage:tC,deleteImage:ty,canShowEmptyState:P}),ta&&(0,i.jsxs)(s.F,{status:"error",flexDirection:"row",alignItems:"start",justifyContent:"start",borderRadius:"md",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(o.T,{children:tr})]}),(0,i.jsxs)(r.T,{align:"stretch",spacing:4,children:[(0,i.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,i.jsx)(c.z,{position:"relative",align:"center",justify:"space-between",children:(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"sU1/3l"})})}),(0,i.jsxs)(u.a,{position:"relative",children:[(0,i.jsx)(A._,{ref:U,isDisabled:ti,placeholder:e$||D===z.rWX.Theme?"":D===z.rWX.Dashboard?v.Ru._({id:"+VHqP0"}):v.Ru._({id:"6RfNWb"}),onKeyDown:tm,value:er,onChange:e=>es(e.target.value,"update"),"data-testid":"image-search-input",rows:5,initialHeight:"65px",bottomSpacing:35}),S&&(0,i.jsx)(e3,{isEnhancingPrompt:e$,isGenerating:ti,runEnhancePrompt:eX})]}),el.total>1&&(0,i.jsx)(ep,{alignSelf:"end",promptPageInfo:el,nextPrompt:eo,prevPrompt:ec,isDisabled:ti||e$})]}),(0,i.jsxs)(r.T,{align:"stretch",gap:4,children:[(0,i.jsx)(r.T,{align:"stretch",children:$?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"WpXFiB"})}),(0,i.jsx)(_,{selectedPreset:eB,onSelectPreset:eP}),"custom"===eB&&(0,i.jsx)(p.T,{value:eF,onChange:e=>eV(e.target.value),placeholder:v.Ru._({id:"zPao75"}),fontSize:"sm",rows:2,resize:"none"}),S&&(0,i.jsxs)(c.z,{spacing:2,align:"start",alignItems:"center",gap:2,children:[(0,i.jsx)(h.S,{id:"use-theme-colors",isChecked:eO,onChange:e=>eZ(e.target.checked)}),(0,i.jsx)(g.l,{htmlFor:"use-theme-colors",mb:0,me:0,children:(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(y.x6,{id:"ge5rTg"})})}),(0,i.jsx)(C.Tz,{label:v.Ru._({id:"DOIHaY"}),children:(0,i.jsx)(b.g,{size:"xs",icon:f.mEO})}),(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(m.N,{color:"deepocean.600",onClick:()=>{null==B||B(),eA.LF.emit(eA.DN.OPEN_THEME_DRAWER,{})},children:(0,i.jsx)(y.x6,{id:"dIM+cw"})})})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"0P2jsg"})}),(0,i.jsx)(eC,{stylePreset:eg,stylePrompt:ex,setStylePrompt:ef,setStylePreset:em,presetOptions:e_,isDisabled:ti,contextualTheme:M,getThemeNameFromStylePrompt:eR,getPresetDisplayMetadata:eD,onKeyDown:tm,getStylePromptFromPreset:eI})]})}),(0,i.jsxs)(c.z,{w:"100%",children:[(0,i.jsxs)(r.T,{w:"25%",align:"stretch",children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"iKM2jY"})}),(0,i.jsx)(ee,{value:eb,setValue:ey,model:eu,isDisabled:ti})]}),(0,i.jsxs)(r.T,{w:"25%",align:"stretch",children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"/6qX5m"})}),(0,i.jsx)(tf,{value:eS,setValue:eM,isDisabled:ti,model:eu,credits:Y})]}),(0,i.jsxs)(r.T,{w:"50%",align:"stretch",children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:ti?"gray.500":"",children:(0,i.jsx)(y.x6,{id:"scu3wk"})}),eu&&(0,i.jsx)(tG,{value:eu,setValue:eh,isDisabled:ti,autoselect:$?{isActive:eW,onChooseAutoselect:eU}:void 0})]})]})]}),(0,i.jsxs)(r.T,{spacing:1,align:"stretch",children:[(0,i.jsx)(C.Tz,{label:eq?void 0:(0,i.jsx)(y.x6,{id:"Uk8Zks"}),isDisabled:eq,children:(0,i.jsxs)(x.$,{variant:"solid",isLoading:ti,isDisabled:e$||!eq,onClick:th,px:12,children:[(0,i.jsx)(y.x6,{id:"OSaxlZ"}),(0,i.jsx)(F,{model:eu,position:"absolute",insetEnd:4,multiplier:eS})]})}),S&&(0,i.jsx)(x.$,{onClick:()=>eH(j),leftIcon:(0,i.jsx)(b.g,{icon:f.ub2}),isDisabled:!eG||ti,sx:{opacity:eG?1:.5,transition:"opacity 0.2s ease-in-out",_hover:{color:eG?"trueblue.500":""}},children:(0,i.jsx)(y.x6,{id:"L+rMC9"})}),(0,i.jsx)(H.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:ev.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES})]})]}),S&&(J?(0,i.jsx)(tg,{onSelectImage:tt,savedMediaId:to,currentAttributes:j,scope:ei,setScope:ea,canLoadMore:e2,loadMore:e1,isLoading:e5,isLoadingMore:e6,history:e0,deleteImage:ty,isDeleting:e7,resizeThumbnails:!0}):(0,i.jsx)(e4,{onSelectImage:tt,savedMediaId:to,currentAttributes:j,scope:ei,setScope:ea,canLoadMore:e2,loadMore:e1,isLoading:e5,isLoadingMore:e6,history:e0,deleteImage:ty,isDeleting:e7,resizeThumbnails:!0}))]})};tK.key="image.ai-generated";var tq=n(50861),tJ=n(35289),t$=n(62964);let tY=e=>{let{editor:t,updateAttributes:n,currentAttributes:a,urlPlaceholder:s,embedTip:l}=e,o=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:o,updateAttributes:n,placeholder:s||"https://..."}),l,o&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};var tX=n(74771);let t0=e=>{let{guideLink:t,extraMessage:n,providerName:a}=e;return(0,i.jsxs)(s.F,{status:"info",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(o.T,{children:(0,i.jsx)(y.x6,{id:"qBttXb",values:{providerName:a,extraMessage:n},components:{0:(0,i.jsx)(m.N,{href:t,textDecoration:"underline",isExternal:!0}),1:(0,i.jsx)(tX.p,{mx:"2px"})}})})]})},t1=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://airtable.com/...",embedTip:(0,i.jsx)(t0,{guideLink:"https://support.airtable.com/docs/embedding-airtable-views",providerName:"Airtable",extraMessage:(0,i.jsx)(y.x6,{id:"gsZDsS"})})});t1.key="embed.airtable";let t2=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"<iframe..."}),(0,i.jsx)(t0,{guideLink:"https://help.amplitude.com/hc/en-us/articles/235717108-Share-charts-dashboards-and-notebooks-with-stakeholders-outside-your-company#generate-embed-code-for-your-content",extraMessage:(0,i.jsx)(y.x6,{id:"NDM+Av"}),providerName:"Amplitude"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};t2.key="embed.amplitude";var t3=n(20196),t5=n(92377);let t4=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enableSearch:!0,enablePagination:!1,provider:"bing",resultsPerPage:t3.s.count,mediaSearchQuery:a,setMediaSearchQuery:r})};t4.key="image.bing";let t6=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://calendly.com/..."});t6.key="embed.calendly";var t9=n(2241),t7=n(82328),t8=n(91792),ne=n(22216),nt=n(48950),nn=n(58495),ni=n(45574),na=n(29917),nr=n(59230);let ns=e=>{let{updateAttributes:t,editType:n,editor:i,source:a}=e,r=(0,en.GV)(er.aQ),{currentWorkspace:s}=(0,e_.ur)(),{orgId:l,templateId:o}=(0,t8.PJ)(r||(null==s?void 0:s.id),n),c=(0,w.useRef)(null),d=(0,w.useCallback)(e=>{let{tempUrl:n,attributes:i}=e;t({uploadStatus:nr.A.Uploading,showPlaceholder:!1,tempUrl:n,src:null,...i}),c.current=n},[t]),u=(0,w.useCallback)((e,r)=>{let s=c.current||r;if(s){if("node"!==n||!i)return void t({...(0,ni.yK)({result:e,isError:!1}),source:a});(0,ni.Ki)(i,s,e),c.current=null}},[i,n,t,a]),p=(0,w.useCallback)(e=>{if(!c.current||!i)return void t((0,ni.yK)({isError:!0}));(0,ni.wt)(i,c.current,e)},[i,t]),h=(0,w.useCallback)(e=>{if(!l)return void console.error("[CustomImagePanel] saveImageFromDataURL - No orgId!");d({tempUrl:e});try{let t=(0,eE.Xz)(e,"image");if(!t)return void p();(0,na.QM)(t,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,void 0,o)}catch(e){p()}},[n,l,p,d,u,o]),g=(0,w.useCallback)(e=>{if(!l)return void console.error("[CustomImagePanel] saveImageFromUrl - No orgId!");d({tempUrl:e});try{(0,na.j_)(e,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,o)}catch(e){p()}},[n,l,p,d,u,o]),m=(0,w.useCallback)(async e=>{let{blob:t,attributes:i}=e;if(!l)return void console.error("[QRCodePanel] saveImageFromDataBlob - No orgId!");d({tempUrl:window.URL.createObjectURL(t),attributes:i});try{let e=(0,eE.Xl)({blob:t,filename:"image",ext:"svg"});return await (0,na.QM)(e,l,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n)}catch(e){p()}},[n,l,p,d,u]),x=(0,w.useCallback)(e=>{let{file:t,tempUrl:n}=e;t.type&&(0,eE.aI)(t.type)?d({tempUrl:"HEIC_tempId_".concat((0,nn.Ak)()),attributes:{showPlaceholder:!0}}):d({tempUrl:n})},[d]);return{setTempUrl:d,setUploadedImage:u,saveImageFromDataURL:h,saveImageFromUrl:g,saveImageFromDataBlob:m,onUploadStart:x,setUploadFailed:(0,w.useCallback)(()=>{t((0,ni.yK)({isError:!0}))},[t])}},nl=e=>{let{editor:t,editType:n,updateAttributes:a,currentAttributes:c,resetToPlaceholder:u}=e,{onUploadStart:p,setUploadedImage:h,saveImageFromUrl:g,saveImageFromDataURL:m,setUploadFailed:f}=ns({updateAttributes:a,editor:t,editType:n,source:"image.custom"}),b=(0,en.GV)(er.aQ),{currentWorkspace:C}=(0,e_.ur)(),{isInOfflineMode:w}=(0,t7.u)(),{orgId:A,templateId:k,useStandardThemeBucket:L}=(0,t8.PJ)(b||(null==C?void 0:C.id),n),{src:E,tempUrl:S,meta:M,name:I,showPlaceholder:_,uploadStatus:D}=c,R=E?(0,eE.Ub)(E,{width:500}):void 0;return(E||S||_)&&((null==c?void 0:c.source)==="image.custom"||D===nr.A.Uploading)?(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[D===nr.A.Uploading&&(0,i.jsxs)(s.F,{status:"info",size:"sm",children:[(0,i.jsx)(l._,{as:e1.y,w:5,h:5}),(0,i.jsx)(o.T,{children:(0,i.jsx)(y.x6,{id:"MEDU34"})})]}),_?(0,i.jsx)(ne.Pf,{isUploading:D===nr.A.Uploading,hasUploadError:D===nr.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,eE.v7)(E)?(0,i.jsx)(t9.B.video,{src:E,poster:null==M?void 0:M.poster,autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"200px",borderRadius:"md"}):(0,i.jsx)(j._,{src:R||S,alt:"",ignoreFallback:!0,borderRadius:"md"}),M&&M.width&&M.height&&(0,i.jsxs)(d.E,{children:[M.width,"\xd7",M.height,"px"]}),I&&(0,i.jsx)(d.E,{children:I}),(0,i.jsx)(x.$,{onClick:u,mt:2,w:"100%",children:(0,i.jsx)(y.x6,{id:"HUPV+K"})})]}):(0,i.jsxs)(r.T,{align:"stretch",spacing:4,children:[L&&(0,i.jsxs)(s.F,{status:"warning",size:"sm",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(o.T,{children:"[Admin] Theme images will be uploaded to production theme_images bucket"})]}),D===nr.A.Error&&(0,i.jsxs)(s.F,{status:"error",size:"sm",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(o.T,{children:(0,i.jsx)(y.x6,{id:"GymiXM"})})]}),(0,i.jsx)(eb.D,{size:"md",children:(0,i.jsx)(y.x6,{id:"IagCbF"})}),(0,i.jsx)(t$.VG,{currentUrl:"",placeholder:v.Ru._({id:"jurEzE"}),handleSubmit:g,handleDataSubmit:m,noHeader:!0}),!w&&(0,i.jsx)(eb.D,{size:"md",children:(0,i.jsx)(y.x6,{id:"ONWvwQ"})}),A&&(0,i.jsx)(nt.Z,{onUploadSuccess:h,onUploadStart:p,onUploadFailed:f,orgId:A,uploadType:"image",editType:n,templateId:k,tipText:v.Ru._({id:"x4Ts51"})})]})};nl.key="image.custom";let no=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:v.Ru._({id:"gzZk6e"})}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};no.key="video.custom";let nc=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://www.figma.com/file/..."}),(0,i.jsx)(t0,{guideLink:"https://help.figma.com/hc/en-us/articles/360039827134-Embed-files-and-prototypes",providerName:"Figma/FigJam"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};nc.key="embed.figma";let nd=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,en.GV)(er.aQ),l=(0,tq.Zj)(a),{isInOfflineMode:o}=(0,t7.u)(),c=(0,w.useRef)(null),d=(0,w.useCallback)(e=>{let{tempUrl:t,file:i}=e,a=(0,ni.bY)(i);c.current=t,n({...a,url:t})},[n]),u=(0,w.useCallback)((e,n)=>{if(!t)return;let i=c.current;(0,ni.X6)(t,i||n,e),c.current=null},[t]);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:l,updateAttributes:n,placeholder:v.Ru._({id:"gzZk6e"})}),l&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a}),!o&&(0,i.jsx)(eb.D,{size:"md",children:(0,i.jsx)(y.x6,{id:"ONWvwQ"})}),s&&(0,i.jsx)(nt.Z,{onUploadSuccess:u,onUploadStart:d,orgId:s,uploadType:"all",dropHereText:v.Ru._({id:"F+/kPw",values:{0:"%{browse}"}}),editType:"node"})]})};nd.key="embed.pdf";var nu=n(80074),np=n(72470),nh=n(77979),ng=n(38036),nm=n(77850),nx=n(29452),nf=n.n(nx),nb=n(30361),nC=n.n(nb);let ny="60px",nv=(0,w.memo)(e=>{let{icon:t,isSelected:n,onIconClick:a}=e;return(0,i.jsx)(eO.E,{height:ny,width:ny,children:(0,i.jsx)(x.$,{borderRadius:"base",bgColor:n?"trueblue.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"trueblue.100":"trueblue.50"},_active:{bgColor:"trueblue.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>a(t),"data-testid":"icon-search-grid-item",children:(0,i.jsx)(u.a,{height:"100%",maxH:"100%",sx:{svg:{width:"100%",height:"100%"}},dangerouslySetInnerHTML:{__html:t.html}})})},t.id)});nv.displayName="ImageSearchGridItem";let nw=e=>{let{searchQuery:t,currentAttributes:n,updateAttributes:a}=e,{isInOfflineMode:r}=(0,t7.u)(),[o,c]=(0,w.useState)([]),[p,h]=(0,w.useState)(!0),[g,m]=(0,w.useState)(!1),[x,f]=(0,w.useState)(1),b=(0,w.useCallback)(async e=>{if(r)return;let n="/api/icons/search?count=".concat(100,"&query=").concat(t,"&page=").concat(e);h(!0),m(!1);try{var i;let e=await fetch(n,{credentials:"include"}),t=await e.json();if(h(!1),!((null==t||null==(i=t.data)?void 0:i.length)>=0))throw Error(t);c(t.data)}catch(e){m(!0),h(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[r,t]);(0,w.useEffect)(()=>{c([]),f(1),b(1)},[t,b]),(0,w.useCallback)(()=>{b(x+1),f(x+1)},[b,x]);let C=null==n?void 0:n.src,v=(0,w.useCallback)(async e=>{a({src:e.src,tempUrl:C,meta:{height:e.height,width:e.width},providerMeta:{name:e.provider,id:e.id},query:t})},[t,a,C]),A=o.map((e,t)=>{var a,r;let s=e.id===(null==n||null==(a=n.providerMeta)?void 0:a.id)&&e.provider===(null==n||null==(r=n.providerMeta)?void 0:r.name);return(0,i.jsx)(nv,{provider:e.provider,icon:e,isSelected:s,onIconClick:v},t)});return(0,i.jsxs)(K.s,{direction:"column",align:"stretch",children:[(0,i.jsxs)(L.r,{gap:2,columns:{base:4,"2xl":6},children:[A,p&&!r&&(0,i.jsx)(nA,{})]}),!1,0===o.length&&!p&&(0,i.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,i.jsx)(d.E,{style:{color:"gray"},children:(0,i.jsx)(y.x6,{id:"2AY48J",values:{searchQuery:t}})})}),g&&(0,i.jsxs)(s.F,{status:"error",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(y.x6,{id:"5hlcZg"})]})]})},nA=()=>(0,i.jsx)(i.Fragment,{children:nf()(100).map((e,t)=>(0,i.jsx)(eO.E,{height:ny,children:(0,i.jsx)(nu.g,{ratio:1,children:(0,i.jsx)(eS.E,{borderRadius:"base"})})},t))}),nk=(0,nm.P)(eu.K),nL=e=>{let{currentAttributes:t,updateAttributes:n,defaultQuery:a="",randomQueries:s,mediaSearchQuery:l,setMediaSearchQuery:o}=e,[c,d]=(0,w.useState)(a),[p,h]=(0,w.useState)("");(0,w.useEffect)(()=>{o&&c!==l&&o(c)},[c,o,l]),(0,w.useEffect)(()=>{h(a),d(a)},[a]);let g=(0,w.useCallback)(()=>{let e=nC()(s);for(;e===c;)e=nC()(s);e&&(d(e),h(""))},[s,c]),m=(0,ej.lW)(d,500);return(0,i.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(0,i.jsxs)(np.M,{size:"md",children:[(0,i.jsx)(nh.W,{pointerEvents:"none",children:(0,i.jsx)(u.a,{color:"gray.400",children:(0,i.jsx)(b.g,{icon:f.MjD})})}),(0,i.jsx)(ng.p,{placeholder:c||v.Ru._({id:"oMAM3/"}),value:p,onChange:e=>{h(e.target.value),m(e.target.value)},"data-testid":"image-search-input"}),s&&(0,i.jsx)(nh.t,{children:(0,i.jsx)(C.Tz,{placement:"top",label:(0,i.jsx)(y.x6,{id:"OVjfHO"}),children:(0,i.jsx)(nk,{icon:(0,i.jsx)(b.g,{icon:f.xNJ}),"aria-label":v.Ru._({id:"OVjfHO"}),variant:"ghost",onClick:g,size:"sm",whileTap:{y:"-5px"},onMouseDown:eF.Fw})})})]}),(0,i.jsx)(nw,{currentAttributes:t,updateAttributes:n,searchQuery:c||""})]})},nj=["animals","arrows","business","party","nature","food"],nE=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(nL,{updateAttributes:t,currentAttributes:n,currentIconUrl:n.src,defaultQuery:n.query||"",randomQueries:nj,mediaSearchQuery:a,setMediaSearchQuery:r})};nE.key="image.icon";let nS=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://gamma.app/docs/..."}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};nS.key="embed.gamma";var nM=n(24170),nI=n.n(nM);let n_=["funny","surprise","hooray","welcome","excited","nope","fail","sad","cry","angry","teamwork","cats","dogs","high five"],nD=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n_,provider:"giphy",mediaSearchQuery:a,setMediaSearchQuery:r}),(0,i.jsx)(K.s,{width:"100%",justify:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(u.a,{maxW:"150px",children:(0,i.jsx)(nI(),{src:"/images/powered-by-giphy.png",width:"150",height:"17",alt:"Powered by GIPHY"})})})]})};nD.key="image.giphy";let nR=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://docs.google.com/...",embedTip:(0,i.jsx)(t0,{guideLink:"https://support.google.com/docs/answer/183965?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Cedit-embedded-spreadsheets%2Cembed-a-document-spreadsheet-or-presentation",extraMessage:(0,i.jsx)(y.x6,{id:"G6PCHK",values:{GAMMA_ARTIFACT_PROPER_NOUN:e2.TP}}),providerName:"Google Sheets, Docs, or Slides"})});nR.key="embed.gdrive";let nT=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://docs.google.com/forms/..."});nT.key="embed.google.form";let nz=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",provider:"google",mediaSearchQuery:a,setMediaSearchQuery:r})})};nz.key="image.google";var nH=n(22348),nN=n.n(nH),nB=n(33612),nP=n.n(nB),nF=n(33750),nV=n.n(nF);let nO={soft:{name:"Soft",spin:[0,-40,40],lighten:[0,0,0]},duo:{name:"Duo",spin:[0,180],lighten:[0,0]},crescent:{name:"Crescent",spin:[0,-45,45,-90,90],lighten:[0,0,0,0,0]},wisp:{name:"Wisp",spin:[0,72,216],lighten:[0,0,0]},mono:{name:"Mono",spin:[0,0,0],lighten:[0,20,40]},cosmos:{name:"Cosmos",spin:[0,72,144,216,288],lighten:[0,0,0,0,0]}},nZ=e=>{let t="",n=[];e.forEach((e,t)=>{let i=e.setAlpha(1),a=i.toHsl().h*t,r="radial-gradient(circle at ".concat(2*a%360/360*50,"% ").concat(3*a%360/360*50,"%, ").concat(i.setAlpha(.5).toHex8String()," 0, ").concat(i.setAlpha(0).toHex8String()," ").concat(a%360/360*50+50,"%)");n.push(r)});let i=e[0].setAlpha(.5).toHex8String();return n.push("linear-gradient(0deg, ".concat(i," 0%, ").concat(i," 100%)")),{backgroundImage:n.join(",")}},nW=(e,t)=>{let n=nO[e],i=[];return n.spin.forEach(e=>{let n=nP()(t.toHsv()).spin(e);i.push(n)}),n.lighten.forEach((e,t)=>{i[t].lighten(e)}),i},nU=(e,t)=>{let n=nW(e,t),i=nZ(n);return{colors:n,gradient:i}},nG=(e,t,n)=>{t.forEach(e=>{e&&(e.style.opacity="0")}),e.forEach((e,i)=>{let a=t[i];if(!a||!n)return;let r=function(e,t){let n=e.offsetWidth,i=nP()(t),a=Math.PI/180*i.toHsl().h,r=-(i.toHsl().l*n)+n;return{x:n/2-r*Math.cos(a),y:n/2-r*Math.sin(a)}}(n,e);a.style.transform="translate(calc(".concat(r.x,"px - 50%),calc(").concat(r.y,"px - 50%))"),a.style.backgroundColor=e.toHexString(),a.style.opacity="1"})},nK=(0,w.forwardRef)(function(e,t){let{isPrimary:n=!1,noTransition:a=!1}=e;return(0,i.jsx)(u.a,{ref:t,borderRadius:"full",boxSize:n?7:5,pos:"absolute",zIndex:n?2:1,shadow:"base",border:"2px solid white",pointerEvents:"none",transitionProperty:a?"none":"transform",transitionDuration:"normal"})}),nQ=(0,w.memo)(e=>{let{updateColor:t,colors:n}=e,a=(0,w.useRef)(null),r=(0,w.useRef)(null),s=(0,w.useRef)(null),l=(0,w.useRef)(null),o=(0,w.useRef)(null),c=(0,w.useRef)(null),d=(0,w.useMemo)(()=>[r,s,l,o,c],[]);(0,w.useEffect)(()=>{nG(n,d.map(e=>e.current),a.current)},[n,d]);let p=(0,w.useCallback)(e=>{if(!a.current)return;let n=a.current.getBoundingClientRect();(e.clientX||e.clientY)&&t(function(e,t,n){let i=e.current.offsetWidth,a=e.current.offsetHeight,r=i/2,s=a/2,l=function(e,t,n,i,a){let r=n-e,s=i-t,l=Math.sqrt(s*s+r*r);return nV()(l,0,a)}(t,n,r,s,i/2),o=180/Math.PI*Math.atan2(s-n,r-t),c=o+360*Math.ceil(-o/360)+1,d=Math.abs(-l/i+1);return nP().fromRatio({h:c,s:1,l:d})}(a,e.clientX-n.left,e.clientY-n.top))},[t]),h=(0,w.useCallback)(()=>{document.removeEventListener("mousemove",p)},[p]),g=(0,w.useCallback)(e=>{document.addEventListener("mousemove",p),document.addEventListener("mouseup",h,{once:!0}),p(e)},[p,h]);return(0,i.jsxs)(u.a,{onMouseDown:g,p:4,m:-4,position:"relative",children:[(0,i.jsx)(nK,{ref:r,noTransition:!0,isPrimary:!0}),(0,i.jsx)(nK,{ref:s}),(0,i.jsx)(nK,{ref:l}),(0,i.jsx)(nK,{ref:o}),(0,i.jsx)(nK,{ref:c}),(0,i.jsx)(nu.g,{ratio:1,children:(0,i.jsxs)(K.s,{ref:a,position:"relative",borderRadius:"full",shadow:"lg",children:[(0,i.jsx)(K.s,{pos:"absolute",borderRadius:"full",bg:"radial-gradient(circle closest-side, rgb(255, 255, 255), transparent)",inset:0,zIndex:1}),(0,i.jsx)(K.s,{pos:"absolute",inset:0,bg:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",transform:"rotateZ(270deg)",borderRadius:"full"})]})})]})}),nq={vibe:"mono",primaryColor:"#75d8ff",css:{}},nJ=e=>{let{value:t,updateValue:n,isDark:a}=e,{vibe:r,primaryColor:s}={...nq,...t},[l,o]=(0,w.useState)(nP()(s)),{colors:d,gradient:p}=(0,w.useMemo)(()=>nU(r,l),[r,l]),h=(0,w.useCallback)(e=>{let{gradient:t}=nU(r,e);n({vibe:r,primaryColor:e.toHexString(),css:t})},[r,n]),g=(0,ej.wb)(h,100),m=(0,w.useCallback)(e=>{o(e),g(e)},[g]);return(0,i.jsxs)(c.z,{spacing:4,alignItems:"stretch",wrap:"wrap",children:[(0,i.jsx)(u.a,{flex:"1",minW:"120px",children:(0,i.jsx)(nQ,{vibe:nO[r],color:l,updateColor:m,colors:d})}),(0,i.jsxs)(tA.B,{flex:"2",spacing:4,minW:"180px",children:[(0,i.jsx)(K.s,{backgroundColor:a?"black":"white",...p,opacity:1,flex:"1",borderRadius:"md",shadow:"md",minH:"80px",mt:2}),(0,i.jsxs)(c.z,{children:[(0,i.jsxs)(U.W,{children:[(0,i.jsx)(G.I,{w:"100%",as:x.$,size:"sm",variant:"plain",textAlign:"start",rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),children:nO[r].name}),(0,i.jsx)(Q.c,{minWidth:"240px",zIndex:"dropdown",children:(0,i.jsx)(q.i,{onChange:e=>{let{gradient:t}=nU(e,l);n({vibe:e,primaryColor:l.toHexString(),css:t})},value:r,title:v.Ru._({id:"4lXZ8R"}),type:"radio",children:Object.entries(nO).map(e=>{let[t,{name:n}]=e;return(0,i.jsx)(J.k,{value:t,children:n},t)})})})]}),(0,i.jsx)(ez.e,{size:"sm",variant:"plain",children:(0,i.jsx)(C.Tz,{placement:"top",label:(0,i.jsx)(y.x6,{id:"OVjfHO"}),children:(0,i.jsx)(eu.K,{icon:(0,i.jsx)(b.g,{icon:f.xNJ}),"aria-label":v.Ru._({id:"OVjfHO"}),onClick:()=>{m(nP().fromRatio({h:nN()(0,360),s:1,l:nN()(.5,.8)}))}})})})]})]})]})},n$=e=>{let{updateAttributes:t,currentAttributes:n,isDark:a}=e;return(0,i.jsx)(nJ,{value:n,updateValue:t,isDark:a})};n$.key="color.gradient";let nY=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://www.instagram.com/..."}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};nY.key="embed.instagram";let nX=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://form.jotform.com/..."});nX.key="embed.jotform";let n0=["wallpaper","textures","background","nature","gradient","relax","sky","water","pattern","abstract"],n1=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n0,provider:"lexica",enablePagination:!0,mediaSearchQuery:a,setMediaSearchQuery:r}),(0,i.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(d.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(y.x6,{id:"rbDrRg",components:{0:(0,i.jsx)(m.N,{href:"https://lexica.art",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};n1.key="image.lexica";let n2=w.lazy(()=>Promise.all([n.e(1078),n.e(7582)]).then(n.bind(n,97582)).then(e=>({default:e.LoomPanel}))),n3=e=>(0,i.jsx)(w.Suspense,{fallback:(0,i.jsx)(e1.y,{size:"md"}),children:(0,i.jsx)(n2,{...e})});n3.key="video.loom";let n5=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:v.Ru._({id:"ORLSr4"})}),(0,i.jsx)(t0,{guideLink:"https://support.microsoft.com/en-us/office/embed-a-word-document-in-your-blog-0faa0253-2751-44bf-8486-ea7837fe7db1",extraMessage:(0,i.jsx)(y.x6,{id:"2csAkv"}),providerName:"Word, Excel, or PowerPoint"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};n5.key="embed.microsoft.office";let n4=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://www.miro.com/..."}),(0,i.jsx)(t0,{guideLink:"https://help.miro.com/hc/en-us/articles/360016335640-How-to-embed-editable-boards-into-websites",providerName:"Miro"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};n4.key="embed.miro";let n6=["business","rocket","graphs","build","gradient","sky","water"],n9=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n6,provider:"pictographic",enablePagination:!0,mediaSearchQuery:a,setMediaSearchQuery:r}),(0,i.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(d.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(y.x6,{id:"wOdKZR",components:{0:(0,i.jsx)(m.N,{href:"https://pictographic.io",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};n9.key="image.pictographic";let n7=["teamwork","presentation","growth","education","learning","goal","innovation","training","success","planning"],n8=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:n7,provider:"pictographicIcons",enablePagination:!0,resultsPerPage:100,resultEntityType:"icon",mediaSearchQuery:a,setMediaSearchQuery:r,displayAsGrid:!0})})};n8.key="image.pictographic.icon";let ie=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:v.Ru._({id:"ORLSr4"})}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ie.key="embed.microsoft.powerbi";let it=e=>ii(e),ii=async e=>{let t=(await n.e(5894).then(n.t.bind(n,75894,23))).default,{text:i,foregroundColor:a,backgroundColor:r,logoUrl:s,dotOption:l}=e;return new t({width:300,height:300,type:"svg",data:i,image:s,margin:10,dotsOptions:{color:a||"#000",type:l},backgroundOptions:{color:r||"#fff"},imageOptions:{crossOrigin:"anonymous",imageSize:.4,margin:0}}).getRawData("svg")},ia=e=>{var t;let{editor:n,editType:a,updateAttributes:c,currentAttributes:p}=e,{saveImageFromDataBlob:h}=ns({updateAttributes:c,editor:n,editType:a,source:"image.qrCode"}),[m,f]=(0,w.useState)(!1),b="#000000",A="#FFFFFF",k="square",[L,E]=(0,w.useState)(null==p||null==(t=p.meta)?void 0:t.title),[S,M]=(0,w.useState)(null==p?void 0:p.src),I=(0,w.useRef)(void 0),_=(0,w.useCallback)(()=>{f(!0)},[]),D=(0,w.useCallback)(async()=>{if(!L)return;let e=await it({text:L,foregroundColor:b,backgroundColor:A,dotOption:k});e&&(M(window.URL.createObjectURL(e)),I.current=e)},[L,b,A,k]);(0,w.useEffect)(()=>{D()},[k,A,b,L,L,D]);let{src:R,tempUrl:T,meta:z,showPlaceholder:H,uploadStatus:N}=p,B=R?(0,eE.Ub)(R,{width:500}):void 0,P=!m&&!!(R||T||H),F=(0,w.useCallback)(async()=>{I.current&&(f(!0),await h({blob:I.current,attributes:{meta:{title:L,foregroundColor:b,backgroundColor:A,dotOption:k}}}),f(!1))},[h,L,b,A,k]);return P?(0,i.jsxs)(r.T,{align:"center",spacing:4,children:[N===nr.A.Uploading&&(0,i.jsxs)(s.F,{status:"info",size:"sm",children:[(0,i.jsx)(l._,{as:e1.y,w:5,h:5}),(0,i.jsx)(o.T,{children:(0,i.jsx)(y.x6,{id:"MEDU34"})})]}),H?(0,i.jsx)(ne.Pf,{isUploading:N===nr.A.Uploading,hasUploadError:N===nr.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,i.jsx)(j._,{src:B||T,alt:"",ignoreFallback:!0,borderRadius:"md"}),(null==z?void 0:z.title)&&(0,i.jsx)(d.E,{textAlign:"left",w:"100%",children:z.title}),N!==nr.A.Uploading&&(0,i.jsx)(x.$,{onClick:_,mt:2,w:"100%",children:(0,i.jsx)(y.x6,{id:"4uW88M"})})]}):(0,i.jsxs)(r.T,{align:"stretch",spacing:4,children:[N===nr.A.Error&&(0,i.jsxs)(s.F,{status:"error",size:"sm",children:[(0,i.jsx)(l._,{}),(0,i.jsx)(o.T,{children:(0,i.jsx)(y.x6,{id:"GymiXM"})})]}),(0,i.jsxs)(W.MJ,{id:"qr-url",children:[(0,i.jsx)(g.l,{children:(0,i.jsx)(y.x6,{id:"IagCbF"})}),(0,i.jsx)(np.M,{size:"lg",children:(0,i.jsx)(ng.p,{id:"qr-url",value:L,placeholder:v.Ru._({id:"qf63PF"}),type:"url",onChange:e=>{E(e.target.value)}})})]}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.a,{p:4,py:2,bg:"gray.50",borderRadius:"md",children:(0,i.jsxs)(tA.B,{spacing:2,children:[(0,i.jsx)(d.E,{children:(0,i.jsx)(y.x6,{id:"a37vfH"})}),(0,i.jsx)(K.s,{align:"center",justify:"center",h:"200px",p:1,border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",bg:"white",children:S?(0,i.jsx)(tA.B,{h:"100%",children:(0,i.jsx)(j._,{src:S,maxH:"100%"})}):(0,i.jsx)(u.a,{p:2,children:(0,i.jsx)(d.E,{size:"xs",color:"gray.500",textAlign:"center",children:(0,i.jsx)(y.x6,{id:"eu7KCb"})})})}),(0,i.jsx)(d.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(y.x6,{id:"wjRHQb"})})]})}),(0,i.jsx)(C.Tz,{isDisabled:!!S,shouldWrapChildren:!0,label:(0,i.jsx)(y.x6,{id:"Y1WnIF"}),children:(0,i.jsx)(x.$,{onClick:F,w:"100%",variant:"solid",tabIndex:0,isDisabled:!S,children:(0,i.jsx)(y.x6,{id:"IChvxB"})})})]})]})};ia.key="image.qrCode";let ir=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s||"",updateAttributes:n,placeholder:"https://open.spotify.com/..."}),(0,i.jsx)(t0,{guideLink:"https://artists.spotify.com/en/help/article/embedded-players-follow-buttons",providerName:"Spotify",extraMessage:(0,i.jsx)(y.x6,{id:"ItAUcI"})}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ir.key="video.spotify";let is=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://tally.so/..."});is.key="embed.tally";let il=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://www.tiktok.com/..."}),(0,i.jsx)(t0,{guideLink:"https://developers.tiktok.com/doc/embed-videos/",providerName:"TikTok"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};il.key="video.tiktok";let io=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://twitter.com/..."}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};io.key="embed.twitter";let ic=e=>(0,i.jsx)(tY,{...e,urlPlaceholder:"https://typeform.com/..."});ic.key="embed.typeform";let id=["wallpaper","textures","architecture","background","nature","gradient","experimental","animals","california","flowers","relax","sky","water","pattern","abstract"],iu=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query,randomQueries:id,provider:"unsplash",mediaSearchQuery:a,setMediaSearchQuery:r}),(0,i.jsx)(u.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(d.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(y.x6,{id:"k16iQH",values:{UNSPLASH_PROPER_NOUN:"Unsplash"},components:{0:(0,i.jsx)(m.N,{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};iu.key="image.unsplash";let ip=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://vimeo.com/..."}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ip.key="video.vimeo";let ih=["modern office workspace","sustainable energy landscape","vintage automobile collection","future technology concept","tropical beach paradise","urban street art","classical music instruments","mountain hiking adventure","wildlife safari","space exploration visuals","ancient ruins aerial view","deep sea marine life","high fashion runway event","robotics in manufacturing","gourmet food presentation","winter sports scene","abstract art paintings","traditional village festival","modern architecture landmarks","digital art fantasy worlds"],ig=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(t5.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enablePagination:!0,enableLicenseFilter:!0,provider:"web",resultsPerPage:48,randomQueries:ih,resizeThumbnails:!0,mediaSearchQuery:a,setMediaSearchQuery:r})};ig.key="image.web";let im=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,{proxy:s,displayStyle:l}=a,o=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:o||"",updateAttributes:n,placeholder:v.Ru._({id:"gzZk6e"})}),o&&l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.S,{isChecked:s,onChange:e=>n({proxy:e.target.checked}),children:(0,i.jsx)(y.x6,{id:"Fl9cgp"})}),(0,i.jsx)(d.E,{fontSize:"sm",color:"gray.500",mt:-2,children:(0,i.jsx)(y.x6,{id:"J87/8N"})})]}),o&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};im.key="embed.custom";let ix=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"<iframe..."}),(0,i.jsx)(t0,{guideLink:"https://wistia.com/support/embed-and-share/media-on-your-website",providerName:"Wistia"}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ix.key="video.wistia";let ib=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,s=(0,tq.Zj)(a);return(0,i.jsxs)(r.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(t$.VG,{currentUrl:s,updateAttributes:n,placeholder:"https://www.youtube.com/watch?v=..."}),s&&(0,i.jsx)(tJ.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ib.key="video.youtube";let iC=Object.fromEntries(Object.values([t4,nD,nz,ig,n1,iu,ib,n3,nc,nT,nR,im,nl,ia,tK,n5,ie,io,ip,no,nd,n4,t1,t2,ix,ir,il,nY,n$,nE,t6,ic,nX,is,nS,n9,n8]).flat().map(e=>[e.key,e])),iy={[tK.key]:{canShowEmptyState:!0}}},87827:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var i=n(19564),a=n(55729);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,i.uB)();return(0,a.useMemo)(e,[n,e,...t])}},87930:(e,t,n)=>{"use strict";n.d(t,{T:()=>d,U:()=>c});var i=n(37243),a=n(63867),r=n(83817),s=n.n(r),l=n(43634);class o{compute(e){let t=e.firstChild;if(!t)return this;let n=t.attrs;return s()(n,this.value)||(this.hasChanges=!0),this.value=n,this}apply(e,t){return e.docChanged&&this.compute(e.doc),this}processChanges(e){this.hasChanges&&this.value&&e((0,l.H3)({docAttrs:this.value})),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.value=null}}let c=new a.hs("documentAttrs"),d=i.YY.create({name:"documentAttrs",addProseMirrorPlugins:()=>[new a.k_({key:c,state:{init:()=>new o,apply:(e,t,n,i)=>t.apply(e,i)}})]})},87996:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>a.Dc,Dr:()=>a.Dr,GQ:()=>a.GQ,Il:()=>a.Il,Jp:()=>a.Jp,MN:()=>a.MN,N$:()=>a.N$,O5:()=>a.O5,OO:()=>a.OO,Ow:()=>a.Ow,Oz:()=>a.Oz,Pl:()=>a.Pl,QM:()=>i.QM,RA:()=>a.RA,RH:()=>i.RH,Rn:()=>a.Rn,TV:()=>a.TV,UX:()=>a.UX,Up:()=>a.Up,V2:()=>a.V2,Ve:()=>a.Ve,Zd:()=>a.Zd,ae:()=>a.ae,ap:()=>a.ap,fG:()=>a.fG,fX:()=>a.fX,fb:()=>a.fb,fo:()=>a.fo,hb:()=>a.hb,j_:()=>i.j_,mx:()=>a.mx,qD:()=>a.qD,r9:()=>a.r9,sI:()=>a.sI,sS:()=>a.sS,st:()=>a.st,uF:()=>a.uF,un:()=>a.un,w:()=>a.w,xT:()=>a.xT,yj:()=>a.yj});var i=n(29917);n(92377),n(48950);var a=n(46211)},88051:(e,t,n)=>{"use strict";n.d(t,{m:()=>I});var i=n(6029),a=n(55729),r=n(84287),s=n(6181),l=n(6807),o=n(65148),c=n(67909),d=n(36071),u=n(68728),p=n(3674),h=n(40691),g=n(26385),m=n(26420),x=n(74676),f=n(23293),b=n(33787),C=n(48810),y=n(49611),v=n(33170),w=n(19564),A=n(99038),k=n(67097),L=n(36545);let j=e=>{let{onClose:t}=e,n=(0,L.F)();return(0,i.jsx)(v.L8,{isDark:!1,children:(0,i.jsxs)(c.aF,{isOpen:!0,onClose:t,size:{base:"full",md:"md"},children:[(0,i.jsx)(d.m,{backdropFilter:"blur(10px)",bg:"whiteAlpha.800"}),(0,i.jsxs)(u.$,{overflow:"hidden",children:[(0,i.jsx)(p.s,{bg:"whiteAlpha.700"}),(0,i.jsx)(h.c,{p:0,m:0,bg:"gradient.sky",children:(0,i.jsxs)(g.B,{w:"100%",h:"100%",spacing:4,px:{base:8,md:8},pt:{base:8,md:10},pb:{base:12,md:10},justifyContent:"center",children:[(0,i.jsxs)(g.B,{spacing:4,children:[(0,i.jsx)(m.a,{children:(0,i.jsx)(x.E,{colorScheme:"blue",display:"inline",children:(0,i.jsx)(w.x6,{id:"isRobC"})})}),(0,i.jsx)(f.D,{size:"2xl",lineHeight:"1.1",letterSpacing:"tight",children:(0,i.jsx)(w.x6,{id:"Rx7c+b"})}),(0,i.jsx)(b._,{mt:-8,src:(0,k.Ub)("https://static.gamma.app/images/rocky-45cba823.png",{width:1e3}),display:{base:"none",md:"block"},h:"100%",objectFit:"cover"}),(0,i.jsx)(C.E,{fontSize:"lg",children:(0,i.jsx)(w.x6,{id:"1KXdNB",values:{AGENT_PROPER_NOUN:A.qV},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{}),2:(0,i.jsx)("strong",{})}})})]}),!n&&(0,i.jsx)(g.B,{p:3,alignItems:"flex-start",borderRadius:"md",bg:"whiteAlpha.500",fontSize:"sm",children:(0,i.jsx)(C.E,{fontWeight:"semibold",children:(0,i.jsx)(w.x6,{id:"4MQ8+b",values:{GAMMA_PROPER_NOUN:A.On,AGENT_PROPER_NOUN:A.qV}})})}),(0,i.jsx)(y.$,{variant:"solid",onClick:t,children:(0,i.jsx)(w.x6,{id:"fyPioV"})})]})})]})]})})};var E=n(30820);let S=new Date("2025-09-16"),M=e=>{let{onClose:t,onOpen:n,segmentEvent:a}=e,{product:c}=(0,r.I)(),{user:d}=(0,s.ur)(),[u,p]=(0,l.M)(o.E.lastDismissedAICreditsIntroModal,!1),h=(null==d?void 0:d.createdTime)&&new Date(d.createdTime)<S;return!u&&c&&h?(0,i.jsx)(j,{onClose:()=>{p(!0)}}):(0,i.jsx)(E.C,{onClose:t,onOpen:n,segmentEvent:a})},I=(0,a.memo)(e=>{let{isOpen:t,...n}=e;return(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(M,{...n}):null})})},88077:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(55729),a=n(7203);class r{getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){let e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}}function s(e){let[t]=(0,i.useState)(()=>new r(e.editor)),n=(0,a.useSyncExternalStoreWithSelector)(t.subscribe,t.getSnapshot,t.getServerSnapshot,e.selector,e.equalityFn);return(0,i.useEffect)(()=>t.watch(e.editor),[e.editor,t]),(0,i.useDebugValue)(n),n}},88608:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>w,Gx:()=>v,R6:()=>C,Yq:()=>y});var i=n(77650),a=n(14816),r=n(67604),s=n(57914),l=n(80928),o=n(33548),c=n(57792),d=n(96331),u=n(27295),p=n(14385),h=n(13442),g=n(60042),m=n(62922),x=n(76174),f=n(14448);let b={ar:o.A,en:c.A,fa:d.A,"pt-br":u.A,ja:p.A,"zh-cn":h.A,"zh-tw":g.A,es:m.A,fr:x.A,ko:f.A},C=()=>b[i.Ru.locale]||void 0,y=(e,t)=>e?(0,a.A)((0,r.A)(e),t,{locale:C()}):"",v=(e,t)=>e?(0,s.A)((0,r.A)(e),t?(0,r.A)(t):new Date,{locale:C()}):"",w=e=>e?(0,l.A)((0,r.A)(e),{locale:C()}):""},88839:(e,t,n)=>{"use strict";n.d(t,{M:()=>i.M});var i=n(90098)},88889:(e,t,n)=>{"use strict";n.d(t,{Y:()=>L,h:()=>E});var i=n(6029),a=n(26420),r=n(40452),s=n(53996),l=n(51684),o=n(97139),c=n.n(o),d=n(55729),u=n(94111),p=n(59230),h=n(25778),g=n(43607),m=n(43634),x=n(67097),f=n(62171),b=n(58082),C=n(17485),y=n(64234),v=n(22216),w=n(62695),A=n(50861),k=n(83143);let L=e=>{var t,n,s;let{image:o,editor:c,getPos:u,imageShape:C,imageSx:A,node:k,decorations:L,handleEditableClick:j,handleEditableDoubleClick:S,hasQuickActions:M=!1,isInlineColorableSvg:I=!1,editWithoutSelection:_=!1}=e,D=(0,w.j)(c,u),R=(0,g.lC)(c),T=(0,d.useMemo)(()=>c.state.selection.from===u(),[c,u,R]),z=(0,x.SV)((null==o?void 0:o.src)||(null==o?void 0:o.tempUrl)),H=(0,x.v7)(null==o?void 0:o.src),{isDark:N,bodyColor:B,primaryColor:P,primaryColorLight:F}=(0,b.a)(L),V=!o||o.showPlaceholder||!o.src&&!o.tempUrl,O=null!=(s=o&&(null==(t=o.loadImageParams)?void 0:t.provider))?s:void 0,Z=o&&"queued"===o.loadImageStatus&&!c.isThumbnail,{tempUrl:W,uploadStatus:U,meta:G}=o||{},K=(null==o?void 0:o.src)?(0,x.pO)(o.src,{bodyColor:B,accentColor:P,accentColorLight:F}):void 0,Q=(0,h.GV)(m.nD),q=k.attrs.source,J=K&&(0,x.Ub)(K,c.isThumbnail?x.p7:c.isSiteNavbarEditor?x.oc:{width:1e3,height:1e3},G),$=(0,x.QV)(J,J?void 0:W),Y={backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:I||V?void 0:$,backgroundPosition:(0,f.w3)(o),width:"100%",height:"100%",borderRadius:"circle"!==C||I?"var(--box-border-radius)":"full",transitionProperty:"border-radius",transitionDuration:"normal",...A};return(0,i.jsxs)(a.a,{position:"relative",cursor:T||_&&Q?"pointer":"default",contentEditable:!1,h:"100%",onClick:Q?j:void 0,onDoubleClick:Q?S:void 0,transitionProperty:"filter background",transitionDuration:"normal",_hover:Q&&T?{filter:N?"brightness(1.15)":"brightness(0.85)",bg:z?N?"whiteAlpha.100":"blackAlpha.100":void 0}:void 0,children:[V?(0,i.jsx)(v.Pf,{...Y,isLoading:!!Z,loadingProvider:O,icon:(null==(n=y.Fn["image.custom"])?void 0:n.icon)||l.Cyq,h:"100%",hasQuickActions:M,onSelectAndFocus:()=>{Q&&D()},defaultSource:q,cursor:T||_?"pointer":"default"}):H?(0,i.jsx)(x.FD,{src:K||W||"",poster:null==G?void 0:G.poster,w:"100%",h:"100%",objectFit:"cover","data-content-reference":!0}):I?(0,i.jsx)(E,{image:o,src:K||W||"",imageShape:C,imageStyles:Y}):(0,i.jsx)(r.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",position:"relative",sx:Y}),U==p.A.Uploading&&Q&&(0,i.jsx)(v.Td,{}),U==p.A.Error&&(0,i.jsx)(v.Hy,{})]})},j=e=>{try{let t=e.getBBox();if(0===t.width||0===t.height)return;return"".concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height)}catch(e){console.error("Error calculating viewBox:",e);return}},E=e=>{var t;let{image:n,src:a,imageShape:r,imageStyles:l}=e,o=null!=(t=C.zF[r||"square"])?t:C.zF.square,{meta:p}=n||{},h=(0,A.Kk)(a,"accessory-img-inline-svg"),[g,m]=(0,d.useState)(void 0),x=(0,d.useRef)(null),f=(null==p?void 0:p.width)&&(null==p?void 0:p.height)?"0 0 ".concat(p.width," ").concat(p.height):void 0,b=(0,d.useCallback)(()=>{var e;let t=null==(e=x.current)?void 0:e.querySelector("svg");t&&requestAnimationFrame(()=>{let e=j(t);e&&m(e)})},[]),y=n&&(0,A.KR)(n);return(0,i.jsx)(s.o,{...l,objectFit:"contain",ref:x,sx:{svg:{width:"100%",aspectRatio:null==o?void 0:o.aspectRatio,height:"unset"}},children:(0,i.jsx)(u.A,{src:h,viewBox:f||g||(y?"0 0 1024 1024":"0 0 512 512"),className:"colorable-icon",onLoad:f?void 0:b,preProcessor:e=>{let t=(0,k.gG)(e);return c().sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},PARSER_MEDIA_TYPE:"image/svg+xml",ALLOWED_NAMESPACES:["http://www.w3.org/2000/svg"]})},overflow:"visible"})})}},89072:(e,t,n)=>{"use strict";n.d(t,{q:()=>A});let i={baseStyle:{color:"titanium.50",bg:"titanium.800","--popper-arrow-bg":"var(--chakra-colors-titanium-800)",borderRadius:"sm",px:1.5,py:.5,fontSize:"xs",fontWeight:600}};var a=n(83004),r=n(23050);let s="transparent",l=(0,a.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),o=(0,a.i7)({"0%":{opacity:.5,color:"var(--chakra-colors-trueblue-500)"},"100%":{opacity:1,color:"inherit"}}),c={".autocomplete-loading":{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:"2px",borderBottomColor:s,borderLeftColor:s,animation:"".concat(l," ").concat("0.45s"," linear infinite"),width:"var(--spinner-size)",height:"var(--spinner-size)","--spinner-size":"1em",marginLeft:"0.25em",color:"var(--chakra-colors-trueblue-500)"},".autocomplete-inserted":{animation:"".concat(o," ").concat(r.B2,"ms ease-out")},".autocomplete-highlight":{backgroundColor:"#84c1fa45"}};var d=n(29608),u=n(39659);let p={backgroundRepeat:"no-repeat",backgroundSize:"11px",backgroundPosition:"8px center",fontSize:"13px",fontWeight:"bold",color:"var(--chakra-colors-trueblue-400)",position:"absolute",zIndex:1,top:"0px",left:"0px",backgroundColor:"var(--chakra-colors-trueblue-100)",padding:"4px 12px",paddingLeft:"24px",borderRadius:"0 0 4px 4px",pointerEvents:"none"},h={".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},".ai-generate-streaming-card":{"&.node-card":{pointerEvents:(0,d.Xb)()?void 0:"none !important"},"&.node-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}},".streaming-cursor__label":{_after:{...p,backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" fill="'.concat("%23553bff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M245.8 45.9C241.9 37.4 233.4 32 224 32s-17.9 5.4-21.8 13.9L142.7 174.7 13.9 234.2C5.4 238.1 0 246.6 0 256s5.4 17.9 13.9 21.8l128.8 59.5 59.5 128.8c3.9 8.5 12.4 13.9 21.8 13.9s17.9-5.4 21.8-13.9l59.5-128.8 128.8-59.5c8.5-3.9 13.9-12.4 13.9-21.8s-5.4-17.9-13.9-21.8L305.3 174.7 245.8 45.9z"/></svg>\')'),content:"var(--ai-generating-label)"}}},"&.buddy-active":{".buddy-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 1px #2208CC",borderRadius:"inherit",pointerEvents:"none"}}},"&.sal-active":{".block-card:not(.sal-active-card, .sal-active-card-parent)":{opacity:.5},".sal-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px #2208CC",borderRadius:"inherit",pointerEvents:"none"},_after:{...p,backgroundColor:"#2208CC",backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512" fill="'.concat("%23ffffff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM205.1 73.3c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3L123.3 187.3 9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5l114.1 52.7L176 435.8c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l52.7-114.1 114.1-52.7c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5L257.8 187.4 205.1 73.3zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"/></svg>\')'),padding:"4px 12px",paddingLeft:"0",width:"16px",borderRadius:"full",content:"''",left:"2px",top:"-2px",height:"16px",transform:"translate(0%,-50%)"}},".sal-active-card-parent":{".block:not(.sal-active-card)":{opacity:.5},".sal-active-card":{".block":{opacity:1}}},".sal-selection-text":{backgroundColor:"rgba(100, 100, 100, 0.25)",...u.w}}};var g=n(84431);let m={".positioned-element":{position:"absolute",pointerEvents:"auto","&.is-selected":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:"trueblue.300",pointerEvents:"none",zIndex:1},".drag-box":{background:"repeating-linear-gradient(\n          45deg,\n          var(--chakra-colors-trueblue-200),\n          var(--chakra-colors-trueblue-200) 10px,\n          var(--chakra-colors-trueblue-100) 10px,\n          var(--chakra-colors-trueblue-100) 20px\n        )",opacity:.3}},"&:not(.is-selected):not(.is-text-editing):hover":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"1px solid",outlineColor:"var(--grid-outline-color)",pointerEvents:"none",zIndex:1}}},".selection-handles":{position:"absolute",inset:"-4px",pointerEvents:"none",zIndex:"".concat(g.$.resizeableWrapper),".handle":{position:"absolute",width:"8px",height:"8px",bg:"white",border:"2px solid var(--chakra-colors-trueblue-300)",borderRadius:0},".handle-tl":{top:0,left:0},".handle-tr":{top:0,right:0},".handle-bl":{bottom:0,left:0},".handle-br":{bottom:0,right:0}}},x=".125em",f={transitionDuration:"slow",transitionTimingFunction:"ease-out"},b=".comments-wrapper, .block-comments-circle",C="> :is(".concat(b,")"),y="> :not(".concat(b,"), [data-spotlight-parent] > *"),v=e=>{let t=e?.2:.65;return{"&.react-renderer > [data-node-view-wrapper]":{[y]:{transitionProperty:"filter, transform",...f,filter:"opacity(".concat(t,") blur(").concat(e?x:"0",")")},[C]:{transitionProperty:"opacity",...f,filter:"opacity(".concat(t,")  blur(").concat(e?x:"0",")"),"&[data-is-popup-open=true]":{filter:"none"},_hover:{filter:"none"}}},"&:not(.react-renderer)":{transitionProperty:"filter, transform",...f,filter:"opacity(".concat(t,")  blur(").concat(e?x:"0",")")}}},w={"[data-spotlight-dim]":{opacity:.2},".spotlightable":{...v(!1),transitionProperty:"filter, transform",...f,cursor:"pointer"},".spotlightable:hover":{transform:"scale(1.05)"},".spotlightable.after-spotlight":v(!0),".spotlightable.spotlight-block, .spotlight-block .spotlightable":{"&.react-renderer > [data-node-view-wrapper]":{[y]:{opacity:"1",filter:"none"},[C]:{filter:"none"}},"&:not(.react-renderer)":{filter:"none"}}},A={...c,".ProseMirror":{"&.spotlight-active":w,...h,".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},"&.card-notes-active":{".block-card:not(.card-notes-active-parent-card)":{opacity:.5},".card-notes-active-parent-card .block-card":{opacity:"revert"},".card-notes-active-parent-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}}},'&[contenteditable="true"]':{"&:focus-within":{".ProseMirror-gapcursor":{display:"block",height:"1.5em",position:"relative","&:after":{width:"0px",height:"100%",borderTop:"0px",borderLeft:"1px solid black"}},".grid-cell":{".ProseMirror-gapcursor:first-child":{marginTop:"1em"},".ProseMirror-gapcursor:last-child":{marginBottom:"1em"}},".block-table td":{".ProseMirror-gapcursor:first-child":{marginTop:".75em"},".ProseMirror-gapcursor:last-child":{marginBottom:".75em"}},".is-dark":{".ProseMirror-gapcursor:after":{borderLeftColor:"white"}}}},".collaboration-cursor__caret":{position:"relative",marginLeft:"-1px",marginRight:"-1px",borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",wordBreak:"normal",pointerEvents:"none",textIndent:0},".collaboration-cursor__label":{position:"absolute",top:"-1.4em",left:"-1px",fontSize:"12px",fontStyle:"normal",fontFamily:"'Inter', sans-serif",fontWeight:"600",lineHeight:"normal",letterSpacing:"normal",textTransform:"none",userSelect:"none",color:"#0d0d0d",padding:"0.1rem 0.3rem",borderRadius:"3px 3px 3px 0",whiteSpace:"nowrap",zIndex:1,pointerEvents:"auto",spellCheck:"false",_hover:{opacity:.1}},'&[contenteditable="false"]':{".ProseMirror-gapcursor":{display:"none"},".collaboration-cursor__caret:not(.streaming-cursor)":{display:"none"}},".is-selecting-node, .sal-selection-node, .sal-selection-card":{"[data-selection-ring]":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:"trueblue.300",pointerEvents:"none",zIndex:1}},'[data-selection-ring="inside"]':{_before:{zIndex:10,outlineOffset:"-2px"}},'[data-selection-ring="padded"]':{_before:{outlineOffset:"0.25em"}},".react-renderer [data-selection-ring]":{_before:{content:"none"}}},".is-selecting-around":{"[data-selection-background]":{_after:{content:'""',position:"absolute",inset:0,backgroundColor:"var(--chakra-ring-color)",borderRadius:"inherit",opacity:.75}},".react-renderer:not(.is-selecting-around) [data-selection-ring]":{_after:{content:"none"}}},".is-selecting-text":{backgroundColor:"highlight",padding:0,margin:0,display:"inline",lineHeight:"inherit",textDecoration:"none",boxDecorationBreak:"clone",WebkitBoxDecorationBreak:"clone"},...m,".card-present-mode":{"&--doc":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentCollapsed":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentPrev":{transform:"translateY(-100%)",position:"fixed",zIndex:2},"&--presentCurrent":{transform:"translateY(0)","@media print":{transform:"none"},position:"fixed",zIndex:3},"&--presentNext":{transform:"translateY(100%)",position:"fixed",zIndex:2},"&--presentParent":{transform:"translateY(0)",position:"fixed",zIndex:2}},".document-content.is-doc-mode":{".card-wrapper":{"&:hover":{".card-divider":{opacity:1},".manage-card-controls":{opacity:1}}}},".document-content":{".card-wrapper":{"&:hover":{".card-footer-reactions":{opacity:1},".card-collapsed":{".card-footer-reactions":{display:"none"}}}}}},".ProseMirror-dropcursor":{transitionProperty:"inset",transitionDuration:"fast",borderRadius:"md",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",'&[data-type="tableColumn"]':{backgroundColor:"var(--chakra-ring-color)",borderRadius:"1px",display:"block",fontSize:"sm",fontWeight:"medium","&:before":{content:"attr(data-message)",position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",...i.baseStyle,whiteSpace:"nowrap",marginBottom:"4px",opacity:1,pointerEvents:"none"}},outline:"1px solid",outlineColor:"whiteAlpha.800",pointerEvents:"none",backdropFilter:"blur(4px)","&::after":{...i.baseStyle,w:"max-content",pointerEvents:"none",display:"none"},'&[data-type="column"]::after':{content:'"Drop to add column"',position:"absolute",top:"-2em",display:"block"}}}},89115:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,S:()=>o});var i=n(84462),a=n.n(i),r=n(28615),s=n(36512),l=n(33424);let o=e=>{var t;let{theme:n,fontSize:i,isMobileDevice:a,contentWidth:r,nestedDepth:o=0}=e,c=(0,l.Qo)(i||"md"),d="lg"===r?s.br:"sm"===r?s.lA:s.Vy,u=null!=(t=n.config.fontSize)?t:1,p=u*c,h=d*(s.IM/u)/c,g=(0,l._F)(o);return{baseFontSize:p,contentWidthEms:h,themeFontSize:u,cardWidthEms:h+2*(0,l.mn)({isMobileDevice:a,numericFontSize:c})+2*g}},c=a()(e=>{let{isPresentMode:t,isNested:n,nestedDepth:i,isFullBleed:a,isThumbnail:s,theme:l,cardDimensions:c,defaultContentWidth:g,contentWidth:m,showPresentBackdrop:x,isMobileDevice:f,docZoomLevel:b,fontSize:C,cardFontScale:y=1}=e,{baseFontSize:v,contentWidthEms:w,cardWidthEms:A}=o({theme:l,fontSize:C,isMobileDevice:f,contentWidth:null!=m?m:g,nestedDepth:i});return{...(t||s?c.aspectRatio&&!r.LD?h:p:f?u:d)({baseFontSize:v,contentWidthEms:w,cardWidthEms:A,cardAspectRatio:c.aspectRatio,showPresentBackdrop:x,isNested:n,isFullBleed:a,isThumbnail:s,docZoomLevel:b,nestedDepth:i,cardFontScale:y})}}),d=e=>{let{cardWidthEms:t,cardAspectRatio:n,isNested:i,baseFontSize:a,docZoomLevel:r,cardFontScale:s,contentWidthEms:l}=e;return{"--font-size":"calc(".concat(a," * var(--card-font-scale, 1) * var(--editor-font-size, 1rem) * ").concat(r," * var(--viewport-scale-factor, 1.125))"),"--card-font-scale":"".concat(s||1),"--card-width":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-min-height":n&&!i?"calc(min(var(--card-width), var(--editor-width)) / ".concat(n,")"):"0px","--max-content-width":"calc(".concat(l,"em / var(--card-font-scale, 1))"),"--card-max-width":"var(--editor-width)","--media-scale":"min(1, var(--card-font-scale, 1))"}},u=e=>{let{cardWidthEms:t,baseFontSize:n,isNested:i,cardAspectRatio:a}=e;return{"--font-size":"".concat(n,"rem"),"--card-width":"".concat(t,"em"),"--card-min-height":a&&!i?"calc(min(var(--card-width), var(--editor-width)) / ".concat(a,")"):"0px","--card-max-width":"var(--editor-width)","--media-scale":"1"}},p=e=>{let{contentWidthEms:t,cardWidthEms:n,showPresentBackdrop:i,isFullBleed:a,baseFontSize:s,isNested:l,isThumbnail:o}=e,c=r.rS||r.GC?"calc(".concat(s,"rem * var(--viewport-scale-factor, 1.125))"):"calc(var(--zoom-level) * clamp(".concat(o?"0rem":"1rem",", var(--card-max-width) / ").concat(n,", 3vh))"),d=!i||a;return{"--font-size":c,"--card-width":d?"var(--editor-width)":"".concat(n,"em"),"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-min-height":o?"var(--thumbnail-min-height, 0px)":d&&!l?"100vh":"0vh","--max-content-width":"calc(".concat(1.15*t,"em / var(--zoom-level))"),"--media-scale":"1"}},h=e=>{let{cardAspectRatio:t,cardWidthEms:n,isNested:i,cardFontScale:a}=e,s=r.rS||r.GC?"calc(var(--card-max-width) / ".concat(t,")"):"calc(100vh - 2 * var(--card-outer-padding-y))",l="min(var(--card-max-width), calc(var(--card-max-height) * ".concat(t,"))"),o=i?"0px":"calc(".concat(l," / ").concat(t,")"),c="calc(var(--zoom-level) * var(--card-font-scale, 1) * ".concat(l," / ").concat(n,")");return{"--card-width":l,"--card-font-scale":"".concat(a||1),"--font-size":c,"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-max-height":s,"--card-min-height":o,"--media-scale":"min(1, var(--card-font-scale, 1))"}}},89263:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(55729),a=n(92739);let r=e=>{let{interceptLinkClick:t,linkUrlSafe:n,linkInterceptEnabled:r}=(0,a.i)(e),s=(0,i.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i=>{if(e){if(!r){n||window.open(e,"_blank","noopener");return}!t(i)&&(n||window.open(e,"_blank","noopener"))}}},[e,t,r]);return(0,i.useMemo)(()=>({handleOpenNativeLinkWithInterstitial:s(!0),handleOpenLinkWithInterstitial:s(),linkUrlSafe:n}),[s,n])}},89528:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>u,zL:()=>d});var i=n(6029),a=n(74676),r=n(26420),s=n(55597),l=n(48621),o=n(11390),c=n(19106);let d=e=>{let{product:t="pro",...n}=e;return(0,i.jsxs)(a.E,{fontSize:"xxs",bottom:0,insetEnd:0,variant:t,...n,children:["ultra"===t?(0,i.jsx)(r.a,{me:.5,as:"span",children:(0,i.jsx)(l.g,{icon:s._$C,size:"sm"})}):void 0," ",c.Qu[t].name]})},u=e=>{let{canUseFeature:t,productFeature:n,...a}=e,r=(0,o.gD)(n);return t||null===r?null:(0,i.jsx)(d,{product:r,...a})}},89603:(e,t,n)=>{"use strict";n.d(t,{N3:()=>d,Wj:()=>c,bk:()=>u,pN:()=>p,uI:()=>h});var i=n(12364),a=n.n(i),r=n(58495),s=n(63867),l=n(25778),o=n(43634);let c=(e,t)=>{let n=(0,l.KA)();n.dispatch((0,o.U)(t?{noteId:e}:{noteId:null}));let i=n.getState();!t&&(0,o.rp)(i)&&n.dispatch((0,o.Zf)({isEditingMedia:!1})),!t&&(0,o.dK)(i)&&n.dispatch((0,o.a)({nodeId:null}))},d=a()(c,30),u=()=>{let e=(0,l.KA)().getState();return(0,o.DH)(e)},p=()=>(0,r.Ak)(5),h=e=>e instanceof s.nh&&"footnote"===e.node.type.name},89703:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,f:()=>o});var i=n(55729),a=n(25778),r=n(43634),s=n(15350);let l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,a.KA)();if(!t)return void console.error("[MediaDrawer].openMediaDrawer: can't open because getStore() returned ".concat(t));e&&t.dispatch((0,s.Hy)()),t.dispatch((0,r.Zf)({isEditingMedia:!0}))},o=()=>{let e=(0,a.CU)();return(0,i.useCallback)(t=>{let{isOpen:n,shouldResetSourceKey:i=!0}=t;i&&e.dispatch((0,s.Hy)()),e.dispatch((0,r.Zf)({isEditingMedia:n}))},[e])}},89884:(e,t,n)=>{"use strict";n.d(t,{g:()=>k,L:()=>A});var i=n(6029),a=n(46898),r=n(68013),s=n(26385),l=n(48810),o=n(19564),c=n(77650),d=n(55729),u=n(58809),p=n(25778),h=n(26420),g=n(99492),m=n(55597),x=n(48621);let f=(0,d.memo)(e=>{let{isLocked:t,isDark:n=!1}=e;return(0,i.jsxs)(h.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(x.g,{icon:g.CQO}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.g,{icon:m.GEE,color:n?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-50)",transform:"shrink-3 right-6 down-6"}),(0,i.jsx)(x.g,{icon:m.DW4,transform:"shrink-8 right-6 down-6"})]})]})});f.displayName="CardLinkIcon";var b=n(95465),C=n(43634),y=n(85235),v=n(70006),w=n(74471);let A=e=>{let{cardId:t}=e,n=(0,p.GV)(C.wC),s=(0,p.GV)(u.Jo),l=null==s?void 0:s.id,h=l?(0,v.Io)({cardId:t,docId:l,isPresentMode:n===y.w.SLIDE_VIEW}):"",g=(0,a.d)(),{onCopy:m}=(0,r.i)(h);return{onCopyLinkClick:(0,d.useCallback)(()=>{if(!l)return void g({title:(0,i.jsx)(o.x6,{id:"+ge1lq"}),status:"error",duration:3e3,position:"top"});m(),g({title:c.Ru._({id:"BVYvMa"}),status:"success",duration:3e3,position:"top"})},[m,g,l])}},k=e=>{let{attrs:t}=e,n=(0,b.K)(),{onCopyLinkClick:a}=A({cardId:t.id});return(0,i.jsx)(w.I,{onClick:e=>{var t;if(e.target&&(null==(t=e.target)?void 0:t.closest('[data-testid="open-share"]')))return void e.preventDefault();a()},label:n?(0,i.jsx)(o.x6,{id:"F0YmUY"}):(0,i.jsxs)(s.B,{spacing:"0",children:[(0,i.jsx)(l.E,{children:(0,i.jsx)(o.x6,{id:"afMspw"})}),(0,i.jsx)(l.E,{fontSize:"xxs",color:"gray.400",children:(0,i.jsx)(o.x6,{id:"OpeWZK"})})]}),children:(0,i.jsx)(f,{isLocked:!n})})}},90026:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});let i="var(--list-marker-text-color, var(--body-color))",a={default:{"span.textColor":{color:"var(--text-color, var(--body-color))"},".block-numbered":{"li::before":{color:i}},".block-bullet":{"li::marker":{color:i}}}}},90047:(e,t,n)=>{"use strict";n.d(t,{ap:()=>h,cu:()=>m,eG:()=>p});var i=n(17859),a=n(27002),r=n(3131),s=n(40782),l=n(59230),o=n(8327),c=n(1057),d=n(59824),u=n(98088);let p=e=>{let{query:t,provider:n,license:i,model:a,stylePreset:r,stylePrompt:l,artStylePreset:o,artStylePrompt:c,visualsMenuEnabled:d}=e;return t?("aiGenerated"!==n&&(t=t.split(", ")[0]),{loadImageParams:{provider:n,query:t,options:"aiGenerated"===n?{model:a,stylePreset:r,stylePrompt:l,artStylePreset:o,artStylePrompt:c,visualsMenuEnabled:d}:{license:i}},loadImageStatus:"queued",loadImageId:(0,u.z)(),source:s.j[n]}):{loadImageStatus:"error"}},h=async e=>{let{loadImageId:t,loadImageParams:n,context:a,imageStore:c}=e,{query:d,options:u,provider:p}=n,{interactionId:h,...m}=a;try{if("aiGenerated"===p){let e={...u,interactionId:h||(0,i.$F)(),steps:30,...m,prompt:d,count:1,loadImageId:t},n=await (0,r.hU)(e);if(!n[0])return{loadImageStatus:"error"};return{...n[0].attrs,tempUrl:null,loadImageStatus:"done",uploadStatus:l.A.Queued}}if("icon"===p){let{primary:e,fallback:i}=g(),a=e,r=await c.findImage({query:d,provider:a,options:n.options,loadImageId:t,count:5});if(r||(a=i,r=await c.findImage({query:d,provider:a,options:n.options,loadImageId:t,count:5})),!r)return{query:d,source:s.j[e],loadImageStatus:"error"};return{...(0,o.TF)(r,d,a),loadImageStatus:"done",uploadStatus:l.A.Queued}}{let e=await c.findImage({query:d,provider:p,options:n.options,loadImageId:t});if(!e)return{query:d,source:s.j[p],loadImageStatus:"error"};return{...(0,o.TF)(e,d,p),loadImageStatus:"done",uploadStatus:l.A.Queued}}}catch(e){return console.error("[AIStream] An error occurred while fetching image: ".concat(e.message),e.stack),{loadImageStatus:"error"}}},g=()=>{let e=a.of.get("aiIconProvider");return{primary:e,fallback:"pictographicIcons"===e?"fontawesome":"pictographicIcons"}},m=e=>{let{context:t,imageAttrs:n,loadImageId:i}=e,a=n.loadImageParams,s=a.options,l=s.model?(0,r.pE)(s.model):void 0,o=t.theme&&(null==l?void 0:l.supportsHexPrompts)?(0,c.Me)(t.theme,"artStylePrompt"in a.options?a.options.artStylePrompt:void 0):void 0,u={aspectRatio:(0,d.iI)(t.cardDimensions).targetImageAspectRatio,disableRewrite:!!o,stylePrompt:o};return a.options={...s,...u},h({loadImageId:i,loadImageParams:a,context:t,imageStore:t.imageStore})}},90184:(e,t,n)=>{"use strict";n.d(t,{G:()=>g,j:()=>m});var i=n(6029),a=n(74676),r=n(58959),s=n(48810),l=n(51684),o=n(48621),c=n(33170),d=n(19564),u=n(27002),p=n(89942),h=n(779);let g=e=>{var t;let{type:n,multiplier:a,...r}=e,s=(0,u.u)("aiDebits");if((0,p.ez)("unlimited_credits"))return null;let l=null!=(t=s[n])?t:h.rA[n];return(0,i.jsx)(m,{totalCredits:l*(null!=a?a:1),...r})},m=e=>{let{totalCredits:t,...n}=e;return(0,i.jsx)(c.Tz,{label:(0,i.jsx)(d.x6,{id:"ryy5zT",values:{totalCredits:t}}),children:(0,i.jsx)(a.E,{colorScheme:"whiteAlpha",bg:"whiteAlpha.300",textTransform:"none",textShadow:"none",fontSize:"xxs",ml:2,...n,children:(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(s.E,{children:t}),(0,i.jsx)(o.g,{icon:l.p7g,size:"sm"})]})})})}},90221:(e,t,n)=>{"use strict";n.d(t,{m:()=>f});var i=n(6029),a=n(80314),r=n(831),s=n.n(r),l=n(55729),o=n(63902),c=n(83004),d=n(91938);let u=e=>{let{files:t}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)("link",{rel:"preload",href:e,as:"font",crossOrigin:""},e))})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('".concat(e,"/fonts/EudoxusSans-Bold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Bold.woff') format('woff');\n  font-weight: bold;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Regular.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Regular.woff') format('woff');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Light.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Light.woff') format('woff');\n  font-weight: 300;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff') format('woff');\n  font-weight: 800;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff') format('woff');\n  font-weight: 200;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Medium.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Medium.woff') format('woff');\n  font-weight: 500;\n  font-style: normal;\n  font-display: block;\n}\n")},h=["/fonts/EudoxusSans-Bold.woff","/fonts/EudoxusSans-Bold.woff2","/fonts/EudoxusSans-Regular.woff","/fonts/EudoxusSans-Regular.woff2","/fonts/EudoxusSans-Light.woff","/fonts/EudoxusSans-Light.woff2","/fonts/EudoxusSans-ExtraBold.woff","/fonts/EudoxusSans-ExtraBold.woff2","/fonts/EudoxusSans-ExtraLight.woff","/fonts/EudoxusSans-ExtraLight.woff2","/fonts/EudoxusSans-Medium.woff","/fonts/EudoxusSans-Medium.woff2"],g=h.map(e=>"".concat(d.$.FRONTEND_URL).concat(e)),m=e=>{let{shouldUsePublishedVersion:t}=e,n=p(t?d.$.FRONTEND_URL:"");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.mL,{styles:n}),(0,i.jsx)(u,{files:t?g:h})]})},x=e=>{let{fonts:t}=e,n=(0,o.oR)(),r=null==t?void 0:t.find(e=>"Eudoxus Sans"===e.id),c=(0,l.useMemo)(()=>s()((null==t?void 0:t.filter(e=>e.url))||[],"url"),[t]);return(0,i.jsxs)(i.Fragment,{children:[r?(0,i.jsx)(m,{shouldUsePublishedVersion:n}):null,c.map(e=>(0,i.jsx)(a.N,{as:"link",href:e.url,rel:"stylesheet","data-gamma-font":e.id},e.url))]})},f=e=>{let{theme:t}=e;return(0,i.jsx)(x,{fonts:null==t?void 0:t.fonts})}},90248:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i={x:-1e3,y:-1e3}},90278:(e,t,n)=>{"use strict";n.d(t,{$o:()=>h,TS:()=>b,aG:()=>p,eL:()=>f,fc:()=>x,oO:()=>m,tN:()=>C});var i=n(37243),a=n(63867),r=n(15607),s=n(23460),l=n(67097),o=n(28700),c=n(36145),d=n(55424),u=n(6494);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",n=(0,u.BJ)(e.variantKey),i={};return n.options.forEach(n=>{var a;let{key:r,defaultValue:s}=n;i[r]=null!=(a=e.options[r])?a:null==s?void 0:s({dir:t})}),i},h=e=>{var t;let n=(0,u.BJ)(e.variantKey),i=p(e);return(null==(t=n.addDirection)?void 0:t.call(n,i))||"right"},g=(e,t)=>t.nodes.smartLayout.validContent(e.content),m=e=>{let t=(0,c.p$)(e).filter(e=>(0,l.u3)(e.type));return 1===t.length&&t[0]},x=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return null;let a=e.state.doc.resolve(i.inside),l=(0,r.IV)(a,d.q)[0],c=(0,r.IV)(a,d.M)[0],u=n&&(0,o.H)(n),p=m(t);if(!l&&!c||u&&"image"!==u.type.name||!p)return null;let h=(0,s.xX)(t.target,e.dom,e=>e.hasAttribute("data-smart-layout-image-drop-target"));if(h){let e=h.getBoundingClientRect();return{pos:i.inside,node:u,rect:e,image:{src:null==u?void 0:u.attrs.src,source:null==u?void 0:u.attrs.source,query:null==u?void 0:u.attrs.query,name:null==u?void 0:u.attrs.name,uploadStatus:null==u?void 0:u.attrs.uploadStatus}}}return null},f=(e,t,n)=>{let a;if(!n||!g(n,e.state.schema))return null;let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r||-1==r.inside)return null;let{doc:s}=e.state,l=s.nodeAt(r.pos),o=s.nodeAt(r.inside);if(o&&(0,d.q)(o))a={node:o,pos:r.inside};else if(l&&(0,d.q)(l))a={node:l,pos:r.pos};else{let e=s.resolve(r.inside);a=(0,i.eL)(e,d.q)}let c=a&&e.nodeDOM(a.pos),u=null==c?void 0:c.querySelector("[data-content-reference]"),p=null==u?void 0:u.getBoundingClientRect();if(!a||!p)return null;let m=s.resolve(a.pos).parent;if(!m||!(0,d.M)(m))return null;let x="right"===h(m.attrs)?t.clientX>p.left+p.width/2?"right":"left":t.clientY>p.top+p.height/2?"bottom":"top";return{pos:a.pos,node:a.node,rect:p,side:x}},b=(e,t,n)=>{var r;if(!n)return null;let s=n.content.toJSON(),l=null==s?void 0:s[0];if(e.state.selection instanceof a.nh&&"smartLayout"===e.state.selection.node.type.name||!l||(null==l?void 0:l.type)!=="smartLayout")return null;let o=null==(r=l.attrs)?void 0:r.variantKey,c=e.posAtCoords({left:t.clientX,top:t.clientY});if(!c||-1==c.inside)return null;let{doc:u}=e.state,p=u.resolve(c.inside),h=(0,i.eL)(p,d.M);if(!h)return null;let g=e.nodeDOM(h.pos),m=null==g?void 0:g.getBoundingClientRect();return m?{pos:h.pos,node:h.node,variantKey:o,rect:m}:null},C=(e,t)=>{let n=(0,i.eL)(t,d.M);n&&e.commands.selectNodeAtPos(n.pos)}},91176:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var i=n(6029),a=n(55729),r=n(4097);let s=a.forwardRef((e,t)=>{let{onDragStart:n}=(0,r.c)(),a=e.as||"div";return(0,i.jsx)(a,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})})},91242:(e,t,n)=>{"use strict";n.d(t,{s:()=>function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{doc:s}=t,l=n<0;if(!t.nodeAfter)return null;if(t.nodeAfter.inlineContent)return a.LN.near(s.resolve(t.pos+(l?t.nodeAfter.content.size+1:0)),n);let o=(0,i.xe)(t.nodeAfter,e=>e.inlineContent||!r&&a.nh.isSelectable(e));if(!o||0===o.length)return a.nh.create(s,t.pos);let c=t.start(t.depth+1)+(l?o[o.length-1].pos:o[0].pos);return e(s.resolve(c),n)},t:()=>s});var i=n(37243),a=n(63867),r=n(62040);let s=(e,t)=>{var n;let i,a=e.doc,s=e.steps.length-1,l=e.steps[s];if(!l||!(l instanceof r.Ln||l instanceof r.Wg)||0===l.slice.content.size)return null;let o=t||(null==(n=l.slice.content.child(l.slice.openStart))?void 0:n.type.name);if(e.mapping.maps[s].forEach((e,t,n)=>{null==i&&(i=n)}),null==i)return null;let c=a.nodeAt(i);if(c&&c.type.name===o)return a.resolve(i);if(!o)return console.warn("[getInsertedNodePos] Error selecting node, type not found in slice.lastChild",i),null;for(let t=l.from;t<e.mapping.map(l.to);t++){let n=e.doc.nodeAt(t);if(n&&n.type.name===o)return a.resolve(t)}return null}},91655:(e,t,n)=>{"use strict";n.d(t,{gT:()=>el,Vo:()=>es,E1:()=>er});var i=n(51684),a=n(99492),r=n(77650),s=n(14816),l=n(57792),o=n(26194),c=n.n(o),d=n(78435),u=n.n(d),p=n(27002),h=n(52055),g=n(55597),m=n(23050);let x=()=>[{key:"autoComplete",name:()=>r.Ru._({id:"ZyVTQp"}),shortcut:m.Hb,nodeName:"paragraph",icon:g._$C,keywords:["continue","autocomplete","typeahead","complete","continue","ai"],execute:e=>{e.commands.autoComplete()},featureFlag:"aiAutocomplete",creditType:"autocomplete",needsConnection:!0},{key:"aiCardAfter",name:()=>r.Ru._({id:"yk2NpI"}),nodeName:"card",icon:g._$C,execute:e=>e.commands.insertCardAfter((0,h.G)().aiCardAfter),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"],needsConnection:!0}];var f=n(7957),b=n(21959),C=n(76083),y=n(70666);let v=()=>[{key:"barChartVertical",name:()=>r.Ru._({id:"kaIve5"}),icon:i.s67,chartType:"bar"},{key:"barChartHorizontal",name:()=>r.Ru._({id:"JXpNuP"}),icon:i.Mkm,chartType:"horizontal-bar"},{key:"lineChart",name:()=>r.Ru._({id:"Kt/Lzz"}),icon:i.gK3,chartType:"line"},{key:"pieChart",name:()=>r.Ru._({id:"5+y+OQ"}),icon:i.W1p,chartType:"pie"},{key:"donutChart",name:()=>r.Ru._({id:"DNipMm"}),icon:i.oDg,chartType:"donut"}].map(e=>({nodeName:"chart",keywords:["graph",e.chartType],featureFlag:"enableCharts",execute:t=>{t.chain().insertChart(e.chartType,!0).editSelectedChart().run()},dragStartFn:t=>{let n=(0,b.r4)();(0,C.fS)({editor:t,content:{type:"chart",attrs:{chartType:e.chartType,id:n,data:(0,y.$)(e.chartType)||{}}}})},dragEndFn:e=>{e.commands.editSelectedChart()},...e}));var w=n(9922),A=n.n(w),k=n(74355);let L={flywheel:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1024.2205225919886,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBqhkO1gaRDC33E9nLFRf",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Two</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:605.5691768594324,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LuxCoSOJiKidTHonK_r3y",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Four</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:811.2936767672497,y:332.49917028373386,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jNEccTSx5tCosurJ5Ot2M",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">One</h4>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:786.7936767672497,y:753.4464458368486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OUIb317WtLr7vTROMJmRY",type:"text",props:{color:"black",size:"m",w:145.68119328124112,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Three</h4>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:774.4554909171899,y:664.006697053962,rotation:3.141592653589793,isLocked:!1,opacity:1,meta:{},id:"shape:gOmdcWQlSymeyfc0iFv_H",type:"arrow",parentId:"page:page",index:"a8",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-143.39749318568477,y:299.6671450013758},end:{type:"point",x:-296.8596898701958,y:124.06206342608016},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:949.3708512974239,y:475.1522148190538,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FoSkoOljiovlpXtyepQ0L",type:"arrow",parentId:"page:page",index:"a8G",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-165.31582160993514,y:295.60684693665877},end:{type:"point",x:-292.70420767490987,y:127.69426010254801},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:749.9432407400066,y:507.6958283407593,rotation:4.555309347705199,isLocked:!1,opacity:1,meta:{},id:"shape:xJbFH6GE8sktyfodgK-9d",type:"arrow",parentId:"page:page",index:"a8V",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-141.06822675649278,y:304.84894107910753},end:{type:"point",x:-293.7665666504506,y:149.96506626343376},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:973.8831014746072,y:631.4630835322564,rotation:1.413716694115406,isLocked:!1,opacity:1,meta:{},id:"shape:98AlWuZ3MNJ8HXkw_0SX8",type:"arrow",parentId:"page:page",index:"a9",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-138.9882886080492,y:300.5849857402369},end:{type:"point",x:-290.8832143177716,y:128.98965564678986},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"}],assets:[],meta:{},width:420.44444444444446,svg:'<svg direction="ltr" width="530.6513457325561" height="483.94727555311476" viewBox="597.5691768594324 324.49917028373386 530.6513457325561 483.94727555311476" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1024.2205, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Two</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 605.5692, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Four</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.2937, 332.4992)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">One</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 786.7937, 753.4464)" opacity="1"><g><foreignObject width="146" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Three</h4></div></div></foreignObject></g></g><g transform="matrix(-1, 0, 0, -1, 774.4555, 664.0067)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_gOmdcWQlSymeyfc0iFv_H_clip"><rect x="-396.85968987019567" y="24.0620634260801" width="353.4621966845109" height="375.60508157529574" fill="white"></rect><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_gOmdcWQlSymeyfc0iFv_H_clip)"><rect x="-100" y="-100" width="353.4621966845109" height="375.60508157529574" fill="transparent" stroke="none"></rect><path d="M-143.39749318568477,299.6671450013758 A218.4976762338476 218.4976762338476 0 0 1 -296.8596898701958,124.06206342608016" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 949.3709, 475.1522)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_FoSkoOljiovlpXtyepQ0L_clip"><rect x="-392.70420767491" y="27.694260102547986" width="327.38838606497484" height="367.9125868341108" fill="white"></rect><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_FoSkoOljiovlpXtyepQ0L_clip)"><rect x="-100" y="-100" width="327.38838606497484" height="367.9125868341108" fill="transparent" stroke="none"></rect><path d="M-165.31582160993514,295.60684693665877 A181.55168626818823 181.55168626818823 0 0 1 -292.70420767490987,127.69426010254801" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(-0.1564, -0.9877, 0.9877, -0.1564, 749.9432, 507.6958)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_xJbFH6GE8sktyfodgK-9d_clip"><rect x="-393.7665666504507" y="49.96506626343373" width="352.69833989395795" height="354.88387481567383" fill="white"></rect><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_xJbFH6GE8sktyfodgK-9d_clip)"><rect x="-100" y="-100" width="352.69833989395795" height="354.88387481567383" fill="transparent" stroke="none"></rect><path d="M-141.06822675649278,304.84894107910753 A192.24158262862494 192.24158262862494 0 0 1 -293.7665666504506,149.96506626343376" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(0.1564, 0.9877, -0.9877, 0.1564, 973.8831, 631.4631)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_98AlWuZ3MNJ8HXkw_0SX8_clip"><rect x="-390.8832143177716" y="28.989655646789856" width="351.8949257097224" height="371.59533009344705" fill="white"></rect><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_98AlWuZ3MNJ8HXkw_0SX8_clip)"><rect x="-100" y="-100" width="351.8949257097224" height="371.59533009344705" fill="transparent" stroke="none"></rect><path d="M-138.9882886080492,300.5849857402369 A211.56192029954403 211.56192029954403 0 0 1 -290.8832143177716,128.98965564678986" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g></svg>'}},quadrant:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1074.82421875,y:229.03125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0ok4F6wp2WXfO_JbW55tI",type:"arrow",parentId:"page:page",index:"a1",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:0,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:869.5924737463713,y:27.95840719431982,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lfd5uMWVGIIFlwc_gfUf_",type:"arrow",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:400},end:{type:"point",x:400,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:1026.82421875,y:170.3671875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c4kLEFg-x_YebbalM4bbJ",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:1275.47265625,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rr2bWXVlRik_OTR3-Mzxb",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:770.2109375,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4nADMgFMClNzOAl0NqJsR",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1026.82421875,y:640.79296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pQUKVKJOu78f_j_B0Y1_-",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"}],assets:[],meta:{},width:434.6666666666667,svg:'<svg direction="ltr" width="617.26171875" height="533.42578125" viewBox="762.2109375 162.3671875 617.26171875 533.42578125" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1074.8242, 229.0313)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_0ok4F6wp2WXfO_JbW55tI_clip"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="white"></rect><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="none"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_0ok4F6wp2WXfO_JbW55tI_clip)"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="transparent" stroke="none"></rect><path d="M0,0L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 869.5925, 27.9584)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_lfd5uMWVGIIFlwc_gfUf__clip"><rect x="-99.99999999999991" y="299.8566231113604" width="610.4634900072574" height="202.2890625" fill="white"></rect><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="none"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_lfd5uMWVGIIFlwc_gfUf__clip)"><rect x="-100" y="-100" width="610.4634900072574" height="202.2890625" fill="transparent" stroke="none"></rect><path d="M410.46349000725746,402.1456856113604L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 170.3672)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1275.4727, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 770.2109, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 640.793)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g></svg>'}},venn:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1175.87109375,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YuAAYaKmNVXbxRM9Ym0z4",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:904.79296875,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ywvivjfUEJxH_FT8HCp6E",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:1040.3320312500002,y:270.0929726013588,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uoJ_xUvPbDuyBaVh94J02",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:1092.234375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W8BtDrKhUUa_fmB-YfrG4",type:"text",props:{color:"black",size:"m",w:108,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Expensive</p>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1282.02734375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLHXbsMOmu2pfYDmh7SMV",type:"text",props:{color:"black",size:"m",w:104,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Take time</p>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1185.5507812500002,y:689.046875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FJv1W-bQpfCY0dAUn_ezA",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:52,html:'<p class="paragraph">Low<br>quality</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1373.08984375,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tT7vEjVJGLo0tv18nWtJV",type:"text",props:{color:"black",size:"m",w:107,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Cheap</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:1017.1328125,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaQCyTxoxdrsvbDkqQV9C",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Fast</h3>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:1189.5507812500002,y:424.234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VAbhvBq-Ec1CIYnCjzhl2",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Good</h3>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"}],assets:[],meta:{},width:431.1111111111111,svg:'<svg direction="ltr" width="681.5156250000002" height="648.2953009459236" viewBox="896.7929687499998 262.3461014527175 681.5156250000002 648.2953009459236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1175.8711, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:YuAAYaKmNVXbxRM9Ym0z4" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 904.793, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:ywvivjfUEJxH_FT8HCp6E" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1040.332, 270.093)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:uoJ_xUvPbDuyBaVh94J02" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1092.2344, 547.4258)" opacity="1"><g><foreignObject width="109" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Expensive</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1282.0273, 547.4258)" opacity="1"><g><foreignObject width="105" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Take time</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1185.5508, 689.0469)" opacity="1"><g><foreignObject width="97" height="72"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Low<br>quality</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.0898, 705.6758)" opacity="1"><g><foreignObject width="108" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Cheap</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.1328, 705.6758)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Fast</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1189.5508, 424.2344)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Good</h3></div></div></foreignObject></g></g></svg>'}},calendarWeek:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:179.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:495.4840350809791,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:811.9055701619584,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1128.3271052429373,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SzwGSCVn7h1Uo_B_b-0jU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:1445.4682141660628,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAo_g6FQp9YK2JWBCaGMU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:832.3614242096944,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l_vkpYMsSpaE9s3TN_mKw",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Wed",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Wed</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1148.7829592906733,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cw9jJcIeB18UZCowlxx0A",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Thu",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Thu</h3>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1465.9240682137988,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvguEUBmR1u7tIdodua_7",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Fri",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Fri</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:204.97813786171344,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lqef5zWrrlQl9HENeGEnL",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Meeting with Jon",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Meeting with Jon</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aD",typeName:"shape"},{x:204.97813786171344,y:605.0019073645135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IgEYD45iYr1sSFMoAwbyu",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Team bonding",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team bonding</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDG",typeName:"shape"},{x:204.97813786171344,y:297.31890598073045,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qim4eNR90mSPnWlJh468S",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Checking emails",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Checking emails</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDV",typeName:"shape"},{x:1154.2427431046506,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IL-fsOSVuSRXre2dwItqj",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"HR meetings",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">HR meetings</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDZ",typeName:"shape"},{x:1154.2427431046506,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bH7UwVBlNxoEzsh_1zjen",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Onboarding new hire",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Onboarding new hire</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDb",typeName:"shape"},{x:521.3996729426926,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HAHtaenTwvKec_w0q3MVQ",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDd",typeName:"shape"},{x:1471.3838520277761,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ONsfQ5KbFBdZuwBMYOXz",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team happy hour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team happy hour</p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"aDe",typeName:"shape"},{x:1471.3838520277761,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ov9MLbM2hIPHiHbKtLXgq",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDf",typeName:"shape"},{x:1471.3838520277761,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JcWFs24GgyS_MNCWFyy4F",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Office tour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Office tour</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDg",typeName:"shape"},{x:837.8212080236717,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:avNg2b0XCoj-PSVRH9NqC",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"1:1 with Zach",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">1:1 with Zach</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDh",typeName:"shape"},{x:837.8212080236717,y:297.45150900814224,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B3hQTKLjKcuwSsT8VwJpR",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Company all hands",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Company all hands</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDj",typeName:"shape"},{x:837.8212080236717,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ew3E_uQg_oIqeazf2vqpP",type:"geo",props:{w:251,h:101.34061312191727,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Bugbashing diagrams V2 with eng team",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Bugbashing diagrams V2 with eng team</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDk",typeName:"shape"},{x:837.8212080236717,y:500.13645302107966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fg4fxWRIxgyovffXhHIzF",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Customer call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Customer call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkV",typeName:"shape"},{x:1154.2427431046506,y:211.51595163729678,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvbN_RGjDdrkdA1f5rsRd",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Vendor call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Vendor call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkl",typeName:"shape"},{x:204.97813786171344,y:381.1218603241642,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2vK8h6FMVleRUW2G9Od19",type:"geo",props:{w:251,h:121.0625,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Setup a call with our food vendor at the office in SF",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Setup a call with our food vendor at the office in SF</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDl",typeName:"shape"},{x:204.97813786171344,y:521.1989530210797,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9SYkhq44JuzFO637hB390",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:" Lunch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aDt",typeName:"shape"},{x:515.9398891287151,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDZcV2JidoSxClP0MxiaV",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Tue",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Tue</h3>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:199.518354047736,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tSOF89upJLNWmMbbVcY6R",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Mon",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Mon</h3>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"}],assets:[{meta:{},id:"asset:1703535279",type:"image",typeName:"asset",props:{name:"Screen Shot 2024-04-10 at 3.37.50 PM.png",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/b63db3d6baac4d469108cf61a4c7ee71/original/Screen-Shot-2024-04-10-at-3.37.50-PM.png",w:2842,h:1550,mimeType:"image/png",isAnimated:!1}},{meta:{},id:"asset:-1866522948",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/c494e974b8cc46b8910df2aa1a4051db/original/tldrawFile.png",w:3841,h:2161,mimeType:"image/png",isAnimated:!1}}],meta:{},width:null,svg:'<svg direction="ltr" width="1584.4018610418816" height="889.9095562737236" viewBox="171.0625 111.1171875 1584.4018610418816 889.9095562737236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 179.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 495.484, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.9056, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1128.3271, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:SzwGSCVn7h1Uo_B_b-0jU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1445.4682, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:IAo_g6FQp9YK2JWBCaGMU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 832.3614, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Wed</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1148.783, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Thu</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1465.9241, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Fri</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Meeting with Jon</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team bonding</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Checking emails</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">HR meetings</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Onboarding new hire</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:7ONsfQ5KbFBdZuwBMYOXz" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team happy hour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Office tour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">1:1 with Zach</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Company all hands</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="101.34061312191727"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Bugbashing diagrams V2 with eng team</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Customer call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Vendor call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="121.0625"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Setup a call with our food vendor at the office in SF</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 521.199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:9SYkhq44JuzFO637hB390" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 515.9399, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Tue</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 199.5184, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Mon</h3></div></div></foreignObject></g></g></svg>'}},calendarMonths:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:187.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:621.23828125,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:1055.4140625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1479.765625,y:227.52734375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:n-HH4IouUsStSFr3VNbU-",type:"line",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-4.6640625,y:22115642650533118e-29},a2:{id:"a2",index:"a2",x:-1292.703125,y:2220446049250313e-28}},shapeColor:null,strokeWidth:"none"},typeName:"shape"},{x:201.34708590770333,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BEBrp9VENbneWCEP9Z57D",type:"text",props:{color:"black",size:"m",w:389.55916409229667,text:"January",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">January</h3>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:631.6081020625556,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-3Bu-xyyud5-NY1mEsn_r",type:"text",props:{color:"black",size:"m",w:399.24346043744436,text:"February",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">February</h3>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1064.4140625,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:97V6hIrYPl_7kahzLVj4Y",type:"text",props:{color:"black",size:"m",w:397.96463853034425,text:"March",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">March</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:213.4453125,y:262.6015625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqEIx0gJpckN8eL0a3_eG",type:"geo",props:{w:377.57421875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Campaign brief",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Campaign brief</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a6",typeName:"shape"},{x:424.8515625,y:350.465234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L4SJqvXoG-EotQtRMTPY8",type:"geo",props:{w:242.98046875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Brainstorming idea",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Brainstorming idea</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a7",typeName:"shape"},{x:642.359375,y:438.32890625000005,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PsZHZLZu4_CVVyhnfMhV",type:"geo",props:{w:317.4921875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Pitching V1 draft",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Pitching V1 draft</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a8",typeName:"shape"},{x:801.10546875,y:526.192578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaTWbH01oHY5U8i7-0YWM",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team sync",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team sync</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a9",typeName:"shape"},{x:1017.24609375,y:614.05625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LTp09wJ7CZ4hmqxK3TqOs",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Product launch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Product launch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aA",typeName:"shape"},{x:1224.703125,y:701.919921875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRlBT-re2qFu7J2lowdkX",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"PR push",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">PR push</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[],meta:{},width:null,svg:'<svg direction="ltr" width="1304.0390625" height="693.9375" viewBox="179.0625 111.1171875 1304.0390625 693.9375" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 187.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 621.2383, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1055.4141, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1479.7656, 227.5273)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-4.66, 0L-1292.7, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 201.3471, 145.8679)" opacity="1"><g><foreignObject width="390.55916409229667" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">January</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 631.6081, 145.8679)" opacity="1"><g><foreignObject width="400.24346043744436" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">February</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1064.4141, 145.8679)" opacity="1"><g><foreignObject width="399" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">March</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 213.4453, 262.6016)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L373.5742,0 Q377.5742,0 377.5742,4 L377.5742,64.8086 Q377.5742,68.8086 373.5742,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:hqEIx0gJpckN8eL0a3_eG" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="377.57421875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Campaign brief</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 424.8516, 350.4652)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L238.9805,0 Q242.9805,0 242.9805,4 L242.9805,64.8086 Q242.9805,68.8086 238.9805,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:L4SJqvXoG-EotQtRMTPY8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="242.98046875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Brainstorming idea</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 642.3594, 438.3289)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L313.4922,0 Q317.4922,0 317.4922,4 L317.4922,64.8086 Q317.4922,68.8086 313.4922,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:5PsZHZLZu4_CVVyhnfMhV" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="317.4921875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Pitching V1 draft</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 801.1055, 526.1926)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:gaTWbH01oHY5U8i7-0YWM" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team sync</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.2461, 614.0562)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:LTp09wJ7CZ4hmqxK3TqOs" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="216.140625" height="68.80859375" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Product launch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1224.7031, 701.9199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:YRlBT-re2qFu7J2lowdkX" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">PR push</p></div></div></foreignObject></g></g></svg>'}},concentricCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:565.8710406141417,y:267.2348052328804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TAw6_9rfNRYvwwWYH_HCE",type:"geo",props:{w:477.70836857906545,h:477.70836857906545,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:616.0939715727751,y:367.685804457496,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EgzihrX9ISnR1IDnH3Nb-",type:"geo",props:{w:377.2573693544499,h:377.2573693544499,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:668.9469658115557,y:473.48237590821486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PjG3dFUaDsYRxpsyfV9pW",type:"geo",props:{w:271.5513808768887,h:271.5513808768887,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:710.2141277616566,y:556.2474435629489,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q-kyMkxhO2b6WeTH0ets_",type:"geo",props:{w:189.21399728645815,h:189.21399728645815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4",typeName:"shape"},{x:464.90514248458214,y:65.35157205630884,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j5viwZdfHENtGXtzpl0By",type:"geo",props:{w:679.628218169672,h:679.628218169672,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:510.91801733541865,y:157.35060141748204,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ktAwuZYMrly1jH7bcYmPU",type:"geo",props:{w:587.634481733614,h:587.634481733614,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0V",typeName:"shape"},{x:725.4037617637376,y:93.6328125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:arpSUqzdolhE3v92x2Hlg",type:"text",props:{color:"black",size:"m",w:159,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:698.7226562500001,y:191.5703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p4dDCuUjLEG9hLXieB7uX",type:"text",props:{color:"black",size:"m",w:211.83203125000003,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:698.7226562500001,y:300.83203125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQ2anr8KXqvDn1DTJJIM1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:698.7226562500001,y:410.09375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O77tcKAFokcE_JogX_h3n",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"},{x:698.7226562500001,y:497.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ku24cDrP5-0A12pFZdch1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aA",typeName:"shape"},{x:698.7226562500001,y:628.6171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bd8YnNb0vDeKdtlRMcNh_",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:360,svg:'<svg direction="ltr" width="695.4817604046791" height="695.5549853416027" viewBox="457.05160024957496 57.38818847034315 695.4817604046791 695.5549853416027" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 464.9051, 65.3516)" opacity="1"><g data-shape-type="geo"><path d="M0,339.814109084836a339.814109084836,339.814109084836,0,1,1,679.628218169672,0a339.814109084836,339.814109084836,0,1,1,-679.628218169672,0" width="679.628218169672" height="679.628218169672" id="shape:j5viwZdfHENtGXtzpl0By" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="679.4817604046791" height="679.5549853416026"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 510.918, 157.3506)" opacity="1"><g data-shape-type="geo"><path d="M0,293.817240866807a293.817240866807,293.817240866807,0,1,1,587.634481733614,0a293.817240866807,293.817240866807,0,1,1,-587.634481733614,0" width="587.634481733614" height="587.634481733614" id="shape:ktAwuZYMrly1jH7bcYmPU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="587.4668563326944" height="587.5506630553135"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 565.871, 267.2348)" opacity="1"><g data-shape-type="geo"><path d="M0,238.85418428953272a238.85418428953272,238.85418428953272,0,1,1,477.70836857906545,0a238.85418428953272,238.85418428953272,0,1,1,-477.70836857906545,0" width="477.70836857906545" height="477.70836857906545" id="shape:TAw6_9rfNRYvwwWYH_HCE" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="477.7083685790655" height="477.70836857906556"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 616.094, 367.6858)" opacity="1"><g data-shape-type="geo"><path d="M0,188.62868467722495a188.62868467722495,188.62868467722495,0,1,1,377.2573693544499,0a188.62868467722495,188.62868467722495,0,1,1,-377.2573693544499,0" width="377.2573693544499" height="377.2573693544499" id="shape:EgzihrX9ISnR1IDnH3Nb-" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="377.2573693544497" height="377.25736935444945"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 668.947, 473.4824)" opacity="1"><g data-shape-type="geo"><path d="M0,135.77569043844434a135.77569043844434,135.77569043844434,0,1,1,271.5513808768887,0a135.77569043844434,135.77569043844434,0,1,1,-271.5513808768887,0" width="271.5513808768887" height="271.5513808768887" id="shape:PjG3dFUaDsYRxpsyfV9pW" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="271.1891698494137" height="271.3702149305733"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 710.2141, 556.2474)" opacity="1"><g data-shape-type="geo"><path d="M0,94.60699864322908a94.60699864322908,94.60699864322908,0,1,1,189.21399728645815,0a94.60699864322908,94.60699864322908,0,1,1,-189.21399728645815,0" width="189.21399728645815" height="189.21399728645815" id="shape:q-kyMkxhO2b6WeTH0ets_" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="189.2139972864582" height="188.17746321153578" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 725.4038, 93.6328)" opacity="1"><g><foreignObject width="160" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 191.5703)" opacity="1"><g><foreignObject width="212.83203125000003" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 300.832)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 410.0938)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 497.0234)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 628.6172)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g></svg>'}},targetCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:929.6197161942252,y:155.0916582850458,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lyhoe8Jk5MAMoudOizb8X",type:"geo",props:{w:500.14804571219815,h:500.14804571219815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0G",typeName:"shape"},{x:967.92743672945,y:193.45976889185556,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RYOvVH5HKvjk5GXZojXEJ",type:"geo",props:{w:423.4118244985782,h:423.4118244985782,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0l",typeName:"shape"},{x:1007.5906901264586,y:233.06263221727892,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:guJhyRC2_2GgZ9f0HcNJR",type:"geo",props:{w:344.20609784773154,h:344.20609784773154,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1V",typeName:"shape"},{x:1043.7799729004403,y:269.2519149912604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:seEkM5XtC9yIw7hoXfdbS",type:"geo",props:{w:271.8275322997684,h:271.8275322997684,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2V",typeName:"shape"},{x:1081.7319672065987,y:307.3344023477454,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NS2ahjw0mGlpg-PMYOxM8",type:"geo",props:{w:195.6625575867985,h:195.6625575867985,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3V",typeName:"shape"},{x:1115.50785950286,y:340.94563257104426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3f1yjdcch_VMlWXK600PT",type:"geo",props:{w:128.4400971402006,h:128.4400971402006,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1073.6937390503244,y:381.6656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FLv65NIvaurbbxTQrE18",type:"text",props:{color:"black",size:"m",w:212,text:"Me",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"},{x:1381.0026472829704,y:173.17393949526377,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q6dHtLEQiLE4grg0RCM-A",type:"line",parentId:"page:page",index:"aC",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:2.417216937863941,y:7.723304968297555},a2:{id:"a2",index:"a2",x:-52.226471674030236,y:48.30663418059406}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:245.48057367585784,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6TsnoH4I7lC4eFh_jCVf",type:"line",parentId:"page:page",index:"aCV",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:48.001155258881184,y:41.665293041944466},a2:{id:"a2",index:"a2",x:-47.682312332765534,y:66.29026038484135}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1418.8041070476638,y:554.4103614129623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7iFyapJSWnC-Nj48trDz",type:"line",parentId:"page:page",index:"aCd",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:28.116150018295414,y:-27.85190422662322},a2:{id:"a2",index:"a2",x:-138.26659908197,y:-91.24836881350053}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:405.1656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UyPPQxh5Izzrta_PeC4Lv",type:"line",parentId:"page:page",index:"aCl",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:94.52397902306642,y:3674838211509268e-29},a2:{id:"a2",index:"a2",x:-62.28449928723883,y:3674838211509268e-29}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:680.9410126688012,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YvmG2cbsMv-yBAjUCLAZV",type:"line",parentId:"page:page",index:"aD",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-30.33301659894073,y:-34.31453399190673},a2:{id:"a2",index:"a2",x:-187.1016230443878,y:-198.11935311752904}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1456.428646134135,y:520.7240691140834,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EdTs6rzP02YRCn-NSSouG",type:"text",props:{color:"black",size:"m",w:190.61066381032765,text:"Friends",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:1373.8179823238074,y:633.1902718076452,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9DzQSxc3Xru2fKGSdFx16",type:"text",props:{color:"black",size:"m",w:191,text:"Family",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"},{x:1496.9281991809464,y:383.1656811411449,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKIjJjszvAlrkJQJfGUV1",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Acquaintances",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"aG",typeName:"shape"},{x:1451.2460195004435,y:263.4599680925235,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6a9zGihrEPKbWp0WyYFu",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Community",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"aH",typeName:"shape"},{x:1389.4198642208344,y:155.14109047464459,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tneIatSl5yj2J6kQLD4Hy",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Strangers",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"aI",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:534.2222222222222,svg:'<svg direction="ltr" width="788.1107737708712" height="538.0491813330007" viewBox="921.8174254100752 147.14109047464459 788.1107737708712 538.0491813330007" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 929.6197, 155.0917)" opacity="1"><g data-shape-type="geo"><path d="M0,250.07402285609908a250.07402285609908,250.07402285609908,0,1,1,500.14804571219815,0a250.07402285609908,250.07402285609908,0,1,1,-500.14804571219815,0" width="500.14804571219815" height="500.14804571219815" id="shape:Lyhoe8Jk5MAMoudOizb8X" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="499.9503364963482" height="500.04918133300066"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 967.9274, 193.4598)" opacity="1"><g data-shape-type="geo"><path d="M0,211.7059122492891a211.7059122492891,211.7059122492891,0,1,1,423.4118244985782,0a211.7059122492891,211.7059122492891,0,1,1,-423.4118244985782,0" width="423.4118244985782" height="423.4118244985782" id="shape:RYOvVH5HKvjk5GXZojXEJ" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="423.17913672789973" height="423.29546462452595"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1007.5907, 233.0626)" opacity="1"><g data-shape-type="geo"><path d="M0,172.10304892386577a172.10304892386577,172.10304892386577,0,1,1,344.20609784773154,0a172.10304892386577,172.10304892386577,0,1,1,-344.20609784773154,0" width="344.20609784773154" height="344.20609784773154" id="shape:guJhyRC2_2GgZ9f0HcNJR" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="343.9254156609416" height="344.0657281324484"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1043.78, 269.2519)" opacity="1"><g data-shape-type="geo"><path d="M0,135.9137661498842a135.9137661498842,135.9137661498842,0,1,1,271.8275322997684,0a135.9137661498842,135.9137661498842,0,1,1,-271.8275322997684,0" width="271.8275322997684" height="271.8275322997684" id="shape:seEkM5XtC9yIw7hoXfdbS" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="271.4649529254623" height="271.6461821185811"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1081.732, 307.3344)" opacity="1"><g data-shape-type="geo"><path d="M0,97.83127879339925a97.83127879339925,97.83127879339925,0,1,1,195.6625575867985,0a97.83127879339925,97.83127879339925,0,1,1,-195.6625575867985,0" width="195.6625575867985" height="195.6625575867985" id="shape:NS2ahjw0mGlpg-PMYOxM8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="195.1606169331522" height="195.41142609724233"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1115.5079, 340.9456)" opacity="1"><g data-shape-type="geo"><path d="M0,64.2200485701003a64.2200485701003,64.2200485701003,0,1,1,128.4400971402006,0a64.2200485701003,64.2200485701003,0,1,1,-128.4400971402006,0" width="128.4400971402006" height="128.4400971402006" id="shape:3f1yjdcch_VMlWXK600PT" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="127.72281225789044" height="128.08095257852762" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1073.6937, 381.6657)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1381.0026, 173.1739)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M2.42, 7.72L-52.23, 48.31" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 245.4806)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M48, 41.67L-47.68, 66.29" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1418.8041, 554.4104)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M28.12, -27.85L-138.27, -91.25" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 405.1657)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M94.52, 0L-62.28, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 680.941)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-30.33, -34.31L-187.1, -198.12" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1456.4286, 520.7241)" opacity="1"><g><foreignObject width="191" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.818, 633.1903)" opacity="1"><g><foreignObject width="192" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1496.9282, 383.1657)" opacity="1"><g><foreignObject width="206" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1451.246, 263.46)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1389.4199, 155.1411)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Strangers</p></div></div></foreignObject></g></g></svg>'}}},j={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Gantt.63fb5eea.svg",height:96,width:253,blurWidth:0,blurHeight:0},E={src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/Kanban.fa47adcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},S=()=>[{key:"diagram",name:()=>r.Ru._({id:"G1q1hG"}),keywords:["sketch","drawing","shapes","diagram","canvas","freeform"],shortcut:"/diagram"},{key:"calendarWeek",name:()=>r.Ru._({id:"ToE1YL"}),keywords:["week","days","calendar","diagram","kanban","schedule","timeline"],icon:i.aXh,previewImage:E},{key:"calendarMonths",name:()=>r.Ru._({id:"jIipv0"}),keywords:["month","days","calendar","diagram","kanban","schedule","gantt chart","timeline"],icon:i.nKW,previewImage:j}].map(e=>{let t="diagram"===e.key?{type:"diagram",attrs:{}}:L[e.key];return{nodeName:"diagram",icon:i.qTS,...e,execute:e=>{let n=(0,k.rZ)(),i=A()(t);i.attrs.id=n,(0,k.CD)(n,!0),e.commands.insertContent(i)},dragStartFn:e=>{let n=(0,k.rZ)(),i=A()(t);i.attrs.id=n,(0,k.CD)(n,!0),(0,C.fS)({editor:e,content:i})}}}).filter(e=>!!e);var M=n(89603),I=n(24903),_=n(90278),D=n(29452),R=n.n(D),T=n(17633);let z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return[T.w.heading(r.Ru._({id:"HX5SVx"}),{level:e}),T.w.paragraph(r.Ru._({id:"Nu4oKW"}))]},H=()=>({wrapperOptions:{gridStyle:"flex_grid",spacing:"small"},gridItems:R()(3).map(()=>({type:"gridItem",content:z(),attrs:{options:{cellStyle:"solid"}}})),key:"solidBoxes",name:()=>r.Ru._({id:"WVLG60"}),keywords:["solid","boxes","grid","filled","text boxes"],description:()=>r.Ru._({id:"fN02hl"}),icon:i.Nfw}),N=()=>[H()],B=e=>{let{key:t,name:n,keywords:i,description:a,icon:r,featureFlag:s,wrapperOptions:l,gridItems:o}=e,c={type:"grid",attrs:{options:l},content:o};return{key:"grid-".concat(t),name:n,keywords:[...i,"grid"],description:a,nodeName:"grid",icon:r,execute:e=>{e.chain().focus().insertContentAndSelect(c).run()},dragStartFn:e=>(0,C.fS)({editor:e,content:c}),dragEndFn:e=>{(0,_.tN)(e,e.state.selection.$from)},featureFlag:s||"gridNode"}},P=()=>N().map(B);var F=n(91656),V=n(55786),O=n(89703),Z=n(64234);let W=()=>Object.entries(Z.Fn).filter(e=>{let[t,n]=e;return n.nodeName&&!n.disabled}).map(e=>{let[t,n]=e;return{key:t,name:n.label,nodeName:n.nodeName||"mediaPlaceholder",execute:e=>e.commands.insertMediaBlock(n.key),dragStartFn:e=>{(0,V.f)({editor:e,content:{type:"mediaPlaceholder",attrs:{source:n.key}}})},dragEndFn:()=>{(0,O.G)()},description:n.description,icon:n.icon,image:n.image,testId:n.key,keywords:n.keywords,featureFlag:n.featureFlag,priority:n.priority,categories:n.categories,checkDisabled:n.checkDisabled,badge:n.badge}}),U=["venn","rings","bullseye","ribbon_arrows","ideas","inputs","quadrants","swoosh","versus","infinity","square_arrows","puzzle","bubble_steps","nested_diamond","packed_circles","pinwheel","iceberg","slope","arrow_bars","hot_air_balloons","circle_hero_pic","solar_system","signs","bar_chart_image","text_box_collage","concentric_circles","funnel_3d","road","isometric_building","isometric_globe","isometric_dashed_squares","gears","pillar","orbit","circle_post_it","blobby_image","zig_zag_image","round_rect_and_square_image","oval_stroke_image","left_rounded_edge_rect_image","leaf_image","abstract_shape_image_1","abstract_shape_image_2","abstract_shape_image_3","image_arc","accent_circle","semi_circle"];var G=n(56939),K=n(14389),Q=n(98088),q=n(13357);let J=(e,t)=>{let{label:n,icon:a,defaultColorScheme:r,previewImage:s,defaultData:l,defaultWidth:o}=t,c="smart-diagram-".concat(e),d=()=>({templateKey:e,id:(0,Q.z)(),data:{...l?l():{},colorScheme:r},horizontalAlign:"center",width:o?o*K.St:void 0}),u=t=>{let n=U.includes(e),i=d();if(n&&t){let e=(0,q.YR)(t);return{type:"smartDiagram",attrs:{...i,...e}}}return{type:"smartDiagram",attrs:i}};return{key:c,name:n,nodeName:"smartDiagram",icon:null!=a?a:i.qTS,previewImage:s,featureFlag:"smartDiagrams",keywords:["diagram","smart"],execute:t=>{t.chain().focus().insertSmartDiagram({attrs:d(),allowGeneration:U.includes(e)}).run()},dragStartFn:e=>(0,C.fS)({editor:e,content:u(e)}),dragEndFn:t=>{if(U.includes(e)){let{state:e}=t,{selection:n}=e,i=n.from;requestAnimationFrame(()=>{(0,q.BX)(t,e,i)})}}}},$=()=>Object.entries(G.cy).filter(e=>{let[t,n]=e;return!n.disabled&&(void 0===n.featureFlag||p.of.get(n.featureFlag))}).map(e=>{let[t,n]=e;return J(t,n)}),Y=()=>Object.entries(G.Nl).filter(e=>{let[t,n]=e;return!n.disabled&&(void 0===n.featureFlag||p.of.get(n.featureFlag))}).map(e=>{let[t,n]=e;return J(t,n)});var X=n(11215),ee=n(55860),et=n(53891);let en=()=>[{key:"toggle",name:()=>r.Ru._({id:"JFciKP"}),description:()=>r.Ru._({id:"Woijyj"}),keywords:["toggle","expand","collapse","disclosure","details"],nodeName:"toggle",icon:i.ijD,execute:e=>{let t=(0,ee.n)();(0,et.bG)(t,!0),e.chain().insertContent({...(0,h.G)().toggle,attrs:{id:t}}).selectInsertedNode().run()},dragStartFn:e=>{let t=(0,ee.n)();(0,et.bG)(t,!0),(0,V.f)({editor:e,content:{...(0,h.G)().toggle,attrs:{id:t}}})}}];var ei=n(15607);let ea=()=>[{key:"insertCardAfter",name:()=>r.Ru._({id:"coNSGP"}),nodeName:"card",icon:i.UiS,execute:e=>e.commands.insertCardAfter(),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"]},{key:"insertCardInside",name:()=>r.Ru._({id:"lOmsEK"}),nodeName:"card",icon:i.ViY,execute:e=>e.commands.insertNestedCard(),checkDisabled:e=>!e.schema.nodes.card,keywords:["nested","card","sub"]},{key:"splitCard",name:()=>r.Ru._({id:"ONXbeB"}),nodeName:"card",icon:i.ufr,shortcut:"***",execute:e=>e.commands.splitCardAtSelection(),checkDisabled:e=>!e.schema.nodes.card,dragStartFn:e=>{(0,V.f)({editor:e,content:(0,h.G)().normalText})},dragEndFn:e=>{e.chain().splitCardAtSelection().focusDelayed().run()},keywords:["split"]},{key:"title",name:()=>r.Ru._({id:"XxGz2W"}),nodeName:"title",icon:a.jwR,shortcut:"! Title",execute:e=>{e.chain().focus().setFontSize("title").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"title"),keywords:["title","large"]},{key:"display",name:()=>r.Ru._({id:"ySF22d"}),nodeName:"title",icon:a.jwR,shortcut:"!! Title",execute:e=>{e.chain().focus().setFontSize("titleLg").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"title"),keywords:["display","large"]},{key:"monster",name:()=>r.Ru._({id:"+nhv+2"}),nodeName:"title",icon:a.jwR,shortcut:"!!! Ahhhh",execute:e=>{e.chain().focus().setFontSize("titleXl").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"title"),keywords:["monster","huge"]},{key:"h1",name:()=>r.Ru._({id:"lXKZGw"}),nodeName:"heading",icon:i.RDv,shortcut:"# Heading 1",execute:e=>{e.chain().focus().setFontSize("h1").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"heading"),keywords:["heading","h1"]},{key:"smallText",name:()=>r.Ru._({id:"LBkaLa"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/sm",execute:e=>{e.chain().focus().setFontSize("sm").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"body"),keywords:["sm","small","paragraph"]},{key:"normalText",name:()=>r.Ru._({id:"5NwZ8t"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/md",execute:e=>{e.chain().focus().setFontSize("md").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"body"),keywords:["md","normal","paragraph","default","body"]},{key:"largeText",name:()=>r.Ru._({id:"0Sz17G"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/lg",execute:e=>{e.chain().focus().setFontSize("lg").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"body"),keywords:["lg","large","paragraph"]},{key:"h2",name:()=>r.Ru._({id:"El7NbA"}),nodeName:"heading",icon:i.K1h,shortcut:"## Heading 2",execute:e=>{e.chain().focus().setFontSize("h2").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"heading"),keywords:["heading","h2"]},{key:"h3",name:()=>r.Ru._({id:"SFN6dN"}),nodeName:"heading",icon:i.Dn6,shortcut:"### Heading 3",execute:e=>{e.chain().focus().setFontSize("h3").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"heading"),keywords:["heading","h3"]},{key:"h4",name:()=>r.Ru._({id:"nJeKmw"}),nodeName:"heading",icon:i.wLS,shortcut:"#### Heading 4",execute:e=>{e.chain().focus().setFontSize("h4").run()},checkDisabled:(e,t)=>!!t&&!(0,ei.zi)(e,"heading"),keywords:["heading","h4"]},{key:"openEmojiPicker",name:()=>r.Ru._({id:"tKlWWY"}),nodeName:"emoji",icon:a.H82,execute:e=>e.commands.openEmojiPicker(),keywords:["symbol","emoji"]},{key:"bulletedList",name:()=>r.Ru._({id:"ynb7Kh"}),nodeName:F.e.Bullet,icon:i.pch,shortcut:"- Item",execute:e=>{e.chain().setListItems({variant:F.e.Bullet}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,ei.aq)(e,F.e.Bullet),keywords:["bullets","unordered","ul","list"]},{key:"numberedList",name:()=>r.Ru._({id:"M3G9ZD"}),nodeName:F.e.Numbered,icon:i.Tsj,shortcut:"1. Item",execute:e=>{e.chain().setListItems({variant:F.e.Numbered}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,ei.aq)(e,F.e.Numbered),keywords:["numbers","numbered","ordered","ol","list"]},{key:"todoList",name:()=>r.Ru._({id:"rCIbrq"}),nodeName:F.e.Todo,icon:i.AgW,shortcut:"[] Item",execute:e=>{e.chain().setListItems({variant:F.e.Todo}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,ei.aq)(e,F.e.Todo),keywords:["todo","task","checkbox","list","checklist"]},{key:"blockquote",name:()=>r.Ru._({id:"OLMhPm"}),nodeName:"blockquote",icon:i.R9H,shortcut:"> Quote",execute:e=>e.chain().focus().toggleBlockquote().run(),keywords:["quote","blockquote"]},...(0,f.A3)(),{key:"buttonGroup",name:()=>r.Ru._({id:"hxBFty"}),nodeName:"buttonGroup",icon:i.A8r,execute:e=>e.commands.insertContentAndSelect((0,h.G)().buttonGroup),description:()=>r.Ru._({id:"IvDo5O"}),keywords:["button","link","click","call to action"]},{key:"codeBlock",name:()=>r.Ru._({id:"4A3Yzu"}),nodeName:"codeBlock",icon:i.jTw,shortcut:"```",execute:e=>{e.chain().focus().setCodeBlock().run()},keywords:["code","block","codeblock"]},{key:"mathBlock",name:()=>r.Ru._({id:"TI6GY9"}),nodeName:"math_display",featureFlag:"math",icon:i.YLF,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertContent((0,h.G)().mathBlock).run(),dragEndFn:()=>{},description:()=>r.Ru._({id:"mBJFYh"})},{key:"mathInline",name:()=>r.Ru._({id:"qc9cD+"}),featureFlag:"math",nodeName:"math_inline",icon:i.Dkf,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertMathInline().run(),shortcut:"$x^2$ "},{key:"table2",name:()=>r.Ru._({id:"3gSgpL"}),keywords:["table","grid","data"],nodeName:"table",shortcut:"/table",icon:i.w97,execute:e=>e.commands.insertTable({rows:2,cols:2,withHeaderRow:!1})},{key:"table3",name:()=>r.Ru._({id:"ZjN50+"}),keywords:["table","grid","data"],nodeName:"table",icon:i.w97,execute:e=>e.commands.insertTable({rows:3,cols:3,withHeaderRow:!1})},{key:"table4",name:()=>r.Ru._({id:"64S2d0"}),keywords:["table","grid","data"],nodeName:"table",icon:i.w97,execute:e=>e.commands.insertTable({rows:4,cols:4,withHeaderRow:!1})},{key:"columns2",name:()=>r.Ru._({id:"vVJ2/D"}),keywords:["columns","layout","grid","two"],nodeName:"gridLayout",shortcut:"/columns",icon:i.oZz,execute:e=>e.commands.insertLayout(2)},{key:"columns3",name:()=>r.Ru._({id:"OnuuaA"}),keywords:["columns","layout","grid","three"],nodeName:"gridLayout",icon:i.oZz,execute:e=>e.commands.insertLayout(3)},{key:"columns4",name:()=>r.Ru._({id:"hexbw8"}),keywords:["columns","layout","grid","four"],nodeName:"gridLayout",icon:i.oZz,execute:e=>e.commands.insertLayout(4)},{key:"contributors",name:()=>r.Ru._({id:"YqsXfH"}),nodeName:"contributors",icon:i.hP6,execute:e=>e.commands.insertContentAndSelect((0,h.G)().contributors),keywords:["contributors","authors","credits"]},{key:"divider",name:()=>r.Ru._({id:"R8AthW"}),nodeName:"divider",icon:i.adM,keywords:["hr","rule","line","divider"],shortcut:"---",execute:e=>e.commands.insertContentAndSelect((0,h.G)().divider)},{key:"tableOfContents",name:()=>r.Ru._({id:"9FTolD"}),nodeName:"tableOfContents",icon:i.o97,execute:e=>e.commands.insertContentAndSelect((0,h.G)().tableOfContents,-1),keywords:["toc","contents"]},{key:"gallery",name:()=>r.Ru._({id:"U+kFad"}),description:()=>r.Ru._({id:"GqdREM"}),nodeName:"gallery",shortcut:"/gallery",icon:i.Qyz,keywords:["gallery","image","layout","filmstrip","carousel"],execute:e=>e.commands.insertContentAndSelect((0,h.G)().gallery)},{key:"logo",name:()=>r.Ru._({id:"YkFus/"}),description:()=>r.Ru._({id:"YRtGxa"}),nodeName:"gallery",shortcut:"/logos",icon:i.a8v,keywords:["logo","logos","gallery"],execute:e=>e.chain().insertContentAndSelect((0,h.G)().logoGallery).run()},{key:"footnote",name:()=>r.Ru._({id:"dOxPd4"}),nodeName:"footnote",shortcut:"^note^",icon:i.sxe,execute:e=>{let t=(0,M.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,M.Wj)(t,!0),e.commands.insertContent(n)},dragStartFn:e=>{let t=(0,M.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,M.Wj)(t,!0),(0,V.f)({editor:e,content:n})},checkDisabled:I.Q,keywords:["footnote","note","reference"]},{key:"insertDate",name:()=>r.Ru._({id:"mYGY3B"}),nodeName:"paragraph",icon:i.okg,execute:e=>{let t=(0,s.A)(new Date,"PPP",{locale:l.A});e.chain().focus().insertContent(t).run()},shortcut:"/date",featureFlag:"insertDate",keywords:["date","today","current"]},...v(),...en(),...W(),...(0,X.WP)(),...P(),...S(),...$(),...Y(),...x()],er=()=>c()(ea(),e=>e.priority),es=()=>u()(ea(),"key"),el=function(e,t){var n;let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!(t.needsConnection&&a||t.featureFlag&&!p.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e,i)))||!!i&&!(0,ei.Bi)(e,t.nodeName)}},91792:(e,t,n)=>{"use strict";n.d(t,{Kt:()=>v,PJ:()=>E,_k:()=>j,iW:()=>A,n_:()=>L,rd:()=>w});var i=n(6029),a=n(74771),r=n(46898),s=n(26420),l=n(80314),o=n(35605),c=n(19564),d=n(77650),u=n(55729),p=n(91938),h=n(88586),g=n(27002);n(51567);var m=n(25778),x=n(99552),f=n(95695),b=n(62452),C=n(43634),y=n(42721);n(51737);let v=e=>{let{docId:t,editor:n}=e,[i]=(0,h.LTv)();return{updateDocThemeWithAccentImages:(0,u.useCallback)(async e=>{if(t)return i({variables:{id:t,themeId:e}}).then(e=>{let{data:t}=e;if(n){var i,a;n.commands.updateThemeAccentImages(null==t||null==(a=t.updateDoc)||null==(i=a.theme)?void 0:i.config.accentBackgrounds)}})},[t,n,i])}},w=()=>{let e=(0,m.GV)(C.SJ),t=(0,m.GV)(x.JN);return t?(0,b.Mw)(t):!!e&&(0,b.Mw)(e)},A=e=>{let{theme:t}=e,n=(0,r.d)(),[i]=(0,h.$KX)(),a=t.name.replace(f.M8,"");return(0,u.useCallback)(()=>{t&&t.id&&(n.close("archive-theme-toast"),i({variables:{id:t.id},update:(e,n)=>{let{data:i}=n;(null==i?void 0:i.unarchiveTheme)&&e.writeQuery({query:h.a83,variables:{workspaceId:t.workspaceId,archived:!1},data:{themes:[i.unarchiveTheme]}})},optimisticResponse:{unarchiveTheme:{__typename:"Theme",...t,archived:!1,updatedTime:new Date().toISOString()}},refetchQueries:["GetThemes"]}).then(()=>{n({id:"unarchive-theme-toast",title:d.Ru._({id:"QFw1At",values:{displayName:a}}),status:"success",duration:3e3,position:"top",isClosable:!0})}).catch(e=>{console.error("Couldn't restore theme ".concat(a," error: ").concat(e))}))},[i,t,n,a])},k=e=>{let{showLinkToDashboard:t,unarchiveTheme:n}=e;return t?(0,i.jsx)(s.a,{children:(0,i.jsx)(c.x6,{id:"1jSYVL",components:{0:(0,i.jsx)(l.N,{textDecoration:"underline",isExternal:!0,href:f.fr}),1:(0,i.jsx)(a.p,{mx:"2px"}),2:(0,i.jsx)(l.N,{textDecoration:"underline",as:l.N,variant:"link",onClick:n})}})}):(0,i.jsx)(s.a,{children:(0,i.jsx)(c.x6,{id:"HFliJ0",components:{0:(0,i.jsx)(l.N,{textDecoration:"underline",as:l.N,variant:"link",onClick:n})}})})},L=e=>{let{theme:t,showLinkToDashboard:n=!1}=e,a=(0,r.d)(),[s]=(0,h.UFu)(),l=A({theme:t}),o=t.name.replace(f.M8,"");return(0,u.useCallback)(()=>{t&&t.id&&s({variables:{id:t.id},update:(e,n)=>{let{data:i}=n;(null==i?void 0:i.archiveTheme)&&e.writeQuery({query:h.a83,variables:{workspaceId:t.workspaceId,archived:!1},data:{themes:[i.archiveTheme]}})},optimisticResponse:{archiveTheme:{__typename:"Theme",...t,archived:!0,updatedTime:new Date().toISOString()}},refetchQueries:["GetThemes"]}).then(()=>{let e=t.name;a({id:"archive-theme-toast",title:d.Ru._({id:"TEDDwv",values:{themeName:e}}),description:(0,i.jsx)(k,{showLinkToDashboard:n,unarchiveTheme:l}),status:"success",duration:3e3,position:"top",isClosable:!0})}).catch(e=>{console.error("Couldn't archive theme ".concat(o," error: ").concat(e))})},[t,s,a,n,l,o])},j=e=>{let{isGammaOrgUser:t}=(0,y.ur)(),n=null!==e.workspaceId&&t&&"production"!==p.$.APPLICATION_ENVIRONMENT&&!e.archived,[i]=(0,h.$hA)(),a=(0,u.useCallback)(()=>{if(!n)return;let t=prompt("Enter new theme ID",(0,o.Fw)(e.name));t&&i({variables:{id:e.id,newId:t},refetchQueries:["GetThemes"]})},[e,i,n]);return{canMakeStandard:n,convertToStandard:a}},E=(e,t)=>{let{isGammaOrgUser:n}=(0,y.ur)(),i=(0,g.u)("uploadThemeImagesToProd");return n&&i&&"themeBackground"===t?{orgId:"theme_images/standard",templateId:p.$.TRANSLOADIT_THEME_IMAGE_TEMPLATE_ID,useStandardThemeBucket:!0}:{orgId:e,templateId:void 0,useStandardThemeBucket:!1}}},92198:(e,t,n)=>{"use strict";n.d(t,{H:()=>y});var i=n(6029),a=n(78140),r=n(36999),s=n(49611),l=n(33787),o=n(26420),c=n(12514),d=n(41283),u=n(37930),p=n(48478),h=n(40452),g=n(74676),m=n(99492),x=n(48621),f=n(55729),b=n(27002),C=n(64234);let y=f.memo(e=>{var t;let{currentSource:n,onChange:f,isValidSource:y}=e,v=null==n||null==(t=n.image)?void 0:t.src,w=(0,b.mt)();return(0,i.jsxs)(a.W,{children:[(0,i.jsx)(r.I,{as:s.$,w:"100%",textAlign:"start",rightIcon:(0,i.jsx)(x.g,{icon:m.Jt$}),leftIcon:v?(0,i.jsx)(l._,{h:"1em",w:"1em",objectFit:"cover",src:v}):(null==n?void 0:n.icon)?(0,i.jsx)(x.g,{icon:null==n?void 0:n.icon,color:"var(--chakra-colors-trueblue-600)",fixedWidth:!0}):void 0,mb:4,"data-testid":"media-drawer-menu-button",flexShrink:"0",children:(0,i.jsx)(o.a,{noOfLines:1,wordBreak:"break-all",overflowX:"hidden",textOverflow:"ellipsis",children:(null==n?void 0:n.label())||"Source"})}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.c,{zIndex:"modalPopover",maxH:"60vh",overflowY:"auto",pos:"relative","data-media-drawer-menu":!0,children:Object.entries(C.jU).map(e=>{var t;let[a,r]=e,s=r.filter(e=>!(e.checkDisabled&&e.checkDisabled())&&!e.disabled&&(!e.featureFlag||!!w[e.featureFlag])&&y(e));return 0===s.length?null:(0,i.jsx)(u.i,{title:null!=(t=C.K4[a]())?t:a,type:"radio",onChange:f,value:null==n?void 0:n.key,children:s.map(e=>{let{label:t,key:n,icon:a,image:r,badge:s}=e;return(0,i.jsx)(p.k,{value:n,children:(0,i.jsxs)(h.s,{direction:"row",align:"center",children:[r?(0,i.jsx)(l._,{display:"inline",marginInlineEnd:2,h:"1em",w:"1em",objectFit:"contain",src:r.src}):a?(0,i.jsx)(o.a,{display:"inline",marginInlineEnd:2,color:"trueblue.600",children:(0,i.jsx)(x.g,{icon:a})}):(0,i.jsx)(i.Fragment,{}),t(),s&&(0,i.jsx)(g.E,{marginInlineStart:2,colorScheme:"green",children:s()})]})},n)})},a)})})})]})});y.displayName="MediaDrawerMenu"},92377:(e,t,n)=>{"use strict";n.d(t,{O:()=>ep});var i=n(6029),a=n(16936),r=n(57405),s=n(72470),l=n(77979),o=n(26420),c=n(38036),d=n(83638),u=n(25223),p=n(99492),h=n(48621),g=n(33170),m=n(19564),x=n(77650),f=n(77850),b=n(30361),C=n.n(b),y=n(55729),v=n(82328),w=n(80180),A=n(11403),k=n(78140),L=n(36999),j=n(49611),E=n(12514),S=n(41283),M=n(37930),I=n(48478),_=n(48810),D=n(55597);let R={label:()=>x.Ru._({id:"DAmK+T"}),key:"All",description:()=>x.Ru._({id:"Zz/1wq"})},T=[R,{label:()=>x.Ru._({id:"10G8Kb"}),key:"Share",description:()=>x.Ru._({id:"EVNJ2h"})},{label:()=>x.Ru._({id:"SjDzTh"}),key:"ShareCommercially",description:()=>x.Ru._({id:"DHhpJP"})}],z=R.key,H=e=>{var t;return null==(t=T.find(t=>t.key===e))?void 0:t.label()},N=e=>{let{value:t=z,onChange:n}=e;return(0,i.jsxs)(k.W,{children:[(0,i.jsx)(L.I,{w:"100%",as:j.$,boxShadow:"sm",size:"sm",variant:"plain",rightIcon:(0,i.jsx)(h.g,{icon:D.Jt$}),textAlign:"start",children:H(t)}),(0,i.jsx)(E.Z,{children:(0,i.jsx)(S.c,{zIndex:"tooltip",w:"350px",children:(0,i.jsx)(M.i,{type:"radio",w:"100%",defaultValue:R.key,value:t,onChange:e=>n(e),children:T.map(e=>{let{key:t,label:n,description:a}=e;return(0,i.jsxs)(I.k,{value:t,children:[n(),(0,i.jsx)(_.E,{fontSize:"sm",color:"gray.400",children:a()})]},t)})})})})]})};var B=n(91938),P=n(45666),F=n(20196),V=n(67097);let O=e=>(0,y.useCallback)(t=>{fetch("".concat(B.$.API_HOST||"","/media/images/track"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,id:t.id})})},[e]),Z=e=>{let{provider:t,enablePagination:n,resultsPerPage:i}=e,[a,r]=(0,y.useState)(""),[s,l]=(0,y.useState)([]),[o,c]=(0,y.useState)(!1),[d,u]=(0,y.useState)(!1),[p,h]=(0,y.useState)(1),[g,m]=(0,y.useState)("All"),x=(0,y.useRef)(g),[f,b]=(0,y.useState)(0),C=n&&s.length>0&&p<6&&f===i,v=(0,y.useCallback)(async(e,n)=>{c(!0),u(!1);try{let a={license:x.current,page:n,gammaFeature:"mediaDrawer"};"bing"===t&&(a.minWidth=F.s.minWidth,a.maxWidth=F.s.maxWidth);let r=await (0,P.g)({query:e,count:i,provider:t,options:a});if(c(!1),!((null==r?void 0:r.length)>=0))throw Error("No images found");let s=r.filter(e=>(0,V.zk)(e.imageUrl));b(s.length),l(e=>e.concat(s))}catch(e){u(!0),c(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[t,i]),w=(0,y.useCallback)(e=>{l([]),b(0),h(1),r(e),v(e,1)},[v]),A=(0,y.useCallback)(()=>{v(a,p+1),h(p+1)},[v,a,p]),k=(0,y.useCallback)(()=>{r(""),l([]),h(1),b(0)},[]),L=(0,y.useCallback)(e=>{m(e),x.current=e,k(),w(a)},[k,w,a]);return{search:w,isLoading:o,loadMore:A,canLoadMore:C,hasError:d,imageResults:s,resetResults:k,searchQuery:a,license:g,updateLicense:L}};var W=n(40452),U=n(64268),G=n(51504),K=n(83743),Q=n(69388),q=n(41781),J=n(29452),$=n.n(J),Y=n(38420),X=n(8327),ee=n(33787),et=n(1139),en=n(53996),ei=n(80314);let ea=(0,y.memo)(e=>{let{image:t,isSelected:n,onImageClick:a,resizeThumbnail:r}=e,s=r?(0,V.Ub)(t.thumbnailUrl,V.XS):t.thumbnailUrl;return(0,i.jsxs)(j.$,{borderRadius:"base",overflow:"hidden",display:"block",variant:"ghost",width:"100%",opacity:1,textAlign:"left",pos:"relative",p:0,minH:"auto",h:"auto",_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>a(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},"data-testid":"image-search-grid-item",children:[(0,i.jsx)(ee._,{w:"100%",src:s,fallback:(0,i.jsx)(q.E,{height:"120px",borderRadius:"base"})}),(0,i.jsx)(et.z,{in:n,children:(0,i.jsx)(o.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,i.jsx)(en.o,{h:"100%",w:"100%",children:(0,i.jsx)(h.g,{icon:p.e68})})})}),!t.thumbnailUrl&&(0,i.jsx)(Q.E,{width:"100%",children:(0,i.jsx)(q.E,{height:"80px",borderRadius:"base"})}),(0,i.jsxs)(o.a,{left:0,right:0,bottom:0,p:2,pos:"absolute",color:"white",fontSize:"xs",textOverflow:"ellipsis",overflow:"hidden",bg:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%)",borderBottomRadius:"base",className:"attribution-container",opacity:0,transitionProperty:"common",transitionDuration:"normal",children:[t.attributionUrl&&t.credit&&(0,i.jsx)(g.Tz,{label:t.credit,placement:"left",children:(0,i.jsx)(ei.N,{mr:1,target:"_blank",rel:"noopener noreferrer",href:t.attributionUrl,tabIndex:-1,children:(0,i.jsx)(h.g,{transform:"shrink-4",icon:p.AaJ})})}),t.credit]})]})});ea.displayName="ImageSearchGridItem";let er=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:a,provider:r,imageResults:s,isLoading:l,canLoadMore:c,loadMore:d,hasError:u,resultsPerPage:p,resizeThumbnails:h}=e,g=O(r),x=(0,y.useCallback)(e=>{g(e),a((0,X.TF)(e,t,r))},[r,t,g,a]),f=s.map(e=>{let t=e.imageUrl.split("?")[0],a=n&&n.split("?")[0];return(0,i.jsx)(ea,{provider:r,image:e,isSelected:t===a,onImageClick:x,resizeThumbnail:h},e.id)});return(0,i.jsxs)(W.s,{direction:"column",align:"stretch",children:[l&&0===s.length&&(0,i.jsx)(es,{resultsPerPage:p}),s.length>0&&(0,i.jsx)(Y.A,{columnsCount:3,gutter:"0.5rem",children:f}),c&&(0,i.jsx)(j.$,{variant:"plain",onClick:d,mt:4,isLoading:l,children:(0,i.jsx)(m.x6,{id:"yQ2kGp"})}),0===s.length&&!l&&(0,i.jsx)(o.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,i.jsx)(_.E,{style:{color:"gray"},children:(0,i.jsx)(m.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,i.jsxs)(U.F,{status:"error",children:[(0,i.jsx)(G._,{}),(0,i.jsx)(m.x6,{id:"Fkbzp8"})]})]})},es=e=>{let{resultsPerPage:t}=e;return(0,i.jsx)(K.r,{columns:3,spacing:2,children:$()(t).map((e,t)=>(0,i.jsx)(Q.E,{children:(0,i.jsx)(q.E,{height:"120px",borderRadius:"base"})},t))})},el="75px",eo=y.memo(e=>{let{image:t,isSelected:n,onImageClick:a}=e;return(0,i.jsx)(Q.E,{height:el,width:el,children:(0,i.jsx)(j.$,{borderRadius:"base",bgColor:n?"deepocean.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"deepocean.100":"deepocean.50"},_active:{bgColor:"deepocean.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>a(t),"data-testid":"image-search-grid-item",children:(0,i.jsx)(o.a,{height:"100%",maxH:"100%",sx:{img:{width:"100%",height:"100%",objectFit:"contain"}},children:(0,i.jsx)("img",{src:t.thumbnailUrl,alt:t.title||"Image search result",style:{width:"100%",height:"100%",objectFit:"contain"}})})})},t.id)});eo.displayName="ImageSearchGridItem";let ec=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:a,provider:r,imageResults:s,isLoading:l,canLoadMore:c,loadMore:d,hasError:u,resultsPerPage:p,resultEntityType:h="image"}=e,g=O(r),x=(0,y.useCallback)(e=>{g(e),a((0,X.TF)(e,t,r))},[r,t,g,a]),f=s.map(e=>{let t=e.imageUrl.split("?")[0],a=n&&n.split("?")[0];return(0,i.jsx)(eo,{image:e,isSelected:t===a,onImageClick:x},e.id)});return(0,i.jsxs)(W.s,{direction:"column",align:"stretch",children:[l&&0===s.length&&(0,i.jsx)(ed,{resultsPerPage:p}),s.length>0&&(0,i.jsx)(K.r,{gap:2,columns:{base:4,"2xl":6},children:f}),c&&(0,i.jsx)(j.$,{variant:"plain",onClick:d,mt:4,isLoading:l,children:(0,i.jsx)(m.x6,{id:"yQ2kGp"})}),0===s.length&&!l&&(0,i.jsx)(o.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,i.jsx)(_.E,{style:{color:"gray"},children:"icon"===h?(0,i.jsx)(m.x6,{id:"2AY48J",values:{searchQuery:t}}):(0,i.jsx)(m.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,i.jsxs)(U.F,{status:"error",children:[(0,i.jsx)(G._,{}),"icon"===h?(0,i.jsx)(m.x6,{id:"5hlcZg"}):(0,i.jsx)(m.x6,{id:"Fkbzp8"})]})]})},ed=e=>{let{resultsPerPage:t}=e;return(0,i.jsx)(K.r,{columns:{base:4,"2xl":6},spacing:2,children:$()(t).map((e,t)=>(0,i.jsx)(Q.E,{height:el,children:(0,i.jsx)(q.E,{height:"100%",borderRadius:"base"})},t))})},eu=(0,f.P)(a.K),ep=e=>{let{currentImageUrl:t,updateAttributes:n,defaultQuery:a,randomQueries:f,provider:b,enablePagination:k=!0,enableSearch:L=!0,enableLicenseFilter:j=!1,resultsPerPage:E=18,resizeThumbnails:S=!1,resultEntityType:M="image",mediaSearchQuery:I,setMediaSearchQuery:_,displayAsGrid:D=!1}=e,[R,T]=(0,y.useState)(""),{isInOfflineMode:z}=(0,v.u)(),{search:H,isLoading:B,loadMore:P,canLoadMore:F,hasError:V,imageResults:O,resetResults:W,searchQuery:U,license:G,updateLicense:K}=Z({provider:b,enablePagination:k,resultsPerPage:E});(0,y.useEffect)(()=>{_&&U!==I&&_(U)},[U,_,I]),(0,A.Vg)(()=>{if(!z){if(a){T(a),H(a);return}T(""),f?H(C()(f)||""):W()}},[a,z,f,W,H],[b]);let Q=(0,y.useCallback)(()=>{let e=C()(f);e&&H(e)},[f,H]),q=(0,A.lW)(H,1e3);return(0,i.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(0,i.jsx)(g.Tz,{placement:"top",label:(0,i.jsx)(m.x6,{id:"wj1Zq8"}),isDisabled:L,children:(0,i.jsxs)(s.M,{size:"md",children:[(0,i.jsx)(l.W,{pointerEvents:"none",children:(0,i.jsx)(o.a,{color:"gray.400",children:(0,i.jsx)(h.g,{icon:p.MjD})})}),(0,i.jsx)(c.p,{isDisabled:!L,placeholder:"icon"===M?x.Ru._({id:"oMAM3/"}):x.Ru._({id:"6YBjmV"}),value:R,onChange:e=>{T(e.target.value),q(e.target.value)},"data-testid":"image-search-input"}),f&&(0,i.jsx)(l.t,{children:(0,i.jsx)(g.Tz,{placement:"top",label:(0,i.jsx)(m.x6,{id:"OVjfHO"}),children:(0,i.jsx)(eu,{icon:(0,i.jsx)(h.g,{icon:p.xNJ}),"aria-label":"Surprise me",variant:"ghost",onClick:Q,size:"sm",whileTap:{y:"-5px"},onMouseDown:w.Fw})})})]})}),j&&(0,i.jsxs)(d.MJ,{children:[(0,i.jsx)(u.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(m.x6,{id:"6TSHCF"})}),(0,i.jsx)(N,{value:G,onChange:K})]}),U&&(D?(0,i.jsx)(ec,{updateAttributes:n,currentImageUrl:t,searchQuery:U,provider:b,imageResults:O,isLoading:B,canLoadMore:F,loadMore:P,hasError:V,resultsPerPage:E,resizeThumbnails:S,resultEntityType:M}):(0,i.jsx)(er,{updateAttributes:n,currentImageUrl:t,searchQuery:U,provider:b,imageResults:O,isLoading:B,canLoadMore:F,loadMore:P,hasError:V,resultsPerPage:E,resizeThumbnails:S}))]})}},92397:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>f,M7:()=>y,OM:()=>C,Tv:()=>m,Ub:()=>w,hT:()=>x});var i=n(37243),a=n(63867),r=n(25778),s=n(85011),l=n(25745),o=n(43634),c=n(15607),d=n(23460),u=n(85235),p=n(6845),h=n(61385),g=n(47665);let m=(e,t,n)=>{let a=e=>{let t=(0,g.jg)(e),i="boolean"!=typeof n||(0,p.Wq)(e)===n;return t&&i},r=e.state.doc.nodeAt(t),s=e.state.doc.resolve(t);return r&&a(r)?{node:r,pos:t,start:s.start,depth:s.depth}:(0,i.eL)(e.state.doc.resolve(t),a)},x=(e,t)=>{try{let n=(e,t)=>(0,g.jg)(e)&&t===h.$x,i=e.resolve(t),a=e.nodeAt(t);if(a&&n(a,i.depth+1))return{node:a,pos:t};return(0,c.Ft)(i,n)}catch(e){console.error("[findTopCardNodeParent] error",e);return}},f=e=>{let{pos:t,editor:n}=e,i=(0,c.TK)(n.state.doc.resolve(t),g.jg).map(e=>e.node.attrs.id);(0,p.wE)(i,!1)},b=async e=>{let{cardId:t,pos:n,editor:i,cardEl:r,isNested:o=!1,origin:c="editor"}=e;if(!r)return void console.error("[scrollToCard] no cardEl specified");(0,p.wE)(t,!1),f({pos:n,editor:i}),await (0,s.H1)("editor").scrollElementIntoView({element:r,delay:o?h.M2:0}),i.commands.command(e=>{let{tr:t}=e;return t.setSelection(a.LN.near(i.state.doc.resolve(n))).setMeta(l.H,c),!0})},C=e=>{let{cardId:t,editor:n}=e;if(!t)return;let i=(0,r.KA)();if((0,o.wC)(i.getState())===u.w.SLIDE_VIEW)return void n.commands.spotlightCardById(t);let a=document.querySelector('[data-card-id="'.concat(t,'"]'));if(!a)return;let{pos:s}=(0,g.W0)(n,t)||{};if(!s)return;let l=n.state.doc.resolve(s).depth>h.$x;b({cardId:t,pos:s,editor:n,cardEl:a,isNested:l})},y=(e,t,n)=>{let i,a=t.target;if(a.closest(".".concat(h.p$))&&!a.closest("[data-outside-card-body]")||n&&!v(n,e.state.schema))return null;let r=a.closest(".".concat(h.QJ));if(!r)return{pos:e.state.doc.content.size-1};let s=r.querySelector(".".concat(h.p$)),l=null==s?void 0:s.getBoundingClientRect();if(!l)return null;let{doc:o}=e.state;try{let t=e.posAtDOM(r,0);if(-1===t)return null;let n=(0,c.TK)(o.resolve(t),g.jg);if(0===n.length)return null;i=n[n.length-1]}catch(e){return console.error("(caught) [checkBetweenCardsDropTarget] error finding parent node:",e),null}let{node:u,pos:p}=i;if(!p||!u)return null;let[m]=(0,d.qp)(s),x=m+l.top,f=m+l.bottom,b=m+t.clientY;return b<x?{pos:p}:b>f?{pos:p+u.nodeSize}:null},v=(e,t)=>t.nodes.card.validContent(e.content),w=(e,t)=>{let n=(0,c.GY)(e,e=>"cardLayoutItem"===e.type.name);return n.length>0?{node:n[0].node,pos:t+n[0].pos+1}:{node:e,pos:t}}},92437:(e,t,n)=>{"use strict";n.d(t,{vT:()=>i.vT,nk:()=>i.nk,ez:()=>i.ez});var i=n(45485);n(55729)},92685:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var i=n(6029),a=n(53996),r=n(96500);let s=()=>(0,i.jsx)(a.o,{h:"20px",children:(0,i.jsx)(r.c,{mx:1,borderColor:"gray.300",orientation:"vertical"})})},92700:(e,t,n)=>{"use strict";n.d(t,{UU:()=>S,bX:()=>M});var i=n(6029),a=n(55729),r=n(67909),s=n(36071),l=n(68728),o=n(3674),c=n(40691),d=n(26385),u=n(26420),p=n(23293),h=n(48810),g=n(49611),m=n(58959),x=n(16426),f=n(33170),b=n(19564),C=n(99038),y=n(25778),v=n(95889),w=n(63902),A=n(43634),k=n(16410);let L=e=>{let{link:t,confirmFunction:n,onClose:L}=e,j=(0,y.GV)(A.sX),E=(0,v.st)(),S=(0,a.useRef)(!1),M=(0,w.oR)()?"gamma.site":"gamma.app";return(0,a.useEffect)(()=>{S.current||(S.current=!0,null==E||E.track(v.VV.ABUSE_LINK_INTERCEPT_SHOWN,{docId:j,link:t}))},[E,j,t]),(0,i.jsxs)(r.aF,{isOpen:!0,trapFocus:!1,onClose:()=>L("cancel"),children:[(0,i.jsx)(s.m,{}),(0,i.jsxs)(l.$,{children:[(0,i.jsx)(o.s,{}),(0,i.jsx)(c.c,{alignItems:"center",textAlign:"center",children:(0,i.jsxs)(d.B,{mt:8,spacing:4,children:[(0,i.jsx)(u.a,{mx:"auto",children:(0,i.jsx)(f.uh,{w:"16"})}),(0,i.jsx)(p.D,{size:"lg",children:(0,i.jsx)(b.x6,{id:"7kvRf4",values:{GAMMA_PROPER_NOUN:C.On}})}),(0,i.jsx)(h.E,{children:(0,i.jsx)(b.x6,{id:"wkyxjZ",values:{gammaProperty:M},components:{0:(0,i.jsx)("code",{})}})}),(0,i.jsx)(h.E,{fontSize:"sm",py:1,borderRadius:"sm",color:"gray.600",fontFamily:"mono",bg:"blackAlpha.100",children:t}),(0,i.jsx)(d.B,{spacing:2,mt:2,children:(0,i.jsx)(g.$,{variant:"plain",onClick:()=>{n(t),null==E||E.track(v.VV.ABUSE_LINK_INTERCEPT_CONTINUE,{docId:j,link:t}),L("continue")},children:(0,i.jsx)(b.x6,{id:"xGVfLh"})})}),(0,i.jsx)(g.$,{onClick:()=>{null==E||E.track(v.VV.ABUSE_LINK_INTERCEPT_CANCEL,{docId:j,link:t}),L("cancel")},variant:"solid",children:(0,i.jsx)(b.x6,{id:"zx59ra"})}),(0,i.jsx)(m.z,{pt:2,flex:1,children:(0,i.jsx)(k._,{docId:j,buttonType:"button",onSubmitReport:()=>L("report")})})]})}),(0,i.jsx)(x.j,{})]})]})},j=(0,a.createContext)({}),E=e=>{window.open(e,"_blank","noopener")},S=e=>{let{children:t}=e,[n,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(()=>E),d=(0,a.useCallback)((e,t)=>{l(e),t&&c(()=>()=>t(e)),r(!0)},[]),u=(0,a.useCallback)(()=>{l(""),c(()=>E),r(!1)},[]),[p,h]=(0,a.useState)({showLinkInterstitial:d,hideLinkInterstitial:u});return(0,i.jsxs)(j.Provider,{value:p,children:[n&&(0,i.jsx)(L,{link:s,confirmFunction:o,onClose:u}),t]})},M=()=>(0,a.useContext)(j)},92739:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});var i=n(83817),a=n.n(i),r=n(55729),s=n(27002),l=n(89942),o=n(25778),c=n(63902),d=n(43634),u=n(6181),p=n(28615),h=n(92700),g=n(22911);let m=(e,t)=>{let{showLinkInterstitial:n}=(0,h.bX)(),i=(0,o.GV)(d.sK),m=(0,o.GV)(d.RW),x=(0,o.GV)(d.IO,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a()(...t)}),f=(0,l.tN)(i),b=(0,s.u)("knownGoodHostnames"),C=!!(0,u.ur)().user,y=(0,c.oR)(),v=(null==e?void 0:e.startsWith("/"))||(null==e?void 0:e.startsWith("#")),w=p.D1||f,A=p.D1||m||v,k=y?A:w,L=(0,r.useMemo)(()=>k?"trusted":(0,g.L)(e,x,b),[e,x,b,k]),j=(0,r.useMemo)(()=>k||C&&"unknown"===L?e:(0,g.F)(e,x,b),[k,e,C,L,x,b]);return{interceptLinkClick:(0,r.useCallback)(i=>{if(e&&"trusted"!==L&&(!C||"unknown"!==L))return(i.preventDefault(),i.stopPropagation(),"untrusted"===L)?console.warn("[interceptLinkClick] Untrusted link clicked",e):null==n||n(e,t),!0},[e,L,C,n,t]),linkUrlSafe:j,linkTrustLevel:L,linkInterceptEnabled:!1===k,isUntrusted:"untrusted"===L}}},92938:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(23513);let a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.nodeAfter;if(!a)return!1;e.deleteRange(t.pos,t.pos+a.nodeSize);let r=e.doc.nodeAt(t.pos),s=t.pos,l=1;(!n&&t.nodeBefore||n&&!r&&t.nodeBefore)&&(s=t.pos-t.nodeBefore.nodeSize,l=-1);let o=e.doc.resolve(s+1),c=(0,i.n)(e.doc.resolve(l>0?o.pos:o.end()),l);return c&&e.setSelection(c),!0}},93043:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var i=n(81107),a=n(77650);let r={key:"image.unsplash",label:()=>a.Ru._({id:"olwQVc",values:{UNSPLASH_PROPER_NOUN:"Unsplash"}}),description:()=>a.Ru._({id:"SDSvdl"}),icon:i.o5,image:{src:"https://assets.gammahosted.com/i7tuk8wdp/_next/static/media/unsplash.1957709b.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["stock","photo","photography","image","unsplash"],resizeToFit:!0}},93171:(e,t,n)=>{"use strict";n.d(t,{n:()=>b});var i=n(6029),a=n(40452),r=n(53996),s=n(26420),l=n(21938),o=n(55729),c=n(85399),d=n(68247),u=n(45214),p=n(17006),h=n(76765),g=n(69837),m=n(90278),x=n(43607),f=n(29608);let b=e=>{var t;let{cellProps:n,positionProps:b,markerProps:C,markerFontSize:y="h3",children:v}=e,{index:w,theme:A,layoutOptions:k,cellOptions:L,getPos:j,editor:E,selectCell:S}=n,M=null==L?void 0:L.icon,I=(0,x.FX)(),_=null==(t=k.numbered)||t,D=(0,h._)(I,null!=y?y:"h3"),R=(0,o.useCallback)(()=>{if(!E.isEditable)return;let e=j();if("number"!=typeof e)return;let t=E.state.doc.resolve(e);(0,m.tN)(E,t)},[j,E]),T=(0,o.useMemo)(()=>(0,p.bh)(y,A),[y,A]),{colorVars:z}=(0,c.r)({layoutColorOverride:k.color,cellColorOverride:null==L?void 0:L.color,index:w}),H={...(0,f.nr)()?(0,d.U2)():void 0};return(0,i.jsxs)(a.s,{...b,contentEditable:!1,userSelect:"none",onMouseDown:R,cursor:"default",css:z,children:[(0,i.jsx)(r.o,{h:"".concat(D,"em"),w:"".concat(D,"em"),className:u.SA,sx:H,pos:"relative",...C,children:(0,i.jsx)(s.a,{sx:T,className:(0,l.cx)(d.U6),textAlign:"center",style:{lineHeight:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",children:(0,i.jsx)(g.R,{image:M,number:_?w+1:void 0,isNumbered:_,iconSize:1,selectCell:S})})}),v]})}},94257:(e,t,n)=>{"use strict";n.d(t,{TN:()=>v,Vj:()=>y,Xq:()=>f,ak:()=>C,eo:()=>x,ih:()=>b});var i=n(37243),a=n(63867),r=n(55729),s=n(25778),l=n(94922),o=n(47665),c=n(45574),d=n(50861),u=n(39977),p=n(15607),h=n(56603),g=n(67097),m=n(55084);let x=e=>{let t=(0,s.CU)(),n=(0,s.jL)();(0,r.useEffect)(()=>{if(!e)return;let t=()=>{let t=f(e,null==e?void 0:e.state.selection);n((0,m.iU)(t))};return e.on("update",t),e.on("selectionUpdate",t),t(),()=>{e.off("update",t),e.off("selectionUpdate",t)}},[e,n,t])},f=(e,t)=>{if(!e||!t||!(t instanceof a.nh))return null;let n=(0,u.A)({editor:e,selection:t});return(null==n?void 0:n.mediaType)!=="image"?null:{attrs:n.attrs,id:n.id,relativePosition:(0,h.JO)(e.state,t.from)}},b=(e,t,n)=>{let i=(0,h.d_)(e.state,t);if(!i)throw Error("Could not get absolute position from relative position");(0,u.v)({editor:e,pos:i,attrs:n})},C=(e,t)=>{let n=e.view,a=e.state.selection,r=e.state.doc.resolve(a.from),s=(0,i.eL)(r,o.jg),{mostVisible:c,visibleCards:d}=(0,o.lA)(e),u=d.some(e=>e.pos===(null==s?void 0:s.pos)),h=(0,p.Bi)(e,"image");if(u&&h){e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300);return}try{let i=(null==c?void 0:c.pos)?(0,l.dg)(n.state.tr,c.pos):null,a=null==i?void 0:i.body;if(a){let t=a.pos+a.node.nodeSize-1;if(e.commands.setTextSelection(t),!(0,p.Bi)(e,"image")){let t=a.pos+2;e.commands.setTextSelection(t)}if(!(0,p.Bi)(e,"image"))return}e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300)}catch(e){console.error("Error inserting SelectedImage",e)}},y=(e,t)=>{let n;try{e.state.doc.descendants((i,a)=>{if(i.attrs.id===t){let r=(0,c.um)(i),s=(0,h.JO)(e.state,a);throw r&&s&&(n={attrs:r,id:t,relativePosition:s}),Error("found matching node id")}return!0})}catch(e){}if(!n)throw Error("Could not find image with id ".concat(t));return n},v=e=>(e=(0,d.Ez)(e),{tempUrl:(0,g.Ub)(e.src,g.XS,e.meta),showPlaceholder:!1,...e})},94258:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(91938),a=n(58929);let r=async e=>{let{imageUrl:t,workspaceId:n,abortController:r,width:s,height:l}=e,o="".concat(i.$.API_HOST,"/media/images/edit");return await (0,a.P)(o,{method:"POST",signal:null==r?void 0:r.signal,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:t,operation:"remove-background",workspaceId:n,...s&&{width:s},...l&&{height:l}})},{parseResponse:async e=>(await e.json()).url,maxDuration:3e4})}},94297:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>d,M9:()=>h,au:()=>p});var i=n(84462),a=n.n(i),r=n(33612),s=n.n(r),l=n(62452),o=n(30892),c=n(63674);let d=["#ef4444","#3caa3c","#002253"],u=e=>{let t=e.match(/monochrome-(\d+)/);return t?parseInt(t[1],10)-1:null},p=(e,t,n,i)=>{if(!t||!n)return e;let a=(0,l.CD)(n);if("string"==typeof t&&t.startsWith("monochrome")){if("monochrome"===t)return a.length>0?(0,l.Ik)(a[0]):e;let r=u(t);if(null===r)return e;if(r<a.length)return(0,l.Ik)(a[r]);if(n&&i&&a.length<=1){let e=a.length>0?r-1:r;if(e>=0&&e<d.length)return d[e]}else if(n&&i&&r<d.length)return d[r];return e}return"theme"===t&&a.length>0?(0,l.Ik)(a[0]):e},h=a()(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"complement",{matchBrightness:i=!1,contrastColor:a,minContrast:r=3,lightnessRange:d,theme:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=Array.from(new Set(t));if(0===p.length)return new Map;if(1===p.length){let t=s()(e);return a&&(0,o.vd)(t,a,r),new Map([[p[0],t.toHex8String()]])}return new Map([...(()=>{switch(n.startsWith("monochrome")?"monochrome":n){case"monochrome":{let t=s()(e),n=d||{min:15,max:95};if(a){let e=(e,t,n)=>{let i=g(e,t);return(0,o.vd)(i,a,r,n),Math.round(100*i.toHsl().l)};n.min=e(t,n.min,"lighten"),n.max=e(t,n.max,"darken")}let l=(n.max-n.min)/p.length,c=t.getBrightness();return new Map(p.map((e,a)=>{let r=g(t,n.min+l*a);return i&&(0,o.jB)(r,c),[e,r]}))}case"spin":{let t=s()(e),n=t.getBrightness(),a=Math.ceil((p.length-1)/2),r=360/p.length<22?360/p.length:22,l=(0,c.xV)(p.map((e,s)=>{let l=0;s<a&&(l=-((a-s)*r*1)),s>a&&(l=(s-a)*r);let c=t.clone().spin(l);return i&&(0,o.jB)(c,n),c}),p.length%2==0?a:a+1);return new Map(p.map((e,t)=>[e,l[t]]))}default:case"complement":case"complement2":{let t=s()(e),a=180/(p.length-1),r=t.getBrightness();return new Map(p.map((e,s)=>{let l=t.clone().spin(a*s*("complement2"===n?-1:1));return i&&(0,o.jB)(l,r),[e,l]}))}case"alternating":{let t=s()(e),n=t.toHsl().l<.5?t.clone().lighten(30):t.clone().darken(30),a=t.getBrightness();return new Map(p.map((e,r)=>{let s=r%2==0?t.clone():n.clone();return i&&(0,o.jB)(s,a),[e,s]}))}case"theme":{if(!u){let t=s()(e).getBrightness();return new Map(p.map((n,a)=>{let r=s()(e);return i&&(0,o.jB)(r,t),[n,r]}))}let t=(0,l.CD)(u);if(0===t.length){let e=(0,l.Ik)((0,l.VH)(u));return new Map(p.map(t=>[t,e]))}let n=t.length>0?s()((0,l.Ik)(t[0])).getBrightness():128;return new Map(p.map((e,c)=>{let d=c%t.length,u=(0,l.Ik)(t[d]),p=s()(u);return a&&(0,o.vd)(p,a,r),i&&(0,o.jB)(p,n),[e,p]}))}}})().entries()].map(e=>{let[t,n]=e;return[t,n.toHex8String()]}))});function g(e,t){let n=e.toHsl();return n.l=t,s()(n)}},94844:(e,t,n)=>{"use strict";n.d(t,{n:()=>eK});var i=n(6029),a=n(24302),r=n(40452),s=n(58959),l=n(57405),o=n(77364),c=n(19564),d=n(55729),u=n(33633),p=n(647),h=n(95563),g=n(25778),m=n(35946),x=n(26420),f=n(26385),b=n(48810),C=n(46898),y=n(91938),v=n(81807),w=n(34792),A=n(17859),k=n(26814),L=n(6018),j=n(66380),E=n(95889),S=n(43634),M=n(6181),I=n(11403),_=n(84130),D=n(31113),R=n(3276),T=n(77650),z=n(83743),H=n(53996),N=n(55597),B=n(48621),P=n(76083),F=n(47562),V=n(65230),O=n(80180);let Z=[{key:"low-quality",label:(0,i.jsx)(c.x6,{id:"9cm/hp"})},{key:"too-different",label:(0,i.jsx)(c.x6,{id:"/wLn3u"})},{key:"too-similar",label:(0,i.jsx)(c.x6,{id:"Np7sCV"})},{key:"instructions",label:(0,i.jsx)(c.x6,{id:"Tq32Jp"})},{key:"other",label:(0,i.jsx)(c.x6,{id:"/IX/7x"})}],W="ImageChat",U=e=>{var t;let{messageId:n,imageUrl:a,toolInvocation:r,chatId:s}=e,[l,o]=(0,d.useState)(void 0),c=null==(t=r.result.images.find(e=>e.attrs.src===a))?void 0:t.attrs,u=(0,d.useCallback)((e,t,i)=>{(0,A.bO)({rating:e,agentType:W,feedback:t,tags:i,imageUrl:a,toolInvocation:r,image:c,chatId:s,messageId:n,interactionId:n})},[n,a,r,c,s]),p=(0,d.useCallback)(e=>{o(e),(0,A.V2)({messageId:n,rating:e,agentType:W,imageUrl:a,toolInvocation:r,image:c,chatId:s,interactionId:n})},[n,a,r,c,s]);return c?(0,i.jsx)(x.a,{position:"relative",alignSelf:"flex-end",opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",onClick:O.dG,children:(0,i.jsx)(V.f3,{trackFeedback:u,rating:l,setRating:p,RatingButtons:V.Ep,feedbackTags:Z,size:"xs"})}):null};var G=n(55084);let K=(0,d.memo)(e=>{let{image:t,toolInvocation:n,onClick:a,ratingsEnabled:r,messageId:s,chatId:l,editor:o}=e,c=(0,g.GV)((0,G.X)({toolCallId:n.toolCallId,src:t.attrs.src})),d=t.attrs.src;return d?(0,i.jsxs)(x.a,{position:"relative",cursor:"pointer",onClick:a,h:"fit-content",role:"group",children:[(0,i.jsx)(F.N,{src:d,alt:t.attrs.query,filter:c?"brightness(0.8)":void 0,transitionProperty:"all",transitionDuration:"normal",_hover:{filter:"brightness(0.8)"},w:"100%",h:"auto",objectFit:"cover",onDragStart:()=>{o&&(0,P.fS)({editor:o,content:{type:"image",attrs:t.attrs}})}}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.a,{position:"absolute",inset:"0",borderWidth:2,borderColor:"blue.500",borderRadius:"md",pointerEvents:"none"}),(0,i.jsx)(H.o,{position:"absolute",inset:"0",pointerEvents:"none",children:(0,i.jsx)(x.a,{borderRadius:"full",p:1,color:"white",children:(0,i.jsx)(B.g,{icon:N.e68})})})]}),r&&"success"===n.result.status&&(0,i.jsx)(x.a,{position:"absolute",bottom:1,insetEnd:1,children:(0,i.jsx)(U,{chatId:l,messageId:s,imageUrl:d,toolInvocation:n})})]}):null});K.displayName="ChatToolResultImage";let Q=e=>{var t;let{onSelectImage:n,toolInvocation:a,ratingsEnabled:r,messageId:s,chatId:l,editor:o}=e;return"aborted"===a.result.status?null:"error"===a.result.status?(0,i.jsx)(x.a,{bg:"red.100",p:2,mt:2,borderRadius:"md",position:"relative",children:(0,i.jsx)(b.E,{fontSize:"xs",color:"red.600",fontWeight:"semibold",children:a.result.error})}):(0,i.jsx)(x.a,{mt:1,children:(0,i.jsx)(z.r,{columns:3,spacing:2,children:null==(t=a.result.images)?void 0:t.map(e=>(0,i.jsx)(K,{image:e,toolInvocation:a,onClick:()=>{n({toolCallId:a.toolCallId,image:e})},ratingsEnabled:r,messageId:s,chatId:l,editor:o},e.attrs.src))})})},q={generateImage:{present:()=>T.Ru._({id:"0YTg9V"}),past:()=>T.Ru._({id:"kuh/JT"})},editContent:{present:()=>T.Ru._({id:"lst4sw"}),past:()=>T.Ru._({id:"V3CaX7"})},removeBackground:{present:()=>T.Ru._({id:"RdqLb7"}),past:()=>T.Ru._({id:"gmS8TU"})},searchImage:{present:()=>T.Ru._({id:"r/Co7N"}),past:()=>T.Ru._({id:"AhoeWI"})},vectorize:{present:()=>T.Ru._({id:"Q55bBQ"}),past:()=>T.Ru._({id:"c1cnyM"})},upscale:{present:()=>T.Ru._({id:"5oQX1R"}),past:()=>T.Ru._({id:"nstbgt"})},animate:{present:()=>T.Ru._({id:"ixpQjd"}),past:()=>T.Ru._({id:"gtfeTa"})}},J=(0,d.memo)(e=>{let{toolInvocation:t,onSelectImage:n,ratingsEnabled:a,chatId:r,editor:l}=e,o="result"!==t.state;return(0,i.jsxs)(x.a,{children:[(0,i.jsx)(s.z,{justify:"space-between",align:"center",children:(0,i.jsxs)(s.z,{children:[o&&(0,i.jsx)(R.y,{size:"xs"}),(0,i.jsx)(b.E,{fontSize:"xs",color:"gray.600",fontWeight:"semibold",children:o&&"".concat($(t.toolName,o),"...")})]})}),"result"===t.state&&(0,i.jsx)(Q,{toolInvocation:t,onSelectImage:n,messageId:t.result.messageId,ratingsEnabled:a,chatId:r,editor:l})]})});J.displayName="ImageChatToolCall";let $=(e,t)=>{let n=q[e]||q.editContent;return t?n.present():n.past()},Y=e=>{var t;let{message:n,onSelectImage:a,chatId:r,editor:s}=e;return(0,i.jsx)(l.T,{...D.i,alignSelf:"flex-start",width:"100%",position:"relative",align:"start",children:null==(t=n.parts)?void 0:t.map((e,t)=>"text"===e.type?(0,i.jsx)(b.E,{children:e.text},t):"tool-invocation"===e.type?(0,i.jsx)(J,{toolInvocation:e.toolInvocation,onSelectImage:a,ratingsEnabled:!0,chatId:r,editor:s},t):'Unknown part type "'.concat(e.type,'"'))})};var X=n(33787),ee=n(23293),et=n(12258);let en=(0,d.memo)(()=>(0,i.jsx)(r.s,{direction:"column",height:"100%",justifyContent:"flex-end",children:(0,i.jsxs)(f.B,{spacing:6,alignItems:"center",p:4,borderRadius:"lg",textAlign:"center",children:[(0,i.jsx)(X._,{src:et.A.src,alt:"Empty state",maxW:"200px"}),(0,i.jsxs)(f.B,{spacing:1,children:[(0,i.jsx)(ee.D,{size:"sm",fontWeight:"semibold",children:T.Ru._({id:"vscZYY"})}),(0,i.jsx)(b.E,{color:"gray.600",fontSize:"sm",children:T.Ru._({id:"VxbH2f"})})]})]})}));en.displayName="ImageChatEmptyState";var ei=n(17496),ea=n(49611),er=n(29810),es=n(41781),el=n(99492),eo=n(44595),ec=n(89942),ed=n(16936),eu=n(33170),ep=n(57963),eh=n(90184),eg=n(92437);let em=(0,d.memo)(e=>{let{placeholder:t,isLoading:n,handleSubmit:a,handleStop:o,autoFocus:u,status:p}=e,[h,g]=(0,d.useState)(""),m=(0,d.useCallback)(e=>{g(e.target.value)},[g]),x=(0,d.useRef)(null),f=(0,d.useRef)(null),C=(0,eg.ez)("unlimited_credits");return(0,d.useEffect)(()=>{let e=_.W.on("prefillMessage",e=>{var t;let{message:n}=e;g(n),null==(t=f.current)||t.focus()});return()=>{e()}},[]),(0,d.useEffect)(()=>{if(u){var e;null==(e=f.current)||e.focus()}},[u]),(0,i.jsxs)(r.s,{w:"100%",as:"form",onSubmit:e=>{console.log("[buddy] enter submit status=",p),e.preventDefault(),("ready"===p||"error"===p)&&(a(h),g(""))},ref:x,position:"relative",border:"1px solid",borderRadius:"md",borderColor:"gray.200",pt:1,outline:"1px solid",outlineColor:"transparent",transitionProperty:"all",transitionDuration:"normal",ps:4,pb:1,bg:"white",_focusWithin:{borderColor:"trueblue.500",shadow:"outline"},children:[(0,i.jsx)(ep._,{id:"edit-textarea",name:"prompt-input",variant:"unstyled",value:h,onChange:m,ref:f,placeholder:t,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){var t;e.preventDefault(),null==(t=e.currentTarget.form)||t.requestSubmit()}},border:"none",outline:"none",shadow:"none",initialHeight:"36px",resizeOnMount:!1,maxHeight:"33vh",overflowY:"auto",pe:16}),(0,i.jsxs)(s.z,{position:"absolute",bottom:"1.5",insetEnd:"2",zIndex:10,spacing:2,children:[(0,i.jsx)(R.y,{boxSize:8,position:"absolute",zIndex:10,pointerEvents:"none",color:"deepocean.950",opacity:+!!n,transitionProperty:"common",transitionDuration:"normal"}),(0,i.jsx)(eu.Tz,{placement:"top",label:n?(0,i.jsx)(l.T,{spacing:0,children:(0,i.jsx)(c.x6,{id:"ygCKqB"})}):(0,i.jsxs)(l.T,{spacing:0,children:[(0,i.jsx)(c.x6,{id:"4k2VbT"}),!C&&(0,i.jsx)(b.E,{color:"gray.400",children:(0,i.jsx)(eh.G,{type:"imageChat",ms:0})}),(0,i.jsx)(eu.iM,{shortcut:"Enter"})]}),children:(0,i.jsx)(ed.K,{size:"sm",icon:n?(0,i.jsx)(B.g,{icon:N.APi}):(0,i.jsx)(B.g,{icon:N.fmP}),isDisabled:!h&&!n,"aria-label":T.Ru._({id:"hQRttt"}),onClick:e=>{if(n){console.log("jordan handling stop"),e.stopPropagation(),o();return}a(h),g("")}})})]})]})});em.displayName="ImageChatInput";var ex=n(65273),ef=n(98701),eb=n(9118),eC=n(30286),ey=n(44798),ev=n(43607),ew=n(15607),eA=n(33201);let ek=e=>{let[t,n]=(0,d.useState)([]),i=(0,d.useRef)({}),[a,r]=(0,d.useState)("ready"),{generate:s}=(0,ef.pt)("SuggestImageGenerates",{onStart(){r("generating"),n([])},onContent(e){n(eL(e))},onComplete(e){n(eL(e)),r("done")},onError(e){console.error("Error generating suggestions",e),r("error")},timeout:2e4}),l=(0,g.GV)(eC.H6),o=(0,eb.xt)(l),c=(0,ey.Sx)(e),u=(0,ev.lC)(e,!0),p=(0,d.useCallback)(e=>{let t=c?c():null;if(!t)return void n([]);let a=i.current[e];if(a){n(a),r("done");return}let l=(0,M.gx)();if(!l)return void n([]);let{promise:d}=s({variables:{cardHtml:t,language:o.englishName},workspaceId:l});d.then(t=>{i.current[e]=eL(t)})},[s,o,c]);return(0,I.Vg)(()=>{let t=(0,ew.IV)(e.state.selection.$from,eA.jg)[0];t&&p(t.node.attrs.id)},[p,e.state.selection],[u]),{suggestions:t,generateSuggestionsStatus:a}},eL=e=>e.split("\n").filter(Boolean);var ej=n(78140),eE=n(36999),eS=n(41283),eM=n(85595);let eI=e=>{let{suggestions:t,onSubmit:n}=e;return(0,i.jsxs)(r.s,{gap:2,flexWrap:"wrap",alignItems:"flex-start",children:[t.map((e,t)=>{var a;return(0,i.jsx)(ea.$,{leftIcon:(0,i.jsx)(B.g,{icon:N._$C}),onClick:()=>n(e.prompt),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,sx:{["@media (max-height: ".concat(700,"px)")]:{display:t>0?"none":"flex"}},children:(0,i.jsx)(b.E,{isTruncated:!0,children:null!=(a=e.quick_action)?a:e.prompt})},t)}),t.length>1&&(0,i.jsxs)(ej.W,{children:[(0,i.jsxs)(eE.I,{as:ea.$,leftIcon:(0,i.jsx)(B.g,{icon:N._$C}),rightIcon:(0,i.jsx)(B.g,{icon:N.Jt$}),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",sx:{["@media (max-height: ".concat(700,"px)")]:{display:"flex"},["@media (min-height: ".concat(701,"px)")]:{display:"none"}},children:[t.length-1," more..."]}),(0,i.jsx)(eS.c,{children:t.slice(1).map((e,t)=>{var a;return(0,i.jsx)(eM.D,{onClick:()=>n(e.prompt),icon:(0,i.jsx)(B.g,{icon:N._$C}),children:null!=(a=e.quick_action)?a:e.prompt},t)})})]})]})},e_=e=>{let{status:t,messages:n,handleNewChat:a,manualSubmit:r,handleStop:o,editor:d}=e,u="submitted"===t||"streaming"===t,p=(0,ec.ez)("unlimited_credits"),h=(0,g.GV)(G.hN),m=(0,g.GV)(G.W_);return(0,i.jsxs)(l.T,{direction:"column",align:"stretch",spacing:2,p:4,borderTop:"1px solid",borderColor:"trueblue.100",bg:"trueblue.50",children:[(0,i.jsxs)(s.z,{align:"flex-start",spacing:4,children:[m&&(0,i.jsx)(F.N,{src:m.src,alt:m.query,h:"auto",maxW:"5em",maxH:"5em",alignSelf:"start",shadow:"base"}),!u&&d&&(h?(0,i.jsx)(eD,{onSubmit:r,imageToEdit:h,editor:d}):(0,i.jsx)(eR,{editor:d,onSubmit:r}))]}),(0,i.jsx)(em,{placeholder:h?T.Ru._({id:"XXCZ3T"}):T.Ru._({id:"1p/b90"}),isLoading:u,handleSubmit:r,handleStop:o,status:t}),(0,i.jsx)(ei.S,{in:n.length>0||!p,children:(0,i.jsxs)(s.z,{pt:2,children:[(0,i.jsx)(ea.$,{size:"sm",variant:"link",onClick:a,leftIcon:(0,i.jsx)(B.g,{icon:el.V3T,size:"sm"}),children:(0,i.jsx)(c.x6,{id:"hIQkLb"})}),(0,i.jsx)(er.h,{}),(0,i.jsx)(eo.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:E.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT})]})})]})},eD=e=>{let{onSubmit:t,imageToEdit:n}=e,{suggestions:a,generateSuggestionsStatus:r}=(0,ex.s)(n),l=a.map(e=>({prompt:e}));return"generating"===r&&0===l.length?(0,i.jsxs)(s.z,{wrap:"wrap",children:[(0,i.jsx)(es.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,i.jsx)(eI,{suggestions:l,onSubmit:t})},eR=e=>{let{editor:t,onSubmit:n}=e,{suggestions:a,generateSuggestionsStatus:r}=ek(t),l=a.map(e=>({prompt:e}));return"generating"===r&&0===l.length?(0,i.jsxs)(s.z,{wrap:"wrap",children:[(0,i.jsx)(es.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(es.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,i.jsx)(eI,{suggestions:l,onSubmit:n})};var eT=n(85942);let ez=e=>{let{message:t,onSelectImage:n,previousMessage:a,chatId:r,editor:s}=e,o=(0,eT.xz)(t),c=a?(0,eT.xz)(a).flatMap(eT.Fh):[],d=o.filter(e=>{let t=(0,eT.Fh)(e);return!c.some(e=>t.some(t=>t.attrs.src===e.attrs.src))});return(0,i.jsxs)(l.T,{...D.i,bg:"periwinkle.100",maxW:"90%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:[d.map(e=>(0,i.jsx)(J,{toolInvocation:e,onSelectImage:n,ratingsEnabled:!1,chatId:r,editor:s},e.toolCallId)),(0,i.jsx)(b.E,{children:t.content})]})};var eH=n(94257),eN=n(11251),eB=n(6272),eP=n(70965),eF=n(58495);let eV=e=>{let{userMessage:t,imageToEdit:n,messageId:i}=e;return n&&n.src?{message:{role:"user",content:t,parts:[{type:"tool-invocation",toolInvocation:{state:"result",toolName:"image_input",toolCallId:(0,eF.Ak)(),args:{},result:{status:"success",images:[{attrs:n}],messageId:i}}}]},attachments:[{name:"image-to-edit",url:n.src}],availableTools:(0,eN.X)({imageToEdit:n})}:{message:{role:"user",content:t},attachments:void 0,availableTools:(0,eN.X)({imageToEdit:null})}};function eO(e){let{editor:t}=e,n=(0,g.jL)(),a=(0,g.CU)(),[r,s]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{let e=(0,eH.Xq)(t,null==t?void 0:t.state.selection);n((0,G.iU)(e)),(0,G.g_)(a.getState())||n((0,G.Yr)((0,eP.H)())),s(!1)},[]),r)?null:(0,i.jsx)(eU,{editor:t})}let eZ=(0,d.memo)(e=>{let{messages:t,status:n,handleNewChat:a,handleSelectedImageChange:s,manualSubmit:l,handleStop:o,chatId:u,editor:p,error:h}=e,g=(0,d.useRef)(null),m=t.length>0,C="submitted"===n;return((0,d.useEffect)(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[t]),p)?(0,i.jsxs)(r.s,{direction:"column",height:"calc(100% - 48px)",children:[(0,i.jsxs)(x.a,{flex:"1",overflow:"auto",p:4,ref:g,children:[!m&&(0,i.jsx)(en,{}),(0,i.jsxs)(f.B,{spacing:2,flex:1,children:[t.map((e,n)=>{let a=t[n-1];return"user"===e.role?(0,i.jsx)(ez,{message:e,onSelectImage:s,previousMessage:a,chatId:u,editor:p},e.id):"assistant"===e.role?(0,i.jsx)(Y,{message:e,isLoading:C,onSubmit:l,onSelectImage:s,chatId:u,editor:p},e.id):null}),C&&(0,i.jsx)(b.E,{fontSize:"xs",color:"gray.600",pt:2,px:2,children:(0,i.jsx)(c.x6,{id:"Ed99mE"})}),h&&(0,i.jsx)(b.E,{fontSize:"xs",color:"red.600",pt:2,px:2,children:String(h)})]})]}),(0,i.jsx)(e_,{status:n,messages:t,handleNewChat:a,manualSubmit:l,handleStop:o,editor:p})]}):null});eZ.displayName="ImageBuddyChatInner";let eW=()=>({messageId:(0,eP.O)(),availableTools:void 0,imageToEdit:null,insertRelativePosition:null});function eU(e){let{editor:t}=e,n=(0,g.CU)(),a=(0,g.jL)(),r=(0,g.GV)(G.yZ),s=(0,g.GV)(G.hN),l=(0,g.GV)(S.sX),o=(0,g.GV)(G.g_),c=(0,g.GV)(G.ze),{imageStyle:u}=(0,j.V)(),p=(0,C.d)(),h=(0,w.K)("image-chat"),x=(0,d.useRef)(null),f=(0,d.useRef)(eW()),{messages:b,append:D,status:R,error:T,setMessages:z,setInput:H,stop:N}=(0,m.Y_)({id:o,initialMessages:c,api:"".concat(y.$.API_HOST,"/ai/agent/message?agentName=ImageChat"),headers:{"Content-Type":"application/json","aijsx-traceparent":h.current.traceparent},experimental_prepareRequestBody:e=>{let{messages:t}=e,{messageId:n,availableTools:i}=f.current||{};return{id:o,messageId:n,interactionId:h.current.id,availableTools:i,blockFlags:(0,v.fc)(),messages:t,workspaceId:(0,M.gx)(),context:{type:"doc",docId:l}}},maxSteps:2,onToolCall:async e=>{let{toolCall:n}=e;return h.current.trace("ai.agent.toolUse",{attributes:{toolCall:n}},async e=>{x.current=new AbortController;let{imageToEdit:i,messageId:r}=f.current,s={workspaceId:(0,M.gx)(),docId:l,imageToEdit:null!=i?i:null,interactionId:r,messageId:r,chatId:o,abortController:x.current,preferredAiImageStyle:u,traceparent:e.traceparent};try{let i=eN.d[n.toolName];if(!i)throw Error("Invalid tool ".concat(n.toolName));let l=await i.execute(n.args,s);if("success"===l.status&&l.images.length>0){var c,d;(0,L.w)(null!=(d=i.creditCostType)?d:"imageChat",void 0,r);let e=l.images[0];O({toolCallId:n.toolCallId,image:e}),a((0,G.n9)({image:e,toolCallId:n.toolCallId})),(null==(c=f.current)?void 0:c.insertRelativePosition)&&(0,eH.ih)(t,f.current.insertRelativePosition,e.attrs)}return x.current=null,e.setAttributes({toolCallResult:l}),{...l,messageId:f.current.messageId}}catch(n){if((0,eB.z)(n))return{status:"aborted",error:"user aborted the request",messageId:f.current.messageId};let t={status:"error",error:n.message,messageId:f.current.messageId};return e.recordException(n),e.setAttributes({toolCallError:n.message,toolCallResult:t}),t}finally{x.current=null}})},credentials:"include",onError:e=>{p({title:"Chat error",description:e.message,position:"top",status:"error",duration:3e3}),h.current.error(e)},onFinish:(e,t)=>{var n,i;let{finishReason:a}=t;"tool-calls"!==a&&h.current.complete({finishReason:a,result:{content:e.content,toolCalls:null!=(i=null==(n=e.toolInvocations)?void 0:n.map(e=>({toolName:e.toolName,state:e.state,result:e.result})))?i:[]}})}}),B=(0,k.tO)(void 0,"imageChat",E.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT),P=(0,d.useCallback)((e,t)=>{B()&&D(e,t)},[D,B]);(0,d.useEffect)(()=>{window.buddyDebug=()=>({messages:b,reducer:n.getState().BuddyChat})},[b,n]);let F=(0,d.useCallback)(()=>{N(),z([]),f.current=eW(),h.reset(),a((0,G.CX)({chatId:(0,eP.H)()})),a((0,G.iU)(r))},[a,r,z,N,h]),V=(0,d.useCallback)(e=>{let{image:t}=e;t.attrs.src&&(0,A.Sf)({imageUrl:t.attrs.src,interactionId:f.current.messageId,chatId:o,image:t.attrs})},[o]),O=(0,I.lW)(V,2e3),Z=(0,I.lW)((0,d.useCallback)(e=>{a((0,G.jf)(e))},[a]),300);(0,d.useEffect)(()=>{Z(b)},[b,Z]);let W=(0,d.useCallback)(()=>{var e;N(),z(e=>e.map(eT.HC)),null==(e=x.current)||e.abort(),h.current.stop()},[z,N,h]),U=(0,d.useCallback)(e=>{O(e);let i=(0,eH.TN)(e.image.attrs),r=(0,G.yZ)(n.getState());if(r)a((0,G.n9)(e)),(0,eH.ih)(t,r.relativePosition,i);else{if(!t)return;(0,eH.ak)(t,i)}},[a,t,n,O]),K=(0,d.useCallback)(e=>{var t;h.current.start({docId:l});let i=null==(t=(0,G.yZ)(n.getState()))?void 0:t.relativePosition,a=(0,eP.O)(),{message:r,attachments:o,availableTools:c}=eV({userMessage:e,imageToEdit:s,messageId:a});f.current={messageId:a,availableTools:c,imageToEdit:s,insertRelativePosition:i||null},h.current.setAttributes({input:{content:e,attachments:o}}),P(r,{experimental_attachments:o}),H("")},[n,s,P,H,h]);return(0,d.useEffect)(()=>{let e=_.W.on("sendMessage",e=>{let{message:t}=e;K(t)});return()=>{e()}},[K]),(0,i.jsx)(eZ,{messages:b,error:T,status:R,handleNewChat:F,handleSelectedImageChange:U,manualSubmit:K,handleStop:W,chatId:o,editor:t})}let eG=e=>{let{closePanel:t,isOpen:n,editor:u}=e;(0,eH.eo)(u);let m={bgColor:(0,a.dU)("white","gray.800"),textColor:(0,a.dU)("gray.800","white")},x=(0,g.jL)();return(0,d.useEffect)(()=>{n||x((0,G.Po)(null))},[n,x]),(0,i.jsx)(p.Z,{bgColor:m.bgColor,w:"100%",children:(0,i.jsxs)(r.s,{direction:"column",w:"100%",h:"100%",children:[(0,i.jsxs)(s.z,{position:"relative",py:2,px:4,children:[(0,i.jsx)(r.s,{flex:1,children:(0,i.jsx)(l.T,{align:"start",spacing:0,children:(0,i.jsx)(h.N,{children:(0,i.jsx)(c.x6,{id:"mw/rmM"})})})}),(0,i.jsx)(o.J,{onClick:t})]}),(0,i.jsx)(eO,{editor:u})]})})};eG.panelPosition="right",eG.panelName="image-chat",eG.canCollapse=!1,eG.minWidth=400;let eK=()=>{let{togglePanel:e,isPanelOpen:t}=(0,u.ww)(eG);return{toggleBuddyChatPanel:e,isBuddyChatPanelOpen:t}}},94920:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,h:()=>s});var i=n(6029),a=n(55729);let r=(0,a.createContext)({state:{navItemPreviewRefMap:{}},setNavItemPreviewRef:()=>{throw Error("context not initialized")},editor:null,setEditor:()=>{throw Error("context not initialized")}}),s=e=>{let{children:t}=e,[n,s]=(0,a.useState)(null),[l,o]=(0,a.useState)({navItemPreviewRefMap:{}}),c=a.useMemo(()=>{let e=[],t=null,n=()=>{let n;t=null;let i={...l.navItemPreviewRefMap},a=!1;for(;n=e.shift();){let[e,t]=n;i[e]!==t&&(i[e]=t,a=!0)}a&&o(e=>({...e,navItemPreviewRefMap:i}))},i=()=>{t&&(clearTimeout(t),t=null)};return(a,r)=>{i(),e.push([a,r]),t=setTimeout(n,0)}},[l.navItemPreviewRefMap]);return(0,i.jsx)(r.Provider,{value:{state:l,setNavItemPreviewRef:c,editor:n,setEditor:s},children:t})};function l(){return(0,a.useContext)(r)}},94922:(e,t,n)=>{"use strict";n.d(t,{Eg:()=>y,Fm:()=>f,OH:()=>b,dg:()=>h,in:()=>c,l0:()=>p,lH:()=>u,o_:()=>v,sP:()=>l,tZ:()=>d,wL:()=>C,zr:()=>o});var i=n(52762),a=n(15607),r=n(47665),s=n(15597);let l=e=>["left","right"].includes(e),o=e=>{let{layout:t,parentCards:n,isMobileDevice:i}=e;return i&&"left"===t?"mobileLeft":i&&"right"===t?"mobileRight":l(t)&&c(n)?"blank":t},c=e=>e.some(e=>l(e.attrs.layout)),d=e=>{let t=u(e),n={};return Object.entries(t.items).forEach(e=>{var t;let[i,a]=e,r=null!=(t=null==a?void 0:a.style)?t:{gridArea:i};n['> [data-layout-item-id="'.concat(i,'"]')]=r}),n},u=e=>s.qA[null!=e?e:"blank"]||s.qA.blank,p=e=>{let t={},n=e.pos,i=e.nodeAfter;return i?i.descendants((e,i)=>{if(!(0,r.sw)(e))return!1;t[e.attrs.itemId]={node:e,pos:n+1+i}}):console.error("[getCardLayoutItems] could not find card node at pos ".concat(n)),t},h=(e,t)=>p(e.doc.resolve(t)),g=(e,t,n)=>{let i=e.doc.resolve(t.pos+1),a=i.blockRange(e.doc.resolve(i.end()));a&&e.wrap(a,[{type:n.nodes.cardLayoutItem}]).setMeta("annotationEvent",{type:"wrap-nodes",start:a.start,end:a.end,level:1})},m=(e,t,n,i)=>{let a=n.nodes.cardLayoutItem.createAndFill({itemId:"body",...i});e.insert(t+1,a)},x=(e,t,n,a)=>{let r=n.nodes.cardAccentLayoutItem.createAndFill({itemId:"accent",background:{type:i.h.NONE},...a});e.insert(t+1,r)},f=(e,t,n,i)=>{let a=e.doc.nodeAt(t),s=h(e,t);if("responsive"===(0,r.g6)(a)){if(0===Object.keys(s).length){g(e,{node:a,pos:t},n),i.items.accent&&x(e,t,n);return}i.items.body&&!s.body&&m(e,t,n),i.items.accent&&!s.accent?x(e,t,n):s.accent&&"cardLayoutItem"===s.accent.node.type.name&&b(e,s.accent.pos,s.accent.node,n)}},b=(e,t,n,i)=>{e.replaceRangeWith(t,t+n.nodeSize,i.nodes.cardAccentLayoutItem.createAndFill({...n.attrs}))},C=e=>"cardAccentLayoutItem"===e.type.name&&"accent"===e.attrs.itemId,y=e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId,v=e=>{let t=(0,a.GY)(e,C)[0];if(t)return t.node.attrs.background}},95011:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var i=n(45666),a=n(67097);class r{getKey(e){let{query:t,provider:n,options:i}=e;return"".concat(n,"__").concat(t,"__").concat(JSON.stringify(i))}markUsed(e){this.usedImages.add(e)}isUsed(e){return this.usedImages.has(e)}async findImage(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.loadImageId){let t=this.foundImages.get(e.loadImageId);if(t)return t}await this.loadImageResults(e);let i=this.getKey(e);return this.validImagePromises.has(i)?(t=this.validImagePromises.get(i).then(()=>this.findValidImage(e)),this.validImagePromises.set(i,t)):t=this.findValidImage(e),this.validImagePromises.set(i,t),t.then(t=>(t&&n&&this.markUsed(t.imageUrl),t&&e.loadImageId&&this.foundImages.set(e.loadImageId,t),t))}async findValidImage(e){let t=this.getKey(e);for(let e of this.results.get(t)){let{image:t}=e;if(!this.isUsed(t.imageUrl)&&(void 0===e.isValid&&(e.isValid=await (0,a.Ef)(t.imageUrl)),e.isValid))return e.image}return null}async loadImageResults(e){let{query:t,provider:n,options:r,count:s}=e,l=this.getKey({query:t,provider:n,options:r});if(this.results.has(l))return;if(this.requestPromises.has(l))return void await this.requestPromises.get(l);this.debugRequests.push(l);let o=(0,i.g)({query:t,count:s,options:r,provider:n}).then(e=>e.filter(e=>(0,a.zk)(e.imageUrl))).then(e=>{let t=e.map(e=>({image:e,isValid:void 0}));return this.results.set(l,t),e});this.requestPromises.set(l,o),await o}debugInfo(){return{requests:this.debugRequests}}constructor(){this.usedImages=new Set,this.results=new Map,this.requestPromises=new Map,this.validImagePromises=new Map,this.debugRequests=[],this.generateImagePromises=new Map,this.foundImages=new Map}}},95017:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(37243),a=n(42725),r=n.n(a),s=n(64022),l=n.n(s);let o=i.YY.create({name:"updateAttributesAtPos",addCommands:()=>({updateAttributesAtPos:(e,t)=>n=>{let{tr:i}=n;return Object.entries(t).forEach(t=>{let[n,a]=t;i.setNodeAttribute(e,n,a)}),!0},updateNestedAttributesAtPos:(e,t)=>n=>{let{tr:i}=n,a=i.doc.nodeAt(e);return!!a&&(Object.entries(t).forEach(t=>{let[n,r]=t,s=l()(r)?{...a.attrs[n],...r}:r;i.setNodeAttribute(e,n,s)}),!0)},updateAttributeKeyPathAtPos:(e,t,n)=>i=>{var a;let{tr:s,state:l}=i,o=null==(a=l.doc.nodeAt(e))?void 0:a.attrs;if(!o)return!1;let c=JSON.parse(JSON.stringify(o));return Object.entries(r()(c,t,n)).forEach(t=>{let[n,i]=t;s.setNodeAttribute(e,n,i)}),!0}})})},95168:(e,t,n)=>{"use strict";n.d(t,{V:()=>C,h:()=>b});var i=n(6029),a=n(40452),r=n(51684),s=n(55729),l=n(59230),o=n(25778),c=n(89703),d=n(43634),u=n(54765),p=n(28647),h=n(66082),g=n(98968),m=n(64234),x=n(22216),f=n(62695);let b=e=>(0,i.jsx)(u.u,{...e,as:"div",children:(0,i.jsx)(C,{...e})}),C=e=>{var t;let{node:n,decorations:u,editor:b}=e,{source:C,horizontalAlign:y,uploadStatus:v,loadImageParams:w,loadImageStatus:A}=n.attrs,{getPos:k}=e,{isFullWidth:L}=(0,p.D)(u),j=(null==(t=m.Fn[C])?void 0:t.icon)||r.Cyq,E=(0,g.NZ)(e),S=(0,f.j)(b,k),M=(0,o.GV)(d.nD),I=(0,c.f)(),_=(0,s.useCallback)(()=>{I({isOpen:!0})},[I]);return(0,i.jsx)(a.s,{w:"100%",h:"100%",dir:(0,h.fZ)(u,y),direction:"column",sx:(0,h.yp)(y),children:(0,i.jsx)(x.Pf,{hasUploadError:v===l.A.Error&&!b.isThumbnail,isUploading:v===l.A.Uploading,isLoading:"queued"===A&&!b.isThumbnail,loadingProvider:null==w?void 0:w.provider,"data-content-reference":!0,icon:j,width:L||E?"100%":"18em",maxW:"100%",h:E?"100%":"10em",maxH:"100%",onSelectAndFocus:S,defaultSource:C,"data-drag-handle":!0,"data-selection-ring":!0,"data-selection-background":!0,borderRadius:"var(--box-border-radius)",hasQuickActions:!b.isThumbnail,handleDoubleClick:M?_:void 0})})}},95465:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var i=n(91938),a=n(58809),r=n(25778);let s=()=>{var e,t;let n=(0,r.GV)(a.Jo);if(!n)return!1;let s=i.$.SHARE_TOKEN,l=null==(e=n.accessLinks)?void 0:e.some(e=>""===e.token),o=null==(t=n.accessLinks)?void 0:t.some(e=>null===e.permission);return!!s||!!l&&!o}},95571:(e,t,n)=>{"use strict";n.d(t,{CO:()=>o,tL:()=>d,xE:()=>c});var i=n(30892),a=n(28615),r=n(95695),s=n(62452),l=n(82327);let o={boxShadow:"var(--card-shadow)",backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)","@media print":{boxShadow:"var(--card-box-shadow)",border:"var(--card-border)"}},c={backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"0"},d=e=>{let{cardColor:t,config:n,theme:o}=e,c=(0,s.ZY)(t),d=(0,s.Ik)(t),u=(0,s.Bc)(n),p=(a.hQ||a.rS)&&"frosted"===n.cardTransparency?.95:.75,h=r.T5[n.roundness].cardRadius,{cardBorderEm:g,cardShadowSizeEm:m}=r.ws[n.cardBorder],x=(0,s.Ik)((0,s.J1)(o)),f=g>0&&"sm"===n.roundness?"1px":"".concat(h,"em"),{shadow:b,pdfShadow:C}=r.Jm[n.cardShadow||"default"],y=a.rS&&!C?void 0:"soft3d"===n.cardShadow?(0,l.m)(d):b,v=0===g?void 0:"0 0 0 ".concat(g,"em ").concat(x),w=c?(0,i.Pf)(d,20):(0,i.Pf)(d,-5);return{"--card-background-color":u?(0,i.$3)(d,p):d,"--card-border-color":x,"--card-backdrop-filter":"frosted"!==n.cardTransparency||a.hQ||a.rS?"none":"blur(20px) saturate(170%)","--card-border":0===g?void 0:"var(--card-border-width) solid var(--card-border-color)","--card-border-width":"".concat(g,"em"),"--card-border-radius":f,"--card-shadow-distance":"".concat(m,"em"),"--card-border-shadow":v,"--card-box-shadow":y,"--card-shadow":[v,y].filter(e=>!!e).join(", "),"--clickable-background-color":"none"===n.shapeFill?(0,i.$3)(w,.4):(0,i.$3)(w,.6)}}},95663:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});let i=n(35658).Ay.extend({parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration=line-through",consuming:!1},{style:"text-decoration-line=line-through",consuming:!1}],addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}}})},95714:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>f,ZI:()=>x});var i=n(84462),a=n.n(i),r=n(17006),s=n(30892),l=n(28615),o=n(95695),c=n(62452),d=n(90098),u=n(92382),p=n(81136),h=n(95571),g=n(45214);let m=(e,t)=>{let n=void 0!==t,i=!e.config.disableReadabilityAdjustment||n,a=n?o._m:c.H5,r=n?4.5:3,l=t?{type:"solid",color:t}:(0,c.Tn)(e),d=(0,c.Ik)(l),u=t?(0,s.$p)(t):(0,c.Mw)(e),p=(0,c.CD)(e)[0],h=(0,c.Ik)(p),g=i?(0,c.Vj)(p,d,r,!1):p,m=(0,c.Jh)(e),x=i?(0,c.Vj)(m,d,r,!1):m,f=(0,c.Ik)(x),b=(0,c.jO)(e),C=i?(0,c.Vj)(b,d,r,!1):b,y=(0,c.Ik)(C),v=(0,c.fQ)(e),w=i?(0,c.Vj)(v,d,a,n):v,A=(0,c.Ik)(w),k=(0,s.$p)(A),L=(0,c.Lz)(e),j=i?(0,c.Vj)(L,d,r,n):L,E=(0,c.Ik)(j);return{bodyColorReadable:w,bodyColorSolid:A,isBodyColorDark:k,headingColorReadable:j,headingColorSolid:E,linkColorReadable:x,linkColorSolid:f,buttonColorReadable:C,buttonColorSolid:y,primaryColor:p,primaryColorReadable:g,primaryColorSolid:h,cardColor:l,cardColorSolid:d,isCardDark:u}},x=a()((e,t)=>{var n,i;let{bodyFont:a,headingFont:x,fonts:f}=e,b=(0,u.vt)(f,a)||o.z8.bodyFont,C=(0,u.vt)(f,x)||o.z8.headingFont,{bodyColorReadable:y,bodyColorSolid:v,isBodyColorDark:w,headingColorReadable:A,primaryColorReadable:k,primaryColorSolid:L,primaryColor:j,linkColorSolid:E,buttonColorReadable:S,buttonColorSolid:M,cardColorSolid:I,cardColor:_,isCardDark:D}=m(e,t),R=(0,d.M)(e),T=(0,h.tL)({cardColor:_,config:R,theme:e}),z=(0,g.n3)({bodyColor:y,cardColor:_,config:R,theme:e}),H=(0,g.gt)({config:R}),N=(0,g.QI)({cardColor:_,config:R}),B="linear-gradient"!==j.type?void 0:"semi"===R.shapeFill?(0,p.nz)(j,I,.5):j,P=(0,p.Hh)(B,D?.25:.9);return{...T,...H,...z,...N,"--body-font":'"'.concat(b,'"'),"--heading-font":'"'.concat(C,'"'),"--heading-font-weight":(0,u.Kn)(e,"heading"),"--body-font-weight":(0,u.Kn)(e,"body"),"--letter-spacing-body":l.hQ?0:e.config.letterSpacingBody?"".concat(e.config.letterSpacingBody,"em"):void 0,"--letter-spacing-heading":l.hQ?0:e.config.letterSpacingHeading?"".concat(e.config.letterSpacingHeading,"em"):void 0,"--line-height-body":null!=(n=e.config.lineHeightBody)?n:r.Uw,"--line-height-heading":null!=(i=e.config.lineHeightHeading)?i:r.eL,"--heading-transform":e.config.headingTransform,"--accent-color":L,"--accent-color-readable":(0,c.Ik)(k),"--accent-gradient":(0,p.yh)(k),"--accent-gradient-fill":(0,p.yh)(j),"--accent-gradient-background":(0,p.yh)(P),"--accent-color-background-muted":D?(0,s.PE)(L,.15):(0,s.PE)(L,.9),"--expandable-hover-background":(0,s.$3)(E,.1),"--neutral-border-color":D?"var(--chakra-colors-whiteAlpha-400)":"var(--chakra-colors-blackAlpha-200)","--neutral-background-color":D?(0,s.Pf)(I,5):(0,s.Pf)(I,-5),"--button-color":M,"--button-gradient":(0,p.yh)(S),"--button-color-inverted":(0,s.$p)(M)?"#fff":"#000","--link-color":E,"--link-color-hover":(0,s.$p)(E)?(0,s.Zt)(E,10):(0,s.Zt)(E,-10),"--link-box-shadow":"0 0 0px 3px ".concat((0,s.$3)(E,1)),"--body-color":v,"--body-color-muted":(0,s.$3)(v,.5),"--body-color-inverted":D?"#000":"#fff","--link-color-inverted":(0,s.$p)(E)?"#fff":"#000","--highlight-color-dark":D?"var(--body-color)":"var(--body-color-inverted)","--highlight-color-light":D?"var(--body-color-inverted)":"var(--body-color)","--highlight-link-color-hover-dark":D?(0,s.Zt)(v,w?10:-10):(0,s.Zt)("#fff",-10),"--highlight-link-color-hover-light":D?(0,s.Zt)("#000",10):(0,s.Zt)(v,w?10:-10),"--heading-color":(0,c.Ik)(A),"--heading-gradient":(0,p.yh)(A),"--card-color":I,"--card-color-mask":(0,s.$3)(I,(0,s.$p)(I)?.8:.85),"--placeholder-button-bg-color":D?(0,s.Lm)("gray.700"):(0,s.Lm)("gray.200"),"--placeholder-button-bg-hover-color":D?(0,s.Lm)("gray.600"):(0,s.Lm)("gray.300"),"--placeholder-button-text-color":D?(0,s.Lm)("gray.300"):(0,s.Lm)("gray.400"),"--placeholder-button-text-hover-color":D?(0,s.Lm)("gray.200"):(0,s.Lm)("gray.700")}}),f=a()(m)},95740:(e,t,n)=>{"use strict";n.d(t,{k:()=>K});var i=n(6029),a=n(26420),r=n(43607),s=n(79649),l=n(76765),o=n(3298),c=n(40452),d=n(85399),u=n(45214);let p=e=>{switch(e){case"small":break;case"medium":return 4;case"large":return 6}return 2},h=e=>(0,i.jsx)(a.a,{contentEditable:!1,userSelect:"none",pointerEvents:"none",...e,children:(0,i.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",className:u._B,style:{filter:"drop-shadow(0.25em 0 0em var(--card-color)) drop-shadow(0 0.25em 0em var(--card-color))"},children:(0,i.jsx)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-10zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),g={fullLine:{component:e=>{let{cellProps:t,cellStyle:n,decorSize:a,decorPosition:r}=e,{layoutOptions:s,cellOptions:l,index:o,direction:h}=t,{colorVars:g}=(0,d.r)({layoutColorOverride:s.color,cellColorOverride:null==l?void 0:l.color,index:o,forceTransparent:!1}),m=p(a);return(0,i.jsx)(c.s,{position:"absolute",top:"side"===r?"calc(var(--line-thickness) * -1)":"top"===r?"0":void 0,bottom:"side"===r?"calc(var(--line-thickness) * -1)":"bottom"===r?"0":void 0,left:"top"===r?"calc(var(--line-thickness) * -1)":void 0,right:"top"===r?"calc(var(--line-thickness) * -1)":void 0,insetInlineStart:"ltr"===h?"calc(var(--line-thickness) * -1)":void 0,insetInlineEnd:"rtl"===h?"calc(var(--line-thickness) * -1)":void 0,width:"side"===r?"calc(var(--line-thickness) * ".concat(m,")"):void 0,height:"top"===r||"bottom"===r?"calc(var(--line-thickness) * ".concat(m,")"):void 0,className:u.P7,borderInlineStartRadius:"none"===n?void 0:"var(--box-border-radius)",sx:g,contentEditable:!1})},stylesFunction:e=>{let{cellStyle:t,decorSize:n,decorPosition:i}=e,a=p(n);return{borderInlineStartWidth:"0px !important",borderStartStartRadius:"calc(var(--line-thickness) * ".concat(a,") !important"),borderEndStartRadius:"calc(var(--line-thickness) * ".concat(a,") !important"),paddingInlineStart:"side"===i?"calc(var(--line-thickness) * ".concat(a," + ").concat(o.xb,")"):void 0,paddingTop:"top"===i?"calc(var(--line-thickness) * ".concat(a," + ").concat(o.xb,")"):void 0}}},quotes:{component:e=>{let{cellProps:t,cellStyle:n}=e,{layoutOptions:a,cellOptions:r,index:s,direction:l}=t,{colorVars:o}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==r?void 0:r.color,index:s,forceTransparent:!1});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{position:"absolute",top:"-".concat(.6,"em"),insetStart:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),css:o}),(0,i.jsx)(h,{position:"absolute",bottom:"-".concat(.6,"em"),insetEnd:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),transform:"rotate(180deg)",css:o})]})},stylesFunction:()=>({p:"calc(".concat(o.xb," + 0.5em)")})}};var m=n(55729),x=n(58568);let f=2/3*3,b=function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ltr",r=f*n,s=3*n;if(!i){let n=.75*t,i=(e-r)/2,a=i+r,l=(e-s)/2;return"M ".concat(i," 0 ")+"L ".concat(a," 0 ")+"L ".concat(a," ").concat(n," ")+"L ".concat(l+s," ").concat(n," ")+"L ".concat(e/2," ").concat(t," ")+"L ".concat(l," ").concat(n," ")+"L ".concat(i," ").concat(n," ")+"Z"}let l=t/2,o=(t-r)/2,c=o+r,d=(t-s)/2,u=d+s;if("rtl"===a){let t=2.5*n;return"M 0 ".concat(l," ")+"L ".concat(t," ").concat(d," ")+"L ".concat(t," ").concat(o," ")+"L ".concat(e," ").concat(o," ")+"L ".concat(e," ").concat(c," ")+"L ".concat(t," ").concat(c," ")+"L ".concat(t," ").concat(u," ")+"Z"}let p=e-2.5*n;return"M 0 ".concat(o," ")+"L ".concat(p," ").concat(o," ")+"L ".concat(p," ").concat(d," ")+"L ".concat(e," ").concat(l," ")+"L ".concat(p," ").concat(u," ")+"L ".concat(p," ").concat(c," ")+"L 0 ".concat(c," ")+"Z"},C=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:s,index:l,direction:o,selectCellForElementProps:p}=t,{colorVars:h}=(0,d.r)({layoutColorOverride:r.color,cellColorOverride:null==s?void 0:s.color,index:l}),{width:g,height:m,fontSize:f,ref:C}=(0,x.Lf)(),y=b(g,m,f,n,o),v=n?{width:"100%",height:"".concat(3,"em")}:{minWidth:"".concat(3,"em"),width:"".concat(3,"em"),height:"100%"};return(0,i.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:h,...p,ref:C,...v,children:(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...p,children:(0,i.jsx)(a.a,{as:"path",d:y,className:u.D6})})})});C.displayName="ArrowLabel";var y=n(21938),v=n(68247),w=n(66082),A=n(69837);let k=(e,t,n,i,a)=>{let r=(i?4:5)*n,s=+n;return i?"rtl"===a?"\n          M ".concat(s," 0\n          L 0 ").concat(r/2,"\n          L ").concat(s," ").concat(r,"\n          L ").concat(e," ").concat(r,"\n          L ").concat(e-s," ").concat(r/2,"\n          L ").concat(e," 0 Z"):"\n        M ".concat(e-s," 0\n        L ").concat(e," ").concat(r/2,"\n        L ").concat(e-s," ").concat(r,"\n        L 0 ").concat(r,"\n        L ").concat(s," ").concat(r/2,"\n        L 0 0 Z"):"\n          M 0 ".concat(t-s,"\n          L ").concat(r/2," ").concat(t,"\n          L ").concat(r," ").concat(t-s,"\n          L ").concat(r," 0\n          L ").concat(r/2," ").concat(s,"\n          L 0 0 Z")},L=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:s,index:l,direction:o,selectCell:p,selectCellForElementProps:h}=t,g=null==s?void 0:s.icon,{colorVars:m}=(0,d.r)({layoutColorOverride:r.color,cellColorOverride:null==s?void 0:s.color,index:l}),{width:f,height:b,fontSize:C,ref:L}=(0,x.Lf)(),j=k(f,b,C,n,o),E=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,i.jsxs)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...m,...(0,w.yp)("center")},...E,ref:L,"data-export-as-image":!0,className:u.lR,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...h,children:(0,i.jsx)(a.a,{as:"path",d:j,className:u.D6})}),(0,i.jsx)(c.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:g,number:r.numbered?l+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:p})})]})});L.displayName="ChevronLabel";let j=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:s,selectCell:l,selectCellForElementProps:o}=t,p=null==r?void 0:r.icon,{colorVars:h}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==r?void 0:r.color,index:s});return(0,i.jsx)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,y.cx)(u.SA,u.lR),...o,children:(0,i.jsx)(c.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:p,number:a.numbered?s+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:l})})})});j.displayName="FlushLabel";let E=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:s,index:o,direction:p,selectCell:h,selectCellForElementProps:g,theme:m,firstChildSize:x}=t,f=null==s?void 0:s.icon,{colorVars:b}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==s?void 0:s.color,index:o}),C=(0,r.FX)(),w=(0,l.G)(m,C,"h1",x);return(0,i.jsxs)(c.s,{width:n?"100%":"3em",height:n?"3em":"100%",align:"center",justify:"center",position:"relative",direction:n?"row":"column",contentEditable:!1,children:[(0,i.jsx)(c.s,{borderRadius:"50% !important",width:"3em",height:"3em",position:"absolute",left:"rtl"===p?void 0:0,right:"rtl"===p?0:void 0,top:n?"50%":"".concat(w,"em"),transform:n?"translateY(-50%)":void 0,zIndex:"1",sx:{...b},className:(0,y.cx)(u.SA,u.lR),justify:"center",align:"center",children:(0,i.jsx)(c.s,{fontSize:"1.5em",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:f,number:a.numbered?o+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:h})})}),(0,i.jsx)(c.s,{align:"center",justify:"center",position:"relative",sx:b,...n?{width:"calc(100% - 1.5em)",height:"".concat(1,"em"),marginInlineStart:"1.5em"}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"calc(100% - 1.5em)",marginTop:"1.5em"},className:u.SA,...g})]})});E.displayName="IconCircleWithSimpleLineLabel";let S=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:s,selectCell:l,selectCellForElementProps:o}=t,p=null==r?void 0:r.icon,{colorVars:h}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==r?void 0:r.color,index:s});return(0,i.jsx)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h},style:{borderRadius:"12em"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,y.cx)(u.SA,u.lR),...o,children:(0,i.jsx)(c.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:p,number:a.numbered?s+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:l})})})});S.displayName="PillsLabel";let M=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:s,selectCellForElementProps:l}=t,{colorVars:o}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==r?void 0:r.color,index:s});return(0,i.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:o,style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:u.SA,...l})});M.displayName="SimpleLineFlushLabel";let I=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:s,selectCellForElementProps:l}=t,{colorVars:o}=(0,d.r)({layoutColorOverride:a.color,cellColorOverride:null==r?void 0:r.color,index:s});return(0,i.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:o,...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:u.SA,...l})});I.displayName="SimpleLineLabel";let _=(e,t,n,i,a)=>{let r=(i?4:5)*n,s=1.5*n;return i?"rtl"===a?"\n          M ".concat(s," 0\n          L ").concat(e," 0\n          L ").concat(e-s," ").concat(r,"\n          L 0 ").concat(r,"\n          Z"):"\n        M ".concat(s," 0\n        L ").concat(e," 0\n        L ").concat(e-s," ").concat(r,"\n        L 0 ").concat(r,"\n        Z"):"\n          M 0 ".concat(t,"\n          L 0 ").concat(s,"\n          L ").concat(r," 0\n          L ").concat(r," ").concat(t-s,"\n          Z")},D=(0,m.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:s,index:l,direction:o,selectCell:p,selectCellForElementProps:h}=t,g=null==s?void 0:s.icon,{colorVars:m}=(0,d.r)({layoutColorOverride:r.color,cellColorOverride:null==s?void 0:s.color,index:l}),{width:f,height:b,fontSize:C,ref:k}=(0,x.Lf)(),L=_(f,b,C,n,o),j=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,i.jsxs)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...m,...(0,w.yp)("center")},...j,ref:k,"data-export-as-image":!0,className:u.lR,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...h,children:(0,i.jsx)(a.a,{as:"path",d:L,className:u.D6})}),(0,i.jsx)(c.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:g,number:r.numbered?l+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:p})})]})});D.displayName="SlantedLabel";let R={chevron:L,flush:j,pills:S,slanted:D,simpleLine:I,arrow:C,iconCircleWithSimpleLine:E,simpleLineFlush:M},T=e=>{let{innerLabelConfig:t,cellProps:n,isHorizontal:a}=e;if(!t)return null;let r=t?R[t.labelType]:void 0;return r?(0,i.jsx)(r,{cellProps:n,isHorizontal:a}):null};var z=n(93171);let H=(0,m.memo)(e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:a,index:r,selectCell:s,selectCellForElementProps:l}=t,o=null==a?void 0:a.icon,{colorVars:p}=(0,d.r)({layoutColorOverride:n.color,cellColorOverride:null==a?void 0:a.color,index:r,forceTransparent:!1});return(0,i.jsx)(c.s,{width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:p,className:(0,y.cx)(u.P7,u.ok),style:{borderRadius:"9999px"},...l,children:(0,i.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,y.cx)(v.U6),children:(0,i.jsx)(A.R,{image:o,number:n.numbered?r+1:void 0,isNumbered:n.numbered,iconSize:1.35,selectCell:s})})})});H.displayName="IconCircleMarker";let N={iconCircle:H,smallBullet:e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:r,index:s}=t,{colorVars:l}=(0,d.r)({layoutColorOverride:n.color,cellColorOverride:null==r?void 0:r.color,index:s,forceTransparent:!1,isColoringCell:!0});return(0,i.jsx)(a.a,{width:"0.5em",height:"0.5em",borderRadius:"50%",transform:"translateY(-50%)",className:u.P7,flexShrink:0,sx:l,contentEditable:!1})},bigBullet:z.n},B=e=>{if(!e)return{};let{markerPosition:t}=e,n={display:"flex",gap:o.xb};return"left"===t?{...n,flexDirection:"row",alignItems:"start"}:{...n,flexDirection:"column"}},P=(e,t)=>{if(!e)return{};let{markerPosition:n}=e;return"left"===n?{mt:t&&t>0?"".concat(t,"em"):void 0}:{}},F=(e,t)=>{if(!e)return{};let{markerPosition:n}=e;return"left"===n?{mt:t&&t<0?"".concat(-1*t,"em"):void 0}:{}},V=e=>{let{isHorizontal:t,direction:n,layoutOptions:i,gap:a}=e;return{display:"flex",flexDirection:t?"column":"rtl"===n&&"left"===i.horizontalAlign||"ltr"===n&&"right"===i.horizontalAlign?"row-reverse":"row",gap:a,minH:t?void 0:"6em",h:"100%",borderRadius:"var(--box-border-radius)"}},O=e=>{let{isHorizontal:t}=e;return t?{minW:0,transformOrigin:"center top",p:o.xb,pt:0}:{transformOrigin:"left center",p:o.xb,px:0}},Z=e=>{let{isHorizontal:t,markerConfig:n,innerLabelConfig:i,direction:a,layoutOptions:r}=e,s=n?B(n):null,l=i?V({isHorizontal:t,direction:a,layoutOptions:r,gap:"1em"}):null;return s||l},W=e=>{let{isHorizontal:t,innerLabelConfig:n,markerConfig:i,matchBulletPadding:a,cellContentPropOverrides:r}=e,s=i?P(i,a):null,l=n?O({isHorizontal:t}):null,o=s||l;return o?{...o,...r}:r},U=e=>{let{markerConfig:t,cellProps:n,matchBulletPadding:r}=e;if(!t)return null;let s=N[t.markerType];if(!s)return null;let l=F(t,r);return(0,i.jsx)(a.a,{sx:{...l},children:(0,i.jsx)(s,{cellProps:n,markerFontSize:t.markerFontSize})})};var G=n(42403);let K=e=>{let t,{children:n,cellStyle:c="none",cellContentPropOverrides:d,colorVars:u,alignStyles:p,cellProps:h,theme:m,markerConfig:x,innerLabelConfig:f,cellDecorConfig:b,cursor:C,onClick:y}=e,{layoutOptions:v,direction:w,numCells:A,layoutContainerSize:k,firstChildSize:L}=h,{isHorizontal:j}=(0,s.i)({cellSize:v.cellSize||0,horizontalAlign:v.horizontalAlign||"center",orientation:v.orientation||"horizontal",numCells:A,containerSize:k,forceBalance:!1}),E=(0,r.FX)();x&&(t=(0,l.G)(m,E,x.markerFontSize||null,L));let S=Z({isHorizontal:j,markerConfig:x,innerLabelConfig:f,direction:w,layoutOptions:v}),M=W({isHorizontal:j,innerLabelConfig:f,markerConfig:x,matchBulletPadding:t,cellContentPropOverrides:d}),I=b?g[b.decorType]:void 0,_=null==I?void 0:I.component,D=null==I?void 0:I.stylesFunction({cellStyle:c,decorSize:null==b?void 0:b.decorSize,decorPosition:null==b?void 0:b.decorPosition,cellProps:h,isHorizontal:j}),R="none"===c||f;return(0,i.jsxs)(a.a,{"data-selection-ring":!0,cursor:C||"text",onClick:y,position:"relative",p:R?0:o.xb,flex:"1",minW:"0",...d,sx:{...u,...S,...p,...D,...null==d?void 0:d.sx},className:(0,G.X)(c),children:[_&&(0,i.jsx)(_,{cellProps:h,isHorizontal:j,cellStyle:c,decorSize:null==b?void 0:b.decorSize,decorPosition:null==b?void 0:b.decorPosition}),(0,i.jsx)(U,{markerConfig:x,cellProps:h,matchBulletPadding:t}),(0,i.jsx)(T,{innerLabelConfig:f,cellProps:h,isHorizontal:j}),x||f?(0,i.jsx)(a.a,{flex:"1",w:"100%",minW:"0",sx:{...M},cursor:"text",children:n}):n]})}},96177:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>c,S0:()=>o,pS:()=>l,q9:()=>d});var i=n(30892),a=n(28615),r=n(69883),s=n(68247);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"var(--card-color)";if(!e)return{};let s=0==t?e:(0,r.x)(e),l=e;return{"--shape-bg-color-override":0===t?void 0:1===t?e:a.hQ?(0,i.$3)(e,t):"color-mix(in oklab, ".concat(e," ").concat(100*t,"%, ").concat(n,")"),"--shape-border-color-override":s}},o=e=>{if(!e)return{textColor:void 0,textColorVars:void 0};let t=(0,i.$p)(e)?"#fff":"#000",n=c(t);return{textColor:t,textColorVars:n}},c=e=>{if(e)return{"--shape-text-color":e,"--shape-fill-text-color":e,"--body-color":e,"--heading-color":e,"--link-color":e,"--link-color-inverted":(0,i.$p)(e)?"#fff":"#000","--link-color-hover":(0,i.$p)(e)?(0,i.Zt)(e,10):(0,i.Zt)(e,-10)}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return;let n=l(e,t);if(0===t)return n;let{textColor:i,textColorVars:a}=o(e),r=i?(0,s.U2)(i):void 0;return{...n,...a,...r}}},96192:(e,t,n)=>{"use strict";n.d(t,{C:()=>x});var i=n(55729),a=n(20145),r=n(53907),s=n(62826),l=n(99038),o=n(84287),c=n(25778),d=n(37605),u=n(43634),p=n(6807),h=n(47956);let g=()=>{let[e,t]=(0,p.M)("lowCreditsWarningDismissed",null),n=(0,i.useCallback)(()=>!!e&&(!(Date.now()-e>864e5)||(t(null),!1)),[e,t]),a=(0,i.useCallback)(()=>{t(Date.now())},[t]);return{isDismissed:n(),dismissWarning:a}},m=e=>e?null:{key:"plus",name:l.Ft},x=()=>{var e;let{product:t,subscription:n,openUpsellModal:l}=(0,o.I)(),p=null!=(e=(0,c.GV)(s.qj))?e:0,x=(0,c.GV)(h.qz),f=(0,c.GV)(u.sX),b=(0,c.GV)((0,r.pn)(f)),C=(0,a.r)("buddy-chat",{plan:null!=t?t:"free"})?p:1e3,{isDismissed:y,dismissWarning:v}=g(),w="ok";C<=0?w="out":C<=200&&!y&&(w="low");let A="not-full";x>18e4?A="full":x>15e4&&(A="almost-full");let k=null;b?k="stillStreaming":"out"===w?k="credits":"full"===A&&(k="contextWindow");let L=null;if(null==n?void 0:n.nextCreditRefillTime){let e=new Date(n.nextCreditRefillTime),t=new Date;L=Math.ceil((e.getTime()-t.getTime())/864e5)}let j=m(t),E="refill",S=null;return j&&(E="upgrade",S=j.name),{availableCredits:C,contextWindowStatus:A,creditStatus:w,tokensUsed:x,product:t,subscription:n,upsellType:E,upsellPlanName:S,daysToNextCredit:L,openUpgradeModel:(0,i.useCallback)(()=>{j&&l({segmentEvent:d.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_BUDDY_EDIT_CHAT})},[l,j]),dismissLowCreditsWarning:v,disabledReason:k}}},96197:(e,t,n)=>{"use strict";n.d(t,{CG:()=>M,D8:()=>S,JD:()=>x,Kl:()=>g,L0:()=>v,QN:()=>b,Qg:()=>j,Tn:()=>D,_G:()=>E,_t:()=>u,aO:()=>R,cq:()=>p,gC:()=>f,i4:()=>w,lD:()=>I,rO:()=>_,uC:()=>L,w7:()=>y});var i=n(94289),a=n(63867),r=n(23513),s=n(46675),l=n(39078),o=n(61292),c=n(48413),d=n(14503);function u(e){let t=(0,d.t6)(e);if(!t)return null;let n=t.node(-1),i=t.start(-1),a=c.J.get(n);return{...e instanceof s.HT?a.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):a.findCell(t.pos-i),map:a,table:n,tableStart:i}}function p(e,t){let{tableStart:n,col:i,table:a,colMinPercent:r,newColSize:s=20}=t,u=c.J.get(a),p=i>0?-1:0;(0,d.Ui)(u,a,i+p)&&(p=0==i||i==u.width?null:0);for(let t=0;t<u.height;t++){let r=t*u.width+i;if(i>0&&i<u.width&&u.map[r-1]==u.map[r]){let s=u.map[r],l=a.nodeAt(s);e.setNodeMarkup(e.mapping.map(n+s),void 0,(0,d.uH)(l.attrs,i-u.colCount(s))),t+=l.attrs.rowspan-1}else{let s=null==p?(0,o.e)(a.type.schema).cell:a.nodeAt(u.map[r+p]).type,l=u.positionAt(t,i,a);e.insert(e.mapping.map(n+l),s.createAndFill())}}let{colWidths:h}=a.attrs,g=(0,l.KJ)(h,i,s,r);return h.length===g.length?(e.setMeta("preventDispatch",!0),!1):(e.setNodeMarkup(n-1,void 0,{colWidths:[...g]}),!0)}function h(e,t,n){let{map:i,tableStart:a,table:r}=t,s=e.mapping.maps.length;for(let t=0;t<i.height;){let l=t*i.width+n,o=i.map[l],c=r.nodeAt(o);if(n>0&&i.map[l-1]==o||n<i.width-1&&i.map[l+1]==o)e.setNodeMarkup(e.mapping.slice(s).map(a+o),void 0,(0,d.Pn)(c.attrs,n-i.colCount(o)));else{let t=e.mapping.slice(s).map(a+o);e.delete(t,t+c.nodeSize)}t+=c.attrs.rowspan}}function g(e,t,n){if(!(0,d.aH)(e))return!1;let i=u(e);if(!i||0==i.left&&i.right==i.map.width)return!1;let r=[];for(let e=i.right-1;h(t,i,e),r.push(e),e!=i.left;e--)i.table=i.tableStart?t.doc.nodeAt(i.tableStart-1):t.doc,i.map=c.J.get(i.table);let s=(0,l.XC)(i.table.attrs.colWidths,r);if(t.setNodeMarkup(i.tableStart-1,void 0,{colWidths:s}),i.right===i.map.width){let e=i.tableStart+i.map.positionAt(0,i.left-1,i.table),n=t.doc.resolve(e),r=a.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function m(e,t,n){let{map:i,tableStart:a,table:r}=t,s=a;for(let e=0;e<n;e++)s+=r.child(e).nodeSize;let l=[],c=n>0?-1:0;(function(e,t,n){let i=(0,o.e)(t.type.schema).header_cell;for(let a=0;a<e.width;a++)if(t.nodeAt(e.map[a+n*e.width]).type!=i)return!1;return!0})(i,r,n+c)&&(c=0==n||n==i.height?null:0);for(let t=0,s=i.width*n;t<i.width;t++,s++)if(n>0&&n<i.height&&i.map[s]==i.map[s-i.width]){let n=i.map[s],l=r.nodeAt(n).attrs;e.setNodeMarkup(a+n,void 0,(0,d.ob)(l,"rowspan",l.rowspan+1)),t+=l.colspan-1}else{let e=null==c?(0,o.e)(r.type.schema).cell:r.nodeAt(i.map[s+c*i.width]).type;l.push(e.createAndFill())}return e.insert(s,(0,o.e)(r.type.schema).row.create(null,l)),e}function x(e,t){if(!(0,d.aH)(e.selection))return!1;if(t){let n=u(e.selection);if(!n)return!1;t(m(e.tr,n,n.top))}return!0}function f(e,t){if(!(0,d.aH)(e.selection))return!1;if(t){let n=u(e.selection);if(!n)return!1;t(m(e.tr,n,n.bottom))}return!0}function b(e,t,n){if(!(0,d.aH)(e))return!1;let i=u(e);if(!i||0==i.top&&i.bottom==i.map.height)return!1;for(let e=i.bottom-1;!function(e,t,n){let{map:i,table:a,tableStart:r}=t,s=0;for(let e=0;e<n;e++)s+=a.child(e).nodeSize;let l=s+a.child(n).nodeSize,o=e.mapping.maps.length;e.delete(s+r,l+r);for(let t=0,s=n*i.width;t<i.width;t++,s++){let l=i.map[s];if(n>0&&l==i.map[s-i.width]){let n=a.nodeAt(l).attrs;e.setNodeMarkup(e.mapping.slice(o).map(l+r),void 0,(0,d.ob)(n,"rowspan",n.rowspan-1)),t+=n.colspan-1}else if(n<i.width&&l==i.map[s+i.width]){let s=a.nodeAt(l),c=s.type.create((0,d.ob)(s.attrs,"rowspan",s.attrs.rowspan-1),s.content),u=i.positionAt(n+1,t,a);e.insert(e.mapping.slice(o).map(r+u),c),t+=s.attrs.colspan-1}}}(t,i,e),e!=i.top;e--)i.table=i.tableStart?t.doc.nodeAt(i.tableStart-1):t.doc,i.map=c.J.get(i.table);if(i.bottom===i.map.height){let e=i.tableStart+i.map.positionAt(i.top-1,0,i.table),n=t.doc.resolve(e),r=a.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function C(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function y(e,t){let n=e.selection;if(!(n instanceof s.HT)||n.$anchorCell.pos==n.$headCell.pos)return!1;let a=u(e.selection);if(!a)return!1;let{map:r}=a;if(function(e,t){let{width:n,height:i,map:a}=e,r=t.top*n+t.left,s=r,l=(t.bottom-1)*n+t.left,o=r+(t.right-t.left-1);for(let e=t.top;e<t.bottom;e++){if(t.left>0&&a[s]==a[s-1]||t.right<n&&a[o]==a[o+1])return!0;s+=n,o+=n}for(let e=t.left;e<t.right;e++){if(t.top>0&&a[r]==a[r-n]||t.bottom<i&&a[l]==a[l+n])return!0;r++,l++}return!1}(r,a))return!1;if(t){let n=e.tr,l={},o=i.FK.empty,c,u;for(let e=a.top;e<a.bottom;e++)for(let t=a.left;t<a.right;t++){let i=r.map[e*r.width+t],s=a.table.nodeAt(i);if(!l[i])if(l[i]=!0,null==c)c=i,u=s;else{C(s)||(o=o.append(s.content));let e=n.mapping.map(i+a.tableStart);n.delete(e,e+s.nodeSize)}}if(n.setNodeMarkup(c+a.tableStart,void 0,(0,d.ob)((0,d.uH)(u.attrs,u.attrs.colspan,a.right-a.left-u.attrs.colspan),"rowspan",a.bottom-a.top)),o.size){let e=c+1+u.content.size,t=C(u)?c+1:e;n.replaceWith(t+a.tableStart,e+a.tableStart,o)}n.setSelection(new s.HT(n.doc.resolve(c+a.tableStart))),t(n)}return!0}function v(e,t){var n;let i=(0,o.e)(e.schema);return(n=e=>{let{node:t}=e;return i[t.type.spec.tableRole]},(e,t)=>{let i,a,r=e.selection;if(r instanceof s.HT){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,a=r.$anchorCell.pos}else{if(!(i=(0,d.HF)(r.$from)))return!1;a=(0,d.KW)(r.$from).pos}if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(t){let l,o=i.attrs,c=[],p=o.colwidth;o.rowspan>1&&(o=(0,d.ob)(o,"rowspan",1)),o.colspan>1&&(o=(0,d.ob)(o,"colspan",1));let h=u(e.selection);if(!h)return!1;let g=e.tr;for(let e=0;e<h.right-h.left;e++)c.push(p?(0,d.ob)(o,"colwidth",p&&p[e]?[p[e]]:null):o);for(let e=h.top;e<h.bottom;e++){let t=h.map.positionAt(e,h.left,h.table);e==h.top&&(t+=i.nodeSize);for(let a=h.left,r=0;a<h.right;a++,r++)(a!=h.left||e!=h.top)&&g.insert(l=g.mapping.map(t+h.tableStart,1),n({node:i,row:e,col:a}).createAndFill(c[r]))}g.setNodeMarkup(a,n({node:i,row:h.top,col:h.left}),c[0]),r instanceof s.HT&&g.setSelection(new s.HT(g.doc.resolve(r.$anchorCell.pos),l&&g.doc.resolve(l))),t(g)}return!0})(e,t)}function w(e,t){return function(n,i){var a;if(!(0,d.aH)(n.selection))return!1;let r=(0,d.t6)(n.selection);if((null==(a=r.nodeAfter)?void 0:a.attrs[e])===t)return!1;if(i){let a=n.tr;n.selection instanceof s.HT?n.selection.forEachCell((n,i)=>{n.attrs[e]!==t&&a.setNodeMarkup(i,void 0,(0,d.ob)(n.attrs,e,t))}):a.setNodeMarkup(r.pos,void 0,(0,d.ob)(r.nodeAfter.attrs,e,t)),i(a)}return!0}}function A(e,t,n){let i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<i.length;e++){let a=t.table.nodeAt(i[e]);if(a&&a.type!==n.header_cell)return!1}return!0}function k(e,t){if((t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic)return function(t,n){if(!(0,d.aH)(t.selection))return!1;if(n){let i=(0,o.e)(t.schema),a=u(t.selection);if(!a)return!1;let r=t.tr,s=a.map.cellsInRect("column"==e?new c.r(a.left,0,a.right,a.map.height):"row"==e?new c.r(0,a.top,a.map.width,a.bottom):a),l=s.map(e=>a.table.nodeAt(e));for(let e=0;e<s.length;e++)l[e].type==i.header_cell&&r.setNodeMarkup(a.tableStart+s[e],i.cell,l[e].attrs);if(0==r.steps.length)for(let e=0;e<s.length;e++)r.setNodeMarkup(a.tableStart+s[e],i.header_cell,l[e].attrs);n(r)}return!0};return function(t,n){if(!(0,d.aH)(t.selection))return!1;if(n){let i=(0,o.e)(t.schema),a=u(t.selection);if(!a)return!1;let r=t.tr,s=A("row",a,i),l=A("column",a,i),d=+!!("column"===e?s:"row"===e&&l),p="column"==e?new c.r(0,d,1,a.map.height):"row"==e?new c.r(d,0,a.map.width,1):a,h="column"==e?l?i.cell:i.header_cell:"row"==e?s?i.cell:i.header_cell:i.cell;a.map.cellsInRect(p).forEach(e=>{let t=e+a.tableStart,n=r.doc.nodeAt(t);n&&r.setNodeMarkup(t,h,n.attrs)}),n(r)}return!0}}let L=k("row",{useDeprecatedLogic:!0}),j=k("column",{useDeprecatedLogic:!0}),E=k("cell",{useDeprecatedLogic:!0});function S(e){return function(t,n){if(!(0,d.aH)(t.selection))return!1;let i=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let i=e.node(-1).child(t);if(i.childCount)return n-1-i.lastChild.nodeSize;n-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),i=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return i+1;i+=e.nodeSize}}}((0,d.t6)(t.selection),e);if(null==i)return!1;if(n){let e=t.doc.resolve(i);n(t.tr.setSelection(a.U3.between(e,(0,d.fx)(e))).scrollIntoView())}return!0}}function M(e,t,n){let i=e.$anchor;for(let e=i.depth;e>0;e--)if("table"==i.node(e).type.spec.tableRole){t.delete(i.before(e),i.after(e)).scrollIntoView();let a=(0,r.i)(t);return a&&t.setSelection(a),n&&n(t),!0}return!1}let I=(e,t,n)=>e instanceof s.HT&&!!(e.isSelectingAllCells()&&e.everyCell(C))&&M(e,t,n),_=(e,t,n)=>e instanceof s.HT&&!!e.isRowSelection()&&!!e.everyCell(C)&&b(e,t,n),D=(e,t,n)=>e instanceof s.HT&&!!e.isColSelection()&&!!e.everyCell(C)&&g(e,t,n),R=(e,t,n,i,a,r)=>{if(!(0,d.aH)(n))return!1;let s=u(n);if(!s)return!1;let o=function(e,t){let{tableStart:n,fromCol:i,toCol:a,table:r,colMinPercent:s=10,newColSize:o=20}=t;if(i===a)return!1;let d=c.J.get(r);if(i<0||i>=d.width||a<0||a>d.width)return console.warn("Invalid column indices:",{fromCol:i,toCol:a,mapWidth:d.width}),!1;if(!p(e,{tableStart:n,col:a,table:r,colMinPercent:s,newColSize:o}))return console.warn("Failed to add column at position:",a),!1;let u=e.doc.nodeAt(n-1),g=c.J.get(u),m=a<=i?i+1:i;for(let t=0;t<g.height;t++){let i=g.positionAt(t,m,u),r=g.positionAt(t,a,u),s=u.nodeAt(i);if(s){let t=n+r,i=u.nodeAt(r);if(i){let a=s.copy(s.content);e.replaceWith(t,t+i.nodeSize,a),u=e.doc.nodeAt(n-1),g=c.J.get(u)}}}let x=e.doc.nodeAt(n-1),f=c.J.get(x);h(e,{left:m,right:m+1,top:0,bottom:f.height,tableStart:n,map:f,table:x},m);let{colWidths:b}=e.doc.nodeAt(n-1).attrs;if(b&&b.length>0){let t=(0,l.XC)(b,[m]);e.setNodeMarkup(n-1,void 0,{colWidths:t})}return!0}(i,{tableStart:s.tableStart,fromCol:e,toCol:t,table:s.table,colMinPercent:(null==r?void 0:r.colMinPercent)||10,newColSize:(null==r?void 0:r.newColSize)||20});return o&&a&&a(i),o}},97933:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var i=n(6029),a=n(99492),r=n(55597),s=n(77650),l=n(74471);let o={key:"isEmphasized",Control:e=>{let{value:t,editor:n,pos:o}=e;return(0,i.jsx)(l.I,{label:t?s.Ru._({id:"PDMbsX"}):s.Ru._({id:"m1crrt"}),icon:t?r.yy:a.yy,onClick:()=>{o&&n.chain().handleEmphasizeCell(o,!t).run()}})},ControlMenu:(e,t,n)=>({key:n.key,label:e?s.Ru._({id:"PDMbsX"}):s.Ru._({id:"m1crrt"}),icon:e?r.yy:a.yy,onClick:()=>{t(!e)}}),name:()=>"Emphasis"}},97984:(e,t,n)=>{"use strict";n.d(t,{f:()=>l,r:()=>o});var i=n(37243),a=n(84548),r=n(30892),s=n(38934);let l=a.Ay.extend({name:"highlight",priority:s.y.Highlight,excludes:"textColor highlight",addAttributes:()=>({variant:{},hex:{}}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),setHighlightColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"mark[class=highlight]"},{tag:"mark[highlight-color]",getAttrs(e){let t=e.getAttribute("highlight-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e,a=n.attrs.hex&&(0,r.$p)(n.attrs.hex),s="var(".concat(a?"--highlight-color-dark":"--highlight-color-light",")"),l=["--highlight-color: ".concat(n.attrs.hex),"color: ".concat(s),"--link-color: ".concat(s),"--link-color-hover:".concat("var(".concat(a?"--highlight-link-color-hover-dark":"--highlight-link-color-hover-light",")"))].join("; ");return["mark",(0,i.KV)(this.options.HTMLAttributes,t,{class:"highlight",style:l})]},renderHTMLforAI(e){let{mark:t}=e;return["mark",{"highlight-color":t.attrs.hex}]}}).configure({multicolor:!0}),o=i.CU.create({name:"textColor",excludes:"highlight textColor",priority:s.y.TextColor,addAttributes:()=>({variant:{},hex:{}}),addCommands(){return{setTextColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"span[class=textColor]"},{tag:"span[text-color]",getAttrs(e){let t=e.getAttribute("text-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e;return["span",(0,i.KV)(t,{class:"textColor",style:n.attrs.hex?"--text-color: ".concat(n.attrs.hex):void 0})]},renderHTMLforAI(e){var t;let{mark:n}=e;return["span",{"text-color":null!=(t=n.attrs.hex)?t:n.attrs.variant}]}})},98026:()=>{},98071:(e,t,n)=>{"use strict";n.d(t,{JH:()=>u,Nu:()=>h,jh:()=>d,kB:()=>p});var i=n(77650),a=n(37243),r=n(21157),s=n.n(r),l=n(52762),o=n(33201),c=n(94922);let d=(e,t)=>{var n,i;let{background:a,fitType:r}=e,{allowFit:s}=(0,c.lH)(t);return s?r||((null==a||null==(i=a.image)||null==(n=i.meta)?void 0:n.has_transparency)?"fit":"fill"):"fill"},u=(e,t)=>{var n;let{allowFit:i}=(0,c.lH)(t);return i&&(null==(n=e.background)?void 0:n.type)===l.h.IMAGE},p=(e,t,n)=>{let i=(0,a.eL)(e.state.doc.resolve(t),o.jg);t&&(n?e.commands.updateAttributesAtPos(t,{background:{type:l.h.NONE}}):(null==i?void 0:i.pos)&&(e.commands.setCardLayout(i.pos,"blank"),e.commands.selectInsideCardBody(i.pos)))},h=e=>"blank"===e?i.Ru._({id:"6JcK6b"}):"behind"===e?i.Ru._({id:"SQOVlA"}):i.Ru._({id:"T8aKxO",values:{0:s()(e)}})},98088:(e,t,n)=>{"use strict";n.d(t,{p:()=>c,z:()=>o});var i=n(58495),a=n(63867),r=n(67200),s=n(50709);let l=new a.hs("UniqueMediaId"),o=()=>(0,i.Ak)(5),c=s.S.extend({name:"UniqueMediaId"}).configure({attributeName:"id",types:["image","embed","video","cardAccentLayoutItem","smartLayoutCell","mediaPlaceholder","cardImageItem"],initialValue:o,filterTransaction:r.kz,pluginKey:l})},98610:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var i=n(6029),a=n(99492),r=n(78294),s=n(35883);let l=(e,t,n)=>(0,i.jsx)(r.b,{currentColor:e,setColor:e=>{t(e,!0),null==n||n()},unsetColor:()=>{t(null,!0),null==n||n()},source:"SmartLayout",showAddColorButton:!1}),o={key:"color",Control:e=>{let{value:t,updateValue:n,editor:a}=e;return(0,i.jsx)(s.a,{color:t,setColor:e=>n(e,!0),editor:a,analyticsSource:"SmartLayout"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:a.fyG,items:[{key:"clear",element:n=>l(e,t,n)}]}),name:()=>"Color"}},98701:(e,t,n)=>{"use strict";n.d(t,{K8:()=>R,i4:()=>D,pt:()=>_});var i=n(55729),a=n(91938);class r extends Error{constructor(e,t){super(e),this.name="StreamError",this.code="stream_error",t&&(this.code=t)}}class s extends r{constructor(e){super(e),this.name="StreamTimeoutError",this.code="timeout"}}class l extends r{constructor(e){super(e),this.name="StreamOnOpenError",this.code="on_open"}}class o extends r{constructor(e){super(e),this.name="StreamUnexpectedCloseError",this.code="unexpected_close"}}var c=n(12562),d=n(5541),u=n(91285);async function p(e,t){let n,i=e.getReader();for(;!(n=await i.read()).done;)t(n.value)}function h(){return{data:"",event:"",id:"",retry:void 0}}let g="text/event-stream",m="last-event-id";function x(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(g)))throw Error("Expected content-type to be ".concat(g,", Actual: ").concat(t))}class f extends u.Rv{constructor(){super({transform:async(e,t)=>{if("error"===e.event)return void t.error(new r("StreamError message received: ".concat(JSON.stringify(e)),e.data));t.enqueue(e)}})}}class b extends Error{constructor(e){super(),this.timeout=e}}let C=e=>c.of.get("aiApiHostEnabled")||!0===c.of.get("aiApiHostPrompts")[e]?a.$.AI_API_HOST:a.$.API_HOST;async function y(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=C(e.promptKey)+"/ai/v2/render-generation",a={"Content-Type":"application/json"};n.traceparent&&(a["aijsx-traceparent"]=n.traceparent);let r={method:"POST",headers:a,body:JSON.stringify(e),signal:null==(t=n.abortController)?void 0:t.signal};return(await w(i,r,n)).result}let v=e=>new Promise(t=>setTimeout(t,e)),w=async(e,t,n)=>{let{timeout:i=null,maxRetries:a=3,retryAttempts:r=0,abortController:s}=n,o=s||new AbortController,c=null;null!=i&&(c=setTimeout(()=>{o.abort()},i));let u=()=>{c&&clearTimeout(c)},p=await (0,d.X)(e,{credentials:"include",...t,signal:o.signal});if(p.ok){let e=await p.json();return u(),e}if(u(),p.status>=400&&p.status<500&&429!==p.status)throw new l("Unable to complete request");if(r++<a){let n=1e3*Math.pow(2,Math.max(r-1,0));return await v(n),w(e,t,{timeout:i,retryAttempts:r,maxRetries:a,abortController:s})}throw Error("Unable to complete request, status="+p.status)};n(33750);var A=n(58495),k=n(63913),L=n(27002);n(53907);let j=(e,t)=>{let n=e.getReader(),i=async()=>{var e,a,r;try{let{done:r,value:s}=await n.read();if(r)null==(a=t.onDone)||a.call(t);else{null==(e=t.onMessage)||e.call(t,s),i();return}}catch(e){null==(r=t.onError)||r.call(t,e instanceof Error?e:Error(e))}};i()};(0,A.d_)("0123456789abcdefghijklmnopqrstuvwxyz",16);let E=(e,t,n)=>{t.skipCapturingErrors||L.of.get("disableAiErrorLogging")||(0,k.EJ)(e,n)};var S=n(17859);class M extends u.Rv{getContent(){return this.content}constructor(e){super({start:()=>{var t;null==(t=e.onStart)||t.call(e)},transform:async(t,n)=>{var i,a,r;"content"===t.event&&(this.content+=t.data,null==(i=e.onContent)||i.call(e,this.content)),"done"===t.event&&(null==(a=e.onComplete)||a.call(e,this.content)),"cancel"===t.event&&(null==(r=e.onCancel)||r.call(e)),n.enqueue(t)},flush(){var t;null==(t=e.onFlush)||t.call(e)}}),this.content=""}}var I=n(6181);let _=(e,t)=>({generate:(0,i.useCallback)(n=>{let{traceparent:i,...a}=n;return D({...a,promptKey:e,opts:{...t,traceparent:i}})},[t,e])}),D=e=>{let{promptKey:t,opts:n,variables:i,interactionId:a,workspaceId:r}=e,{cancel:c,stream:d}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=C(e.promptKey)+"/ai/v2/generation",i={"Content-Type":"application/json"};return t.streamId&&(i["gamma-chat-completion-stream-id"]=t.streamId),t.traceparent&&(i["aijsx-traceparent"]=t.traceparent),function(e,t,n){var i;let a=n.retries||0,r=n.backoff||1e3,c=n.timeout||null,d=null!=(i=n.streamResumingEnabled)&&i,C=0,y=new AbortController,v=!1,w=!1,A=!1,k=null,L=!1,j=()=>r*Math.pow(2,Math.max(C-1,0)),E={};return d&&(E["gamma-stream-resuming-enabled"]="true"),{stream:new u.ZY({async start(n){null!=c&&(k=setTimeout(()=>{L=!0,y.abort(),n.error(new s("Stream timed out after ".concat(c,"ms")))},c));let{headers:i,...r}=t;(function(e,t){let{signal:n,headers:i,onopen:a,onmessage:r,onclose:s,onerror:l,openWhenHidden:o,fetch:c,...d}=t;return new Promise((t,u)=>{let f,b={...i};function C(){f.abort(),document.hidden||L()}b.accept||(b.accept=g),o||document.addEventListener("visibilitychange",C);let y=1e3,v=0;function w(){document.removeEventListener("visibilitychange",C),window.clearTimeout(v),f.abort()}null==n||n.addEventListener("abort",()=>{w(),t()});let A=null!=c?c:window.fetch,k=null!=a?a:x;async function L(){var n,i;f=new AbortController;try{let i,a,l,o,c=await A(e,{...d,headers:b,signal:f.signal});await k(c),await p(c.body,(n=function(e,t,n){let i=h(),a=new TextDecoder,r=!1;return function(s,l){if(0===s.length)null==n||n(i),i=h(),r=!1;else if(l>0){let n=a.decode(s.subarray(0,l)),o=l+(32===s[l+1]?2:1),c=a.decode(s.subarray(o));switch(n){case"data":r?i.data=i.data+"\n"+c:(i.data=c,r=!0);break;case"event":i.event=c;break;case"id":e(i.id=c);break;case"retry":let d=parseInt(c,10);isNaN(d)||t(i.retry=d)}}}}(e=>{e?b[m]=e:delete b[m]},e=>{y=e},r),o=!1,function(e){void 0===i?(i=e,a=0,l=-1):i=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(i,e);let t=i.length,r=0;for(;a<t;){o&&(10===i[a]&&(r=++a),o=!1);let e=-1;for(;a<t&&-1===e;++a)switch(i[a]){case 58:-1===l&&(l=a-r);break;case 13:o=!0;case 10:e=a}if(-1===e)break;n(i.subarray(r,e),l),r=a,l=-1}r===t?i=void 0:0!==r&&(i=i.subarray(r),a-=r)})),null==s||s(),w(),t()}catch(e){if(!f.signal.aborted)try{let t=null!=(i=null==l?void 0:l(e))?i:y;window.clearTimeout(v),v=window.setTimeout(L,t)}catch(e){w(),u(e)}}}L()})})(e,{openWhenHidden:!0,credentials:"include",...r,headers:{...i,...E},signal:y.signal,onopen:async e=>{if(!e.ok||e.headers.get("content-type")!==g)if(e.status>=400&&e.status<500&&429!==e.status)y.abort(),n.error(new l("Unable to complete request"));else if(C++<a&&!v)throw new b(j());else y.abort(),n.error(new l("Unable to complete request"))},onmessage(e){if(A){w||(w=!0,console.log("[AIStream] enqueue cancel event",{...e,event:"cancel",data:""}),n.enqueue({...e,event:"cancel",data:""}),n.close(),y.abort());return}L||(n.enqueue(e),v=!0)},onclose(){k&&(clearTimeout(k),k=null);try{n.close()}catch(e){console.debug("[AIStream] Failed to close stream controller:",e)}},onerror(e){if(e instanceof b){if(A)throw console.error("Stream cancelled - not retrying"),Error("Stream cancelled");return e.timeout}if(e instanceof Error){if(console.error("Uncaught stream error",e),!d)throw e;if(C++<a)return j();throw e}if(v){let e="Stream closed unexpectedly";throw console.error("Uncaught stream error",e),new o(e)}}}).catch(e=>{k&&(clearTimeout(k),k=null),A||n.error(e)})}}).pipeThrough(new f),cancel:()=>{A||(A=!0)}}}(n,{method:"POST",headers:i,body:JSON.stringify(e)},t)}({promptKey:t,variables:i,interactionId:a=a||(0,S.$F)(),workspaceId:r},{timeout:n.timeout,traceparent:n.traceparent}),y=new M(n),v=d.pipeThrough(y);return{cancel:c,promise:new Promise((e,i)=>{j(v,{onError(e){var r;null==(r=n.onError)||r.call(n,e),E(e,n,{customErrorType:"streamJsxGeneration",promptKey:t,interactionId:a}),i(e)},onDone(){e(y.getContent())}})})}},R=e=>{let{promptKey:t,variables:n,interactionId:i,workspaceId:a=(0,I.gx)(),opts:r={}}=e;return y({promptKey:t,interactionId:i=i||(0,S.$F)(),workspaceId:a,variables:n},r)}},98874:(e,t,n)=>{"use strict";n.d(t,{mw:()=>a,rO:()=>s,vG:()=>r});var i=n(77650);let a=15,r=10,s=()=>({sm:{targetColumns:4,label:()=>i.Ru._({id:"4Revpc"}),width:r},md:{targetColumns:3,label:()=>i.Ru._({id:"agPptk"}),width:a},lg:{targetColumns:2,label:()=>i.Ru._({id:"k7rCa/"}),width:20},xl:{targetColumns:1,label:()=>i.Ru._({id:"vp6Yr4"}),width:25}})},98902:(e,t,n)=>{"use strict";n.d(t,{n:()=>c,x:()=>o});var i=n(85158);let a=(e,t,n)=>{let a=t%n||n,r=e%n;if(r>=a)return 0;let s=n*i.m,l=Math.floor(s/a);return r<s%a?l+1:l},r=(e,t)=>{let n=t*i.m;return 0===e?{columnSpan:n,rowStart:1}:{columnSpan:n,rowStart:e-1+2}},s=(e,t,n)=>{let a=n*i.m,r=Math.round(.4*a),s=Math.floor(.3*a);if(r+2*s<a&&(r+=a-r-2*s),0===e)return{columnSpan:r,rowSpan:2,columnStart:s+1,rowStart:1};if(1===e)return{columnSpan:s,rowSpan:3===t?2:1,columnStart:1,rowStart:1};if(2===e)return{columnSpan:s,rowSpan:3===t?2:1,columnStart:s+r+1,rowStart:1};if(3===e)return{columnSpan:s,rowSpan:1,columnStart:1,rowStart:2};if(4===e)return{columnSpan:s,rowSpan:1,columnStart:s+r+1,rowStart:2};let l=e-5,o=Math.floor(l/n)+3,c=l%n,d=Math.min(n,t-5-Math.floor(l/n)*n),u=Math.floor(a/d),p=a%d;return{columnSpan:c<p?u+1:u,columnStart:c<p?c*(u+1)+1:p*(u+1)+(c-p)*u+1,rowStart:o}},l=e=>{let{index:t,numCells:n,columns:a,heroPosition:r}=e,s=a*i.m,l=Math.floor(.5*s),o=s-l;return 0===t?{columnSpan:l,rowSpan:Math.max(1,n-1),columnStart:"left"===r?1:o+1,rowStart:1}:{columnSpan:o,columnStart:"left"===r?l+1:1,rowStart:t-1+1}},o=e=>{let{index:t,numCells:n,columns:o,unevenBehavior:c="center",gridStyle:d="standard",isHorizontal:u=!0}=e,p=Math.floor(t/o);if(p===Math.ceil(n/o)-1&&"flex"===c)return{columnSpan:a(t,n,o)};if("masonry"===d&&u){let e=o*i.m,n=Math.floor(2*e/3),a=t%o;return{columnSpan:(p%2==1?a%2==1:a%2==0)?n:e-n}}if(d.includes("hero")){if(!u)return r(t,o);if("hero_center"===d)return s(t,n,o);if("hero_left"===d)return l({index:t,numCells:n,columns:o,heroPosition:"left"});if("hero_right"===d)return l({index:t,numCells:n,columns:o,heroPosition:"right"})}return{columnSpan:i.m}},c=e=>{let{gridStyle:t,isHorizontal:n,columns:a,rowGap:r,columnGap:s}=e,l=(null==t?void 0:t.includes("hero"))&&n;return n?{columns:a*i.m,rowGap:r,columnGap:s,...l&&{autoRows:"1fr"}}:{columns:+i.m,rowGap:r}}},98968:(e,t,n)=>{"use strict";n.d(t,{G_:()=>m,HI:()=>j,IG:()=>C,Im:()=>v,NZ:()=>f,Pb:()=>g,hk:()=>I,jG:()=>E,ni:()=>b,qK:()=>x,tz:()=>k,w5:()=>M,wG:()=>A,yL:()=>y,yg:()=>w});var i=n(37243),a=n(94289);n(55729);var r=n(89703),s=n(17928),l=n(73014),o=n(15607),c=n(67864),d=n(47665),u=n(45943),p=n(36145),h=n(50861);let g=e=>"gallery"===e.type.name,m=e=>(0,i.eL)(e,g),x=e=>!!m(e),f=e=>{let{decorations:t}=e;return t.some(e=>e.spec.inGallery)},b=e=>{let{decorations:t}=e;return t.some(e=>"grid"===e.spec.layout)},C=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbHeight))?void 0:t.spec.thumbHeight},y=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbSpacing))?void 0:t.spec.thumbSpacing},v=e=>{let{decorations:t}=e;return t.some(e=>"logo"===e.spec.layout)},w=e=>{var t;let{decorations:n}=e,i=null==(t=n.find(e=>e.spec.children))?void 0:t.spec.children;return i?(0,o.F2)(i):[]},A=e=>{let t=(0,c.rV)(e.$from);t&&!(0,d.jg)(t.node)?s.LF.emit(s.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:t.pos,text:(0,l.Lo)(e.node)}):s.LF.emit(s.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:e.from,text:(0,l.Lo)(e.node)})},k=(e,t,n,i)=>{let a,r;if(n&&!L(n,e.state.schema))return null;let s=e.posAtCoords({left:t.clientX,top:t.clientY});if(!s)return null;let{doc:l}=e.state,{pos:c}=s,d=l.resolve(c),u=m(d);if(u&&u.node.childCount>0)c=s.pos,(a=(0,o.q0)(c,e))||c!=u.pos+u.node.nodeSize-1||(c-=1,a=(0,o.q0)(c,e)),r=u.node;else{c=s.inside;try{r=l.resolve(c).nodeAfter}catch(e){return null}if(!r||!(0,h.Bv)(r)||r==(null==n?void 0:n.content.firstChild)||i)return null;let t=d.parent;if(t&&!S(e.state.schema,t))return null;if("image"===r.type.name){var p;let t=e.nodeDOM(c);a=null==t||null==(p=t.querySelector("[data-node-image-testid]"))?void 0:p.getBoundingClientRect()}else a=(0,o.q0)(c,e)}if(!a)return null;let g=t.clientX-a.left,x=a.right-t.clientX,f=g>x?"right":"left";return("left"==f?g<0:x<0)&&!u?null:{pos:c,side:f,rect:a,node:r}},L=(e,t)=>e.content.size>0&&t.nodes.gallery.validContent(e.content),j=(e,t)=>{var n;let i=null==(n=e.dragging)?void 0:n.slice;if(!i){let e=[...t.dataTransfer.items];return e.length>0&&e.every(e=>e.type.startsWith("image/"))}return L(i,e.state.schema)},E=(e,t,n)=>{let i=(0,p.dM)(n,t);return(0,u.kf)(t)||L(t,e)||i&&i.length>0},S=(e,t)=>{let n=e.nodes[t.type.name];return!!n&&n.validContent(a.FK.fromJSON(e,[{type:"gallery",content:[]}]))},M=(e,t)=>"calc(".concat(.25*e,"em + ").concat(t,"em)"),I=(e,t)=>{try{var n;let i=e();if("number"!=typeof i)return;let a=t.state.doc.nodeAt(i);if(!a)return;let s=null==(n=a.lastChild)?void 0:n.attrs.source,l=i+(null==a?void 0:a.nodeSize)-1;t.chain().insertContentAt(l,{type:"mediaPlaceholder",attrs:{source:s||"image.custom"}}).run(),setTimeout(()=>{t.commands.focus(),t.commands.setNodeSelection(l),(0,r.G)()})}catch(e){console.error("(caught) [GalleryView] addImage",e)}}},99038:(e,t,n)=>{"use strict";n.d(t,{$_:()=>p,AR:()=>h,Ft:()=>l,Gg:()=>A,H9:()=>x,Hh:()=>i,Ix:()=>d,Kc:()=>m,LS:()=>r,MI:()=>a,Ol:()=>s,On:()=>o,PS:()=>y,TP:()=>c,Uq:()=>b,X4:()=>v,kO:()=>C,qV:()=>w,uz:()=>u,v$:()=>g,v2:()=>f});let i="Gamma Business",a="Gamma Team",r="Gamma Ultra",s="Gamma Pro",l="Gamma Plus",o="Gamma",c="gamma",d="gammas",u="support@gamma.app",p="Business",h="Team",g="Ultra",m="Pro",x="Plus",f="Free",b="Flux",C="Google",y="OpenAI",v="Ideogram",w="Agent",A="Gamma Agent"},99195:(e,t,n)=>{"use strict";n.d(t,{M:()=>k});var i=n(6029),a=n(68917),r=n(78140),s=n(36999),l=n(49611),o=n(41283),c=n(37930),d=n(48478),u=n(58959),p=n(26420),h=n(77650),g=n(55729),m=n(33612),x=n.n(m),f=n(62452),b=n(94297);let C=(e,t,n)=>{let i=(0,f.CD)(e),a=[],r=t?i:[i[0]].filter(Boolean);if(r.length>0&&r.forEach((e,t)=>{let i=(0,f.Ik)(e);a.push({key:0===t?"monochrome":"monochrome-".concat(t+1),label:()=>0===t?h.Ru._({id:"VvdC4u"}):h.Ru._({id:"oC5JOi",values:{monochromeNumber:t+1}}),scale:(0,b.M9)(i,n,"monochrome")})}),t&&i.length<=1){let e=+(i.length>0);b.Cf.forEach((t,i)=>{let r=e+i,s=0===r?"monochrome":"monochrome-".concat(r+1),l=r+1;a.some(e=>e.key===s)||a.push({key:s,label:()=>0===r?h.Ru._({id:"VvdC4u"}):h.Ru._({id:"oC5JOi",values:{monochromeNumber:l}}),scale:(0,b.M9)(t,n,"monochrome")})})}return a};var y=n(12180),v=n(27002),w=n(25778),A=n(43634);let k=e=>{let{accentColor:t,selected:n,onChange:p,steps:m=5,menuButton:k}=e,j=(0,w.GV)(A.SJ),E=(0,f.CD)(j),S=Array(m).fill(0).map((e,t)=>t),M=(0,v.u)("useNewChartingColorSet"),I=(0,y.SM)(M),_=(0,g.useMemo)(()=>(function(e){let{chartColorSchemes:t,useNewChartingColorSet:n,themeAccentColors:i,steps:a=5,theme:r,accentColor:s}=e,l={},o=Array(a).fill(0).map((e,t)=>t);return Object.entries(t).filter(e=>{let[t]=e;return"monochrome"!==t&&("theme"!==t||n&&i.length>=3)}).forEach(e=>{let[t,{label:n}]=e;l[t]={label:n,scale:(0,b.M9)(s,o,t,{theme:r})}}),C(r,n,o).forEach(e=>{l[e.key]={label:e.label,scale:e.scale}}),l})({chartColorSchemes:I,useNewChartingColorSet:M,themeAccentColors:E,steps:m,theme:j,accentColor:t}),[t,E,j,M,I,m]);n&&!_[n]&&(n=void 0);let D=h.Ru._({id:"ovBPCi"});return(0,i.jsxs)(r.W,{isLazy:!0,children:[k||(0,i.jsx)(s.I,{as:l.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"start",rightIcon:(0,i.jsx)(a.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:n?_[n].label():D}),(0,i.jsx)(o.c,{zIndex:"modalPopover",maxH:"200px",overflowY:"auto",children:(0,i.jsx)(c.i,{value:n||"default",type:"radio",onChange:e=>{p("default"===e?void 0:e)},children:Object.entries({default:{..._[y.gb],label:()=>D},..._}).sort((e,t)=>{let[n]=e,[i]=t,a=e=>"default"===e?0:"theme"===e?1:"monochrome"===e?2:e.startsWith("monochrome-")?2+parseInt(e.split("-")[1],10)/100:"alternating"===e?3:"spin"===e?4:"complement"===e?5:"complement2"===e?6:999;return a(n)-a(i)}).map(e=>{let[a,{label:r,scale:s}]=e;return 1.5>[...s.values()].map(e=>x().readability(e,t)).reduce((e,t)=>Math.max(e,t),0)&&a!==n?null:(0,i.jsx)(d.k,{value:a,children:(0,i.jsx)(u.z,{children:(0,i.jsx)(L,{scale:s,data:S})})},a)})})})]})},L=e=>{let{scale:t,data:n}=e;return(0,i.jsx)(u.z,{spacing:0,borderRadius:"md",overflow:"hidden",children:n.map(e=>{var n;return(0,i.jsx)(p.a,{bg:null!=(n=t.get(e))?n:"black",width:9,height:5},e)})})}},99923:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,k:()=>a});let i="fromInnerEditor",a="fromOuterEditor"}}]);
//# sourceMappingURL=6717-8e82f1d8192d8cd2.js.map